(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function WT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hp={exports:{}},Tc={};var O1;function wR(){if(O1)return Tc;O1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Tc.Fragment=e,Tc.jsx=n,Tc.jsxs=n,Tc}var P1;function TR(){return P1||(P1=1,Hp.exports=wR()),Hp.exports}var g=TR(),qp={exports:{}},Ie={};var L1;function ER(){if(L1)return Ie;L1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,P={};function B(U,te,ue){this.props=U,this.context=te,this.refs=P,this.updater=ue||M}B.prototype.isReactComponent={},B.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},B.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=B.prototype;function K(U,te,ue){this.props=U,this.context=te,this.refs=P,this.updater=ue||M}var J=K.prototype=new F;J.constructor=K,L(J,B.prototype),J.isPureReactComponent=!0;var ee=Array.isArray;function re(){}var I={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function C(U,te,ue){var de=ue.ref;return{$$typeof:t,type:U,key:te,ref:de!==void 0?de:null,props:ue}}function j(U,te){return C(U.type,te,U.props)}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function V(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return te[ue]})}var D=/\/+/g;function we(U,te){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):te.toString(36)}function Pe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(re,re):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Q(U,te,ue,de,Te){var Re=typeof U;(Re==="undefined"||Re==="boolean")&&(U=null);var le=!1;if(U===null)le=!0;else switch(Re){case"bigint":case"string":case"number":le=!0;break;case"object":switch(U.$$typeof){case t:case e:le=!0;break;case v:return le=U._init,Q(le(U._payload),te,ue,de,Te)}}if(le)return Te=Te(U),le=de===""?"."+we(U,0):de,ee(Te)?(ue="",le!=null&&(ue=le.replace(D,"$&/")+"/"),Q(Te,te,ue,"",function(Yt){return Yt})):Te!=null&&(R(Te)&&(Te=j(Te,ue+(Te.key==null||U&&U.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+le)),te.push(Te)),1;le=0;var Ce=de===""?".":de+":";if(ee(U))for(var Le=0;Le<U.length;Le++)de=U[Le],Re=Ce+we(de,Le),le+=Q(de,te,ue,Re,Te);else if(Le=A(U),typeof Le=="function")for(U=Le.call(U),Le=0;!(de=U.next()).done;)de=de.value,Re=Ce+we(de,Le++),le+=Q(de,te,ue,Re,Te);else if(Re==="object"){if(typeof U.then=="function")return Q(Pe(U),te,ue,de,Te);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return le}function oe(U,te,ue){if(U==null)return U;var de=[],Te=0;return Q(U,de,"","",function(Re){return te.call(ue,Re,Te++)}),de}function fe(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var Ae=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ve={map:oe,forEach:function(U,te,ue){oe(U,function(){te.apply(this,arguments)},ue)},count:function(U){var te=0;return oe(U,function(){te++}),te},toArray:function(U){return oe(U,function(te){return te})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ie.Activity=b,Ie.Children=Ve,Ie.Component=B,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=K,Ie.StrictMode=i,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},Ie.cache=function(U){return function(){return U.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(U,te,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var de=L({},U.props),Te=U.key;if(te!=null)for(Re in te.key!==void 0&&(Te=""+te.key),te)!E.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(de[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)de.children=ue;else if(1<Re){for(var le=Array(Re),Ce=0;Ce<Re;Ce++)le[Ce]=arguments[Ce+2];de.children=le}return C(U.type,Te,de)},Ie.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ie.createElement=function(U,te,ue){var de,Te={},Re=null;if(te!=null)for(de in te.key!==void 0&&(Re=""+te.key),te)E.call(te,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=te[de]);var le=arguments.length-2;if(le===1)Te.children=ue;else if(1<le){for(var Ce=Array(le),Le=0;Le<le;Le++)Ce[Le]=arguments[Le+2];Te.children=Ce}if(U&&U.defaultProps)for(de in le=U.defaultProps,le)Te[de]===void 0&&(Te[de]=le[de]);return C(U,Re,Te)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(U){return{$$typeof:d,render:U}},Ie.isValidElement=R,Ie.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:fe}},Ie.memo=function(U,te){return{$$typeof:p,type:U,compare:te===void 0?null:te}},Ie.startTransition=function(U){var te=I.T,ue={};I.T=ue;try{var de=U(),Te=I.S;Te!==null&&Te(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(re,Ae)}catch(Re){Ae(Re)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),I.T=te}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(U){return I.H.use(U)},Ie.useActionState=function(U,te,ue){return I.H.useActionState(U,te,ue)},Ie.useCallback=function(U,te){return I.H.useCallback(U,te)},Ie.useContext=function(U){return I.H.useContext(U)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(U,te){return I.H.useDeferredValue(U,te)},Ie.useEffect=function(U,te){return I.H.useEffect(U,te)},Ie.useEffectEvent=function(U){return I.H.useEffectEvent(U)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(U,te,ue){return I.H.useImperativeHandle(U,te,ue)},Ie.useInsertionEffect=function(U,te){return I.H.useInsertionEffect(U,te)},Ie.useLayoutEffect=function(U,te){return I.H.useLayoutEffect(U,te)},Ie.useMemo=function(U,te){return I.H.useMemo(U,te)},Ie.useOptimistic=function(U,te){return I.H.useOptimistic(U,te)},Ie.useReducer=function(U,te,ue){return I.H.useReducer(U,te,ue)},Ie.useRef=function(U){return I.H.useRef(U)},Ie.useState=function(U){return I.H.useState(U)},Ie.useSyncExternalStore=function(U,te,ue){return I.H.useSyncExternalStore(U,te,ue)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.4",Ie}var U1;function R0(){return U1||(U1=1,qp.exports=ER()),qp.exports}var k=R0();const JT=WT(k);var Gp={exports:{}},Ec={},$p={exports:{}},Kp={};var z1;function SR(){return z1||(z1=1,(function(t){function e(Q,oe){var fe=Q.length;Q.push(oe);e:for(;0<fe;){var Ae=fe-1>>>1,Ve=Q[Ae];if(0<a(Ve,oe))Q[Ae]=oe,Q[fe]=Ve,fe=Ae;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var oe=Q[0],fe=Q.pop();if(fe!==oe){Q[0]=fe;e:for(var Ae=0,Ve=Q.length,U=Ve>>>1;Ae<U;){var te=2*(Ae+1)-1,ue=Q[te],de=te+1,Te=Q[de];if(0>a(ue,fe))de<Ve&&0>a(Te,ue)?(Q[Ae]=Te,Q[de]=fe,Ae=de):(Q[Ae]=ue,Q[te]=fe,Ae=te);else if(de<Ve&&0>a(Te,fe))Q[Ae]=Te,Q[de]=fe,Ae=de;else break e}}return oe}function a(Q,oe){var fe=Q.sortIndex-oe.sortIndex;return fe!==0?fe:Q.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],p=[],v=1,b=null,w=3,A=!1,M=!1,L=!1,P=!1,B=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function J(Q){for(var oe=n(p);oe!==null;){if(oe.callback===null)i(p);else if(oe.startTime<=Q)i(p),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(p)}}function ee(Q){if(L=!1,J(Q),!M)if(n(m)!==null)M=!0,re||(re=!0,V());else{var oe=n(p);oe!==null&&Pe(ee,oe.startTime-Q)}}var re=!1,I=-1,E=5,C=-1;function j(){return P?!0:!(t.unstable_now()-C<E)}function R(){if(P=!1,re){var Q=t.unstable_now();C=Q;var oe=!0;try{e:{M=!1,L&&(L=!1,F(I),I=-1),A=!0;var fe=w;try{t:{for(J(Q),b=n(m);b!==null&&!(b.expirationTime>Q&&j());){var Ae=b.callback;if(typeof Ae=="function"){b.callback=null,w=b.priorityLevel;var Ve=Ae(b.expirationTime<=Q);if(Q=t.unstable_now(),typeof Ve=="function"){b.callback=Ve,J(Q),oe=!0;break t}b===n(m)&&i(m),J(Q)}else i(m);b=n(m)}if(b!==null)oe=!0;else{var U=n(p);U!==null&&Pe(ee,U.startTime-Q),oe=!1}}break e}finally{b=null,w=fe,A=!1}oe=void 0}}finally{oe?V():re=!1}}}var V;if(typeof K=="function")V=function(){K(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,we=D.port2;D.port1.onmessage=R,V=function(){we.postMessage(null)}}else V=function(){B(R,0)};function Pe(Q,oe){I=B(function(){Q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var fe=w;w=oe;try{return Q()}finally{w=fe}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=w;w=Q;try{return oe()}finally{w=fe}},t.unstable_scheduleCallback=function(Q,oe,fe){var Ae=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ae+fe:Ae):fe=Ae,Q){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=fe+Ve,Q={id:v++,callback:oe,priorityLevel:Q,startTime:fe,expirationTime:Ve,sortIndex:-1},fe>Ae?(Q.sortIndex=fe,e(p,Q),n(m)===null&&Q===n(p)&&(L?(F(I),I=-1):L=!0,Pe(ee,fe-Ae))):(Q.sortIndex=Ve,e(m,Q),M||A||(M=!0,re||(re=!0,V()))),Q},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(Q){var oe=w;return function(){var fe=w;w=oe;try{return Q.apply(this,arguments)}finally{w=fe}}}})(Kp)),Kp}var B1;function AR(){return B1||(B1=1,$p.exports=SR()),$p.exports}var Yp={exports:{}},ln={};var F1;function CR(){if(F1)return ln;F1=1;var t=R0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},ln.flushSync=function(m){var p=u.T,v=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=v,i.d.f()}},ln.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},ln.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},ln.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:A}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ln.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},ln.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ln.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},ln.requestFormReset=function(m){i.d.r(m)},ln.unstable_batchedUpdates=function(m,p){return m(p)},ln.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var H1;function NR(){if(H1)return Yp.exports;H1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yp.exports=CR(),Yp.exports}var q1;function RR(){if(q1)return Ec;q1=1;var t=AR(),e=R0(),n=NR();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var f=o.return;if(f===null)break;var y=f.alternate;if(y===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===o)return m(f),s;if(y===c)return m(f),r;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=f,c=y;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,c=y;break}if(S===c){_=!0,c=f,o=y;break}S=S.sibling}if(!_){for(S=y.child;S;){if(S===o){_=!0,o=y,c=f;break}if(S===c){_=!0,c=y,o=f;break}S=S.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),K=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=R&&s[R]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function we(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case B:return"Profiler";case P:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case K:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case J:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return r=s.displayName||null,r!==null?r:we(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return we(s(r))}catch{}}return null}var Pe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ae=[],Ve=-1;function U(s){return{current:s}}function te(s){0>Ve||(s.current=Ae[Ve],Ae[Ve]=null,Ve--)}function ue(s,r){Ve++,Ae[Ve]=s.current,s.current=r}var de=U(null),Te=U(null),Re=U(null),le=U(null);function Ce(s,r){switch(ue(Re,r),ue(Te,s),ue(de,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?r1(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=r1(r),s=a1(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(de),ue(de,s)}function Le(){te(de),te(Te),te(Re)}function Yt(s){s.memoizedState!==null&&ue(le,s);var r=de.current,o=a1(r,s.type);r!==o&&(ue(Te,s),ue(de,o))}function Rs(s){Te.current===s&&(te(de),te(Te)),le.current===s&&(te(le),bc._currentValue=fe)}var oi,li;function Qt(s){if(oi===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);oi=r&&r[1]||"",li=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oi+s+li}var os=!1;function Yr(s,r){if(!s||os)return"";os=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Y=W}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(W){Y=W}s.call(ie.prototype)}}else{try{throw Error()}catch(W){Y=W}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),_=y[0],S=y[1];if(_&&S){var O=_.split(`
`),$=S.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===$.length)for(c=O.length-1,f=$.length-1;1<=c&&0<=f&&O[c]!==$[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==$[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==$[f]){var Z=`
`+O[c].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=c&&0<=f);break}}}finally{os=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Qt(o):""}function xl(s,r){switch(s.tag){case 26:case 27:case 5:return Qt(s.type);case 16:return Qt("Lazy");case 13:return s.child!==r&&r!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return Yr(s.type,!1);case 11:return Yr(s.type.render,!1);case 1:return Yr(s.type,!0);case 31:return Qt("Activity");default:return""}}function _l(s){try{var r="",o=null;do r+=xl(s,o),o=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var At=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,$i=t.unstable_cancelCallback,Gf=t.unstable_shouldYield,Su=t.unstable_requestPaint,pn=t.unstable_now,Qr=t.unstable_getCurrentPriorityLevel,wl=t.unstable_ImmediatePriority,Tl=t.unstable_UserBlockingPriority,Ki=t.unstable_NormalPriority,$f=t.unstable_LowPriority,Au=t.unstable_IdlePriority,Cu=t.log,Nu=t.unstable_setDisableYieldValue,ls=null,Xt=null;function Bn(s){if(typeof Cu=="function"&&Nu(s),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ls,s)}catch{}}var _t=Math.clz32?Math.clz32:ku,Ru=Math.log,qa=Math.LN2;function ku(s){return s>>>=0,s===0?32:31-(Ru(s)/qa|0)|0}var ks=256,Xr=262144,Ct=4194304;function Is(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ds(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?f=Is(c):(_&=S,_!==0?f=Is(_):o||(o=S&~s,o!==0&&(f=Is(o))))):(S=c&~y,S!==0?f=Is(S):_!==0?f=Is(_):o||(o=c&~s,o!==0&&(f=Is(o)))),f===0?0:r!==0&&r!==f&&(r&y)===0&&(y=f&-f,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:f}function cs(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Kf(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var s=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),s}function js(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Wr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Yf(s,r,o,c,f,y){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,O=s.expirationTimes,$=s.hiddenUpdates;for(o=_&~o;0<o;){var Z=31-_t(o),ie=1<<Z;S[Z]=0,O[Z]=-1;var Y=$[Z];if(Y!==null)for($[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}o&=~ie}c!==0&&Jr(s,c,0),y!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~r))}function Jr(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-_t(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function El(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-_t(o),f=1<<c;f&r|s[c]&r&&(s[c]|=r),o&=~f}}function Sl(s,r){var o=r&-r;return o=(o&42)!==0?1:Zr(o),(o&(s.suspendedLanes|r))!==0?0:o}function Zr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ci(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Du(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:R1(s.type))}function us(s,r){var o=oe.p;try{return oe.p=s,r()}finally{oe.p=o}}var hs=Math.random().toString(36).slice(2),Nt="__reactFiber$"+hs,Ht="__reactProps$"+hs,Ms="__reactContainer$"+hs,Ga="__reactEvents$"+hs,Qf="__reactListeners$"+hs,ju="__reactHandles$"+hs,Mu="__reactResources$"+hs,Vs="__reactMarker$"+hs;function $a(s){delete s[Nt],delete s[Ht],delete s[Ga],delete s[Qf],delete s[ju]}function Os(s){var r=s[Nt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Ms]||o[Nt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=f1(s);s!==null;){if(o=s[Nt])return o;s=f1(s)}return r}s=o,o=s.parentNode}return null}function Fn(s){if(s=s[Nt]||s[Ms]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function kn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ps(s){var r=s[Mu];return r||(r=s[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(s){s[Vs]=!0}var Al=new Set,Cl={};function Ls(s,r){Us(s,r),Us(s+"Capture",r)}function Us(s,r){for(Cl[s]=r,s=0;s<r.length;s++)Al.add(r[s])}var Nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},kl={};function Vu(s){return At.call(kl,s)?!0:At.call(Rl,s)?!1:Nl.test(s)?kl[s]=!0:(Rl[s]=!0,!1)}function Ka(s,r,o){if(Vu(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function In(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function kt(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function qt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Yi(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Il(s,r,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,y=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Ze(s){if(!s._valueTracker){var r=Yi(s)?"checked":"value";s._valueTracker=Il(s,r,""+s[r])}}function ea(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=Yi(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ta=/[\n"\\]/g;function xn(s){return s.replace(ta,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ya(s,r,o,c,f,y,_,S){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+qt(r)):s.value!==""+qt(r)&&(s.value=""+qt(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?Dl(s,_,qt(r)):o!=null?Dl(s,_,qt(o)):c!=null&&s.removeAttribute("value"),f==null&&y!=null&&(s.defaultChecked=!!y),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+qt(S):s.removeAttribute("name")}function Ou(s,r,o,c,f,y,_,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Ze(s);return}o=o!=null?""+qt(o):"",r=r!=null?""+qt(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),Ze(s)}function Dl(s,r,o){r==="number"&&zs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Qi(s,r,o,c){if(s=s.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<s.length;o++)f=r.hasOwnProperty("$"+s[o].value),s[o].selected!==f&&(s[o].selected=f),f&&c&&(s[o].defaultSelected=!0)}else{for(o=""+qt(o),r=null,f=0;f<s.length;f++){if(s[f].value===o){s[f].selected=!0,c&&(s[f].defaultSelected=!0);return}r!==null||s[f].disabled||(r=s[f])}r!==null&&(r.selected=!0)}}function Pu(s,r,o){if(r!=null&&(r=""+qt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+qt(o):""}function Xi(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(Pe(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=qt(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),Ze(s)}function _n(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||Lu.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Ml(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&jl(s,f,c)}else for(var y in r)r.hasOwnProperty(y)&&jl(s,y,r[y])}function Qa(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(s){return Wi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ds(){}var Vl=null;function Hn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ji=null,Bs=null;function na(s){var r=Fn(s);if(r&&(s=r.stateNode)){var o=s[Ht]||null;e:switch(s=r.stateNode,r.type){case"input":if(Ya(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var f=c[Ht]||null;if(!f)throw Error(i(90));Ya(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&ea(c)}break e;case"textarea":Pu(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Qi(s,!!o.multiple,r,!1)}}}var Wa=!1;function Zi(s,r,o){if(Wa)return s(r,o);Wa=!0;try{var c=s(r);return c}finally{if(Wa=!1,(Ji!==null||Bs!==null)&&(Dh(),Ji&&(r=Ji,s=Bs,Bs=Ji=null,na(r),s)))for(r=0;r<s.length;r++)na(s[r])}}function fs(s,r){var o=s.stateNode;if(o===null)return null;var c=o[Ht]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(qn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){sa=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{sa=!1}var Fs=null,Ol=null,ia=null;function Pl(){if(ia)return ia;var s,r=Ol,o=r.length,c,f="value"in Fs?Fs.value:Fs.textContent,y=f.length;for(s=0;s<o&&r[s]===f[s];s++);var _=o-s;for(c=1;c<=_&&r[o-c]===f[y-c];c++);return ia=f.slice(s,1<c?1-c:void 0)}function ra(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ui(){return!0}function ms(){return!1}function Wt(s){function r(o,c,f,y,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ui:ms,this.isPropagationStopped=ms,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),r}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Wt(hi),er=b({},hi,{view:0,detail:0}),Ll=Wt(er),tr,Ja,qs,Za=b({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qs&&(qs&&s.type==="mousemove"?(tr=s.screenX-qs.screenX,Ja=s.screenY-qs.screenY):Ja=tr=0,qs=s),tr)},movementY:function(s){return"movementY"in s?s.movementY:Ja}}),Ul=Wt(Za),aa=b({},Za,{dataTransfer:0}),zu=Wt(aa),Bu=b({},er,{relatedTarget:0}),oa=Wt(Bu),zl=b({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=Wt(zl),eo=b({},hi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hu=Wt(eo),qu=b({},hi,{data:0}),Gs=Wt(qu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Ku[s])?!!r[s]:!1}function nr(){return Yu}var gn=b({},er,{key:function(s){if(s.key){var r=Gu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ra(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$u[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(s){return s.type==="keypress"?ra(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ra(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qu=Wt(gn),Xu=b({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),di=Wt(Xu),h=b({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),x=Wt(h),T=b({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=Wt(T),q=b({},Za,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Wt(q),ce=b({},hi,{newState:0,oldState:0}),je=Wt(ce),wt=[9,13,27,32],Xe=qn&&"CompositionEvent"in window,dt=null;qn&&"documentMode"in document&&(dt=document.documentMode);var Gn=qn&&"TextEvent"in window&&!dt,$s=qn&&(!Xe||dt&&8<dt&&11>=dt),ps=" ",gs=!1;function la(s,r){switch(s){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function to(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var no=!1;function $C(s,r){switch(s){case"compositionend":return to(r);case"keypress":return r.which!==32?null:(gs=!0,ps);case"textInput":return s=r.data,s===ps&&gs?null:s;default:return null}}function KC(s,r){if(no)return s==="compositionend"||!Xe&&la(s,r)?(s=Pl(),ia=Ol=Fs=null,no=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $s&&r.locale!=="ko"?null:r.data;default:return null}}var YC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!YC[s.type]:r==="textarea"}function yv(s,r,o,c){Ji?Bs?Bs.push(c):Bs=[c]:Ji=c,r=Uh(r,"onChange"),0<r.length&&(o=new Hs("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var Bl=null,Fl=null;function QC(s){Zx(s,0)}function Wu(s){var r=kn(s);if(ea(r))return s}function vv(s,r){if(s==="change")return r}var bv=!1;if(qn){var Xf;if(qn){var Wf="oninput"in document;if(!Wf){var xv=document.createElement("div");xv.setAttribute("oninput","return;"),Wf=typeof xv.oninput=="function"}Xf=Wf}else Xf=!1;bv=Xf&&(!document.documentMode||9<document.documentMode)}function _v(){Bl&&(Bl.detachEvent("onpropertychange",wv),Fl=Bl=null)}function wv(s){if(s.propertyName==="value"&&Wu(Fl)){var r=[];yv(r,Fl,s,Hn(s)),Zi(QC,r)}}function XC(s,r,o){s==="focusin"?(_v(),Bl=r,Fl=o,Bl.attachEvent("onpropertychange",wv)):s==="focusout"&&_v()}function WC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wu(Fl)}function JC(s,r){if(s==="click")return Wu(r)}function ZC(s,r){if(s==="input"||s==="change")return Wu(r)}function eN(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Dn=typeof Object.is=="function"?Object.is:eN;function Hl(s,r){if(Dn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!At.call(r,f)||!Dn(s[f],r[f]))return!1}return!0}function Tv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ev(s,r){var o=Tv(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Tv(o)}}function Sv(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Sv(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Av(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=zs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=zs(s.document)}return r}function Jf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var tN=qn&&"documentMode"in document&&11>=document.documentMode,so=null,Zf=null,ql=null,em=!1;function Cv(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;em||so==null||so!==zs(c)||(c=so,"selectionStart"in c&&Jf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ql&&Hl(ql,c)||(ql=c,c=Uh(Zf,"onSelect"),0<c.length&&(r=new Hs("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=so)))}function ca(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var io={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},tm={},Nv={};qn&&(Nv=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ua(s){if(tm[s])return tm[s];if(!io[s])return s;var r=io[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Nv)return tm[s]=r[o];return s}var Rv=ua("animationend"),kv=ua("animationiteration"),Iv=ua("animationstart"),nN=ua("transitionrun"),sN=ua("transitionstart"),iN=ua("transitioncancel"),Dv=ua("transitionend"),jv=new Map,nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nm.push("scrollEnd");function ys(s,r){jv.set(s,r),Ls(r,[s])}var Ju=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},$n=[],ro=0,sm=0;function Zu(){for(var s=ro,r=sm=ro=0;r<s;){var o=$n[r];$n[r++]=null;var c=$n[r];$n[r++]=null;var f=$n[r];$n[r++]=null;var y=$n[r];if($n[r++]=null,c!==null&&f!==null){var _=c.pending;_===null?f.next=f:(f.next=_.next,_.next=f),c.pending=f}y!==0&&Mv(o,f,y)}}function eh(s,r,o,c){$n[ro++]=s,$n[ro++]=r,$n[ro++]=o,$n[ro++]=c,sm|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function im(s,r,o,c){return eh(s,r,o,c),th(s)}function ha(s,r){return eh(s,null,null,r),th(s)}function Mv(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var f=!1,y=s.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(f=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,f&&r!==null&&(f=31-_t(o),s=y.hiddenUpdates,c=s[f],c===null?s[f]=[r]:c.push(r),r.lane=o|536870912),y):null}function th(s){if(50<dc)throw dc=0,fp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ao={};function rN(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(s,r,o,c){return new rN(s,r,o,c)}function rm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fi(s,r){var o=s.alternate;return o===null?(o=jn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Vv(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function nh(s,r,o,c,f,y){var _=0;if(c=s,typeof s=="function")rm(s)&&(_=1);else if(typeof s=="string")_=uR(s,o,de.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=jn(31,o,r,f),s.elementType=C,s.lanes=y,s;case L:return da(o.children,f,y,r);case P:_=8,f|=24;break;case B:return s=jn(12,o,r,f|2),s.elementType=B,s.lanes=y,s;case ee:return s=jn(13,o,r,f),s.elementType=ee,s.lanes=y,s;case re:return s=jn(19,o,r,f),s.elementType=re,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:_=10;break e;case F:_=9;break e;case J:_=11;break e;case I:_=14;break e;case E:_=16,c=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=jn(_,o,r,f),r.elementType=s,r.type=c,r.lanes=y,r}function da(s,r,o,c){return s=jn(7,s,c,r),s.lanes=o,s}function am(s,r,o){return s=jn(6,s,null,r),s.lanes=o,s}function Ov(s){var r=jn(18,null,null,0);return r.stateNode=s,r}function om(s,r,o){return r=jn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Pv=new WeakMap;function Kn(s,r){if(typeof s=="object"&&s!==null){var o=Pv.get(s);return o!==void 0?o:(r={value:s,source:r,stack:_l(r)},Pv.set(s,r),r)}return{value:s,source:r,stack:_l(r)}}var oo=[],lo=0,sh=null,Gl=0,Yn=[],Qn=0,sr=null,Ks=1,Ys="";function mi(s,r){oo[lo++]=Gl,oo[lo++]=sh,sh=s,Gl=r}function Lv(s,r,o){Yn[Qn++]=Ks,Yn[Qn++]=Ys,Yn[Qn++]=sr,sr=s;var c=Ks;s=Ys;var f=32-_t(c)-1;c&=~(1<<f),o+=1;var y=32-_t(r)+f;if(30<y){var _=f-f%5;y=(c&(1<<_)-1).toString(32),c>>=_,f-=_,Ks=1<<32-_t(r)+f|o<<f|c,Ys=y+s}else Ks=1<<y|o<<f|c,Ys=s}function lm(s){s.return!==null&&(mi(s,1),Lv(s,1,0))}function cm(s){for(;s===sh;)sh=oo[--lo],oo[lo]=null,Gl=oo[--lo],oo[lo]=null;for(;s===sr;)sr=Yn[--Qn],Yn[Qn]=null,Ys=Yn[--Qn],Yn[Qn]=null,Ks=Yn[--Qn],Yn[Qn]=null}function Uv(s,r){Yn[Qn++]=Ks,Yn[Qn++]=Ys,Yn[Qn++]=sr,Ks=r.id,Ys=r.overflow,sr=s}var Jt=null,ct=null,$e=!1,ir=null,Xn=!1,um=Error(i(519));function rr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Kn(r,s)),um}function zv(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Nt]=s,r[Ht]=c,o){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(o=0;o<mc.length;o++)ze(mc[o],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),Ou(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),Xi(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||s1(r.textContent,o)?(c.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),c.onScroll!=null&&ze("scroll",r),c.onScrollEnd!=null&&ze("scrollend",r),c.onClick!=null&&(r.onclick=ds),r=!0):r=!1,r||rr(s,!0)}function Bv(s){for(Jt=s.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Jt=Jt.return}}function co(s){if(s!==Jt)return!1;if(!$e)return Bv(s),$e=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Np(s.type,s.memoizedProps)),o=!o),o&&ct&&rr(s),Bv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ct=d1(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ct=d1(s)}else r===27?(r=ct,br(s.type)?(s=jp,jp=null,ct=s):ct=r):ct=Jt?Jn(s.stateNode.nextSibling):null;return!0}function fa(){ct=Jt=null,$e=!1}function hm(){var s=ir;return s!==null&&(Sn===null?Sn=s:Sn.push.apply(Sn,s),ir=null),s}function $l(s){ir===null?ir=[s]:ir.push(s)}var dm=U(null),ma=null,pi=null;function ar(s,r,o){ue(dm,r._currentValue),r._currentValue=o}function gi(s){s._currentValue=dm.current,te(dm)}function fm(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function mm(s,r,o,c){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var y=f.dependencies;if(y!==null){var _=f.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=f;for(var O=0;O<r.length;O++)if(S.context===r[O]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),fm(y.return,o,s),c||(_=null);break e}y=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),fm(_,o,s),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===s){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function uo(s,r,o,c){s=null;for(var f=r,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var S=f.type;Dn(f.pendingProps.value,_.value)||(s!==null?s.push(S):s=[S])}}else if(f===le.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(bc):s=[bc])}f=f.return}s!==null&&mm(r,s,o,c),r.flags|=262144}function ih(s){for(s=s.firstContext;s!==null;){if(!Dn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function pa(s){ma=s,pi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Zt(s){return Fv(ma,s)}function rh(s,r){return ma===null&&pa(s),Fv(s,r)}function Fv(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},pi===null){if(s===null)throw Error(i(308));pi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else pi=pi.next=r;return o}var aN=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},oN=t.unstable_scheduleCallback,lN=t.unstable_NormalPriority,It={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pm(){return{controller:new aN,data:new Map,refCount:0}}function Kl(s){s.refCount--,s.refCount===0&&oN(lN,function(){s.controller.abort()})}var Yl=null,gm=0,ho=0,fo=null;function cN(s,r){if(Yl===null){var o=Yl=[];gm=0,ho=bp(),fo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return gm++,r.then(Hv,Hv),r}function Hv(){if(--gm===0&&Yl!==null){fo!==null&&(fo.status="fulfilled");var s=Yl;Yl=null,ho=0,fo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function uN(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var qv=Q.S;Q.S=function(s,r){Cx=pn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&cN(s,r),qv!==null&&qv(s,r)};var ga=U(null);function ym(){var s=ga.current;return s!==null?s:at.pooledCache}function ah(s,r){r===null?ue(ga,ga.current):ue(ga,r.pool)}function Gv(){var s=ym();return s===null?null:{parent:It._currentValue,pool:s}}var mo=Error(i(460)),vm=Error(i(474)),oh=Error(i(542)),lh={then:function(){}};function $v(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Kv(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(ds,ds),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Qv(s),s;default:if(typeof r.status=="string")r.then(ds,ds);else{if(s=at,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Qv(s),s}throw va=r,mo}}function ya(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(va=o,mo):o}}var va=null;function Yv(){if(va===null)throw Error(i(459));var s=va;return va=null,s}function Qv(s){if(s===mo||s===oh)throw Error(i(483))}var po=null,Ql=0;function ch(s){var r=Ql;return Ql+=1,po===null&&(po=[]),Kv(po,s,r)}function Xl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function uh(s,r){throw r.$$typeof===w?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Xv(s){function r(H,z){if(s){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function o(H,z){if(!s)return null;for(;z!==null;)r(H,z),z=z.sibling;return null}function c(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function f(H,z){return H=fi(H,z),H.index=0,H.sibling=null,H}function y(H,z,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<z?(H.flags|=67108866,z):G):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function _(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function S(H,z,G,ne){return z===null||z.tag!==6?(z=am(G,H.mode,ne),z.return=H,z):(z=f(z,G),z.return=H,z)}function O(H,z,G,ne){var xe=G.type;return xe===L?Z(H,z,G.props.children,ne,G.key):z!==null&&(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===E&&ya(xe)===z.type)?(z=f(z,G.props),Xl(z,G),z.return=H,z):(z=nh(G.type,G.key,G.props,null,H.mode,ne),Xl(z,G),z.return=H,z)}function $(H,z,G,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=om(G,H.mode,ne),z.return=H,z):(z=f(z,G.children||[]),z.return=H,z)}function Z(H,z,G,ne,xe){return z===null||z.tag!==7?(z=da(G,H.mode,ne,xe),z.return=H,z):(z=f(z,G),z.return=H,z)}function ie(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=am(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return G=nh(z.type,z.key,z.props,null,H.mode,G),Xl(G,z),G.return=H,G;case M:return z=om(z,H.mode,G),z.return=H,z;case E:return z=ya(z),ie(H,z,G)}if(Pe(z)||V(z))return z=da(z,H.mode,G,null),z.return=H,z;if(typeof z.then=="function")return ie(H,ch(z),G);if(z.$$typeof===K)return ie(H,rh(H,z),G);uh(H,z)}return null}function Y(H,z,G,ne){var xe=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return xe!==null?null:S(H,z,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===xe?O(H,z,G,ne):null;case M:return G.key===xe?$(H,z,G,ne):null;case E:return G=ya(G),Y(H,z,G,ne)}if(Pe(G)||V(G))return xe!==null?null:Z(H,z,G,ne,null);if(typeof G.then=="function")return Y(H,z,ch(G),ne);if(G.$$typeof===K)return Y(H,z,rh(H,G),ne);uh(H,G)}return null}function W(H,z,G,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(G)||null,S(z,H,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return H=H.get(ne.key===null?G:ne.key)||null,O(z,H,ne,xe);case M:return H=H.get(ne.key===null?G:ne.key)||null,$(z,H,ne,xe);case E:return ne=ya(ne),W(H,z,G,ne,xe)}if(Pe(ne)||V(ne))return H=H.get(G)||null,Z(z,H,ne,xe,null);if(typeof ne.then=="function")return W(H,z,G,ch(ne),xe);if(ne.$$typeof===K)return W(H,z,G,rh(z,ne),xe);uh(z,ne)}return null}function pe(H,z,G,ne){for(var xe=null,Ye=null,ye=z,Oe=z=0,Fe=null;ye!==null&&Oe<G.length;Oe++){ye.index>Oe?(Fe=ye,ye=null):Fe=ye.sibling;var Qe=Y(H,ye,G[Oe],ne);if(Qe===null){ye===null&&(ye=Fe);break}s&&ye&&Qe.alternate===null&&r(H,ye),z=y(Qe,z,Oe),Ye===null?xe=Qe:Ye.sibling=Qe,Ye=Qe,ye=Fe}if(Oe===G.length)return o(H,ye),$e&&mi(H,Oe),xe;if(ye===null){for(;Oe<G.length;Oe++)ye=ie(H,G[Oe],ne),ye!==null&&(z=y(ye,z,Oe),Ye===null?xe=ye:Ye.sibling=ye,Ye=ye);return $e&&mi(H,Oe),xe}for(ye=c(ye);Oe<G.length;Oe++)Fe=W(ye,H,Oe,G[Oe],ne),Fe!==null&&(s&&Fe.alternate!==null&&ye.delete(Fe.key===null?Oe:Fe.key),z=y(Fe,z,Oe),Ye===null?xe=Fe:Ye.sibling=Fe,Ye=Fe);return s&&ye.forEach(function(Er){return r(H,Er)}),$e&&mi(H,Oe),xe}function Ee(H,z,G,ne){if(G==null)throw Error(i(151));for(var xe=null,Ye=null,ye=z,Oe=z=0,Fe=null,Qe=G.next();ye!==null&&!Qe.done;Oe++,Qe=G.next()){ye.index>Oe?(Fe=ye,ye=null):Fe=ye.sibling;var Er=Y(H,ye,Qe.value,ne);if(Er===null){ye===null&&(ye=Fe);break}s&&ye&&Er.alternate===null&&r(H,ye),z=y(Er,z,Oe),Ye===null?xe=Er:Ye.sibling=Er,Ye=Er,ye=Fe}if(Qe.done)return o(H,ye),$e&&mi(H,Oe),xe;if(ye===null){for(;!Qe.done;Oe++,Qe=G.next())Qe=ie(H,Qe.value,ne),Qe!==null&&(z=y(Qe,z,Oe),Ye===null?xe=Qe:Ye.sibling=Qe,Ye=Qe);return $e&&mi(H,Oe),xe}for(ye=c(ye);!Qe.done;Oe++,Qe=G.next())Qe=W(ye,H,Oe,Qe.value,ne),Qe!==null&&(s&&Qe.alternate!==null&&ye.delete(Qe.key===null?Oe:Qe.key),z=y(Qe,z,Oe),Ye===null?xe=Qe:Ye.sibling=Qe,Ye=Qe);return s&&ye.forEach(function(_R){return r(H,_R)}),$e&&mi(H,Oe),xe}function rt(H,z,G,ne){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var xe=G.key;z!==null;){if(z.key===xe){if(xe=G.type,xe===L){if(z.tag===7){o(H,z.sibling),ne=f(z,G.props.children),ne.return=H,H=ne;break e}}else if(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===E&&ya(xe)===z.type){o(H,z.sibling),ne=f(z,G.props),Xl(ne,G),ne.return=H,H=ne;break e}o(H,z);break}else r(H,z);z=z.sibling}G.type===L?(ne=da(G.props.children,H.mode,ne,G.key),ne.return=H,H=ne):(ne=nh(G.type,G.key,G.props,null,H.mode,ne),Xl(ne,G),ne.return=H,H=ne)}return _(H);case M:e:{for(xe=G.key;z!==null;){if(z.key===xe)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(H,z.sibling),ne=f(z,G.children||[]),ne.return=H,H=ne;break e}else{o(H,z);break}else r(H,z);z=z.sibling}ne=om(G,H.mode,ne),ne.return=H,H=ne}return _(H);case E:return G=ya(G),rt(H,z,G,ne)}if(Pe(G))return pe(H,z,G,ne);if(V(G)){if(xe=V(G),typeof xe!="function")throw Error(i(150));return G=xe.call(G),Ee(H,z,G,ne)}if(typeof G.then=="function")return rt(H,z,ch(G),ne);if(G.$$typeof===K)return rt(H,z,rh(H,G),ne);uh(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(H,z.sibling),ne=f(z,G),ne.return=H,H=ne):(o(H,z),ne=am(G,H.mode,ne),ne.return=H,H=ne),_(H)):o(H,z)}return function(H,z,G,ne){try{Ql=0;var xe=rt(H,z,G,ne);return po=null,xe}catch(ye){if(ye===mo||ye===oh)throw ye;var Ye=jn(29,ye,null,H.mode);return Ye.lanes=ne,Ye.return=H,Ye}}}var ba=Xv(!0),Wv=Xv(!1),or=!1;function bm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function lr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function cr(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=th(s),Mv(s,null,o),r}return eh(s,c,r,o),th(s)}function Wl(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,El(s,o)}}function _m(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?f=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?f=y=r:y=y.next=r}else f=y=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var wm=!1;function Jl(){if(wm){var s=fo;if(s!==null)throw s}}function Zl(s,r,o,c){wm=!1;var f=s.updateQueue;or=!1;var y=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,$=O.next;O.next=null,_===null?y=$:_.next=$,_=O;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=O))}if(y!==null){var ie=f.baseState;_=0,Z=$=O=null,S=y;do{var Y=S.lane&-536870913,W=Y!==S.lane;if(W?(Be&Y)===Y:(c&Y)===Y){Y!==0&&Y===ho&&(wm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=s,Ee=S;Y=r;var rt=o;switch(Ee.tag){case 1:if(pe=Ee.payload,typeof pe=="function"){ie=pe.call(rt,ie,Y);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ee.payload,Y=typeof pe=="function"?pe.call(rt,ie,Y):pe,Y==null)break e;ie=b({},ie,Y);break e;case 2:or=!0}}Y=S.callback,Y!==null&&(s.flags|=64,W&&(s.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=W,O=ie):Z=Z.next=W,_|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;W=S,S=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);Z===null&&(O=ie),f.baseState=O,f.firstBaseUpdate=$,f.lastBaseUpdate=Z,y===null&&(f.shared.lanes=0),mr|=_,s.lanes=_,s.memoizedState=ie}}function Jv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Zv(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Jv(o[s],r)}var go=U(null),hh=U(0);function eb(s,r){s=Si,ue(hh,s),ue(go,r),Si=s|r.baseLanes}function Tm(){ue(hh,Si),ue(go,go.current)}function Em(){Si=hh.current,te(go),te(hh)}var Mn=U(null),Wn=null;function ur(s){var r=s.alternate;ue(Tt,Tt.current&1),ue(Mn,s),Wn===null&&(r===null||go.current!==null||r.memoizedState!==null)&&(Wn=s)}function Sm(s){ue(Tt,Tt.current),ue(Mn,s),Wn===null&&(Wn=s)}function tb(s){s.tag===22?(ue(Tt,Tt.current),ue(Mn,s),Wn===null&&(Wn=s)):hr()}function hr(){ue(Tt,Tt.current),ue(Mn,Mn.current)}function Vn(s){te(Mn),Wn===s&&(Wn=null),te(Tt)}var Tt=U(0);function dh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ip(o)||Dp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var yi=0,Me=null,st=null,Dt=null,fh=!1,yo=!1,xa=!1,mh=0,ec=0,vo=null,hN=0;function yt(){throw Error(i(321))}function Am(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Dn(s[o],r[o]))return!1;return!0}function Cm(s,r,o,c,f,y){return yi=y,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=s===null||s.memoizedState===null?Lb:Fm,xa=!1,y=o(c,f),xa=!1,yo&&(y=sb(r,o,c,f)),nb(s),y}function nb(s){Q.H=sc;var r=st!==null&&st.next!==null;if(yi=0,Dt=st=Me=null,fh=!1,ec=0,vo=null,r)throw Error(i(300));s===null||jt||(s=s.dependencies,s!==null&&ih(s)&&(jt=!0))}function sb(s,r,o,c){Me=s;var f=0;do{if(yo&&(vo=null),ec=0,yo=!1,25<=f)throw Error(i(301));if(f+=1,Dt=st=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Q.H=Ub,y=r(o,c)}while(yo);return y}function dN(){var s=Q.H,r=s.useState()[0];return r=typeof r.then=="function"?tc(r):r,s=s.useState()[0],(st!==null?st.memoizedState:null)!==s&&(Me.flags|=1024),r}function Nm(){var s=mh!==0;return mh=0,s}function Rm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function km(s){if(fh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}fh=!1}yi=0,Dt=st=Me=null,yo=!1,ec=mh=0,vo=null}function yn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function Et(){if(st===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=st.next;var r=Dt===null?Me.memoizedState:Dt.next;if(r!==null)Dt=r,st=s;else{if(s===null)throw Me.alternate===null?Error(i(467)):Error(i(310));st=s,s={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Dt===null?Me.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(s){var r=ec;return ec+=1,vo===null&&(vo=[]),s=Kv(vo,s,r),r=Me,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Lb:Fm),s}function gh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return tc(s);if(s.$$typeof===K)return Zt(s)}throw Error(i(438,String(s)))}function Im(s){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=ph(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=j;return r.index++,o}function vi(s,r){return typeof r=="function"?r(s):r}function yh(s){var r=Et();return Dm(r,st,s)}function Dm(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var f=s.baseQueue,y=c.pending;if(y!==null){if(f!==null){var _=f.next;f.next=y.next,y.next=_}r.baseQueue=f=y,c.pending=null}if(y=s.baseState,f===null)s.memoizedState=y;else{r=f.next;var S=_=null,O=null,$=r,Z=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(Be&ie)===ie:(yi&ie)===ie){var Y=$.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===ho&&(Z=!0);else if((yi&Y)===Y){$=$.next,Y===ho&&(Z=!0);continue}else ie={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=ie,_=y):O=O.next=ie,Me.lanes|=Y,mr|=Y;ie=$.action,xa&&o(y,ie),y=$.hasEagerState?$.eagerState:o(y,ie)}else Y={lane:ie,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=Y,_=y):O=O.next=Y,Me.lanes|=ie,mr|=ie;$=$.next}while($!==null&&$!==r);if(O===null?_=y:O.next=S,!Dn(y,s.memoizedState)&&(jt=!0,Z&&(o=fo,o!==null)))throw o;s.memoizedState=y,s.baseState=_,s.baseQueue=O,c.lastRenderedState=y}return f===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function jm(s){var r=Et(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,f=o.pending,y=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do y=s(y,_.action),_=_.next;while(_!==f);Dn(y,r.memoizedState)||(jt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,c]}function ib(s,r,o){var c=Me,f=Et(),y=$e;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!Dn((st||f).memoizedState,o);if(_&&(f.memoizedState=o,jt=!0),f=f.queue,Om(ob.bind(null,c,f,s),[s]),f.getSnapshot!==r||_||Dt!==null&&Dt.memoizedState.tag&1){if(c.flags|=2048,bo(9,{destroy:void 0},ab.bind(null,c,f,o,r),null),at===null)throw Error(i(349));y||(yi&127)!==0||rb(c,r,o)}return o}function rb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=ph(),Me.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function ab(s,r,o,c){r.value=o,r.getSnapshot=c,lb(r)&&cb(s)}function ob(s,r,o){return o(function(){lb(r)&&cb(s)})}function lb(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Dn(s,o)}catch{return!0}}function cb(s){var r=ha(s,2);r!==null&&An(r,s,2)}function Mm(s){var r=yn();if(typeof s=="function"){var o=s;if(s=o(),xa){Bn(!0);try{o()}finally{Bn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:s},r}function ub(s,r,o,c){return s.baseState=o,Dm(s,st,typeof c=="function"?c:vi)}function fN(s,r,o,c,f){if(xh(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};Q.T!==null?o(!0):y.isTransition=!1,c(y),o=r.pending,o===null?(y.next=r.pending=y,hb(r,y)):(y.next=o.next,r.pending=o.next=y)}}function hb(s,r){var o=r.action,c=r.payload,f=s.state;if(r.isTransition){var y=Q.T,_={};Q.T=_;try{var S=o(f,c),O=Q.S;O!==null&&O(_,S),db(s,r,S)}catch($){Vm(s,r,$)}finally{y!==null&&_.types!==null&&(y.types=_.types),Q.T=y}}else try{y=o(f,c),db(s,r,y)}catch($){Vm(s,r,$)}}function db(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){fb(s,r,c)},function(c){return Vm(s,r,c)}):fb(s,r,o)}function fb(s,r,o){r.status="fulfilled",r.value=o,mb(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,hb(s,o)))}function Vm(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,mb(r),r=r.next;while(r!==c)}s.action=null}function mb(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function pb(s,r){return r}function gb(s,r){if($e){var o=at.formState;if(o!==null){e:{var c=Me;if($e){if(ct){t:{for(var f=ct,y=Xn;f.nodeType!==8;){if(!y){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){ct=Jn(f.nextSibling),c=f.data==="F!";break e}}rr(c)}c=!1}c&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pb,lastRenderedState:r},o.queue=c,o=Vb.bind(null,Me,c),c.dispatch=o,c=Mm(!1),y=Bm.bind(null,Me,!1,c.queue),c=yn(),f={state:r,dispatch:null,action:s,pending:null},c.queue=f,o=fN.bind(null,Me,f,y,o),f.dispatch=o,c.memoizedState=s,[r,o,!1]}function yb(s){var r=Et();return vb(r,st,s)}function vb(s,r,o){if(r=Dm(s,r,pb)[0],s=yh(vi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=tc(r)}catch(_){throw _===mo?oh:_}else c=r;r=Et();var f=r.queue,y=f.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,bo(9,{destroy:void 0},mN.bind(null,f,o),null)),[c,y,s]}function mN(s,r){s.action=r}function bb(s){var r=Et(),o=st;if(o!==null)return vb(r,o,s);Et(),r=r.memoizedState,o=Et();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function bo(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=Me.updateQueue,r===null&&(r=ph(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function xb(){return Et().memoizedState}function vh(s,r,o,c){var f=yn();Me.flags|=s,f.memoizedState=bo(1|r,{destroy:void 0},o,c===void 0?null:c)}function bh(s,r,o,c){var f=Et();c=c===void 0?null:c;var y=f.memoizedState.inst;st!==null&&c!==null&&Am(c,st.memoizedState.deps)?f.memoizedState=bo(r,y,o,c):(Me.flags|=s,f.memoizedState=bo(1|r,y,o,c))}function _b(s,r){vh(8390656,8,s,r)}function Om(s,r){bh(2048,8,s,r)}function pN(s){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=ph(),Me.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function wb(s){var r=Et().memoizedState;return pN({ref:r,nextImpl:s}),function(){if((We&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Tb(s,r){return bh(4,2,s,r)}function Eb(s,r){return bh(4,4,s,r)}function Sb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Ab(s,r,o){o=o!=null?o.concat([s]):null,bh(4,4,Sb.bind(null,r,s),o)}function Pm(){}function Cb(s,r){var o=Et();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Am(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function Nb(s,r){var o=Et();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Am(r,c[1]))return c[0];if(c=s(),xa){Bn(!0);try{s()}finally{Bn(!1)}}return o.memoizedState=[c,r],c}function Lm(s,r,o){return o===void 0||(yi&1073741824)!==0&&(Be&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=Rx(),Me.lanes|=s,mr|=s,o)}function Rb(s,r,o,c){return Dn(o,r)?o:go.current!==null?(s=Lm(s,o,c),Dn(s,r)||(jt=!0),s):(yi&42)===0||(yi&1073741824)!==0&&(Be&261930)===0?(jt=!0,s.memoizedState=o):(s=Rx(),Me.lanes|=s,mr|=s,r)}function kb(s,r,o,c,f){var y=oe.p;oe.p=y!==0&&8>y?y:8;var _=Q.T,S={};Q.T=S,Bm(s,!1,r,o);try{var O=f(),$=Q.S;if($!==null&&$(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=uN(O,c);nc(s,r,Z,Ln(s))}else nc(s,r,c,Ln(s))}catch(ie){nc(s,r,{then:function(){},status:"rejected",reason:ie},Ln())}finally{oe.p=y,_!==null&&S.types!==null&&(_.types=S.types),Q.T=_}}function gN(){}function Um(s,r,o,c){if(s.tag!==5)throw Error(i(476));var f=Ib(s).queue;kb(s,f,r,fe,o===null?gN:function(){return Db(s),o(c)})}function Ib(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Db(s){var r=Ib(s);r.next===null&&(r=s.alternate.memoizedState),nc(s,r.next.queue,{},Ln())}function zm(){return Zt(bc)}function jb(){return Et().memoizedState}function Mb(){return Et().memoizedState}function yN(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();s=lr(o);var c=cr(r,s,o);c!==null&&(An(c,r,o),Wl(c,r,o)),r={cache:pm()},s.payload=r;return}r=r.return}}function vN(s,r,o){var c=Ln();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xh(s)?Ob(r,o):(o=im(s,r,o,c),o!==null&&(An(o,s,c),Pb(o,r,c)))}function Vb(s,r,o){var c=Ln();nc(s,r,o,c)}function nc(s,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(xh(s))Ob(r,f);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,S=y(_,o);if(f.hasEagerState=!0,f.eagerState=S,Dn(S,_))return eh(s,r,f,0),at===null&&Zu(),!1}catch{}if(o=im(s,r,f,c),o!==null)return An(o,s,c),Pb(o,r,c),!0}return!1}function Bm(s,r,o,c){if(c={lane:2,revertLane:bp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},xh(s)){if(r)throw Error(i(479))}else r=im(s,o,c,2),r!==null&&An(r,s,2)}function xh(s){var r=s.alternate;return s===Me||r!==null&&r===Me}function Ob(s,r){yo=fh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Pb(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,El(s,o)}}var sc={readContext:Zt,use:gh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};sc.useEffectEvent=yt;var Lb={readContext:Zt,use:gh,useCallback:function(s,r){return yn().memoizedState=[s,r===void 0?null:r],s},useContext:Zt,useEffect:_b,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,vh(4194308,4,Sb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return vh(4194308,4,s,r)},useInsertionEffect:function(s,r){vh(4,2,s,r)},useMemo:function(s,r){var o=yn();r=r===void 0?null:r;var c=s();if(xa){Bn(!0);try{s()}finally{Bn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=yn();if(o!==void 0){var f=o(r);if(xa){Bn(!0);try{o(r)}finally{Bn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},c.queue=s,s=s.dispatch=vN.bind(null,Me,s),[c.memoizedState,s]},useRef:function(s){var r=yn();return s={current:s},r.memoizedState=s},useState:function(s){s=Mm(s);var r=s.queue,o=Vb.bind(null,Me,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Pm,useDeferredValue:function(s,r){var o=yn();return Lm(o,s,r)},useTransition:function(){var s=Mm(!1);return s=kb.bind(null,Me,s.queue,!0,!1),yn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=Me,f=yn();if($e){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),at===null)throw Error(i(349));(Be&127)!==0||rb(c,r,o)}f.memoizedState=o;var y={value:o,getSnapshot:r};return f.queue=y,_b(ob.bind(null,c,y,s),[s]),c.flags|=2048,bo(9,{destroy:void 0},ab.bind(null,c,y,o,r),null),o},useId:function(){var s=yn(),r=at.identifierPrefix;if($e){var o=Ys,c=Ks;o=(c&~(1<<32-_t(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=mh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=hN++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:zm,useFormState:gb,useActionState:gb,useOptimistic:function(s){var r=yn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Bm.bind(null,Me,!0,o),o.dispatch=r,[s,r]},useMemoCache:Im,useCacheRefresh:function(){return yn().memoizedState=yN.bind(null,Me)},useEffectEvent:function(s){var r=yn(),o={impl:s};return r.memoizedState=o,function(){if((We&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Fm={readContext:Zt,use:gh,useCallback:Cb,useContext:Zt,useEffect:Om,useImperativeHandle:Ab,useInsertionEffect:Tb,useLayoutEffect:Eb,useMemo:Nb,useReducer:yh,useRef:xb,useState:function(){return yh(vi)},useDebugValue:Pm,useDeferredValue:function(s,r){var o=Et();return Rb(o,st.memoizedState,s,r)},useTransition:function(){var s=yh(vi)[0],r=Et().memoizedState;return[typeof s=="boolean"?s:tc(s),r]},useSyncExternalStore:ib,useId:jb,useHostTransitionStatus:zm,useFormState:yb,useActionState:yb,useOptimistic:function(s,r){var o=Et();return ub(o,st,s,r)},useMemoCache:Im,useCacheRefresh:Mb};Fm.useEffectEvent=wb;var Ub={readContext:Zt,use:gh,useCallback:Cb,useContext:Zt,useEffect:Om,useImperativeHandle:Ab,useInsertionEffect:Tb,useLayoutEffect:Eb,useMemo:Nb,useReducer:jm,useRef:xb,useState:function(){return jm(vi)},useDebugValue:Pm,useDeferredValue:function(s,r){var o=Et();return st===null?Lm(o,s,r):Rb(o,st.memoizedState,s,r)},useTransition:function(){var s=jm(vi)[0],r=Et().memoizedState;return[typeof s=="boolean"?s:tc(s),r]},useSyncExternalStore:ib,useId:jb,useHostTransitionStatus:zm,useFormState:bb,useActionState:bb,useOptimistic:function(s,r){var o=Et();return st!==null?ub(o,st,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Im,useCacheRefresh:Mb};Ub.useEffectEvent=wb;function Hm(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var qm={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=Ln(),f=lr(c);f.payload=r,o!=null&&(f.callback=o),r=cr(s,f,c),r!==null&&(An(r,s,c),Wl(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=Ln(),f=lr(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=cr(s,f,c),r!==null&&(An(r,s,c),Wl(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Ln(),c=lr(o);c.tag=2,r!=null&&(c.callback=r),r=cr(s,c,o),r!==null&&(An(r,s,o),Wl(r,s,o))}};function zb(s,r,o,c,f,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,_):r.prototype&&r.prototype.isPureReactComponent?!Hl(o,c)||!Hl(f,y):!0}function Bb(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&qm.enqueueReplaceState(r,r.state,null)}function _a(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var f in s)o[f]===void 0&&(o[f]=s[f])}return o}function Fb(s){Ju(s)}function Hb(s){console.error(s)}function qb(s){Ju(s)}function _h(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Gb(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gm(s,r,o){return o=lr(o),o.tag=3,o.payload={element:null},o.callback=function(){_h(s,r)},o}function $b(s){return s=lr(s),s.tag=3,s}function Kb(s,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=c.value;s.payload=function(){return f(y)},s.callback=function(){Gb(r,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Gb(r,o,c),typeof f!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function bN(s,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&uo(r,o,f,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return Wn===null?jh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===lh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),gp(s,c,f)),!1;case 22:return o.flags|=65536,c===lh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),gp(s,c,f)),!1}throw Error(i(435,o.tag))}return gp(s,c,f),jh(),!1}if($e)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==um&&(s=Error(i(422),{cause:c}),$l(Kn(s,o)))):(c!==um&&(r=Error(i(423),{cause:c}),$l(Kn(r,o))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,c=Kn(c,o),f=Gm(s.stateNode,c,f),_m(s,f),vt!==4&&(vt=2)),!1;var y=Error(i(520),{cause:c});if(y=Kn(y,o),hc===null?hc=[y]:hc.push(y),vt!==4&&(vt=2),r===null)return!0;c=Kn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=f&-f,o.lanes|=s,s=Gm(o.stateNode,c,s),_m(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pr===null||!pr.has(y))))return o.flags|=65536,f&=-f,o.lanes|=f,f=$b(f),Kb(f,s,o,c),_m(o,f),!1}o=o.return}while(o!==null);return!1}var $m=Error(i(461)),jt=!1;function en(s,r,o,c){r.child=s===null?Wv(r,null,o,c):ba(r,s.child,o,c)}function Yb(s,r,o,c,f){o=o.render;var y=r.ref;if("ref"in c){var _={};for(var S in c)S!=="ref"&&(_[S]=c[S])}else _=c;return pa(r),c=Cm(s,r,o,_,y,f),S=Nm(),s!==null&&!jt?(Rm(s,r,f),bi(s,r,f)):($e&&S&&lm(r),r.flags|=1,en(s,r,c,f),r.child)}function Qb(s,r,o,c,f){if(s===null){var y=o.type;return typeof y=="function"&&!rm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Xb(s,r,y,c,f)):(s=nh(o.type,null,c,r,r.mode,f),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!ep(s,f)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:Hl,o(_,c)&&s.ref===r.ref)return bi(s,r,f)}return r.flags|=1,s=fi(y,c),s.ref=r.ref,s.return=r,r.child=s}function Xb(s,r,o,c,f){if(s!==null){var y=s.memoizedProps;if(Hl(y,c)&&s.ref===r.ref)if(jt=!1,r.pendingProps=c=y,ep(s,f))(s.flags&131072)!==0&&(jt=!0);else return r.lanes=s.lanes,bi(s,r,f)}return Km(s,r,o,c,f)}function Wb(s,r,o,c){var f=c.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(c=r.child=s.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~y}else c=0,r.child=null;return Jb(s,r,y,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&ah(r,y!==null?y.cachePool:null),y!==null?eb(r,y):Tm(),tb(r);else return c=r.lanes=536870912,Jb(s,r,y!==null?y.baseLanes|o:o,o,c)}else y!==null?(ah(r,y.cachePool),eb(r,y),hr(),r.memoizedState=null):(s!==null&&ah(r,null),Tm(),hr());return en(s,r,f,o),r.child}function ic(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Jb(s,r,o,c,f){var y=ym();return y=y===null?null:{parent:It._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&ah(r,null),Tm(),tb(r),s!==null&&uo(s,r,c,!0),r.childLanes=f,null}function wh(s,r){return r=Eh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Zb(s,r,o){return ba(r,s.child,null,o),s=wh(r,r.pendingProps),s.flags|=2,Vn(r),r.memoizedState=null,s}function xN(s,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,s===null){if($e){if(c.mode==="hidden")return s=wh(r,c),r.lanes=536870912,ic(null,s);if(Sm(r),(s=ct)?(s=h1(s,Xn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:sr!==null?{id:Ks,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},o=Ov(s),o.return=r,r.child=o,Jt=r,ct=null)):s=null,s===null)throw rr(r);return r.lanes=536870912,null}return wh(r,c)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(Sm(r),f)if(r.flags&256)r.flags&=-257,r=Zb(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(jt||uo(s,r,o,!1),f=(o&s.childLanes)!==0,jt||f){if(c=at,c!==null&&(_=Sl(c,o),_!==0&&_!==y.retryLane))throw y.retryLane=_,ha(s,_),An(c,s,_),$m;jh(),r=Zb(s,r,o)}else s=y.treeContext,ct=Jn(_.nextSibling),Jt=r,$e=!0,ir=null,Xn=!1,s!==null&&Uv(r,s),r=wh(r,c),r.flags|=4096;return r}return s=fi(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Th(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Km(s,r,o,c,f){return pa(r),o=Cm(s,r,o,c,void 0,f),c=Nm(),s!==null&&!jt?(Rm(s,r,f),bi(s,r,f)):($e&&c&&lm(r),r.flags|=1,en(s,r,o,f),r.child)}function ex(s,r,o,c,f,y){return pa(r),r.updateQueue=null,o=sb(r,c,o,f),nb(s),c=Nm(),s!==null&&!jt?(Rm(s,r,y),bi(s,r,y)):($e&&c&&lm(r),r.flags|=1,en(s,r,o,y),r.child)}function tx(s,r,o,c,f){if(pa(r),r.stateNode===null){var y=ao,_=o.contextType;typeof _=="object"&&_!==null&&(y=Zt(_)),y=new o(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=qm,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},bm(r),_=o.contextType,y.context=typeof _=="object"&&_!==null?Zt(_):ao,y.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Hm(r,o,_,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&qm.enqueueReplaceState(y,y.state,null),Zl(r,c,y,f),Jl(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){y=r.stateNode;var S=r.memoizedProps,O=_a(o,S);y.props=O;var $=y.context,Z=o.contextType;_=ao,typeof Z=="object"&&Z!==null&&(_=Zt(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||$!==_)&&Bb(r,y,c,_),or=!1;var Y=r.memoizedState;y.state=Y,Zl(r,c,y,f),Jl(),$=r.memoizedState,S||Y!==$||or?(typeof ie=="function"&&(Hm(r,o,ie,c),$=r.memoizedState),(O=or||zb(r,o,O,c,Y,$,_))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=$),y.props=c,y.state=$,y.context=_,c=O):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,xm(s,r),_=r.memoizedProps,Z=_a(o,_),y.props=Z,ie=r.pendingProps,Y=y.context,$=o.contextType,O=ao,typeof $=="object"&&$!==null&&(O=Zt($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==ie||Y!==O)&&Bb(r,y,c,O),or=!1,Y=r.memoizedState,y.state=Y,Zl(r,c,y,f),Jl();var W=r.memoizedState;_!==ie||Y!==W||or||s!==null&&s.dependencies!==null&&ih(s.dependencies)?(typeof S=="function"&&(Hm(r,o,S,c),W=r.memoizedState),(Z=or||zb(r,o,Z,c,Y,W,O)||s!==null&&s.dependencies!==null&&ih(s.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,W,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,W,O)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),y.props=c,y.state=W,y.context=O,c=Z):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),c=!1)}return y=c,Th(s,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&c?(r.child=ba(r,s.child,null,f),r.child=ba(r,null,o,f)):en(s,r,o,f),r.memoizedState=y.state,s=r.child):s=bi(s,r,f),s}function nx(s,r,o,c){return fa(),r.flags|=256,en(s,r,o,c),r.child}var Ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(s){return{baseLanes:s,cachePool:Gv()}}function Xm(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Pn),s}function sx(s,r,o){var c=r.pendingProps,f=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(Tt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if($e){if(f?ur(r):hr(),(s=ct)?(s=h1(s,Xn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:sr!==null?{id:Ks,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},o=Ov(s),o.return=r,r.child=o,Jt=r,ct=null)):s=null,s===null)throw rr(r);return Dp(s)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,f?(hr(),f=r.mode,S=Eh({mode:"hidden",children:S},f),c=da(c,f,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=Qm(o),c.childLanes=Xm(s,_,o),r.memoizedState=Ym,ic(null,c)):(ur(r),Wm(r,S))}var O=s.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(y)r.flags&256?(ur(r),r.flags&=-257,r=Jm(s,r,o)):r.memoizedState!==null?(hr(),r.child=s.child,r.flags|=128,r=null):(hr(),S=c.fallback,f=r.mode,c=Eh({mode:"visible",children:c.children},f),S=da(S,f,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,ba(r,s.child,null,o),c=r.child,c.memoizedState=Qm(o),c.childLanes=Xm(s,_,o),r.memoizedState=Ym,r=ic(null,c));else if(ur(r),Dp(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var $=_.dgst;_=$,c=Error(i(419)),c.stack="",c.digest=_,$l({value:c,source:null,stack:null}),r=Jm(s,r,o)}else if(jt||uo(s,r,o,!1),_=(o&s.childLanes)!==0,jt||_){if(_=at,_!==null&&(c=Sl(_,o),c!==0&&c!==O.retryLane))throw O.retryLane=c,ha(s,c),An(_,s,c),$m;Ip(S)||jh(),r=Jm(s,r,o)}else Ip(S)?(r.flags|=192,r.child=s.child,r=null):(s=O.treeContext,ct=Jn(S.nextSibling),Jt=r,$e=!0,ir=null,Xn=!1,s!==null&&Uv(r,s),r=Wm(r,c.children),r.flags|=4096);return r}return f?(hr(),S=c.fallback,f=r.mode,O=s.child,$=O.sibling,c=fi(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,$!==null?S=fi($,S):(S=da(S,f,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,ic(null,c),c=r.child,S=s.child.memoizedState,S===null?S=Qm(o):(f=S.cachePool,f!==null?(O=It._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Gv(),S={baseLanes:S.baseLanes|o,cachePool:f}),c.memoizedState=S,c.childLanes=Xm(s,_,o),r.memoizedState=Ym,ic(s.child,c)):(ur(r),o=s.child,s=o.sibling,o=fi(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function Wm(s,r){return r=Eh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Eh(s,r){return s=jn(22,s,null,r),s.lanes=0,s}function Jm(s,r,o){return ba(r,s.child,null,o),s=Wm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function ix(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),fm(s.return,r,o)}function Zm(s,r,o,c,f,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=f,_.treeForkCount=y)}function rx(s,r,o){var c=r.pendingProps,f=c.revealOrder,y=c.tail;c=c.children;var _=Tt.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,ue(Tt,_),en(s,r,c,o),c=$e?Gl:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ix(s,o,r);else if(s.tag===19)ix(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)s=o.alternate,s!==null&&dh(s)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Zm(r,!1,f,o,y,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(s=f.alternate,s!==null&&dh(s)===null){r.child=f;break}s=f.sibling,f.sibling=o,o=f,f=s}Zm(r,!0,o,null,y,c);break;case"together":Zm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function bi(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),mr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(uo(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=fi(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=fi(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function ep(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&ih(s)))}function _N(s,r,o){switch(r.tag){case 3:Ce(r,r.stateNode.containerInfo),ar(r,It,s.memoizedState.cache),fa();break;case 27:case 5:Yt(r);break;case 4:Ce(r,r.stateNode.containerInfo);break;case 10:ar(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ur(r),r.flags|=128,null):(o&r.child.childLanes)!==0?sx(s,r,o):(ur(r),s=bi(s,r,o),s!==null?s.sibling:null);ur(r);break;case 19:var f=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(uo(s,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return rx(s,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Tt,Tt.current),c)break;return null;case 22:return r.lanes=0,Wb(s,r,o,r.pendingProps);case 24:ar(r,It,s.memoizedState.cache)}return bi(s,r,o)}function ax(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)jt=!0;else{if(!ep(s,o)&&(r.flags&128)===0)return jt=!1,_N(s,r,o);jt=(s.flags&131072)!==0}else jt=!1,$e&&(r.flags&1048576)!==0&&Lv(r,Gl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(s=ya(r.elementType),r.type=s,typeof s=="function")rm(s)?(c=_a(s,c),r.tag=1,r=tx(null,r,s,c,o)):(r.tag=0,r=Km(null,r,s,c,o));else{if(s!=null){var f=s.$$typeof;if(f===J){r.tag=11,r=Yb(null,r,s,c,o);break e}else if(f===I){r.tag=14,r=Qb(null,r,s,c,o);break e}}throw r=we(s)||s,Error(i(306,r,""))}}return r;case 0:return Km(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=_a(c,r.pendingProps),tx(s,r,c,f,o);case 3:e:{if(Ce(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var y=r.memoizedState;f=y.element,xm(s,r),Zl(r,c,null,o);var _=r.memoizedState;if(c=_.cache,ar(r,It,c),c!==y.cache&&mm(r,[It],o,!0),Jl(),c=_.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=nx(s,r,c,o);break e}else if(c!==f){f=Kn(Error(i(424)),r),$l(f),r=nx(s,r,c,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ct=Jn(s.firstChild),Jt=r,$e=!0,ir=null,Xn=!0,o=Wv(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fa(),c===f){r=bi(s,r,o);break e}en(s,r,c,o)}r=r.child}return r;case 26:return Th(s,r),s===null?(o=y1(r.type,null,r.pendingProps,null))?r.memoizedState=o:$e||(o=r.type,s=r.pendingProps,c=zh(Re.current).createElement(o),c[Nt]=r,c[Ht]=s,tn(c,o,s),Rt(c),r.stateNode=c):r.memoizedState=y1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Yt(r),s===null&&$e&&(c=r.stateNode=m1(r.type,r.pendingProps,Re.current),Jt=r,Xn=!0,f=ct,br(r.type)?(jp=f,ct=Jn(c.firstChild)):ct=f),en(s,r,r.pendingProps.children,o),Th(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&$e&&((f=c=ct)&&(c=WN(c,r.type,r.pendingProps,Xn),c!==null?(r.stateNode=c,Jt=r,ct=Jn(c.firstChild),Xn=!1,f=!0):f=!1),f||rr(r)),Yt(r),f=r.type,y=r.pendingProps,_=s!==null?s.memoizedProps:null,c=y.children,Np(f,y)?c=null:_!==null&&Np(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Cm(s,r,dN,null,null,o),bc._currentValue=f),Th(s,r),en(s,r,c,o),r.child;case 6:return s===null&&$e&&((s=o=ct)&&(o=JN(o,r.pendingProps,Xn),o!==null?(r.stateNode=o,Jt=r,ct=null,s=!0):s=!1),s||rr(r)),null;case 13:return sx(s,r,o);case 4:return Ce(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=ba(r,null,c,o):en(s,r,c,o),r.child;case 11:return Yb(s,r,r.type,r.pendingProps,o);case 7:return en(s,r,r.pendingProps,o),r.child;case 8:return en(s,r,r.pendingProps.children,o),r.child;case 12:return en(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,ar(r,r.type,c.value),en(s,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,pa(r),f=Zt(f),c=c(f),r.flags|=1,en(s,r,c,o),r.child;case 14:return Qb(s,r,r.type,r.pendingProps,o);case 15:return Xb(s,r,r.type,r.pendingProps,o);case 19:return rx(s,r,o);case 31:return xN(s,r,o);case 22:return Wb(s,r,o,r.pendingProps);case 24:return pa(r),c=Zt(It),s===null?(f=ym(),f===null&&(f=at,y=pm(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=o),f=y),r.memoizedState={parent:c,cache:f},bm(r),ar(r,It,f)):((s.lanes&o)!==0&&(xm(s,r),Zl(r,null,null,o),Jl()),f=s.memoizedState,y=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ar(r,It,c)):(c=y.cache,ar(r,It,c),c!==f.cache&&mm(r,[It],o,!0))),en(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function xi(s){s.flags|=4}function tp(s,r,o,c,f){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(f&335544128)===f)if(s.stateNode.complete)s.flags|=8192;else if(jx())s.flags|=8192;else throw va=lh,vm}else s.flags&=-16777217}function ox(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!w1(r))if(jx())s.flags|=8192;else throw va=lh,vm}function Sh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Iu():536870912,s.lanes|=r,To|=r)}function rc(s,r){if(!$e)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ut(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function wN(s,r,o){var c=r.pendingProps;switch(cm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),gi(It),Le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(co(r)?xi(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hm())),ut(r),null;case 26:var f=r.type,y=r.memoizedState;return s===null?(xi(r),y!==null?(ut(r),ox(r,y)):(ut(r),tp(r,f,null,c,o))):y?y!==s.memoizedState?(xi(r),ut(r),ox(r,y)):(ut(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&xi(r),ut(r),tp(r,f,s,c,o)),null;case 27:if(Rs(r),o=Re.current,f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&xi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ut(r),null}s=de.current,co(r)?zv(r):(s=m1(f,c,o),r.stateNode=s,xi(r))}return ut(r),null;case 5:if(Rs(r),f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&xi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ut(r),null}if(y=de.current,co(r))zv(r);else{var _=zh(Re.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?_.createElement(f,{is:c.is}):_.createElement(f)}}y[Nt]=r,y[Ht]=c;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(tn(y,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&xi(r)}}return ut(r),tp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&xi(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Re.current,co(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,f=Jt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}s[Nt]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||s1(s.nodeValue,o)),s||rr(r,!0)}else s=zh(s).createTextNode(c),s[Nt]=r,r.stateNode=s}return ut(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(c=co(r),o!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Nt]=r}else fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),s=!1}else o=hm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ut(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=co(r),c!==null&&c.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Nt]=r}else fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=hm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==f&&(c.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Sh(r,r.updateQueue),ut(r),null);case 4:return Le(),s===null&&Tp(r.stateNode.containerInfo),ut(r),null;case 10:return gi(r.type),ut(r),null;case 19:if(te(Tt),c=r.memoizedState,c===null)return ut(r),null;if(f=(r.flags&128)!==0,y=c.rendering,y===null)if(f)rc(c,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=dh(s),y!==null){for(r.flags|=128,rc(c,!1),s=y.updateQueue,r.updateQueue=s,Sh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Vv(o,s),o=o.sibling;return ue(Tt,Tt.current&1|2),$e&&mi(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&pn()>kh&&(r.flags|=128,f=!0,rc(c,!1),r.lanes=4194304)}else{if(!f)if(s=dh(y),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,Sh(r,s),rc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!$e)return ut(r),null}else 2*pn()-c.renderingStartTime>kh&&o!==536870912&&(r.flags|=128,f=!0,rc(c,!1),r.lanes=4194304);c.isBackwards?(y.sibling=r.child,r.child=y):(s=c.last,s!==null?s.sibling=y:r.child=y,c.last=y)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=pn(),s.sibling=null,o=Tt.current,ue(Tt,f?o&1|2:o&1),$e&&mi(r,c.treeForkCount),s):(ut(r),null);case 22:case 23:return Vn(r),Em(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),o=r.updateQueue,o!==null&&Sh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&te(ga),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),gi(It),ut(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function TN(s,r){switch(cm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return gi(It),Le(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Rs(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(i(340));fa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Vn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));fa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return te(Tt),null;case 4:return Le(),null;case 10:return gi(r.type),null;case 22:case 23:return Vn(r),Em(),s!==null&&te(ga),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return gi(It),null;case 25:return null;default:return null}}function lx(s,r){switch(cm(r),r.tag){case 3:gi(It),Le();break;case 26:case 27:case 5:Rs(r);break;case 4:Le();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:te(Tt);break;case 10:gi(r.type);break;case 22:case 23:Vn(r),Em(),s!==null&&te(ga);break;case 24:gi(It)}}function ac(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&s)===s){c=void 0;var y=o.create,_=o.inst;c=y(),_.destroy=c}o=o.next}while(o!==f)}}catch(S){tt(r,r.return,S)}}function dr(s,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&s)===s){var _=c.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var O=o,$=S;try{$()}catch(Z){tt(f,O,Z)}}}c=c.next}while(c!==y)}}catch(Z){tt(r,r.return,Z)}}function cx(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Zv(r,o)}catch(c){tt(s,s.return,c)}}}function ux(s,r,o){o.props=_a(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){tt(s,r,c)}}function oc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(f){tt(s,r,f)}}function Qs(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){tt(s,r,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(s,r,f)}else o.current=null}function hx(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){tt(s,s.return,f)}}function np(s,r,o){try{var c=s.stateNode;GN(c,s.type,o,r),c[Ht]=r}catch(f){tt(s,s.return,f)}}function dx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&br(s.type)||s.tag===4}function sp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||dx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&br(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ip(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ds));else if(c!==4&&(c===27&&br(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(ip(s,r,o),s=s.sibling;s!==null;)ip(s,r,o),s=s.sibling}function Ah(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&br(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Ah(s,r,o),s=s.sibling;s!==null;)Ah(s,r,o),s=s.sibling}function fx(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);tn(r,c,o),r[Nt]=s,r[Ht]=o}catch(y){tt(s,s.return,y)}}var _i=!1,Mt=!1,rp=!1,mx=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function EN(s,r){if(s=s.containerInfo,Ap=Kh,s=Av(s),Jf(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,S=-1,O=-1,$=0,Z=0,ie=s,Y=null;t:for(;;){for(var W;ie!==o||f!==0&&ie.nodeType!==3||(S=_+f),ie!==y||c!==0&&ie.nodeType!==3||(O=_+c),ie.nodeType===3&&(_+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Y=ie,ie=W;for(;;){if(ie===s)break t;if(Y===o&&++$===f&&(S=_),Y===y&&++Z===c&&(O=_),(W=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=W}o=S===-1||O===-1?null:{start:S,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cp={focusedElem:s,selectionRange:o},Kh=!1,Gt=r;Gt!==null;)if(r=Gt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Gt=s;else for(;Gt!==null;){switch(r=Gt,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)f=s[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,f=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var pe=_a(o.type,f);s=c.getSnapshotBeforeUpdate(pe,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ee){tt(o,o.return,Ee)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)kp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":kp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Gt=s;break}Gt=r.return}}function px(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ti(s,o),c&4&&ac(5,o);break;case 1:if(Ti(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){tt(o,o.return,_)}else{var f=_a(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(f,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(o,o.return,_)}}c&64&&cx(o),c&512&&oc(o,o.return);break;case 3:if(Ti(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Zv(s,r)}catch(_){tt(o,o.return,_)}}break;case 27:r===null&&c&4&&fx(o);case 26:case 5:Ti(s,o),r===null&&c&4&&hx(o),c&512&&oc(o,o.return);break;case 12:Ti(s,o);break;case 31:Ti(s,o),c&4&&vx(s,o);break;case 13:Ti(s,o),c&4&&bx(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=jN.bind(null,o),ZN(s,o))));break;case 22:if(c=o.memoizedState!==null||_i,!c){r=r!==null&&r.memoizedState!==null||Mt,f=_i;var y=Mt;_i=c,(Mt=r)&&!y?Ei(s,o,(o.subtreeFlags&8772)!==0):Ti(s,o),_i=f,Mt=y}break;case 30:break;default:Ti(s,o)}}function gx(s){var r=s.alternate;r!==null&&(s.alternate=null,gx(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&$a(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ft=null,wn=!1;function wi(s,r,o){for(o=o.child;o!==null;)yx(s,r,o),o=o.sibling}function yx(s,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ls,o)}catch{}switch(o.tag){case 26:Mt||Qs(o,r),wi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||Qs(o,r);var c=ft,f=wn;br(o.type)&&(ft=o.stateNode,wn=!1),wi(s,r,o),gc(o.stateNode),ft=c,wn=f;break;case 5:Mt||Qs(o,r);case 6:if(c=ft,f=wn,ft=null,wi(s,r,o),ft=c,wn=f,ft!==null)if(wn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(y){tt(o,r,y)}else try{ft.removeChild(o.stateNode)}catch(y){tt(o,r,y)}break;case 18:ft!==null&&(wn?(s=ft,c1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Io(s)):c1(ft,o.stateNode));break;case 4:c=ft,f=wn,ft=o.stateNode.containerInfo,wn=!0,wi(s,r,o),ft=c,wn=f;break;case 0:case 11:case 14:case 15:dr(2,o,r),Mt||dr(4,o,r),wi(s,r,o);break;case 1:Mt||(Qs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ux(o,r,c)),wi(s,r,o);break;case 21:wi(s,r,o);break;case 22:Mt=(c=Mt)||o.memoizedState!==null,wi(s,r,o),Mt=c;break;default:wi(s,r,o)}}function vx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Io(s)}catch(o){tt(r,r.return,o)}}}function bx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Io(s)}catch(o){tt(r,r.return,o)}}function SN(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new mx),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new mx),r;default:throw Error(i(435,s.tag))}}function Ch(s,r){var o=SN(s);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=MN.bind(null,s,c);c.then(f,f)}})}function Tn(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],y=s,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(br(S.type)){ft=S.stateNode,wn=!1;break e}break;case 5:ft=S.stateNode,wn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,wn=!0;break e}S=S.return}if(ft===null)throw Error(i(160));yx(y,_,f),ft=null,wn=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)xx(r,s),r=r.sibling}var vs=null;function xx(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Tn(r,s),En(s),c&4&&(dr(3,s,s.return),ac(3,s),dr(5,s,s.return));break;case 1:Tn(r,s),En(s),c&512&&(Mt||o===null||Qs(o,o.return)),c&64&&_i&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=vs;if(Tn(r,s),En(s),c&512&&(Mt||o===null||Qs(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":y=f.getElementsByTagName("title")[0],(!y||y[Vs]||y[Nt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(c),f.head.insertBefore(y,f.querySelector("head > title"))),tn(y,c,o),y[Nt]=s,Rt(y),c=y;break e;case"link":var _=x1("link","href",f).get(c+(o.href||""));if(_){for(var S=0;S<_.length;S++)if(y=_[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(S,1);break t}}y=f.createElement(c),tn(y,c,o),f.head.appendChild(y);break;case"meta":if(_=x1("meta","content",f).get(c+(o.content||""))){for(S=0;S<_.length;S++)if(y=_[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(S,1);break t}}y=f.createElement(c),tn(y,c,o),f.head.appendChild(y);break;default:throw Error(i(468,c))}y[Nt]=s,Rt(y),c=y}s.stateNode=c}else _1(f,s.type,s.stateNode);else s.stateNode=b1(f,c,s.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?_1(f,s.type,s.stateNode):b1(f,c,s.memoizedProps)):c===null&&s.stateNode!==null&&np(s,s.memoizedProps,o.memoizedProps)}break;case 27:Tn(r,s),En(s),c&512&&(Mt||o===null||Qs(o,o.return)),o!==null&&c&4&&np(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Tn(r,s),En(s),c&512&&(Mt||o===null||Qs(o,o.return)),s.flags&32){f=s.stateNode;try{_n(f,"")}catch(pe){tt(s,s.return,pe)}}c&4&&s.stateNode!=null&&(f=s.memoizedProps,np(s,f,o!==null?o.memoizedProps:f)),c&1024&&(rp=!0);break;case 6:if(Tn(r,s),En(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(pe){tt(s,s.return,pe)}}break;case 3:if(Hh=null,f=vs,vs=Bh(r.containerInfo),Tn(r,s),vs=f,En(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Io(r.containerInfo)}catch(pe){tt(s,s.return,pe)}rp&&(rp=!1,_x(s));break;case 4:c=vs,vs=Bh(s.stateNode.containerInfo),Tn(r,s),En(s),vs=c;break;case 12:Tn(r,s),En(s);break;case 31:Tn(r,s),En(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Ch(s,c)));break;case 13:Tn(r,s),En(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rh=pn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Ch(s,c)));break;case 22:f=s.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,$=_i,Z=Mt;if(_i=$||f,Mt=Z||O,Tn(r,s),Mt=Z,_i=$,En(s),c&8192)e:for(r=s.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||_i||Mt||wa(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(y=O.stateNode,f)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=O.stateNode;var ie=O.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){tt(O,O.return,pe)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(pe){tt(O,O.return,pe)}}}else if(r.tag===18){if(o===null){O=r;try{var W=O.stateNode;f?u1(W,!0):u1(O.stateNode,!1)}catch(pe){tt(O,O.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Ch(s,o))));break;case 19:Tn(r,s),En(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Ch(s,c)));break;case 30:break;case 21:break;default:Tn(r,s),En(s)}}function En(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(dx(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,y=sp(s);Ah(s,y,f);break;case 5:var _=o.stateNode;o.flags&32&&(_n(_,""),o.flags&=-33);var S=sp(s);Ah(s,S,_);break;case 3:case 4:var O=o.stateNode.containerInfo,$=sp(s);ip(s,$,O);break;default:throw Error(i(161))}}catch(Z){tt(s,s.return,Z)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function _x(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;_x(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ti(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)px(s,r.alternate,r),r=r.sibling}function wa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:dr(4,r,r.return),wa(r);break;case 1:Qs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&ux(r,r.return,o),wa(r);break;case 27:gc(r.stateNode);case 26:case 5:Qs(r,r.return),wa(r);break;case 22:r.memoizedState===null&&wa(r);break;case 30:wa(r);break;default:wa(r)}s=s.sibling}}function Ei(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=s,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:Ei(f,y,o),ac(4,y);break;case 1:if(Ei(f,y,o),c=y,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){tt(c,c.return,$)}if(c=y,f=c.updateQueue,f!==null){var S=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Jv(O[f],S)}catch($){tt(c,c.return,$)}}o&&_&64&&cx(y),oc(y,y.return);break;case 27:fx(y);case 26:case 5:Ei(f,y,o),o&&c===null&&_&4&&hx(y),oc(y,y.return);break;case 12:Ei(f,y,o);break;case 31:Ei(f,y,o),o&&_&4&&vx(f,y);break;case 13:Ei(f,y,o),o&&_&4&&bx(f,y);break;case 22:y.memoizedState===null&&Ei(f,y,o),oc(y,y.return);break;case 30:break;default:Ei(f,y,o)}r=r.sibling}}function ap(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Kl(o))}function op(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Kl(s))}function bs(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wx(s,r,o,c),r=r.sibling}function wx(s,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:bs(s,r,o,c),f&2048&&ac(9,r);break;case 1:bs(s,r,o,c);break;case 3:bs(s,r,o,c),f&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Kl(s)));break;case 12:if(f&2048){bs(s,r,o,c),s=r.stateNode;try{var y=r.memoizedProps,_=y.id,S=y.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){tt(r,r.return,O)}}else bs(s,r,o,c);break;case 31:bs(s,r,o,c);break;case 13:bs(s,r,o,c);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?bs(s,r,o,c):lc(s,r):y._visibility&2?bs(s,r,o,c):(y._visibility|=2,xo(s,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&ap(_,r);break;case 24:bs(s,r,o,c),f&2048&&op(r.alternate,r);break;default:bs(s,r,o,c)}}function xo(s,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,_=r,S=o,O=c,$=_.flags;switch(_.tag){case 0:case 11:case 15:xo(y,_,S,O,f),ac(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?xo(y,_,S,O,f):lc(y,_):(Z._visibility|=2,xo(y,_,S,O,f)),f&&$&2048&&ap(_.alternate,_);break;case 24:xo(y,_,S,O,f),f&&$&2048&&op(_.alternate,_);break;default:xo(y,_,S,O,f)}r=r.sibling}}function lc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,f=c.flags;switch(c.tag){case 22:lc(o,c),f&2048&&ap(c.alternate,c);break;case 24:lc(o,c),f&2048&&op(c.alternate,c);break;default:lc(o,c)}r=r.sibling}}var cc=8192;function _o(s,r,o){if(s.subtreeFlags&cc)for(s=s.child;s!==null;)Tx(s,r,o),s=s.sibling}function Tx(s,r,o){switch(s.tag){case 26:_o(s,r,o),s.flags&cc&&s.memoizedState!==null&&hR(o,vs,s.memoizedState,s.memoizedProps);break;case 5:_o(s,r,o);break;case 3:case 4:var c=vs;vs=Bh(s.stateNode.containerInfo),_o(s,r,o),vs=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=cc,cc=16777216,_o(s,r,o),cc=c):_o(s,r,o));break;default:_o(s,r,o)}}function Ex(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function uc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Gt=c,Ax(c,s)}Ex(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sx(s),s=s.sibling}function Sx(s){switch(s.tag){case 0:case 11:case 15:uc(s),s.flags&2048&&dr(9,s,s.return);break;case 3:uc(s);break;case 12:uc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Nh(s)):uc(s);break;default:uc(s)}}function Nh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Gt=c,Ax(c,s)}Ex(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:dr(8,r,r.return),Nh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Nh(r));break;default:Nh(r)}s=s.sibling}}function Ax(s,r){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:dr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Kl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Gt=c;else e:for(o=s;Gt!==null;){c=Gt;var f=c.sibling,y=c.return;if(gx(c),c===o){Gt=null;break e}if(f!==null){f.return=y,Gt=f;break e}Gt=y}}}var AN={getCacheForType:function(s){var r=Zt(It),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return Zt(It).controller.signal}},CN=typeof WeakMap=="function"?WeakMap:Map,We=0,at=null,Ue=null,Be=0,et=0,On=null,fr=!1,wo=!1,lp=!1,Si=0,vt=0,mr=0,Ta=0,cp=0,Pn=0,To=0,hc=null,Sn=null,up=!1,Rh=0,Cx=0,kh=1/0,Ih=null,pr=null,zt=0,gr=null,Eo=null,Ai=0,hp=0,dp=null,Nx=null,dc=0,fp=null;function Ln(){return(We&2)!==0&&Be!==0?Be&-Be:Q.T!==null?bp():Du()}function Rx(){if(Pn===0)if((Be&536870912)===0||$e){var s=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),Pn=s}else Pn=536870912;return s=Mn.current,s!==null&&(s.flags|=32),Pn}function An(s,r,o){(s===at&&(et===2||et===9)||s.cancelPendingCommit!==null)&&(So(s,0),yr(s,Be,Pn,!1)),Wr(s,o),((We&2)===0||s!==at)&&(s===at&&((We&2)===0&&(Ta|=o),vt===4&&yr(s,Be,Pn,!1)),Xs(s))}function kx(s,r,o){if((We&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&s.expiredLanes)===0||cs(s,r),f=c?kN(s,r):pp(s,r,!0),y=c;do{if(f===0){wo&&!c&&yr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!NN(o)){f=pp(s,r,!1),y=!1;continue}if(f===2){if(y=r,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=s;f=hc;var O=S.current.memoizedState.isDehydrated;if(O&&(So(S,_).flags|=256),_=pp(S,_,!1),_!==2){if(lp&&!O){S.errorRecoveryDisabledLanes|=y,Ta|=y,f=4;break e}y=Sn,Sn=f,y!==null&&(Sn===null?Sn=y:Sn.push.apply(Sn,y))}f=_}if(y=!1,f!==2)continue}}if(f===1){So(s,0),yr(s,r,0,!0);break}e:{switch(c=s,y=f,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:yr(c,r,Pn,!fr);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Rh+300-pn(),10<f)){if(yr(c,r,Pn,!fr),Ds(c,0,!0)!==0)break e;Ai=r,c.timeoutHandle=o1(Ix.bind(null,c,o,Sn,Ih,up,r,Pn,Ta,To,fr,y,"Throttled",-0,0),f);break e}Ix(c,o,Sn,Ih,up,r,Pn,Ta,To,fr,y,null,-0,0)}}break}while(!0);Xs(s)}function Ix(s,r,o,c,f,y,_,S,O,$,Z,ie,Y,W){if(s.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ds},Tx(r,y,ie);var pe=(y&62914560)===y?Rh-pn():(y&4194048)===y?Cx-pn():0;if(pe=dR(ie,pe),pe!==null){Ai=y,s.cancelPendingCommit=pe(Ux.bind(null,s,r,y,o,c,f,_,S,O,Z,ie,null,Y,W)),yr(s,y,_,!$);return}}Ux(s,r,y,o,c,f,_,S,O)}function NN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],y=f.getSnapshot;f=f.value;try{if(!Dn(y(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function yr(s,r,o,c){r&=~cp,r&=~Ta,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var f=r;0<f;){var y=31-_t(f),_=1<<y;c[y]=-1,f&=~_}o!==0&&Jr(s,o,r)}function Dh(){return(We&6)===0?(fc(0),!1):!0}function mp(){if(Ue!==null){if(et===0)var s=Ue.return;else s=Ue,pi=ma=null,km(s),po=null,Ql=0,s=Ue;for(;s!==null;)lx(s.alternate,s),s=s.return;Ue=null}}function So(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,YN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ai=0,mp(),at=s,Ue=o=fi(s.current,null),Be=r,et=0,On=null,fr=!1,wo=cs(s,r),lp=!1,To=Pn=cp=Ta=mr=vt=0,Sn=hc=null,up=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var f=31-_t(c),y=1<<f;r|=s[f],c&=~y}return Si=r,Zu(),o}function Dx(s,r){Me=null,Q.H=sc,r===mo||r===oh?(r=Yv(),et=3):r===vm?(r=Yv(),et=4):et=r===$m?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,Ue===null&&(vt=1,_h(s,Kn(r,s.current)))}function jx(){var s=Mn.current;return s===null?!0:(Be&4194048)===Be?Wn===null:(Be&62914560)===Be||(Be&536870912)!==0?s===Wn:!1}function Mx(){var s=Q.H;return Q.H=sc,s===null?sc:s}function Vx(){var s=Q.A;return Q.A=AN,s}function jh(){vt=4,fr||(Be&4194048)!==Be&&Mn.current!==null||(wo=!0),(mr&134217727)===0&&(Ta&134217727)===0||at===null||yr(at,Be,Pn,!1)}function pp(s,r,o){var c=We;We|=2;var f=Mx(),y=Vx();(at!==s||Be!==r)&&(Ih=null,So(s,r)),r=!1;var _=vt;e:do try{if(et!==0&&Ue!==null){var S=Ue,O=On;switch(et){case 8:mp(),_=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var $=et;if(et=0,On=null,Ao(s,S,O,$),o&&wo){_=0;break e}break;default:$=et,et=0,On=null,Ao(s,S,O,$)}}RN(),_=vt;break}catch(Z){Dx(s,Z)}while(!0);return r&&s.shellSuspendCounter++,pi=ma=null,We=c,Q.H=f,Q.A=y,Ue===null&&(at=null,Be=0,Zu()),_}function RN(){for(;Ue!==null;)Ox(Ue)}function kN(s,r){var o=We;We|=2;var c=Mx(),f=Vx();at!==s||Be!==r?(Ih=null,kh=pn()+500,So(s,r)):wo=cs(s,r);e:do try{if(et!==0&&Ue!==null){r=Ue;var y=On;t:switch(et){case 1:et=0,On=null,Ao(s,r,y,1);break;case 2:case 9:if($v(y)){et=0,On=null,Px(r);break}r=function(){et!==2&&et!==9||at!==s||(et=7),Xs(s)},y.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:$v(y)?(et=0,On=null,Px(r)):(et=0,On=null,Ao(s,r,y,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var S=Ue;if(_?w1(_):S.stateNode.complete){et=0,On=null;var O=S.sibling;if(O!==null)Ue=O;else{var $=S.return;$!==null?(Ue=$,Mh($)):Ue=null}break t}}et=0,On=null,Ao(s,r,y,5);break;case 6:et=0,On=null,Ao(s,r,y,6);break;case 8:mp(),vt=6;break e;default:throw Error(i(462))}}IN();break}catch(Z){Dx(s,Z)}while(!0);return pi=ma=null,Q.H=c,Q.A=f,We=o,Ue!==null?0:(at=null,Be=0,Zu(),vt)}function IN(){for(;Ue!==null&&!Gf();)Ox(Ue)}function Ox(s){var r=ax(s.alternate,s,Si);s.memoizedProps=s.pendingProps,r===null?Mh(s):Ue=r}function Px(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=ex(o,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=ex(o,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:km(r);default:lx(o,r),r=Ue=Vv(r,Si),r=ax(o,r,Si)}s.memoizedProps=s.pendingProps,r===null?Mh(s):Ue=r}function Ao(s,r,o,c){pi=ma=null,km(r),po=null,Ql=0;var f=r.return;try{if(bN(s,f,r,o,Be)){vt=1,_h(s,Kn(o,s.current)),Ue=null;return}}catch(y){if(f!==null)throw Ue=f,y;vt=1,_h(s,Kn(o,s.current)),Ue=null;return}r.flags&32768?($e||c===1?s=!0:wo||(Be&536870912)!==0?s=!1:(fr=s=!0,(c===2||c===9||c===3||c===6)&&(c=Mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Lx(r,s)):Mh(r)}function Mh(s){var r=s;do{if((r.flags&32768)!==0){Lx(r,fr);return}s=r.return;var o=wN(r.alternate,r,Si);if(o!==null){Ue=o;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=s}while(r!==null);vt===0&&(vt=5)}function Lx(s,r){do{var o=TN(s.alternate,s);if(o!==null){o.flags&=32767,Ue=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Ue=s;return}Ue=s=o}while(s!==null);vt=6,Ue=null}function Ux(s,r,o,c,f,y,_,S,O){s.cancelPendingCommit=null;do Vh();while(zt!==0);if((We&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=sm,Yf(s,o,y,_,S,O),s===at&&(Ue=at=null,Be=0),Eo=r,gr=s,Ai=o,hp=y,dp=f,Nx=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,VN(Ki,function(){return qx(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,f=oe.p,oe.p=2,_=We,We|=4;try{EN(s,r,o)}finally{We=_,oe.p=f,Q.T=c}}zt=1,zx(),Bx(),Fx()}}function zx(){if(zt===1){zt=0;var s=gr,r=Eo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var c=oe.p;oe.p=2;var f=We;We|=4;try{xx(r,s);var y=Cp,_=Av(s.containerInfo),S=y.focusedElem,O=y.selectionRange;if(_!==S&&S&&S.ownerDocument&&Sv(S.ownerDocument.documentElement,S)){if(O!==null&&Jf(S)){var $=O.start,Z=O.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var ie=S.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),pe=S.textContent.length,Ee=Math.min(O.start,pe),rt=O.end===void 0?Ee:Math.min(O.end,pe);!W.extend&&Ee>rt&&(_=rt,rt=Ee,Ee=_);var H=Ev(S,Ee),z=Ev(S,rt);if(H&&z&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var G=ie.createRange();G.setStart(H.node,H.offset),W.removeAllRanges(),Ee>rt?(W.addRange(G),W.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),W.addRange(G))}}}}for(ie=[],W=S;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var ne=ie[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Kh=!!Ap,Cp=Ap=null}finally{We=f,oe.p=c,Q.T=o}}s.current=r,zt=2}}function Bx(){if(zt===2){zt=0;var s=gr,r=Eo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var c=oe.p;oe.p=2;var f=We;We|=4;try{px(s,r.alternate,r)}finally{We=f,oe.p=c,Q.T=o}}zt=3}}function Fx(){if(zt===4||zt===3){zt=0,Su();var s=gr,r=Eo,o=Ai,c=Nx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Eo=gr=null,Hx(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(pr=null),ci(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ls,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Q.T,f=oe.p,oe.p=2,Q.T=null;try{for(var y=s.onRecoverableError,_=0;_<c.length;_++){var S=c[_];y(S.value,{componentStack:S.stack})}}finally{Q.T=r,oe.p=f}}(Ai&3)!==0&&Vh(),Xs(s),f=s.pendingLanes,(o&261930)!==0&&(f&42)!==0?s===fp?dc++:(dc=0,fp=s):dc=0,fc(0)}}function Hx(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Kl(r)))}function Vh(){return zx(),Bx(),Fx(),qx()}function qx(){if(zt!==5)return!1;var s=gr,r=hp;hp=0;var o=ci(Ai),c=Q.T,f=oe.p;try{oe.p=32>o?32:o,Q.T=null,o=dp,dp=null;var y=gr,_=Ai;if(zt=0,Eo=gr=null,Ai=0,(We&6)!==0)throw Error(i(331));var S=We;if(We|=4,Sx(y.current),wx(y,y.current,_,o),We=S,fc(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ls,y)}catch{}return!0}finally{oe.p=f,Q.T=c,Hx(s,r)}}function Gx(s,r,o){r=Kn(o,r),r=Gm(s.stateNode,r,2),s=cr(s,r,2),s!==null&&(Wr(s,2),Xs(s))}function tt(s,r,o){if(s.tag===3)Gx(s,s,o);else for(;r!==null;){if(r.tag===3){Gx(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(pr===null||!pr.has(c))){s=Kn(o,s),o=$b(2),c=cr(r,o,2),c!==null&&(Kb(o,c,r,s),Wr(c,2),Xs(c));break}}r=r.return}}function gp(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new CN;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(lp=!0,f.add(o),s=DN.bind(null,s,r,o),r.then(s,s))}function DN(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,at===s&&(Be&o)===o&&(vt===4||vt===3&&(Be&62914560)===Be&&300>pn()-Rh?(We&2)===0&&So(s,0):cp|=o,To===Be&&(To=0)),Xs(s)}function $x(s,r){r===0&&(r=Iu()),s=ha(s,r),s!==null&&(Wr(s,r),Xs(s))}function jN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),$x(s,o)}function MN(s,r){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,f=s.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),$x(s,o)}function VN(s,r){return Ut(s,r)}var Oh=null,Co=null,yp=!1,Ph=!1,vp=!1,vr=0;function Xs(s){s!==Co&&s.next===null&&(Co===null?Oh=Co=s:Co=Co.next=s),Ph=!0,yp||(yp=!0,PN())}function fc(s,r){if(!vp&&Ph){vp=!0;do for(var o=!1,c=Oh;c!==null;){if(s!==0){var f=c.pendingLanes;if(f===0)var y=0;else{var _=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-_t(42|s)+1)-1,y&=f&~(_&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Xx(c,y))}else y=Be,y=Ds(c,c===at?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||cs(c,y)||(o=!0,Xx(c,y));c=c.next}while(o);vp=!1}}function ON(){Kx()}function Kx(){Ph=yp=!1;var s=0;vr!==0&&KN()&&(s=vr);for(var r=pn(),o=null,c=Oh;c!==null;){var f=c.next,y=Yx(c,r);y===0?(c.next=null,o===null?Oh=f:o.next=f,f===null&&(Co=o)):(o=c,(s!==0||(y&3)!==0)&&(Ph=!0)),c=f}zt!==0&&zt!==5||fc(s),vr!==0&&(vr=0)}function Yx(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,f=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-_t(y),S=1<<_,O=f[_];O===-1?((S&o)===0||(S&c)!==0)&&(f[_]=Kf(S,r)):O<=r&&(s.expiredLanes|=S),y&=~S}if(r=at,o=Be,o=Ds(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&(et===2||et===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&$i(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||cs(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&$i(c),ci(o)){case 2:case 8:o=Tl;break;case 32:o=Ki;break;case 268435456:o=Au;break;default:o=Ki}return c=Qx.bind(null,s),o=Ut(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&$i(c),s.callbackPriority=2,s.callbackNode=null,2}function Qx(s,r){if(zt!==0&&zt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Vh()&&s.callbackNode!==o)return null;var c=Be;return c=Ds(s,s===at?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(kx(s,c,r),Yx(s,pn()),s.callbackNode!=null&&s.callbackNode===o?Qx.bind(null,s):null)}function Xx(s,r){if(Vh())return null;kx(s,r,!0)}function PN(){QN(function(){(We&6)!==0?Ut(wl,ON):Kx()})}function bp(){if(vr===0){var s=ho;s===0&&(s=ks,ks<<=1,(ks&261888)===0&&(ks=256)),vr=s}return vr}function Wx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xa(""+s)}function Jx(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function LN(s,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var y=Wx((f[Ht]||null).action),_=c.submitter;_&&(r=(r=_[Ht]||null)?Wx(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var S=new Hs("action","action",null,c,f);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vr!==0){var O=_?Jx(f,_):new FormData(f);Um(o,{pending:!0,data:O,method:f.method,action:y},null,O)}}else typeof y=="function"&&(S.preventDefault(),O=_?Jx(f,_):new FormData(f),Um(o,{pending:!0,data:O,method:f.method,action:y},y,O))},currentTarget:f}]})}}for(var xp=0;xp<nm.length;xp++){var _p=nm[xp],UN=_p.toLowerCase(),zN=_p[0].toUpperCase()+_p.slice(1);ys(UN,"on"+zN)}ys(Rv,"onAnimationEnd"),ys(kv,"onAnimationIteration"),ys(Iv,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(nN,"onTransitionRun"),ys(sN,"onTransitionStart"),ys(iN,"onTransitionCancel"),ys(Dv,"onTransitionEnd"),Us("onMouseEnter",["mouseout","mouseover"]),Us("onMouseLeave",["mouseout","mouseover"]),Us("onPointerEnter",["pointerout","pointerover"]),Us("onPointerLeave",["pointerout","pointerover"]),Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function Zx(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],f=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var _=c.length-1;0<=_;_--){var S=c[_],O=S.instance,$=S.currentTarget;if(S=S.listener,O!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=$;try{y(f)}catch(Z){Ju(Z)}f.currentTarget=null,y=O}else for(_=0;_<c.length;_++){if(S=c[_],O=S.instance,$=S.currentTarget,S=S.listener,O!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=$;try{y(f)}catch(Z){Ju(Z)}f.currentTarget=null,y=O}}}}function ze(s,r){var o=r[Ga];o===void 0&&(o=r[Ga]=new Set);var c=s+"__bubble";o.has(c)||(e1(r,s,2,!1),o.add(c))}function wp(s,r,o){var c=0;r&&(c|=4),e1(o,s,c,r)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function Tp(s){if(!s[Lh]){s[Lh]=!0,Al.forEach(function(o){o!=="selectionchange"&&(BN.has(o)||wp(o,!1,s),wp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Lh]||(r[Lh]=!0,wp("selectionchange",!1,r))}}function e1(s,r,o,c){switch(R1(r)){case 2:var f=pR;break;case 8:f=gR;break;default:f=Lp}o=f.bind(null,r,o,s),f=void 0,!sa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?s.addEventListener(r,o,{capture:!0,passive:f}):s.addEventListener(r,o,!0):f!==void 0?s.addEventListener(r,o,{passive:f}):s.addEventListener(r,o,!1)}function Ep(s,r,o,c,f){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=c.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Os(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){c=y=_;continue e}S=S.parentNode}}c=c.return}Zi(function(){var $=y,Z=Hn(o),ie=[];e:{var Y=jv.get(s);if(Y!==void 0){var W=Hs,pe=s;switch(s){case"keypress":if(ra(o)===0)break e;case"keydown":case"keyup":W=Qu;break;case"focusin":pe="focus",W=oa;break;case"focusout":pe="blur",W=oa;break;case"beforeblur":case"afterblur":W=oa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=x;break;case Rv:case kv:case Iv:W=Fu;break;case Dv:W=N;break;case"scroll":case"scrollend":W=Ll;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=di;break;case"toggle":case"beforetoggle":W=je}var Ee=(r&4)!==0,rt=!Ee&&(s==="scroll"||s==="scrollend"),H=Ee?Y!==null?Y+"Capture":null:Y;Ee=[];for(var z=$,G;z!==null;){var ne=z;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||H===null||(ne=fs(z,H),ne!=null&&Ee.push(pc(z,ne,G))),rt)break;z=z.return}0<Ee.length&&(Y=new W(Y,pe,null,o,Z),ie.push({event:Y,listeners:Ee}))}}if((r&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",Y&&o!==Vl&&(pe=o.relatedTarget||o.fromElement)&&(Os(pe)||pe[Ms]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(pe=o.relatedTarget||o.toElement,W=$,pe=pe?Os(pe):null,pe!==null&&(rt=l(pe),Ee=pe.tag,pe!==rt||Ee!==5&&Ee!==27&&Ee!==6)&&(pe=null)):(W=null,pe=$),W!==pe)){if(Ee=Ul,ne="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=di,ne="onPointerLeave",H="onPointerEnter",z="pointer"),rt=W==null?Y:kn(W),G=pe==null?Y:kn(pe),Y=new Ee(ne,z+"leave",W,o,Z),Y.target=rt,Y.relatedTarget=G,ne=null,Os(Z)===$&&(Ee=new Ee(H,z+"enter",pe,o,Z),Ee.target=G,Ee.relatedTarget=rt,ne=Ee),rt=ne,W&&pe)t:{for(Ee=FN,H=W,z=pe,G=0,ne=H;ne;ne=Ee(ne))G++;ne=0;for(var xe=z;xe;xe=Ee(xe))ne++;for(;0<G-ne;)H=Ee(H),G--;for(;0<ne-G;)z=Ee(z),ne--;for(;G--;){if(H===z||z!==null&&H===z.alternate){Ee=H;break t}H=Ee(H),z=Ee(z)}Ee=null}else Ee=null;W!==null&&t1(ie,Y,W,Ee,!1),pe!==null&&rt!==null&&t1(ie,rt,pe,Ee,!0)}}e:{if(Y=$?kn($):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Ye=vv;else if(gv(Y))if(bv)Ye=ZC;else{Ye=WC;var ye=XC}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&Qa($.elementType)&&(Ye=vv):Ye=JC;if(Ye&&(Ye=Ye(s,$))){yv(ie,Ye,o,Z);break e}ye&&ye(s,Y,$),s==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Dl(Y,"number",Y.value)}switch(ye=$?kn($):window,s){case"focusin":(gv(ye)||ye.contentEditable==="true")&&(so=ye,Zf=$,ql=null);break;case"focusout":ql=Zf=so=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,Cv(ie,o,Z);break;case"selectionchange":if(tN)break;case"keydown":case"keyup":Cv(ie,o,Z)}var Oe;if(Xe)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else no?la(s,o)&&(Fe="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&($s&&o.locale!=="ko"&&(no||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&no&&(Oe=Pl()):(Fs=Z,Ol="value"in Fs?Fs.value:Fs.textContent,no=!0)),ye=Uh($,Fe),0<ye.length&&(Fe=new Gs(Fe,s,null,o,Z),ie.push({event:Fe,listeners:ye}),Oe?Fe.data=Oe:(Oe=to(o),Oe!==null&&(Fe.data=Oe)))),(Oe=Gn?$C(s,o):KC(s,o))&&(Fe=Uh($,"onBeforeInput"),0<Fe.length&&(ye=new Gs("onBeforeInput","beforeinput",null,o,Z),ie.push({event:ye,listeners:Fe}),ye.data=Oe)),LN(ie,s,$,o,Z)}Zx(ie,r)})}function pc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Uh(s,r){for(var o=r+"Capture",c=[];s!==null;){var f=s,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=fs(s,o),f!=null&&c.unshift(pc(s,f,y)),f=fs(s,r),f!=null&&c.push(pc(s,f,y))),s.tag===3)return c;s=s.return}return[]}function FN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function t1(s,r,o,c,f){for(var y=r._reactName,_=[];o!==null&&o!==c;){var S=o,O=S.alternate,$=S.stateNode;if(S=S.tag,O!==null&&O===c)break;S!==5&&S!==26&&S!==27||$===null||(O=$,f?($=fs(o,y),$!=null&&_.unshift(pc(o,$,O))):f||($=fs(o,y),$!=null&&_.push(pc(o,$,O)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var HN=/\r\n?/g,qN=/\u0000|\uFFFD/g;function n1(s){return(typeof s=="string"?s:""+s).replace(HN,`
`).replace(qN,"")}function s1(s,r){return r=n1(r),n1(s)===r}function it(s,r,o,c,f,y){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||_n(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&_n(s,""+c);break;case"className":In(s,"class",c);break;case"tabIndex":In(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":In(s,o,c);break;case"style":Ml(s,c,y);break;case"data":if(r!=="object"){In(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Xa(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&it(s,r,"name",f.name,f,null),it(s,r,"formEncType",f.formEncType,f,null),it(s,r,"formMethod",f.formMethod,f,null),it(s,r,"formTarget",f.formTarget,f,null)):(it(s,r,"encType",f.encType,f,null),it(s,r,"method",f.method,f,null),it(s,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Xa(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=ds);break;case"onScroll":c!=null&&ze("scroll",s);break;case"onScrollEnd":c!=null&&ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=Xa(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":ze("beforetoggle",s),ze("toggle",s),Ka(s,"popover",c);break;case"xlinkActuate":kt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ka(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Uu.get(o)||o,Ka(s,o,c))}}function Sp(s,r,o,c,f,y){switch(o){case"style":Ml(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?_n(s,c):(typeof c=="number"||typeof c=="bigint")&&_n(s,""+c);break;case"onScroll":c!=null&&ze("scroll",s);break;case"onScrollEnd":c!=null&&ze("scrollend",s);break;case"onClick":c!=null&&(s.onclick=ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),y=s[Ht]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,f),typeof c=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,f);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):Ka(s,o,c)}}}function tn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",s),ze("load",s);var c=!1,f=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:it(s,r,y,_,o,null)}}f&&it(s,r,"srcSet",o.srcSet,o,null),c&&it(s,r,"src",o.src,o,null);return;case"input":ze("invalid",s);var S=y=_=f=null,O=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":f=Z;break;case"type":_=Z;break;case"checked":O=Z;break;case"defaultChecked":$=Z;break;case"value":y=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:it(s,r,c,Z,o,null)}}Ou(s,y,S,O,$,_,f,!1);return;case"select":ze("invalid",s),c=_=y=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":y=S;break;case"defaultValue":_=S;break;case"multiple":c=S;default:it(s,r,f,S,o,null)}r=y,o=_,s.multiple=!!c,r!=null?Qi(s,!!c,r,!1):o!=null&&Qi(s,!!c,o,!0);return;case"textarea":ze("invalid",s),y=f=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(S=o[_],S!=null))switch(_){case"value":c=S;break;case"defaultValue":f=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:it(s,r,_,S,o,null)}Xi(s,c,f,y);return;case"option":for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null)&&(O==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":it(s,r,O,c,o,null));return;case"dialog":ze("beforetoggle",s),ze("toggle",s),ze("cancel",s),ze("close",s);break;case"iframe":case"object":ze("load",s);break;case"video":case"audio":for(c=0;c<mc.length;c++)ze(mc[c],s);break;case"image":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"embed":case"source":case"link":ze("error",s),ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:it(s,r,$,c,o,null)}return;default:if(Qa(r)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Sp(s,r,Z,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&it(s,r,S,c,o,null))}function GN(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,_=null,S=null,O=null,$=null,Z=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=ie;default:c.hasOwnProperty(W)||it(s,r,W,null,c,ie)}}for(var Y in c){var W=c[Y];if(ie=o[Y],c.hasOwnProperty(Y)&&(W!=null||ie!=null))switch(Y){case"type":y=W;break;case"name":f=W;break;case"checked":$=W;break;case"defaultChecked":Z=W;break;case"value":_=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:W!==ie&&it(s,r,Y,W,c,ie)}}Ya(s,_,S,O,$,Z,y,f);return;case"select":W=_=S=Y=null;for(y in o)if(O=o[y],o.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":W=O;default:c.hasOwnProperty(y)||it(s,r,y,null,c,O)}for(f in c)if(y=c[f],O=o[f],c.hasOwnProperty(f)&&(y!=null||O!=null))switch(f){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":_=y;default:y!==O&&it(s,r,f,y,c,O)}r=S,o=_,c=W,Y!=null?Qi(s,!!o,Y,!1):!!c!=!!o&&(r!=null?Qi(s,!!o,r,!0):Qi(s,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(s,r,S,null,c,f)}for(_ in c)if(f=c[_],y=o[_],c.hasOwnProperty(_)&&(f!=null||y!=null))switch(_){case"value":Y=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==y&&it(s,r,_,f,c,y)}Pu(s,Y,W);return;case"option":for(var pe in o)Y=o[pe],o.hasOwnProperty(pe)&&Y!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?s.selected=!1:it(s,r,pe,null,c,Y));for(O in c)Y=c[O],W=o[O],c.hasOwnProperty(O)&&Y!==W&&(Y!=null||W!=null)&&(O==="selected"?s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":it(s,r,O,Y,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)Y=o[Ee],o.hasOwnProperty(Ee)&&Y!=null&&!c.hasOwnProperty(Ee)&&it(s,r,Ee,null,c,Y);for($ in c)if(Y=c[$],W=o[$],c.hasOwnProperty($)&&Y!==W&&(Y!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:it(s,r,$,Y,c,W)}return;default:if(Qa(r)){for(var rt in o)Y=o[rt],o.hasOwnProperty(rt)&&Y!==void 0&&!c.hasOwnProperty(rt)&&Sp(s,r,rt,void 0,c,Y);for(Z in c)Y=c[Z],W=o[Z],!c.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||Sp(s,r,Z,Y,c,W);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!c.hasOwnProperty(H)&&it(s,r,H,null,c,Y);for(ie in c)Y=c[ie],W=o[ie],!c.hasOwnProperty(ie)||Y===W||Y==null&&W==null||it(s,r,ie,Y,c,W)}function i1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $N(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],y=f.transferSize,_=f.initiatorType,S=f.duration;if(y&&S&&i1(_)){for(_=0,S=f.responseEnd,c+=1;c<o.length;c++){var O=o[c],$=O.startTime;if($>S)break;var Z=O.transferSize,ie=O.initiatorType;Z&&i1(ie)&&(O=O.responseEnd,_+=Z*(O<S?1:(S-$)/(O-$)))}if(--c,r+=8*(y+_)/(f.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ap=null,Cp=null;function zh(s){return s.nodeType===9?s:s.ownerDocument}function r1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a1(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Np(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rp=null;function KN(){var s=window.event;return s&&s.type==="popstate"?s===Rp?!1:(Rp=s,!0):(Rp=null,!1)}var o1=typeof setTimeout=="function"?setTimeout:void 0,YN=typeof clearTimeout=="function"?clearTimeout:void 0,l1=typeof Promise=="function"?Promise:void 0,QN=typeof queueMicrotask=="function"?queueMicrotask:typeof l1<"u"?function(s){return l1.resolve(null).then(s).catch(XN)}:o1;function XN(s){setTimeout(function(){throw s})}function br(s){return s==="head"}function c1(s,r){var o=r,c=0;do{var f=o.nextSibling;if(s.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(f),Io(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")gc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,gc(o);for(var y=o.firstChild;y;){var _=y.nextSibling,S=y.nodeName;y[Vs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=_}}else o==="body"&&gc(s.ownerDocument.body);o=f}while(o);Io(r)}function u1(s,r){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function kp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":kp(o),$a(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function WN(s,r,o,c){for(;s.nodeType===1;){var f=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Vs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Jn(s.nextSibling),s===null)break}return null}function JN(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Jn(s.nextSibling),s===null))return null;return s}function h1(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Jn(s.nextSibling),s===null))return null;return s}function Ip(s){return s.data==="$?"||s.data==="$~"}function Dp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function ZN(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Jn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var jp=null;function d1(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return Jn(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function f1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function m1(s,r,o){switch(r=zh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function gc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);$a(s)}var Zn=new Map,p1=new Set;function Bh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ci=oe.d;oe.d={f:eR,r:tR,D:nR,C:sR,L:iR,m:rR,X:oR,S:aR,M:lR};function eR(){var s=Ci.f(),r=Dh();return s||r}function tR(s){var r=Fn(s);r!==null&&r.tag===5&&r.type==="form"?Db(r):Ci.r(s)}var No=typeof document>"u"?null:document;function g1(s,r,o){var c=No;if(c&&typeof r=="string"&&r){var f=xn(r);f='link[rel="'+s+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),p1.has(f)||(p1.add(f),s={rel:s,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),tn(r,"link",s),Rt(r),c.head.appendChild(r)))}}function nR(s){Ci.D(s),g1("dns-prefetch",s,null)}function sR(s,r){Ci.C(s,r),g1("preconnect",s,r)}function iR(s,r,o){Ci.L(s,r,o);var c=No;if(c&&s&&r){var f='link[rel="preload"][as="'+xn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+xn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+xn(o.imageSizes)+'"]')):f+='[href="'+xn(s)+'"]';var y=f;switch(r){case"style":y=Ro(s);break;case"script":y=ko(s)}Zn.has(y)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),Zn.set(y,s),c.querySelector(f)!==null||r==="style"&&c.querySelector(yc(y))||r==="script"&&c.querySelector(vc(y))||(r=c.createElement("link"),tn(r,"link",s),Rt(r),c.head.appendChild(r)))}}function rR(s,r){Ci.m(s,r);var o=No;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+xn(c)+'"][href="'+xn(s)+'"]',y=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ko(s)}if(!Zn.has(y)&&(s=b({rel:"modulepreload",href:s},r),Zn.set(y,s),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(vc(y)))return}c=o.createElement("link"),tn(c,"link",s),Rt(c),o.head.appendChild(c)}}}function aR(s,r,o){Ci.S(s,r,o);var c=No;if(c&&s){var f=Ps(c).hoistableStyles,y=Ro(s);r=r||"default";var _=f.get(y);if(!_){var S={loading:0,preload:null};if(_=c.querySelector(yc(y)))S.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=Zn.get(y))&&Mp(s,o);var O=_=c.createElement("link");Rt(O),tn(O,"link",s),O._p=new Promise(function($,Z){O.onload=$,O.onerror=Z}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Fh(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(y,_)}}}function oR(s,r){Ci.X(s,r);var o=No;if(o&&s){var c=Ps(o).hoistableScripts,f=ko(s),y=c.get(f);y||(y=o.querySelector(vc(f)),y||(s=b({src:s,async:!0},r),(r=Zn.get(f))&&Vp(s,r),y=o.createElement("script"),Rt(y),tn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function lR(s,r){Ci.M(s,r);var o=No;if(o&&s){var c=Ps(o).hoistableScripts,f=ko(s),y=c.get(f);y||(y=o.querySelector(vc(f)),y||(s=b({src:s,async:!0,type:"module"},r),(r=Zn.get(f))&&Vp(s,r),y=o.createElement("script"),Rt(y),tn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function y1(s,r,o,c){var f=(f=Re.current)?Bh(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ro(o.href),o=Ps(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Ro(o.href);var y=Ps(f).hoistableStyles,_=y.get(s);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=f.querySelector(yc(s)))&&!y._p&&(_.instance=y,_.state.loading=5),Zn.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(s,o),y||cR(f,s,o,_.state))),r&&c===null)throw Error(i(528,""));return _}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ko(o),o=Ps(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ro(s){return'href="'+xn(s)+'"'}function yc(s){return'link[rel="stylesheet"]['+s+"]"}function v1(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function cR(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),tn(r,"link",o),Rt(r),s.head.appendChild(r))}function ko(s){return'[src="'+xn(s)+'"]'}function vc(s){return"script[async]"+s}function b1(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+xn(o.href)+'"]');if(c)return r.instance=c,Rt(c),c;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Rt(c),tn(c,"style",f),Fh(c,o.precedence,s),r.instance=c;case"stylesheet":f=Ro(o.href);var y=s.querySelector(yc(f));if(y)return r.state.loading|=4,r.instance=y,Rt(y),y;c=v1(o),(f=Zn.get(f))&&Mp(c,f),y=(s.ownerDocument||s).createElement("link"),Rt(y);var _=y;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),tn(y,"link",c),r.state.loading|=4,Fh(y,o.precedence,s),r.instance=y;case"script":return y=ko(o.src),(f=s.querySelector(vc(y)))?(r.instance=f,Rt(f),f):(c=o,(f=Zn.get(y))&&(c=b({},o),Vp(c,f)),s=s.ownerDocument||s,f=s.createElement("script"),Rt(f),tn(f,"link",c),s.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Fh(c,o.precedence,s));return r.instance}function Fh(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,y=f,_=0;_<c.length;_++){var S=c[_];if(S.dataset.precedence===r)y=S;else if(y!==f)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Mp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Vp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Hh=null;function x1(s,r,o){if(Hh===null){var c=new Map,f=Hh=new Map;f.set(o,c)}else f=Hh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),f=0;f<o.length;f++){var y=o[f];if(!(y[Vs]||y[Nt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=s+_;var S=c.get(_);S?S.push(y):c.set(_,[y])}}return c}function _1(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function uR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function w1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function hR(s,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Ro(c.href),y=r.querySelector(yc(f));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=qh.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Rt(y);return}y=r.ownerDocument||r,c=v1(c),(f=Zn.get(f))&&Mp(c,f),y=y.createElement("link"),Rt(y);var _=y;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),tn(y,"link",c),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=qh.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Op=0;function dR(s,r){return s.stylesheets&&s.count===0&&$h(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&$h(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&Op===0&&(Op=62500*$N());var f=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&$h(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Op?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Gh=null;function $h(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Gh=new Map,r.forEach(fR,s),Gh=null,qh.call(s))}function fR(s,r){if(!(r.state.loading&4)){var o=Gh.get(s);if(o)var c=o.get(null);else{o=new Map,Gh.set(s,o);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var _=f[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}f=r.instance,_=f.getAttribute("data-precedence"),y=o.get(_)||c,y===c&&o.set(null,f),o.set(_,f),this.count++,c=qh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),y?y.parentNode.insertBefore(f,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),r.state.loading|=4}}var bc={$$typeof:K,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function mR(s,r,o,c,f,y,_,S,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.hiddenUpdates=js(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function T1(s,r,o,c,f,y,_,S,O,$,Z,ie){return s=new mR(s,r,o,_,O,$,Z,ie,S),r=1,y===!0&&(r|=24),y=jn(3,null,null,r),s.current=y,y.stateNode=s,r=pm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:r},bm(y),s}function E1(s){return s?(s=ao,s):ao}function S1(s,r,o,c,f,y){f=E1(f),c.context===null?c.context=f:c.pendingContext=f,c=lr(r),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=cr(s,c,r),o!==null&&(An(o,s,r),Wl(o,s,r))}function A1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Pp(s,r){A1(s,r),(s=s.alternate)&&A1(s,r)}function C1(s){if(s.tag===13||s.tag===31){var r=ha(s,67108864);r!==null&&An(r,s,67108864),Pp(s,67108864)}}function N1(s){if(s.tag===13||s.tag===31){var r=Ln();r=Zr(r);var o=ha(s,r);o!==null&&An(o,s,r),Pp(s,r)}}var Kh=!0;function pR(s,r,o,c){var f=Q.T;Q.T=null;var y=oe.p;try{oe.p=2,Lp(s,r,o,c)}finally{oe.p=y,Q.T=f}}function gR(s,r,o,c){var f=Q.T;Q.T=null;var y=oe.p;try{oe.p=8,Lp(s,r,o,c)}finally{oe.p=y,Q.T=f}}function Lp(s,r,o,c){if(Kh){var f=Up(c);if(f===null)Ep(s,r,c,Yh,o),k1(s,c);else if(vR(f,s,r,o,c))c.stopPropagation();else if(k1(s,c),r&4&&-1<yR.indexOf(s)){for(;f!==null;){var y=Fn(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Is(y.pendingLanes);if(_!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-_t(_);S.entanglements[1]|=O,_&=~O}Xs(y),(We&6)===0&&(kh=pn()+500,fc(0))}}break;case 31:case 13:S=ha(y,2),S!==null&&An(S,y,2),Dh(),Pp(y,2)}if(y=Up(c),y===null&&Ep(s,r,c,Yh,o),y===f)break;f=y}f!==null&&c.stopPropagation()}else Ep(s,r,c,null,o)}}function Up(s){return s=Hn(s),zp(s)}var Yh=null;function zp(s){if(Yh=null,s=Os(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Yh=s,null}function R1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qr()){case wl:return 2;case Tl:return 8;case Ki:case $f:return 32;case Au:return 268435456;default:return 32}default:return 32}}var Bp=!1,xr=null,_r=null,wr=null,xc=new Map,_c=new Map,Tr=[],yR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k1(s,r){switch(s){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":xc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(r.pointerId)}}function wc(s,r,o,c,f,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[f]},r!==null&&(r=Fn(r),r!==null&&C1(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),s)}function vR(s,r,o,c,f){switch(r){case"focusin":return xr=wc(xr,s,r,o,c,f),!0;case"dragenter":return _r=wc(_r,s,r,o,c,f),!0;case"mouseover":return wr=wc(wr,s,r,o,c,f),!0;case"pointerover":var y=f.pointerId;return xc.set(y,wc(xc.get(y)||null,s,r,o,c,f)),!0;case"gotpointercapture":return y=f.pointerId,_c.set(y,wc(_c.get(y)||null,s,r,o,c,f)),!0}return!1}function I1(s){var r=Os(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,us(s.priority,function(){N1(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,us(s.priority,function(){N1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Up(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);Vl=c,o.target.dispatchEvent(c),Vl=null}else return r=Fn(o),r!==null&&C1(r),s.blockedOn=o,!1;r.shift()}return!0}function D1(s,r,o){Qh(s)&&o.delete(r)}function bR(){Bp=!1,xr!==null&&Qh(xr)&&(xr=null),_r!==null&&Qh(_r)&&(_r=null),wr!==null&&Qh(wr)&&(wr=null),xc.forEach(D1),_c.forEach(D1)}function Xh(s,r){s.blockedOn===r&&(s.blockedOn=null,Bp||(Bp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bR)))}var Wh=null;function j1(s){Wh!==s&&(Wh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wh===s&&(Wh=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],f=s[r+2];if(typeof c!="function"){if(zp(c||o)===null)continue;break}var y=Fn(o);y!==null&&(s.splice(r,3),r-=3,Um(y,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Io(s){function r(O){return Xh(O,s)}xr!==null&&Xh(xr,s),_r!==null&&Xh(_r,s),wr!==null&&Xh(wr,s),xc.forEach(r),_c.forEach(r);for(var o=0;o<Tr.length;o++){var c=Tr[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Tr.length&&(o=Tr[0],o.blockedOn===null);)I1(o),o.blockedOn===null&&Tr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],y=o[c+1],_=f[Ht]||null;if(typeof y=="function")_||j1(o);else if(_){var S=null;if(y&&y.hasAttribute("formAction")){if(f=y,_=y[Ht]||null)S=_.formAction;else if(zp(f)!==null)continue}else S=_.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),j1(o)}}}function M1(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Fp(s){this._internalRoot=s}Jh.prototype.render=Fp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Ln();S1(o,c,s,r,null,null)},Jh.prototype.unmount=Fp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;S1(s.current,2,null,s,null,null),Dh(),r[Ms]=null}};function Jh(s){this._internalRoot=s}Jh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Du();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Tr.length&&r!==0&&r<Tr[o].priority;o++);Tr.splice(o,0,s),o===0&&I1(s)}};var V1=e.version;if(V1!=="19.2.4")throw Error(i(527,V1,"19.2.4"));oe.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var xR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{ls=Zh.inject(xR),Xt=Zh}catch{}}return Ec.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",f=Fb,y=Hb,_=qb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=T1(s,1,!1,null,null,o,c,null,f,y,_,M1),s[Ms]=r.current,Tp(s),new Fp(r)},Ec.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,f="",y=Fb,_=Hb,S=qb,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=T1(s,1,!0,r,o??null,c,f,O,y,_,S,M1),r.context=E1(null),o=r.current,c=Ln(),c=Zr(c),f=lr(c),f.callback=null,cr(o,f,c),o=c,r.current.lanes=o,Wr(r,o),Xs(r),s[Ms]=r.current,Tp(s),new Jh(r)},Ec.version="19.2.4",Ec}var G1;function kR(){if(G1)return Gp.exports;G1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gp.exports=RR(),Gp.exports}var IR=kR();const DR=WT(IR);var $1="popstate";function jR(t={}){function e(i,a){let{pathname:l,search:u,hash:d}=i.location;return Ig("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:qc(a)}return VR(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MR(){return Math.random().toString(36).substring(2,10)}function K1(t,e){return{usr:t.state,key:t.key,idx:e}}function Ig(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?rl(e):e,state:n,key:e&&e.key||i||MR()}}function qc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function VR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,d="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function b(){d="POP";let P=v(),B=P==null?null:P-p;p=P,m&&m({action:d,location:L.location,delta:B})}function w(P,B){d="PUSH";let F=Ig(L.location,P,B);p=v()+1;let K=K1(F,p),J=L.createHref(F);try{u.pushState(K,"",J)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(J)}l&&m&&m({action:d,location:L.location,delta:1})}function A(P,B){d="REPLACE";let F=Ig(L.location,P,B);p=v();let K=K1(F,p),J=L.createHref(F);u.replaceState(K,"",J),l&&m&&m({action:d,location:L.location,delta:0})}function M(P){return OR(P)}let L={get action(){return d},get location(){return t(a,u)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener($1,b),m=P,()=>{a.removeEventListener($1,b),m=null}},createHref(P){return e(a,P)},createURL:M,encodeLocation(P){let B=M(P);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:A,go(P){return u.go(P)}};return L}function OR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:qc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ZT(t,e,n="/"){return PR(t,e,n,!1)}function PR(t,e,n,i){let a=typeof e=="string"?rl(e):e,l=Vi(a.pathname||"/",n);if(l==null)return null;let u=eE(t);LR(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let p=QR(l);d=KR(u[m],p,i)}return d}function eE(t,e=[],n=[],i="",a=!1){let l=(u,d,m=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;mt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=ji([i,v.relativePath]),w=n.concat(v);u.children&&u.children.length>0&&(mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),eE(u.children,e,w,b,m)),!(u.path==null&&!u.index)&&e.push({path:b,score:GR(b,u.index),routesMeta:w})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of tE(u.path))l(u,d,!0,m)}),e}function tE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=tE(i.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function LR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$R(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var UR=/^:[\w-]+$/,zR=3,BR=2,FR=1,HR=10,qR=-2,Y1=t=>t==="*";function GR(t,e){let n=t.split("/"),i=n.length;return n.some(Y1)&&(i+=qR),e&&(i+=BR),n.filter(a=>!Y1(a)).reduce((a,l)=>a+(UR.test(l)?zR:l===""?FR:HR),i)}function $R(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function KR(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=jd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),w=m.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=jd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:ji([l,b.pathname]),pathnameBase:ZR(ji([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=ji([l,b.pathnameBase]))}return u}function jd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=YR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},w)=>{if(v==="*"){let M=d[w]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const A=d[w];return b&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function YR(t,e=!1,n=!0){Cs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function QR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var XR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function WR(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?rl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=Q1(n.substring(1),"/"):l=Q1(n,e)):l=e,{pathname:l,search:ek(i),hash:tk(a)}}function Q1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Qp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k0(t){let e=JR(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function I0(t,e,n,i=!1){let a;typeof t=="string"?a=rl(t):(a={...t},mt(!a.pathname||!a.pathname.includes("?"),Qp("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Qp("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Qp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let b=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}d=b>=0?e[b]:"/"}let m=WR(a,d),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ji=t=>t.join("/").replace(/\/\/+/g,"/"),ZR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ek=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,nk=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function sk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function ik(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sE(t,e){let n=t;if(typeof n!="string"||!XR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(nE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Vi(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{Cs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iE=["POST","PUT","PATCH","DELETE"];new Set(iE);var rk=["GET",...iE];new Set(rk);var al=k.createContext(null);al.displayName="DataRouter";var ff=k.createContext(null);ff.displayName="DataRouterState";var ak=k.createContext(!1),rE=k.createContext({isTransitioning:!1});rE.displayName="ViewTransition";var ok=k.createContext(new Map);ok.displayName="Fetchers";var lk=k.createContext(null);lk.displayName="Await";var zn=k.createContext(null);zn.displayName="Navigation";var ou=k.createContext(null);ou.displayName="Location";var as=k.createContext({outlet:null,matches:[],isDataRoute:!1});as.displayName="Route";var D0=k.createContext(null);D0.displayName="RouteError";var aE="REACT_ROUTER_ERROR",ck="REDIRECT",uk="ROUTE_ERROR_RESPONSE";function hk(t){if(t.startsWith(`${aE}:${ck}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function dk(t){if(t.startsWith(`${aE}:${uk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nk(e.status,e.statusText,e.data)}catch{}}function fk(t,{relative:e}={}){mt(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(zn),{hash:a,pathname:l,search:u}=lu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ji([n,l])),i.createHref({pathname:d,search:u,hash:a})}function ol(){return k.useContext(ou)!=null}function Fi(){return mt(ol(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(ou).location}var oE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lE(t){k.useContext(zn).static||k.useLayoutEffect(t)}function mf(){let{isDataRoute:t}=k.useContext(as);return t?Rk():mk()}function mk(){mt(ol(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(al),{basename:e,navigator:n}=k.useContext(zn),{matches:i}=k.useContext(as),{pathname:a}=Fi(),l=JSON.stringify(k0(i)),u=k.useRef(!1);return lE(()=>{u.current=!0}),k.useCallback((m,p={})=>{if(Cs(u.current,oE),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=I0(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ji([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var pk=k.createContext(null);function gk(t){let e=k.useContext(as).outlet;return k.useMemo(()=>e&&k.createElement(pk.Provider,{value:t},e),[e,t])}function yk(){let{matches:t}=k.useContext(as),e=t[t.length-1];return e?e.params:{}}function lu(t,{relative:e}={}){let{matches:n}=k.useContext(as),{pathname:i}=Fi(),a=JSON.stringify(k0(n));return k.useMemo(()=>I0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function vk(t,e){return cE(t,e)}function cE(t,e,n,i,a){mt(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(zn),{matches:u}=k.useContext(as),d=u[u.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let F=b&&b.path||"";hE(p,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Fi(),A;if(e){let F=typeof e=="string"?rl(e):e;mt(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),A=F}else A=w;let M=A.pathname||"/",L=M;if(v!=="/"){let F=v.replace(/^\//,"").split("/");L="/"+M.replace(/^\//,"").split("/").slice(F.length).join("/")}let P=ZT(t,{pathname:L});Cs(b||P!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Cs(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Tk(P&&P.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:ji([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:ji([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),u,n,i,a);return e&&B?k.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function bk(){let t=Nk(),e=sk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,u)}var xk=k.createElement(bk,null),uE=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=dk(t.digest);n&&(t=n)}let e=t!==void 0?k.createElement(as.Provider,{value:this.props.routeContext},k.createElement(D0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(_k,{error:t},e):e}};uE.contextType=ak;var Xp=new WeakMap;function _k({children:t,error:e}){let{basename:n}=k.useContext(zn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=hk(e.digest);if(i){let a=Xp.get(e);if(a)throw a;let l=sE(i.location,n);if(nE&&!Xp.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Xp.set(e,u),u}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function wk({routeContext:t,match:e,children:n}){let i=k.useContext(al);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(as.Provider,{value:t},n)}function Tk(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);mt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:w,errors:A}=n,M=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||M){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&i?(v,b)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:ik(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,w)=>{let A,M=!1,L=null,P=null;n&&(A=u&&b.route.id?u[b.route.id]:void 0,L=b.route.errorElement||xk,d&&(m<0&&w===0?(hE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,P=null):m===w&&(M=!0,P=b.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,w+1)),F=()=>{let K;return A?K=L:M?K=P:b.route.Component?K=k.createElement(b.route.Component,null):b.route.element?K=b.route.element:K=v,k.createElement(wk,{match:b,routeContext:{outlet:v,matches:B,isDataRoute:n!=null},children:K})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?k.createElement(uE,{location:n.location,revalidation:n.revalidation,component:L,error:A,children:F(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):F()},null)}function j0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ek(t){let e=k.useContext(al);return mt(e,j0(t)),e}function Sk(t){let e=k.useContext(ff);return mt(e,j0(t)),e}function Ak(t){let e=k.useContext(as);return mt(e,j0(t)),e}function M0(t){let e=Ak(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Ck(){return M0("useRouteId")}function Nk(){let t=k.useContext(D0),e=Sk("useRouteError"),n=M0("useRouteError");return t!==void 0?t:e.errors?.[n]}function Rk(){let{router:t}=Ek("useNavigate"),e=M0("useNavigate"),n=k.useRef(!1);return lE(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{Cs(n.current,oE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var X1={};function hE(t,e,n){!e&&!X1[t]&&(X1[t]=!0,Cs(!1,n))}k.memo(kk);function kk({routes:t,future:e,state:n,onError:i}){return cE(t,void 0,n,i,e)}function Ik({to:t,replace:e,state:n,relative:i}){mt(ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(zn);Cs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(as),{pathname:u}=Fi(),d=mf(),m=I0(t,k0(l),u,i==="path"),p=JSON.stringify(m);return k.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function Ni(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dk({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){mt(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=rl(n));let{pathname:p="/",search:v="",hash:b="",state:w=null,key:A="default"}=n,M=k.useMemo(()=>{let L=Vi(p,d);return L==null?null:{location:{pathname:L,search:v,hash:b,state:w,key:A},navigationType:i}},[d,p,v,b,w,A,i]);return Cs(M!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:k.createElement(zn.Provider,{value:m},k.createElement(ou.Provider,{children:e,value:M}))}function jk({children:t,location:e}){return vk(Dg(t),e)}function Dg(t,e=[]){let n=[];return k.Children.forEach(t,(i,a)=>{if(!k.isValidElement(i))return;let l=[...e,a];if(i.type===k.Fragment){n.push.apply(n,Dg(i.props.children,l));return}mt(i.type===Ni,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Dg(i.props.children,l)),n.push(u)}),n}var md="get",pd="application/x-www-form-urlencoded";function pf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Mk(t){return pf(t)&&t.tagName.toLowerCase()==="button"}function Vk(t){return pf(t)&&t.tagName.toLowerCase()==="form"}function Ok(t){return pf(t)&&t.tagName.toLowerCase()==="input"}function Pk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Lk(t,e){return t.button===0&&(!e||e==="_self")&&!Pk(t)}var ed=null;function Uk(){if(ed===null)try{new FormData(document.createElement("form"),0),ed=!1}catch{ed=!0}return ed}var zk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wp(t){return t!=null&&!zk.has(t)?(Cs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):t}function Bk(t,e){let n,i,a,l,u;if(Vk(t)){let d=t.getAttribute("action");i=d?Vi(d,e):null,n=t.getAttribute("method")||md,a=Wp(t.getAttribute("enctype"))||pd,l=new FormData(t)}else if(Mk(t)||Ok(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?Vi(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||md,a=Wp(t.getAttribute("formenctype"))||Wp(d.getAttribute("enctype"))||pd,l=new FormData(d,t),!Uk()){let{name:p,type:v,value:b}=t;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,b)}}else{if(pf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=md,i=null,a=pd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function V0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fk(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Vi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function Hk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Gk(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await Hk(l,n);return u.links?u.links():[]}return[]}));return Qk(i.flat(1).filter(qk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function W1(t,e,n,i,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function $k(t,e,{includeHydrateFallback:n}={}){return Kk(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Kk(t){return[...new Set(t)]}function Yk(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Qk(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(Yk(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function dE(){let t=k.useContext(al);return V0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Xk(){let t=k.useContext(ff);return V0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var O0=k.createContext(void 0);O0.displayName="FrameworkContext";function fE(){let t=k.useContext(O0);return V0(t,"You must render this element inside a <HydratedRouter> element"),t}function Wk(t,e){let n=k.useContext(O0),[i,a]=k.useState(!1),[l,u]=k.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,w=k.useRef(null);k.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let L=B=>{B.forEach(F=>{u(F.isIntersecting)})},P=new IntersectionObserver(L,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[t]),k.useEffect(()=>{if(i){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[i]);let A=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Sc(d,A),onBlur:Sc(m,M),onMouseEnter:Sc(p,A),onMouseLeave:Sc(v,M),onTouchStart:Sc(b,A)}]:[!1,w,{}]}function Sc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Jk({page:t,...e}){let{router:n}=dE(),i=k.useMemo(()=>ZT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?k.createElement(eI,{page:t,matches:i,...e}):null}function Zk(t){let{manifest:e,routeModules:n}=fE(),[i,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return Gk(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function eI({page:t,matches:e,...n}){let i=Fi(),{future:a,manifest:l,routeModules:u}=fE(),{basename:d}=dE(),{loaderData:m,matches:p}=Xk(),v=k.useMemo(()=>W1(t,e,p,l,i,"data"),[t,e,p,l,i]),b=k.useMemo(()=>W1(t,e,p,l,i,"assets"),[t,e,p,l,i]),w=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let L=new Set,P=!1;if(e.forEach(F=>{let K=l.routes[F.route.id];!K||!K.hasLoader||(!v.some(J=>J.route.id===F.route.id)&&F.route.id in m&&u[F.route.id]?.shouldRevalidate||K.hasClientLoader?P=!0:L.add(F.route.id))}),L.size===0)return[];let B=Fk(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return P&&L.size>0&&B.searchParams.set("_routes",e.filter(F=>L.has(F.route.id)).map(F=>F.route.id).join(",")),[B.pathname+B.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,i,l,v,e,t,u]),A=k.useMemo(()=>$k(b,l),[b,l]),M=Zk(b);return k.createElement(k.Fragment,null,w.map(L=>k.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),A.map(L=>k.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),M.map(({key:L,link:P})=>k.createElement("link",{key:L,nonce:n.nonce,...P,crossOrigin:P.crossOrigin??n.crossOrigin})))}function tI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nI&&(window.__reactRouterVersion="7.13.0")}catch{}function sI({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=k.useRef();a.current==null&&(a.current=jR({window:i,v5Compat:!0}));let l=a.current,[u,d]=k.useState({action:l.action,location:l.location}),m=k.useCallback(p=>{n===!1?d(p):k.startTransition(()=>d(p))},[n]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.createElement(Dk,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var mE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...A},M){let{basename:L,unstable_useTransitions:P}=k.useContext(zn),B=typeof p=="string"&&mE.test(p),F=sE(p,L);p=F.to;let K=fk(p,{relative:a}),[J,ee,re]=Wk(i,A),I=oI(p,{replace:u,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:P});function E(j){e&&e(j),j.defaultPrevented||I(j)}let C=k.createElement("a",{...A,...re,href:F.absoluteURL||K,onClick:F.isExternal||l?e:E,ref:tI(M,ee),target:m,"data-discover":!B&&n==="render"?"true":void 0});return J&&!B?k.createElement(k.Fragment,null,C,k.createElement(Jk,{page:K})):C});nn.displayName="Link";var iI=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...p},v){let b=lu(u,{relative:p.relative}),w=Fi(),A=k.useContext(ff),{navigator:M,basename:L}=k.useContext(zn),P=A!=null&&dI(b)&&d===!0,B=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,F=w.pathname,K=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(F=F.toLowerCase(),K=K?K.toLowerCase():null,B=B.toLowerCase()),K&&L&&(K=Vi(K,L)||K);const J=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ee=F===B||!a&&F.startsWith(B)&&F.charAt(J)==="/",re=K!=null&&(K===B||!a&&K.startsWith(B)&&K.charAt(B.length)==="/"),I={isActive:ee,isPending:re,isTransitioning:P},E=ee?e:void 0,C;typeof i=="function"?C=i(I):C=[i,ee?"active":null,re?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(I):l;return k.createElement(nn,{...p,"aria-current":E,className:C,ref:v,style:j,to:u,viewTransition:d},typeof m=="function"?m(I):m)});iI.displayName="NavLink";var rI=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=md,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...A},M)=>{let{unstable_useTransitions:L}=k.useContext(zn),P=uI(),B=hI(d,{relative:p}),F=u.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&mE.test(d),J=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let re=ee.nativeEvent.submitter,I=re?.getAttribute("formmethod")||u,E=()=>P(re||ee.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w});L&&n!==!1?k.startTransition(()=>E()):E()};return k.createElement("form",{ref:M,method:F,action:B,onSubmit:i?m:J,...A,"data-discover":!K&&t==="render"?"true":void 0})});rI.displayName="Form";function aI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pE(t){let e=k.useContext(al);return mt(e,aI(t)),e}function oI(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=mf(),v=Fi(),b=lu(t,{relative:l});return k.useCallback(w=>{if(Lk(w,e)){w.preventDefault();let A=n!==void 0?n:qc(v)===qc(b),M=()=>p(t,{replace:A,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?k.startTransition(()=>M()):M()}},[v,p,b,n,i,e,t,a,l,u,d,m])}var lI=0,cI=()=>`__${String(++lI)}__`;function uI(){let{router:t}=pE("useSubmit"),{basename:e}=k.useContext(zn),n=Ck(),i=t.fetch,a=t.navigate;return k.useCallback(async(l,u={})=>{let{action:d,method:m,encType:p,formData:v,body:b}=Bk(l,e);if(u.navigate===!1){let w=u.fetcherKey||cI();await i(w,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,n])}function hI(t,{relative:e}={}){let{basename:n}=k.useContext(zn),i=k.useContext(as);mt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...lu(t||".",{relative:e})},u=Fi();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ji([n,l.pathname])),qc(l)}function dI(t,{relative:e}={}){let n=k.useContext(rE);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pE("useViewTransitionState"),a=lu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Vi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Vi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return jd(a.pathname,u)!=null||jd(a.pathname,l)!=null}const P0=k.createContext({});function L0(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const gE=typeof window<"u",yE=gE?k.useLayoutEffect:k.useEffect,gf=k.createContext(null);function U0(t,e){t.indexOf(e)===-1&&t.push(e)}function Md(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ii=(t,e,n)=>n>e?e:n<t?t:n;let z0=()=>{};const Oi={},vE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bE(t){return typeof t=="object"&&t!==null}const xE=t=>/^0[^.\s]+$/u.test(t);function B0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ns=t=>t,fI=(t,e)=>n=>e(t(n)),cu=(...t)=>t.reduce(fI),Gc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class F0{constructor(){this.subscriptions=[]}add(e){return U0(this.subscriptions,e),()=>Md(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Es=t=>t*1e3,ts=t=>t/1e3;function _E(t,e){return e?t*(1e3/e):0}const wE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,mI=1e-7,pI=12;function gI(t,e,n,i,a){let l,u,d=0;do u=e+(n-e)/2,l=wE(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>mI&&++d<pI);return u}function uu(t,e,n,i){if(t===e&&n===i)return ns;const a=l=>gI(l,0,1,t,n);return l=>l===0||l===1?l:wE(a(l),e,i)}const TE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,EE=t=>e=>1-t(1-e),SE=uu(.33,1.53,.69,.99),H0=EE(SE),AE=TE(H0),CE=t=>(t*=2)<1?.5*H0(t):.5*(2-Math.pow(2,-10*(t-1))),q0=t=>1-Math.sin(Math.acos(t)),NE=EE(q0),RE=TE(q0),yI=uu(.42,0,1,1),vI=uu(0,0,.58,1),kE=uu(.42,0,.58,1),bI=t=>Array.isArray(t)&&typeof t[0]!="number",IE=t=>Array.isArray(t)&&typeof t[0]=="number",xI={linear:ns,easeIn:yI,easeInOut:kE,easeOut:vI,circIn:q0,circInOut:RE,circOut:NE,backIn:H0,backInOut:AE,backOut:SE,anticipate:CE},_I=t=>typeof t=="string",J1=t=>{if(IE(t)){z0(t.length===4);const[e,n,i,a]=t;return uu(e,n,i,a)}else if(_I(t))return xI[t];return t},td=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wI(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,b=!1,w=!1)=>{const M=w&&a?n:i;return b&&u.add(v),M.has(v)||M.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const TI=40;function DE(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=td.reduce((K,J)=>(K[J]=wI(l),K),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:v,update:b,preRender:w,render:A,postRender:M}=u,L=()=>{const K=Oi.useManualTiming?a.timestamp:performance.now();n=!1,Oi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(K-a.timestamp,TI),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),v.process(a),b.process(a),w.process(a),A.process(a),M.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(L))},P=()=>{n=!0,i=!0,a.isProcessing||t(L)};return{schedule:td.reduce((K,J)=>{const ee=u[J];return K[J]=(re,I=!1,E=!1)=>(n||P(),ee.schedule(re,I,E)),K},{}),cancel:K=>{for(let J=0;J<td.length;J++)u[td[J]].cancel(K)},state:a,steps:u}}const{schedule:lt,cancel:Pr,state:sn,steps:Jp}=DE(typeof requestAnimationFrame<"u"?requestAnimationFrame:ns,!0);let gd;function EI(){gd=void 0}const vn={now:()=>(gd===void 0&&vn.set(sn.isProcessing||Oi.useManualTiming?sn.timestamp:performance.now()),gd),set:t=>{gd=t,queueMicrotask(EI)}},jE=t=>e=>typeof e=="string"&&e.startsWith(t),ME=jE("--"),SI=jE("var(--"),G0=t=>SI(t)?AI.test(t.split("/*")[0].trim()):!1,AI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Z1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ll={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$c={...ll,transform:t=>ii(0,1,t)},nd={...ll,default:1},jc=t=>Math.round(t*1e5)/1e5,$0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CI(t){return t==null}const NI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,K0=(t,e)=>n=>!!(typeof n=="string"&&NI.test(n)&&n.startsWith(t)||e&&!CI(n)&&Object.prototype.hasOwnProperty.call(n,e)),VE=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,d]=i.match($0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},RI=t=>ii(0,255,t),Zp={...ll,transform:t=>Math.round(RI(t))},Ca={test:K0("rgb","red"),parse:VE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Zp.transform(t)+", "+Zp.transform(e)+", "+Zp.transform(n)+", "+jc($c.transform(i))+")"};function kI(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const jg={test:K0("#"),parse:kI,transform:Ca.transform},hu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ar=hu("deg"),Zs=hu("%"),ge=hu("px"),II=hu("vh"),DI=hu("vw"),e_={...Zs,parse:t=>Zs.parse(t)/100,transform:t=>Zs.transform(t*100)},Po={test:K0("hsl","hue"),parse:VE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Zs.transform(jc(e))+", "+Zs.transform(jc(n))+", "+jc($c.transform(i))+")"},Ot={test:t=>Ca.test(t)||jg.test(t)||Po.test(t),parse:t=>Ca.test(t)?Ca.parse(t):Po.test(t)?Po.parse(t):jg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ca.transform(t):Po.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},jI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MI(t){return isNaN(t)&&typeof t=="string"&&(t.match($0)?.length||0)+(t.match(jI)?.length||0)>0}const OE="number",PE="color",VI="var",OI="var(",t_="${}",PI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(PI,m=>(Ot.test(m)?(i.color.push(l),a.push(PE),n.push(Ot.parse(m))):m.startsWith(OI)?(i.var.push(l),a.push(VI),n.push(m)):(i.number.push(l),a.push(OE),n.push(parseFloat(m))),++l,t_)).split(t_);return{values:n,split:d,indexes:i,types:a}}function LE(t){return Kc(t).values}function UE(t){const{split:e,types:n}=Kc(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===OE?l+=jc(a[u]):d===PE?l+=Ot.transform(a[u]):l+=a[u]}return l}}const LI=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function UI(t){const e=LE(t);return UE(t)(e.map(LI))}const Lr={test:MI,parse:LE,createTransformer:UE,getAnimatableNone:UI};function eg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zI({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=eg(m,d,t+1/3),l=eg(m,d,t),u=eg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Vd(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,tg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},BI=[jg,Ca,Po],FI=t=>BI.find(e=>e.test(t));function n_(t){const e=FI(t);if(!e)return!1;let n=e.parse(t);return e===Po&&(n=zI(n)),n}const s_=(t,e)=>{const n=n_(t),i=n_(e);if(!n||!i)return Vd(t,e);const a={...n};return l=>(a.red=tg(n.red,i.red,l),a.green=tg(n.green,i.green,l),a.blue=tg(n.blue,i.blue,l),a.alpha=pt(n.alpha,i.alpha,l),Ca.transform(a))},Mg=new Set(["none","hidden"]);function HI(t,e){return Mg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function qI(t,e){return n=>pt(t,e,n)}function Y0(t){return typeof t=="number"?qI:typeof t=="string"?G0(t)?Vd:Ot.test(t)?s_:KI:Array.isArray(t)?zE:typeof t=="object"?Ot.test(t)?s_:GI:Vd}function zE(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>Y0(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function GI(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Y0(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function $I(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],d=t.values[u]??0;n[a]=d,i[l]++}return n}const KI=(t,e)=>{const n=Lr.createTransformer(e),i=Kc(t),a=Kc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Mg.has(t)&&!a.values.length||Mg.has(e)&&!i.values.length?HI(t,e):cu(zE($I(i,a),a.values),n):Vd(t,e)};function BE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):Y0(t)(t,e)}const YI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>lt.update(e,n),stop:()=>Pr(e),now:()=>sn.isProcessing?sn.timestamp:vn.now()}},FE=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Od=2e4;function Q0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Od;)e+=n,i=t.next(e);return e>=Od?1/0:e}function QI(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Q0(i),Od);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:ts(a)}}const XI=5;function HE(t,e,n){const i=Math.max(e-XI,0);return _E(n-t(i),e-i)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ng=.001;function WI({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:i=bt.mass}){let a,l,u=1-e;u=ii(bt.minDamping,bt.maxDamping,u),t=ii(bt.minDuration,bt.maxDuration,ts(t)),u<1?(a=p=>{const v=p*u,b=v*t,w=v-n,A=Vg(p,u),M=Math.exp(-b);return ng-w/A*M},l=p=>{const b=p*u*t,w=b*n+n,A=Math.pow(u,2)*Math.pow(p,2)*t,M=Math.exp(-b),L=Vg(Math.pow(p,2),u);return(-a(p)+ng>0?-1:1)*((w-A)*M)/L}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-ng+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const d=5/t,m=ZI(a,l,d);if(t=Es(t),isNaN(m))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const JI=12;function ZI(t,e,n){let i=n;for(let a=1;a<JI;a++)i=i-t(i)/e(i);return i}function Vg(t,e){return t*Math.sqrt(1-e*e)}const e4=["duration","bounce"],t4=["stiffness","damping","mass"];function i_(t,e){return e.some(n=>t[n]!==void 0)}function n4(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!i_(t,t4)&&i_(t,e4))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*ii(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=WI(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function Pd(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:b,velocity:w,isResolvedFromDuration:A}=n4({...n,velocity:-ts(n.velocity||0)}),M=w||0,L=p/(2*Math.sqrt(m*v)),P=u-l,B=ts(Math.sqrt(m/v)),F=Math.abs(P)<5;i||(i=F?bt.restSpeed.granular:bt.restSpeed.default),a||(a=F?bt.restDelta.granular:bt.restDelta.default);let K;if(L<1){const ee=Vg(B,L);K=re=>{const I=Math.exp(-L*B*re);return u-I*((M+L*B*P)/ee*Math.sin(ee*re)+P*Math.cos(ee*re))}}else if(L===1)K=ee=>u-Math.exp(-B*ee)*(P+(M+B*P)*ee);else{const ee=B*Math.sqrt(L*L-1);K=re=>{const I=Math.exp(-L*B*re),E=Math.min(ee*re,300);return u-I*((M+L*B*P)*Math.sinh(E)+ee*P*Math.cosh(E))/ee}}const J={calculatedDuration:A&&b||null,next:ee=>{const re=K(ee);if(A)d.done=ee>=b;else{let I=ee===0?M:0;L<1&&(I=ee===0?Es(M):HE(K,ee,re));const E=Math.abs(I)<=i,C=Math.abs(u-re)<=a;d.done=E&&C}return d.value=d.done?u:re,d},toString:()=>{const ee=Math.min(Q0(J),Od),re=FE(I=>J.next(ee*I).value,ee,30);return ee+"ms "+re},toTransition:()=>{}};return J}Pd.applyToOptions=t=>{const e=QI(t,100,Pd);return t.ease=e.ease,t.duration=Es(e.duration),t.type="keyframes",t};function Og({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:p=.5,restSpeed:v}){const b=t[0],w={done:!1,value:b},A=E=>d!==void 0&&E<d||m!==void 0&&E>m,M=E=>d===void 0?m:m===void 0||Math.abs(d-E)<Math.abs(m-E)?d:m;let L=n*e;const P=b+L,B=u===void 0?P:u(P);B!==P&&(L=B-b);const F=E=>-L*Math.exp(-E/i),K=E=>B+F(E),J=E=>{const C=F(E),j=K(E);w.done=Math.abs(C)<=p,w.value=w.done?B:j};let ee,re;const I=E=>{A(w.value)&&(ee=E,re=Pd({keyframes:[w.value,M(w.value)],velocity:HE(K,E,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return I(0),{calculatedDuration:null,next:E=>{let C=!1;return!re&&ee===void 0&&(C=!0,J(E),I(E)),ee!==void 0&&E>=ee?re.next(E-ee):(!C&&J(E),w)}}}function s4(t,e,n){const i=[],a=n||Oi.mix||BE,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||ns:e;d=cu(m,d)}i.push(d)}return i}function i4(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(z0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=s4(e,i,a),m=d.length,p=v=>{if(u&&v<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const w=Gc(t[b],t[b+1],v);return d[b](w)};return n?v=>p(ii(t[0],t[l-1],v)):p}function r4(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Gc(0,e,i);t.push(pt(n,1,a))}}function a4(t){const e=[0];return r4(e,t.length-1),e}function o4(t,e){return t.map(n=>n*e)}function l4(t,e){return t.map(()=>e||kE).splice(0,t.length-1)}function Mc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=bI(i)?i.map(J1):J1(i),l={done:!1,value:e[0]},u=o4(n&&n.length===e.length?n:a4(e),t),d=i4(u,e,{ease:Array.isArray(a)?a:l4(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const c4=t=>t!==null;function X0(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(c4),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const u4={decay:Og,inertia:Og,tween:Mc,keyframes:Mc,spring:Pd};function qE(t){typeof t.type=="string"&&(t.type=u4[t.type])}class W0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const h4=t=>t/100;class J0 extends W0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qE(e);const{type:n=Mc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||Mc;m!==Mc&&typeof d[0]!="number"&&(this.mixKeyframes=cu(h4,BE(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Q0(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:w,repeatDelay:A,type:M,onUpdate:L,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,J=i;if(b){const E=Math.min(this.currentTime,a)/d;let C=Math.floor(E),j=E%1;!j&&E>=1&&(j=1),j===1&&C--,C=Math.min(C,b+1),C%2&&(w==="reverse"?(j=1-j,A&&(j-=A/d)):w==="mirror"&&(J=u)),K=ii(0,1,j)*d}const ee=F?{done:!1,value:v[0]}:J.next(K);l&&(ee.value=l(ee.value));let{done:re}=ee;!F&&m!==null&&(re=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return I&&M!==Og&&(ee.value=X0(v,this.options,P,this.speed)),L&&L(ee.value),I&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return ts(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ts(e)}get time(){return ts(this.currentTime)}set time(e){e=Es(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ts(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=YI,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function d4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Na=t=>t*180/Math.PI,Pg=t=>{const e=Na(Math.atan2(t[1],t[0]));return Lg(e)},f4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Pg,rotateZ:Pg,skewX:t=>Na(Math.atan(t[1])),skewY:t=>Na(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Lg=t=>(t=t%360,t<0&&(t+=360),t),r_=Pg,a_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),o_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),m4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:a_,scaleY:o_,scale:t=>(a_(t)+o_(t))/2,rotateX:t=>Lg(Na(Math.atan2(t[6],t[5]))),rotateY:t=>Lg(Na(Math.atan2(-t[2],t[0]))),rotateZ:r_,rotate:r_,skewX:t=>Na(Math.atan(t[4])),skewY:t=>Na(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ug(t){return t.includes("scale")?1:0}function zg(t,e){if(!t||t==="none")return Ug(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=m4,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=f4,a=d}if(!a)return Ug(e);const l=i[e],u=a[1].split(",").map(g4);return typeof l=="function"?l(u):u[l]}const p4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return zg(n,e)};function g4(t){return parseFloat(t.trim())}const cl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ul=new Set(cl),l_=t=>t===ll||t===ge,y4=new Set(["x","y","z"]),v4=cl.filter(t=>!y4.has(t));function b4(t){const e=[];return v4.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const kr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>zg(e,"x"),y:(t,{transform:e})=>zg(e,"y")};kr.translateX=kr.x;kr.translateY=kr.y;const Ia=new Set;let Bg=!1,Fg=!1,Hg=!1;function GE(){if(Fg){const t=Array.from(Ia).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=b4(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Fg=!1,Bg=!1,Ia.forEach(t=>t.complete(Hg)),Ia.clear()}function $E(){Ia.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fg=!0)})}function x4(){Hg=!0,$E(),GE(),Hg=!1}class Z0{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ia.add(this),Bg||(Bg=!0,lt.read($E),lt.resolveKeyframes(GE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}d4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ia.delete(this)}cancel(){this.state==="scheduled"&&(Ia.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _4=t=>t.startsWith("--");function w4(t,e,n){_4(e)?t.style.setProperty(e,n):t.style[e]=n}const T4=B0(()=>window.ScrollTimeline!==void 0),E4={};function S4(t,e){const n=B0(t);return()=>E4[e]??n()}const KE=S4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,c_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nc([0,.65,.55,1]),circOut:Nc([.55,0,1,.45]),backIn:Nc([.31,.01,.66,-.59]),backOut:Nc([.33,1.53,.69,.99])};function YE(t,e){if(t)return typeof t=="function"?KE()?FE(t,e):"ease-out":IE(t)?Nc(t):Array.isArray(t)?t.map(n=>YE(n,e)||c_.easeOut):c_[t]}function A4(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const b=YE(d,a);Array.isArray(b)&&(v.easing=b);const w={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(v,w)}function QE(t){return typeof t=="function"&&"applyToOptions"in t}function C4({type:t,...e}){return QE(t)&&KE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class XE extends W0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,z0(typeof e.type!="string");const p=C4(e);this.animation=A4(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=X0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):w4(n,i,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ts(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ts(e)}get time(){return ts(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Es(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&T4()?(this.animation.timeline=e,ns):n(this)}}const WE={anticipate:CE,backInOut:AE,circInOut:RE};function N4(t){return t in WE}function R4(t){typeof t.ease=="string"&&N4(t.ease)&&(t.ease=WE[t.ease])}const sg=10;class k4 extends XE{constructor(e){R4(e),qE(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new J0({...u,autoplay:!1}),m=Math.max(sg,vn.now()-this.startTime),p=ii(0,sg,m-sg);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const u_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lr.test(t)||t==="0")&&!t.startsWith("url("));function I4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function D4(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=u_(a,e),d=u_(l,e);return!u||!d?!1:I4(t)||(n==="spring"||QE(n))&&i}function qg(t){t.duration=0,t.type="keyframes"}const j4=new Set(["opacity","clipPath","filter","transform"]),M4=B0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function V4(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return M4()&&n&&j4.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const O4=40;class P4 extends W0{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:p,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vn.now();const w={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:v,...b},A=v?.KeyframeResolver||Z0;this.keyframeResolver=new A(d,(M,L,P)=>this.onKeyframesResolved(M,L,w,!P),m,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:p,onUpdate:v}=i;this.resolvedAt=vn.now(),D4(e,l,u,d)||((Oi.instantAnimations||!m)&&v?.(X0(e,i,n)),e[0]=e[e.length-1],qg(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>O4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!p&&V4(w),M=w.motionValue?.owner?.current,L=A?new k4({...w,element:M}):new J0(w);L.finished.then(()=>{this.notifyFinished()}).catch(ns),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),x4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function JE(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),u=t.size,d=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:d-l*i}const L4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function U4(t){const e=L4.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function ZE(t,e,n=1){const[i,a]=U4(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return vE(u)?parseFloat(u):u}return G0(a)?ZE(a,e,n+1):a}const z4={type:"spring",stiffness:500,damping:25,restSpeed:10},B4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),F4={type:"keyframes",duration:.8},H4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q4=(t,{keyframes:e})=>e.length>2?F4:ul.has(t)?t.startsWith("scale")?B4(e[1]):z4:H4,G4=t=>t!==null;function $4(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(G4),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function eS(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function ey(t,e){const n=t?.[e]??t?.default??t;return n!==t?eS(n,t):n}function K4({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const ty=(t,e,n,i={},a,l)=>u=>{const d=ey(i,t)||{},m=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Es(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};K4(d)||Object.assign(v,q4(t,v)),v.duration&&(v.duration=Es(v.duration)),v.repeatDelay&&(v.repeatDelay=Es(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(qg(v),v.delay===0&&(b=!0)),(Oi.instantAnimations||Oi.skipAnimations||a?.shouldSkipAnimations)&&(b=!0,qg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const w=$4(v.keyframes,d);if(w!==void 0){lt.update(()=>{v.onUpdate(w),v.onComplete()});return}}return d.isSync?new J0(v):new P4(v)};function h_(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function ny(t,e,n,i){if(typeof e=="function"){const[a,l]=h_(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=h_(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Fo(t,e,n){const i=t.getProps();return ny(i,e,n!==void 0?n:i.custom,t)}const tS=new Set(["width","height","top","left","right","bottom",...cl]),d_=30,Y4=t=>!isNaN(parseFloat(t));class Q4{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=vn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Y4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new F0);const i=this.events[e].add(n);return e==="change"?()=>{i(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>d_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,d_);return _E(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yo(t,e){return new Q4(t,e)}const Gg=t=>Array.isArray(t);function X4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yo(n))}function W4(t){return Gg(t)?t[t.length-1]||0:t}function J4(t,e){const n=Fo(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const d=W4(l[u]);X4(t,u,d)}}const dn=t=>!!(t&&t.getVelocity);function Z4(t){return!!(dn(t)&&t.add)}function $g(t,e){const n=t.getValue("willChange");if(Z4(n))return n.add(e);if(!n&&Oi.WillChange){const i=new Oi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function sy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const eD="framerAppearId",nS="data-"+sy(eD);function sS(t){return t.props[nS]}function tD({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function iS(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:u,...d}=e;const m=t.getDefaultTransition();l=l?eS(l,m):m;const p=l?.reduceMotion;i&&(l=i);const v=[],b=a&&t.animationState&&t.animationState.getState()[a];for(const w in d){const A=t.getValue(w,t.latestValues[w]??null),M=d[w];if(M===void 0||b&&tD(b,w))continue;const L={delay:n,...ey(l||{},w)},P=A.get();if(P!==void 0&&!A.isAnimating&&!Array.isArray(M)&&M===P&&!L.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const J=sS(t);if(J){const ee=window.MotionHandoffAnimation(J,w,lt);ee!==null&&(L.startTime=ee,B=!0)}}$g(t,w);const F=p??t.shouldReduceMotion;A.start(ty(w,A,M,F&&tS.has(w)?{type:!1}:L,t,B));const K=A.animation;K&&v.push(K)}if(u){const w=()=>lt.update(()=>{u&&J4(t,u)});v.length?Promise.all(v).then(w):w()}return v}function Kg(t,e,n={}){const i=Fo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(iS(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:b}=a;return nD(t,e,m,p,v,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function nD(t,e,n=0,i=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Kg(m,e,{...u,delay:n+(typeof i=="function"?0:i)+JE(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function sD(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Kg(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Kg(t,e,n);else{const a=typeof e=="function"?Fo(t,e,n.custom):e;i=Promise.all(iS(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const iD={test:t=>t==="auto",parse:t=>t},rS=t=>e=>e.test(t),aS=[ll,ge,Zs,Ar,DI,II,iD],f_=t=>aS.find(rS(t));function rD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xE(t):!0}const aD=new Set(["brightness","contrast","saturate","opacity"]);function oD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match($0)||[];if(!i)return t;const a=n.replace(i,"");let l=aD.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const lD=/\b([a-z-]*)\(.*?\)/gu,Yg={...Lr,getAnimatableNone:t=>{const e=t.match(lD);return e?e.map(oD).join(" "):t}},m_={...ll,transform:Math.round},cD={rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scale:nd,scaleX:nd,scaleY:nd,scaleZ:nd,skew:Ar,skewX:Ar,skewY:Ar,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:$c,originX:e_,originY:e_,originZ:ge},iy={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,fontSize:ge,backgroundPositionX:ge,backgroundPositionY:ge,...cD,zIndex:m_,fillOpacity:$c,strokeOpacity:$c,numOctaves:m_},uD={...iy,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Yg,WebkitFilter:Yg},oS=t=>uD[t];function lS(t,e){let n=oS(t);return n!==Yg&&(n=Lr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hD=new Set(["auto","none","0"]);function dD(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!hD.has(l)&&Kc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=lS(n,a)}class fD extends Z0{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let b=e[v];if(typeof b=="string"&&(b=b.trim(),G0(b))){const w=ZE(b,n.current);w!==void 0&&(e[v]=w),v===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!tS.has(i)||e.length!==2)return;const[a,l]=e,u=f_(a),d=f_(l),m=Z1(a),p=Z1(l);if(m!==p&&kr[i]){this.needsMeasurement=!0;return}if(u!==d)if(l_(u)&&l_(d))for(let v=0;v<e.length;v++){const b=e[v];typeof b=="string"&&(e[v]=parseFloat(b))}else kr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||rD(e[a]))&&i.push(a);i.length&&dD(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=kr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const mD=new Set(["opacity","clipPath","filter","transform"]);function cS(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const uS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Qg(t){return bE(t)&&"offsetHeight"in t}const{schedule:ry}=DE(queueMicrotask,!1),_s={x:!1,y:!1};function hS(){return _s.x||_s.y}function pD(t){return t==="x"||t==="y"?_s[t]?null:(_s[t]=!0,()=>{_s[t]=!1}):_s.x||_s.y?null:(_s.x=_s.y=!0,()=>{_s.x=_s.y=!1})}function dS(t,e){const n=cS(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function gD(t){return!(t.pointerType==="touch"||hS())}function yD(t,e,n={}){const[i,a,l]=dS(t,n);return i.forEach(u=>{let d=!1,m=!1,p;const v=()=>{u.removeEventListener("pointerleave",M)},b=P=>{p&&(p(P),p=void 0),v()},w=P=>{d=!1,window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",w),m&&(m=!1,b(P))},A=()=>{d=!0,window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",w,a)},M=P=>{if(P.pointerType!=="touch"){if(d){m=!0;return}b(P)}},L=P=>{if(!gD(P))return;m=!1;const B=e(u,P);typeof B=="function"&&(p=B,u.addEventListener("pointerleave",M,a))};u.addEventListener("pointerenter",L,a),u.addEventListener("pointerdown",A,a)}),l}const fS=(t,e)=>e?t===e?!0:fS(t,e.parentElement):!1,ay=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,vD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bD(t){return vD.has(t.tagName)||t.isContentEditable===!0}const xD=new Set(["INPUT","SELECT","TEXTAREA"]);function _D(t){return xD.has(t.tagName)||t.isContentEditable===!0}const yd=new WeakSet;function p_(t){return e=>{e.key==="Enter"&&t(e)}}function ig(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wD=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=p_(()=>{if(yd.has(n))return;ig(n,"down");const a=p_(()=>{ig(n,"up")}),l=()=>ig(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function g_(t){return ay(t)&&!hS()}const y_=new WeakSet;function TD(t,e,n={}){const[i,a,l]=dS(t,n),u=d=>{const m=d.currentTarget;if(!g_(d)||y_.has(d))return;yd.add(m),n.stopPropagation&&y_.add(d);const p=e(m,d),v=(A,M)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),yd.has(m)&&yd.delete(m),g_(A)&&typeof p=="function"&&p(A,{success:M})},b=A=>{v(A,m===window||m===document||n.useGlobalTarget||fS(m,A.target))},w=A=>{v(A,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),Qg(d)&&(d.addEventListener("focus",p=>wD(p,a)),!bD(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function oy(t){return bE(t)&&"ownerSVGElement"in t}const vd=new WeakMap;let bd;const mS=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:oy(i)&&"getBBox"in i?i.getBBox()[e]:i[n],ED=mS("inline","width","offsetWidth"),SD=mS("block","height","offsetHeight");function AD({target:t,borderBoxSize:e}){vd.get(t)?.forEach(n=>{n(t,{get width(){return ED(t,e)},get height(){return SD(t,e)}})})}function CD(t){t.forEach(AD)}function ND(){typeof ResizeObserver>"u"||(bd=new ResizeObserver(CD))}function RD(t,e){bd||ND();const n=cS(t);return n.forEach(i=>{let a=vd.get(i);a||(a=new Set,vd.set(i,a)),a.add(e),bd?.observe(i)}),()=>{n.forEach(i=>{const a=vd.get(i);a?.delete(e),a?.size||bd?.unobserve(i)})}}const xd=new Set;let Lo;function kD(){Lo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};xd.forEach(e=>e(t))},window.addEventListener("resize",Lo)}function ID(t){return xd.add(t),Lo||kD(),()=>{xd.delete(t),!xd.size&&typeof Lo=="function"&&(window.removeEventListener("resize",Lo),Lo=void 0)}}function v_(t,e){return typeof t=="function"?ID(t):RD(t,e)}function DD(t){return oy(t)&&t.tagName==="svg"}const jD=[...aS,Ot,Lr],MD=t=>jD.find(rS(t)),b_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:b_(),y:b_()}),x_=()=>({min:0,max:0}),Bt=()=>({x:x_(),y:x_()}),VD=new WeakMap;function yf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yc(t){return typeof t=="string"||Array.isArray(t)}const ly=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cy=["initial",...ly];function vf(t){return yf(t.animate)||cy.some(e=>Yc(t[e]))}function pS(t){return!!(vf(t)||t.variants)}function OD(t,e,n){for(const i in e){const a=e[i],l=n[i];if(dn(a))t.addValue(i,a);else if(dn(l))t.addValue(i,Yo(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Yo(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Xg={current:null},gS={current:!1},PD=typeof window<"u";function LD(){if(gS.current=!0,!!PD)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xg.current=t.matches;t.addEventListener("change",e),e()}else Xg.current=!1}const __=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ld={};function yS(t){Ld=t}function UD(){return Ld}class zD{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Z0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=vn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,lt.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=vf(n),this.isVariantNode=pS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in w){const M=w[A];p[A]!==void 0&&dn(M)&&M.set(p[A])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,VD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(gS.current||LD(),this.shouldReduceMotion=Xg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Pr(this.notifyUpdate),Pr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&mD.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:d,times:m,ease:p,duration:v}=n.accelerate,b=new XE({element:this.current,name:e,keyframes:d,times:m,ease:p,duration:Es(v)}),w=u(b);this.valueSubscriptions.set(e,()=>{w(),b.cancel()});return}const i=ul.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&lt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ld){const n=Ld[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<__.length;i++){const a=__[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=OD(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Yo(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(vE(i)||xE(i))?i=parseFloat(i):!MD(i)&&Lr.test(n)&&(i=lS(e,n)),this.setBaseTarget(e,dn(i)?i.get():i)),dn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=ny(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!dn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new F0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ry.render(this.render)}}class vS extends zD{constructor(){super(...arguments),this.KeyframeResolver=fD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function bS({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function BD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function FD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function rg(t){return t===void 0||t===1}function Wg({scale:t,scaleX:e,scaleY:n}){return!rg(t)||!rg(e)||!rg(n)}function Sa(t){return Wg(t)||xS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xS(t){return w_(t.x)||w_(t.y)}function w_(t){return t&&t!=="0%"}function Ud(t,e,n){const i=t-n,a=e*i;return n+a}function T_(t,e,n,i,a){return a!==void 0&&(t=Ud(t,a,i)),Ud(t,n,i)+e}function Jg(t,e=0,n=1,i,a){t.min=T_(t.min,e,n,i,a),t.max=T_(t.max,e,n,i,a)}function _S(t,{x:e,y:n}){Jg(t.x,e.translate,e.scale,e.originPoint),Jg(t.y,n.translate,n.scale,n.originPoint)}const E_=.999999999999,S_=1.0000000000001;function HD(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,_S(t,u)),i&&Sa(l.latestValues)&&Bo(t,l.latestValues))}e.x<S_&&e.x>E_&&(e.x=1),e.y<S_&&e.y>E_&&(e.y=1)}function zo(t,e){t.min=t.min+e,t.max=t.max+e}function A_(t,e,n,i,a=.5){const l=pt(t.min,t.max,a);Jg(t,e,n,l,i)}function Bo(t,e){A_(t.x,e.x,e.scaleX,e.scale,e.originX),A_(t.y,e.y,e.scaleY,e.scale,e.originY)}function wS(t,e){return bS(FD(t.getBoundingClientRect(),e))}function qD(t,e,n){const i=wS(t,n),{scroll:a}=e;return a&&(zo(i.x,a.offset.x),zo(i.y,a.offset.y)),i}const GD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$D=cl.length;function KD(t,e,n){let i="",a=!0;for(let l=0;l<$D;l++){const u=cl[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(u.startsWith("scale")?1:0);else{const p=parseFloat(d);m=u.startsWith("scale")?p===1:p===0}if(!m||n){const p=uS(d,iy[u]);if(!m){a=!1;const v=GD[u]||u;i+=`${v}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function uy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const p=e[m];if(ul.has(m)){u=!0;continue}else if(ME(m)){a[m]=p;continue}else{const v=uS(p,iy[m]);m.startsWith("origin")?(d=!0,l[m]=v):i[m]=v}}if(e.transform||(u||n?i.transform=KD(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${p} ${v}`}}function TS(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function C_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ac={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=C_(t,e.target.x),i=C_(t,e.target.y);return`${n}% ${i}%`}},YD={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Lr.parse(t);if(a.length>5)return i;const l=Lr.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const p=pt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},Zg={borderRadius:{...Ac,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ac,borderTopRightRadius:Ac,borderBottomLeftRadius:Ac,borderBottomRightRadius:Ac,boxShadow:YD};function ES(t,{layout:e,layoutId:n}){return ul.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Zg[t]||t==="opacity")}function hy(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const u in i)(dn(i[u])||a&&dn(a[u])||ES(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}function QD(t){return window.getComputedStyle(t)}class XD extends vS{constructor(){super(...arguments),this.type="html",this.renderInstance=TS}readValueFromInstance(e,n){if(ul.has(n))return this.projection?.isProjecting?Ug(n):p4(e,n);{const i=QD(e),a=(ME(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wS(e,n)}build(e,n,i){uy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return hy(e,n,i)}}const WD={offset:"stroke-dashoffset",array:"stroke-dasharray"},JD={offset:"strokeDashoffset",array:"strokeDasharray"};function ZD(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?WD:JD;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const e5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function SS(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,p,v){if(uy(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w}=t;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=v?.transformBox??"fill-box",delete b.transformBox);for(const A of e5)b[A]!==void 0&&(w[A]=b[A],delete b[A]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&ZD(b,a,l,u,!1)}const AS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),CS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function t5(t,e,n,i){TS(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(AS.has(a)?a:sy(a),e.attrs[a])}function NS(t,e,n){const i=hy(t,e,n);for(const a in t)if(dn(t[a])||dn(e[a])){const l=cl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class n5 extends vS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ul.has(n)){const i=oS(n);return i&&i.default||0}return n=AS.has(n)?n:sy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return NS(e,n,i)}build(e,n,i){SS(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){t5(e,n,i,a)}mount(e){this.isSVGTag=CS(e.tagName),super.mount(e)}}const s5=cy.length;function RS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?RS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<s5;n++){const i=cy[n],a=t.props[i];(Yc(a)||a===!1)&&(e[i]=a)}return e}function kS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const i5=[...ly].reverse(),r5=ly.length;function a5(t){return e=>Promise.all(e.map(({animation:n,options:i})=>sD(t,n,i)))}function o5(t){let e=a5(t),n=N_(),i=!0;const a=m=>(p,v)=>{const b=Fo(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:A,...M}=b;p={...p,...M,...A}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,v=RS(t.parent)||{},b=[],w=new Set;let A={},M=1/0;for(let P=0;P<r5;P++){const B=i5[P],F=n[B],K=p[B]!==void 0?p[B]:v[B],J=Yc(K),ee=B===m?F.isActive:null;ee===!1&&(M=P);let re=K===v[B]&&K!==p[B]&&J;if(re&&i&&t.manuallyAnimateOnMount&&(re=!1),F.protectedKeys={...A},!F.isActive&&ee===null||!K&&!F.prevProp||yf(K)||typeof K=="boolean")continue;if(B==="exit"&&F.isActive&&ee!==!0){F.prevResolvedValues&&(A={...A,...F.prevResolvedValues});continue}const I=l5(F.prevProp,K);let E=I||B===m&&F.isActive&&!re&&J||P>M&&J,C=!1;const j=Array.isArray(K)?K:[K];let R=j.reduce(a(B),{});ee===!1&&(R={});const{prevResolvedValues:V={}}=F,D={...V,...R},we=oe=>{E=!0,w.has(oe)&&(C=!0,w.delete(oe)),F.needsAnimating[oe]=!0;const fe=t.getValue(oe);fe&&(fe.liveStyle=!1)};for(const oe in D){const fe=R[oe],Ae=V[oe];if(A.hasOwnProperty(oe))continue;let Ve=!1;Gg(fe)&&Gg(Ae)?Ve=!kS(fe,Ae):Ve=fe!==Ae,Ve?fe!=null?we(oe):w.add(oe):fe!==void 0&&w.has(oe)?we(oe):F.protectedKeys[oe]=!0}F.prevProp=K,F.prevResolvedValues=R,F.isActive&&(A={...A,...R}),i&&t.blockInitialAnimation&&(E=!1);const Pe=re&&I;E&&(!Pe||C)&&b.push(...j.map(oe=>{const fe={type:B};if(typeof oe=="string"&&i&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,Ve=Fo(Ae,oe);if(Ae.enteringChildren&&Ve){const{delayChildren:U}=Ve.transition||{};fe.delay=JE(Ae.enteringChildren,t,U)}}return{animation:oe,options:fe}}))}if(w.size){const P={};if(typeof p.initial!="boolean"){const B=Fo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(P.transition=B.transition)}w.forEach(B=>{const F=t.getBaseTarget(B),K=t.getValue(B);K&&(K.liveStyle=!0),P[B]=F??null}),b.push({animation:P})}let L=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),i=!1,L?e(b):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,p)),n[m].isActive=p;const v=u(m);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=N_()}}}function l5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kS(e,t):!1}function Ea(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N_(){return{animate:Ea(!0),whileInView:Ea(),whileHover:Ea(),whileTap:Ea(),whileDrag:Ea(),whileFocus:Ea(),exit:Ea()}}function R_(t,e){t.min=e.min,t.max=e.max}function xs(t,e){R_(t.x,e.x),R_(t.y,e.y)}function k_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const IS=1e-4,c5=1-IS,u5=1+IS,DS=.01,h5=0-DS,d5=0+DS;function bn(t){return t.max-t.min}function f5(t,e,n){return Math.abs(t-e)<=n}function I_(t,e,n,i=.5){t.origin=i,t.originPoint=pt(e.min,e.max,t.origin),t.scale=bn(n)/bn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=c5&&t.scale<=u5||isNaN(t.scale))&&(t.scale=1),(t.translate>=h5&&t.translate<=d5||isNaN(t.translate))&&(t.translate=0)}function Vc(t,e,n,i){I_(t.x,e.x,n.x,i?i.originX:void 0),I_(t.y,e.y,n.y,i?i.originY:void 0)}function D_(t,e,n){t.min=n.min+e.min,t.max=t.min+bn(e)}function m5(t,e,n){D_(t.x,e.x,n.x),D_(t.y,e.y,n.y)}function j_(t,e,n){t.min=e.min-n.min,t.max=t.min+bn(e)}function zd(t,e,n){j_(t.x,e.x,n.x),j_(t.y,e.y,n.y)}function M_(t,e,n,i,a){return t-=e,t=Ud(t,1/n,i),a!==void 0&&(t=Ud(t,1/a,i)),t}function p5(t,e=0,n=1,i=.5,a,l=t,u=t){if(Zs.test(e)&&(e=parseFloat(e),e=pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=pt(l.min,l.max,i);t===l&&(d-=e),t.min=M_(t.min,e,n,d,a),t.max=M_(t.max,e,n,d,a)}function V_(t,e,[n,i,a],l,u){p5(t,e[n],e[i],e[a],e.scale,l,u)}const g5=["x","scaleX","originX"],y5=["y","scaleY","originY"];function O_(t,e,n,i){V_(t.x,e,g5,n?n.x:void 0,i?i.x:void 0),V_(t.y,e,y5,n?n.y:void 0,i?i.y:void 0)}function P_(t){return t.translate===0&&t.scale===1}function jS(t){return P_(t.x)&&P_(t.y)}function L_(t,e){return t.min===e.min&&t.max===e.max}function v5(t,e){return L_(t.x,e.x)&&L_(t.y,e.y)}function U_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MS(t,e){return U_(t.x,e.x)&&U_(t.y,e.y)}function z_(t){return bn(t.x)/bn(t.y)}function B_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Ws(t){return[t("x"),t("y")]}function b5(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:w,skewX:A,skewY:M}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),b&&(i+=`rotateX(${b}deg) `),w&&(i+=`rotateY(${w}deg) `),A&&(i+=`skewX(${A}deg) `),M&&(i+=`skewY(${M}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(i+=`scale(${d}, ${m})`),i||"none"}const VS=["TopLeft","TopRight","BottomLeft","BottomRight"],x5=VS.length,F_=t=>typeof t=="string"?parseFloat(t):t,H_=t=>typeof t=="number"||ge.test(t);function _5(t,e,n,i,a,l){a?(t.opacity=pt(0,n.opacity??1,w5(i)),t.opacityExit=pt(e.opacity??1,0,T5(i))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,i));for(let u=0;u<x5;u++){const d=`border${VS[u]}Radius`;let m=q_(e,d),p=q_(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||H_(m)===H_(p)?(t[d]=Math.max(pt(F_(m),F_(p),i),0),(Zs.test(p)||Zs.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,i))}function q_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const w5=OS(0,.5,NE),T5=OS(.5,.95,ns);function OS(t,e,n){return i=>i<t?0:i>e?1:n(Gc(t,e,i))}function E5(t,e,n){const i=dn(t)?t:Yo(t);return i.start(ty("",i,e,n)),i.animation}function Qc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const S5=(t,e)=>t.depth-e.depth;class A5{constructor(){this.children=[],this.isDirty=!1}add(e){U0(this.children,e),this.isDirty=!0}remove(e){Md(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(S5),this.isDirty=!1,this.children.forEach(e)}}function C5(t,e){const n=vn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Pr(i),t(l-e))};return lt.setup(i,!0),()=>Pr(i)}function _d(t){return dn(t)?t.get():t}class N5{constructor(){this.members=[]}add(e){U0(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Md(this.members,i)}e.scheduleRender()}remove(e){if(Md(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:d}=e.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const wd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ag=["","X","Y","Z"],R5=1e3;let k5=0;function og(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function PS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",lt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&PS(i)}function LS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=k5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j5),this.nodes.forEach(P5),this.nodes.forEach(L5),this.nodes.forEach(M5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new A5)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new F0),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=oy(u)&&!DD(u),this.instance=u;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,b=0;const w=()=>this.root.updateBlockedByResize=!1;lt.read(()=>{b=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==b&&(b=A,this.root.updateBlockedByResize=!0,v&&v(),v=C5(w,250),wd.hasAnimatedSinceResize&&(wd.hasAnimatedSinceResize=!1,this.nodes.forEach(K_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||H5,{onLayoutAnimationStart:L,onLayoutAnimationComplete:P}=p.getProps(),B=!this.targetLayout||!MS(this.targetLayout,A),F=!b&&w;if(this.options.layoutRoot||this.resumeFrom||F||b&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...ey(M,"layout"),onPlay:L,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(v,F)}else b||K_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(O5),this.nodes.forEach(I5),this.nodes.forEach(D5)):this.nodes.forEach($_),this.clearAllSnapshots();const d=vn.now();sn.delta=ii(0,1e3/60,d-sn.timestamp),sn.timestamp=d,sn.isProcessing=!0,Jp.update.process(sn),Jp.preRender.process(sn),Jp.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ry.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(V5),this.sharedNodes.forEach(z5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bn(this.snapshot.measuredBox.x)&&!bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!jS(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||Sa(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),q5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Bt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(G5))){const{scroll:p}=this.root;p&&(zo(d.x,p.offset.x),zo(d.y,p.offset.y))}return d}removeElementScroll(u){const d=Bt();if(xs(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:b}=p;p!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&xs(d,u),zo(d.x,v.offset.x),zo(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const m=Bt();xs(m,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Bo(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Sa(v.latestValues)&&Bo(m,v.latestValues)}return Sa(this.latestValues)&&Bo(m,this.latestValues),m}removeTransform(u){const d=Bt();xs(d,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Sa(p.latestValues))continue;Wg(p.latestValues)&&p.updateSnapshot();const v=Bt(),b=p.measurePageBox();xs(v,b),O_(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Sa(this.latestValues)&&O_(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=sn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xs(this.target,this.layout.layoutBox),_S(this.target,this.targetDelta)):xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Wg(this.parent.latestValues)||xS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),zd(this.relativeTargetOrigin,d,m),xs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;xs(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;HD(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Bt());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(k_(this.prevProjectionDelta.x,this.projectionDelta.x),k_(this.prevProjectionDelta.y,this.projectionDelta.y)),Vc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!B_(this.projectionDelta.x,this.prevProjectionDelta.x)||!B_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(u,d=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},b=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=Bt(),A=m?m.source:void 0,M=this.layout?this.layout.source:void 0,L=A!==M,P=this.getStack(),B=!P||P.members.length<=1,F=!!(L&&!B&&this.options.crossfade===!0&&!this.path.some(F5));this.animationProgress=0;let K;this.mixTargetDelta=J=>{const ee=J/1e3;Y_(b.x,u.x,ee),Y_(b.y,u.y,ee),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zd(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B5(this.relativeTarget,this.relativeTargetOrigin,w,ee),K&&v5(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Bt()),xs(K,this.relativeTarget)),L&&(this.animationValues=v,_5(v,p,this.latestValues,ee,F,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{wd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yo(0)),this.currentAnimation=E5(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(R5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:v}=u;if(!(!d||!m||!p)){if(this!==u&&this.layout&&p&&US(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Bt();const b=bn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+b;const w=bn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+w}xs(d,m),Bo(d,v),Vc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new N5),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&og("z",u,p,this.animationValues);for(let v=0;v<ag.length;v++)og(`rotate${ag[v]}`,u,p,this.animationValues),og(`skew${ag[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=_d(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=_d(d?.pointerEvents)||""),this.hasProjected&&!Sa(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=b5(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),u.transform=b;const{x:w,y:A}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const M in Zg){if(v[M]===void 0)continue;const{correct:L,applyTo:P,isCSSVariable:B}=Zg[M],F=b==="none"?v[M]:L(v[M],p);if(P){const K=P.length;for(let J=0;J<K;J++)u[P[J]]=F}else B?this.options.visualElement.renderState.vars[M]=F:u[M]=F}this.options.layoutId&&(u.pointerEvents=p===this?_d(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(G_),this.root.sharedNodes.clear()}}}function I5(t){t.updateLayout()}function D5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Ws(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=bn(b);b.min=n[v].min,b.max=b.min+w}):US(a,e.layoutBox,n)&&Ws(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=bn(n[v]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const u=Uo();Vc(u,n,e.layoutBox);const d=Uo();l?Vc(d,t.applyTransform(i,!0),e.measuredBox):Vc(d,n,e.layoutBox);const m=!jS(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:w}=v;if(b&&w){const A=Bt();zd(A,e.layoutBox,b.layoutBox);const M=Bt();zd(M,n,w.layoutBox),MS(A,M)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function j5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function M5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function V5(t){t.clearSnapshot()}function G_(t){t.clearMeasurements()}function $_(t){t.isLayoutDirty=!1}function O5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function K_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function P5(t){t.resolveTargetDelta()}function L5(t){t.calcProjection()}function U5(t){t.resetSkewAndRotation()}function z5(t){t.removeLeadSnapshot()}function Y_(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Q_(t,e,n,i){t.min=pt(e.min,n.min,i),t.max=pt(e.max,n.max,i)}function B5(t,e,n,i){Q_(t.x,e.x,n.x,i),Q_(t.y,e.y,n.y,i)}function F5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const H5={duration:.45,ease:[.4,0,.1,1]},X_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),W_=X_("applewebkit/")&&!X_("chrome/")?Math.round:ns;function J_(t){t.min=W_(t.min),t.max=W_(t.max)}function q5(t){J_(t.x),J_(t.y)}function US(t,e,n){return t==="position"||t==="preserve-aspect"&&!f5(z_(e),z_(n),.2)}function G5(t){return t!==t.root&&t.scroll?.wasRoot}const $5=LS({attachResizeListener:(t,e)=>Qc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),lg={current:void 0},zS=LS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lg.current){const t=new $5({});t.mount(window),t.setOptions({layoutScroll:!0}),lg.current=t}return lg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),dy=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Z_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function K5(...t){return e=>{let n=!1;const i=t.map(a=>{const l=Z_(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Z_(t[a],null)}}}}function Y5(...t){return k.useCallback(K5(...t),t)}class Q5 extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=Qg(i)&&i.offsetWidth||0,l=Qg(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function X5({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const u=k.useId(),d=k.useRef(null),m=k.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=k.useContext(dy),v=t.props?.ref??t?.ref,b=Y5(d,v);return k.useInsertionEffect(()=>{const{width:w,height:A,top:M,left:L,right:P,bottom:B}=m.current;if(e||l===!1||!d.current||!w||!A)return;const F=n==="left"?`left: ${L}`:`right: ${P}`,K=i==="bottom"?`bottom: ${B}`:`top: ${M}`;d.current.dataset.motionPopId=u;const J=document.createElement("style");p&&(J.nonce=p);const ee=a??document.head;return ee.appendChild(J),J.sheet&&J.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${A}px !important;
            ${F}px !important;
            ${K}px !important;
          }
        `),()=>{ee.contains(J)&&ee.removeChild(J)}},[e]),g.jsx(Q5,{isPresent:e,childRef:d,sizeRef:m,pop:l,children:l===!1?t:k.cloneElement(t,{ref:b})})}const W5=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,anchorY:m,root:p})=>{const v=L0(J5),b=k.useId();let w=!0,A=k.useMemo(()=>(w=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:M=>{v.set(M,!0);for(const L of v.values())if(!L)return;i&&i()},register:M=>(v.set(M,!1),()=>v.delete(M))}),[n,v,i]);return l&&w&&(A={...A}),k.useMemo(()=>{v.forEach((M,L)=>v.set(L,!1))},[n]),k.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=g.jsx(X5,{pop:u==="popLayout",isPresent:n,anchorX:d,anchorY:m,root:p,children:t}),g.jsx(gf.Provider,{value:A,children:t})};function J5(){return new Map}function BS(t=!0){const e=k.useContext(gf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const u=k.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const sd=t=>t.key||"";function ew(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const rs=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",anchorY:m="top",root:p})=>{const[v,b]=BS(u),w=k.useMemo(()=>ew(t),[t]),A=u&&!v?[]:w.map(sd),M=k.useRef(!0),L=k.useRef(w),P=L0(()=>new Map),B=k.useRef(new Set),[F,K]=k.useState(w),[J,ee]=k.useState(w);yE(()=>{M.current=!1,L.current=w;for(let E=0;E<J.length;E++){const C=sd(J[E]);A.includes(C)?(P.delete(C),B.current.delete(C)):P.get(C)!==!0&&P.set(C,!1)}},[J,A.length,A.join("-")]);const re=[];if(w!==F){let E=[...w];for(let C=0;C<J.length;C++){const j=J[C],R=sd(j);A.includes(R)||(E.splice(C,0,j),re.push(j))}return l==="wait"&&re.length&&(E=re),ee(ew(E)),K(w),null}const{forceRender:I}=k.useContext(P0);return g.jsx(g.Fragment,{children:J.map(E=>{const C=sd(E),j=u&&!v?!1:w===J||A.includes(C),R=()=>{if(B.current.has(C))return;if(B.current.add(C),P.has(C))P.set(C,!0);else return;let V=!0;P.forEach(D=>{D||(V=!1)}),V&&(I?.(),ee(L.current),u&&b?.(),i&&i())};return g.jsx(W5,{isPresent:j,initial:!M.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:j?void 0:R,anchorX:d,anchorY:m,children:E},C)})})},FS=k.createContext({strict:!1}),tw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let nw=!1;function Z5(){if(nw)return;const t={};for(const e in tw)t[e]={isEnabled:n=>tw[e].some(i=>!!n[i])};yS(t),nw=!0}function HS(){return Z5(),UD()}function ej(t){const e=HS();for(const n in t)e[n]={...e[n],...t[n]};yS(e)}const tj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Bd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tj.has(t)}let qS=t=>!Bd(t);function nj(t){typeof t=="function"&&(qS=e=>e.startsWith("on")?!Bd(e):t(e))}try{nj(require("@emotion/is-prop-valid").default)}catch{}function sj(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(qS(a)||n===!0&&Bd(a)||!e&&!Bd(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const bf=k.createContext({});function ij(t,e){if(vf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Yc(n)?n:void 0,animate:Yc(i)?i:void 0}}return t.inherit!==!1?e:{}}function rj(t){const{initial:e,animate:n}=ij(t,k.useContext(bf));return k.useMemo(()=>({initial:e,animate:n}),[sw(e),sw(n)])}function sw(t){return Array.isArray(t)?t.join(" "):t}const fy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GS(t,e,n){for(const i in e)!dn(e[i])&&!ES(i,n)&&(t[i]=e[i])}function aj({transformTemplate:t},e){return k.useMemo(()=>{const n=fy();return uy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function oj(t,e){const n=t.style||{},i={};return GS(i,n,t),Object.assign(i,aj(t,e)),i}function lj(t,e){const n={},i=oj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const $S=()=>({...fy(),attrs:{}});function cj(t,e,n,i){const a=k.useMemo(()=>{const l=$S();return SS(l,e,CS(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};GS(l,t.style,t),a.style={...l,...a.style}}return a}const uj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function my(t){return typeof t!="string"||t.includes("-")?!1:!!(uj.indexOf(t)>-1||/[A-Z]/u.test(t))}function hj(t,e,n,{latestValues:i},a,l=!1,u){const m=(u??my(t)?cj:lj)(e,i,a,t),p=sj(e,typeof t=="string",l),v=t!==k.Fragment?{...p,...m,ref:n}:{},{children:b}=e,w=k.useMemo(()=>dn(b)?b.get():b,[b]);return k.createElement(t,{...v,children:w})}function dj({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:fj(n,i,a,t),renderState:e()}}function fj(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=_d(l[w]);let{initial:u,animate:d}=t;const m=vf(t),p=pS(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const b=v?d:u;if(b&&typeof b!="boolean"&&!yf(b)){const w=Array.isArray(b)?b:[b];for(let A=0;A<w.length;A++){const M=ny(t,w[A]);if(M){const{transitionEnd:L,transition:P,...B}=M;for(const F in B){let K=B[F];if(Array.isArray(K)){const J=v?K.length-1:0;K=K[J]}K!==null&&(a[F]=K)}for(const F in L)a[F]=L[F]}}}return a}const KS=t=>(e,n)=>{const i=k.useContext(bf),a=k.useContext(gf),l=()=>dj(t,e,i,a);return n?l():L0(l)},mj=KS({scrapeMotionValuesFromProps:hy,createRenderState:fy}),pj=KS({scrapeMotionValuesFromProps:NS,createRenderState:$S}),gj=Symbol.for("motionComponentSymbol");function yj(t,e,n){const i=k.useRef(n);k.useInsertionEffect(()=>{i.current=n});const a=k.useRef(null);return k.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=i.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const YS=k.createContext({});function Do(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vj(t,e,n,i,a,l){const{visualElement:u}=k.useContext(bf),d=k.useContext(FS),m=k.useContext(gf),p=k.useContext(dy),v=p.reducedMotion,b=p.skipAnimations,w=k.useRef(null),A=k.useRef(!1);i=i||d.renderer,!w.current&&i&&(w.current=i(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v,skipAnimations:b,isSVG:l}),A.current&&w.current&&(w.current.manuallyAnimateOnMount=!0));const M=w.current,L=k.useContext(YS);M&&!M.projection&&a&&(M.type==="html"||M.type==="svg")&&bj(w.current,n,a,L);const P=k.useRef(!1);k.useInsertionEffect(()=>{M&&P.current&&M.update(n,m)});const B=n[nS],F=k.useRef(!!B&&!window.MotionHandoffIsComplete?.(B)&&window.MotionHasOptimisedAnimation?.(B));return yE(()=>{A.current=!0,M&&(P.current=!0,window.MotionIsMounted=!0,M.updateFeatures(),M.scheduleRenderMicrotask(),F.current&&M.animationState&&M.animationState.animateChanges())}),k.useEffect(()=>{M&&(!F.current&&M.animationState&&M.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(B)}),F.current=!1),M.enteringChildren=void 0)}),M}function bj(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&Do(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:p})}function QS(t){if(t)return t.options.allowProjection!==!1?t.projection:QS(t.parent)}function cg(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&ej(i);const l=n?n==="svg":my(t),u=l?pj:mj;function d(p,v){let b;const w={...k.useContext(dy),...p,layoutId:xj(p)},{isStatic:A}=w,M=rj(p),L=u(p,A);if(!A&&gE){_j();const P=wj(w);b=P.MeasureLayout,M.visualElement=vj(t,L,w,a,P.ProjectionNode,l)}return g.jsxs(bf.Provider,{value:M,children:[b&&M.visualElement?g.jsx(b,{visualElement:M.visualElement,...w}):null,hj(t,p,yj(L,M.visualElement,v),L,A,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=k.forwardRef(d);return m[gj]=t,m}function xj({layoutId:t}){const e=k.useContext(P0).id;return e&&t!==void 0?e+"-"+t:t}function _j(t,e){k.useContext(FS).strict}function wj(t){const e=HS(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Tj(t,e){if(typeof Proxy>"u")return cg;const n=new Map,i=(l,u)=>cg(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,cg(u,void 0,t,e)),n.get(u))})}const Ej=(t,e)=>e.isSVG??my(t)?new n5(e):new XD(e,{allowProjection:t!==k.Fragment});class Sj extends Gr{constructor(e){super(e),e.animationState||(e.animationState=o5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Aj=0;class Cj extends Gr{constructor(){super(...arguments),this.id=Aj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Nj={animation:{Feature:Sj},exit:{Feature:Cj}};function du(t){return{point:{x:t.pageX,y:t.pageY}}}const Rj=t=>e=>ay(e)&&t(e,du(e));function Oc(t,e,n,i){return Qc(t,e,Rj(n),i)}const XS=({current:t})=>t?t.ownerDocument.defaultView:null,iw=(t,e)=>Math.abs(t-e);function kj(t,e){const n=iw(t.x,e.x),i=iw(t.y,e.y);return Math.sqrt(n**2+i**2)}const rw=new Set(["auto","scroll"]);class WS{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=hg(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,L=kj(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!L)return;const{point:P}=A,{timestamp:B}=sn;this.history.push({...P,timestamp:B});const{onStart:F,onMove:K}=this.handlers;M||(F&&F(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,A)},this.handlePointerMove=(A,M)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=ug(M,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(A,M)=>{this.end();const{onEnd:L,onSessionEnd:P,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=hg(A.type==="pointercancel"?this.lastMoveEventInfo:ug(M,this.transformPagePoint),this.history);this.startEvent&&L&&L(A,F),P&&P(A,F)},!ay(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const m=du(e),p=ug(m,this.transformPagePoint),{point:v}=p,{timestamp:b}=sn;this.history=[{...v,timestamp:b}];const{onSessionStart:w}=n;w&&w(e,hg(p,this.history)),this.removeListeners=cu(Oc(this.contextWindow,"pointermove",this.handlePointerMove),Oc(this.contextWindow,"pointerup",this.handlePointerUp),Oc(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(rw.has(i.overflowX)||rw.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),lt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Pr(this.updatePoint)}}function ug(t,e){return e?{point:e(t.point)}:t}function aw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hg({point:t},e){return{point:t,delta:aw(t,JS(e)),offset:aw(t,Ij(e)),velocity:Dj(e,.1)}}function Ij(t){return t[0]}function JS(t){return t[t.length-1]}function Dj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=JS(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Es(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Es(e)*2&&(i=t[1]);const l=ts(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function jj(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?pt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?pt(n,t,i.max):Math.min(t,n)),t}function ow(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Mj(t,{top:e,left:n,bottom:i,right:a}){return{x:ow(t.x,n,a),y:ow(t.y,e,i)}}function lw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Vj(t,e){return{x:lw(t.x,e.x),y:lw(t.y,e.y)}}function Oj(t,e){let n=.5;const i=bn(t),a=bn(e);return a>i?n=Gc(e.min,e.max-i,t.min):i>a&&(n=Gc(t.min,t.max-a,e.min)),ii(0,1,n)}function Pj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const e0=.35;function Lj(t=e0){return t===!1?t=0:t===!0&&(t=e0),{x:cw(t,"left","right"),y:cw(t,"top","bottom")}}function cw(t,e,n){return{min:uw(t,e),max:uw(t,n)}}function uw(t,e){return typeof t=="number"?t:t[e]||0}const Uj=new WeakMap;class zj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n&&this.snapToCursor(du(b).point),this.stopAnimation()},u=(b,w)=>{const{drag:A,dragPropagation:M,onDragStart:L}=this.getProps();if(A&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pD(A),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ws(B=>{let F=this.getAxisMotionValue(B).get()||0;if(Zs.test(F)){const{projection:K}=this.visualElement;if(K&&K.layout){const J=K.layout.layoutBox[B];J&&(F=bn(J)*(parseFloat(F)/100))}}this.originPoint[B]=F}),L&&lt.update(()=>L(b,w),!1,!0),$g(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},d=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:M,onDirectionLock:L,onDrag:P}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:B}=w;if(M&&this.currentDirection===null){this.currentDirection=Fj(B),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),P&&lt.update(()=>P(b,w),!1,!0)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new WS(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:XS(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&lt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!id(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=jj(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Do(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Mj(i.layoutBox,e):this.constraints=!1,this.elastic=Lj(n),a!==this.constraints&&!Do(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&Ws(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Pj(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Do(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=qD(i,a.root,this.visualElement.getTransformPagePoint());let u=Vj(a.layout.layoutBox,l);if(n){const d=n(BD(u));this.hasMutatedConstraints=!!d,d&&(u=bS(d))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Ws(v=>{if(!id(v,n,this.currentDirection))return;let b=m&&m[v]||{};u&&(b={min:0,max:0});const w=a?200:1e6,A=a?40:1e7,M={type:"inertia",velocity:i?e[v]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,M)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return $g(this.visualElement,e),i.start(ty(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ws(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ws(n=>{const{drag:i}=this.getProps();if(!id(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-pt(u,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Do(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ws(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=Oj({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ws(u=>{if(!id(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];d.set(pt(m,p,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Uj.set(this.visualElement,this);const e=this.visualElement.current,n=Oc(e,"pointerdown",p=>{const{drag:v,dragListener:b=!0}=this.getProps(),w=p.target,A=w!==e&&_D(w);v&&b&&!A&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();Do(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=Bj(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),lt.read(a);const d=Qc(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&(Ws(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=p[b].translate,w.set(w.get()+p[b].translate))}),this.visualElement.render())}));return()=>{d(),n(),u(),m&&m(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=e0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function hw(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function Bj(t,e,n){const i=v_(t,hw(n)),a=v_(e,hw(n));return()=>{i(),a()}}function id(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Fj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Hj extends Gr{constructor(e){super(e),this.removeGroupControls=ns,this.removeListeners=ns,this.controls=new zj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ns}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const dg=t=>(e,n)=>{t&&lt.update(()=>t(e,n),!1,!0)};class qj extends Gr{constructor(){super(...arguments),this.removePointerDownListener=ns}onPointerDown(e){this.session=new WS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:dg(e),onStart:dg(n),onMove:dg(i),onEnd:(l,u)=>{delete this.session,a&&lt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Oc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let fg=!1;class Gj extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),fg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),wd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),fg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||lt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ry.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;fg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZS(t){const[e,n]=BS(),i=k.useContext(P0);return g.jsx(Gj,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(YS),isPresent:e,safeToRemove:n})}const $j={pan:{Feature:qj},drag:{Feature:Hj,ProjectionNode:zS,MeasureLayout:ZS}};function dw(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&lt.postRender(()=>l(e,du(e)))}class Kj extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=yD(e,(n,i)=>(dw(this.node,i,"Start"),a=>dw(this.node,a,"End"))))}unmount(){}}class Yj extends Gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cu(Qc(this.node.current,"focus",()=>this.onFocus()),Qc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fw(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&lt.postRender(()=>l(e,du(e)))}class Qj extends Gr{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=TD(e,(a,l)=>(fw(this.node,l,"Start"),(u,{success:d})=>fw(this.node,u,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const t0=new WeakMap,mg=new WeakMap,Xj=t=>{const e=t0.get(t.target);e&&e(t)},Wj=t=>{t.forEach(Xj)};function Jj({root:t,...e}){const n=t||document;mg.has(n)||mg.set(n,{});const i=mg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(Wj,{root:t,...e})),i[a]}function Zj(t,e,n){const i=Jj(e);return t0.set(t,n),i.observe(t),()=>{t0.delete(t),i.unobserve(t)}}const eM={some:0,all:1};class tM extends Gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:eM[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),w=p?v:b;w&&w(m)};return Zj(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nM(e,n))&&this.startObserver()}unmount(){}}function nM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sM={inView:{Feature:tM},tap:{Feature:Qj},focus:{Feature:Yj},hover:{Feature:Kj}},iM={layout:{ProjectionNode:zS,MeasureLayout:ZS}},rM={...Nj,...sM,...$j,...iM},be=Tj(rM,Ej),aM=()=>{};var mw={};const eA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},oM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},tA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,A=p&63;m||(A=64,u||(w=64)),i.push(n[v],n[b],n[w],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||b==null)throw new lM;const w=l<<2|d>>4;if(i.push(w),p!==64){const A=d<<4&240|p>>2;if(i.push(A),b!==64){const M=p<<6&192|b;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cM=function(t){const e=eA(t);return tA.encodeByteArray(e,!0)},Fd=function(t){return cM(t).replace(/\./g,"")},nA=function(t){try{return tA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hM=()=>uM().__FIREBASE_DEFAULTS__,dM=()=>{if(typeof process>"u"||typeof mw>"u")return;const t=mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nA(t[1]);return e&&JSON.parse(e)},xf=()=>{try{return aM()||hM()||dM()||fM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sA=t=>xf()?.emulatorHosts?.[t],mM=t=>{const e=sA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},iA=()=>xf()?.config,rA=t=>xf()?.[`_${t}`];class pM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function hl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aA(t){return(await fetch(t,{credentials:"include"})).ok}function gM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fd(JSON.stringify(n)),Fd(JSON.stringify(u)),""].join(".")}const Pc={};function yM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pc))Pc[e]?t.emulator.push(e):t.prod.push(e);return t}function vM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pw=!1;function oA(t,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||Pc[t]===e||Pc[t]||pw)return;Pc[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=yM().prod.length>0;function u(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{pw=!0,u()},w}function v(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=vM(i),A=n("text"),M=document.getElementById(A)||document.createElement("span"),L=n("learnmore"),P=document.getElementById(L)||document.createElement("a"),B=n("preprendIcon"),F=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const K=w.element;d(K),v(P,L);const J=p();m(F,B),K.append(F,M,P,J),document.body.appendChild(K)}l?(M.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function xM(){const t=xf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _M(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EM(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SM(){return!xM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AM(){try{return typeof indexedDB=="object"}catch{return!1}}function CM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const NM="FirebaseError";class Hi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=NM,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?RM(l,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Hi(a,d,i)}}function RM(t,e){return t.replace(kM,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const kM=/\{\$([^}]+)}/g;function IM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Va(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(gw(l)&&gw(u)){if(!Va(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function gw(t){return t!==null&&typeof t=="object"}function mu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function DM(t,e){const n=new jM(t,e);return n.subscribe.bind(n)}class jM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");MM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=pg),a.error===void 0&&(a.error=pg),a.complete===void 0&&(a.complete=pg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pg(){}function Kt(t){return t&&t._delegate?t._delegate:t}class Oa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Aa="[DEFAULT]";class VM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new pM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PM(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OM(t){return t===Aa?void 0:t}function PM(t){return t.instantiationMode==="EAGER"}class LM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const UM={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},zM=He.INFO,BM={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},FM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=BM[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class py{constructor(e){this.name=e,this._logLevel=zM,this._logHandler=FM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const HM=(t,e)=>e.some(n=>t instanceof n);let yw,vw;function qM(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GM(){return vw||(vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lA=new WeakMap,n0=new WeakMap,cA=new WeakMap,gg=new WeakMap,gy=new WeakMap;function $M(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Dr(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&lA.set(n,t)}).catch(()=>{}),gy.set(e,t),e}function KM(t){if(n0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});n0.set(t,e)}let s0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return n0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YM(t){s0=t(s0)}function QM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(yg(this),e,...n);return cA.set(i,e.sort?e.sort():[e]),Dr(i)}:GM().includes(t)?function(...e){return t.apply(yg(this),e),Dr(lA.get(this))}:function(...e){return Dr(t.apply(yg(this),e))}}function XM(t){return typeof t=="function"?QM(t):(t instanceof IDBTransaction&&KM(t),HM(t,qM())?new Proxy(t,s0):t)}function Dr(t){if(t instanceof IDBRequest)return $M(t);if(gg.has(t))return gg.get(t);const e=XM(t);return e!==t&&(gg.set(t,e),gy.set(e,t)),e}const yg=t=>gy.get(t);function WM(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Dr(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Dr(u.result),m.oldVersion,m.newVersion,Dr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const JM=["get","getKey","getAll","getAllKeys","count"],ZM=["put","add","delete","clear"],vg=new Map;function bw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vg.get(e))return vg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=ZM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||JM.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return vg.set(e,l),l}YM(t=>({...t,get:(e,n,i)=>bw(e,n)||t.get(e,n,i),has:(e,n)=>!!bw(e,n)||t.has(e,n)}));class e3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t3(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function t3(t){return t.getComponent()?.type==="VERSION"}const i0="@firebase/app",xw="0.14.8";const Pi=new py("@firebase/app"),n3="@firebase/app-compat",s3="@firebase/analytics-compat",i3="@firebase/analytics",r3="@firebase/app-check-compat",a3="@firebase/app-check",o3="@firebase/auth",l3="@firebase/auth-compat",c3="@firebase/database",u3="@firebase/data-connect",h3="@firebase/database-compat",d3="@firebase/functions",f3="@firebase/functions-compat",m3="@firebase/installations",p3="@firebase/installations-compat",g3="@firebase/messaging",y3="@firebase/messaging-compat",v3="@firebase/performance",b3="@firebase/performance-compat",x3="@firebase/remote-config",_3="@firebase/remote-config-compat",w3="@firebase/storage",T3="@firebase/storage-compat",E3="@firebase/firestore",S3="@firebase/ai",A3="@firebase/firestore-compat",C3="firebase",N3="12.9.0";const r0="[DEFAULT]",R3={[i0]:"fire-core",[n3]:"fire-core-compat",[i3]:"fire-analytics",[s3]:"fire-analytics-compat",[a3]:"fire-app-check",[r3]:"fire-app-check-compat",[o3]:"fire-auth",[l3]:"fire-auth-compat",[c3]:"fire-rtdb",[u3]:"fire-data-connect",[h3]:"fire-rtdb-compat",[d3]:"fire-fn",[f3]:"fire-fn-compat",[m3]:"fire-iid",[p3]:"fire-iid-compat",[g3]:"fire-fcm",[y3]:"fire-fcm-compat",[v3]:"fire-perf",[b3]:"fire-perf-compat",[x3]:"fire-rc",[_3]:"fire-rc-compat",[w3]:"fire-gcs",[T3]:"fire-gcs-compat",[E3]:"fire-fst",[A3]:"fire-fst-compat",[S3]:"fire-vertex","fire-js":"fire-js",[C3]:"fire-js-all"};const Hd=new Map,k3=new Map,a0=new Map;function _w(t,e){try{t.container.addComponent(e)}catch(n){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qo(t){const e=t.name;if(a0.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;a0.set(e,t);for(const n of Hd.values())_w(n,t);for(const n of k3.values())_w(n,t);return!0}function yy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ws(t){return t==null?!1:t.settings!==void 0}const I3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new fu("app","Firebase",I3);class D3{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const dl=N3;function uA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:r0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw jr.create("bad-app-name",{appName:String(a)});if(n||(n=iA()),!n)throw jr.create("no-options");const l=Hd.get(a);if(l){if(Va(n,l.options)&&Va(i,l.config))return l;throw jr.create("duplicate-app",{appName:a})}const u=new LM(a);for(const m of a0.values())u.addComponent(m);const d=new D3(n,i,u);return Hd.set(a,d),d}function hA(t=r0){const e=Hd.get(t);if(!e&&t===r0&&iA())return uA();if(!e)throw jr.create("no-app",{appName:t});return e}function Mr(t,e,n){let i=R3[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(u.join(" "));return}Qo(new Oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const j3="firebase-heartbeat-database",M3=1,Xc="firebase-heartbeat-store";let bg=null;function dA(){return bg||(bg=WM(j3,M3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),bg}async function V3(t){try{const n=(await dA()).transaction(Xc),i=await n.objectStore(Xc).get(fA(t));return await n.done,i}catch(e){if(e instanceof Hi)Pi.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(n.message)}}}async function ww(t,e){try{const i=(await dA()).transaction(Xc,"readwrite");await i.objectStore(Xc).put(e,fA(t)),await i.done}catch(n){if(n instanceof Hi)Pi.warn(n.message);else{const i=jr.create("idb-set",{originalErrorMessage:n?.message});Pi.warn(i.message)}}}function fA(t){return`${t.name}!${t.options.appId}`}const O3=1024,P3=30;class L3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Tw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>P3){const a=B3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Tw(),{heartbeatsToSend:n,unsentEntries:i}=U3(this._heartbeatsCache.heartbeats),a=Fd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Pi.warn(e),""}}}function Tw(){return new Date().toISOString().substring(0,10)}function U3(t,e=O3){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Ew(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ew(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class z3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AM()?CM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ww(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ww(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ew(t){return Fd(JSON.stringify({version:2,heartbeats:t})).length}function B3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function F3(t){Qo(new Oa("platform-logger",e=>new e3(e),"PRIVATE")),Qo(new Oa("heartbeat",e=>new L3(e),"PRIVATE")),Mr(i0,xw,t),Mr(i0,xw,"esm2020"),Mr("fire-js","")}F3("");function mA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H3=mA,pA=new fu("auth","Firebase",mA());const qd=new py("@firebase/auth");function q3(t,...e){qd.logLevel<=He.WARN&&qd.warn(`Auth (${dl}): ${t}`,...e)}function Td(t,...e){qd.logLevel<=He.ERROR&&qd.error(`Auth (${dl}): ${t}`,...e)}function ri(t,...e){throw by(t,...e)}function Ss(t,...e){return by(t,...e)}function vy(t,e,n){const i={...H3(),[e]:n};return new fu("auth","Firebase",i).create(e,{appName:t.name})}function Da(t){return vy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G3(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ri(t,"argument-error"),vy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function by(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return pA.create(t,...e)}function Ne(t,e,...n){if(!t)throw by(e,...n)}function ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Td(e),new Error(e)}function Li(t,e){t||ki(e)}function o0(){return typeof self<"u"&&self.location?.href||""}function $3(){return Sw()==="http:"||Sw()==="https:"}function Sw(){return typeof self<"u"&&self.location?.protocol||null}function K3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($3()||wM()||"connection"in navigator)?navigator.onLine:!0}function Y3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=bM()||TM()}get(){return K3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xy(t,e){Li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const X3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W3=new pu(3e4,6e4);function _y(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fl(t,e,n,i,a={}){return yA(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=mu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return _M()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&hl(t.emulatorConfig.host)&&(p.credentials="include"),gA.fetch()(await vA(t,t.config.apiHost,n,d),p)})}async function yA(t,e,n){t._canInitEmulator=!1;const i={...Q3,...e};try{const a=new Z3(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw rd(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw rd(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw rd(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw rd(t,"user-disabled",u);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vy(t,v,p);ri(t,v)}}catch(a){if(a instanceof Hi)throw a;ri(t,"network-request-failed",{message:String(a)})}}async function J3(t,e,n,i,a={}){const l=await fl(t,e,n,i,a);return"mfaPendingCredential"in l&&ri(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function vA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?xy(t.config,a):`${t.config.apiScheme}://${a}`;return X3.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class Z3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ss(this.auth,"network-request-failed")),W3.get())})}}function rd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ss(t,e,i);return a.customData._tokenResponse=n,a}async function e6(t,e){return fl(t,"POST","/v1/accounts:delete",e)}async function Gd(t,e){return fl(t,"POST","/v1/accounts:lookup",e)}function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t6(t,e=!1){const n=Kt(t),i=await n.getIdToken(e),a=wy(i);Ne(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Lc(xg(a.auth_time)),issuedAtTime:Lc(xg(a.iat)),expirationTime:Lc(xg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function xg(t){return Number(t)*1e3}function wy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const a=nA(n);return a?JSON.parse(a):(Td("Failed to decode base64 JWT payload"),null)}catch(a){return Td("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Aw(t){const e=wy(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Hi&&n6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function n6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class s6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class l0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $d(t){const e=t.auth,n=await t.getIdToken(),i=await Wc(t,Gd(e,{idToken:n}));Ne(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?bA(a.providerUserInfo):[],u=r6(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new l0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function i6(t){const e=Kt(t);await $d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r6(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function bA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function a6(t,e){const n=await yA(t,{},async()=>{const i=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await vA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return t.emulatorConfig&&hl(t.emulatorConfig.host)&&(m.credentials="include"),gA.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o6(t,e){return fl(t,"POST","/v2/accounts:revokeToken",_y(t,e))}class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Aw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=Aw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await a6(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new Ho;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ne(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return ki("not implemented")}}function Sr(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ts{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new s6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new l0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t6(this,e)}reload(){return i6(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await $d(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ws(this.auth.app))return Promise.reject(Da(this.auth));const e=await this.getIdToken();return await Wc(this,e6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:A,providerData:M,stsTokenManager:L}=n;Ne(b&&L,e,"internal-error");const P=Ho.fromJSON(this.name,L);Ne(typeof b=="string",e,"internal-error"),Sr(i,e.name),Sr(a,e.name),Ne(typeof w=="boolean",e,"internal-error"),Ne(typeof A=="boolean",e,"internal-error"),Sr(l,e.name),Sr(u,e.name),Sr(d,e.name),Sr(m,e.name),Sr(p,e.name),Sr(v,e.name);const B=new Ts({uid:b,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:P,createdAt:p,lastLoginAt:v});return M&&Array.isArray(M)&&(B.providerData=M.map(F=>({...F}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,i=!1){const a=new Ho;a.updateFromServerResponse(n);const l=new Ts({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await $d(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?bA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new Ho;d.updateFromIdToken(i);const m=new Ts({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new l0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const Cw=new Map;function Ii(t){Li(t instanceof Function,"Expected a class definition");let e=Cw.get(t);return e?(Li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cw.set(t,e),e)}class xA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xA.type="NONE";const Nw=xA;function Ed(t,e,n){return`firebase:${t}:${e}:${n}`}class qo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ed(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ed("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gd(this.auth,{idToken:e}).catch(()=>{});return n?Ts._fromGetAccountInfoResponse(this.auth,n,e):null}return Ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new qo(Ii(Nw),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ii(Nw);const u=Ed(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(u);if(v){let b;if(typeof v=="string"){const w=await Gd(e,{idToken:v}).catch(()=>{});if(!w)break;b=await Ts._fromGetAccountInfoResponse(e,w,v)}else b=Ts._fromJSON(e,v);p!==l&&(d=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new qo(l,e,i):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new qo(l,e,i))}}function Rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_A(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AA(e))return"Blackberry";if(CA(e))return"Webos";if(wA(e))return"Safari";if((e.includes("chrome/")||TA(e))&&!e.includes("edge/"))return"Chrome";if(SA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function _A(t=fn()){return/firefox\//i.test(t)}function wA(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TA(t=fn()){return/crios\//i.test(t)}function EA(t=fn()){return/iemobile/i.test(t)}function SA(t=fn()){return/android/i.test(t)}function AA(t=fn()){return/blackberry/i.test(t)}function CA(t=fn()){return/webos/i.test(t)}function Ty(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l6(t=fn()){return Ty(t)&&!!window.navigator?.standalone}function c6(){return EM()&&document.documentMode===10}function NA(t=fn()){return Ty(t)||SA(t)||CA(t)||AA(t)||/windows phone/i.test(t)||EA(t)}function RA(t,e=[]){let n;switch(t){case"Browser":n=Rw(fn());break;case"Worker":n=`${Rw(fn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${i}`}class u6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function h6(t,e={}){return fl(t,"GET","/v2/passwordPolicy",_y(t,e))}const d6=6;class f6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??d6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class m6{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kw(this),this.idTokenSubscription=new kw(this),this.beforeStateQueue=new u6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gd(this,{idToken:e}),i=await Ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ws(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $d(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ws(this.app))return Promise.reject(Da(this));const n=e?Kt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ws(this.app)?Promise.reject(Da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ws(this.app)?Promise.reject(Da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h6(this),n=new f6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await o6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ws(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&q3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _f(t){return Kt(t)}class kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=DM(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ey={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p6(t){Ey=t}function g6(t){return Ey.loadJS(t)}function y6(){return Ey.gapiScript}function v6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function b6(t,e){const n=yy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Va(l,e??{}))return a;ri(a,"already-initialized")}return n.initialize({options:e})}function x6(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function _6(t,e,n){const i=_f(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=kA(e),{host:u,port:d}=w6(e),m=d===null?"":`:${d}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(Va(p,i.config.emulator)&&Va(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,hl(u)?(aA(`${l}//${u}${m}`),oA("Auth",!0)):T6()}function kA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w6(t){const e=kA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Iw(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Iw(u)}}}function Iw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class IA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,n){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function Go(t,e){return J3(t,"POST","/v1/accounts:signInWithIdp",_y(t,e))}const E6="http://localhost";class Pa extends IA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Pa(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Go(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Go(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Go(e,n)}buildRequest(){const e={requestUri:E6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}class Sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cr extends gu{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";class Ri extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ri.credential(n,i)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";class Nr extends gu{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";class Rr extends gu{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Rr.credential(n,i)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ts._fromIdTokenResponse(e,i,a),u=Dw(i);return new Xo({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Dw(i);return new Xo({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Dw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Kd extends Hi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Kd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Kd(e,n,i,a)}}function DA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kd._fromErrorAndOperation(t,l,e,i):l})}async function S6(t,e,n=!1){const i=await Wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",i)}async function A6(t,e,n=!1){const{auth:i}=t;if(ws(i.app))return Promise.reject(Da(i));const a="reauthenticate";try{const l=await Wc(t,DA(i,a,e,t),n);Ne(l.idToken,i,"internal-error");const u=wy(l.idToken);Ne(u,i,"internal-error");const{sub:d}=u;return Ne(t.uid===d,i,"user-mismatch"),Xo._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ri(i,"user-mismatch"),l}}async function C6(t,e,n=!1){if(ws(t.app))return Promise.reject(Da(t));const i="signIn",a=await DA(t,i,e),l=await Xo._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function N6(t,e,n,i){return Kt(t).onIdTokenChanged(e,n,i)}function R6(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}function k6(t,e,n,i){return Kt(t).onAuthStateChanged(e,n,i)}function I6(t){return Kt(t).signOut()}const Yd="__sak";class jA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const D6=1e3,j6=10;class MA extends jA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);c6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,j6):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},D6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MA.type="LOCAL";const M6=MA;class VA extends jA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VA.type="SESSION";const OA=VA;function V6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new wf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async p=>p(n.origin,l)),m=await V6(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];function Ay(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class O6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const p=Ay("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ei(){return window}function P6(t){ei().location.href=t}function PA(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function L6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U6(){return navigator?.serviceWorker?.controller||null}function z6(){return PA()?self:null}const LA="firebaseLocalStorageDb",B6=1,Qd="firebaseLocalStorage",UA="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tf(t,e){return t.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function F6(){const t=indexedDB.deleteDatabase(LA);return new yu(t).toPromise()}function c0(){const t=indexedDB.open(LA,B6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Qd,{keyPath:UA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Qd)?e(i):(i.close(),await F6(),e(await c0()))})})}async function jw(t,e,n){const i=Tf(t,!0).put({[UA]:e,value:n});return new yu(i).toPromise()}async function H6(t,e){const n=Tf(t,!1).get(e),i=await new yu(n).toPromise();return i===void 0?null:i.value}function Mw(t,e){const n=Tf(t,!0).delete(e);return new yu(n).toPromise()}const q6=800,G6=3;class zA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>G6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(z6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await L6(),!this.activeServiceWorker)return;this.sender=new O6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c0();return await jw(e,Yd,"1"),await Mw(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>jw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>H6(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Tf(a,!1).getAll();return new yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zA.type="LOCAL";const $6=zA;new pu(3e4,6e4);function BA(t,e){return e?Ii(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Cy extends IA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K6(t){return C6(t.auth,new Cy(t),t.bypassAuthState)}function Y6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),A6(n,new Cy(t),t.bypassAuthState)}async function Q6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),S6(n,new Cy(t),t.bypassAuthState)}class FA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K6;case"linkViaPopup":case"linkViaRedirect":return Q6;case"reauthViaPopup":case"reauthViaRedirect":return Y6;default:ri(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const X6=new pu(2e3,1e4);async function W6(t,e,n){if(ws(t.app))return Promise.reject(Ss(t,"operation-not-supported-in-this-environment"));const i=_f(t);G3(t,e,Sy);const a=BA(i,n);return new Ra(i,"signInViaPopup",e,a).executeNotNull()}class Ra extends FA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=Ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X6.get())};e()}}Ra.currentPopupAction=null;const J6="pendingRedirect",Sd=new Map;class Z6 extends FA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Sd.get(this.auth._key());if(!e){try{const i=await eV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Sd.set(this.auth._key(),e)}return this.bypassAuthState||Sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eV(t,e){const n=sV(e),i=nV(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function tV(t,e){Sd.set(t._key(),e)}function nV(t){return Ii(t._redirectPersistence)}function sV(t){return Ed(J6,t.config.apiKey,t.name)}async function iV(t,e,n=!1){if(ws(t.app))return Promise.reject(Da(t));const i=_f(t),a=BA(i,e),u=await new Z6(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const rV=600*1e3;class aV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!HA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ss(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vw(e))}saveEventToCache(e){this.cachedEventUids.add(Vw(e)),this.lastProcessedEventTime=Date.now()}}function Vw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HA(t);default:return!1}}async function lV(t,e={}){return fl(t,"GET","/v1/projects",e)}const cV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uV=/^https?/;async function hV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lV(t);for(const n of e)try{if(dV(n))return}catch{}ri(t,"unauthorized-domain")}function dV(t){const e=o0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!uV.test(n))return!1;if(cV.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const fV=new pu(3e4,6e4);function Ow(){const t=ei().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mV(t){return new Promise((e,n)=>{function i(){Ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ow(),n(Ss(t,"network-request-failed"))},timeout:fV.get()})}if(ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ei().gapi?.load)i();else{const a=v6("iframefcb");return ei()[a]=()=>{gapi.load?i():n(Ss(t,"network-request-failed"))},g6(`${y6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ad=null,e})}let Ad=null;function pV(t){return Ad=Ad||mV(t),Ad}const gV=new pu(5e3,15e3),yV="__/auth/iframe",vV="emulator/auth/iframe",bV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _V(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xy(e,vV):`https://${t.config.authDomain}/${yV}`,i={apiKey:e.apiKey,appName:t.name,v:dl},a=xV.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${mu(i).slice(1)}`}async function wV(t){const e=await pV(t),n=ei().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:_V(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bV,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Ss(t,"network-request-failed"),d=ei().setTimeout(()=>{l(u)},gV.get());function m(){ei().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(u)})}))}const TV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EV=500,SV=600,AV="_blank",CV="http://localhost";class Pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NV(t,e,n,i=EV,a=SV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...TV,width:i.toString(),height:a.toString(),top:l,left:u},p=fn().toLowerCase();n&&(d=TA(p)?AV:n),_A(p)&&(e=e||CV,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[A,M])=>`${w}${A}=${M},`,"");if(l6(p)&&d!=="_self")return RV(e||"",d),new Pw(null);const b=window.open(e||"",d,v);Ne(b,t,"popup-blocked");try{b.focus()}catch{}return new Pw(b)}function RV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const kV="__/auth/handler",IV="emulator/auth/handler",DV=encodeURIComponent("fac");async function Lw(t,e,n,i,a,l){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:dl,eventId:a};if(e instanceof Sy){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",IM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof gu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),p=m?`#${DV}=${encodeURIComponent(m)}`:"";return`${jV(t)}?${mu(d).slice(1)}${p}`}function jV({config:t}){return t.emulator?xy(t,IV):`https://${t.authDomain}/${kV}`}const _g="webStorageSupport";class MV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OA,this._completeRedirectFn=iV,this._overrideRedirectResult=tV}async _openPopup(e,n,i,a){Li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Lw(e,n,i,o0(),a);return NV(e,l,Ay())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Lw(e,n,i,o0(),a);return P6(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Li(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await wV(e),i=new aV(e);return n.register("authEvent",a=>(Ne(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_g,{type:_g},a=>{const l=a?.[0]?.[_g];l!==void 0&&n(!!l),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NA()||wA()||Ty()}}const VV=MV;var Uw="@firebase/auth",zw="1.12.0";class OV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LV(t){Qo(new Oa("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RA(t)},p=new m6(i,a,l,m);return x6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Qo(new Oa("auth-internal",e=>{const n=_f(e.getProvider("auth").getImmediate());return(i=>new OV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(Uw,zw,PV(t)),Mr(Uw,zw,"esm2020")}const UV=300,zV=rA("authIdTokenMaxAge")||UV;let Bw=null;const BV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>zV)return;const a=n?.token;Bw!==a&&(Bw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function FV(t=hA()){const e=yy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b6(t,{popupRedirectResolver:VV,persistence:[$6,M6,OA]}),i=rA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=BV(l.toString());R6(n,u,()=>u(n.currentUser)),N6(n,d=>u(d))}}const a=sA("auth");return a&&_6(n,`http://${a}`),n}function HV(){return document.getElementsByTagName("head")?.[0]??document}p6({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Ss("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",HV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LV("Browser");var qV="firebase",GV="12.9.0";Mr(qV,GV,"app");var Fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vr,qA;(function(){var t;function e(I,E){function C(){}C.prototype=E.prototype,I.F=E.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(j,R,V){for(var D=Array(arguments.length-2),we=2;we<arguments.length;we++)D[we-2]=arguments[we];return E.prototype[R].apply(j,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,E,C){C||(C=0);const j=Array(16);if(typeof E=="string")for(var R=0;R<16;++R)j[R]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(R=0;R<16;++R)j[R]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=I.g[0],C=I.g[1],R=I.g[2];let V=I.g[3],D;D=E+(V^C&(R^V))+j[0]+3614090360&4294967295,E=C+(D<<7&4294967295|D>>>25),D=V+(R^E&(C^R))+j[1]+3905402710&4294967295,V=E+(D<<12&4294967295|D>>>20),D=R+(C^V&(E^C))+j[2]+606105819&4294967295,R=V+(D<<17&4294967295|D>>>15),D=C+(E^R&(V^E))+j[3]+3250441966&4294967295,C=R+(D<<22&4294967295|D>>>10),D=E+(V^C&(R^V))+j[4]+4118548399&4294967295,E=C+(D<<7&4294967295|D>>>25),D=V+(R^E&(C^R))+j[5]+1200080426&4294967295,V=E+(D<<12&4294967295|D>>>20),D=R+(C^V&(E^C))+j[6]+2821735955&4294967295,R=V+(D<<17&4294967295|D>>>15),D=C+(E^R&(V^E))+j[7]+4249261313&4294967295,C=R+(D<<22&4294967295|D>>>10),D=E+(V^C&(R^V))+j[8]+1770035416&4294967295,E=C+(D<<7&4294967295|D>>>25),D=V+(R^E&(C^R))+j[9]+2336552879&4294967295,V=E+(D<<12&4294967295|D>>>20),D=R+(C^V&(E^C))+j[10]+4294925233&4294967295,R=V+(D<<17&4294967295|D>>>15),D=C+(E^R&(V^E))+j[11]+2304563134&4294967295,C=R+(D<<22&4294967295|D>>>10),D=E+(V^C&(R^V))+j[12]+1804603682&4294967295,E=C+(D<<7&4294967295|D>>>25),D=V+(R^E&(C^R))+j[13]+4254626195&4294967295,V=E+(D<<12&4294967295|D>>>20),D=R+(C^V&(E^C))+j[14]+2792965006&4294967295,R=V+(D<<17&4294967295|D>>>15),D=C+(E^R&(V^E))+j[15]+1236535329&4294967295,C=R+(D<<22&4294967295|D>>>10),D=E+(R^V&(C^R))+j[1]+4129170786&4294967295,E=C+(D<<5&4294967295|D>>>27),D=V+(C^R&(E^C))+j[6]+3225465664&4294967295,V=E+(D<<9&4294967295|D>>>23),D=R+(E^C&(V^E))+j[11]+643717713&4294967295,R=V+(D<<14&4294967295|D>>>18),D=C+(V^E&(R^V))+j[0]+3921069994&4294967295,C=R+(D<<20&4294967295|D>>>12),D=E+(R^V&(C^R))+j[5]+3593408605&4294967295,E=C+(D<<5&4294967295|D>>>27),D=V+(C^R&(E^C))+j[10]+38016083&4294967295,V=E+(D<<9&4294967295|D>>>23),D=R+(E^C&(V^E))+j[15]+3634488961&4294967295,R=V+(D<<14&4294967295|D>>>18),D=C+(V^E&(R^V))+j[4]+3889429448&4294967295,C=R+(D<<20&4294967295|D>>>12),D=E+(R^V&(C^R))+j[9]+568446438&4294967295,E=C+(D<<5&4294967295|D>>>27),D=V+(C^R&(E^C))+j[14]+3275163606&4294967295,V=E+(D<<9&4294967295|D>>>23),D=R+(E^C&(V^E))+j[3]+4107603335&4294967295,R=V+(D<<14&4294967295|D>>>18),D=C+(V^E&(R^V))+j[8]+1163531501&4294967295,C=R+(D<<20&4294967295|D>>>12),D=E+(R^V&(C^R))+j[13]+2850285829&4294967295,E=C+(D<<5&4294967295|D>>>27),D=V+(C^R&(E^C))+j[2]+4243563512&4294967295,V=E+(D<<9&4294967295|D>>>23),D=R+(E^C&(V^E))+j[7]+1735328473&4294967295,R=V+(D<<14&4294967295|D>>>18),D=C+(V^E&(R^V))+j[12]+2368359562&4294967295,C=R+(D<<20&4294967295|D>>>12),D=E+(C^R^V)+j[5]+4294588738&4294967295,E=C+(D<<4&4294967295|D>>>28),D=V+(E^C^R)+j[8]+2272392833&4294967295,V=E+(D<<11&4294967295|D>>>21),D=R+(V^E^C)+j[11]+1839030562&4294967295,R=V+(D<<16&4294967295|D>>>16),D=C+(R^V^E)+j[14]+4259657740&4294967295,C=R+(D<<23&4294967295|D>>>9),D=E+(C^R^V)+j[1]+2763975236&4294967295,E=C+(D<<4&4294967295|D>>>28),D=V+(E^C^R)+j[4]+1272893353&4294967295,V=E+(D<<11&4294967295|D>>>21),D=R+(V^E^C)+j[7]+4139469664&4294967295,R=V+(D<<16&4294967295|D>>>16),D=C+(R^V^E)+j[10]+3200236656&4294967295,C=R+(D<<23&4294967295|D>>>9),D=E+(C^R^V)+j[13]+681279174&4294967295,E=C+(D<<4&4294967295|D>>>28),D=V+(E^C^R)+j[0]+3936430074&4294967295,V=E+(D<<11&4294967295|D>>>21),D=R+(V^E^C)+j[3]+3572445317&4294967295,R=V+(D<<16&4294967295|D>>>16),D=C+(R^V^E)+j[6]+76029189&4294967295,C=R+(D<<23&4294967295|D>>>9),D=E+(C^R^V)+j[9]+3654602809&4294967295,E=C+(D<<4&4294967295|D>>>28),D=V+(E^C^R)+j[12]+3873151461&4294967295,V=E+(D<<11&4294967295|D>>>21),D=R+(V^E^C)+j[15]+530742520&4294967295,R=V+(D<<16&4294967295|D>>>16),D=C+(R^V^E)+j[2]+3299628645&4294967295,C=R+(D<<23&4294967295|D>>>9),D=E+(R^(C|~V))+j[0]+4096336452&4294967295,E=C+(D<<6&4294967295|D>>>26),D=V+(C^(E|~R))+j[7]+1126891415&4294967295,V=E+(D<<10&4294967295|D>>>22),D=R+(E^(V|~C))+j[14]+2878612391&4294967295,R=V+(D<<15&4294967295|D>>>17),D=C+(V^(R|~E))+j[5]+4237533241&4294967295,C=R+(D<<21&4294967295|D>>>11),D=E+(R^(C|~V))+j[12]+1700485571&4294967295,E=C+(D<<6&4294967295|D>>>26),D=V+(C^(E|~R))+j[3]+2399980690&4294967295,V=E+(D<<10&4294967295|D>>>22),D=R+(E^(V|~C))+j[10]+4293915773&4294967295,R=V+(D<<15&4294967295|D>>>17),D=C+(V^(R|~E))+j[1]+2240044497&4294967295,C=R+(D<<21&4294967295|D>>>11),D=E+(R^(C|~V))+j[8]+1873313359&4294967295,E=C+(D<<6&4294967295|D>>>26),D=V+(C^(E|~R))+j[15]+4264355552&4294967295,V=E+(D<<10&4294967295|D>>>22),D=R+(E^(V|~C))+j[6]+2734768916&4294967295,R=V+(D<<15&4294967295|D>>>17),D=C+(V^(R|~E))+j[13]+1309151649&4294967295,C=R+(D<<21&4294967295|D>>>11),D=E+(R^(C|~V))+j[4]+4149444226&4294967295,E=C+(D<<6&4294967295|D>>>26),D=V+(C^(E|~R))+j[11]+3174756917&4294967295,V=E+(D<<10&4294967295|D>>>22),D=R+(E^(V|~C))+j[2]+718787259&4294967295,R=V+(D<<15&4294967295|D>>>17),D=C+(V^(R|~E))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(R+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+V&4294967295}i.prototype.v=function(I,E){E===void 0&&(E=I.length);const C=E-this.blockSize,j=this.C;let R=this.h,V=0;for(;V<E;){if(R==0)for(;V<=C;)a(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<E;)if(j[R++]=I.charCodeAt(V++),R==this.blockSize){a(this,j),R=0;break}}else for(;V<E;)if(j[R++]=I[V++],R==this.blockSize){a(this,j),R=0;break}}this.h=R,this.o+=E},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;E=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=E&255,E/=256;for(this.v(I),I=Array(16),E=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)I[E++]=this.g[C]>>>j&255;return I};function l(I,E){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=E(I)}function u(I,E){this.h=E;const C=[];let j=!0;for(let R=I.length-1;R>=0;R--){const V=I[R]|0;j&&V==E||(C[R]=V,j=!1)}this.g=C}var d={};function m(I){return-128<=I&&I<128?l(I,function(E){return new u([E|0],E<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return P(p(-I));const E=[];let C=1;for(let j=0;I>=C;j++)E[j]=I/C|0,C*=4294967296;return new u(E,0)}function v(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return P(v(I.substring(1),E));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(E,8));let j=b;for(let V=0;V<I.length;V+=8){var R=Math.min(8,I.length-V);const D=parseInt(I.substring(V,V+R),E);R<8?(R=p(Math.pow(E,R)),j=j.j(R).add(p(D))):(j=j.j(C),j=j.add(p(D)))}return j}var b=m(0),w=m(1),A=m(16777216);t=u.prototype,t.m=function(){if(L(this))return-P(this).m();let I=0,E=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);I+=(j>=0?j:4294967296+j)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(L(this))return"-"+P(this).toString(I);const E=p(Math.pow(I,6));var C=this;let j="";for(;;){const R=J(C,E).g;C=B(C,R.j(E));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=R,M(C))return V+j;for(;V.length<6;)V="0"+V;j=V+j}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function L(I){return I.h==-1}t.l=function(I){return I=B(this,I),L(I)?-1:M(I)?0:1};function P(I){const E=I.g.length,C=[];for(let j=0;j<E;j++)C[j]=~I.g[j];return new u(C,~I.h).add(w)}t.abs=function(){return L(this)?P(this):this},t.add=function(I){const E=Math.max(this.g.length,I.g.length),C=[];let j=0;for(let R=0;R<=E;R++){let V=j+(this.i(R)&65535)+(I.i(R)&65535),D=(V>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);j=D>>>16,V&=65535,D&=65535,C[R]=D<<16|V}return new u(C,C[C.length-1]&-2147483648?-1:0)};function B(I,E){return I.add(P(E))}t.j=function(I){if(M(this)||M(I))return b;if(L(this))return L(I)?P(this).j(P(I)):P(P(this).j(I));if(L(I))return P(this.j(P(I)));if(this.l(A)<0&&I.l(A)<0)return p(this.m()*I.m());const E=this.g.length+I.g.length,C=[];for(var j=0;j<2*E;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let R=0;R<I.g.length;R++){const V=this.i(j)>>>16,D=this.i(j)&65535,we=I.i(R)>>>16,Pe=I.i(R)&65535;C[2*j+2*R]+=D*Pe,F(C,2*j+2*R),C[2*j+2*R+1]+=V*Pe,F(C,2*j+2*R+1),C[2*j+2*R+1]+=D*we,F(C,2*j+2*R+1),C[2*j+2*R+2]+=V*we,F(C,2*j+2*R+2)}for(I=0;I<E;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=E;I<2*E;I++)C[I]=0;return new u(C,0)};function F(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function K(I,E){this.g=I,this.h=E}function J(I,E){if(M(E))throw Error("division by zero");if(M(I))return new K(b,b);if(L(I))return E=J(P(I),E),new K(P(E.g),P(E.h));if(L(E))return E=J(I,P(E)),new K(P(E.g),E.h);if(I.g.length>30){if(L(I)||L(E))throw Error("slowDivide_ only works with positive integers.");for(var C=w,j=E;j.l(I)<=0;)C=ee(C),j=ee(j);var R=re(C,1),V=re(j,1);for(j=re(j,2),C=re(C,2);!M(j);){var D=V.add(j);D.l(I)<=0&&(R=R.add(C),V=D),j=re(j,1),C=re(C,1)}return E=B(I,R.j(E)),new K(R,E)}for(R=b;I.l(E)>=0;){for(C=Math.max(1,Math.floor(I.m()/E.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),V=p(C),D=V.j(E);L(D)||D.l(I)>0;)C-=j,V=p(C),D=V.j(E);M(V)&&(V=w),R=R.add(V),I=B(I,D)}return new K(R,I)}t.B=function(I){return J(this,I).h},t.and=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<E;j++)C[j]=this.i(j)&I.i(j);return new u(C,this.h&I.h)},t.or=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<E;j++)C[j]=this.i(j)|I.i(j);return new u(C,this.h|I.h)},t.xor=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<E;j++)C[j]=this.i(j)^I.i(j);return new u(C,this.h^I.h)};function ee(I){const E=I.g.length+1,C=[];for(let j=0;j<E;j++)C[j]=I.i(j)<<1|I.i(j-1)>>>31;return new u(C,I.h)}function re(I,E){const C=E>>5;E%=32;const j=I.g.length-C,R=[];for(let V=0;V<j;V++)R[V]=E>0?I.i(V+C)>>>E|I.i(V+C+1)<<32-E:I.i(V+C);return new u(R,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,qA=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Vr=u}).apply(typeof Fw<"u"?Fw:typeof self<"u"?self:typeof window<"u"?window:{});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var GA,Rc,$A,Cd,u0,KA,YA,QA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ad=="object"&&ad];for(var x=0;x<h.length;++x){var T=h[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(h,x){if(x)e:{var T=i;h=h.split(".");for(var N=0;N<h.length-1;N++){var q=h[N];if(!(q in T))break e;T=T[q]}h=h[h.length-1],N=T[h],x=x(N),x!=N&&x!=null&&e(T,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var T=[],N;for(N in x)Object.prototype.hasOwnProperty.call(x,N)&&T.push([N,x[N]]);return T}});var l=l||{},u=this||self;function d(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function m(h,x,T){return h.call.apply(h.bind,arguments)}function p(h,x,T){return p=m,p.apply(null,arguments)}function v(h,x){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function b(h,x){function T(){}T.prototype=x.prototype,h.Z=x.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(N,q,X){for(var ce=Array(arguments.length-2),je=2;je<arguments.length;je++)ce[je-2]=arguments[je];return x.prototype[q].apply(N,ce)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const x=h.length;if(x>0){const T=Array(x);for(let N=0;N<x;N++)T[N]=h[N];return T}return[]}function M(h,x){for(let N=1;N<arguments.length;N++){const q=arguments[N];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=h.length||0;const X=q.length||0;h.length=T+X;for(let ce=0;ce<X;ce++)h[T+ce]=q[ce]}else h.push(q)}}class L{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function P(h){u.setTimeout(()=>{throw h},0)}function B(){var h=I;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,T){const N=K.get();N.set(x,T),this.h?this.h.next=N:this.g=N,this.h=N}}var K=new L(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,re=!1,I=new F,E=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(C)}};function C(){for(var h;h=B();){try{h.h.call(h.g)}catch(T){P(T)}var x=K;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}re=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,x),u.removeEventListener("test",T,x)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function we(h,x){R.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(we,R),we.prototype.init=function(h,x){const T=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(T=="mouseover"?x=h.fromElement:T=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(h,x,T,N,q){this.listener=h,this.proxy=null,this.src=x,this.type=T,this.capture=!!N,this.ha=q,this.key=++Q,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ae(h,x,T){for(const N in h)x.call(T,h[N],N,h)}function Ve(h,x){for(const T in h)x.call(void 0,h[T],T,h)}function U(h){const x={};for(const T in h)x[T]=h[T];return x}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,x){let T,N;for(let q=1;q<arguments.length;q++){N=arguments[q];for(T in N)h[T]=N[T];for(let X=0;X<te.length;X++)T=te[X],Object.prototype.hasOwnProperty.call(N,T)&&(h[T]=N[T])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,x,T,N,q){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ce=Re(h,x,N,q);return ce>-1?(x=h[ce],T||(x.fa=!1)):(x=new oe(x,this.src,X,!!N,q),x.fa=T,h.push(x)),x};function Te(h,x){const T=x.type;if(T in h.g){var N=h.g[T],q=Array.prototype.indexOf.call(N,x,void 0),X;(X=q>=0)&&Array.prototype.splice.call(N,q,1),X&&(fe(x),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Re(h,x,T,N){for(let q=0;q<h.length;++q){const X=h[q];if(!X.da&&X.listener==x&&X.capture==!!T&&X.ha==N)return q}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Ce={};function Le(h,x,T,N,q){if(Array.isArray(x)){for(let X=0;X<x.length;X++)Le(h,x[X],T,N,q);return null}return T=_l(T),h&&h[Pe]?h.J(x,T,d(N)?!!N.capture:!1,q):Yt(h,x,T,!1,N,q)}function Yt(h,x,T,N,q,X){if(!x)throw Error("Invalid event type");const ce=d(q)?!!q.capture:!!q;let je=Yr(h);if(je||(h[le]=je=new de(h)),T=je.add(x,T,N,ce,X),T.proxy)return T;if(N=Rs(),T.proxy=N,N.src=h,N.listener=T,h.addEventListener)V||(q=ce),q===void 0&&(q=!1),h.addEventListener(x.toString(),N,q);else if(h.attachEvent)h.attachEvent(Qt(x.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Rs(){function h(T){return x.call(h.src,h.listener,T)}const x=os;return h}function oi(h,x,T,N,q){if(Array.isArray(x))for(var X=0;X<x.length;X++)oi(h,x[X],T,N,q);else N=d(N)?!!N.capture:!!N,T=_l(T),h&&h[Pe]?(h=h.i,X=String(x).toString(),X in h.g&&(x=h.g[X],T=Re(x,T,N,q),T>-1&&(fe(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete h.g[X],h.h--)))):h&&(h=Yr(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Re(x,T,N,q)),(T=h>-1?x[h]:null)&&li(T))}function li(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Pe])Te(x.i,h);else{var T=h.type,N=h.proxy;x.removeEventListener?x.removeEventListener(T,N,h.capture):x.detachEvent?x.detachEvent(Qt(T),N):x.addListener&&x.removeListener&&x.removeListener(N),(T=Yr(x))?(Te(T,h),T.h==0&&(T.src=null,x[le]=null)):fe(h)}}}function Qt(h){return h in Ce?Ce[h]:Ce[h]="on"+h}function os(h,x){if(h.da)h=!0;else{x=new we(x,this);const T=h.listener,N=h.ha||h.src;h.fa&&li(h),h=T.call(N,x)}return h}function Yr(h){return h=h[le],h instanceof de?h:null}var xl="__closure_events_fn_"+(Math.random()*1e9>>>0);function _l(h){return typeof h=="function"?h:(h[xl]||(h[xl]=function(x){return h.handleEvent(x)}),h[xl])}function At(){j.call(this),this.i=new de(this),this.M=this,this.G=null}b(At,j),At.prototype[Pe]=!0,At.prototype.removeEventListener=function(h,x,T,N){oi(this,h,x,T,N)};function Ut(h,x){var T,N=h.G;if(N)for(T=[];N;N=N.G)T.push(N);if(h=h.M,N=x.type||x,typeof x=="string")x=new R(x,h);else if(x instanceof R)x.target=x.target||h;else{var q=x;x=new R(N,h),ue(x,q)}q=!0;let X,ce;if(T)for(ce=T.length-1;ce>=0;ce--)X=x.g=T[ce],q=$i(X,N,!0,x)&&q;if(X=x.g=h,q=$i(X,N,!0,x)&&q,q=$i(X,N,!1,x)&&q,T)for(ce=0;ce<T.length;ce++)X=x.g=T[ce],q=$i(X,N,!1,x)&&q}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const T=h.g[x];for(let N=0;N<T.length;N++)fe(T[N]);delete h.g[x],h.h--}}this.G=null},At.prototype.J=function(h,x,T,N){return this.i.add(String(h),x,!1,T,N)},At.prototype.K=function(h,x,T,N){return this.i.add(String(h),x,!0,T,N)};function $i(h,x,T,N){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let q=!0;for(let X=0;X<x.length;++X){const ce=x[X];if(ce&&!ce.da&&ce.capture==T){const je=ce.listener,wt=ce.ha||ce.src;ce.fa&&Te(h.i,ce),q=je.call(wt,N)!==!1&&q}}return q&&!N.defaultPrevented}function Gf(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(h,x||0)}function Su(h){h.g=Gf(()=>{h.g=null,h.i&&(h.i=!1,Su(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class pn extends j{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(h){j.call(this),this.h=h,this.g={}}b(Qr,j);var wl=[];function Tl(h){Ae(h.g,function(x,T){this.g.hasOwnProperty(T)&&li(x)},h),h.g={}}Qr.prototype.N=function(){Qr.Z.N.call(this),Tl(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ki=u.JSON.stringify,$f=u.JSON.parse,Au=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Cu(){}function Nu(){}var ls={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){R.call(this,"d")}b(Xt,R);function Bn(){R.call(this,"c")}b(Bn,R);var _t={},Ru=null;function qa(){return Ru=Ru||new At}_t.Ia="serverreachability";function ku(h){R.call(this,_t.Ia,h)}b(ku,R);function ks(h){const x=qa();Ut(x,new ku(x))}_t.STAT_EVENT="statevent";function Xr(h,x){R.call(this,_t.STAT_EVENT,h),this.stat=x}b(Xr,R);function Ct(h){const x=qa();Ut(x,new Xr(x,h))}_t.Ja="timingevent";function Is(h,x){R.call(this,_t.Ja,h),this.size=x}b(Is,R);function Ds(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},x)}function cs(){this.g=!0}cs.prototype.ua=function(){this.g=!1};function Kf(h,x,T,N,q,X){h.info(function(){if(h.g)if(X){var ce="",je=X.split("&");for(let Xe=0;Xe<je.length;Xe++){var wt=je[Xe].split("=");if(wt.length>1){const dt=wt[0];wt=wt[1];const Gn=dt.split("_");ce=Gn.length>=2&&Gn[1]=="type"?ce+(dt+"="+wt+"&"):ce+(dt+"=redacted&")}}}else ce=null;else ce=X;return"XMLHTTP REQ ("+N+") [attempt "+q+"]: "+x+`
`+T+`
`+ce})}function Iu(h,x,T,N,q,X,ce){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+q+"]: "+x+`
`+T+`
`+X+" "+ce})}function js(h,x,T,N){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Yf(h,T)+(N?" "+N:"")})}function Wr(h,x){h.info(function(){return"TIMEOUT: "+x})}cs.prototype.info=function(){};function Yf(h,x){if(!h.g)return x;if(!x)return null;try{const X=JSON.parse(x);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var T=X[h];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var q=N[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ce=1;ce<N.length;ce++)N[ce]=""}}}}return Ki(X)}catch{return x}}var Jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function Zr(){}b(Zr,Cu),Zr.prototype.g=function(){return new XMLHttpRequest},Sl=new Zr;function ci(h){return encodeURIComponent(String(h))}function Du(h){var x=1;h=h.split(":");const T=[];for(;x>0&&h.length;)T.push(h.shift()),x--;return h.length&&T.push(h.join(":")),T}function us(h,x,T,N){this.j=h,this.i=x,this.l=T,this.S=N||1,this.V=new Qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hs}function hs(){this.i=null,this.g="",this.h=!1}var Nt={},Ht={};function Ms(h,x,T){h.M=1,h.A=ea(kt(x)),h.u=T,h.R=!0,Ga(h,null)}function Ga(h,x){h.F=Date.now(),Vs(h),h.B=kt(h.A);var T=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),Qa(T.i,"t",N),h.C=0,T=h.j.L,h.h=new hs,h.g=Ku(h.j,T?x:null,!h.u),h.P>0&&(h.O=new pn(p(h.Y,h,h.g),h.P)),x=h.V,T=h.g,N=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(wl[0]=q.toString()),q=wl);for(let X=0;X<q.length;X++){const ce=Le(T,q[X],N||x.handleEvent,!1,x.h||x);if(!ce)break;x.g[ce.key]=ce}x=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),ks(),Kf(h.i,h.v,h.B,h.l,h.S,h.u)}us.prototype.ba=function(h){h=h.target;const x=this.O;x&&ms(h)==3?x.j():this.Y(h)},us.prototype.Y=function(h){try{if(h==this.g)e:{const je=ms(this.g),wt=this.g.ya(),Xe=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||je!=4||wt==7||(wt==8||Xe<=0?ks(3):ks(2)),Os(this);var x=this.g.ca();this.X=x;var T=Qf(this);if(this.o=x==200,Iu(this.i,this.v,this.B,this.l,this.S,je,x),this.o){if(this.U&&!this.L){t:{if(this.g){var N,q=this.g;if((N=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(N)){var X=N;break t}}X=null}if(h=X)js(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ps(this,h);else{this.o=!1,this.m=3,Ct(12),kn(this),Fn(this);break e}}if(this.R){h=!0;let dt;for(;!this.K&&this.C<T.length;)if(dt=Mu(this,T),dt==Ht){je==4&&(this.m=4,Ct(14),h=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Nt){this.m=4,Ct(15),js(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else js(this.i,this.l,dt,null),Ps(this,dt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||T.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)js(this.i,this.l,T,"[Invalid Chunked Response]"),kn(this),Fn(this);else if(T.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),zl(ce),ce.P=!0,Ct(11))}}else js(this.i,this.l,T,null),Ps(this,T);je==4&&kn(this),this.o&&!this.K&&(je==4?Hu(this.j,this):(this.o=!1,Vs(this)))}else hi(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),kn(this),Fn(this)}}}catch{}};function Qf(h){if(!ju(h))return h.g.la();const x=Wt(h.g);if(x==="")return"";let T="";const N=x.length,q=ms(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),Fn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<N;X++)h.h.h=!0,T+=h.h.i.decode(x[X],{stream:!(q&&X==N-1)});return x.length=0,h.h.g+=T,h.C=0,h.h.g}function ju(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Mu(h,x){var T=h.C,N=x.indexOf(`
`,T);return N==-1?Ht:(T=Number(x.substring(T,N)),isNaN(T)?Nt:(N+=1,N+T>x.length?Ht:(x=x.slice(N,N+T),h.C=N+T,x)))}us.prototype.cancel=function(){this.K=!0,kn(this)};function Vs(h){h.T=Date.now()+h.H,$a(h,h.H)}function $a(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ds(p(h.aa,h),x)}function Os(h){h.D&&(u.clearTimeout(h.D),h.D=null)}us.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Wr(this.i,this.B),this.M!=2&&(ks(),Ct(17)),kn(this),this.m=2,Fn(this)):$a(this,this.T-h)};function Fn(h){h.j.I==0||h.K||Hu(h.j,h)}function kn(h){Os(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Tl(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Ps(h,x){try{var T=h.j;if(T.I!=0&&(T.g==h||Us(T.h,h))){if(!h.L&&Us(T.h,h)&&T.I==3){try{var N=T.Ba.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var q=N;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)eo(T),tr(T);else break e;oa(T),Ct(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ds(p(T.Va,T),6e3));Ls(T.h)<=1&&T.ta&&(T.ta=void 0)}else Gs(T,11)}else if((h.L||T.g==h)&&eo(T),!D(x))for(q=T.Ba.g.parse(x),x=0;x<q.length;x++){let Xe=q[x];const dt=Xe[0];if(!(dt<=T.K))if(T.K=dt,Xe=Xe[1],T.I==2)if(Xe[0]=="c"){T.M=Xe[1],T.ba=Xe[2];const Gn=Xe[3];Gn!=null&&(T.ka=Gn,T.j.info("VER="+T.ka));const $s=Xe[4];$s!=null&&(T.za=$s,T.j.info("SVER="+T.za));const ps=Xe[5];ps!=null&&typeof ps=="number"&&ps>0&&(N=1.5*ps,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const gs=h.g;if(gs){const la=gs.g?gs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var X=N.h;X.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Nl(X,X.h),X.h=null))}if(N.G){const to=gs.g?gs.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(N.wa=to,Ze(N.J,N.G,to))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var ce=h;if(N.na=$u(N,N.L?N.ba:null,N.W),ce.L){Rl(N.h,ce);var je=ce,wt=N.O;wt&&(je.H=wt),je.D&&(Os(je),Vs(je)),N.g=ce}else Bu(N);T.i.length>0&&qs(T)}else Xe[0]!="stop"&&Xe[0]!="close"||Gs(T,7);else T.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Gs(T,7):Ll(T):Xe[0]!="noop"&&T.l&&T.l.qa(Xe),T.A=0)}}ks(4)}catch{}}var Rt=class{constructor(h,x){this.g=h,this.map=x}};function Al(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ls(h){return h.h?1:h.g?h.g.size:0}function Us(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Nl(h,x){h.g?h.g.add(x):h.h=x}function Rl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Al.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const T of h.g.values())x=x.concat(T.G);return x}return A(h.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(h,x){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const N=h[T].indexOf("=");let q,X=null;N>=0?(q=h[T].substring(0,N),X=h[T].substring(N+1)):q=h[T],x(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function In(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof In?(this.l=h.l,qt(this,h.j),this.o=h.o,this.g=h.g,Yi(this,h.u),this.h=h.h,Il(this,Uu(h.i)),this.m=h.m):h&&(x=String(h).match(Vu))?(this.l=!1,qt(this,x[1]||"",!0),this.o=zs(x[2]||""),this.g=zs(x[3]||"",!0),Yi(this,x[4]),this.h=zs(x[5]||"",!0),Il(this,x[6]||"",!0),this.m=zs(x[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}In.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(ta(x,Ya,!0),":");var T=this.g;return(T||x=="file")&&(h.push("//"),(x=this.o)&&h.push(ta(x,Ya,!0),"@"),h.push(ci(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ta(T,T.charAt(0)=="/"?Dl:Ou,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ta(T,Pu)),h.join("")},In.prototype.resolve=function(h){const x=kt(this);let T=!!h.j;T?qt(x,h.j):T=!!h.o,T?x.o=h.o:T=!!h.g,T?x.g=h.g:T=h.u!=null;var N=h.h;if(T)Yi(x,h.u);else if(T=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var q=x.h.lastIndexOf("/");q!=-1&&(N=x.h.slice(0,q+1)+N)}if(q=N,q==".."||q==".")N="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){N=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let ce=0;ce<q.length;){const je=q[ce++];je=="."?N&&ce==q.length&&X.push(""):je==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),N&&ce==q.length&&X.push("")):(X.push(je),N=!0)}N=X.join("/")}else N=q}return T?x.h=N:T=h.i.toString()!=="",T?Il(x,Uu(h.i)):T=!!h.m,T&&(x.m=h.m),x};function kt(h){return new In(h)}function qt(h,x,T){h.j=T?zs(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Yi(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Il(h,x,T){x instanceof Xi?(h.i=x,Xa(h.i,h.l)):(T||(x=ta(x,Qi)),h.i=new Xi(x,h.l))}function Ze(h,x,T){h.i.set(x,T)}function ea(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function zs(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ta(h,x,T){return typeof h=="string"?(h=encodeURI(h).replace(x,xn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ya=/[#\/\?@]/g,Ou=/[#\?:]/g,Dl=/[#\?]/g,Qi=/[#\?@]/g,Pu=/#/g;function Xi(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function _n(h){h.g||(h.g=new Map,h.h=0,h.i&&Ka(h.i,function(x,T){h.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=Xi.prototype,t.add=function(h,x){_n(this),this.i=null,h=Wi(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(x),this.h+=1,this};function Lu(h,x){_n(h),x=Wi(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function jl(h,x){return _n(h),x=Wi(h,x),h.g.has(x)}t.forEach=function(h,x){_n(this),this.g.forEach(function(T,N){T.forEach(function(q){h.call(x,q,N,this)},this)},this)};function Ml(h,x){_n(h);let T=[];if(typeof x=="string")jl(h,x)&&(T=T.concat(h.g.get(Wi(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)T=T.concat(h[x]);return T}t.set=function(h,x){return _n(this),this.i=null,h=Wi(this,h),jl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=Ml(this,h),h.length>0?String(h[0]):x):x};function Qa(h,x,T){Lu(h,x),T.length>0&&(h.i=null,h.g.set(Wi(h,x),A(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let N=0;N<x.length;N++){var T=x[N];const q=ci(T);T=Ml(this,T);for(let X=0;X<T.length;X++){let ce=q;T[X]!==""&&(ce+="="+ci(T[X])),h.push(ce)}}return this.i=h.join("&")};function Uu(h){const x=new Xi;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function Wi(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function Xa(h,x){x&&!h.j&&(_n(h),h.i=null,h.g.forEach(function(T,N){const q=N.toLowerCase();N!=q&&(Lu(this,N),Qa(this,q,T))},h)),h.j=x}function ds(h,x){const T=new cs;if(u.Image){const N=new Image;N.onload=v(Hn,T,"TestLoadImage: loaded",!0,x,N),N.onerror=v(Hn,T,"TestLoadImage: error",!1,x,N),N.onabort=v(Hn,T,"TestLoadImage: abort",!1,x,N),N.ontimeout=v(Hn,T,"TestLoadImage: timeout",!1,x,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else x(!1)}function Vl(h,x){const T=new cs,N=new AbortController,q=setTimeout(()=>{N.abort(),Hn(T,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:N.signal}).then(X=>{clearTimeout(q),X.ok?Hn(T,"TestPingServer: ok",!0,x):Hn(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(q),Hn(T,"TestPingServer: error",!1,x)})}function Hn(h,x,T,N,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),N(T)}catch{}}function Ji(){this.g=new Au}function Bs(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Bs,Cu),Bs.prototype.g=function(){return new na(this.i,this.h)};function na(h,x){At.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(na,At),t=na.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,fs(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fs(this)),this.g&&(this.readyState=3,fs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Zi(this):fs(this),this.readyState==3&&Wa(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Zi(this))},t.Na=function(h){this.g&&(this.response=h,Zi(this))},t.ga=function(){this.g&&Zi(this)};function Zi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,fs(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=x.next();return h.join(`\r
`)};function fs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qn(h){let x="";return Ae(h,function(T,N){x+=N,x+=":",x+=T,x+=`\r
`}),x}function sa(h,x,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=qn(T),typeof h=="string"?T!=null&&ci(T):Ze(h,x,T))}function nt(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(nt,At);var Fs=/^https?$/i,Ol=["POST","PUT"];t=nt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(X){ia(this,X);return}if(h=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var q in N)T.set(q,N[q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const X of N.keys())T.set(X,N.get(X));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Ol,x,void 0)>=0)||N||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of T)this.g.setRequestHeader(X,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ia(this,X)}};function ia(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Pl(h),ui(h)}function Pl(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),ui(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ra(this):this.Xa())},t.Xa=function(){ra(this)};function ra(h){if(h.h&&typeof l<"u"){if(h.v&&ms(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),ms(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var N;if(N=X===0){let ce=String(h.D).match(Vu)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),N=!Fs.test(ce?ce.toLowerCase():"")}T=N}if(T)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var q=ms(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Pl(h)}}finally{ui(h)}}}}function ui(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,x||Ut(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ms(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ms(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),$f(x)}};function Wt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function hi(h){const x={};h=(h.g&&ms(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(D(h[N]))continue;var T=Du(h[N]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=x[q]||[];x[q]=X,X.push(T)}Ve(x,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(h,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||x}function er(h){this.za=0,this.i=[],this.j=new cs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hs("baseRetryDelayMs",5e3,h),this.Za=Hs("retryDelaySeedMs",1e4,h),this.Ta=Hs("forwardChannelMaxRetries",2,h),this.va=Hs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(h&&h.concurrentRequestLimit),this.Ba=new Ji,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=er.prototype,t.ka=8,t.I=1,t.connect=function(h,x,T,N){Ct(0),this.W=h,this.H=x||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=$u(this,null,this.W),qs(this)};function Ll(h){if(Ja(h),h.I==3){var x=h.V++,T=kt(h.J);if(Ze(T,"SID",h.M),Ze(T,"RID",x),Ze(T,"TYPE","terminate"),aa(h,T),x=new us(h,h.j,x),x.M=2,x.A=ea(kt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=x.A,T=!0),T||(x.g=Ku(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Vs(x)}Gu(h)}function tr(h){h.g&&(zl(h),h.g.cancel(),h.g=null)}function Ja(h){tr(h),h.v&&(u.clearTimeout(h.v),h.v=null),eo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function qs(h){if(!Cl(h.h)&&!h.m){h.m=!0;var x=h.Ea;ee||E(),re||(ee(),re=!0),I.add(x,h),h.D=0}}function Za(h,x){return Ls(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ds(p(h.Ea,h,x),qu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new us(this,this.j,h);let X=this.o;if(this.U&&(X?(X=U(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=zu(this,q,x),T=kt(this.J),Ze(T,"RID",h),Ze(T,"CVER",22),this.G&&Ze(T,"X-HTTP-Session-Id",this.G),aa(this,T),X&&(this.R?x="headers="+ci(qn(X))+"&"+x:this.u&&sa(T,this.u,X)),Nl(this.h,q),this.Ra&&Ze(T,"TYPE","init"),this.S?(Ze(T,"$req",x),Ze(T,"SID","null"),q.U=!0,Ms(q,T,null)):Ms(q,T,x),this.I=2}}else this.I==3&&(h?Ul(this,h):this.i.length==0||Cl(this.h)||Ul(this))};function Ul(h,x){var T;x?T=x.l:T=h.V++;const N=kt(h.J);Ze(N,"SID",h.M),Ze(N,"RID",T),Ze(N,"AID",h.K),aa(h,N),h.u&&h.o&&sa(N,h.u,h.o),T=new us(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),x&&(h.i=x.G.concat(h.i)),x=zu(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Nl(h.h,T),Ms(T,N,x)}function aa(h,x){h.H&&Ae(h.H,function(T,N){Ze(x,N,T)}),h.l&&Ae({},function(T,N){Ze(x,N,T)})}function zu(h,x,T){T=Math.min(h.i.length,T);const N=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let je=-1;for(;;){const wt=["count="+T];je==-1?T>0?(je=q[0].g,wt.push("ofs="+je)):je=0:wt.push("ofs="+je);let Xe=!0;for(let dt=0;dt<T;dt++){var X=q[dt].g;const Gn=q[dt].map;if(X-=je,X<0)je=Math.max(0,q[dt].g-100),Xe=!1;else try{X="req"+X+"_"||"";try{var ce=Gn instanceof Map?Gn:Object.entries(Gn);for(const[$s,ps]of ce){let gs=ps;d(ps)&&(gs=Ki(ps)),wt.push(X+$s+"="+encodeURIComponent(gs))}}catch($s){throw wt.push(X+"type="+encodeURIComponent("_badmap")),$s}}catch{N&&N(Gn)}}if(Xe){ce=wt.join("&");break e}}ce=void 0}return h=h.i.splice(0,T),x.G=h,ce}function Bu(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;ee||E(),re||(ee(),re=!0),I.add(x,h),h.A=0}}function oa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ds(p(h.Da,h),qu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ds(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),tr(this),Fu(this))};function zl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Fu(h){h.g=new us(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=kt(h.na);Ze(x,"RID","rpc"),Ze(x,"SID",h.M),Ze(x,"AID",h.K),Ze(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(x,"TO",h.ia),Ze(x,"TYPE","xmlhttp"),aa(h,x),h.u&&h.o&&sa(x,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=ea(kt(x)),T.u=null,T.R=!0,Ga(T,h)}t.Va=function(){this.C!=null&&(this.C=null,tr(this),oa(this),Ct(19))};function eo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Hu(h,x){var T=null;if(h.g==x){eo(h),zl(h),h.g=null;var N=2}else if(Us(h.h,x))T=x.G,Rl(h.h,x),N=1;else return;if(h.I!=0){if(x.o)if(N==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var q=h.D;N=qa(),Ut(N,new Is(N,T)),qs(h)}else Bu(h);else if(q=x.m,q==3||q==0&&x.X>0||!(N==1&&Za(h,x)||N==2&&oa(h)))switch(T&&T.length>0&&(x=h.h,x.i=x.i.concat(T)),q){case 1:Gs(h,5);break;case 4:Gs(h,10);break;case 3:Gs(h,6);break;default:Gs(h,2)}}}function qu(h,x){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*x}function Gs(h,x){if(h.j.info("Error code "+x),x==2){var T=p(h.bb,h),N=h.Ua;const q=!N;N=new In(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||qt(N,"https"),ea(N),q?ds(N.toString(),T):Vl(N.toString(),T)}else Ct(2);h.I=0,h.l&&h.l.pa(x),Gu(h),Ja(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Gu(h){if(h.I=0,h.ja=[],h.l){const x=kl(h.h);(x.length!=0||h.i.length!=0)&&(M(h.ja,x),M(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function $u(h,x,T){var N=T instanceof In?kt(T):new In(T);if(N.g!="")x&&(N.g=x+"."+N.g),Yi(N,N.u);else{var q=u.location;N=q.protocol,x=x?x+"."+q.hostname:q.hostname,q=+q.port;const X=new In(null);N&&qt(X,N),x&&(X.g=x),q&&Yi(X,q),T&&(X.h=T),N=X}return T=h.G,x=h.wa,T&&x&&Ze(N,T,x),Ze(N,"VER",h.ka),aa(h,N),N}function Ku(h,x,T){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new nt(new Bs({ab:T})):new nt(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}t=Yu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function nr(){}nr.prototype.g=function(h,x){return new gn(h,x)};function gn(h,x){At.call(this),this.g=new er(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!D(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!D(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new di(this)}b(gn,At),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Ll(this.g)},gn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Ki(h),h=T);x.i.push(new Rt(x.Ya++,h)),x.I==3&&qs(x)},gn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,gn.Z.N.call(this)};function Qu(h){Xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const T in x){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(Qu,Xt);function Xu(){Bn.call(this),this.status=1}b(Xu,Bn);function di(h){this.g=h}b(di,Yu),di.prototype.ra=function(){Ut(this.g,"a")},di.prototype.qa=function(h){Ut(this.g,new Qu(h))},di.prototype.pa=function(h){Ut(this.g,new Xu)},di.prototype.oa=function(){Ut(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,QA=function(){return new nr},YA=function(){return qa()},KA=_t,u0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,Cd=Jr,El.COMPLETE="complete",$A=El,Nu.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",At.prototype.listen=At.prototype.J,Rc=Nu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,GA=nt}).apply(typeof ad<"u"?ad:typeof self<"u"?self:typeof window<"u"?window:{});let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let ml="12.9.0";function $V(t){ml=t}const La=new py("@firebase/firestore");function jo(){return La.logLevel}function me(t,...e){if(La.logLevel<=He.DEBUG){const n=e.map(Ny);La.debug(`Firestore (${ml}): ${t}`,...n)}}function Ui(t,...e){if(La.logLevel<=He.ERROR){const n=e.map(Ny);La.error(`Firestore (${ml}): ${t}`,...n)}}function Ua(t,...e){if(La.logLevel<=He.WARN){const n=e.map(Ny);La.warn(`Firestore (${ml}): ${t}`,...n)}}function Ny(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,XA(t,i,n)}function XA(t,e,n){let i=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ui(i),new Error(i)}function Je(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||XA(e,a,i)}function De(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class WA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class YV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QV{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string",31837,{l:i}),new WA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class XV{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class WV{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new XV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ws(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ZV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=ZV(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function qe(t,e){return t<e?-1:t>e?1:0}function h0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return wg(a)===wg(l)?qe(a,l):wg(a)?1:-1}return qe(t.length,e.length)}const eO=55296,tO=57343;function wg(t){const e=t.charCodeAt(0);return e>=eO&&e<=tO}function Wo(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const qw="__name__";class Js{constructor(e,n,i){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Se(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Js.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Js?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Js.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const i=Js.isNumericId(e),a=Js.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Js.extractNumericId(e).compare(Js.extractNumericId(n)):h0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class ot extends Js{construct(e,n,i){return new ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const nO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Js{construct(e,n,i){return new an(e,n,i)}static isValidIdentifier(e){return nO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qw}static keyField(){return new an([qw])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new he(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(l(),a++)}if(l(),u)throw new he(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}function JA(t,e,n){if(!n)throw new he(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sO(t,e,n,i){if(e===!0&&i===!0)throw new he(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Gw(t){if(!_e.isDocumentKey(t))throw new he(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $w(t){if(_e.isDocumentKey(t))throw new he(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ef(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ef(t);throw new he(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function iO(t,e){if(e<=0)throw new he(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function vu(t,e){if(!ZA(t))throw new he(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new he(se.INVALID_ARGUMENT,n);return!0}const Kw=-62135596800,Yw=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Yw);return new ht(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kw)throw new he(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yw}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Lt("string",ht._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new ht(0,0))}static max(){return new ke(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jc=-1;function rO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(i===1e9?new ht(n+1,0):new ht(n,i));return new Ur(a,_e.empty(),e)}function aO(t){return new Ur(t.readTime,t.key,Jc)}class Ur{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ur(ke.min(),_e.empty(),Jc)}static max(){return new Ur(ke.max(),_e.empty(),Jc)}}function oO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}const lO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==lO)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,i)=>{n(e)}))}static reject(e){return new ae(((n,i)=>{i(e)}))}static waitFor(e){return new ae(((n,i)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>i(m)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next((a=>a?ae.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ae(((i,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{u[p]=v,++d,d===l&&i(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new ae(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function uO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(t){return t.name==="IndexedDbTransactionError"}class Sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sf.ce=-1;const ky=-1;function Af(t){return t==null}function Xd(t){return t===0&&1/t==-1/0}function hO(t){return typeof t=="number"&&Number.isInteger(t)&&!Xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const e2="";function dO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qw(e)),e=fO(t.get(n),e);return Qw(e)}function fO(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case e2:n+="";break;default:n+=l}}return n}function Qw(t){return t+e2+""}function Xw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function t2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new rn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ww(this.data.getIterator())}getIteratorFrom(e){return new Ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class Ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ft(an.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class n2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new n2("Invalid base64 string: "+l):l}})(e);return new on(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const mO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const n=mO.exec(t);if(Je(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}const s2="server_timestamp",i2="__type__",r2="__previous_value__",a2="__local_write_time__";function Iy(t){return(t?.mapValue?.fields||{})[i2]?.stringValue===s2}function Cf(t){const e=t.mapValue.fields[r2];return Iy(e)?Cf(e):e}function Zc(t){const e=zr(t.mapValue.fields[a2].timestampValue);return new ht(e.seconds,e.nanos)}class pO{constructor(e,n,i,a,l,u,d,m,p,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=b}}const Wd="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||Wd}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===Wd}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}function gO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new he(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(t.options.projectId,e)}const o2="__type__",yO="__max__",ld={mapValue:{}},l2="__vector__",Jd="value";function Fr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iy(t)?4:bO(t)?9007199254740991:vO(t)?10:11:Se(28295,{value:t})}function ai(t,e){if(t===e)return!0;const n=Fr(t);if(n!==Fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=zr(a.timestampValue),d=zr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Br(a.bytesValue).isEqual(Br(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=St(a.doubleValue),d=St(l.doubleValue);return u===d?Xd(u)===Xd(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Xw(u)!==Xw(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!ai(u[m],d[m])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function tu(t,e){return(t.values||[]).find((n=>ai(n,e)))!==void 0}function Jo(t,e){if(t===e)return 0;const n=Fr(t),i=Fr(e);if(n!==i)return qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=St(l.integerValue||l.doubleValue),m=St(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return Jw(t.timestampValue,e.timestampValue);case 4:return Jw(Zc(t),Zc(e));case 5:return h0(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=Br(l),m=Br(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=qe(d[p],m[p]);if(v!==0)return v}return qe(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=qe(St(l.latitude),St(u.latitude));return d!==0?d:qe(St(l.longitude),St(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Zw(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},p=d[Jd]?.arrayValue,v=m[Jd]?.arrayValue,b=qe(p?.values?.length||0,v?.values?.length||0);return b!==0?b:Zw(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===ld.mapValue&&u===ld.mapValue)return 0;if(l===ld.mapValue)return 1;if(u===ld.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const w=h0(m[b],v[b]);if(w!==0)return w;const A=Jo(d[m[b]],p[v[b]]);if(A!==0)return A}return qe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function Jw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=zr(t),i=zr(e),a=qe(n.seconds,i.seconds);return a!==0?a:qe(n.nanos,i.nanos)}function Zw(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Jo(n[a],i[a]);if(l)return l}return qe(n.length,i.length)}function Zo(t){return d0(t)}function d0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=zr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Br(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=d0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${d0(n.fields[u])}`;return a+"}"})(t.mapValue):Se(61005,{value:t})}function Nd(t){switch(Fr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(t);return e?16+Nd(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Nd(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return $r(i.fields,((l,u)=>{a+=l.length+Nd(u)})),a})(t.mapValue);default:throw Se(13486,{value:t})}}function eT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function f0(t){return!!t&&"integerValue"in t}function Dy(t){return!!t&&"arrayValue"in t}function tT(t){return!!t&&"nullValue"in t}function nT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rd(t){return!!t&&"mapValue"in t}function vO(t){return(t?.mapValue?.fields||{})[o2]?.stringValue===l2}function Uc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $r(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Uc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uc(t.arrayValue.values[n]);return e}return{...t}}function bO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yO}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uc(n)}setAll(e){let n=an.emptyPath(),i={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=d.popLast()}u?i[d.lastSegment()]=Uc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Rd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){$r(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Nn(Uc(this.value))}}function c2(t){const e=[];return $r(t.fields,((n,i)=>{const a=new an([n]);if(Rd(i)){const l=c2(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Un(e)}class hn{constructor(e,n,i,a,l,u,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new hn(e,0,ke.min(),ke.min(),ke.min(),Nn.empty(),0)}static newFoundDocument(e,n,i,a){return new hn(e,1,n,ke.min(),i,a,0)}static newNoDocument(e,n){return new hn(e,2,n,ke.min(),ke.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,ke.min(),ke.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zd{constructor(e,n){this.position=e,this.inclusive=n}}function sT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(u.referenceValue),n.key):i=Jo(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function iT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function xO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class u2{}class Pt extends u2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new wO(e,n,i):n==="array-contains"?new SO(e,i):n==="in"?new AO(e,i):n==="not-in"?new CO(e,i):n==="array-contains-any"?new NO(e,i):new Pt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new TO(e,i):new EO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jo(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends u2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ns(e,n)}matches(e){return h2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h2(t){return t.op==="and"}function d2(t){return _O(t)&&h2(t)}function _O(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function m0(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Zo(t.value);if(d2(t))return t.filters.map((e=>m0(e))).join(",");{const e=t.filters.map((n=>m0(n))).join(",");return`${t.op}(${e})`}}function f2(t,e){return t instanceof Pt?(function(i,a){return a instanceof Pt&&i.op===a.op&&i.field.isEqual(a.field)&&ai(i.value,a.value)})(t,e):t instanceof Ns?(function(i,a){return a instanceof Ns&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,d)=>l&&f2(u,a.filters[d])),!0):!1})(t,e):void Se(19439)}function m2(t){return t instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`})(t):t instanceof Ns?(function(n){return n.op.toString()+" {"+n.getFilters().map(m2).join(" ,")+"}"})(t):"Filter"}class wO extends Pt{constructor(e,n,i){super(e,n,i),this.key=_e.fromName(i.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class TO extends Pt{constructor(e,n){super(e,"in",n),this.keys=p2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class EO extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=p2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function p2(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class SO extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dy(n)&&tu(n.arrayValue,this.value)}}class AO extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class CO extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class NO extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>tu(this.value.arrayValue,i)))}}class RO{constructor(e,n=null,i=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function rT(t,e=null,n=[],i=[],a=null,l=null,u=null){return new RO(t,e,n,i,a,l,u)}function jy(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>m0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Zo(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Zo(i))).join(",")),e.Te=n}return e.Te}function My(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!f2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iT(t.startAt,e.startAt)&&iT(t.endAt,e.endAt)}function p0(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class yl{constructor(e,n=null,i=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kO(t,e,n,i,a,l,u,d){return new yl(t,e,n,i,a,l,u,d)}function Nf(t){return new yl(t)}function aT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IO(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function g2(t){return t.collectionGroup!==null}function zc(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ft(an.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new nu(l,i))})),n.has(an.keyField().canonicalString())||e.Ie.push(new nu(an.keyField(),i))}return e.Ie}function ti(t){const e=De(t);return e.Ee||(e.Ee=DO(e,zc(t))),e.Ee}function DO(t,e){if(t.limitType==="F")return rT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nu(a.field,l)}));const n=t.endAt?new Zd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Zd(t.startAt.position,t.startAt.inclusive):null;return rT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function g0(t,e){const n=t.filters.concat([e]);return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jO(t,e){const n=t.explicitOrderBy.concat([e]);return new yl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function ef(t,e,n){return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rf(t,e){return My(ti(t),ti(e))&&t.limitType===e.limitType}function y2(t){return`${jy(ti(t))}|lt:${t.limitType}`}function Mo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>m2(a))).join(", ")}]`),Af(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Zo(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Zo(a))).join(",")),`Target(${i})`})(ti(t))}; limitType=${t.limitType})`}function kf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of zc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,d,m){const p=sT(u,d,m);return u.inclusive?p<=0:p<0})(i.startAt,zc(i),a)||i.endAt&&!(function(u,d,m){const p=sT(u,d,m);return u.inclusive?p>=0:p>0})(i.endAt,zc(i),a))})(t,e)}function MO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v2(t){return(e,n)=>{let i=!1;for(const a of zc(t)){const l=VO(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function VO(t,e,n){const i=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Jo(m,p):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:t.dir})}}class Ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return t2(this.inner)}size(){return this.innerSize}}const OO=new gt(_e.comparator);function zi(){return OO}const b2=new gt(_e.comparator);function kc(...t){let e=b2;for(const n of t)e=e.insert(n.key,n);return e}function x2(t){let e=b2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ka(){return Bc()}function _2(){return Bc()}function Bc(){return new Ba((t=>t.toString()),((t,e)=>t.isEqual(e)))}const PO=new gt(_e.comparator),LO=new Ft(_e.comparator);function Ge(...t){let e=LO;for(const n of t)e=e.add(n);return e}const UO=new Ft(qe);function zO(){return UO}function Vy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function w2(t){return{integerValue:""+t}}function BO(t,e){return hO(e)?w2(e):Vy(t,e)}class If{constructor(){this._=void 0}}function FO(t,e,n){return t instanceof su?(function(a,l){const u={fields:{[i2]:{stringValue:s2},[a2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Iy(l)&&(l=Cf(l)),l&&(u.fields[r2]=l),{mapValue:u}})(n,e):t instanceof iu?E2(t,e):t instanceof ru?S2(t,e):(function(a,l){const u=T2(a,l),d=oT(u)+oT(a.Ae);return f0(u)&&f0(a.Ae)?w2(d):Vy(a.serializer,d)})(t,e)}function HO(t,e,n){return t instanceof iu?E2(t,e):t instanceof ru?S2(t,e):n}function T2(t,e){return t instanceof tf?(function(i){return f0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class su extends If{}class iu extends If{constructor(e){super(),this.elements=e}}function E2(t,e){const n=A2(e);for(const i of t.elements)n.some((a=>ai(a,i)))||n.push(i);return{arrayValue:{values:n}}}class ru extends If{constructor(e){super(),this.elements=e}}function S2(t,e){let n=A2(e);for(const i of t.elements)n=n.filter((a=>!ai(a,i)));return{arrayValue:{values:n}}}class tf extends If{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function oT(t){return St(t.integerValue||t.doubleValue)}function A2(t){return Dy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class qO{constructor(e,n){this.field=e,this.transform=n}}function GO(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof iu&&a instanceof iu||i instanceof ru&&a instanceof ru?Wo(i.elements,a.elements,ai):i instanceof tf&&a instanceof tf?ai(i.Ae,a.Ae):i instanceof su&&a instanceof su})(t.transform,e.transform)}class $O{constructor(e,n){this.version=e,this.transformResults=n}}class ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Df{}function C2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Oy(t.key,ss.none()):new bu(t.key,t.data,ss.none());{const n=t.data,i=Nn.empty();let a=new Ft(an.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Kr(t.key,i,new Un(a.toArray()),ss.none())}}function KO(t,e,n){t instanceof bu?(function(a,l,u){const d=a.value.clone(),m=cT(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Kr?(function(a,l,u){if(!kd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=cT(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(N2(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Fc(t,e,n,i){return t instanceof bu?(function(l,u,d,m){if(!kd(l.precondition,u))return d;const p=l.value.clone(),v=uT(l.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof Kr?(function(l,u,d,m){if(!kd(l.precondition,u))return d;const p=uT(l.fieldTransforms,m,u),v=u.data;return v.setAll(N2(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,u,d){return kd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function YO(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=T2(i.transform,a||null);l!=null&&(n===null&&(n=Nn.empty()),n.set(i.field,l))}return n||null}function lT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Wo(i,a,((l,u)=>GO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bu extends Df{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Kr extends Df{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function N2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function cT(t,e,n){const i=new Map;Je(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);i.set(l.field,HO(u,d,n[a]))}return i}function uT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,FO(l,u,e))}return i}class Oy extends Df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QO extends Df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XO{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&KO(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Fc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Fc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=_2();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=C2(u,d);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,((n,i)=>lT(n,i)))&&Wo(this.baseMutations,e.baseMutations,((n,i)=>lT(n,i)))}}class Py{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Je(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return PO})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Py(e,n,i,a)}}class WO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,Ke;function ZO(t){switch(t){case se.OK:return Se(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function R2(t){if(t===void 0)return Ui("GRPC error has no .code"),se.UNKNOWN;switch(t){case Vt.OK:return se.OK;case Vt.CANCELLED:return se.CANCELLED;case Vt.UNKNOWN:return se.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return se.INTERNAL;case Vt.UNAVAILABLE:return se.UNAVAILABLE;case Vt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Vt.NOT_FOUND:return se.NOT_FOUND;case Vt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Vt.ABORTED:return se.ABORTED;case Vt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Vt.DATA_LOSS:return se.DATA_LOSS;default:return Se(39323,{code:t})}}(Ke=Vt||(Vt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function eP(){return new TextEncoder}const tP=new Vr([4294967295,4294967295],0);function hT(t){const e=eP().encode(t),n=new qA;return n.update(e),new Uint8Array(n.digest())}function dT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Vr([n,i],0),new Vr([a,l],0)]}class Ly{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ic(`Invalid padding: ${n}`);if(i<0)throw new Ic(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Vr.fromNumber(i)));return a.compare(tP)===1&&(a=new Vr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hT(e),[i,a]=dT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Ly(l,a,n);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=hT(e),[i,a]=dT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new jf(ke.min(),a,new gt(qe),zi(),Ge())}}class xu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new xu(i,n,Ge(),Ge(),Ge())}}class Id{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class k2{constructor(e,n){this.targetId=e,this.Ce=n}}class I2{constructor(e,n,i=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class fT{constructor(){this.ve=0,this.Fe=mT(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),i=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Se(38017,{changeType:l})}})),new xu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=mT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class nP{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.He=cd(),this.Je=cd(),this.Ze=new gt(qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(p0(l))if(i===0){const u=new _e(l.path);this.et(n,u,hn.newNoDocument(u,ke.min()))}else Je(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=Br(i).toUint8Array()}catch(m){if(m instanceof n2)return Ua("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Ly(u,a,l)}catch(m){return Ua(m instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&p0(d.target)){const m=new _e(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,hn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let i=Ge();this.Je.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new jf(e,n,this.Ze,this.je,i);return this.je=zi(),this.He=cd(),this.Je=cd(),this.Ze=new gt(qe),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new fT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ft(qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ft(qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cd(){return new gt(_e.comparator)}function mT(){return new gt(_e.comparator)}const sP={asc:"ASCENDING",desc:"DESCENDING"},iP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rP={and:"AND",or:"OR"};class aP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y0(t,e){return t.useProto3Json||Af(e)?e:{value:e}}function nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oP(t,e){return nf(t,e.toTimestamp())}function ni(t){return Je(!!t,49232),ke.fromTimestamp((function(n){const i=zr(n);return new ht(i.seconds,i.nanos)})(t))}function Uy(t,e){return v0(t,e).canonicalString()}function v0(t,e){const n=(function(a){return new ot(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function j2(t){const e=ot.fromString(t);return Je(L2(e),10190,{key:e.toString()}),e}function b0(t,e){return Uy(t.databaseId,e.path)}function Tg(t,e){const n=j2(e);if(n.get(1)!==t.databaseId.projectId)throw new he(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(V2(n))}function M2(t,e){return Uy(t.databaseId,e)}function lP(t){const e=j2(t);return e.length===4?ot.emptyPath():V2(e)}function x0(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V2(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pT(t,e,n){return{name:b0(t,e),fields:n.value.mapValue.fields}}function cP(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Je(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const v=p.code===void 0?se.UNKNOWN:R2(p.code);return new he(v,p.message||"")})(u);n=new I2(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Tg(t,i.document.name),l=ni(i.document.updateTime),u=i.document.createTime?ni(i.document.createTime):ke.min(),d=new Nn({mapValue:{fields:i.document.fields}}),m=hn.newFoundDocument(a,l,u,d),p=i.targetIds||[],v=i.removedTargetIds||[];n=new Id(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Tg(t,i.document),l=i.readTime?ni(i.readTime):ke.min(),u=hn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Id([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Tg(t,i.document),l=i.removedTargetIds||[];n=new Id([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new JO(a,l),d=i.targetId;n=new k2(d,u)}}return n}function uP(t,e){let n;if(e instanceof bu)n={update:pT(t,e.key,e.value)};else if(e instanceof Oy)n={delete:b0(t,e.key)};else if(e instanceof Kr)n={update:pT(t,e.key,e.data),updateMask:bP(e.fieldMask)};else{if(!(e instanceof QO))return Se(16599,{dt:e.type});n={verify:b0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const d=u.transform;if(d instanceof su)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ru)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof tf)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:oP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(t,e.precondition)),n}function hP(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ni(a.updateTime):ni(l);return u.isEqual(ke.min())&&(u=ni(l)),new $O(u,a.transformResults||[])})(n,e)))):[]}function dP(t,e){return{documents:[M2(t,e.path)]}}function fP(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=M2(t,a);const l=(function(p){if(p.length!==0)return P2(Ns.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:Vo(w.field),direction:gP(w.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=y0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function mP(t){let e=lP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Je(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const w=O2(b);return w instanceof Ns&&d2(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((w=>(function(M){return new nu(Oo(M.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let w;return w=typeof b=="object"?b.value:b,Af(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,A=b.values||[];return new Zd(A,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,A=b.values||[];return new Zd(A,w)})(n.endAt)),kO(e,a,u,l,d,"F",m,p)}function pP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function O2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Oo(n.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Oo(n.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(n.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Oo(n.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pt.create(Oo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ns.create(n.compositeFilter.filters.map((i=>O2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function gP(t){return sP[t]}function yP(t){return iP[t]}function vP(t){return rP[t]}function Vo(t){return{fieldPath:t.canonicalString()}}function Oo(t){return an.fromServerFormat(t.fieldPath)}function P2(t){return t instanceof Pt?(function(n){if(n.op==="=="){if(nT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(tT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(tT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:yP(n.op),value:n.value}}})(t):t instanceof Ns?(function(n){const i=n.getFilters().map((a=>P2(a)));return i.length===1?i[0]:{compositeFilter:{op:vP(n.op),filters:i}}})(t):Se(54877,{filter:t})}function bP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function L2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function U2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Ir{constructor(e,n,i,a,l=ke.min(),u=ke.min(),d=on.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xP{constructor(e){this.yt=e}}function _P(t){const e=mP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ef(e,e.limit,"L"):e}class wP{constructor(){this.Sn=new TP}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ur.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class TP{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Ft(ot.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ft(ot.comparator)).toArray()}}const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z2=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(z2,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class el{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new el(0)}static ar(){return new el(-1)}}const yT="LruGarbageCollector",EP=1048576;function vT([t,e],[n,i]){const a=qe(t,n);return a===0?qe(e,i):a}class SP{constructor(e){this.Pr=e,this.buffer=new Ft(vT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();vT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AP{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(yT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?me(yT,"Ignoring IndexedDB error during garbage collection: ",n):await pl(n)}await this.Ar(3e5)}))}}class CP{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Sf.ce);const i=new SP(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(gT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,u,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),jo()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function NP(t,e){return new CP(t,e)}class RP{constructor(){this.changes=new Ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class IP{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Fc(i.mutation,a,Un.empty(),ht.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ge()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ge()){const a=ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=kc();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=ka();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ge())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,i,a){let l=zi();const u=Bc(),d=(function(){return Bc()})();return n.forEach(((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Kr)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Fc(v.mutation,p,v.mutation.getFieldMask(),ht.now())):u.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>u.set(p,v))),n.forEach(((p,v)=>d.set(p,new kP(v,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=Bc();let a=new gt(((u,d)=>u-d)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=i.get(m)||Un.empty();v=d.applyToLocalView(p,v),i.set(m,v);const b=(a.get(d.batchId)||Ge()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,b=_2();v.forEach((w=>{if(!l.has(w)){const A=C2(n.get(w),i.get(w));A!==null&&b.set(w,A),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ae.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return IO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ae.resolve(ka());let d=Jc,m=l;return u.next((p=>ae.forEach(p,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ge()))).next((v=>({batchId:d,changes:x2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((i=>{let a=kc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=kc();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(m=>{const p=(function(b,w){return new yl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((b,w)=>{u=u.insert(b,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,hn.newInvalidDocument(v)))}));let d=kc();return u.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&Fc(v.mutation,p,Un.empty(),ht.now()),kf(n,p)&&(d=d.insert(m,p))})),d}))}}class DP{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ni(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:_P(a.bundledQuery),readTime:ni(a.readTime)}})(n)),ae.resolve()}}class jP{constructor(){this.overlays=new gt(_e.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ka();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const a=ka(),l=n.length+1,u=new _e(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new gt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=ka(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=ka(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=a)););return ae.resolve(d)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new WO(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ge(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class MP{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class zy{constructor(){this.kr=new Ft($t.Kr),this.qr=new Ft($t.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new $t(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new $t(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new _e(new ot([])),i=new $t(n,e),a=new $t(n,e+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new ot([])),i=new $t(n,e),a=new $t(n,e+1);let l=Ge();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new $t(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class VP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft($t.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new XO(l,n,i,a);this.mutationQueue.push(u);for(const d of a)this.Jr=this.Jr.add(new $t(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?ky:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const d=this.Zr(u.Hr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ft(qe);return n.forEach((a=>{const l=new $t(a,0),u=new $t(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(d=>{i=i.add(d.Hr)}))})),ae.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const u=new $t(new _e(l),0);let d=new Ft(qe);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),u),ae.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Je(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ae.forEach(n.mutations,(a=>{const l=new $t(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new $t(n,0),a=this.Jr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class OP{constructor(e){this.ti=e,this.docs=(function(){return new gt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let i=zi();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():hn.newInvalidDocument(a))})),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=zi();const u=n.path,d=new _e(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||oO(aO(v),i)<=0||(a.has(v.key)||kf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Se(9500)}ni(e,n){return ae.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new PP(this)}getSize(e){return ae.resolve(this.size)}}class PP extends RP{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class LP{constructor(e){this.persistence=e,this.ri=new Ba((n=>jy(n)),My),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.ii=0,this.si=new zy,this.targetCount=0,this.oi=el._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new el(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class B2{constructor(e,n){this._i={},this.overlays={},this.ai=new Sf(0),this.ui=!1,this.ui=!0,this.ci=new MP,this.referenceDelegate=e(this),this.li=new LP(this),this.indexManager=new wP,this.remoteDocumentCache=(function(a){return new OP(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new xP(n),this.Pi=new DP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new VP(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new UP(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ae.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class UP extends cO{constructor(e){super(),this.currentSequenceNumber=e}}class By{constructor(e){this.persistence=e,this.Ri=new zy,this.Ai=null}static Vi(e){return new By(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(i=>{const a=_e.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,ke.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class sf{constructor(e,n){this.persistence=e,this.fi=new Ba((i=>dO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=NP(this,n)}static Vi(e,n){return new sf(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((d=>{d||(i++,l.removeEntry(u,ke.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nd(e.data.value)),n}wr(e,n,i){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fy{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Fy(e,n.fromCache,i,a)}}class zP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BP{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return SM()?8:uO(fn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new zP;return this.ys(e,n,u).next((d=>{if(l.result=d,this.As)return this.ws(e,n,u,d.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(jo()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(jo()<=He.DEBUG&&me("QueryEngine","Query:",Mo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(jo()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):ae.resolve())}gs(e,n){if(aT(n))return ae.resolve(null);let i=ti(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ef(n,null,"F"),i=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Ge(...l);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,u,m.readTime)?this.gs(e,ef(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,i,a){return aT(n)||a.isEqual(ke.min())?ae.resolve(null):this.fs.getDocuments(e,i).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,i,a)?ae.resolve(null):(jo()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(n)),this.Ds(e,u,n,rO(a,Jc)).next((d=>d)))}))}bs(e,n){let i=new Ft(v2(e));return n.forEach(((a,l)=>{kf(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return jo()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.fs.getDocumentsMatchingQuery(e,n,Ur.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Hy="LocalStore",FP=3e8;class HP{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new gt(qe),this.Fs=new Ba((l=>jy(l)),My),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IP(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function qP(t,e,n,i){return new HP(t,e,n,i)}async function F2(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],d=[];let m=Ge();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function GP(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,v){const b=p.batch,w=b.keys();let A=ae.resolve();return w.forEach((M=>{A=A.next((()=>v.getEntry(m,M))).next((L=>{const P=p.docVersions.get(M);Je(P!==null,48541),L.version.compareTo(P)<0&&(b.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),v.addEntry(L)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Ge();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function H2(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function $P(t,e){const n=De(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const w=a.get(b);if(!w)return;d.push(n.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,b))));let A=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(on.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),a=a.insert(b,A),(function(L,P,B){return L.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=FP?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,A,v)&&d.push(n.li.updateTargetData(l,A))}));let m=zi(),p=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(KP(l,u,e.documentUpdates).next((v=>{m=v.Bs,p=v.Ls}))),!i.isEqual(ke.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return ae.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function KP(t,e,n){let i=Ge(),a=Ge();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=zi();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(ke.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):me(Hy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function YP(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=ky),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function QP(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,ae.resolve(a)):n.li.allocateTargetId(i).next((u=>(a=new Ir(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function _0(t,e,n){const i=De(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!gl(u))throw u;me(Hy,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function bT(t,e,n){const i=De(t);let a=ke.min(),l=Ge();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const b=De(m),w=b.Fs.get(v);return w!==void 0?ae.resolve(b.vs.get(w)):b.li.getTargetData(p,v)})(i,u,ti(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?a:ke.min(),n?l:Ge()))).next((d=>(XP(i,MO(e),d),{documents:d,ks:l})))))}function XP(t,e,n){let i=t.Ms.get(e)||ke.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class xT{constructor(){this.activeTargetIds=zO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WP{constructor(){this.vo=new xT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new xT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JP{Mo(e){}shutdown(){}}const _T="ConnectivityMonitor";class wT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(_T,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(_T,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ud=null;function w0(){return ud===null?ud=(function(){return 268435456+Math.round(2147483648*Math.random())})():ud++,"0x"+ud.toString(16)}const Eg="RestConnection",ZP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class e9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Wd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const u=w0(),d=this.Qo(e,n.toUriEncodedString());me(Eg,`Sending RPC '${e}' ${u}:`,d,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),v=hl(p);return this.zo(e,d,m,i,v).then((b=>(me(Eg,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Ua(Eg,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,n,i,a,l,u){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=ZP[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class t9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const cn="WebChannelConnection",Cc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class $o extends e9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$o.c_){const e=YA();Cc(e,KA.STAT_EVENT,(n=>{n.stat===u0.PROXY?me(cn,"STAT_EVENT: detected buffering proxy"):n.stat===u0.NOPROXY&&me(cn,"STAT_EVENT: detected no buffering proxy")})),$o.c_=!0}}zo(e,n,i,a,l){const u=w0();return new Promise(((d,m)=>{const p=new GA;p.setWithCredentials(!0),p.listenOnce($A.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Cd.NO_ERROR:const b=p.getResponseJson();me(cn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Cd.TIMEOUT:me(cn,`RPC '${e}' ${u} timed out`),m(new he(se.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const w=p.getStatus();if(me(cn,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A?.error;if(M&&M.status&&M.message){const L=(function(B){const F=B.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(F)>=0?F:se.UNKNOWN})(M.status);m(new he(L,M.message))}else m(new he(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(se.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(cn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);me(cn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=w0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const p=l.join("");me(cn,`Creating RPC '${e}' stream ${a}: ${p}`,d);const v=u.createWebChannel(p,d);this.I_(v);let b=!1,w=!1;const A=new t9({Ho:M=>{w?me(cn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(b||(me(cn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),me(cn,`RPC '${e}' stream ${a} sending:`,M),v.send(M))},Jo:()=>v.close()});return Cc(v,Rc.EventType.OPEN,(()=>{w||(me(cn,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Cc(v,Rc.EventType.CLOSE,(()=>{w||(w=!0,me(cn,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(v))})),Cc(v,Rc.EventType.ERROR,(M=>{w||(w=!0,Ua(cn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),A.o_(new he(se.UNAVAILABLE,"The operation could not be completed")))})),Cc(v,Rc.EventType.MESSAGE,(M=>{if(!w){const L=M.data[0];Je(!!L,16349);const P=L,B=P?.error||P[0]?.error;if(B){me(cn,`RPC '${e}' stream ${a} received error:`,B);const F=B.status;let K=(function(re){const I=Vt[re];if(I!==void 0)return R2(I)})(F),J=B.message;F==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&Ua(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=se.INTERNAL,J="Unknown error status: "+F+" with message "+B.message),w=!0,A.o_(new he(K,J)),v.close()}else me(cn,`RPC '${e}' stream ${a} received:`,L),A.__(L)}})),$o.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return QA()}}function n9(t){return new $o(t)}function Sg(){return typeof document<"u"?document:null}function Mf(t){return new aP(t,!0)}$o.c_=!1;class q2{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const TT="PersistentStream";class G2{constructor(e,n,i,a,l,u,d,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new q2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new he(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class s9 extends G2{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cP(this.serializer,e),i=(function(l){if(!("targetChange"in l))return ke.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?ni(u.readTime):ke.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=x0(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=p0(m)?{documents:dP(l,m)}:{query:fP(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=D2(l,u.resumeToken);const p=y0(l,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(ke.min())>0){d.readTime=nf(l,u.snapshotVersion.toTimestamp());const p=y0(l,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=pP(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=x0(this.serializer),n.removeTarget=e,this.K_(n)}}class i9 extends G2{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=hP(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=x0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>uP(this.serializer,i)))};this.K_(n)}}class r9{}class a9 extends r9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,v0(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(se.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,v0(n,i),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function o9(t,e,n,i){return new a9(t,e,n,i)}class l9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const za="RemoteStore";class c9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{Fa(this)&&(me(za,"Restarting streams for network reachability change."),await(async function(m){const p=De(m);p.Ea.add(4),await _u(p),p.Va.set("Unknown"),p.Ea.delete(4),await Vf(p)})(this))}))})),this.Va=new l9(i,a)}}async function Vf(t){if(Fa(t))for(const e of t.Ra)await e(!0)}async function _u(t){for(const e of t.Ra)await e(!1)}function $2(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ky(n)?$y(n):vl(n).O_()&&Gy(n,e))}function qy(t,e){const n=De(t),i=vl(n);n.Ia.delete(e),i.O_()&&K2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Fa(n)&&n.Va.set("Unknown"))}function Gy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).Z_(e)}function K2(t,e){t.da.$e(e),vl(t).X_(e)}function $y(t){t.da=new nP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.Va.ua()}function Ky(t){return Fa(t)&&!vl(t).x_()&&t.Ia.size>0}function Fa(t){return De(t).Ea.size===0}function Y2(t){t.da=void 0}async function u9(t){t.Va.set("Online")}async function h9(t){t.Ia.forEach(((e,n)=>{Gy(t,e)}))}async function d9(t,e){Y2(t),Ky(t)?(t.Va.ha(e),$y(t)):t.Va.set("Unknown")}async function f9(t,e,n){if(t.Va.set("Online"),e instanceof I2&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(i){me(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await rf(t,i)}else if(e instanceof Id?t.da.Xe(e):e instanceof k2?t.da.st(e):t.da.tt(e),!n.isEqual(ke.min()))try{const i=await H2(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const d=l.da.Tt(u);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),K2(l,m);const b=new Ir(v.target,m,p,v.sequenceNumber);Gy(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){me(za,"Failed to raise snapshot:",i),await rf(t,i)}}async function rf(t,e,n){if(!gl(e))throw e;t.Ea.add(1),await _u(t),t.Va.set("Offline"),n||(n=()=>H2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(za,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vf(t)}))}function Q2(t,e){return e().catch((n=>rf(t,n,e)))}async function Of(t){const e=De(t),n=Hr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ky;for(;m9(e);)try{const a=await YP(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,p9(e,a)}catch(a){await rf(e,a)}X2(e)&&W2(e)}function m9(t){return Fa(t)&&t.Ta.length<10}function p9(t,e){t.Ta.push(e);const n=Hr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function X2(t){return Fa(t)&&!Hr(t).x_()&&t.Ta.length>0}function W2(t){Hr(t).start()}async function g9(t){Hr(t).ra()}async function y9(t){const e=Hr(t);for(const n of t.Ta)e.ea(n.mutations)}async function v9(t,e,n){const i=t.Ta.shift(),a=Py.from(i,e,n);await Q2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Of(t)}async function b9(t,e){e&&Hr(t).Y_&&await(async function(i,a){if((function(u){return ZO(u)&&u!==se.ABORTED})(a.code)){const l=i.Ta.shift();Hr(i).B_(),await Q2(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Of(i)}})(t,e),X2(t)&&W2(t)}async function ET(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),me(za,"RemoteStore received new credentials");const i=Fa(n);n.Ea.add(3),await _u(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vf(n)}async function x9(t,e){const n=De(t);e?(n.Ea.delete(2),await Vf(n)):e||(n.Ea.add(2),await _u(n),n.Va.set("Unknown"))}function vl(t){return t.ma||(t.ma=(function(n,i,a){const l=De(n);return l.sa(),new s9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:u9.bind(null,t),Yo:h9.bind(null,t),t_:d9.bind(null,t),J_:f9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Ky(t)?$y(t):t.Va.set("Unknown")):(await t.ma.stop(),Y2(t))}))),t.ma}function Hr(t){return t.fa||(t.fa=(function(n,i,a){const l=De(n);return l.sa(),new i9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:g9.bind(null,t),t_:b9.bind(null,t),ta:y9.bind(null,t),na:v9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Of(t)):(await t.fa.stop(),t.Ta.length>0&&(me(za,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Yy{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,d=new Yy(e,n,u,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qy(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),gl(t))return new he(se.UNAVAILABLE,`${e}: ${t}`);throw t}class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||_e.comparator(n.key,i.key):(n,i)=>_e.comparator(n.key,i.key),this.keyedMap=kc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class ST{constructor(){this.ga=new gt(_e.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class tl{constructor(e,n,i,a,l,u,d,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new tl(e,n,Ko.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class _9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class w9{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=De(n),l=a.queries;a.queries=AT(),l.forEach(((u,d)=>{for(const m of d.ba)m.onError(i)}))})(this,new he(se.ABORTED,"Firestore shutting down"))}}function AT(){return new Ba((t=>y2(t)),Rf)}async function Xy(t,e){const n=De(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new _9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=Qy(u,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Jy(n)}async function Wy(t,e){const n=De(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function T9(t,e){const n=De(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.ba)d.Fa(a)&&(i=!0);u.wa=a}}i&&Jy(n)}function E9(t,e,n){const i=De(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Jy(t){t.Ca.forEach((e=>{e.next()}))}var T0,CT;(CT=T0||(T0={})).Ma="default",CT.Cache="cache";class Zy{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new tl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==T0.Cache}}class J2{constructor(e){this.key=e}}class Z2{constructor(e){this.key=e}}class S9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=v2(e),this.tu=new Ko(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new ST,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const w=a.get(v),A=kf(this.query,b)?b:null,M=!!w&&this.mutatedKeys.has(w.key),L=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let P=!1;w&&A?w.data.isEqual(A.data)?M!==L&&(i.track({type:3,doc:A}),P=!0):this.su(w,A)||(i.track({type:2,doc:A}),P=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(d=!0)):!w&&A?(i.track({type:0,doc:A}),P=!0):w&&!A&&(i.track({type:1,doc:w}),P=!0,(m||p)&&(d=!0)),P&&(A?(u=u.add(A),l=L?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(A,M){const L=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:P})}};return L(A)-L(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new tl(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ST,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new Z2(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new J2(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ev="SyncEngine";class A9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class C9{constructor(e){this.key=e,this.hu=!1}}class N9{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ba((d=>y2(d)),Rf),this.Iu=new Map,this.Eu=new Set,this.Ru=new gt(_e.comparator),this.Au=new Map,this.Vu=new zy,this.du={},this.mu=new Map,this.fu=el.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R9(t,e,n=!0){const i=rC(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await eC(i,e,n,!0),a}async function k9(t,e){const n=rC(t);await eC(n,e,!0,!1)}async function eC(t,e,n,i){const a=await QP(t.localStore,ti(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await I9(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&$2(t.remoteStore,a),d}async function I9(t,e,n,i,a){t.pu=(b,w,A)=>(async function(L,P,B,F){let K=P.view.ru(B);K.Ss&&(K=await bT(L.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,K))));const J=F&&F.targetChanges.get(P.targetId),ee=F&&F.targetMismatches.get(P.targetId)!=null,re=P.view.applyChanges(K,L.isPrimaryClient,J,ee);return RT(L,P.targetId,re.au),re.snapshot})(t,b,w,A);const l=await bT(t.localStore,e,!0),u=new S9(e,l.ks),d=u.ru(l.documents),m=xu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(d,t.isPrimaryClient,m);RT(t,n,p.au);const v=new A9(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function D9(t,e,n){const i=De(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Rf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await _0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&qy(i.remoteStore,a.targetId),E0(i,a.targetId)})).catch(pl)):(E0(i,a.targetId),await _0(i.localStore,a.targetId,!0))}async function j9(t,e){const n=De(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),qy(n.remoteStore,i.targetId))}async function M9(t,e,n){const i=B9(t);try{const a=await(function(u,d){const m=De(u),p=ht.now(),v=d.reduce(((A,M)=>A.add(M.key)),Ge());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=zi(),L=Ge();return m.xs.getEntries(A,v).next((P=>{M=P,M.forEach(((B,F)=>{F.isValidDocument()||(L=L.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,M))).next((P=>{b=P;const B=[];for(const F of d){const K=YO(F,b.get(F.key).overlayedDocument);K!=null&&B.push(new Kr(F.key,K,c2(K.value.mapValue),ss.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,B,d)})).next((P=>{w=P;const B=P.applyToLocalDocumentSet(b,L);return m.documentOverlayCache.saveOverlays(A,P.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:x2(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let p=u.du[u.currentUser.toKey()];p||(p=new gt(qe)),p=p.insert(d,m),u.du[u.currentUser.toKey()]=p})(i,a.batchId,n),await wu(i,a.changes),await Of(i.remoteStore)}catch(a){const l=Qy(a,"Failed to persist write");n.reject(l)}}async function tC(t,e){const n=De(t);try{const i=await $P(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Je(u.hu,14607):a.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await wu(n,i,e)}catch(i){await pl(i)}}function NT(t,e,n){const i=De(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=De(u);m.onlineState=d;let p=!1;m.queries.forEach(((v,b)=>{for(const w of b.ba)w.va(d)&&(p=!0)})),p&&Jy(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function V9(t,e,n){const i=De(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new gt(_e.comparator);u=u.insert(l,hn.newNoDocument(l,ke.min()));const d=Ge().add(l),m=new jf(ke.min(),new Map,new gt(qe),u,d);await tC(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),tv(i)}else await _0(i.localStore,e,!1).then((()=>E0(i,e,n))).catch(pl)}async function O9(t,e){const n=De(t),i=e.batch.batchId;try{const a=await GP(n.localStore,e);sC(n,i,null),nC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await wu(n,a)}catch(a){await pl(a)}}async function P9(t,e,n){const i=De(t);try{const a=await(function(u,d){const m=De(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next((b=>(Je(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);sC(i,e,n),nC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await wu(i,a)}catch(a){await pl(a)}}function nC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function sC(t,e,n){const i=De(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function E0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||iC(t,i)}))}function iC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(qy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),tv(t))}function RT(t,e,n){for(const i of n)i instanceof J2?(t.Vu.addReference(i.key,e),L9(t,i)):i instanceof Z2?(me(ev,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||iC(t,i.key)):Se(19791,{wu:i})}function L9(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(me(ev,"New document in limbo: "+n),t.Eu.add(i),tv(t))}function tv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(ot.fromString(e)),i=t.fu.next();t.Au.set(i,new C9(n)),t.Ru=t.Ru.insert(n,i),$2(t.remoteStore,new Ir(ti(Nf(n.path)),i,"TargetPurposeLimboResolution",Sf.ce))}}async function wu(t,e,n){const i=De(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{u.push(i.pu(m,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Fy.Es(m.targetId,p);l.push(v)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(m,p){const v=De(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ae.forEach(p,(w=>ae.forEach(w.Ts,(A=>v.persistence.referenceDelegate.addReference(b,w.targetId,A))).next((()=>ae.forEach(w.Is,(A=>v.persistence.referenceDelegate.removeReference(b,w.targetId,A)))))))))}catch(b){if(!gl(b))throw b;me(Hy,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const A=v.vs.get(w),M=A.snapshotVersion,L=A.withLastLimboFreeSnapshotVersion(M);v.vs=v.vs.insert(w,L)}}})(i.localStore,l))}async function U9(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){me(ev,"User change. New user:",e.toKey());const i=await F2(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new he(se.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await wu(n,i.Ns)}}function z9(t,e){const n=De(t),i=n.Au.get(e);if(i&&i.hu)return Ge().add(i.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function rC(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V9.bind(null,e),e.Pu.J_=T9.bind(null,e.eventManager),e.Pu.yu=E9.bind(null,e.eventManager),e}function B9(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P9.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qP(this.persistence,new BP,e.initialUser,this.serializer)}Cu(e){return new B2(By.Vi,this.serializer)}Du(e){return new WP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class F9 extends af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof sf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new AP(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new B2((i=>sf.Vi(i,n)),this.serializer)}}class S0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>NT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=U9.bind(null,this.syncEngine),await x9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new w9})()}createDatastore(e){const n=Mf(e.databaseInfo.databaseId),i=n9(e.databaseInfo);return o9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,d){return new c9(i,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>NT(this.syncEngine,n,0)),(function(){return wT.v()?new wT:new JP})())}createSyncEngine(e,n){return(function(a,l,u,d,m,p,v){const b=new N9(a,l,u,d,m,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=De(n);me(za,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}S0.provider={build:()=>new S0};class nv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const qr="FirestoreClient";class H9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=Ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{me(qr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(me(qr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Qy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Ag(t,e){t.asyncQueue.verifyOperationInProgress(),me(qr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await F2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function kT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q9(t);me(qr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>ET(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>ET(e.remoteStore,a))),t._onlineComponents=e}async function q9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(qr,"Using user provided OfflineComponentProvider");try{await Ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ua("Error using user provided cache. Falling back to memory cache: "+n),await Ag(t,new af)}}else me(qr,"Using default OfflineComponentProvider"),await Ag(t,new F9(void 0));return t._offlineComponents}async function aC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(qr,"Using user provided OnlineComponentProvider"),await kT(t,t._uninitializedComponentsProvider._online)):(me(qr,"Using default OnlineComponentProvider"),await kT(t,new S0))),t._onlineComponents}function G9(t){return aC(t).then((e=>e.syncEngine))}async function of(t){const e=await aC(t),n=e.eventManager;return n.onListen=R9.bind(null,e.syncEngine),n.onUnlisten=D9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=j9.bind(null,e.syncEngine),n}function $9(t,e,n,i){const a=new nv(i),l=new Zy(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Xy(await of(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Wy(await of(t),l)))}}function K9(t,e,n={}){const i=new Mi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const v=new nv({next:w=>{v.Nu(),u.enqueueAndForget((()=>Wy(l,b)));const A=w.docs.has(d);!A&&w.fromCache?p.reject(new he(se.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&m&&m.source==="server"?p.reject(new he(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new Zy(Nf(d.path),v,{includeMetadataChanges:!0,Ka:!0});return Xy(l,b)})(await of(t),t.asyncQueue,e,n,i))),i.promise}function Y9(t,e,n={}){const i=new Mi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const v=new nv({next:w=>{v.Nu(),u.enqueueAndForget((()=>Wy(l,b))),w.fromCache&&m.source==="server"?p.reject(new he(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new Zy(d,v,{includeMetadataChanges:!0,Ka:!0});return Xy(l,b)})(await of(t),t.asyncQueue,e,n,i))),i.promise}function Q9(t,e){const n=new Mi;return t.asyncQueue.enqueueAndForget((async()=>M9(await G9(t),e,n))),n.promise}function oC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const X9="ComponentProvider",IT=new Map;function W9(t,e,n,i,a){return new pO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,oC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const lC="firestore.googleapis.com",DT=!0;class jT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lC,this.ssl=DT}else this.host=e.host,this.ssl=e.ssl??DT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EP)throw new he(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new KV;switch(i.type){case"firstParty":return new WV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=IT.get(n);i&&(me(X9,"Removing Datastore"),IT.delete(n),i.terminate())})(this),Promise.resolve()}}function J9(t,e,n,i={}){t=Rn(t,Pf);const a=hl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(aA(`https://${d}`),oA("Firestore",!0)),l.host!==lC&&l.host!==d&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Va(m,u)&&(t._setSettings(m),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=un.MOCK_USER;else{p=gM(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new he(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(b)}t._authCredentials=new YV(new WA(p,v))}}class qi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class xt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(vu(n,xt._jsonSchema))return new xt(e,i||null,new _e(ot.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Lt("string",xt._jsonSchemaVersion),referencePath:Lt("string")};class Or extends qi{constructor(e,n,i){super(e,n,Nf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new _e(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function lf(t,e,...n){if(t=Kt(t),JA("collection","path",e),t instanceof Pf){const i=ot.fromString(e,...n);return $w(i),new Or(t,null,i)}{if(!(t instanceof xt||t instanceof Or))throw new he(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return $w(i),new Or(t.firestore,null,i)}}function nl(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=Ry.newId()),JA("doc","path",e),t instanceof Pf){const i=ot.fromString(e,...n);return Gw(i),new xt(t,null,new _e(i))}{if(!(t instanceof xt||t instanceof Or))throw new he(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return Gw(i),new xt(t.firestore,t instanceof Or?t.converter:null,new _e(i))}}const MT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new q2(this,"async_queue_retry"),this._c=()=>{const i=Sg();i&&me(MT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;me(MT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",OT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Yy.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:OT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bi extends Pf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new VT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function Z9(t,e){const n=typeof t=="object"?t:hA(),i=typeof t=="string"?t:Wd,a=yy(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=mM("firestore");l&&J9(a,...l)}return a}function Lf(t){if(t._terminated)throw new he(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eL(t),t._firestoreClient}function eL(t){const e=t._freezeSettings(),n=W9(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new H9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(on.fromBase64String(e))}catch(n){throw new he(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new es(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,es._jsonSchema))return es.fromBase64String(e.bytes)}}es._jsonSchemaVersion="firestore/bytes/1.0",es._jsonSchema={type:Lt("string",es._jsonSchemaVersion),bytes:Lt("string")};class sv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uf{constructor(e){this._methodName=e}}class si{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(vu(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Lt("string",si._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class As{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:As._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,As._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new As(e.vectorValues);throw new he(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}As._jsonSchemaVersion="firestore/vectorValue/1.0",As._jsonSchema={type:Lt("string",As._jsonSchemaVersion),vectorValues:Lt("object")};const tL=/^__.*__$/;class nL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class cC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:t})}}class iv{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new iv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return cf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(uC(this.dataSource)&&tL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class sL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Mf(e)}createContext(e,n,i,a=!1){return new iv({dataSource:e,methodName:n,targetDoc:i,path:an.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zf(t){const e=t._freezeSettings(),n=Mf(t._databaseId);return new sL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hC(t,e,n,i,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);av("Data must be an object, but it was:",u,i);const d=dC(i,u);let m,p;if(l.merge)m=new Un(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const w=sl(e,b,n);if(!u.contains(w))throw new he(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);pC(v,w)||v.push(w)}m=new Un(v),p=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=u.fieldTransforms;return new nL(new Nn(d),m,p)}class Bf extends Uf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bf}}class rv extends Uf{_toFieldTransform(e){return new qO(e.path,new su)}isEqual(e){return e instanceof rv}}function iL(t,e,n,i){const a=t.createContext(1,e,n);av("Data must be an object, but it was:",a,i);const l=[],u=Nn.empty();$r(i,((m,p)=>{const v=mC(e,m,n);p=Kt(p);const b=a.childContextForFieldPath(v);if(p instanceof Bf)l.push(v);else{const w=Tu(p,b);w!=null&&(l.push(v),u.set(v,w))}}));const d=new Un(l);return new cC(u,d,a.fieldTransforms)}function rL(t,e,n,i,a,l){const u=t.createContext(1,e,n),d=[sl(e,i,n)],m=[a];if(l.length%2!=0)throw new he(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(sl(e,l[w])),m.push(l[w+1]);const p=[],v=Nn.empty();for(let w=d.length-1;w>=0;--w)if(!pC(p,d[w])){const A=d[w];let M=m[w];M=Kt(M);const L=u.childContextForFieldPath(A);if(M instanceof Bf)p.push(A);else{const P=Tu(M,L);P!=null&&(p.push(A),v.set(A,P))}}const b=new Un(p);return new cC(v,b,u.fieldTransforms)}function aL(t,e,n,i=!1){return Tu(n,t.createContext(i?4:3,e))}function Tu(t,e){if(fC(t=Kt(t)))return av("Unsupported field value:",e,t),dC(t,e);if(t instanceof Uf)return(function(i,a){if(!uC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const d of i){let m=Tu(d,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return BO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ht.fromDate(i);return{timestampValue:nf(a.serializer,l)}}if(i instanceof ht){const l=new ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nf(a.serializer,l)}}if(i instanceof si)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof es)return{bytesValue:D2(a.serializer,i._byteString)};if(i instanceof xt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Uy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof As)return(function(u,d){const m=u instanceof As?u.toArray():u;return{mapValue:{fields:{[o2]:{stringValue:l2},[Jd]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return Vy(d.serializer,v)}))}}}}}})(i,a);if(U2(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Ef(i)}`)})(t,e)}function dC(t,e){const n={};return t2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(t,((i,a)=>{const l=Tu(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function fC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof si||t instanceof es||t instanceof xt||t instanceof Uf||t instanceof As||U2(t))}function av(t,e,n){if(!fC(n)||!ZA(n)){const i=Ef(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function sl(t,e,n){if((e=Kt(e))instanceof sv)return e._internalPath;if(typeof e=="string")return mC(t,e);throw cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const oL=new RegExp("[~\\*/\\[\\]]");function mC(t,e,n){if(e.search(oL)>=0)throw cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sv(...e.split("."))._internalPath}catch{throw cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cf(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new he(se.INVALID_ARGUMENT,d+t+m)}function pC(t,e){return t.some((n=>n.isEqual(e)))}class lL{convertValue(e,n="none"){switch(Fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return $r(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Jd].arrayValue?.values?.map((i=>St(i.doubleValue)));return new As(n)}convertGeoPoint(e){return new si(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Cf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const n=zr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ot.fromString(e);Je(L2(i),9688,{name:e});const a=new eu(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return a.isEqual(n)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class ov extends lL{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function cL(){return new rv("serverTimestamp")}const PT="@firebase/firestore",LT="4.11.0";function UT(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class gC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(sl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uL extends gC{data(){return super.data()}}function yC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lv{}class cv extends lv{}function vC(t,e,...n){let i=[];e instanceof lv&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((m=>m instanceof hv)).length,d=l.filter((m=>m instanceof uv)).length;if(u>1||u>0&&d>0)throw new he(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class uv extends cv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new uv(e,n,i)}_apply(e){const n=this._parse(e);return _C(e._query,n),new qi(e.firestore,e.converter,g0(e._query,n))}_parse(e){const n=zf(e.firestore);return(function(l,u,d,m,p,v,b){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){BT(b,v);const M=[];for(const L of b)M.push(zT(m,l,L));w={arrayValue:{values:M}}}else w=zT(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||BT(b,v),w=aL(d,u,b,v==="in"||v==="not-in");return Pt.create(p,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class hv extends lv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)_C(u,m),u=g0(u,m)})(e._query,n),new qi(e.firestore,e.converter,g0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dv extends cv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dv(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new he(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(l,u)})(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,jO(e._query,n))}}function bC(t,e="asc"){const n=e,i=sl("orderBy",t);return dv._create(i,n)}class fv extends cv{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new fv(e,n,i)}_apply(e){return new qi(e.firestore,e.converter,ef(e._query,this._limit,this._limitType))}}function xC(t){return iO("limit",t),fv._create("limit",t,"F")}function zT(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new he(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g2(e)&&n.indexOf("/")!==-1)throw new he(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ot.fromString(n));if(!_e.isDocumentKey(i))throw new he(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return eT(t,new _e(i))}if(n instanceof xt)return eT(t,n._key);throw new he(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(n)}.`)}function BT(t,e){if(!Array.isArray(t)||t.length===0)throw new he(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _C(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function wC(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends gC{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(sl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:Lt("string",ja._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Dd extends ja{data(e={}){return super.data(e)}}class Ma{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Dc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Dd(this._firestore,this._userDataWriter,i.key,i,new Dc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new Dd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Dc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Dd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Dc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:hL(d.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}Ma._jsonSchemaVersion="firestore/querySnapshot/1.0",Ma._jsonSchema={type:Lt("string",Ma._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function dL(t){t=Rn(t,xt);const e=Rn(t.firestore,Bi),n=Lf(e);return K9(n,t._key).then((i=>SC(e,t,i)))}function fL(t){t=Rn(t,qi);const e=Rn(t.firestore,Bi),n=Lf(e),i=new ov(e);return yC(t._query),Y9(n,t._query).then((a=>new Ma(e,i,t,a)))}function FT(t,e,n){t=Rn(t,xt);const i=Rn(t.firestore,Bi),a=wC(t.converter,e),l=zf(i);return Ff(i,[hC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ss.none())])}function mL(t,e,n,...i){t=Rn(t,xt);const a=Rn(t.firestore,Bi),l=zf(a);let u;return u=typeof(e=Kt(e))=="string"||e instanceof sv?rL(l,"updateDoc",t._key,e,n,i):iL(l,"updateDoc",t._key,e),Ff(a,[u.toMutation(t._key,ss.exists(!0))])}function pL(t){return Ff(Rn(t.firestore,Bi),[new Oy(t._key,ss.none())])}function TC(t,e){const n=Rn(t.firestore,Bi),i=nl(t),a=wC(t.converter,e),l=zf(t.firestore);return Ff(n,[hC(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,ss.exists(!1))]).then((()=>i))}function EC(t,...e){t=Kt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||UT(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(UT(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,u,d;if(t instanceof xt)u=Rn(t.firestore,Bi),d=Nf(t._key.path),l={next:p=>{e[i]&&e[i](SC(u,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Rn(t,qi);u=Rn(p.firestore,Bi),d=p._query;const v=new ov(u);l={next:b=>{e[i]&&e[i](new Ma(u,v,p,b))},error:e[i+1],complete:e[i+2]},yC(t._query)}const m=Lf(u);return $9(m,d,a,l)}function Ff(t,e){const n=Lf(t);return Q9(n,e)}function SC(t,e,n){const i=n.docs.get(e._key),a=new ov(t);return new ja(t,a,e._key,i,new Dc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){$V(dl),Qo(new Oa("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),d=new Bi(new QV(i.getProvider("auth-internal")),new JV(u,i.getProvider("app-check-internal")),gO(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Mr(PT,LT,e),Mr(PT,LT,"esm2020")})();const gL={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},AC=uA(gL),Cg=FV(AC),yL=new Ri,Di=Z9(AC),CC=k.createContext(void 0);function vL({children:t}){const[e,n]=k.useState(null),[i,a]=k.useState(!0);k.useEffect(()=>{const d=k6(Cg,m=>{n(m),a(!1)});return()=>d()},[]);const l=async()=>{try{await W6(Cg,yL)}catch(d){console.error("Error signing in with Google",d)}},u=async()=>{try{await I6(Cg)}catch(d){console.error("Error signing out",d)}};return g.jsx(CC.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:u},children:!i&&t})}function Ha(){const t=k.useContext(CC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Hc=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:""},{name:"    "},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "},{name:"-"},{name:"  "},{name:""},{name:""},{name:"  "},{name:"   "},{name:" "}]},{name:"",topics:[{name:""}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"text-violet-500",chapters:[{name:"",topics:[{name:" "},{name:"  "},{name:"   "},{name:"   "},{name:""},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:" "},{name:" "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:" "},{name:" "},{name:""},{name:"   "}]},{name:"   ",topics:[{name:"- "},{name:" "},{name:" "},{name:" "}]},{name:" ",topics:[{name:" "},{name:" "},{name:"    "},{name:""}]},{name:" ",topics:[{name:""},{name:"   "},{name:"   "},{name:" "}]},{name:" ",topics:[{name:" "},{name:""},{name:""},{name:""}]},{name:"  ",topics:[{name:"  "},{name:"- "},{name:" "},{name:"- "},{name:"-"}]},{name:" ",topics:[{name:"   "},{name:" "},{name:""},{name:"   "},{name:"   "}]},{name:"  ",topics:[{name:" "},{name:"- "},{name:""},{name:" "},{name:""}]}]},{name:"  ",icon:"Beaker",color:"text-teal-500",chapters:[{name:"  ",topics:[{name:"  "},{name:"  "},{name:"   "},{name:" "},{name:" "}]},{name:" ",topics:[{name:"  (  )"},{name:" "},{name:",    "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:" "},{name:""}]},{name:"  ",topics:[{name:"  (s, p, d, f )"},{name:"  ( ,  )"},{name:" "},{name:" "},{name:" (Hybridization)"},{name:"VSEPR    "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"- "},{name:"   Kc, Kp"},{name:"- "},{name:"pH   "},{name:"    "}]},{name:" ",topics:[{name:"   "},{name:"  (, )"},{name:"  "},{name:"   "}]}]},{name:"  ",icon:"Beaker",color:"text-teal-500",chapters:[{name:" ",topics:[{name:"  (, )"},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"    "},{name:"    (BOD, COD)"}]},{name:" ",topics:[{name:"     "},{name:""},{name:" (IUPAC)"},{name:" (, , )"},{name:"   "},{name:" "},{name:"  "},{name:"  "},{name:"    "},{name:""},{name:"  "}]},{name:" ",topics:[{name:"    "},{name:"  (, )"},{name:"- "},{name:"- "},{name:""},{name:"- "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"  "},{name:"    "},{name:"   "},{name:"pH "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:"   "},{name:"   "},{name:"   "}]}]},{name:"   ",icon:"Calculator",color:"text-blue-500",chapters:[{name:"  ",topics:[{name:" "},{name:" ,   "},{name:"   "},{name:" "},{name:" "}]},{name:"",topics:[{name:" "},{name:"   "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:"   "},{name:"  "},{name:"   "}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "}]},{name:"  ",topics:[{name:"    "},{name:""},{name:""},{name:"   "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:""}]},{name:"   ",topics:[{name:"  -"},{name:"-   "},{name:" "},{name:" "}]},{name:"",topics:[{name:"  "},{name:""},{name:"  "},{name:" "},{name:"  "}]},{name:"",topics:[{name:" "},{name:" "},{name:" "},{name:" "},{name:" "}]}]},{name:"   ",icon:"Calculator",color:"text-blue-500",chapters:[{name:"   ",topics:[{name:"  "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"   ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"  "},{name:""},{name:"  "}]},{name:"",topics:[{name:" (Parabola)"},{name:" (Ellipse)"},{name:" (Hyperbola)"},{name:" "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:"  "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:"    "}]},{name:"",topics:[{name:" "},{name:""},{name:" "},{name:" "}]},{name:"   ",topics:[{name:", , "},{name:"   "},{name:" "},{name:"   "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"text-green-500",chapters:[{name:"   ",topics:[{name:"    "},{name:"  "},{name:"  "},{name:""},{name:""},{name:"DNA  RNA  "},{name:"DNA "},{name:"  "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:""},{name:"   "},{name:" "}]},{name:"  ",topics:[{name:" (Riccia)"},{name:" (Pteris)"}]},{name:"  ",topics:[{name:" (Cycas)"},{name:" (Poaceae) "},{name:" (Malvaceae) "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "},{name:"   /"}]},{name:" ",topics:[{name:"  "},{name:""},{name:" (   )"},{name:"C3  C4 "},{name:" (  )"},{name:"   "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:"  "},{name:" DNA "},{name:" "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"text-green-500",chapters:[{name:"   ",topics:[{name:" "},{name:"-  (Major Phyla)"},{name:"   "}]},{name:" ",topics:[{name:" (, , )"},{name:" (, ,  )"},{name:"  (,  , )"}]},{name:"  ",topics:[{name:"   "},{name:"   (, , )"},{name:"   "},{name:""}]},{name:"  ",topics:[{name:"   "},{name:" "},{name:"   "},{name:" "},{name:"  "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:"  "},{name:"   "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:" "},{name:""}]}]},{name:"   ",icon:"Cpu",color:"text-indigo-500",chapters:[{name:"  -    ",topics:[{name:" "},{name:" "},{name:""},{name:""},{name:" "},{name:""},{name:""},{name:" "},{name:""}]},{name:"  -  ",topics:[{name:"    "},{name:""},{name:"  ( )"},{name:"  (Bluetooth, WiFi, WiMax)"},{name:" "},{name:"   "},{name:" "}]},{name:"  -     ",topics:[{name:"  "},{name:"  "},{name:" (BCD, ASCII)"},{name:" "},{name:"  (  )"},{name:"  "},{name:" (  )"},{name:"  "}]},{name:"  -   ",topics:[{name:" "},{name:"HTML  "},{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"  -   (C)",topics:[{name:"  "},{name:"  "},{name:"   "},{name:"  "},{name:"  (if-else)"},{name:" (for, while)"},{name:""},{name:""}]}]}]}],Ng={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0},hd="study-tracker-data",HT=()=>{const t=Hc[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},NC=k.createContext(void 0);function bL({children:t}){const{user:e}=Ha(),[n,i]=k.useState(()=>{try{const E=localStorage.getItem(hd);if(E){const C=JSON.parse(E);if(C.userProfile)return C.userProfile}}catch(E){console.error("Failed to load user profile:",E)}return Ng}),[a,l]=k.useState(()=>{try{const E=localStorage.getItem(hd);if(E){const C=JSON.parse(E);if(C.subjects&&C.subjects.length>0)return C.subjects.map(j=>({...j,chapters:j.chapters.map(R=>({...R,topics:R.topics||[]}))}))}}catch(E){console.error("Failed to load subjects, falling back to default:",E)}return HT()});k.useEffect(()=>{if(e){const E=nl(Di,"users",e.uid),C=EC(E,j=>{if(j.exists()){const R=j.data();R.userProfile&&i(R.userProfile),R.subjects&&l(R.subjects)}else{const R={userProfile:Ng,subjects:a.length>0?a:HT()};try{const V=localStorage.getItem(hd);if(V){const D=JSON.parse(V);D.userProfile&&(R.userProfile=D.userProfile),D.subjects&&(R.subjects=D.subjects.map(we=>({...we,chapters:we.chapters.map(Pe=>({...Pe,topics:Pe.topics||[]}))})))}}catch(V){console.error("Error reading local storage for migration:",V)}FT(E,R).catch(V=>console.error("Migration failed",V))}},j=>{console.error("Firestore sync error:",j)});return()=>C()}},[e]),k.useEffect(()=>{if(a.length>0){const E=a.find(C=>C.name==="  ");if(E){let C=!1;const j=Hc.find(R=>R.subjects.some(V=>V.name==="  "))?.subjects.find(R=>R.name==="  ");if(j){const R=E.chapters.map(V=>{const D=j.chapters.find(we=>we.name===V.name);return D&&V.topics.length===0&&D.topics.length>0?(C=!0,{...V,topics:D.topics.map(we=>({id:crypto.randomUUID(),name:we.name,isCompleted:!1,completedAt:null}))}):V});if(C){console.log("Migrating Bangla 1st Paper syllabus...");const V=a.map(D=>D.id===E.id?{...D,chapters:R}:D);u(n,V)}}}}},[a.length]);const u=async(E,C)=>{if(i(E),l(C),e)try{await FT(nl(Di,"users",e.uid),{userProfile:E,subjects:C})}catch(j){console.error("Failed to save to cloud:",j)}else localStorage.setItem(hd,JSON.stringify({userProfile:E,subjects:C}))},d=E=>{u({...n,...E},a)},m=E=>{const C=crypto.randomUUID(),j={...E,id:C,chapters:[]};u(n,[...a,j])},p=(E,C)=>{const j=a.map(R=>R.id===E?{...R,...C}:R);u(n,j)},v=E=>{u(n,a.filter(C=>C.id!==E))},b=(E,C)=>{const j=a.map(R=>R.id===E?{...R,chapters:[...R.chapters,{id:crypto.randomUUID(),name:C,isCompleted:!1,topics:[]}]}:R);u(n,j)},w=(E,C,j)=>{const R=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(D=>D.id===C?{...D,name:j}:D)}:V);u(n,R)},A=(E,C)=>{const j=a.map(R=>R.id===E?{...R,chapters:R.chapters.map(V=>V.id===C?{...V,isCompleted:!V.isCompleted,completedAt:V.isCompleted?null:new Date().toISOString()}:V)}:R);u(n,j)},M=(E,C)=>{const j=a.map(R=>R.id===E?{...R,chapters:R.chapters.filter(V=>V.id!==C)}:R);u(n,j)},L=(E,C,j)=>{const R=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(D=>D.id===C?{...D,topics:[...D.topics,{id:crypto.randomUUID(),name:j,isCompleted:!1,completedAt:null}]}:D)}:V);u(n,R)},P=(E,C,j,R)=>{const V=a.map(D=>D.id===E?{...D,chapters:D.chapters.map(we=>we.id===C?{...we,topics:we.topics.map(Pe=>Pe.id===j?{...Pe,name:R}:Pe)}:we)}:D);u(n,V)},B=(E,C,j)=>{const R=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(D=>{if(D.id===C){const we=D.topics.map(Q=>Q.id===j?{...Q,isCompleted:!Q.isCompleted,completedAt:Q.isCompleted?null:new Date().toISOString()}:Q),Pe=we.length>0&&we.every(Q=>Q.isCompleted);return{...D,topics:we,isCompleted:Pe,completedAt:Pe?new Date().toISOString():null}}return D})}:V);u(n,R)},F=(E,C,j)=>{const R=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(D=>D.id===C?{...D,topics:D.topics.filter(we=>we.id!==j)}:D)}:V);u(n,R)},K=()=>{const E={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},C=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),j=URL.createObjectURL(C),R=document.createElement("a");R.href=j,R.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(j)},J=E=>{try{const C=JSON.parse(E);return C.userProfile&&Array.isArray(C.subjects)?(u(C.userProfile,C.subjects),!0):(alert("Invalid backup file format."),!1)}catch(C){return console.error("Import error:",C),alert("Failed to parse backup file."),!1}},ee=E=>{const C=E.map(j=>({id:crypto.randomUUID(),name:j.name,color:j.color,icon:j.icon,chapters:j.chapters.map(V=>({id:crypto.randomUUID(),name:V.name,isCompleted:!1,completedAt:null,topics:V.topics.map(we=>({id:crypto.randomUUID(),name:we.name,isCompleted:!1,completedAt:null}))}))}));u(n,[...a,...C])},re=()=>{confirm("Are you sure you want to reset all data?")&&u(Ng,[])},I=async(E,C,j)=>{const R=new Date,V=R.toISOString().split("T")[0],D=(n.totalStudyTime||0)+E;let we=n.currentStreak||0,Pe=n.lastStudyDate,Q=n.todayStudyTime||0;if(Pe!==V){const Ce=new Date;Ce.setDate(Ce.getDate()-1);const Le=Ce.toISOString().split("T")[0];Pe===Le?we+=1:we=1,Pe=V,Q=E}else Q+=E;let oe=n.weeklyStudyTime||0,fe=n.monthlyStudyTime||0;const Ae=n.lastStudyDate?new Date(n.lastStudyDate):new Date(0),Ve=Ce=>{const Le=new Date(Ce),Yt=Le.getDay(),Rs=Le.getDate()-Yt+(Yt===0?-6:1);return new Date(Le.setDate(Rs)).toDateString()};Ve(Ae)!==Ve(R)&&(oe=0),(Ae.getMonth()!==R.getMonth()||Ae.getFullYear()!==R.getFullYear())&&(fe=0),oe+=E,fe+=E;const U=[...n.earnedBadges||[]],te=[],ue=R.getHours(),de=ue>=22||ue<4,Te=U.some(Ce=>Ce.type==="night_owl");de&&!Te&&te.push({type:"night_owl",earnedAt:R.toISOString()});const Re=U.some(Ce=>Ce.type==="streak_master");we>=3&&!Re&&te.push({type:"streak_master",earnedAt:R.toISOString()});const le={...n,totalStudyTime:D,todayStudyTime:Q,currentStreak:we,lastStudyDate:Pe,earnedBadges:[...U,...te],dailyGoal:n.dailyGoal||7200,weeklyStudyTime:oe,monthlyStudyTime:fe};if(d(le),e)try{await TC(lf(Di,"study_sessions"),{userId:e.uid,userName:e.displayName||n.name,startTime:new Date(Date.now()-E*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:E,subjectId:C||null,sessionGoal:j||null,createdAt:new Date().toISOString()})}catch(Ce){console.error("Error saving study session:",Ce)}};return g.jsx(NC.Provider,{value:{userProfile:n,subjects:a,updateProfile:d,addSubject:m,editSubject:p,deleteSubject:v,addChapter:b,editChapter:w,toggleChapter:A,deleteChapter:M,addTopic:L,editTopic:P,toggleTopic:B,deleteTopic:F,resetData:re,exportData:K,importData:J,importSyllabusData:ee,saveStudySession:I},children:t})}function mn(){const t=k.useContext(NC);if(t===void 0)throw new Error("useStudy must be used within a StudyProvider");return t}const RC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const xL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const _L=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const qT=t=>{const e=_L(t);return e.charAt(0).toUpperCase()+e.slice(1)};var wL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TL=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const EL=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...d},m)=>k.createElement("svg",{ref:m,...wL,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:RC("lucide",a),...!l&&!TL(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,v])=>k.createElement(p,v)),...Array.isArray(l)?l:[l]]));const ve=(t,e)=>{const n=k.forwardRef(({className:i,...a},l)=>k.createElement(EL,{ref:l,iconNode:e,className:RC(`lucide-${xL(qT(t))}`,`lucide-${t}`,i),...a}));return n.displayName=qT(t),n};const SL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],AL=ve("arrow-left",SL);const CL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mv=ve("arrow-right",CL);const NL=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],kC=ve("award",NL);const RL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],kL=ve("bell-off",RL);const IL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],DL=ve("bell",IL);const jL=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],IC=ve("book-marked",jL);const ML=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],is=ve("book-open",ML);const VL=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],OL=ve("book",VL);const PL=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],LL=ve("bug",PL);const UL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zL=ve("chart-column",UL);const BL=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],FL=ve("chart-pie",BL);const HL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DC=ve("check",HL);const qL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],GL=ve("chevron-down",qL);const $L=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],KL=ve("chevron-left",$L);const YL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],QL=ve("chevron-right",YL);const XL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bl=ve("circle-check",XL);const WL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],A0=ve("circle-user",WL);const JL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZL=ve("circle",JL);const eU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tU=ve("clock",eU);const nU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jC=ve("download",nU);const sU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],MC=ve("flame",sU);const iU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],rU=ve("frown",iU);const aU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],oU=ve("globe",aU);const lU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],VC=ve("graduation-cap",lU);const cU=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],uU=ve("heart",cU);const hU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],dU=ve("laugh",hU);const fU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],GT=ve("layout-dashboard",fU);const mU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],OC=ve("log-out",mU);const pU=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],uf=ve("message-circle",pU);const gU=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],yU=ve("monitor",gU);const vU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],hf=ve("moon",vU);const bU=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],xU=ve("pause",bU);const _U=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],PC=ve("pen-tool",_U);const wU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],TU=ve("pen",wU);const EU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Hf=ve("pencil",EU);const SU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],LC=ve("play",SU);const AU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],au=ve("plus",AU);const CU=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],NU=ve("quote",CU);const RU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kU=ve("refresh-cw",RU);const IU=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],DU=ve("reply",IU);const jU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],UC=ve("rotate-ccw",jU);const MU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],df=ve("save",MU);const VU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],OU=ve("send",VU);const PU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rg=ve("settings",PU);const LU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],UU=ve("shield",LU);const zU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],BU=ve("smile",zU);const FU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$T=ve("square-pen",FU);const HU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],C0=ve("sun",HU);const qU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],GU=ve("target",qU);const $U=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],KU=ve("thumbs-up",$U);const YU=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],KT=ve("timer",YU);const QU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Eu=ve("trash-2",QU);const XU=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],N0=ve("trending-up",XU);const WU=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],il=ve("trophy",WU);const JU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ZU=ve("upload",JU);const e8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],t8=ve("user",e8);const n8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],zC=ve("volume-2",n8);const s8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],BC=ve("volume-x",s8);const i8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gi=ve("x",i8),r8=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function FC({subject:t,onClose:e}){const{editSubject:n}=mn(),[i,a]=k.useState(t.name),[l,u]=k.useState(t.color);k.useEffect(()=>{a(t.name),u(t.color)},[t]);const d=m=>{m.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l}),e())};return g.jsx(rs,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),g.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(is,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:r8.map(m=>g.jsx("button",{type:"button",onClick:()=>u(m),className:`w-8 h-8 rounded-full transition-transform ${m} ${l===m?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-110 opacity-70 hover:opacity-100"}`},m))})]}),g.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:g.jsx(is,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const a8=be(nn);function o8({subject:t,index:e=0}){const[n,i]=k.useState(!1),a=t.chapters.length,l=t.chapters.filter(m=>m.isCompleted).length;let u=0;t.chapters.forEach(m=>{m.topics&&m.topics.length>0?u+=m.topics.filter(p=>p.isCompleted).length/m.topics.length*100:u+=m.isCompleted?100:0});const d=a===0?0:Math.round(u/a);return g.jsxs(g.Fragment,{children:[g.jsxs(a8,{to:`/subject/${t.id}`,whileHover:{y:-5,transition:{duration:.2}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-3xl p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-xl hover:shadow-blue-500/10 dark:hover:shadow-blue-900/10 transition-all overflow-hidden",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${t.color.replace("bg-","from-").replace("-500","-500/10")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-bl-full pointer-events-none`}),g.jsx(be.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m=>{m.preventDefault(),m.stopPropagation(),i(!0)},className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-xl transition-colors opacity-0 group-hover:opacity-100 z-10",title:"Edit Subject",children:g.jsx(Hf,{className:"w-4 h-4"})}),g.jsxs("div",{className:"flex items-start justify-between mb-6 relative z-10",children:[g.jsx(be.div,{whileHover:{rotate:15,scale:1.1},className:`w-14 h-14 rounded-2xl ${t.color} flex items-center justify-center text-white shadow-lg shadow-blue-500/20`,children:g.jsx(is,{className:"w-7 h-7"})}),g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 backdrop-blur-sm px-3 py-1.5 rounded-xl text-xs font-bold text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-600",children:[d,"%"]})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:t.name}),g.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mb-6",children:[g.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 dark:bg-slate-700/50 px-2 py-1 rounded-lg",children:[g.jsx(is,{className:"w-3.5 h-3.5"}),g.jsx("span",{children:a})]}),l>0&&g.jsxs("div",{className:"flex items-center gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-2 py-1 rounded-lg",children:[g.jsx(bl,{className:"w-3.5 h-3.5"}),g.jsx("span",{children:l})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-xs text-slate-400 dark:text-slate-500 font-medium",children:[g.jsx("span",{children:"Progress"}),g.jsxs("span",{children:[d,"%"]})]}),g.jsx("div",{className:"h-2.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(be.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color} rounded-full`})})]}),g.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"View Details"}),g.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:g.jsx(mv,{className:"w-4 h-4"})})]})]}),n&&g.jsx(FC,{subject:t,onClose:()=>i(!1)})]})}const YT=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function l8({onClose:t}){const{addSubject:e}=mn(),[n,i]=k.useState(""),[a,l]=k.useState(YT[0]),u=d=>{d.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(OL,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),g.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>i(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:YT.map(d=>g.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),g.jsx("div",{className:"pt-2",children:g.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(df,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const c8={start_strong:{icon:bl,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:MC,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:kC,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:hf,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function u8({type:t,isLocked:e=!1,dateEarned:n}){const i=c8[t],a=i.icon,[l,u]=k.useState(!1);return g.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>u(!l),children:[g.jsx(be.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:g.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),g.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&g.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[g.jsx("p",{className:"font-semibold",children:i.label}),g.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&g.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function h8(){const{updateProfile:t}=mn(),[e,n]=k.useState(""),[i,a]=k.useState(""),l=u=>{if(u.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:g.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[g.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),g.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(A0,{className:"w-4 h-4"}),"Your Name ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{type:"text",value:e,onChange:u=>n(u.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(VC,{className:"w-4 h-4"}),"Class / Grade"]}),g.jsx("input",{type:"text",value:i,onChange:u=>a(u.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function d8(){const{userProfile:t,updateProfile:e}=mn(),[n,i]=k.useState(!1),[a,l]=k.useState(t.dailyGoal?t.dailyGoal/3600:2),u=t.dailyGoal||7200,d=t.todayStudyTime||0,m=Math.min(100,Math.round(d/u*100)),p=()=>{e({dailyGoal:a*3600}),i(!1)};return g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(GU,{className:"w-4 h-4"}),"Daily Goal"]}),n?g.jsxs("button",{onClick:p,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",g.jsx(DC,{className:"w-3 h-3"})]}):g.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",g.jsx(TU,{className:"w-3 h-3"})]})]}),g.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[g.jsxs("div",{className:"space-y-1",children:[n?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:v=>l(parseFloat(v.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),g.jsx("span",{className:"text-slate-500",children:"hrs"})]}):g.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(d/3600),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(d%3600/60),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),g.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(u/3600),"h goal"]})]}),g.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx(be.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*m/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${m>=100?"text-green-500":"text-blue-500"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[m,"%"]})]})]}),m>=100&&g.jsxs(be.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[g.jsx(il,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),g.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function f8(){const{subjects:t}=mn();let e=null,n=null,i=null;for(const a of t)if(a.chapters.some(u=>!u.isCompleted&&(!u.topics.length||u.topics.some(d=>!d.isCompleted)))){e=a;for(const u of a.chapters)if(!u.isCompleted)if(u.topics.length>0){const d=u.topics.find(m=>!m.isCompleted);if(d){n=u,i=d;break}}else{n=u;break}break}return!e||!n?g.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex flex-col items-center justify-center text-center h-full min-h-[160px]",children:[g.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-3 text-2xl",children:""}),g.jsx("h3",{className:"font-bold text-xl mb-1",children:"All Caught Up!"}),g.jsx("p",{className:"text-emerald-100 text-sm",children:"You've completed everything in your syllabus."}),g.jsx("div",{className:"mt-4 px-4 py-2 bg-white/20 rounded-lg text-sm font-medium backdrop-blur-sm",children:"Time to review or rest!"})]}):g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden h-full flex flex-col justify-between group",children:[g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(LC,{className:"w-4 h-4 text-blue-500 fill-current"}),"Continue Learning"]}),g.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full text-white ${e.color}`,children:e.name})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white line-clamp-1 mb-1",children:i?i.name:n.name}),g.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[g.jsx(is,{className:"w-3.5 h-3.5"}),n.name]})]})]}),g.jsx("div",{className:"relative z-10",children:g.jsxs(nn,{to:`/subject/${e.id}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-xl font-medium transition-all group-hover:translate-x-1",children:["Resume Study ",g.jsx(mv,{className:"w-4 h-4"})]})}),g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 ${e.color.replace("text-","bg-")}`})]})}const dd=[{text:"The expert in anything was once a beginner.",author:"Helen Hayes"},{text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{text:"There is no substitute for hard work.",author:"Thomas Edison"},{text:"The future depends on what you do today.",author:"Mahatma Gandhi"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Quality is not an act, it is a habit.",author:"Aristotle"},{text:"Your limitationit's only your imagination.",author:"Unknown"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dream it. Wish it. Do it.",author:"Unknown"},{text:"Success doesn't just find you. You have to go out and get it.",author:"Unknown"},{text:"The harder you work for something, the greater you'll feel when you achieve it.",author:"Unknown"},{text:"Dream bigger. Do bigger.",author:"Unknown"},{text:"Don't stop when you're tired. Stop when you're done.",author:"Unknown"},{text:"Wake up with determination. Go to bed with satisfaction.",author:"Unknown"},{text:"Do something today that your future self will thank you for.",author:"Unknown"},{text:"Little things make big days.",author:"Unknown"},{text:"It's going to be hard, but hard does not mean impossible.",author:"Unknown"}];function m8(){const[t,e]=k.useState(()=>Math.floor(Math.random()*dd.length)),n=()=>{e(i=>(i+1)%dd.length)};return g.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:g.jsx(NU,{className:"w-5 h-5 text-white"})}),g.jsx("button",{onClick:n,className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Next Quote",children:g.jsx(kU,{className:"w-4 h-4"})})]}),g.jsx(rs,{mode:"wait",children:g.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[g.jsxs("p",{className:"text-lg md:text-xl font-medium mb-3 leading-relaxed",children:['"',dd[t].text,'"']}),g.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",dd[t].author]})]},t)}),g.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}const QT={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},kg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function p8(){const{userProfile:t,subjects:e}=mn(),[n,i]=k.useState(!1),a=t.name==="Student",l=e.reduce((p,v)=>p+v.chapters.length,0),u=e.reduce((p,v)=>p+v.chapters.filter(b=>b.isCompleted).length,0);let d=0;e.forEach(p=>{p.chapters.forEach(v=>{v.topics&&v.topics.length>0?d+=v.topics.filter(b=>b.isCompleted).length/v.topics.length*100:d+=v.isCompleted?100:0})});const m=l===0?0:Math.round(d/l);return g.jsxs(be.div,{className:"space-y-6 md:space-y-8",variants:QT,initial:"hidden",animate:"show",exit:"exit",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors tracking-tight",children:["Hello, ",g.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-500 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),g.jsx("span",{className:"inline-block animate-wave ml-2",children:""})]}),g.jsxs("p",{className:"text-base text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[g.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-md mr-2",children:t.grade}),"Ready to crush your goals today?"]})]}),g.jsxs(be.button,{id:"add-subject-btn",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(37, 99, 235, 0.4)"},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3.5 rounded-2xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-blue-500/30 transition-all text-sm md:text-base w-full md:w-auto",children:[g.jsx(au,{className:"w-5 h-5"}),"New Subject"]})]}),g.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory -mx-4 px-4 pb-4 gap-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:mx-0 md:px-0 md:pb-0 md:overflow-visible no-scrollbar",children:[g.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto lg:col-span-1 h-full",children:g.jsx(f8,{})}),g.jsxs("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4 lg:gap-6 h-full",children:[g.jsx(d8,{}),g.jsx(m8,{})]}),g.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-1 gap-4 lg:gap-6 h-full",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:g.jsx(FL,{className:"w-32 h-32 text-blue-500"})}),g.jsxs("div",{className:"flex items-center justify-between relative z-10 h-full",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-2 text-sm",children:[g.jsx(il,{className:"w-4 h-4 text-amber-500"})," Syllabus Progress"]}),g.jsxs("div",{className:"mt-4 space-y-3",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[g.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:u}),g.jsxs("span",{className:"text-sm text-slate-400 dark:text-slate-500 mb-1",children:["/ ",l," Chapters"]})]}),g.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(be.div,{initial:{width:0},animate:{width:`${u/(l||1)*100}%`},className:"h-full bg-blue-500 rounded-full"})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[g.jsxs("span",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[m,"%"]}),g.jsx("span",{className:"text-sm text-slate-400 dark:text-slate-500 mb-1",children:"Total Completion"})]}),g.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(be.div,{initial:{width:0},animate:{width:`${m}%`},className:"h-full bg-emerald-500 rounded-full"})})]})]})]}),g.jsxs("div",{className:"relative w-28 h-28 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[g.jsx("circle",{className:"text-slate-100 dark:text-slate-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50"}),g.jsx(be.circle,{className:"text-blue-600 dark:text-blue-500 drop-shadow-lg",strokeWidth:"8",strokeDasharray:251.2,strokeDashoffset:251.2-251.2*m/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*m/100},transition:{duration:1.5,ease:"easeOut"}})]}),g.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center flex-col",children:g.jsxs("span",{className:"text-xl font-bold text-slate-800 dark:text-white",children:[m,"%"]})})]})]})]})})]}),t.earnedBadges&&t.earnedBadges.length>0&&g.jsxs(be.div,{variants:kg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx(il,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),g.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,v)=>g.jsx(u8,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${v}`))})]}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",g.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?g.jsxs(be.div,{variants:QT,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((p,v)=>g.jsx(be.div,{variants:kg,children:g.jsx(o8,{subject:p,index:v})},p.id)),g.jsxs(be.button,{variants:kg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:g.jsx(au,{className:"w-6 h-6"})}),g.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):g.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(IC,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),g.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),g.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&g.jsx(l8,{onClose:()=>i(!1)}),a&&g.jsx(h8,{})]})}function g8({subjectId:t,onClose:e}){const{addChapter:n}=mn(),[i,a]=k.useState(""),l=u=>{u.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(IC,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),g.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),g.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:u=>a(u.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{className:"flex gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),g.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(au,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const y8={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function qf({children:t,className:e=""}){return g.jsx(be.div,{variants:y8,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const HC=k.createContext(void 0);function v8({children:t}){const[e,n]=k.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=k.useRef(null);k.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=p=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const v=i.current,b=v.createOscillator(),w=v.createGain();b.connect(w),w.connect(v.destination);const A=v.currentTime;switch(p){case"pop":b.type="sine",b.frequency.setValueAtTime(800,A),b.frequency.exponentialRampToValueAtTime(1200,A+.1),w.gain.setValueAtTime(.1,A),w.gain.exponentialRampToValueAtTime(.01,A+.1),b.start(A),b.stop(A+.1);break;case"success":u(v,523.25,A,.1,"sine"),u(v,659.25,A+.1,.1,"sine"),u(v,783.99,A+.2,.2,"sine");break;case"complete":b.type="triangle",b.frequency.setValueAtTime(440,A),b.frequency.linearRampToValueAtTime(880,A+.5),w.gain.setValueAtTime(.1,A),w.gain.linearRampToValueAtTime(.3,A+.2),w.gain.linearRampToValueAtTime(0,A+1.5),b.start(A),b.stop(A+1.5);break;case"click":b.type="square",b.frequency.setValueAtTime(200,A),w.gain.setValueAtTime(.05,A),w.gain.exponentialRampToValueAtTime(.01,A+.05),b.start(A),b.stop(A+.05);break;case"error":b.type="sawtooth",b.frequency.setValueAtTime(150,A),b.frequency.linearRampToValueAtTime(100,A+.2),w.gain.setValueAtTime(.1,A),w.gain.linearRampToValueAtTime(0,A+.3),b.start(A),b.stop(A+.3);break}},u=(p,v,b,w,A="sine")=>{const M=p.createOscillator(),L=p.createGain();M.connect(L),L.connect(p.destination),M.type=A,M.frequency.setValueAtTime(v,b),L.gain.setValueAtTime(.1,b),L.gain.exponentialRampToValueAtTime(.01,b+w),M.start(b),M.stop(b+w)},d=p=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(p)},m=()=>{n(p=>!p),e&&a()};return g.jsx(HC.Provider,{value:{isMuted:e,toggleMute:m,playSound:d},children:t})}function pv(){const t=k.useContext(HC);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function b8({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=mn(),[u,d]=k.useState(i);k.useEffect(()=>{d(i)},[i]);const m=p=>{p.preventDefault(),u.trim()&&(l(t,e,n,u.trim()),a())};return g.jsx(rs,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),g.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(PC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:u,onChange:p=>d(p.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!u.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function x8({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=mn(),{playSound:l}=pv(),[u,d]=k.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsxs(be.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[g.jsx(be.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:g.jsx(bl,{className:"w-3 h-3"})}),g.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),g.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>d(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:g.jsx(Hf,{className:"w-3.5 h-3.5"})}),g.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:g.jsx(Eu,{className:"w-3.5 h-3.5"})})]})]}),u&&g.jsx(b8,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>d(!1)})]})}function _8({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=mn(),[l,u]=k.useState(n);k.useEffect(()=>{u(n)},[n]);const d=m=>{m.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return g.jsx(rs,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),g.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(PC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:l,onChange:m=>u(m.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function w8({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=mn(),[u,d]=k.useState(!1),[m,p]=k.useState(!1),v=b=>{b.preventDefault();const w=b.target.elements.namedItem("topicName");w.value.trim()&&(l(t,e.id,w.value.trim()),w.value="",d(!1))};return g.jsxs("div",{className:"group transition-colors",children:[g.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[g.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:g.jsx(be.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:g.jsx(GL,{className:"w-5 h-5"})})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),g.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(b=>b.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&g.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[g.jsx(bl,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&g.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:g.jsx(be.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(b=>b.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),g.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[g.jsx(be.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),d(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:g.jsx(au,{className:"w-4 h-4"})}),g.jsx(be.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),p(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:g.jsx(Hf,{className:"w-4 h-4"})}),g.jsx(be.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:g.jsx(Eu,{className:"w-4 h-4"})})]})]}),g.jsx(rs,{children:n&&g.jsx(be.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:g.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(b=>g.jsx(x8,{subjectId:t,chapterId:e.id,topic:b},b.id)):g.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),u&&g.jsxs(be.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:v,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[g.jsx(ZL,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),g.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>d(!1),200)}),g.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),m&&g.jsx(_8,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>p(!1)})]})}function T8(){const{id:t}=yk(),e=mf(),{subjects:n,deleteSubject:i}=mn(),[a,l]=k.useState(!1),[u,d]=k.useState(!1),[m,p]=k.useState({}),v=n.find(B=>B.id===t);if(!v)return g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:g.jsx(is,{className:"w-8 h-8 text-slate-300"})}),g.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),g.jsx(nn,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const b=()=>{confirm(`Are you sure you want to delete ${v.name}? ALL progress will be lost.`)&&(i(v.id),e("/"))},w=B=>{p(F=>({...F,[B]:!F[B]}))},A=v.chapters.length,M=v.chapters.filter(B=>B.isCompleted).length;let L=0;v.chapters.forEach(B=>{B.topics&&B.topics.length>0?L+=B.topics.filter(F=>F.isCompleted).length/B.topics.length*100:L+=B.isCompleted?100:0});const P=A===0?0:Math.round(L/A);return g.jsxs(qf,{className:"max-w-3xl mx-auto pb-12",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs(nn,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[g.jsx(AL,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),g.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${v.color}`,children:[g.jsx(is,{className:"w-3 h-3"}),v.name]}),g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:v.name}),g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[M," of ",A," chapters completed"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>d(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:g.jsx(Hf,{className:"w-5 h-5"})}),g.jsx("button",{onClick:b,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:g.jsx(Eu,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"flex justify-between items-end mb-2",children:[g.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[P,"%"]}),g.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),g.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(be.div,{initial:{width:0},animate:{width:`${P}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),g.jsxs(be.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[g.jsx(au,{className:"w-4 h-4"}),"Add Chapter"]})]}),g.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:v.chapters.length>0?v.chapters.map(B=>g.jsx(w8,{subjectId:v.id,chapter:B,isExpanded:!!m[B.id],onToggle:()=>w(B.id)},B.id)):g.jsxs("div",{className:"p-12 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:g.jsx(is,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),g.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&g.jsx(g8,{subjectId:v.id,onClose:()=>l(!1)}),u&&g.jsx(FC,{subject:v,onClose:()=>d(!1)})]})}const qC=k.createContext(void 0);function E8({children:t}){const[e,n]=k.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");k.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return g.jsx(qC.Provider,{value:{theme:e,toggleTheme:i},children:t})}function GC(){const t=k.useContext(qC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function S8({onClose:t}){const[e,n]=k.useState(Hc[0].id),[i,a]=k.useState(new Set),l=Hc.find(m=>m.id===e),u=m=>{const p=new Set(i);p.has(m)?p.delete(m):p.add(m),a(p)},d=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(p=>p.name));a(m)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(is,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[g.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),g.jsx("div",{className:"space-y-2",children:Hc.map(m=>g.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),g.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),g.jsx("button",{onClick:d,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),g.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>g.jsxs("div",{onClick:()=>u(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[g.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(m.name)&&g.jsx(DC,{className:"w-3.5 h-3.5 text-white"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`font-semibold ${i.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),g.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},m.name))})]})]}),g.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[g.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),g.jsx(A8,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function A8({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=mn(),l=()=>{if(t===0||!e)return;const u=e.subjects.filter(d=>n.has(d.name));a(u),i()};return g.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[g.jsx(jC,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function C8(){const{user:t,logout:e}=Ha(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:u}=mn(),{isMuted:d,toggleMute:m}=pv(),{theme:p,toggleTheme:v}=GC(),b=k.useRef(null),w=k.useRef(null),[A,M]=k.useState(!1),[L,P]=k.useState(!1),[B,F]=k.useState("Notification"in window&&Notification.permission==="granted"),K=()=>{const I=b.current?.value.trim()||"",E=w.current?.value.trim()||"";if(!I){alert("Please enter your name");return}i({name:I,grade:E}),P(!1),alert(` Profile updated successfully!

You can update your profile anytime.`)},J=()=>{const I=document.createElement("input");I.type="file",I.accept=".json",I.onchange=E=>{const C=E.target.files?.[0];if(C){const j=new FileReader;j.onload=R=>{const V=R.target?.result;u(V)&&alert("Data imported successfully!")},j.readAsText(C)}},I.click()},ee=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},re=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")F(!B);else if(Notification.permission!=="denied"){const I=await Notification.requestPermission();F(I==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return g.jsxs(qf,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(A0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),g.jsxs(be.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(A0,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),g.jsx("input",{ref:b,type:"text",defaultValue:n?.name||"",disabled:!L,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${L?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),g.jsx("input",{ref:w,type:"text",defaultValue:n?.grade||"",disabled:!L,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${L?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),g.jsx("div",{className:"pt-2 flex gap-3",children:L?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>P(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),g.jsxs("button",{onClick:K,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[g.jsx(df,{className:"w-4 h-4"}),"Save Changes"]})]}):g.jsxs("button",{onClick:()=>P(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[g.jsx($T,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),g.jsxs(be.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(yU,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${p==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:p==="dark"?g.jsx(hf,{className:"w-5 h-5"}):g.jsx(C0,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),g.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p==="dark"?"bg-blue-600":"bg-slate-200"}`,children:g.jsx("span",{className:`${p==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${d?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:d?g.jsx(BC,{className:"w-5 h-5"}):g.jsx(zC,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),g.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${d?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:g.jsx("span",{className:`${d?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${B?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:B?g.jsx(DL,{className:"w-5 h-5"}):g.jsx(kL,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),g.jsx("button",{onClick:re,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${B?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:g.jsx("span",{className:`${B?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:g.jsx(oU,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),g.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[g.jsx("option",{children:"English"}),g.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),g.jsxs(be.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(df,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>M(!0),children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:g.jsx(is,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),g.jsx("button",{className:"text-slate-400",children:g.jsx($T,{className:"w-4 h-4"})})]}),g.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[g.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(jC,{className:"w-4 h-4"}),"Export Data"]}),g.jsxs("button",{onClick:J,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(ZU,{className:"w-4 h-4"}),"Import Data"]})]}),g.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:g.jsx(Eu,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),g.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),g.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),g.jsxs(be.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(UU,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:ee,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:g.jsx(UC,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),g.jsx("a",{href:"https://github.com/shahnewajsrabon/Study-Mate/issues/new?title=Bug%3A%20&body=%23%23%20Bug%20Description",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:g.jsx(LL,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Help us improve by reporting issues"})]})]})}),g.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:g.jsx(uf,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),g.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:g.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&g.jsxs(be.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[g.jsx(OC,{className:"w-5 h-5"}),"Sign Out"]}),g.jsx(rs,{children:A&&g.jsx(S8,{onClose:()=>M(!1)})})]})}function fd({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return g.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[g.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),g.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),g.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:g.jsx(n,{className:`w-6 h-6 ${i}`})})]})}function N8(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(u=>{u.isCompleted&&n++,u.topics&&(i+=u.topics.length,u.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function R8(t){const e=new Date,i=Array.from({length:7},(l,u)=>{const d=new Date;return d.setDate(e.getDate()-(6-u)),d.toISOString().split("T")[0]}).map(l=>{let u=0;return t.forEach(d=>{d.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&u++})})}),{date:l,count:u}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function k8(t){const e=new Set;t.forEach(d=>d.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((d,m)=>new Date(m).getTime()-new Date(d).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const u=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===u){i=1;let m=new Date(d);for(let p=1;p<n.length;p++){const v=new Date(n[p]),b=Math.abs(m.getTime()-v.getTime());if(Math.round(b/(1e3*60*60*24))===1)i++,m=v;else break}}}return i}function I8(){const{subjects:t}=mn(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=N8(t),{activityData:l,maxCount:u}=R8(t),d=k8(t),m=i>0?Math.round(a/i*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return g.jsxs(qf,{className:"max-w-4xl mx-auto pb-12",children:[g.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[g.jsx(N0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),g.jsxs(be.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[g.jsx("div",{className:"sm:col-span-1",children:g.jsx(fd,{title:"Total Streak",value:`${d} days`,icon:kC,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(fd,{title:"Topics Done",value:`${a} / ${i}`,icon:is,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(fd,{title:"Chapters Done",value:`${n} / ${e}`,icon:il,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(fd,{title:"Completion",value:`${m}%`,icon:bl,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(zL,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),g.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((v,b)=>g.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[g.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:g.jsx(be.div,{initial:{height:0},animate:{height:`${v.count/u*100}%`},transition:{duration:1,delay:b*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:g.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[v.count," Topics"]})})}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"})})]},v.date))})]}),g.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(is,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),g.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(v=>{const b=v.chapters.reduce((M,L)=>M+(L.topics?.length||0),0),w=v.chapters.reduce((M,L)=>M+(L.topics?.filter(P=>P.isCompleted).length||0),0),A=b>0?Math.round(w/b*100):0;return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:v.name}),g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[A,"%"]})]}),g.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(be.div,{initial:{width:0},animate:{width:`${A}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]},v.id)}),t.length===0&&g.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function D8(){const{saveStudySession:t,subjects:e}=mn(),{user:n}=Ha(),{playSound:i,isMuted:a,toggleMute:l}=pv(),[u,d]=k.useState("stopwatch"),[m,p]=k.useState(!1),[v,b]=k.useState(0),[w,A]=k.useState(0),[M,L]=k.useState(30),[P,B]=k.useState("timer"),[F,K]=k.useState("today"),[J,ee]=k.useState(""),[re,I]=k.useState(""),[E,C]=k.useState(""),[j,R]=k.useState(!1),[V,D]=k.useState([]),[we,Pe]=k.useState(!0),Q=k.useRef(null);k.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const oe=(le,Ce)=>{Notification.permission==="granted"&&new Notification(le,{body:Ce,icon:"/vite.svg"})};k.useEffect(()=>(m?Q.current=window.setInterval(()=>{b(le=>u==="stopwatch"?le+1:le<=1?(p(!1),i("complete"),oe("Time's Up! ","Your study session is complete. Take a break!"),0):le-1)},1e3):Q.current&&clearInterval(Q.current),()=>{Q.current&&clearInterval(Q.current)}),[m,u,i]),k.useEffect(()=>{if(p(!1),R(!1),u==="stopwatch")b(0),A(0);else if(u==="pomodoro"||u==="countdown"){const le=M*60;b(le),A(le)}},[u,M]),k.useEffect(()=>{(async()=>{if(n){Pe(!0);try{const Ce=lf(Di,"users");let Le="userProfile.todayStudyTime";F==="week"?Le="userProfile.weeklyStudyTime":F==="month"?Le="userProfile.monthlyStudyTime":F==="all_time"&&(Le="userProfile.totalStudyTime");const Yt=vC(Ce,bC(Le,"desc"),xC(10)),Rs=await fL(Yt),oi=[];Rs.forEach(li=>{const Qt=li.data();if(Qt.userProfile){let os=0;F==="today"?os=Qt.userProfile.todayStudyTime||0:F==="week"?os=Qt.userProfile.weeklyStudyTime||0:F==="month"?os=Qt.userProfile.monthlyStudyTime||0:os=Qt.userProfile.totalStudyTime||0,oi.push({userId:li.id,userName:Qt.userProfile.name||"Anonymous",displayTime:os})}}),D(oi)}catch(Ce){console.error("Error fetching leaderboard:",Ce)}finally{Pe(!1)}}})()},[n,P,F]),k.useEffect(()=>(m?document.title=`${U(v)} - ${E||(u==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[m,v,u,E]);const fe=()=>{!m&&u!=="stopwatch"&&v===0&&b(w),p(!m),i("click")},Ae=()=>{p(!1),R(!1),b(u==="stopwatch"?0:w),i("click")},Ve=async()=>{if(!re){alert("Please select a subject to save session.");return}let le=0;if(u==="stopwatch"?le=v:le=w-v,le<60){alert("Session must be at least 1 minute to save.");return}await t(le,re,E),R(!0),i("success")},U=le=>{const Ce=Math.floor(le/3600),Le=Math.floor(le%3600/60),Yt=le%60;return Ce>0?`${Ce}:${Le.toString().padStart(2,"0")}:${Yt.toString().padStart(2,"0")}`:`${Le.toString().padStart(2,"0")}:${Yt.toString().padStart(2,"0")}`},te=le=>{const Ce=Math.floor(le/3600),Le=Math.floor(le%3600/60),Yt=le%60;return`${Ce.toString().padStart(2,"0")}:${Le.toString().padStart(2,"0")}:${Yt.toString().padStart(2,"0")}`},ue=u==="stopwatch"?100:Math.max(0,v/w*100),de=120,Te=2*Math.PI*de,Re=Te-ue/100*Te;return g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("header",{className:"flex items-center justify-between",children:[g.jsx("div",{children:g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),g.jsx("button",{onClick:l,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:a?g.jsx(BC,{className:"w-6 h-6"}):g.jsx(zC,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[g.jsx("button",{onClick:()=>B("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${P==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),g.jsx("button",{onClick:()=>B("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${P==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:`${P==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:E,onChange:le=>C(le.target.value),disabled:m}),g.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:re,onChange:le=>I(le.target.value),disabled:m,children:[g.jsx("option",{value:"",children:"Subject"}),e.map(le=>g.jsx("option",{value:le.id,children:le.name},le.id))]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[g.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"50%",cy:"50%",r:de,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx("circle",{cx:"50%",cy:"50%",r:de,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:Te,strokeDashoffset:u==="stopwatch"?0:Re,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${m?u==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[g.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${m?u==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:U(v)}),g.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:m?"Running":"Paused"})]})]}),g.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!m&&g.jsx("button",{onClick:Ae,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:g.jsx(UC,{className:"w-5 h-5"})}),g.jsx("button",{onClick:fe,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${m?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:m?g.jsx(xU,{className:"w-8 h-8 fill-current"}):g.jsx(LC,{className:"w-8 h-8 ml-1 fill-current"})}),!m&&(u==="stopwatch"&&v>60||u!=="stopwatch"&&v!==w)&&!j&&g.jsx("button",{onClick:Ve,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:g.jsx(df,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"mt-8 flex gap-2",children:[g.jsx("button",{onClick:()=>{d("stopwatch"),L(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),g.jsx("button",{onClick:()=>{d("pomodoro"),L(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),g.jsx("button",{onClick:()=>{d("countdown"),L(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!m&&(u==="pomodoro"||u==="countdown")&&g.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[g.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),g.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:M,onChange:le=>L(Number(le.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),g.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[M,"m"]})]})]})]}),g.jsxs("div",{className:`${P==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[g.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(il,{className:"w-6 h-6 text-yellow-500"}),g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"Search name...",value:J,onChange:le=>ee(le.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),g.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(le=>g.jsx("button",{onClick:()=>K(le),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${F===le?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:le==="all_time"?"Lifetime":le==="today"?"24 Hours":le==="week"?"7 Days":"1 Month"},le))})]}),we?g.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),g.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):g.jsxs("div",{className:"space-y-3",children:[V.filter(le=>le.userName.toLowerCase().includes(J.toLowerCase())).map((le,Ce)=>g.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${le.userId===n?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[Ce+1,"."]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${Ce===0?"bg-yellow-100 text-yellow-600 border-yellow-200":Ce===1?"bg-slate-200 text-slate-600 border-slate-300":Ce===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:le.userName.charAt(0).toUpperCase()}),g.jsxs("div",{children:[g.jsx("p",{className:`font-bold text-sm ${le.userId===n?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:le.userName}),g.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${le.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),g.jsx("span",{className:"text-xs text-slate-400 font-medium",children:le.displayTime>3600?"Studying":"Offline"})]})]})]})]}),g.jsx("div",{className:"text-right",children:g.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:te(le.displayTime)})})]},le.userId)),V.length===0&&g.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[g.jsx("p",{className:"text-sm",children:"No records found for this period."}),g.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),g.jsx(rs,{children:j&&g.jsxs(be.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[g.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:g.jsx(bl,{className:"w-4 h-4 text-white"})}),g.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const j8={start_strong:"",streak_master:"",subject_conqueror:"",night_owl:""},M8={start_strong:"Fast Starter",streak_master:"Streak Master",subject_conqueror:"Subject Conqueror",night_owl:"Night Owl"};function V8({uid:t,isOpen:e,onClose:n}){const[i,a]=k.useState(null),[l,u]=k.useState(!1);return k.useEffect(()=>{e&&t?(async()=>{u(!0);try{const m=nl(Di,"users",t),p=await dL(m);p.exists()?a(p.data().userProfile):a(null)}catch(m){console.error("Error fetching user profile:",m)}finally{u(!1)}})():a(null)},[e,t]),g.jsx(rs,{children:e&&g.jsx(g.Fragment,{children:g.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs(be.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:d=>d.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"relative h-24 bg-gradient-to-r from-indigo-500 to-purple-600",children:[g.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-1 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors",children:g.jsx(Gi,{className:"w-5 h-5"})}),g.jsx("div",{className:"absolute -bottom-10 left-6",children:g.jsx("div",{className:"w-20 h-20 rounded-full bg-white dark:bg-slate-800 p-1 shadow-lg",children:g.jsx("div",{className:"w-full h-full rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-2xl font-bold text-indigo-600 dark:text-indigo-300",children:i?.name?.charAt(0).toUpperCase()||"?"})})})]}),g.jsx("div",{className:"pt-12 pb-6 px-6",children:l?g.jsx("div",{className:"flex justify-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):i?g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{children:g.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[i.name,g.jsx("span",{className:"text-xs font-normal px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:i.grade})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded-xl border border-orange-100 dark:border-orange-800/50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 mb-1",children:[g.jsx(MC,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase",children:"Streak"})]}),g.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[i.currentStreak," Days"]})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-xl border border-blue-100 dark:border-blue-800/50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 mb-1",children:[g.jsx(tU,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase",children:"Total Study"})]}),g.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[Math.floor(i.totalStudyTime/3600),"h ",Math.floor(i.totalStudyTime%3600/60),"m"]})]})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase mb-3 flex items-center gap-2",children:[g.jsx(il,{className:"w-4 h-4"}),"Badges Earned (",i.earnedBadges?.length||0,")"]}),i.earnedBadges&&i.earnedBadges.length>0?g.jsx("div",{className:"grid grid-cols-4 gap-2",children:i.earnedBadges.map((d,m)=>g.jsx("div",{className:"flex flex-col items-center gap-1 p-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",title:M8[d.type],children:g.jsx("span",{className:"text-2xl",children:j8[d.type]})},m))}):g.jsx("p",{className:"text-sm text-slate-400 italic",children:"No badges earned yet."})]})]}):g.jsx("div",{className:"text-center text-slate-500",children:"User profile not found."})})]})})})})}const O8=t=>t?t.split(/(`[^`]+`|\*\*[^*]+\*\*|\*[^*]+\*|https?:\/\/[^\s]+)/g).map((n,i)=>n.startsWith("`")&&n.endsWith("`")&&n.length>2?g.jsx("code",{className:"bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded text-sm font-mono text-slate-800 dark:text-slate-200",children:n.slice(1,-1)},i):n.startsWith("**")&&n.endsWith("**")&&n.length>4?g.jsx("strong",{className:"font-bold",children:n.slice(2,-2)},i):n.startsWith("*")&&n.endsWith("*")&&n.length>2?g.jsx("em",{className:"italic",children:n.slice(1,-1)},i):n.match(/^https?:\/\//)?g.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline break-all",onClick:a=>a.stopPropagation(),children:n},i):n):[],P8=[{emoji:"",icon:uU},{emoji:"",icon:KU},{emoji:"",icon:dU},{emoji:"",icon:rU}];function L8(){const{user:t}=Ha(),[e,n]=k.useState([]),[i,a]=k.useState(""),[l,u]=k.useState(null),d=k.useRef(null),[m,p]=k.useState(!1),[v,b]=k.useState(null),[w,A]=k.useState(null);k.useEffect(()=>{const J=vC(lf(Di,"messages"),bC("createdAt","asc"),xC(100)),ee=EC(J,re=>{const I=[];re.forEach(E=>{I.push({id:E.id,...E.data()})}),n(I)});return()=>ee()},[]),k.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[e.length]);const M=async J=>{if(J.preventDefault(),!(!i.trim()||!t)){p(!0);try{const ee={text:i.trim(),uid:t.uid,displayName:t.displayName||"Anonymous",createdAt:cL(),...l&&{replyTo:{id:l.id,displayName:l.displayName,text:l.text}}};await TC(lf(Di,"messages"),ee),a(""),u(null)}catch(ee){console.error("Error sending message:",ee),alert("Failed to send message. Please try again.")}finally{p(!1)}}},L=async(J,ee)=>{if(!t)return;b(null);const re=nl(Di,"messages",J),I=e.find(R=>R.id===J);if(!I)return;const E=I.reactions||{},C=E[t.uid]===ee,j={...E};C?delete j[t.uid]:j[t.uid]=ee;try{await mL(re,{reactions:j})}catch(R){console.error("Failed to update reaction",R)}},P=J=>J?J.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...",B=J=>{if(!J)return"";const ee=J.toDate(),re=new Date,I=new Date;return I.setDate(I.getDate()-1),ee.toDateString()===re.toDateString()?"Today":ee.toDateString()===I.toDateString()?"Yesterday":ee.toLocaleDateString()},F=e.reduce((J,ee)=>{const re=B(ee.createdAt),I=J[J.length-1];return I&&I.date===re?I.msgs.push(ee):J.push({date:re,msgs:[ee]}),J},[]),K=({text:J})=>g.jsx(g.Fragment,{children:O8(J)});return g.jsxs(qf,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-shrink-0 px-4 md:px-0",children:[g.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg text-indigo-600 dark:text-indigo-400",children:g.jsx(uf,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Community Chat"}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Connect with fellow students"})]})]}),g.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col relative mx-2 md:mx-0",children:[g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:[F.map((J,ee)=>g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex justify-center sticky top-0 z-10",children:g.jsx("span",{className:"bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 text-xs font-medium px-3 py-1 rounded-full backdrop-blur-sm shadow-sm",children:J.date})}),J.msgs.map((re,I)=>{const E=re.uid===t?.uid,C=I===0||J.msgs[I-1].uid!==re.uid,j=re.reactions&&Object.keys(re.reactions).length>0,R={};return re.reactions&&Object.values(re.reactions).forEach(V=>{R[V]=(R[V]||0)+1}),g.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`group flex flex-col ${E?"items-end":"items-start"}`,onMouseLeave:()=>b(null),children:g.jsxs("div",{className:`flex items-end gap-2 max-w-[85%] md:max-w-[70%] ${E?"flex-row-reverse":"flex-row"}`,children:[g.jsx("div",{className:"w-8 flex-shrink-0 flex flex-col items-center",children:C?g.jsx("button",{onClick:()=>A(re.uid),className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold shadow-sm transition-transform hover:scale-110 ${E?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 cursor-pointer":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300 cursor-pointer"}`,children:E?g.jsx(t8,{className:"w-4 h-4"}):re.displayName.charAt(0).toUpperCase()}):g.jsx("div",{className:"w-8"})}),g.jsxs("div",{className:"relative group/bubble",children:[re.replyTo&&g.jsxs("div",{className:`mb-1 text-xs px-3 py-1 rounded-lg border-l-4 opacity-80 ${E?"bg-blue-700/20 border-blue-300 text-blue-100":"bg-slate-200 dark:bg-slate-900 border-indigo-400 text-slate-600 dark:text-slate-400"}`,children:[g.jsxs("span",{className:"font-bold mr-1",children:[re.replyTo.displayName,":"]}),g.jsx("span",{className:"line-clamp-1 italic",children:re.replyTo.text})]}),g.jsxs("div",{className:`px-4 py-2 text-sm shadow-sm relative ${E?"bg-blue-600 text-white rounded-2xl rounded-tr-none":"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-2xl rounded-tl-none"}`,children:[!E&&C&&g.jsx("button",{onClick:()=>A(re.uid),className:"text-[10px] font-bold opacity-70 mb-0.5 text-indigo-600 dark:text-indigo-400 hover:underline",children:re.displayName}),g.jsx("p",{className:"leading-relaxed whitespace-pre-wrap",children:g.jsx(K,{text:re.text})}),g.jsx("div",{className:`text-[10px] text-right mt-1 opacity-60 ${E?"text-blue-100":"text-slate-500 dark:text-slate-400"}`,children:P(re.createdAt)}),j&&g.jsx("div",{className:`absolute -bottom-3 ${E?"right-0":"left-0"} flex gap-1 bg-white dark:bg-slate-800 rounded-full px-1.5 py-0.5 shadow-sm border border-slate-100 dark:border-slate-600 text-xs`,children:Object.entries(R).map(([V,D])=>g.jsxs("span",{className:"flex items-center",children:[V," ",D>1&&g.jsx("span",{className:"ml-0.5 text-[10px] font-bold text-slate-500",children:D})]},V))})]}),g.jsxs("div",{className:`absolute top-0 ${E?"-left-16":"-right-16"} h-full flex items-center gap-1 opacity-0 group-hover/bubble:opacity-100 transition-opacity`,children:[g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:V=>{V.stopPropagation(),b(v===re.id?null:re.id)},className:"p-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 transition-colors",children:g.jsx(BU,{className:"w-4 h-4"})}),g.jsx(rs,{children:v===re.id&&g.jsx(be.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8},className:`absolute bottom-full ${E?"right-0":"left-0"} mb-2 bg-white dark:bg-slate-800 rounded-full shadow-lg border border-slate-200 dark:border-slate-600 p-1 flex gap-1 z-20`,children:P8.map(V=>g.jsx("button",{onClick:()=>L(re.id,V.emoji),className:`p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-lg transition-transform hover:scale-125 ${re.reactions?.[t?.uid||""]===V.emoji?"bg-indigo-50 dark:bg-indigo-900/50":""}`,children:V.emoji},V.emoji))})})]}),g.jsx("button",{onClick:()=>u(re),className:"p-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/50 transition-colors",title:"Reply",children:g.jsx(DU,{className:"w-4 h-4"})}),E&&g.jsx("button",{onClick:async()=>{if(confirm("Delete this message?"))try{await pL(nl(Di,"messages",re.id))}catch(V){console.error("Error deleting message:",V),alert("Failed to delete message.")}},className:"p-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/50 transition-colors",title:"Delete",children:g.jsx(Eu,{className:"w-4 h-4"})})]})]})]})},re.id)})]},ee)),g.jsx("div",{ref:d,className:"h-2"})]}),g.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700",children:[g.jsx(rs,{children:l&&g.jsxs(be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg mb-2 border-l-4 border-blue-500",children:[g.jsxs("div",{className:"overflow-hidden",children:[g.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 block",children:["Replying to ",l.uid===t?.uid?"Yourself":l.displayName]}),g.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300 truncate block",children:l.text})]}),g.jsx("button",{onClick:()=>u(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full text-slate-500",children:g.jsx(Gi,{className:"w-4 h-4"})})]})}),g.jsxs("form",{onSubmit:M,className:"flex gap-2",children:[g.jsx("input",{type:"text",value:i,onChange:J=>a(J.target.value),placeholder:l?"Type your reply...":"Type a message...",className:"flex-1 px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all"}),g.jsx("button",{type:"submit",disabled:!i.trim()||m,className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-sm",children:g.jsx(OU,{className:"w-5 h-5"})})]})]})]}),g.jsx(V8,{uid:w||"",isOpen:!!w,onClose:()=>A(null)})]})}function U8({steps:t,onComplete:e,onSkip:n}){const[i,a]=k.useState(0),[l,u]=k.useState(null),d=t[i];k.useEffect(()=>{if(d.targetId){const v=document.getElementById(d.targetId);v?(u(v.getBoundingClientRect()),v.scrollIntoView({behavior:"smooth",block:"center"})):u(null)}else u(null)},[i,d,t]);const m=()=>{i<t.length-1?a(v=>v+1):e()},p=()=>{i>0&&a(v=>v-1)};return g.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&g.jsx(be.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),g.jsx(rs,{mode:"wait",children:g.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&d.position!=="center"?{top:d.position==="bottom"?l.bottom+20:d.position==="top"?l.top-200:void 0,left:d.position==="right"?l.right+20:d.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(d.position==="bottom",0)}:{},children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),g.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:g.jsx(Gi,{className:"w-4 h-4"})})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:d.title}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:d.description}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("button",{onClick:p,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[g.jsx(KL,{className:"w-4 h-4"})," Back"]}),g.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&g.jsx(QL,{className:"w-4 h-4"})]})]})]},i)})]})}const XT="/Study-Mate/assets/logo-C0C7fgvJ.png",z8=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function B8(){const{logout:t}=Ha(),{theme:e,toggleTheme:n}=GC(),i=Fi(),a=gk(),[l,u]=k.useState(!1);k.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true")},[]);const d=()=>{u(!1),localStorage.setItem("tracked_tour_completed","true")},m=p=>i.pathname===p;return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[l&&g.jsx(U8,{steps:z8,onComplete:d,onSkip:d}),g.jsxs("header",{className:"glass sticky top-0 z-20 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("img",{src:XT,alt:"TrackEd Logo",className:"w-9 h-9 rounded-xl object-contain shadow-sm"}),g.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"TrackEd"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm","aria-label":"Toggle Theme",children:e==="light"?g.jsx(hf,{className:"w-5 h-5"}):g.jsx(C0,{className:"w-5 h-5"})}),g.jsx(nn,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm",children:g.jsx(Rg,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"md:flex max-w-7xl mx-auto",children:[g.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-[calc(100vh-2rem)] sticky top-4 m-4 rounded-3xl glass shadow-xl shadow-slate-200/50 dark:shadow-slate-900/50 p-6 transition-all duration-300 z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-10 pl-2",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:XT,alt:"TrackEd Logo",className:"w-10 h-10 rounded-xl object-contain shadow-md"}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"TrackEd"})]}),g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-700/50 rounded-xl transition-colors","aria-label":"Toggle Theme",children:e==="light"?g.jsx(hf,{className:"w-5 h-5"}):g.jsx(C0,{className:"w-5 h-5"})})]}),g.jsxs("nav",{className:"space-y-1.5 flex-1",children:[g.jsxs(nn,{to:"/",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${m("/")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(GT,{className:"w-5 h-5"}),"Dashboard"]}),g.jsxs(nn,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${m("/analytics")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(N0,{className:"w-5 h-5"}),"Analytics"]}),g.jsxs(nn,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${i.pathname==="/timer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(KT,{className:"w-5 h-5"}),"Timer"]}),g.jsxs(nn,{to:"/chat",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${m("/chat")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(uf,{className:"w-5 h-5"}),"Community"]}),g.jsxs(nn,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${m("/settings")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(Rg,{className:"w-5 h-5"}),"Settings"]})]}),g.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200/50 dark:border-slate-700/50",children:[g.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left mb-4 group",children:[g.jsx(OC,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),"Sign Out"]}),g.jsxs("div",{className:"text-xs text-center text-slate-400 dark:text-slate-500 font-medium",children:[g.jsx("p",{children:"Empowering Students"}),g.jsx("p",{className:"mt-1 opacity-70",children:" 2026 TrackEd"})]})]})]}),g.jsx("main",{className:"flex-1 p-4 md:p-8",children:g.jsx(rs,{mode:"wait",children:a&&k.cloneElement(a,{key:i.pathname})})})]}),g.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[g.jsxs(nn,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${m("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(GT,{className:"w-6 h-6"}),g.jsx("span",{children:"Home"})]}),g.jsxs(nn,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${m("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(N0,{className:"w-6 h-6"}),g.jsx("span",{children:"Stats"})]}),g.jsxs(nn,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${m("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(KT,{className:"w-6 h-6"}),g.jsx("span",{children:"Timer"})]}),g.jsxs(nn,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${m("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(uf,{className:"w-6 h-6"}),g.jsx("span",{children:"Comm.."})]}),g.jsxs(nn,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${m("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(Rg,{className:"w-6 h-6"}),g.jsx("span",{children:"Settings"})]})]})]})}function F8(){const{signInWithGoogle:t,user:e}=Ha(),n=mf();return JT.useEffect(()=>{e&&n("/")},[e,n]),g.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),g.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[g.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[g.jsx("div",{className:"flex justify-center mb-8",children:g.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:g.jsx(VC,{className:"w-10 h-10 text-white"})})}),g.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",g.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),g.jsxs(be.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[g.jsx("div",{className:"bg-white p-1 rounded-full",children:g.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),g.jsx("span",{children:"Sign in with Google"}),g.jsx(mv,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),g.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),g.jsx("div",{className:"mt-8 text-center",children:g.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}function H8({children:t}){const{user:e,loading:n}=Ha();return n?g.jsx("div",{children:"Loading..."}):e?g.jsx(g.Fragment,{children:t}):g.jsx(Ik,{to:"/login"})}function q8(){return g.jsx(sI,{basename:"/Study-Mate/",children:g.jsxs(jk,{children:[g.jsx(Ni,{path:"/login",element:g.jsx(F8,{})}),g.jsxs(Ni,{path:"/",element:g.jsx(H8,{children:g.jsx(B8,{})}),children:[g.jsx(Ni,{index:!0,element:g.jsx(p8,{})}),g.jsx(Ni,{path:"subject/:id",element:g.jsx(T8,{})}),g.jsx(Ni,{path:"analytics",element:g.jsx(I8,{})}),g.jsx(Ni,{path:"timer",element:g.jsx(D8,{})}),g.jsx(Ni,{path:"chat",element:g.jsx(L8,{})}),g.jsx(Ni,{path:"settings",element:g.jsx(C8,{})})]})]})})}class G8 extends k.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:g.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),g.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),g.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),g.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");DR.createRoot(document.getElementById("root")).render(g.jsx(JT.StrictMode,{children:g.jsx(G8,{children:g.jsx(vL,{children:g.jsx(bL,{children:g.jsx(E8,{children:g.jsx(v8,{children:g.jsx(q8,{})})})})})})}));
