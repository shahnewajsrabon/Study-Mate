(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function FE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ug={exports:{}},Lc={};var y_;function jR(){if(y_)return Lc;y_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Lc.Fragment=e,Lc.jsx=n,Lc.jsxs=n,Lc}var x_;function DR(){return x_||(x_=1,ug.exports=jR()),ug.exports}var d=DR(),dg={exports:{}},Ve={};var v_;function MR(){if(v_)return Ve;v_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function E(P){return P===null||typeof P!="object"?null:(P=_&&P[_]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,I={};function V(P,ne,ue){this.props=P,this.context=ne,this.refs=I,this.updater=ue||j}V.prototype.isReactComponent={},V.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},V.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function B(){}B.prototype=V.prototype;function $(P,ne,ue){this.props=P,this.context=ne,this.refs=I,this.updater=ue||j}var J=$.prototype=new B;J.constructor=$,D(J,V.prototype),J.isPureReactComponent=!0;var se=Array.isArray;function de(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(P,ne,ue){var he=ue.ref;return{$$typeof:t,type:P,key:ne,ref:he!==void 0?he:null,props:ue}}function z(P,ne){return C(P.type,ne,P.props)}function U(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function q(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return ne[ue]})}var M=/\/+/g;function ze(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?q(""+P.key):ne.toString(36)}function K(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(de,de):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function O(P,ne,ue,he,Se){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var Ae=!1;if(P===null)Ae=!0;else switch(Ie){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(P.$$typeof){case t:case e:Ae=!0;break;case x:return Ae=P._init,O(Ae(P._payload),ne,ue,he,Se)}}if(Ae)return Se=Se(P),Ae=he===""?"."+ze(P,0):he,se(Se)?(ue="",Ae!=null&&(ue=Ae.replace(M,"$&/")+"/"),O(Se,ne,ue,"",function(bt){return bt})):Se!=null&&(U(Se)&&(Se=z(Se,ue+(Se.key==null||P&&P.key===Se.key?"":(""+Se.key).replace(M,"$&/")+"/")+Ae)),ne.push(Se)),1;Ae=0;var pe=he===""?".":he+":";if(se(P))for(var De=0;De<P.length;De++)he=P[De],Ie=pe+ze(he,De),Ae+=O(he,ne,ue,Ie,Se);else if(De=E(P),typeof De=="function")for(P=De.call(P),De=0;!(he=P.next()).done;)he=he.value,Ie=pe+ze(he,De++),Ae+=O(he,ne,ue,Ie,Se);else if(Ie==="object"){if(typeof P.then=="function")return O(K(P),ne,ue,he,Se);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function H(P,ne,ue){if(P==null)return P;var he=[],Se=0;return O(P,he,"","",function(Ie){return ne.call(ue,Ie,Se++)}),he}function G(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var ce=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},fe={map:H,forEach:function(P,ne,ue){H(P,function(){ne.apply(this,arguments)},ue)},count:function(P){var ne=0;return H(P,function(){ne++}),ne},toArray:function(P){return H(P,function(ne){return ne})||[]},only:function(P){if(!U(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ve.Activity=v,Ve.Children=fe,Ve.Component=V,Ve.Fragment=n,Ve.Profiler=a,Ve.PureComponent=$,Ve.StrictMode=i,Ve.Suspense=m,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},Ve.cache=function(P){return function(){return P.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(P,ne,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var he=D({},P.props),Se=P.key;if(ne!=null)for(Ie in ne.key!==void 0&&(Se=""+ne.key),ne)!S.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(he[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)he.children=ue;else if(1<Ie){for(var Ae=Array(Ie),pe=0;pe<Ie;pe++)Ae[pe]=arguments[pe+2];he.children=Ae}return C(P.type,Se,he)},Ve.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ve.createElement=function(P,ne,ue){var he,Se={},Ie=null;if(ne!=null)for(he in ne.key!==void 0&&(Ie=""+ne.key),ne)S.call(ne,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Se[he]=ne[he]);var Ae=arguments.length-2;if(Ae===1)Se.children=ue;else if(1<Ae){for(var pe=Array(Ae),De=0;De<Ae;De++)pe[De]=arguments[De+2];Se.children=pe}if(P&&P.defaultProps)for(he in Ae=P.defaultProps,Ae)Se[he]===void 0&&(Se[he]=Ae[he]);return C(P,Ie,Se)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(P){return{$$typeof:h,render:P}},Ve.isValidElement=U,Ve.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:G}},Ve.memo=function(P,ne){return{$$typeof:g,type:P,compare:ne===void 0?null:ne}},Ve.startTransition=function(P){var ne=R.T,ue={};R.T=ue;try{var he=P(),Se=R.S;Se!==null&&Se(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(de,ce)}catch(Ie){ce(Ie)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),R.T=ne}},Ve.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ve.use=function(P){return R.H.use(P)},Ve.useActionState=function(P,ne,ue){return R.H.useActionState(P,ne,ue)},Ve.useCallback=function(P,ne){return R.H.useCallback(P,ne)},Ve.useContext=function(P){return R.H.useContext(P)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(P,ne){return R.H.useDeferredValue(P,ne)},Ve.useEffect=function(P,ne){return R.H.useEffect(P,ne)},Ve.useEffectEvent=function(P){return R.H.useEffectEvent(P)},Ve.useId=function(){return R.H.useId()},Ve.useImperativeHandle=function(P,ne,ue){return R.H.useImperativeHandle(P,ne,ue)},Ve.useInsertionEffect=function(P,ne){return R.H.useInsertionEffect(P,ne)},Ve.useLayoutEffect=function(P,ne){return R.H.useLayoutEffect(P,ne)},Ve.useMemo=function(P,ne){return R.H.useMemo(P,ne)},Ve.useOptimistic=function(P,ne){return R.H.useOptimistic(P,ne)},Ve.useReducer=function(P,ne,ue){return R.H.useReducer(P,ne,ue)},Ve.useRef=function(P){return R.H.useRef(P)},Ve.useState=function(P){return R.H.useState(P)},Ve.useSyncExternalStore=function(P,ne,ue){return R.H.useSyncExternalStore(P,ne,ue)},Ve.useTransition=function(){return R.H.useTransition()},Ve.version="19.2.4",Ve}var b_;function ry(){return b_||(b_=1,dg.exports=MR()),dg.exports}var k=ry();const HE=FE(k);var hg={exports:{}},Uc={},fg={exports:{}},mg={};var __;function VR(){return __||(__=1,(function(t){function e(O,H){var G=O.length;O.push(H);e:for(;0<G;){var ce=G-1>>>1,fe=O[ce];if(0<a(fe,H))O[ce]=H,O[G]=fe,G=ce;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var H=O[0],G=O.pop();if(G!==H){O[0]=G;e:for(var ce=0,fe=O.length,P=fe>>>1;ce<P;){var ne=2*(ce+1)-1,ue=O[ne],he=ne+1,Se=O[he];if(0>a(ue,G))he<fe&&0>a(Se,ue)?(O[ce]=Se,O[he]=G,ce=he):(O[ce]=ue,O[ne]=G,ce=ne);else if(he<fe&&0>a(Se,G))O[ce]=Se,O[he]=G,ce=he;else break e}}return H}function a(O,H){var G=O.sortIndex-H.sortIndex;return G!==0?G:O.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var m=[],g=[],x=1,v=null,_=3,E=!1,j=!1,D=!1,I=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function J(O){for(var H=n(g);H!==null;){if(H.callback===null)i(g);else if(H.startTime<=O)i(g),H.sortIndex=H.expirationTime,e(m,H);else break;H=n(g)}}function se(O){if(D=!1,J(O),!j)if(n(m)!==null)j=!0,de||(de=!0,q());else{var H=n(g);H!==null&&K(se,H.startTime-O)}}var de=!1,R=-1,S=5,C=-1;function z(){return I?!0:!(t.unstable_now()-C<S)}function U(){if(I=!1,de){var O=t.unstable_now();C=O;var H=!0;try{e:{j=!1,D&&(D=!1,B(R),R=-1),E=!0;var G=_;try{t:{for(J(O),v=n(m);v!==null&&!(v.expirationTime>O&&z());){var ce=v.callback;if(typeof ce=="function"){v.callback=null,_=v.priorityLevel;var fe=ce(v.expirationTime<=O);if(O=t.unstable_now(),typeof fe=="function"){v.callback=fe,J(O),H=!0;break t}v===n(m)&&i(m),J(O)}else i(m);v=n(m)}if(v!==null)H=!0;else{var P=n(g);P!==null&&K(se,P.startTime-O),H=!1}}break e}finally{v=null,_=G,E=!1}H=void 0}}finally{H?q():de=!1}}}var q;if(typeof $=="function")q=function(){$(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ze=M.port2;M.port1.onmessage=U,q=function(){ze.postMessage(null)}}else q=function(){V(U,0)};function K(O,H){R=V(function(){O(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(O){switch(_){case 1:case 2:case 3:var H=3;break;default:H=_}var G=_;_=H;try{return O()}finally{_=G}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=_;_=O;try{return H()}finally{_=G}},t.unstable_scheduleCallback=function(O,H,G){var ce=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ce+G:ce):G=ce,O){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=G+fe,O={id:x++,callback:H,priorityLevel:O,startTime:G,expirationTime:fe,sortIndex:-1},G>ce?(O.sortIndex=G,e(g,O),n(m)===null&&O===n(g)&&(D?(B(R),R=-1):D=!0,K(se,G-ce))):(O.sortIndex=fe,e(m,O),j||E||(j=!0,de||(de=!0,q()))),O},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(O){var H=_;return function(){var G=_;_=H;try{return O.apply(this,arguments)}finally{_=G}}}})(mg)),mg}var w_;function PR(){return w_||(w_=1,fg.exports=VR()),fg.exports}var pg={exports:{}},hn={};var T_;function OR(){if(T_)return hn;T_=1;var t=ry();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:g,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(m,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,x)},hn.flushSync=function(m){var g=c.T,x=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=x,i.d.f()}},hn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},hn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},hn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var x=g.as,v=h(x,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:E}):x==="script"&&i.d.X(m,{crossOrigin:v,integrity:_,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=h(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},hn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,v=h(x,g.crossOrigin);i.d.L(m,x,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(m,g){if(typeof m=="string")if(g){var x=h(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},hn.requestFormReset=function(m){i.d.r(m)},hn.unstable_batchedUpdates=function(m,g){return m(g)},hn.useFormState=function(m,g,x){return c.H.useFormState(m,g,x)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var E_;function qE(){if(E_)return pg.exports;E_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pg.exports=OR(),pg.exports}var S_;function LR(){if(S_)return Uc;S_=1;var t=PR(),e=ry(),n=qE();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return m(p),s;if(y===u)return m(p),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=p,u=y;else{for(var w=!1,A=p.child;A;){if(A===o){w=!0,o=p,u=y;break}if(A===u){w=!0,u=p,o=y;break}A=A.sibling}if(!w){for(A=y.child;A;){if(A===o){w=!0,o=y,u=p;break}if(A===u){w=!0,u=y,o=p;break}A=A.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function x(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=x(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),$=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function ze(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case V:return"Profiler";case I:return"StrictMode";case se:return"Suspense";case de:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case $:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case J:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return r=s.displayName||null,r!==null?r:ze(s.type)||"Memo";case S:r=s._payload,s=s._init;try{return ze(s(r))}catch{}}return null}var K=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ce=[],fe=-1;function P(s){return{current:s}}function ne(s){0>fe||(s.current=ce[fe],ce[fe]=null,fe--)}function ue(s,r){fe++,ce[fe]=s.current,s.current=r}var he=P(null),Se=P(null),Ie=P(null),Ae=P(null);function pe(s,r){switch(ue(Ie,r),ue(Se,s),ue(he,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?z1(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=z1(r),s=B1(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ne(he),ue(he,s)}function De(){ne(he),ne(Se),ne(Ie)}function bt(s){s.memoizedState!==null&&ue(Ae,s);var r=he.current,o=B1(r,s.type);r!==o&&(ue(Se,s),ue(he,o))}function en(s){Se.current===s&&(ne(he),ne(Se)),Ae.current===s&&(ne(Ae),Mc._currentValue=G)}var jn,bi;function Dn(s){if(jn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);jn=r&&r[1]||"",bi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+s+bi}var $n=!1;function Mn(s,r){if(!s||$n)return"";$n=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(te){var Z=te}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(te){Z=te}s.call(ae.prototype)}}else{try{throw Error()}catch(te){Z=te}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],A=y[1];if(w&&A){var L=w.split(`
`),W=A.split(`
`);for(p=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(u===L.length||p===W.length)for(u=L.length-1,p=W.length-1;1<=u&&0<=p&&L[u]!==W[p];)p--;for(;1<=u&&0<=p;u--,p--)if(L[u]!==W[p]){if(u!==1||p!==1)do if(u--,p--,0>p||L[u]!==W[p]){var ie=`
`+L[u].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=u&&0<=p);break}}}finally{$n=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Dn(o):""}function Vl(s,r){switch(s.tag){case 26:case 27:case 5:return Dn(s.type);case 16:return Dn("Lazy");case 13:return s.child!==r&&r!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Mn(s.type,!1);case 11:return Mn(s.type.render,!1);case 1:return Mn(s.type,!0);case 31:return Dn("Activity");default:return""}}function Pl(s){try{var r="",o=null;do r+=Vl(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Rt=Object.prototype.hasOwnProperty,qt=t.unstable_scheduleCallback,nr=t.unstable_cancelCallback,hm=t.unstable_shouldYield,Hu=t.unstable_requestPaint,vn=t.unstable_now,aa=t.unstable_getCurrentPriorityLevel,Ol=t.unstable_ImmediatePriority,Ll=t.unstable_UserBlockingPriority,sr=t.unstable_NormalPriority,fm=t.unstable_LowPriority,qu=t.unstable_IdlePriority,Gu=t.log,$u=t.unstable_setDisableYieldValue,fs=null,tn=null;function Kn(s){if(typeof Gu=="function"&&$u(s),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(fs,s)}catch{}}var Et=Math.clz32?Math.clz32:Yu,Ku=Math.log,ao=Math.LN2;function Yu(s){return s>>>=0,s===0?32:31-(Ku(s)/ao|0)|0}var Ps=256,oa=262144,It=4194304;function Os(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ls(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?p=Os(u):(w&=A,w!==0?p=Os(w):o||(o=A&~s,o!==0&&(p=Os(o))))):(A=u&~y,A!==0?p=Os(A):w!==0?p=Os(w):o||(o=u&~s,o!==0&&(p=Os(o)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:p}function ms(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function mm(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var s=It;return It<<=1,(It&62914560)===0&&(It=4194304),s}function Us(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function la(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function pm(s,r,o,u,p,y){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,L=s.expirationTimes,W=s.hiddenUpdates;for(o=w&~o;0<o;){var ie=31-Et(o),ae=1<<ie;A[ie]=0,L[ie]=-1;var Z=W[ie];if(Z!==null)for(W[ie]=null,ie=0;ie<Z.length;ie++){var te=Z[ie];te!==null&&(te.lane&=-536870913)}o&=~ae}u!==0&&ca(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(w&~r))}function ca(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Et(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Ul(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-Et(o),p=1<<u;p&r|s[u]&r&&(s[u]|=r),o&=~p}}function zl(s,r){var o=r&-r;return o=(o&42)!==0?1:ua(o),(o&(s.suspendedLanes|r))!==0?0:o}function ua(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function _i(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Xu(){var s=H.p;return s!==0?s:(s=window.event,s===void 0?32:u_(s.type))}function ps(s,r){var o=H.p;try{return H.p=s,r()}finally{H.p=o}}var gs=Math.random().toString(36).slice(2),jt="__reactFiber$"+gs,Xt="__reactProps$"+gs,zs="__reactContainer$"+gs,oo="__reactEvents$"+gs,gm="__reactListeners$"+gs,Wu="__reactHandles$"+gs,Ju="__reactResources$"+gs,Bs="__reactMarker$"+gs;function lo(s){delete s[jt],delete s[Xt],delete s[oo],delete s[gm],delete s[Wu]}function Fs(s){var r=s[jt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[zs]||o[jt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=Y1(s);s!==null;){if(o=s[jt])return o;s=Y1(s)}return r}s=o,o=s.parentNode}return null}function Yn(s){if(s=s[jt]||s[zs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Vn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Hs(s){var r=s[Ju];return r||(r=s[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(s){s[Bs]=!0}var Bl=new Set,Fl={};function qs(s,r){Gs(s,r),Gs(s+"Capture",r)}function Gs(s,r){for(Fl[s]=r,s=0;s<r.length;s++)Bl.add(r[s])}var Hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Gl={};function Zu(s){return Rt.call(Gl,s)?!0:Rt.call(ql,s)?!1:Hl.test(s)?Gl[s]=!0:(ql[s]=!0,!1)}function co(s,r,o){if(Zu(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Pn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Mt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Wt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ir(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $l(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function nt(s){if(!s._valueTracker){var r=ir(s)?"checked":"value";s._valueTracker=$l(s,r,""+s[r])}}function da(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=ir(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function $s(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ha=/[\n"\\]/g;function En(s){return s.replace(ha,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function uo(s,r,o,u,p,y,w,A){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),r!=null?w==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Wt(r)):s.value!==""+Wt(r)&&(s.value=""+Wt(r)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),r!=null?Kl(s,w,Wt(r)):o!=null?Kl(s,w,Wt(o)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Wt(A):s.removeAttribute("name")}function ed(s,r,o,u,p,y,w,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){nt(s);return}o=o!=null?""+Wt(o):"",r=r!=null?""+Wt(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),nt(s)}function Kl(s,r,o){r==="number"&&$s(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function rr(s,r,o,u){if(s=s.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=r.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Wt(o),r=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}r!==null||s[p].disabled||(r=s[p])}r!==null&&(r.selected=!0)}}function td(s,r,o){if(r!=null&&(r=""+Wt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Wt(o):""}function ar(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(K(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Wt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),nt(s)}function Sn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var nd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||nd.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Ql(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&Yl(s,p,u)}else for(var y in r)r.hasOwnProperty(y)&&Yl(s,y,r[y])}function ho(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(s){return or.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ys(){}var Xl=null;function Qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var lr=null,Ks=null;function fa(s){var r=Yn(s);if(r&&(s=r.stateNode)){var o=s[Xt]||null;e:switch(s=r.stateNode,r.type){case"input":if(uo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+En(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var p=u[Xt]||null;if(!p)throw Error(i(90));uo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&da(u)}break e;case"textarea":td(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&rr(s,!!o.multiple,r,!1)}}}var mo=!1;function cr(s,r,o){if(mo)return s(r,o);mo=!0;try{var u=s(r);return u}finally{if(mo=!1,(lr!==null||Ks!==null)&&(Xd(),lr&&(r=lr,s=Ks,Ks=lr=null,fa(r),s)))for(r=0;r<s.length;r++)fa(s[r])}}function xs(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Xt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(Xn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){ma=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{ma=!1}var Ys=null,Wl=null,pa=null;function Jl(){if(pa)return pa;var s,r=Wl,o=r.length,u,p="value"in Ys?Ys.value:Ys.textContent,y=p.length;for(s=0;s<o&&r[s]===p[s];s++);var w=o-s;for(u=1;u<=w&&r[o-u]===p[y-u];u++);return pa=p.slice(s,1<u?1-u:void 0)}function ga(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function wi(){return!0}function vs(){return!1}function nn(s){function r(o,u,p,y,w){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?wi:vs,this.isPropagationStopped=vs,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),r}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=nn(Ti),ur=v({},Ti,{view:0,detail:0}),Zl=nn(ur),dr,po,Xs,go=v({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xs&&(Xs&&s.type==="mousemove"?(dr=s.screenX-Xs.screenX,po=s.screenY-Xs.screenY):po=dr=0,Xs=s),dr)},movementY:function(s){return"movementY"in s?s.movementY:po}}),ec=nn(go),ya=v({},go,{dataTransfer:0}),id=nn(ya),rd=v({},ur,{relatedTarget:0}),xa=nn(rd),tc=v({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),ad=nn(tc),yo=v({},Ti,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),od=nn(yo),ld=v({},Ti,{data:0}),Ws=nn(ld),cd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hd(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=dd[s])?!!r[s]:!1}function hr(){return hd}var bn=v({},ur,{key:function(s){if(s.key){var r=cd[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ga(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ud[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(s){return s.type==="keypress"?ga(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ga(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fd=nn(bn),md=v({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ei=nn(md),f=v({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),b=nn(f),T=v({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=nn(T),Q=v({},go,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=nn(Q),me=v({},Ti,{newState:0,oldState:0}),Oe=nn(me),St=[9,13,27,32],Ze=Xn&&"CompositionEvent"in window,pt=null;Xn&&"documentMode"in document&&(pt=document.documentMode);var Wn=Xn&&"TextEvent"in window&&!pt,Js=Xn&&(!Ze||pt&&8<pt&&11>=pt),bs=" ",_s=!1;function va(s,r){switch(s){case"keyup":return St.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vo=!1;function nC(s,r){switch(s){case"compositionend":return xo(r);case"keypress":return r.which!==32?null:(_s=!0,bs);case"textInput":return s=r.data,s===bs&&_s?null:s;default:return null}}function sC(s,r){if(vo)return s==="compositionend"||!Ze&&va(s,r)?(s=Jl(),pa=Wl=Ys=null,vo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Js&&r.locale!=="ko"?null:r.data;default:return null}}var iC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wx(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!iC[s.type]:r==="textarea"}function Jx(s,r,o,u){lr?Ks?Ks.push(u):Ks=[u]:lr=u,r=sh(r,"onChange"),0<r.length&&(o=new Qs("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var nc=null,sc=null;function rC(s){M1(s,0)}function pd(s){var r=Vn(s);if(da(r))return s}function Zx(s,r){if(s==="change")return r}var ev=!1;if(Xn){var ym;if(Xn){var xm="oninput"in document;if(!xm){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),xm=typeof tv.oninput=="function"}ym=xm}else ym=!1;ev=ym&&(!document.documentMode||9<document.documentMode)}function nv(){nc&&(nc.detachEvent("onpropertychange",sv),sc=nc=null)}function sv(s){if(s.propertyName==="value"&&pd(sc)){var r=[];Jx(r,sc,s,Qn(s)),cr(rC,r)}}function aC(s,r,o){s==="focusin"?(nv(),nc=r,sc=o,nc.attachEvent("onpropertychange",sv)):s==="focusout"&&nv()}function oC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pd(sc)}function lC(s,r){if(s==="click")return pd(r)}function cC(s,r){if(s==="input"||s==="change")return pd(r)}function uC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var On=typeof Object.is=="function"?Object.is:uC;function ic(s,r){if(On(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Rt.call(r,p)||!On(s[p],r[p]))return!1}return!0}function iv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function rv(s,r){var o=iv(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=iv(o)}}function av(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?av(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function ov(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=$s(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=$s(s.document)}return r}function vm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var dC=Xn&&"documentMode"in document&&11>=document.documentMode,bo=null,bm=null,rc=null,_m=!1;function lv(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_m||bo==null||bo!==$s(u)||(u=bo,"selectionStart"in u&&vm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),rc&&ic(rc,u)||(rc=u,u=sh(bm,"onSelect"),0<u.length&&(r=new Qs("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=bo)))}function ba(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var _o={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},wm={},cv={};Xn&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function _a(s){if(wm[s])return wm[s];if(!_o[s])return s;var r=_o[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in cv)return wm[s]=r[o];return s}var uv=_a("animationend"),dv=_a("animationiteration"),hv=_a("animationstart"),hC=_a("transitionrun"),fC=_a("transitionstart"),mC=_a("transitioncancel"),fv=_a("transitionend"),mv=new Map,Tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tm.push("scrollEnd");function ws(s,r){mv.set(s,r),qs(r,[s])}var gd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Jn=[],wo=0,Em=0;function yd(){for(var s=wo,r=Em=wo=0;r<s;){var o=Jn[r];Jn[r++]=null;var u=Jn[r];Jn[r++]=null;var p=Jn[r];Jn[r++]=null;var y=Jn[r];if(Jn[r++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&pv(o,p,y)}}function xd(s,r,o,u){Jn[wo++]=s,Jn[wo++]=r,Jn[wo++]=o,Jn[wo++]=u,Em|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Sm(s,r,o,u){return xd(s,r,o,u),vd(s)}function wa(s,r){return xd(s,null,null,r),vd(s)}function pv(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&r!==null&&(p=31-Et(o),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[r]:u.push(r),r.lane=o|536870912),y):null}function vd(s){if(50<kc)throw kc=0,Mp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var To={};function pC(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(s,r,o,u){return new pC(s,r,o,u)}function Am(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Si(s,r){var o=s.alternate;return o===null?(o=Ln(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function gv(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function bd(s,r,o,u,p,y){var w=0;if(u=s,typeof s=="function")Am(s)&&(w=1);else if(typeof s=="string")w=bR(s,o,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Ln(31,o,r,p),s.elementType=C,s.lanes=y,s;case D:return Ta(o.children,p,y,r);case I:w=8,p|=24;break;case V:return s=Ln(12,o,r,p|2),s.elementType=V,s.lanes=y,s;case se:return s=Ln(13,o,r,p),s.elementType=se,s.lanes=y,s;case de:return s=Ln(19,o,r,p),s.elementType=de,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:w=10;break e;case B:w=9;break e;case J:w=11;break e;case R:w=14;break e;case S:w=16,u=null;break e}w=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Ln(w,o,r,p),r.elementType=s,r.type=u,r.lanes=y,r}function Ta(s,r,o,u){return s=Ln(7,s,u,r),s.lanes=o,s}function km(s,r,o){return s=Ln(6,s,null,r),s.lanes=o,s}function yv(s){var r=Ln(18,null,null,0);return r.stateNode=s,r}function Nm(s,r,o){return r=Ln(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var xv=new WeakMap;function Zn(s,r){if(typeof s=="object"&&s!==null){var o=xv.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Pl(r)},xv.set(s,r),r)}return{value:s,source:r,stack:Pl(r)}}var Eo=[],So=0,_d=null,ac=0,es=[],ts=0,fr=null,Zs=1,ei="";function Ai(s,r){Eo[So++]=ac,Eo[So++]=_d,_d=s,ac=r}function vv(s,r,o){es[ts++]=Zs,es[ts++]=ei,es[ts++]=fr,fr=s;var u=Zs;s=ei;var p=32-Et(u)-1;u&=~(1<<p),o+=1;var y=32-Et(r)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,Zs=1<<32-Et(r)+p|o<<p|u,ei=y+s}else Zs=1<<y|o<<p|u,ei=s}function Cm(s){s.return!==null&&(Ai(s,1),vv(s,1,0))}function Rm(s){for(;s===_d;)_d=Eo[--So],Eo[So]=null,ac=Eo[--So],Eo[So]=null;for(;s===fr;)fr=es[--ts],es[ts]=null,ei=es[--ts],es[ts]=null,Zs=es[--ts],es[ts]=null}function bv(s,r){es[ts++]=Zs,es[ts++]=ei,es[ts++]=fr,Zs=r.id,ei=r.overflow,fr=s}var sn=null,ht=null,Qe=!1,mr=null,ns=!1,Im=Error(i(519));function pr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oc(Zn(r,s)),Im}function _v(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[jt]=s,r[Xt]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Cc.length;o++)He(Cc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),ed(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),ar(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||L1(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=ys),r=!0):r=!1,r||pr(s,!0)}function wv(s){for(sn=s.return;sn;)switch(sn.tag){case 5:case 31:case 13:ns=!1;return;case 27:case 3:ns=!0;return;default:sn=sn.return}}function Ao(s){if(s!==sn)return!1;if(!Qe)return wv(s),Qe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Qp(s.type,s.memoizedProps)),o=!o),o&&ht&&pr(s),wv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ht=K1(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ht=K1(s)}else r===27?(r=ht,Cr(s.type)?(s=eg,eg=null,ht=s):ht=r):ht=sn?is(s.stateNode.nextSibling):null;return!0}function Ea(){ht=sn=null,Qe=!1}function jm(){var s=mr;return s!==null&&(Cn===null?Cn=s:Cn.push.apply(Cn,s),mr=null),s}function oc(s){mr===null?mr=[s]:mr.push(s)}var Dm=P(null),Sa=null,ki=null;function gr(s,r,o){ue(Dm,r._currentValue),r._currentValue=o}function Ni(s){s._currentValue=Dm.current,ne(Dm)}function Mm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Vm(s,r,o,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=p;for(var L=0;L<r.length;L++)if(A.context===r[L]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),Mm(y.return,o,s),u||(w=null);break e}y=A.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Mm(w,o,s),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===s){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function ko(s,r,o,u){s=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var A=p.type;On(p.pendingProps.value,w.value)||(s!==null?s.push(A):s=[A])}}else if(p===Ae.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Mc):s=[Mc])}p=p.return}s!==null&&Vm(r,s,o,u),r.flags|=262144}function wd(s){for(s=s.firstContext;s!==null;){if(!On(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Aa(s){Sa=s,ki=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function rn(s){return Tv(Sa,s)}function Td(s,r){return Sa===null&&Aa(s),Tv(s,r)}function Tv(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ki===null){if(s===null)throw Error(i(308));ki=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ki=ki.next=r;return o}var gC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},yC=t.unstable_scheduleCallback,xC=t.unstable_NormalPriority,Vt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pm(){return{controller:new gC,data:new Map,refCount:0}}function lc(s){s.refCount--,s.refCount===0&&yC(xC,function(){s.controller.abort()})}var cc=null,Om=0,No=0,Co=null;function vC(s,r){if(cc===null){var o=cc=[];Om=0,No=zp(),Co={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Om++,r.then(Ev,Ev),r}function Ev(){if(--Om===0&&cc!==null){Co!==null&&(Co.status="fulfilled");var s=cc;cc=null,No=0,Co=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function bC(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Sv=O.S;O.S=function(s,r){l1=vn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&vC(s,r),Sv!==null&&Sv(s,r)};var ka=P(null);function Lm(){var s=ka.current;return s!==null?s:ct.pooledCache}function Ed(s,r){r===null?ue(ka,ka.current):ue(ka,r.pool)}function Av(){var s=Lm();return s===null?null:{parent:Vt._currentValue,pool:s}}var Ro=Error(i(460)),Um=Error(i(474)),Sd=Error(i(542)),Ad={then:function(){}};function kv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Nv(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(ys,ys),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Rv(s),s;default:if(typeof r.status=="string")r.then(ys,ys);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Rv(s),s}throw Ca=r,Ro}}function Na(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ca=o,Ro):o}}var Ca=null;function Cv(){if(Ca===null)throw Error(i(459));var s=Ca;return Ca=null,s}function Rv(s){if(s===Ro||s===Sd)throw Error(i(483))}var Io=null,uc=0;function kd(s){var r=uc;return uc+=1,Io===null&&(Io=[]),Nv(Io,s,r)}function dc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Nd(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Iv(s){function r(Y,F){if(s){var X=Y.deletions;X===null?(Y.deletions=[F],Y.flags|=16):X.push(F)}}function o(Y,F){if(!s)return null;for(;F!==null;)r(Y,F),F=F.sibling;return null}function u(Y){for(var F=new Map;Y!==null;)Y.key!==null?F.set(Y.key,Y):F.set(Y.index,Y),Y=Y.sibling;return F}function p(Y,F){return Y=Si(Y,F),Y.index=0,Y.sibling=null,Y}function y(Y,F,X){return Y.index=X,s?(X=Y.alternate,X!==null?(X=X.index,X<F?(Y.flags|=67108866,F):X):(Y.flags|=67108866,F)):(Y.flags|=1048576,F)}function w(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function A(Y,F,X,re){return F===null||F.tag!==6?(F=km(X,Y.mode,re),F.return=Y,F):(F=p(F,X),F.return=Y,F)}function L(Y,F,X,re){var ke=X.type;return ke===D?ie(Y,F,X.props.children,re,X.key):F!==null&&(F.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&Na(ke)===F.type)?(F=p(F,X.props),dc(F,X),F.return=Y,F):(F=bd(X.type,X.key,X.props,null,Y.mode,re),dc(F,X),F.return=Y,F)}function W(Y,F,X,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=Nm(X,Y.mode,re),F.return=Y,F):(F=p(F,X.children||[]),F.return=Y,F)}function ie(Y,F,X,re,ke){return F===null||F.tag!==7?(F=Ta(X,Y.mode,re,ke),F.return=Y,F):(F=p(F,X),F.return=Y,F)}function ae(Y,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=km(""+F,Y.mode,X),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return X=bd(F.type,F.key,F.props,null,Y.mode,X),dc(X,F),X.return=Y,X;case j:return F=Nm(F,Y.mode,X),F.return=Y,F;case S:return F=Na(F),ae(Y,F,X)}if(K(F)||q(F))return F=Ta(F,Y.mode,X,null),F.return=Y,F;if(typeof F.then=="function")return ae(Y,kd(F),X);if(F.$$typeof===$)return ae(Y,Td(Y,F),X);Nd(Y,F)}return null}function Z(Y,F,X,re){var ke=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ke!==null?null:A(Y,F,""+X,re);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===ke?L(Y,F,X,re):null;case j:return X.key===ke?W(Y,F,X,re):null;case S:return X=Na(X),Z(Y,F,X,re)}if(K(X)||q(X))return ke!==null?null:ie(Y,F,X,re,null);if(typeof X.then=="function")return Z(Y,F,kd(X),re);if(X.$$typeof===$)return Z(Y,F,Td(Y,X),re);Nd(Y,X)}return null}function te(Y,F,X,re,ke){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Y=Y.get(X)||null,A(F,Y,""+re,ke);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return Y=Y.get(re.key===null?X:re.key)||null,L(F,Y,re,ke);case j:return Y=Y.get(re.key===null?X:re.key)||null,W(F,Y,re,ke);case S:return re=Na(re),te(Y,F,X,re,ke)}if(K(re)||q(re))return Y=Y.get(X)||null,ie(F,Y,re,ke,null);if(typeof re.then=="function")return te(Y,F,X,kd(re),ke);if(re.$$typeof===$)return te(Y,F,X,Td(F,re),ke);Nd(F,re)}return null}function ve(Y,F,X,re){for(var ke=null,We=null,Ee=F,Ue=F=0,Ge=null;Ee!==null&&Ue<X.length;Ue++){Ee.index>Ue?(Ge=Ee,Ee=null):Ge=Ee.sibling;var Je=Z(Y,Ee,X[Ue],re);if(Je===null){Ee===null&&(Ee=Ge);break}s&&Ee&&Je.alternate===null&&r(Y,Ee),F=y(Je,F,Ue),We===null?ke=Je:We.sibling=Je,We=Je,Ee=Ge}if(Ue===X.length)return o(Y,Ee),Qe&&Ai(Y,Ue),ke;if(Ee===null){for(;Ue<X.length;Ue++)Ee=ae(Y,X[Ue],re),Ee!==null&&(F=y(Ee,F,Ue),We===null?ke=Ee:We.sibling=Ee,We=Ee);return Qe&&Ai(Y,Ue),ke}for(Ee=u(Ee);Ue<X.length;Ue++)Ge=te(Ee,Y,Ue,X[Ue],re),Ge!==null&&(s&&Ge.alternate!==null&&Ee.delete(Ge.key===null?Ue:Ge.key),F=y(Ge,F,Ue),We===null?ke=Ge:We.sibling=Ge,We=Ge);return s&&Ee.forEach(function(Mr){return r(Y,Mr)}),Qe&&Ai(Y,Ue),ke}function Ce(Y,F,X,re){if(X==null)throw Error(i(151));for(var ke=null,We=null,Ee=F,Ue=F=0,Ge=null,Je=X.next();Ee!==null&&!Je.done;Ue++,Je=X.next()){Ee.index>Ue?(Ge=Ee,Ee=null):Ge=Ee.sibling;var Mr=Z(Y,Ee,Je.value,re);if(Mr===null){Ee===null&&(Ee=Ge);break}s&&Ee&&Mr.alternate===null&&r(Y,Ee),F=y(Mr,F,Ue),We===null?ke=Mr:We.sibling=Mr,We=Mr,Ee=Ge}if(Je.done)return o(Y,Ee),Qe&&Ai(Y,Ue),ke;if(Ee===null){for(;!Je.done;Ue++,Je=X.next())Je=ae(Y,Je.value,re),Je!==null&&(F=y(Je,F,Ue),We===null?ke=Je:We.sibling=Je,We=Je);return Qe&&Ai(Y,Ue),ke}for(Ee=u(Ee);!Je.done;Ue++,Je=X.next())Je=te(Ee,Y,Ue,Je.value,re),Je!==null&&(s&&Je.alternate!==null&&Ee.delete(Je.key===null?Ue:Je.key),F=y(Je,F,Ue),We===null?ke=Je:We.sibling=Je,We=Je);return s&&Ee.forEach(function(IR){return r(Y,IR)}),Qe&&Ai(Y,Ue),ke}function lt(Y,F,X,re){if(typeof X=="object"&&X!==null&&X.type===D&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:e:{for(var ke=X.key;F!==null;){if(F.key===ke){if(ke=X.type,ke===D){if(F.tag===7){o(Y,F.sibling),re=p(F,X.props.children),re.return=Y,Y=re;break e}}else if(F.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===S&&Na(ke)===F.type){o(Y,F.sibling),re=p(F,X.props),dc(re,X),re.return=Y,Y=re;break e}o(Y,F);break}else r(Y,F);F=F.sibling}X.type===D?(re=Ta(X.props.children,Y.mode,re,X.key),re.return=Y,Y=re):(re=bd(X.type,X.key,X.props,null,Y.mode,re),dc(re,X),re.return=Y,Y=re)}return w(Y);case j:e:{for(ke=X.key;F!==null;){if(F.key===ke)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){o(Y,F.sibling),re=p(F,X.children||[]),re.return=Y,Y=re;break e}else{o(Y,F);break}else r(Y,F);F=F.sibling}re=Nm(X,Y.mode,re),re.return=Y,Y=re}return w(Y);case S:return X=Na(X),lt(Y,F,X,re)}if(K(X))return ve(Y,F,X,re);if(q(X)){if(ke=q(X),typeof ke!="function")throw Error(i(150));return X=ke.call(X),Ce(Y,F,X,re)}if(typeof X.then=="function")return lt(Y,F,kd(X),re);if(X.$$typeof===$)return lt(Y,F,Td(Y,X),re);Nd(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(o(Y,F.sibling),re=p(F,X),re.return=Y,Y=re):(o(Y,F),re=km(X,Y.mode,re),re.return=Y,Y=re),w(Y)):o(Y,F)}return function(Y,F,X,re){try{uc=0;var ke=lt(Y,F,X,re);return Io=null,ke}catch(Ee){if(Ee===Ro||Ee===Sd)throw Ee;var We=Ln(29,Ee,null,Y.mode);return We.lanes=re,We.return=Y,We}}}var Ra=Iv(!0),jv=Iv(!1),yr=!1;function zm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=vd(s),pv(s,null,o),r}return xd(s,u,r,o),vd(s)}function hc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ul(s,o)}}function Fm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=r:y=y.next=r}else p=y=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Hm=!1;function fc(){if(Hm){var s=Co;if(s!==null)throw s}}function mc(s,r,o,u){Hm=!1;var p=s.updateQueue;yr=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var L=A,W=L.next;L.next=null,w===null?y=W:w.next=W,w=L;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==w&&(A===null?ie.firstBaseUpdate=W:A.next=W,ie.lastBaseUpdate=L))}if(y!==null){var ae=p.baseState;w=0,ie=W=L=null,A=y;do{var Z=A.lane&-536870913,te=Z!==A.lane;if(te?(qe&Z)===Z:(u&Z)===Z){Z!==0&&Z===No&&(Hm=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=s,Ce=A;Z=r;var lt=o;switch(Ce.tag){case 1:if(ve=Ce.payload,typeof ve=="function"){ae=ve.call(lt,ae,Z);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ce.payload,Z=typeof ve=="function"?ve.call(lt,ae,Z):ve,Z==null)break e;ae=v({},ae,Z);break e;case 2:yr=!0}}Z=A.callback,Z!==null&&(s.flags|=64,te&&(s.flags|=8192),te=p.callbacks,te===null?p.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(W=ie=te,L=ae):ie=ie.next=te,w|=Z;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;te=A,A=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ie===null&&(L=ae),p.baseState=L,p.firstBaseUpdate=W,p.lastBaseUpdate=ie,y===null&&(p.shared.lanes=0),Er|=w,s.lanes=w,s.memoizedState=ae}}function Dv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Mv(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Dv(o[s],r)}var jo=P(null),Cd=P(0);function Vv(s,r){s=Oi,ue(Cd,s),ue(jo,r),Oi=s|r.baseLanes}function qm(){ue(Cd,Oi),ue(jo,jo.current)}function Gm(){Oi=Cd.current,ne(jo),ne(Cd)}var Un=P(null),ss=null;function br(s){var r=s.alternate;ue(At,At.current&1),ue(Un,s),ss===null&&(r===null||jo.current!==null||r.memoizedState!==null)&&(ss=s)}function $m(s){ue(At,At.current),ue(Un,s),ss===null&&(ss=s)}function Pv(s){s.tag===22?(ue(At,At.current),ue(Un,s),ss===null&&(ss=s)):_r()}function _r(){ue(At,At.current),ue(Un,Un.current)}function zn(s){ne(Un),ss===s&&(ss=null),ne(At)}var At=P(0);function Rd(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Jp(o)||Zp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ci=0,Le=null,at=null,Pt=null,Id=!1,Do=!1,Ia=!1,jd=0,pc=0,Mo=null,_C=0;function _t(){throw Error(i(321))}function Km(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!On(s[o],r[o]))return!1;return!0}function Ym(s,r,o,u,p,y){return Ci=y,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,O.H=s===null||s.memoizedState===null?vb:cp,Ia=!1,y=o(u,p),Ia=!1,Do&&(y=Lv(r,o,u,p)),Ov(s),y}function Ov(s){O.H=xc;var r=at!==null&&at.next!==null;if(Ci=0,Pt=at=Le=null,Id=!1,pc=0,Mo=null,r)throw Error(i(300));s===null||Ot||(s=s.dependencies,s!==null&&wd(s)&&(Ot=!0))}function Lv(s,r,o,u){Le=s;var p=0;do{if(Do&&(Mo=null),pc=0,Do=!1,25<=p)throw Error(i(301));if(p+=1,Pt=at=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}O.H=bb,y=r(o,u)}while(Do);return y}function wC(){var s=O.H,r=s.useState()[0];return r=typeof r.then=="function"?gc(r):r,s=s.useState()[0],(at!==null?at.memoizedState:null)!==s&&(Le.flags|=1024),r}function Qm(){var s=jd!==0;return jd=0,s}function Xm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Wm(s){if(Id){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Id=!1}Ci=0,Pt=at=Le=null,Do=!1,pc=jd=0,Mo=null}function _n(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Le.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function kt(){if(at===null){var s=Le.alternate;s=s!==null?s.memoizedState:null}else s=at.next;var r=Pt===null?Le.memoizedState:Pt.next;if(r!==null)Pt=r,at=s;else{if(s===null)throw Le.alternate===null?Error(i(467)):Error(i(310));at=s,s={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Pt===null?Le.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function Dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(s){var r=pc;return pc+=1,Mo===null&&(Mo=[]),s=Nv(Mo,s,r),r=Le,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,O.H=r===null||r.memoizedState===null?vb:cp),s}function Md(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return gc(s);if(s.$$typeof===$)return rn(s)}throw Error(i(438,String(s)))}function Jm(s){var r=null,o=Le.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Dd(),Le.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=z;return r.index++,o}function Ri(s,r){return typeof r=="function"?r(s):r}function Vd(s){var r=kt();return Zm(r,at,s)}function Zm(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}r.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{r=p.next;var A=w=null,L=null,W=r,ie=!1;do{var ae=W.lane&-536870913;if(ae!==W.lane?(qe&ae)===ae:(Ci&ae)===ae){var Z=W.revertLane;if(Z===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ae===No&&(ie=!0);else if((Ci&Z)===Z){W=W.next,Z===No&&(ie=!0);continue}else ae={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(A=L=ae,w=y):L=L.next=ae,Le.lanes|=Z,Er|=Z;ae=W.action,Ia&&o(y,ae),y=W.hasEagerState?W.eagerState:o(y,ae)}else Z={lane:ae,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(A=L=Z,w=y):L=L.next=Z,Le.lanes|=ae,Er|=ae;W=W.next}while(W!==null&&W!==r);if(L===null?w=y:L.next=A,!On(y,s.memoizedState)&&(Ot=!0,ie&&(o=Co,o!==null)))throw o;s.memoizedState=y,s.baseState=w,s.baseQueue=L,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function ep(s){var r=kt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,p=o.pending,y=r.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=s(y,w.action),w=w.next;while(w!==p);On(y,r.memoizedState)||(Ot=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function Uv(s,r,o){var u=Le,p=kt(),y=Qe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!On((at||p).memoizedState,o);if(w&&(p.memoizedState=o,Ot=!0),p=p.queue,sp(Fv.bind(null,u,p,s),[s]),p.getSnapshot!==r||w||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,Vo(9,{destroy:void 0},Bv.bind(null,u,p,o,r),null),ct===null)throw Error(i(349));y||(Ci&127)!==0||zv(u,r,o)}return o}function zv(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Le.updateQueue,r===null?(r=Dd(),Le.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Bv(s,r,o,u){r.value=o,r.getSnapshot=u,Hv(r)&&qv(s)}function Fv(s,r,o){return o(function(){Hv(r)&&qv(s)})}function Hv(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!On(s,o)}catch{return!0}}function qv(s){var r=wa(s,2);r!==null&&Rn(r,s,2)}function tp(s){var r=_n();if(typeof s=="function"){var o=s;if(s=o(),Ia){Kn(!0);try{o()}finally{Kn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},r}function Gv(s,r,o,u){return s.baseState=o,Zm(s,at,typeof u=="function"?u:Ri)}function TC(s,r,o,u,p){if(Ld(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};O.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,$v(r,y)):(y.next=o.next,r.pending=o.next=y)}}function $v(s,r){var o=r.action,u=r.payload,p=s.state;if(r.isTransition){var y=O.T,w={};O.T=w;try{var A=o(p,u),L=O.S;L!==null&&L(w,A),Kv(s,r,A)}catch(W){np(s,r,W)}finally{y!==null&&w.types!==null&&(y.types=w.types),O.T=y}}else try{y=o(p,u),Kv(s,r,y)}catch(W){np(s,r,W)}}function Kv(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Yv(s,r,u)},function(u){return np(s,r,u)}):Yv(s,r,o)}function Yv(s,r,o){r.status="fulfilled",r.value=o,Qv(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,$v(s,o)))}function np(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Qv(r),r=r.next;while(r!==u)}s.action=null}function Qv(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Xv(s,r){return r}function Wv(s,r){if(Qe){var o=ct.formState;if(o!==null){e:{var u=Le;if(Qe){if(ht){t:{for(var p=ht,y=ns;p.nodeType!==8;){if(!y){p=null;break t}if(p=is(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ht=is(p.nextSibling),u=p.data==="F!";break e}}pr(u)}u=!1}u&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xv,lastRenderedState:r},o.queue=u,o=gb.bind(null,Le,u),u.dispatch=o,u=tp(!1),y=lp.bind(null,Le,!1,u.queue),u=_n(),p={state:r,dispatch:null,action:s,pending:null},u.queue=p,o=TC.bind(null,Le,p,y,o),p.dispatch=o,u.memoizedState=s,[r,o,!1]}function Jv(s){var r=kt();return Zv(r,at,s)}function Zv(s,r,o){if(r=Zm(s,r,Xv)[0],s=Vd(Ri)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=gc(r)}catch(w){throw w===Ro?Sd:w}else u=r;r=kt();var p=r.queue,y=p.dispatch;return o!==r.memoizedState&&(Le.flags|=2048,Vo(9,{destroy:void 0},EC.bind(null,p,o),null)),[u,y,s]}function EC(s,r){s.action=r}function eb(s){var r=kt(),o=at;if(o!==null)return Zv(r,o,s);kt(),r=r.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Vo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Le.updateQueue,r===null&&(r=Dd(),Le.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function tb(){return kt().memoizedState}function Pd(s,r,o,u){var p=_n();Le.flags|=s,p.memoizedState=Vo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Od(s,r,o,u){var p=kt();u=u===void 0?null:u;var y=p.memoizedState.inst;at!==null&&u!==null&&Km(u,at.memoizedState.deps)?p.memoizedState=Vo(r,y,o,u):(Le.flags|=s,p.memoizedState=Vo(1|r,y,o,u))}function nb(s,r){Pd(8390656,8,s,r)}function sp(s,r){Od(2048,8,s,r)}function SC(s){Le.flags|=4;var r=Le.updateQueue;if(r===null)r=Dd(),Le.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function sb(s){var r=kt().memoizedState;return SC({ref:r,nextImpl:s}),function(){if((et&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function ib(s,r){return Od(4,2,s,r)}function rb(s,r){return Od(4,4,s,r)}function ab(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function ob(s,r,o){o=o!=null?o.concat([s]):null,Od(4,4,ab.bind(null,r,s),o)}function ip(){}function lb(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Km(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function cb(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Km(r,u[1]))return u[0];if(u=s(),Ia){Kn(!0);try{s()}finally{Kn(!1)}}return o.memoizedState=[u,r],u}function rp(s,r,o){return o===void 0||(Ci&1073741824)!==0&&(qe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=u1(),Le.lanes|=s,Er|=s,o)}function ub(s,r,o,u){return On(o,r)?o:jo.current!==null?(s=rp(s,o,u),On(s,r)||(Ot=!0),s):(Ci&42)===0||(Ci&1073741824)!==0&&(qe&261930)===0?(Ot=!0,s.memoizedState=o):(s=u1(),Le.lanes|=s,Er|=s,r)}function db(s,r,o,u,p){var y=H.p;H.p=y!==0&&8>y?y:8;var w=O.T,A={};O.T=A,lp(s,!1,r,o);try{var L=p(),W=O.S;if(W!==null&&W(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ie=bC(L,u);yc(s,r,ie,Hn(s))}else yc(s,r,u,Hn(s))}catch(ae){yc(s,r,{then:function(){},status:"rejected",reason:ae},Hn())}finally{H.p=y,w!==null&&A.types!==null&&(w.types=A.types),O.T=w}}function AC(){}function ap(s,r,o,u){if(s.tag!==5)throw Error(i(476));var p=hb(s).queue;db(s,p,r,G,o===null?AC:function(){return fb(s),o(u)})}function hb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:G},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function fb(s){var r=hb(s);r.next===null&&(r=s.alternate.memoizedState),yc(s,r.next.queue,{},Hn())}function op(){return rn(Mc)}function mb(){return kt().memoizedState}function pb(){return kt().memoizedState}function kC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Hn();s=xr(o);var u=vr(r,s,o);u!==null&&(Rn(u,r,o),hc(u,r,o)),r={cache:Pm()},s.payload=r;return}r=r.return}}function NC(s,r,o){var u=Hn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ld(s)?yb(r,o):(o=Sm(s,r,o,u),o!==null&&(Rn(o,s,u),xb(o,r,u)))}function gb(s,r,o){var u=Hn();yc(s,r,o,u)}function yc(s,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ld(s))yb(r,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,A=y(w,o);if(p.hasEagerState=!0,p.eagerState=A,On(A,w))return xd(s,r,p,0),ct===null&&yd(),!1}catch{}if(o=Sm(s,r,p,u),o!==null)return Rn(o,s,u),xb(o,r,u),!0}return!1}function lp(s,r,o,u){if(u={lane:2,revertLane:zp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ld(s)){if(r)throw Error(i(479))}else r=Sm(s,o,u,2),r!==null&&Rn(r,s,2)}function Ld(s){var r=s.alternate;return s===Le||r!==null&&r===Le}function yb(s,r){Do=Id=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function xb(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ul(s,o)}}var xc={readContext:rn,use:Md,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};xc.useEffectEvent=_t;var vb={readContext:rn,use:Md,useCallback:function(s,r){return _n().memoizedState=[s,r===void 0?null:r],s},useContext:rn,useEffect:nb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Pd(4194308,4,ab.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Pd(4194308,4,s,r)},useInsertionEffect:function(s,r){Pd(4,2,s,r)},useMemo:function(s,r){var o=_n();r=r===void 0?null:r;var u=s();if(Ia){Kn(!0);try{s()}finally{Kn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=_n();if(o!==void 0){var p=o(r);if(Ia){Kn(!0);try{o(r)}finally{Kn(!1)}}}else p=r;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=NC.bind(null,Le,s),[u.memoizedState,s]},useRef:function(s){var r=_n();return s={current:s},r.memoizedState=s},useState:function(s){s=tp(s);var r=s.queue,o=gb.bind(null,Le,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:ip,useDeferredValue:function(s,r){var o=_n();return rp(o,s,r)},useTransition:function(){var s=tp(!1);return s=db.bind(null,Le,s.queue,!0,!1),_n().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Le,p=_n();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ct===null)throw Error(i(349));(qe&127)!==0||zv(u,r,o)}p.memoizedState=o;var y={value:o,getSnapshot:r};return p.queue=y,nb(Fv.bind(null,u,y,s),[s]),u.flags|=2048,Vo(9,{destroy:void 0},Bv.bind(null,u,y,o,r),null),o},useId:function(){var s=_n(),r=ct.identifierPrefix;if(Qe){var o=ei,u=Zs;o=(u&~(1<<32-Et(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=jd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=_C++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:op,useFormState:Wv,useActionState:Wv,useOptimistic:function(s){var r=_n();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=lp.bind(null,Le,!0,o),o.dispatch=r,[s,r]},useMemoCache:Jm,useCacheRefresh:function(){return _n().memoizedState=kC.bind(null,Le)},useEffectEvent:function(s){var r=_n(),o={impl:s};return r.memoizedState=o,function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},cp={readContext:rn,use:Md,useCallback:lb,useContext:rn,useEffect:sp,useImperativeHandle:ob,useInsertionEffect:ib,useLayoutEffect:rb,useMemo:cb,useReducer:Vd,useRef:tb,useState:function(){return Vd(Ri)},useDebugValue:ip,useDeferredValue:function(s,r){var o=kt();return ub(o,at.memoizedState,s,r)},useTransition:function(){var s=Vd(Ri)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:gc(s),r]},useSyncExternalStore:Uv,useId:mb,useHostTransitionStatus:op,useFormState:Jv,useActionState:Jv,useOptimistic:function(s,r){var o=kt();return Gv(o,at,s,r)},useMemoCache:Jm,useCacheRefresh:pb};cp.useEffectEvent=sb;var bb={readContext:rn,use:Md,useCallback:lb,useContext:rn,useEffect:sp,useImperativeHandle:ob,useInsertionEffect:ib,useLayoutEffect:rb,useMemo:cb,useReducer:ep,useRef:tb,useState:function(){return ep(Ri)},useDebugValue:ip,useDeferredValue:function(s,r){var o=kt();return at===null?rp(o,s,r):ub(o,at.memoizedState,s,r)},useTransition:function(){var s=ep(Ri)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:gc(s),r]},useSyncExternalStore:Uv,useId:mb,useHostTransitionStatus:op,useFormState:eb,useActionState:eb,useOptimistic:function(s,r){var o=kt();return at!==null?Gv(o,at,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Jm,useCacheRefresh:pb};bb.useEffectEvent=sb;function up(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var dp={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Hn(),p=xr(u);p.payload=r,o!=null&&(p.callback=o),r=vr(s,p,u),r!==null&&(Rn(r,s,u),hc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Hn(),p=xr(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=vr(s,p,u),r!==null&&(Rn(r,s,u),hc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Hn(),u=xr(o);u.tag=2,r!=null&&(u.callback=r),r=vr(s,u,o),r!==null&&(Rn(r,s,o),hc(r,s,o))}};function _b(s,r,o,u,p,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,w):r.prototype&&r.prototype.isPureReactComponent?!ic(o,u)||!ic(p,y):!0}function wb(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&dp.enqueueReplaceState(r,r.state,null)}function ja(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function Tb(s){gd(s)}function Eb(s){console.error(s)}function Sb(s){gd(s)}function Ud(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Ab(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function hp(s,r,o){return o=xr(o),o.tag=3,o.payload={element:null},o.callback=function(){Ud(s,r)},o}function kb(s){return s=xr(s),s.tag=3,s}function Nb(s,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){Ab(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Ab(r,o,u),typeof p!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function CC(s,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ko(r,o,p,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return ss===null?Wd():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Ad?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Op(s,u,p)),!1;case 22:return o.flags|=65536,u===Ad?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Op(s,u,p)),!1}throw Error(i(435,o.tag))}return Op(s,u,p),Wd(),!1}if(Qe)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==Im&&(s=Error(i(422),{cause:u}),oc(Zn(s,o)))):(u!==Im&&(r=Error(i(423),{cause:u}),oc(Zn(r,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=Zn(u,o),p=hp(s.stateNode,u,p),Fm(s,p),wt!==4&&(wt=2)),!1;var y=Error(i(520),{cause:u});if(y=Zn(y,o),Ac===null?Ac=[y]:Ac.push(y),wt!==4&&(wt=2),r===null)return!0;u=Zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=hp(o.stateNode,u,s),Fm(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Sr===null||!Sr.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=kb(p),Nb(p,s,o,u),Fm(o,p),!1}o=o.return}while(o!==null);return!1}var fp=Error(i(461)),Ot=!1;function an(s,r,o,u){r.child=s===null?jv(r,null,o,u):Ra(r,s.child,o,u)}function Cb(s,r,o,u,p){o=o.render;var y=r.ref;if("ref"in u){var w={};for(var A in u)A!=="ref"&&(w[A]=u[A])}else w=u;return Aa(r),u=Ym(s,r,o,w,y,p),A=Qm(),s!==null&&!Ot?(Xm(s,r,p),Ii(s,r,p)):(Qe&&A&&Cm(r),r.flags|=1,an(s,r,u,p),r.child)}function Rb(s,r,o,u,p){if(s===null){var y=o.type;return typeof y=="function"&&!Am(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Ib(s,r,y,u,p)):(s=bd(o.type,null,u,r,r.mode,p),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!_p(s,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:ic,o(w,u)&&s.ref===r.ref)return Ii(s,r,p)}return r.flags|=1,s=Si(y,u),s.ref=r.ref,s.return=r,r.child=s}function Ib(s,r,o,u,p){if(s!==null){var y=s.memoizedProps;if(ic(y,u)&&s.ref===r.ref)if(Ot=!1,r.pendingProps=u=y,_p(s,p))(s.flags&131072)!==0&&(Ot=!0);else return r.lanes=s.lanes,Ii(s,r,p)}return mp(s,r,o,u,p)}function jb(s,r,o,u){var p=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,r.child=null;return Db(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ed(r,y!==null?y.cachePool:null),y!==null?Vv(r,y):qm(),Pv(r);else return u=r.lanes=536870912,Db(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(Ed(r,y.cachePool),Vv(r,y),_r(),r.memoizedState=null):(s!==null&&Ed(r,null),qm(),_r());return an(s,r,p,o),r.child}function vc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Db(s,r,o,u,p){var y=Lm();return y=y===null?null:{parent:Vt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&Ed(r,null),qm(),Pv(r),s!==null&&ko(s,r,u,!0),r.childLanes=p,null}function zd(s,r){return r=Fd({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Mb(s,r,o){return Ra(r,s.child,null,o),s=zd(r,r.pendingProps),s.flags|=2,zn(r),r.memoizedState=null,s}function RC(s,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Qe){if(u.mode==="hidden")return s=zd(r,u),r.lanes=536870912,vc(null,s);if($m(r),(s=ht)?(s=$1(s,ns),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:fr!==null?{id:Zs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=yv(s),o.return=r,r.child=o,sn=r,ht=null)):s=null,s===null)throw pr(r);return r.lanes=536870912,null}return zd(r,u)}var y=s.memoizedState;if(y!==null){var w=y.dehydrated;if($m(r),p)if(r.flags&256)r.flags&=-257,r=Mb(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ot||ko(s,r,o,!1),p=(o&s.childLanes)!==0,Ot||p){if(u=ct,u!==null&&(w=zl(u,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,wa(s,w),Rn(u,s,w),fp;Wd(),r=Mb(s,r,o)}else s=y.treeContext,ht=is(w.nextSibling),sn=r,Qe=!0,mr=null,ns=!1,s!==null&&bv(r,s),r=zd(r,u),r.flags|=4096;return r}return s=Si(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Bd(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function mp(s,r,o,u,p){return Aa(r),o=Ym(s,r,o,u,void 0,p),u=Qm(),s!==null&&!Ot?(Xm(s,r,p),Ii(s,r,p)):(Qe&&u&&Cm(r),r.flags|=1,an(s,r,o,p),r.child)}function Vb(s,r,o,u,p,y){return Aa(r),r.updateQueue=null,o=Lv(r,u,o,p),Ov(s),u=Qm(),s!==null&&!Ot?(Xm(s,r,y),Ii(s,r,y)):(Qe&&u&&Cm(r),r.flags|=1,an(s,r,o,y),r.child)}function Pb(s,r,o,u,p){if(Aa(r),r.stateNode===null){var y=To,w=o.contextType;typeof w=="object"&&w!==null&&(y=rn(w)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=dp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},zm(r),w=o.contextType,y.context=typeof w=="object"&&w!==null?rn(w):To,y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(up(r,o,w,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&dp.enqueueReplaceState(y,y.state,null),mc(r,u,y,p),fc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var A=r.memoizedProps,L=ja(o,A);y.props=L;var W=y.context,ie=o.contextType;w=To,typeof ie=="object"&&ie!==null&&(w=rn(ie));var ae=o.getDerivedStateFromProps;ie=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||W!==w)&&wb(r,y,u,w),yr=!1;var Z=r.memoizedState;y.state=Z,mc(r,u,y,p),fc(),W=r.memoizedState,A||Z!==W||yr?(typeof ae=="function"&&(up(r,o,ae,u),W=r.memoizedState),(L=yr||_b(r,o,L,u,Z,W,w))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=W),y.props=u,y.state=W,y.context=w,u=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Bm(s,r),w=r.memoizedProps,ie=ja(o,w),y.props=ie,ae=r.pendingProps,Z=y.context,W=o.contextType,L=To,typeof W=="object"&&W!==null&&(L=rn(W)),A=o.getDerivedStateFromProps,(W=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ae||Z!==L)&&wb(r,y,u,L),yr=!1,Z=r.memoizedState,y.state=Z,mc(r,u,y,p),fc();var te=r.memoizedState;w!==ae||Z!==te||yr||s!==null&&s.dependencies!==null&&wd(s.dependencies)?(typeof A=="function"&&(up(r,o,A,u),te=r.memoizedState),(ie=yr||_b(r,o,ie,u,Z,te,L)||s!==null&&s.dependencies!==null&&wd(s.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,te,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,te,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),y.props=u,y.state=te,y.context=L,u=ie):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Bd(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=Ra(r,s.child,null,p),r.child=Ra(r,null,o,p)):an(s,r,o,p),r.memoizedState=y.state,s=r.child):s=Ii(s,r,p),s}function Ob(s,r,o,u){return Ea(),r.flags|=256,an(s,r,o,u),r.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(s){return{baseLanes:s,cachePool:Av()}}function yp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Fn),s}function Lb(s,r,o){var u=r.pendingProps,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=s!==null&&s.memoizedState===null?!1:(At.current&2)!==0),w&&(p=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,s===null){if(Qe){if(p?br(r):_r(),(s=ht)?(s=$1(s,ns),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:fr!==null?{id:Zs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=yv(s),o.return=r,r.child=o,sn=r,ht=null)):s=null,s===null)throw pr(r);return Zp(s)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,p?(_r(),p=r.mode,A=Fd({mode:"hidden",children:A},p),u=Ta(u,p,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=gp(o),u.childLanes=yp(s,w,o),r.memoizedState=pp,vc(null,u)):(br(r),xp(r,A))}var L=s.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(y)r.flags&256?(br(r),r.flags&=-257,r=vp(s,r,o)):r.memoizedState!==null?(_r(),r.child=s.child,r.flags|=128,r=null):(_r(),A=u.fallback,p=r.mode,u=Fd({mode:"visible",children:u.children},p),A=Ta(A,p,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,Ra(r,s.child,null,o),u=r.child,u.memoizedState=gp(o),u.childLanes=yp(s,w,o),r.memoizedState=pp,r=vc(null,u));else if(br(r),Zp(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var W=w.dgst;w=W,u=Error(i(419)),u.stack="",u.digest=w,oc({value:u,source:null,stack:null}),r=vp(s,r,o)}else if(Ot||ko(s,r,o,!1),w=(o&s.childLanes)!==0,Ot||w){if(w=ct,w!==null&&(u=zl(w,o),u!==0&&u!==L.retryLane))throw L.retryLane=u,wa(s,u),Rn(w,s,u),fp;Jp(A)||Wd(),r=vp(s,r,o)}else Jp(A)?(r.flags|=192,r.child=s.child,r=null):(s=L.treeContext,ht=is(A.nextSibling),sn=r,Qe=!0,mr=null,ns=!1,s!==null&&bv(r,s),r=xp(r,u.children),r.flags|=4096);return r}return p?(_r(),A=u.fallback,p=r.mode,L=s.child,W=L.sibling,u=Si(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,W!==null?A=Si(W,A):(A=Ta(A,p,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,vc(null,u),u=r.child,A=s.child.memoizedState,A===null?A=gp(o):(p=A.cachePool,p!==null?(L=Vt._currentValue,p=p.parent!==L?{parent:L,pool:L}:p):p=Av(),A={baseLanes:A.baseLanes|o,cachePool:p}),u.memoizedState=A,u.childLanes=yp(s,w,o),r.memoizedState=pp,vc(s.child,u)):(br(r),o=s.child,s=o.sibling,o=Si(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(w=r.deletions,w===null?(r.deletions=[s],r.flags|=16):w.push(s)),r.child=o,r.memoizedState=null,o)}function xp(s,r){return r=Fd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Fd(s,r){return s=Ln(22,s,null,r),s.lanes=0,s}function vp(s,r,o){return Ra(r,s.child,null,o),s=xp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Ub(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Mm(s.return,r,o)}function bp(s,r,o,u,p,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=p,w.treeForkCount=y)}function zb(s,r,o){var u=r.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var w=At.current,A=(w&2)!==0;if(A?(w=w&1|2,r.flags|=128):w&=1,ue(At,w),an(s,r,u,o),u=Qe?ac:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ub(s,o,r);else if(s.tag===19)Ub(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)s=o.alternate,s!==null&&Rd(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),bp(r,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(s=p.alternate,s!==null&&Rd(s)===null){r.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}bp(r,!0,o,null,y,u);break;case"together":bp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ii(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Er|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(ko(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Si(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Si(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function _p(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&wd(s)))}function IC(s,r,o){switch(r.tag){case 3:pe(r,r.stateNode.containerInfo),gr(r,Vt,s.memoizedState.cache),Ea();break;case 27:case 5:bt(r);break;case 4:pe(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,$m(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(br(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Lb(s,r,o):(br(r),s=Ii(s,r,o),s!==null?s.sibling:null);br(r);break;case 19:var p=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ko(s,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return zb(s,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ue(At,At.current),u)break;return null;case 22:return r.lanes=0,jb(s,r,o,r.pendingProps);case 24:gr(r,Vt,s.memoizedState.cache)}return Ii(s,r,o)}function Bb(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ot=!0;else{if(!_p(s,o)&&(r.flags&128)===0)return Ot=!1,IC(s,r,o);Ot=(s.flags&131072)!==0}else Ot=!1,Qe&&(r.flags&1048576)!==0&&vv(r,ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Na(r.elementType),r.type=s,typeof s=="function")Am(s)?(u=ja(s,u),r.tag=1,r=Pb(null,r,s,u,o)):(r.tag=0,r=mp(null,r,s,u,o));else{if(s!=null){var p=s.$$typeof;if(p===J){r.tag=11,r=Cb(null,r,s,u,o);break e}else if(p===R){r.tag=14,r=Rb(null,r,s,u,o);break e}}throw r=ze(s)||s,Error(i(306,r,""))}}return r;case 0:return mp(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=ja(u,r.pendingProps),Pb(s,r,u,p,o);case 3:e:{if(pe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;p=y.element,Bm(s,r),mc(r,u,null,o);var w=r.memoizedState;if(u=w.cache,gr(r,Vt,u),u!==y.cache&&Vm(r,[Vt],o,!0),fc(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Ob(s,r,u,o);break e}else if(u!==p){p=Zn(Error(i(424)),r),oc(p),r=Ob(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ht=is(s.firstChild),sn=r,Qe=!0,mr=null,ns=!0,o=jv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ea(),u===p){r=Ii(s,r,o);break e}an(s,r,u,o)}r=r.child}return r;case 26:return Bd(s,r),s===null?(o=J1(r.type,null,r.pendingProps,null))?r.memoizedState=o:Qe||(o=r.type,s=r.pendingProps,u=ih(Ie.current).createElement(o),u[jt]=r,u[Xt]=s,on(u,o,s),Dt(u),r.stateNode=u):r.memoizedState=J1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return bt(r),s===null&&Qe&&(u=r.stateNode=Q1(r.type,r.pendingProps,Ie.current),sn=r,ns=!0,p=ht,Cr(r.type)?(eg=p,ht=is(u.firstChild)):ht=p),an(s,r,r.pendingProps.children,o),Bd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Qe&&((p=u=ht)&&(u=oR(u,r.type,r.pendingProps,ns),u!==null?(r.stateNode=u,sn=r,ht=is(u.firstChild),ns=!1,p=!0):p=!1),p||pr(r)),bt(r),p=r.type,y=r.pendingProps,w=s!==null?s.memoizedProps:null,u=y.children,Qp(p,y)?u=null:w!==null&&Qp(p,w)&&(r.flags|=32),r.memoizedState!==null&&(p=Ym(s,r,wC,null,null,o),Mc._currentValue=p),Bd(s,r),an(s,r,u,o),r.child;case 6:return s===null&&Qe&&((s=o=ht)&&(o=lR(o,r.pendingProps,ns),o!==null?(r.stateNode=o,sn=r,ht=null,s=!0):s=!1),s||pr(r)),null;case 13:return Lb(s,r,o);case 4:return pe(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Ra(r,null,u,o):an(s,r,u,o),r.child;case 11:return Cb(s,r,r.type,r.pendingProps,o);case 7:return an(s,r,r.pendingProps,o),r.child;case 8:return an(s,r,r.pendingProps.children,o),r.child;case 12:return an(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,gr(r,r.type,u.value),an(s,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,Aa(r),p=rn(p),u=u(p),r.flags|=1,an(s,r,u,o),r.child;case 14:return Rb(s,r,r.type,r.pendingProps,o);case 15:return Ib(s,r,r.type,r.pendingProps,o);case 19:return zb(s,r,o);case 31:return RC(s,r,o);case 22:return jb(s,r,o,r.pendingProps);case 24:return Aa(r),u=rn(Vt),s===null?(p=Lm(),p===null&&(p=ct,y=Pm(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),r.memoizedState={parent:u,cache:p},zm(r),gr(r,Vt,p)):((s.lanes&o)!==0&&(Bm(s,r),mc(r,null,null,o),fc()),p=s.memoizedState,y=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),gr(r,Vt,u)):(u=y.cache,gr(r,Vt,u),u!==p.cache&&Vm(r,[Vt],o,!0))),an(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ji(s){s.flags|=4}function wp(s,r,o,u,p){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(m1())s.flags|=8192;else throw Ca=Ad,Um}else s.flags&=-16777217}function Fb(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!s_(r))if(m1())s.flags|=8192;else throw Ca=Ad,Um}function Hd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Qu():536870912,s.lanes|=r,Uo|=r)}function bc(s,r){if(!Qe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ft(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function jC(s,r,o){var u=r.pendingProps;switch(Rm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ni(Vt),De(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Ao(r)?ji(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jm())),ft(r),null;case 26:var p=r.type,y=r.memoizedState;return s===null?(ji(r),y!==null?(ft(r),Fb(r,y)):(ft(r),wp(r,p,null,u,o))):y?y!==s.memoizedState?(ji(r),ft(r),Fb(r,y)):(ft(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&ji(r),ft(r),wp(r,p,s,u,o)),null;case 27:if(en(r),o=Ie.current,p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}s=he.current,Ao(r)?_v(r):(s=Q1(p,u,o),r.stateNode=s,ji(r))}return ft(r),null;case 5:if(en(r),p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}if(y=he.current,Ao(r))_v(r);else{var w=ih(Ie.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(p,{is:u.is}):w.createElement(p)}}y[jt]=r,y[Xt]=u;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=y;e:switch(on(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ji(r)}}return ft(r),wp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ie.current,Ao(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,p=sn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[jt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||L1(s.nodeValue,o)),s||pr(r,!0)}else s=ih(s).createTextNode(u),s[jt]=r,r.stateNode=s}return ft(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Ao(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[jt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),s=!1}else o=jm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(zn(r),r):(zn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ft(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Ao(r),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[jt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),p=!1}else p=jm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(zn(r),r):(zn(r),null)}return zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Hd(r,r.updateQueue),ft(r),null);case 4:return De(),s===null&&qp(r.stateNode.containerInfo),ft(r),null;case 10:return Ni(r.type),ft(r),null;case 19:if(ne(At),u=r.memoizedState,u===null)return ft(r),null;if(p=(r.flags&128)!==0,y=u.rendering,y===null)if(p)bc(u,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Rd(s),y!==null){for(r.flags|=128,bc(u,!1),s=y.updateQueue,r.updateQueue=s,Hd(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)gv(o,s),o=o.sibling;return ue(At,At.current&1|2),Qe&&Ai(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&vn()>Yd&&(r.flags|=128,p=!0,bc(u,!1),r.lanes=4194304)}else{if(!p)if(s=Rd(y),s!==null){if(r.flags|=128,p=!0,s=s.updateQueue,r.updateQueue=s,Hd(r,s),bc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Qe)return ft(r),null}else 2*vn()-u.renderingStartTime>Yd&&o!==536870912&&(r.flags|=128,p=!0,bc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=vn(),s.sibling=null,o=At.current,ue(At,p?o&1|2:o&1),Qe&&Ai(r,u.treeForkCount),s):(ft(r),null);case 22:case 23:return zn(r),Gm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),o=r.updateQueue,o!==null&&Hd(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&ne(ka),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ni(Vt),ft(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function DC(s,r){switch(Rm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ni(Vt),De(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return en(r),null;case 31:if(r.memoizedState!==null){if(zn(r),r.alternate===null)throw Error(i(340));Ea()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(zn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ea()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ne(At),null;case 4:return De(),null;case 10:return Ni(r.type),null;case 22:case 23:return zn(r),Gm(),s!==null&&ne(ka),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ni(Vt),null;case 25:return null;default:return null}}function Hb(s,r){switch(Rm(r),r.tag){case 3:Ni(Vt),De();break;case 26:case 27:case 5:en(r);break;case 4:De();break;case 31:r.memoizedState!==null&&zn(r);break;case 13:zn(r);break;case 19:ne(At);break;case 10:Ni(r.type);break;case 22:case 23:zn(r),Gm(),s!==null&&ne(ka);break;case 24:Ni(Vt)}}function _c(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&s)===s){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==p)}}catch(A){it(r,r.return,A)}}function wr(s,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var w=u.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,p=r;var L=o,W=A;try{W()}catch(ie){it(p,L,ie)}}}u=u.next}while(u!==y)}}catch(ie){it(r,r.return,ie)}}function qb(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Mv(r,o)}catch(u){it(s,s.return,u)}}}function Gb(s,r,o){o.props=ja(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){it(s,r,u)}}function wc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(p){it(s,r,p)}}function ti(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){it(s,r,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){it(s,r,p)}else o.current=null}function $b(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){it(s,s.return,p)}}function Tp(s,r,o){try{var u=s.stateNode;tR(u,s.type,o,r),u[Xt]=r}catch(p){it(s,s.return,p)}}function Kb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Cr(s.type)||s.tag===4}function Ep(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Kb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Cr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ys));else if(u!==4&&(u===27&&Cr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Sp(s,r,o),s=s.sibling;s!==null;)Sp(s,r,o),s=s.sibling}function qd(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Cr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(qd(s,r,o),s=s.sibling;s!==null;)qd(s,r,o),s=s.sibling}function Yb(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);on(r,u,o),r[jt]=s,r[Xt]=o}catch(y){it(s,s.return,y)}}var Di=!1,Lt=!1,Ap=!1,Qb=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function MC(s,r){if(s=s.containerInfo,Kp=dh,s=ov(s),vm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,A=-1,L=-1,W=0,ie=0,ae=s,Z=null;t:for(;;){for(var te;ae!==o||p!==0&&ae.nodeType!==3||(A=w+p),ae!==y||u!==0&&ae.nodeType!==3||(L=w+u),ae.nodeType===3&&(w+=ae.nodeValue.length),(te=ae.firstChild)!==null;)Z=ae,ae=te;for(;;){if(ae===s)break t;if(Z===o&&++W===p&&(A=w),Z===y&&++ie===u&&(L=w),(te=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=te}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yp={focusedElem:s,selectionRange:o},dh=!1,Jt=r;Jt!==null;)if(r=Jt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Jt=s;else for(;Jt!==null;){switch(r=Jt,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var ve=ja(o.type,p);s=u.getSnapshotBeforeUpdate(ve,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ce){it(o,o.return,Ce)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Wp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Jt=s;break}Jt=r.return}}function Xb(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Vi(s,o),u&4&&_c(5,o);break;case 1:if(Vi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(w){it(o,o.return,w)}else{var p=ja(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(p,r,s.__reactInternalSnapshotBeforeUpdate)}catch(w){it(o,o.return,w)}}u&64&&qb(o),u&512&&wc(o,o.return);break;case 3:if(Vi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Mv(s,r)}catch(w){it(o,o.return,w)}}break;case 27:r===null&&u&4&&Yb(o);case 26:case 5:Vi(s,o),r===null&&u&4&&$b(o),u&512&&wc(o,o.return);break;case 12:Vi(s,o);break;case 31:Vi(s,o),u&4&&Zb(s,o);break;case 13:Vi(s,o),u&4&&e1(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=HC.bind(null,o),cR(s,o))));break;case 22:if(u=o.memoizedState!==null||Di,!u){r=r!==null&&r.memoizedState!==null||Lt,p=Di;var y=Lt;Di=u,(Lt=r)&&!y?Pi(s,o,(o.subtreeFlags&8772)!==0):Vi(s,o),Di=p,Lt=y}break;case 30:break;default:Vi(s,o)}}function Wb(s){var r=s.alternate;r!==null&&(s.alternate=null,Wb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&lo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var gt=null,An=!1;function Mi(s,r,o){for(o=o.child;o!==null;)Jb(s,r,o),o=o.sibling}function Jb(s,r,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(fs,o)}catch{}switch(o.tag){case 26:Lt||ti(o,r),Mi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Lt||ti(o,r);var u=gt,p=An;Cr(o.type)&&(gt=o.stateNode,An=!1),Mi(s,r,o),Ic(o.stateNode),gt=u,An=p;break;case 5:Lt||ti(o,r);case 6:if(u=gt,p=An,gt=null,Mi(s,r,o),gt=u,An=p,gt!==null)if(An)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(y){it(o,r,y)}else try{gt.removeChild(o.stateNode)}catch(y){it(o,r,y)}break;case 18:gt!==null&&(An?(s=gt,q1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Ko(s)):q1(gt,o.stateNode));break;case 4:u=gt,p=An,gt=o.stateNode.containerInfo,An=!0,Mi(s,r,o),gt=u,An=p;break;case 0:case 11:case 14:case 15:wr(2,o,r),Lt||wr(4,o,r),Mi(s,r,o);break;case 1:Lt||(ti(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Gb(o,r,u)),Mi(s,r,o);break;case 21:Mi(s,r,o);break;case 22:Lt=(u=Lt)||o.memoizedState!==null,Mi(s,r,o),Lt=u;break;default:Mi(s,r,o)}}function Zb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ko(s)}catch(o){it(r,r.return,o)}}}function e1(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ko(s)}catch(o){it(r,r.return,o)}}function VC(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Qb),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Qb),r;default:throw Error(i(435,s.tag))}}function Gd(s,r){var o=VC(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=qC.bind(null,s,u);u.then(p,p)}})}function kn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=s,w=r,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Cr(A.type)){gt=A.stateNode,An=!1;break e}break;case 5:gt=A.stateNode,An=!1;break e;case 3:case 4:gt=A.stateNode.containerInfo,An=!0;break e}A=A.return}if(gt===null)throw Error(i(160));Jb(y,w,p),gt=null,An=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)t1(r,s),r=r.sibling}var Ts=null;function t1(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:kn(r,s),Nn(s),u&4&&(wr(3,s,s.return),_c(3,s),wr(5,s,s.return));break;case 1:kn(r,s),Nn(s),u&512&&(Lt||o===null||ti(o,o.return)),u&64&&Di&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Ts;if(kn(r,s),Nn(s),u&512&&(Lt||o===null||ti(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Bs]||y[jt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),on(y,u,o),y[jt]=s,Dt(y),u=y;break e;case"link":var w=t_("link","href",p).get(u+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(y=w[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}y=p.createElement(u),on(y,u,o),p.head.appendChild(y);break;case"meta":if(w=t_("meta","content",p).get(u+(o.content||""))){for(A=0;A<w.length;A++)if(y=w[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}y=p.createElement(u),on(y,u,o),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[jt]=s,Dt(y),u=y}s.stateNode=u}else n_(p,s.type,s.stateNode);else s.stateNode=e_(p,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?n_(p,s.type,s.stateNode):e_(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Tp(s,s.memoizedProps,o.memoizedProps)}break;case 27:kn(r,s),Nn(s),u&512&&(Lt||o===null||ti(o,o.return)),o!==null&&u&4&&Tp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(kn(r,s),Nn(s),u&512&&(Lt||o===null||ti(o,o.return)),s.flags&32){p=s.stateNode;try{Sn(p,"")}catch(ve){it(s,s.return,ve)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,Tp(s,p,o!==null?o.memoizedProps:p)),u&1024&&(Ap=!0);break;case 6:if(kn(r,s),Nn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(ve){it(s,s.return,ve)}}break;case 3:if(oh=null,p=Ts,Ts=rh(r.containerInfo),kn(r,s),Ts=p,Nn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ko(r.containerInfo)}catch(ve){it(s,s.return,ve)}Ap&&(Ap=!1,n1(s));break;case 4:u=Ts,Ts=rh(s.stateNode.containerInfo),kn(r,s),Nn(s),Ts=u;break;case 12:kn(r,s),Nn(s);break;case 31:kn(r,s),Nn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Gd(s,u)));break;case 13:kn(r,s),Nn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kd=vn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Gd(s,u)));break;case 22:p=s.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,W=Di,ie=Lt;if(Di=W||p,Lt=ie||L,kn(r,s),Lt=ie,Di=W,Nn(s),u&8192)e:for(r=s.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||L||Di||Lt||Da(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(y=L.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=L.stateNode;var ae=L.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ve){it(L,L.return,ve)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(ve){it(L,L.return,ve)}}}else if(r.tag===18){if(o===null){L=r;try{var te=L.stateNode;p?G1(te,!0):G1(L.stateNode,!1)}catch(ve){it(L,L.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Gd(s,o))));break;case 19:kn(r,s),Nn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Gd(s,u)));break;case 30:break;case 21:break;default:kn(r,s),Nn(s)}}function Nn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(Kb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,y=Ep(s);qd(s,y,p);break;case 5:var w=o.stateNode;o.flags&32&&(Sn(w,""),o.flags&=-33);var A=Ep(s);qd(s,A,w);break;case 3:case 4:var L=o.stateNode.containerInfo,W=Ep(s);Sp(s,W,L);break;default:throw Error(i(161))}}catch(ie){it(s,s.return,ie)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function n1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;n1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Vi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xb(s,r.alternate,r),r=r.sibling}function Da(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),Da(r);break;case 1:ti(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Gb(r,r.return,o),Da(r);break;case 27:Ic(r.stateNode);case 26:case 5:ti(r,r.return),Da(r);break;case 22:r.memoizedState===null&&Da(r);break;case 30:Da(r);break;default:Da(r)}s=s.sibling}}function Pi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=s,y=r,w=y.flags;switch(y.tag){case 0:case 11:case 15:Pi(p,y,o),_c(4,y);break;case 1:if(Pi(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){it(u,u.return,W)}if(u=y,p=u.updateQueue,p!==null){var A=u.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)Dv(L[p],A)}catch(W){it(u,u.return,W)}}o&&w&64&&qb(y),wc(y,y.return);break;case 27:Yb(y);case 26:case 5:Pi(p,y,o),o&&u===null&&w&4&&$b(y),wc(y,y.return);break;case 12:Pi(p,y,o);break;case 31:Pi(p,y,o),o&&w&4&&Zb(p,y);break;case 13:Pi(p,y,o),o&&w&4&&e1(p,y);break;case 22:y.memoizedState===null&&Pi(p,y,o),wc(y,y.return);break;case 30:break;default:Pi(p,y,o)}r=r.sibling}}function kp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&lc(o))}function Np(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&lc(s))}function Es(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)s1(s,r,o,u),r=r.sibling}function s1(s,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Es(s,r,o,u),p&2048&&_c(9,r);break;case 1:Es(s,r,o,u);break;case 3:Es(s,r,o,u),p&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&lc(s)));break;case 12:if(p&2048){Es(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,w=y.id,A=y.onPostCommit;typeof A=="function"&&A(w,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){it(r,r.return,L)}}else Es(s,r,o,u);break;case 31:Es(s,r,o,u);break;case 13:Es(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,w=r.alternate,r.memoizedState!==null?y._visibility&2?Es(s,r,o,u):Tc(s,r):y._visibility&2?Es(s,r,o,u):(y._visibility|=2,Po(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&kp(w,r);break;case 24:Es(s,r,o,u),p&2048&&Np(r.alternate,r);break;default:Es(s,r,o,u)}}function Po(s,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,w=r,A=o,L=u,W=w.flags;switch(w.tag){case 0:case 11:case 15:Po(y,w,A,L,p),_c(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?Po(y,w,A,L,p):Tc(y,w):(ie._visibility|=2,Po(y,w,A,L,p)),p&&W&2048&&kp(w.alternate,w);break;case 24:Po(y,w,A,L,p),p&&W&2048&&Np(w.alternate,w);break;default:Po(y,w,A,L,p)}r=r.sibling}}function Tc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,p=u.flags;switch(u.tag){case 22:Tc(o,u),p&2048&&kp(u.alternate,u);break;case 24:Tc(o,u),p&2048&&Np(u.alternate,u);break;default:Tc(o,u)}r=r.sibling}}var Ec=8192;function Oo(s,r,o){if(s.subtreeFlags&Ec)for(s=s.child;s!==null;)i1(s,r,o),s=s.sibling}function i1(s,r,o){switch(s.tag){case 26:Oo(s,r,o),s.flags&Ec&&s.memoizedState!==null&&_R(o,Ts,s.memoizedState,s.memoizedProps);break;case 5:Oo(s,r,o);break;case 3:case 4:var u=Ts;Ts=rh(s.stateNode.containerInfo),Oo(s,r,o),Ts=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Ec,Ec=16777216,Oo(s,r,o),Ec=u):Oo(s,r,o));break;default:Oo(s,r,o)}}function r1(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Sc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Jt=u,o1(u,s)}r1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)a1(s),s=s.sibling}function a1(s){switch(s.tag){case 0:case 11:case 15:Sc(s),s.flags&2048&&wr(9,s,s.return);break;case 3:Sc(s);break;case 12:Sc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,$d(s)):Sc(s);break;default:Sc(s)}}function $d(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Jt=u,o1(u,s)}r1(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:wr(8,r,r.return),$d(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,$d(r));break;default:$d(r)}s=s.sibling}}function o1(s,r){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:wr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:lc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Jt=u;else e:for(o=s;Jt!==null;){u=Jt;var p=u.sibling,y=u.return;if(Wb(u),u===o){Jt=null;break e}if(p!==null){p.return=y,Jt=p;break e}Jt=y}}}var PC={getCacheForType:function(s){var r=rn(Vt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return rn(Vt).controller.signal}},OC=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Fe=null,qe=0,st=0,Bn=null,Tr=!1,Lo=!1,Cp=!1,Oi=0,wt=0,Er=0,Ma=0,Rp=0,Fn=0,Uo=0,Ac=null,Cn=null,Ip=!1,Kd=0,l1=0,Yd=1/0,Qd=null,Sr=null,Gt=0,Ar=null,zo=null,Li=0,jp=0,Dp=null,c1=null,kc=0,Mp=null;function Hn(){return(et&2)!==0&&qe!==0?qe&-qe:O.T!==null?zp():Xu()}function u1(){if(Fn===0)if((qe&536870912)===0||Qe){var s=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),Fn=s}else Fn=536870912;return s=Un.current,s!==null&&(s.flags|=32),Fn}function Rn(s,r,o){(s===ct&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(Bo(s,0),kr(s,qe,Fn,!1)),la(s,o),((et&2)===0||s!==ct)&&(s===ct&&((et&2)===0&&(Ma|=o),wt===4&&kr(s,qe,Fn,!1)),ni(s))}function d1(s,r,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ms(s,r),p=u?zC(s,r):Pp(s,r,!0),y=u;do{if(p===0){Lo&&!u&&kr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!LC(o)){p=Pp(s,r,!1),y=!1;continue}if(p===2){if(y=r,s.errorRecoveryDisabledLanes&y)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var A=s;p=Ac;var L=A.current.memoizedState.isDehydrated;if(L&&(Bo(A,w).flags|=256),w=Pp(A,w,!1),w!==2){if(Cp&&!L){A.errorRecoveryDisabledLanes|=y,Ma|=y,p=4;break e}y=Cn,Cn=p,y!==null&&(Cn===null?Cn=y:Cn.push.apply(Cn,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){Bo(s,0),kr(s,r,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:kr(u,r,Fn,!Tr);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=Kd+300-vn(),10<p)){if(kr(u,r,Fn,!Tr),Ls(u,0,!0)!==0)break e;Li=r,u.timeoutHandle=F1(h1.bind(null,u,o,Cn,Qd,Ip,r,Fn,Ma,Uo,Tr,y,"Throttled",-0,0),p);break e}h1(u,o,Cn,Qd,Ip,r,Fn,Ma,Uo,Tr,y,null,-0,0)}}break}while(!0);ni(s)}function h1(s,r,o,u,p,y,w,A,L,W,ie,ae,Z,te){if(s.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ys},i1(r,y,ae);var ve=(y&62914560)===y?Kd-vn():(y&4194048)===y?l1-vn():0;if(ve=wR(ae,ve),ve!==null){Li=y,s.cancelPendingCommit=ve(b1.bind(null,s,r,y,o,u,p,w,A,L,ie,ae,null,Z,te)),kr(s,y,w,!W);return}}b1(s,r,y,o,u,p,w,A,L)}function LC(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!On(y(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function kr(s,r,o,u){r&=~Rp,r&=~Ma,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var p=r;0<p;){var y=31-Et(p),w=1<<y;u[y]=-1,p&=~w}o!==0&&ca(s,o,r)}function Xd(){return(et&6)===0?(Nc(0),!1):!0}function Vp(){if(Fe!==null){if(st===0)var s=Fe.return;else s=Fe,ki=Sa=null,Wm(s),Io=null,uc=0,s=Fe;for(;s!==null;)Hb(s.alternate,s),s=s.return;Fe=null}}function Bo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,iR(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Li=0,Vp(),ct=s,Fe=o=Si(s.current,null),qe=r,st=0,Bn=null,Tr=!1,Lo=ms(s,r),Cp=!1,Uo=Fn=Rp=Ma=Er=wt=0,Cn=Ac=null,Ip=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var p=31-Et(u),y=1<<p;r|=s[p],u&=~y}return Oi=r,yd(),o}function f1(s,r){Le=null,O.H=xc,r===Ro||r===Sd?(r=Cv(),st=3):r===Um?(r=Cv(),st=4):st=r===fp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Fe===null&&(wt=1,Ud(s,Zn(r,s.current)))}function m1(){var s=Un.current;return s===null?!0:(qe&4194048)===qe?ss===null:(qe&62914560)===qe||(qe&536870912)!==0?s===ss:!1}function p1(){var s=O.H;return O.H=xc,s===null?xc:s}function g1(){var s=O.A;return O.A=PC,s}function Wd(){wt=4,Tr||(qe&4194048)!==qe&&Un.current!==null||(Lo=!0),(Er&134217727)===0&&(Ma&134217727)===0||ct===null||kr(ct,qe,Fn,!1)}function Pp(s,r,o){var u=et;et|=2;var p=p1(),y=g1();(ct!==s||qe!==r)&&(Qd=null,Bo(s,r)),r=!1;var w=wt;e:do try{if(st!==0&&Fe!==null){var A=Fe,L=Bn;switch(st){case 8:Vp(),w=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var W=st;if(st=0,Bn=null,Fo(s,A,L,W),o&&Lo){w=0;break e}break;default:W=st,st=0,Bn=null,Fo(s,A,L,W)}}UC(),w=wt;break}catch(ie){f1(s,ie)}while(!0);return r&&s.shellSuspendCounter++,ki=Sa=null,et=u,O.H=p,O.A=y,Fe===null&&(ct=null,qe=0,yd()),w}function UC(){for(;Fe!==null;)y1(Fe)}function zC(s,r){var o=et;et|=2;var u=p1(),p=g1();ct!==s||qe!==r?(Qd=null,Yd=vn()+500,Bo(s,r)):Lo=ms(s,r);e:do try{if(st!==0&&Fe!==null){r=Fe;var y=Bn;t:switch(st){case 1:st=0,Bn=null,Fo(s,r,y,1);break;case 2:case 9:if(kv(y)){st=0,Bn=null,x1(r);break}r=function(){st!==2&&st!==9||ct!==s||(st=7),ni(s)},y.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:kv(y)?(st=0,Bn=null,x1(r)):(st=0,Bn=null,Fo(s,r,y,7));break;case 5:var w=null;switch(Fe.tag){case 26:w=Fe.memoizedState;case 5:case 27:var A=Fe;if(w?s_(w):A.stateNode.complete){st=0,Bn=null;var L=A.sibling;if(L!==null)Fe=L;else{var W=A.return;W!==null?(Fe=W,Jd(W)):Fe=null}break t}}st=0,Bn=null,Fo(s,r,y,5);break;case 6:st=0,Bn=null,Fo(s,r,y,6);break;case 8:Vp(),wt=6;break e;default:throw Error(i(462))}}BC();break}catch(ie){f1(s,ie)}while(!0);return ki=Sa=null,O.H=u,O.A=p,et=o,Fe!==null?0:(ct=null,qe=0,yd(),wt)}function BC(){for(;Fe!==null&&!hm();)y1(Fe)}function y1(s){var r=Bb(s.alternate,s,Oi);s.memoizedProps=s.pendingProps,r===null?Jd(s):Fe=r}function x1(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Vb(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Vb(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:Wm(r);default:Hb(o,r),r=Fe=gv(r,Oi),r=Bb(o,r,Oi)}s.memoizedProps=s.pendingProps,r===null?Jd(s):Fe=r}function Fo(s,r,o,u){ki=Sa=null,Wm(r),Io=null,uc=0;var p=r.return;try{if(CC(s,p,r,o,qe)){wt=1,Ud(s,Zn(o,s.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;wt=1,Ud(s,Zn(o,s.current)),Fe=null;return}r.flags&32768?(Qe||u===1?s=!0:Lo||(qe&536870912)!==0?s=!1:(Tr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),v1(r,s)):Jd(r)}function Jd(s){var r=s;do{if((r.flags&32768)!==0){v1(r,Tr);return}s=r.return;var o=jC(r.alternate,r,Oi);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);wt===0&&(wt=5)}function v1(s,r){do{var o=DC(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);wt=6,Fe=null}function b1(s,r,o,u,p,y,w,A,L){s.cancelPendingCommit=null;do Zd();while(Gt!==0);if((et&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=Em,pm(s,o,y,w,A,L),s===ct&&(Fe=ct=null,qe=0),zo=r,Ar=s,Li=o,jp=y,Dp=p,c1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,GC(sr,function(){return S1(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=O.T,O.T=null,p=H.p,H.p=2,w=et,et|=4;try{MC(s,r,o)}finally{et=w,H.p=p,O.T=u}}Gt=1,_1(),w1(),T1()}}function _1(){if(Gt===1){Gt=0;var s=Ar,r=zo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=O.T,O.T=null;var u=H.p;H.p=2;var p=et;et|=4;try{t1(r,s);var y=Yp,w=ov(s.containerInfo),A=y.focusedElem,L=y.selectionRange;if(w!==A&&A&&A.ownerDocument&&av(A.ownerDocument.documentElement,A)){if(L!==null&&vm(A)){var W=L.start,ie=L.end;if(ie===void 0&&(ie=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(ie,A.value.length);else{var ae=A.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),ve=A.textContent.length,Ce=Math.min(L.start,ve),lt=L.end===void 0?Ce:Math.min(L.end,ve);!te.extend&&Ce>lt&&(w=lt,lt=Ce,Ce=w);var Y=rv(A,Ce),F=rv(A,lt);if(Y&&F&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var X=ae.createRange();X.setStart(Y.node,Y.offset),te.removeAllRanges(),Ce>lt?(te.addRange(X),te.extend(F.node,F.offset)):(X.setEnd(F.node,F.offset),te.addRange(X))}}}}for(ae=[],te=A;te=te.parentNode;)te.nodeType===1&&ae.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var re=ae[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}dh=!!Kp,Yp=Kp=null}finally{et=p,H.p=u,O.T=o}}s.current=r,Gt=2}}function w1(){if(Gt===2){Gt=0;var s=Ar,r=zo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=O.T,O.T=null;var u=H.p;H.p=2;var p=et;et|=4;try{Xb(s,r.alternate,r)}finally{et=p,H.p=u,O.T=o}}Gt=3}}function T1(){if(Gt===4||Gt===3){Gt=0,Hu();var s=Ar,r=zo,o=Li,u=c1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,zo=Ar=null,E1(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Sr=null),_i(o),r=r.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(fs,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=O.T,p=H.p,H.p=2,O.T=null;try{for(var y=s.onRecoverableError,w=0;w<u.length;w++){var A=u[w];y(A.value,{componentStack:A.stack})}}finally{O.T=r,H.p=p}}(Li&3)!==0&&Zd(),ni(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===Mp?kc++:(kc=0,Mp=s):kc=0,Nc(0)}}function E1(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,lc(r)))}function Zd(){return _1(),w1(),T1(),S1()}function S1(){if(Gt!==5)return!1;var s=Ar,r=jp;jp=0;var o=_i(Li),u=O.T,p=H.p;try{H.p=32>o?32:o,O.T=null,o=Dp,Dp=null;var y=Ar,w=Li;if(Gt=0,zo=Ar=null,Li=0,(et&6)!==0)throw Error(i(331));var A=et;if(et|=4,a1(y.current),s1(y,y.current,w,o),et=A,Nc(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(fs,y)}catch{}return!0}finally{H.p=p,O.T=u,E1(s,r)}}function A1(s,r,o){r=Zn(o,r),r=hp(s.stateNode,r,2),s=vr(s,r,2),s!==null&&(la(s,2),ni(s))}function it(s,r,o){if(s.tag===3)A1(s,s,o);else for(;r!==null;){if(r.tag===3){A1(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Sr===null||!Sr.has(u))){s=Zn(o,s),o=kb(2),u=vr(r,o,2),u!==null&&(Nb(o,u,r,s),la(u,2),ni(u));break}}r=r.return}}function Op(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new OC;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(Cp=!0,p.add(o),s=FC.bind(null,s,r,o),r.then(s,s))}function FC(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ct===s&&(qe&o)===o&&(wt===4||wt===3&&(qe&62914560)===qe&&300>vn()-Kd?(et&2)===0&&Bo(s,0):Rp|=o,Uo===qe&&(Uo=0)),ni(s)}function k1(s,r){r===0&&(r=Qu()),s=wa(s,r),s!==null&&(la(s,r),ni(s))}function HC(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),k1(s,o)}function qC(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),k1(s,o)}function GC(s,r){return qt(s,r)}var eh=null,Ho=null,Lp=!1,th=!1,Up=!1,Nr=0;function ni(s){s!==Ho&&s.next===null&&(Ho===null?eh=Ho=s:Ho=Ho.next=s),th=!0,Lp||(Lp=!0,KC())}function Nc(s,r){if(!Up&&th){Up=!0;do for(var o=!1,u=eh;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-Et(42|s)+1)-1,y&=p&~(w&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,I1(u,y))}else y=qe,y=Ls(u,u===ct?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ms(u,y)||(o=!0,I1(u,y));u=u.next}while(o);Up=!1}}function $C(){N1()}function N1(){th=Lp=!1;var s=0;Nr!==0&&sR()&&(s=Nr);for(var r=vn(),o=null,u=eh;u!==null;){var p=u.next,y=C1(u,r);y===0?(u.next=null,o===null?eh=p:o.next=p,p===null&&(Ho=o)):(o=u,(s!==0||(y&3)!==0)&&(th=!0)),u=p}Gt!==0&&Gt!==5||Nc(s),Nr!==0&&(Nr=0)}function C1(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var w=31-Et(y),A=1<<w,L=p[w];L===-1?((A&o)===0||(A&u)!==0)&&(p[w]=mm(A,r)):L<=r&&(s.expiredLanes|=A),y&=~A}if(r=ct,o=qe,o=Ls(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&nr(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ms(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&nr(u),_i(o)){case 2:case 8:o=Ll;break;case 32:o=sr;break;case 268435456:o=qu;break;default:o=sr}return u=R1.bind(null,s),o=qt(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&nr(u),s.callbackPriority=2,s.callbackNode=null,2}function R1(s,r){if(Gt!==0&&Gt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Zd()&&s.callbackNode!==o)return null;var u=qe;return u=Ls(s,s===ct?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(d1(s,u,r),C1(s,vn()),s.callbackNode!=null&&s.callbackNode===o?R1.bind(null,s):null)}function I1(s,r){if(Zd())return null;d1(s,r,!0)}function KC(){rR(function(){(et&6)!==0?qt(Ol,$C):N1()})}function zp(){if(Nr===0){var s=No;s===0&&(s=Ps,Ps<<=1,(Ps&261888)===0&&(Ps=256)),Nr=s}return Nr}function j1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:fo(""+s)}function D1(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function YC(s,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var y=j1((p[Xt]||null).action),w=u.submitter;w&&(r=(r=w[Xt]||null)?j1(r.formAction):w.getAttribute("formAction"),r!==null&&(y=r,w=null));var A=new Qs("action","action",null,u,p);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Nr!==0){var L=w?D1(p,w):new FormData(p);ap(o,{pending:!0,data:L,method:p.method,action:y},null,L)}}else typeof y=="function"&&(A.preventDefault(),L=w?D1(p,w):new FormData(p),ap(o,{pending:!0,data:L,method:p.method,action:y},y,L))},currentTarget:p}]})}}for(var Bp=0;Bp<Tm.length;Bp++){var Fp=Tm[Bp],QC=Fp.toLowerCase(),XC=Fp[0].toUpperCase()+Fp.slice(1);ws(QC,"on"+XC)}ws(uv,"onAnimationEnd"),ws(dv,"onAnimationIteration"),ws(hv,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(hC,"onTransitionRun"),ws(fC,"onTransitionStart"),ws(mC,"onTransitionCancel"),ws(fv,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cc));function M1(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],p=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var w=u.length-1;0<=w;w--){var A=u[w],L=A.instance,W=A.currentTarget;if(A=A.listener,L!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=W;try{y(p)}catch(ie){gd(ie)}p.currentTarget=null,y=L}else for(w=0;w<u.length;w++){if(A=u[w],L=A.instance,W=A.currentTarget,A=A.listener,L!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=W;try{y(p)}catch(ie){gd(ie)}p.currentTarget=null,y=L}}}}function He(s,r){var o=r[oo];o===void 0&&(o=r[oo]=new Set);var u=s+"__bubble";o.has(u)||(V1(r,s,2,!1),o.add(u))}function Hp(s,r,o){var u=0;r&&(u|=4),V1(o,s,u,r)}var nh="_reactListening"+Math.random().toString(36).slice(2);function qp(s){if(!s[nh]){s[nh]=!0,Bl.forEach(function(o){o!=="selectionchange"&&(WC.has(o)||Hp(o,!1,s),Hp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[nh]||(r[nh]=!0,Hp("selectionchange",!1,r))}}function V1(s,r,o,u){switch(u_(r)){case 2:var p=SR;break;case 8:p=AR;break;default:p=rg}o=p.bind(null,r,o,s),p=void 0,!ma||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(r,o,{capture:!0,passive:p}):s.addEventListener(r,o,!0):p!==void 0?s.addEventListener(r,o,{passive:p}):s.addEventListener(r,o,!1)}function Gp(s,r,o,u,p){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var A=u.stateNode.containerInfo;if(A===p)break;if(w===4)for(w=u.return;w!==null;){var L=w.tag;if((L===3||L===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;A!==null;){if(w=Fs(A),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){u=y=w;continue e}A=A.parentNode}}u=u.return}cr(function(){var W=y,ie=Qn(o),ae=[];e:{var Z=mv.get(s);if(Z!==void 0){var te=Qs,ve=s;switch(s){case"keypress":if(ga(o)===0)break e;case"keydown":case"keyup":te=fd;break;case"focusin":ve="focus",te=xa;break;case"focusout":ve="blur",te=xa;break;case"beforeblur":case"afterblur":te=xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=b;break;case uv:case dv:case hv:te=ad;break;case fv:te=N;break;case"scroll":case"scrollend":te=Zl;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Ei;break;case"toggle":case"beforetoggle":te=Oe}var Ce=(r&4)!==0,lt=!Ce&&(s==="scroll"||s==="scrollend"),Y=Ce?Z!==null?Z+"Capture":null:Z;Ce=[];for(var F=W,X;F!==null;){var re=F;if(X=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||X===null||Y===null||(re=xs(F,Y),re!=null&&Ce.push(Rc(F,re,X))),lt)break;F=F.return}0<Ce.length&&(Z=new te(Z,ve,null,o,ie),ae.push({event:Z,listeners:Ce}))}}if((r&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",Z&&o!==Xl&&(ve=o.relatedTarget||o.fromElement)&&(Fs(ve)||ve[zs]))break e;if((te||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(ve=o.relatedTarget||o.toElement,te=W,ve=ve?Fs(ve):null,ve!==null&&(lt=l(ve),Ce=ve.tag,ve!==lt||Ce!==5&&Ce!==27&&Ce!==6)&&(ve=null)):(te=null,ve=W),te!==ve)){if(Ce=ec,re="onMouseLeave",Y="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=Ei,re="onPointerLeave",Y="onPointerEnter",F="pointer"),lt=te==null?Z:Vn(te),X=ve==null?Z:Vn(ve),Z=new Ce(re,F+"leave",te,o,ie),Z.target=lt,Z.relatedTarget=X,re=null,Fs(ie)===W&&(Ce=new Ce(Y,F+"enter",ve,o,ie),Ce.target=X,Ce.relatedTarget=lt,re=Ce),lt=re,te&&ve)t:{for(Ce=JC,Y=te,F=ve,X=0,re=Y;re;re=Ce(re))X++;re=0;for(var ke=F;ke;ke=Ce(ke))re++;for(;0<X-re;)Y=Ce(Y),X--;for(;0<re-X;)F=Ce(F),re--;for(;X--;){if(Y===F||F!==null&&Y===F.alternate){Ce=Y;break t}Y=Ce(Y),F=Ce(F)}Ce=null}else Ce=null;te!==null&&P1(ae,Z,te,Ce,!1),ve!==null&&lt!==null&&P1(ae,lt,ve,Ce,!0)}}e:{if(Z=W?Vn(W):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var We=Zx;else if(Wx(Z))if(ev)We=cC;else{We=oC;var Ee=aC}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&ho(W.elementType)&&(We=Zx):We=lC;if(We&&(We=We(s,W))){Jx(ae,We,o,ie);break e}Ee&&Ee(s,Z,W),s==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&Kl(Z,"number",Z.value)}switch(Ee=W?Vn(W):window,s){case"focusin":(Wx(Ee)||Ee.contentEditable==="true")&&(bo=Ee,bm=W,rc=null);break;case"focusout":rc=bm=bo=null;break;case"mousedown":_m=!0;break;case"contextmenu":case"mouseup":case"dragend":_m=!1,lv(ae,o,ie);break;case"selectionchange":if(dC)break;case"keydown":case"keyup":lv(ae,o,ie)}var Ue;if(Ze)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else vo?va(s,o)&&(Ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(Js&&o.locale!=="ko"&&(vo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&vo&&(Ue=Jl()):(Ys=ie,Wl="value"in Ys?Ys.value:Ys.textContent,vo=!0)),Ee=sh(W,Ge),0<Ee.length&&(Ge=new Ws(Ge,s,null,o,ie),ae.push({event:Ge,listeners:Ee}),Ue?Ge.data=Ue:(Ue=xo(o),Ue!==null&&(Ge.data=Ue)))),(Ue=Wn?nC(s,o):sC(s,o))&&(Ge=sh(W,"onBeforeInput"),0<Ge.length&&(Ee=new Ws("onBeforeInput","beforeinput",null,o,ie),ae.push({event:Ee,listeners:Ge}),Ee.data=Ue)),YC(ae,s,W,o,ie)}M1(ae,r)})}function Rc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function sh(s,r){for(var o=r+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=xs(s,o),p!=null&&u.unshift(Rc(s,p,y)),p=xs(s,r),p!=null&&u.push(Rc(s,p,y))),s.tag===3)return u;s=s.return}return[]}function JC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function P1(s,r,o,u,p){for(var y=r._reactName,w=[];o!==null&&o!==u;){var A=o,L=A.alternate,W=A.stateNode;if(A=A.tag,L!==null&&L===u)break;A!==5&&A!==26&&A!==27||W===null||(L=W,p?(W=xs(o,y),W!=null&&w.unshift(Rc(o,W,L))):p||(W=xs(o,y),W!=null&&w.push(Rc(o,W,L)))),o=o.return}w.length!==0&&s.push({event:r,listeners:w})}var ZC=/\r\n?/g,eR=/\u0000|\uFFFD/g;function O1(s){return(typeof s=="string"?s:""+s).replace(ZC,`
`).replace(eR,"")}function L1(s,r){return r=O1(r),O1(s)===r}function ot(s,r,o,u,p,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Sn(s,""+u);break;case"className":Pn(s,"class",u);break;case"tabIndex":Pn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(s,o,u);break;case"style":Ql(s,u,y);break;case"data":if(r!=="object"){Pn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=fo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&ot(s,r,"name",p.name,p,null),ot(s,r,"formEncType",p.formEncType,p,null),ot(s,r,"formMethod",p.formMethod,p,null),ot(s,r,"formTarget",p.formTarget,p,null)):(ot(s,r,"encType",p.encType,p,null),ot(s,r,"method",p.method,p,null),ot(s,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=fo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=ys);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=fo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":He("beforetoggle",s),He("toggle",s),co(s,"popover",u);break;case"xlinkActuate":Mt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Mt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Mt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Mt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Mt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Mt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Mt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Mt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Mt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":co(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sd.get(o)||o,co(s,o,u))}}function $p(s,r,o,u,p,y){switch(o){case"style":Ql(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&Sn(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),y=s[Xt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,p);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):co(s,o,u)}}}function on(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,y,w,o,null)}}p&&ot(s,r,"srcSet",o.srcSet,o,null),u&&ot(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var A=y=w=p=null,L=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":p=ie;break;case"type":w=ie;break;case"checked":L=ie;break;case"defaultChecked":W=ie;break;case"value":y=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,r));break;default:ot(s,r,u,ie,o,null)}}ed(s,y,A,L,W,w,p,!1);return;case"select":He("invalid",s),u=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(A=o[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":w=A;break;case"multiple":u=A;default:ot(s,r,p,A,o,null)}r=y,o=w,s.multiple=!!u,r!=null?rr(s,!!u,r,!1):o!=null&&rr(s,!!u,o,!0);return;case"textarea":He("invalid",s),y=p=u=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":u=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ot(s,r,w,A,o,null)}ar(s,u,p,y);return;case"option":for(L in o)o.hasOwnProperty(L)&&(u=o[L],u!=null)&&(L==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ot(s,r,L,u,o,null));return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<Cc.length;u++)He(Cc[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,W,u,o,null)}return;default:if(ho(r)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&$p(s,r,ie,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ot(s,r,A,u,o,null))}function tR(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,A=null,L=null,W=null,ie=null;for(te in o){var ae=o[te];if(o.hasOwnProperty(te)&&ae!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":L=ae;default:u.hasOwnProperty(te)||ot(s,r,te,null,u,ae)}}for(var Z in u){var te=u[Z];if(ae=o[Z],u.hasOwnProperty(Z)&&(te!=null||ae!=null))switch(Z){case"type":y=te;break;case"name":p=te;break;case"checked":W=te;break;case"defaultChecked":ie=te;break;case"value":w=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:te!==ae&&ot(s,r,Z,te,u,ae)}}uo(s,w,A,L,W,ie,y,p);return;case"select":te=w=A=Z=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":te=L;default:u.hasOwnProperty(y)||ot(s,r,y,null,u,L)}for(p in u)if(y=u[p],L=o[p],u.hasOwnProperty(p)&&(y!=null||L!=null))switch(p){case"value":Z=y;break;case"defaultValue":A=y;break;case"multiple":w=y;default:y!==L&&ot(s,r,p,y,u,L)}r=A,o=w,u=te,Z!=null?rr(s,!!o,Z,!1):!!u!=!!o&&(r!=null?rr(s,!!o,r,!0):rr(s,!!o,o?[]:"",!1));return;case"textarea":te=Z=null;for(A in o)if(p=o[A],o.hasOwnProperty(A)&&p!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ot(s,r,A,null,u,p)}for(w in u)if(p=u[w],y=o[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":Z=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ot(s,r,w,p,u,y)}td(s,Z,te);return;case"option":for(var ve in o)Z=o[ve],o.hasOwnProperty(ve)&&Z!=null&&!u.hasOwnProperty(ve)&&(ve==="selected"?s.selected=!1:ot(s,r,ve,null,u,Z));for(L in u)Z=u[L],te=o[L],u.hasOwnProperty(L)&&Z!==te&&(Z!=null||te!=null)&&(L==="selected"?s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":ot(s,r,L,Z,u,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in o)Z=o[Ce],o.hasOwnProperty(Ce)&&Z!=null&&!u.hasOwnProperty(Ce)&&ot(s,r,Ce,null,u,Z);for(W in u)if(Z=u[W],te=o[W],u.hasOwnProperty(W)&&Z!==te&&(Z!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:ot(s,r,W,Z,u,te)}return;default:if(ho(r)){for(var lt in o)Z=o[lt],o.hasOwnProperty(lt)&&Z!==void 0&&!u.hasOwnProperty(lt)&&$p(s,r,lt,void 0,u,Z);for(ie in u)Z=u[ie],te=o[ie],!u.hasOwnProperty(ie)||Z===te||Z===void 0&&te===void 0||$p(s,r,ie,Z,u,te);return}}for(var Y in o)Z=o[Y],o.hasOwnProperty(Y)&&Z!=null&&!u.hasOwnProperty(Y)&&ot(s,r,Y,null,u,Z);for(ae in u)Z=u[ae],te=o[ae],!u.hasOwnProperty(ae)||Z===te||Z==null&&te==null||ot(s,r,ae,Z,u,te)}function U1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,w=p.initiatorType,A=p.duration;if(y&&A&&U1(w)){for(w=0,A=p.responseEnd,u+=1;u<o.length;u++){var L=o[u],W=L.startTime;if(W>A)break;var ie=L.transferSize,ae=L.initiatorType;ie&&U1(ae)&&(L=L.responseEnd,w+=ie*(L<A?1:(A-W)/(L-W)))}if(--u,r+=8*(y+w)/(p.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Kp=null,Yp=null;function ih(s){return s.nodeType===9?s:s.ownerDocument}function z1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B1(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Qp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xp=null;function sR(){var s=window.event;return s&&s.type==="popstate"?s===Xp?!1:(Xp=s,!0):(Xp=null,!1)}var F1=typeof setTimeout=="function"?setTimeout:void 0,iR=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,rR=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(s){return H1.resolve(null).then(s).catch(aR)}:F1;function aR(s){setTimeout(function(){throw s})}function Cr(s){return s==="head"}function q1(s,r){var o=r,u=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(p),Ko(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Ic(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Ic(o);for(var y=o.firstChild;y;){var w=y.nextSibling,A=y.nodeName;y[Bs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&Ic(s.ownerDocument.body);o=p}while(o);Ko(r)}function G1(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function Wp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wp(o),lo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function oR(s,r,o,u){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Bs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=is(s.nextSibling),s===null)break}return null}function lR(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=is(s.nextSibling),s===null))return null;return s}function $1(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=is(s.nextSibling),s===null))return null;return s}function Jp(s){return s.data==="$?"||s.data==="$~"}function Zp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function cR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function is(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var eg=null;function K1(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return is(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function Y1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function Q1(s,r,o){switch(r=ih(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ic(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);lo(s)}var rs=new Map,X1=new Set;function rh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ui=H.d;H.d={f:uR,r:dR,D:hR,C:fR,L:mR,m:pR,X:yR,S:gR,M:xR};function uR(){var s=Ui.f(),r=Xd();return s||r}function dR(s){var r=Yn(s);r!==null&&r.tag===5&&r.type==="form"?fb(r):Ui.r(s)}var qo=typeof document>"u"?null:document;function W1(s,r,o){var u=qo;if(u&&typeof r=="string"&&r){var p=En(r);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),X1.has(p)||(X1.add(p),s={rel:s,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),on(r,"link",s),Dt(r),u.head.appendChild(r)))}}function hR(s){Ui.D(s),W1("dns-prefetch",s,null)}function fR(s,r){Ui.C(s,r),W1("preconnect",s,r)}function mR(s,r,o){Ui.L(s,r,o);var u=qo;if(u&&s&&r){var p='link[rel="preload"][as="'+En(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+En(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+En(o.imageSizes)+'"]')):p+='[href="'+En(s)+'"]';var y=p;switch(r){case"style":y=Go(s);break;case"script":y=$o(s)}rs.has(y)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),rs.set(y,s),u.querySelector(p)!==null||r==="style"&&u.querySelector(jc(y))||r==="script"&&u.querySelector(Dc(y))||(r=u.createElement("link"),on(r,"link",s),Dt(r),u.head.appendChild(r)))}}function pR(s,r){Ui.m(s,r);var o=qo;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+En(u)+'"][href="'+En(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=$o(s)}if(!rs.has(y)&&(s=v({rel:"modulepreload",href:s},r),rs.set(y,s),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Dc(y)))return}u=o.createElement("link"),on(u,"link",s),Dt(u),o.head.appendChild(u)}}}function gR(s,r,o){Ui.S(s,r,o);var u=qo;if(u&&s){var p=Hs(u).hoistableStyles,y=Go(s);r=r||"default";var w=p.get(y);if(!w){var A={loading:0,preload:null};if(w=u.querySelector(jc(y)))A.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=rs.get(y))&&tg(s,o);var L=w=u.createElement("link");Dt(L),on(L,"link",s),L._p=new Promise(function(W,ie){L.onload=W,L.onerror=ie}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ah(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:A},p.set(y,w)}}}function yR(s,r){Ui.X(s,r);var o=qo;if(o&&s){var u=Hs(o).hoistableScripts,p=$o(s),y=u.get(p);y||(y=o.querySelector(Dc(p)),y||(s=v({src:s,async:!0},r),(r=rs.get(p))&&ng(s,r),y=o.createElement("script"),Dt(y),on(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function xR(s,r){Ui.M(s,r);var o=qo;if(o&&s){var u=Hs(o).hoistableScripts,p=$o(s),y=u.get(p);y||(y=o.querySelector(Dc(p)),y||(s=v({src:s,async:!0,type:"module"},r),(r=rs.get(p))&&ng(s,r),y=o.createElement("script"),Dt(y),on(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function J1(s,r,o,u){var p=(p=Ie.current)?rh(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Go(o.href),o=Hs(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Go(o.href);var y=Hs(p).hoistableStyles,w=y.get(s);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,w),(y=p.querySelector(jc(s)))&&!y._p&&(w.instance=y,w.state.loading=5),rs.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},rs.set(s,o),y||vR(p,s,o,w.state))),r&&u===null)throw Error(i(528,""));return w}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$o(o),o=Hs(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Go(s){return'href="'+En(s)+'"'}function jc(s){return'link[rel="stylesheet"]['+s+"]"}function Z1(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function vR(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),on(r,"link",o),Dt(r),s.head.appendChild(r))}function $o(s){return'[src="'+En(s)+'"]'}function Dc(s){return"script[async]"+s}function e_(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+En(o.href)+'"]');if(u)return r.instance=u,Dt(u),u;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Dt(u),on(u,"style",p),ah(u,o.precedence,s),r.instance=u;case"stylesheet":p=Go(o.href);var y=s.querySelector(jc(p));if(y)return r.state.loading|=4,r.instance=y,Dt(y),y;u=Z1(o),(p=rs.get(p))&&tg(u,p),y=(s.ownerDocument||s).createElement("link"),Dt(y);var w=y;return w._p=new Promise(function(A,L){w.onload=A,w.onerror=L}),on(y,"link",u),r.state.loading|=4,ah(y,o.precedence,s),r.instance=y;case"script":return y=$o(o.src),(p=s.querySelector(Dc(y)))?(r.instance=p,Dt(p),p):(u=o,(p=rs.get(y))&&(u=v({},o),ng(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Dt(p),on(p,"link",u),s.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ah(u,o.precedence,s));return r.instance}function ah(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var A=u[w];if(A.dataset.precedence===r)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function tg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function ng(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var oh=null;function t_(s,r,o){if(oh===null){var u=new Map,p=oh=new Map;p.set(o,u)}else p=oh,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var y=o[p];if(!(y[Bs]||y[jt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(r)||"";w=s+w;var A=u.get(w);A?A.push(y):u.set(w,[y])}}return u}function n_(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function bR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function s_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function _R(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Go(u.href),y=r.querySelector(jc(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=lh.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Dt(y);return}y=r.ownerDocument||r,u=Z1(u),(p=rs.get(p))&&tg(u,p),y=y.createElement("link"),Dt(y);var w=y;w._p=new Promise(function(A,L){w.onload=A,w.onerror=L}),on(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=lh.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var sg=0;function wR(s,r){return s.stylesheets&&s.count===0&&uh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&uh(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&sg===0&&(sg=62500*nR());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&uh(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>sg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ch=null;function uh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ch=new Map,r.forEach(TR,s),ch=null,lh.call(s))}function TR(s,r){if(!(r.state.loading&4)){var o=ch.get(s);if(o)var u=o.get(null);else{o=new Map,ch.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}p=r.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,p),o.set(w,p),this.count++,u=lh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),r.state.loading|=4}}var Mc={$$typeof:$,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function ER(s,r,o,u,p,y,w,A,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.hiddenUpdates=Us(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function i_(s,r,o,u,p,y,w,A,L,W,ie,ae){return s=new ER(s,r,o,w,L,W,ie,ae,A),r=1,y===!0&&(r|=24),y=Ln(3,null,null,r),s.current=y,y.stateNode=s,r=Pm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},zm(y),s}function r_(s){return s?(s=To,s):To}function a_(s,r,o,u,p,y){p=r_(p),u.context===null?u.context=p:u.pendingContext=p,u=xr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=vr(s,u,r),o!==null&&(Rn(o,s,r),hc(o,s,r))}function o_(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function ig(s,r){o_(s,r),(s=s.alternate)&&o_(s,r)}function l_(s){if(s.tag===13||s.tag===31){var r=wa(s,67108864);r!==null&&Rn(r,s,67108864),ig(s,67108864)}}function c_(s){if(s.tag===13||s.tag===31){var r=Hn();r=ua(r);var o=wa(s,r);o!==null&&Rn(o,s,r),ig(s,r)}}var dh=!0;function SR(s,r,o,u){var p=O.T;O.T=null;var y=H.p;try{H.p=2,rg(s,r,o,u)}finally{H.p=y,O.T=p}}function AR(s,r,o,u){var p=O.T;O.T=null;var y=H.p;try{H.p=8,rg(s,r,o,u)}finally{H.p=y,O.T=p}}function rg(s,r,o,u){if(dh){var p=ag(u);if(p===null)Gp(s,r,u,hh,o),d_(s,u);else if(NR(p,s,r,o,u))u.stopPropagation();else if(d_(s,u),r&4&&-1<kR.indexOf(s)){for(;p!==null;){var y=Yn(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Os(y.pendingLanes);if(w!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var L=1<<31-Et(w);A.entanglements[1]|=L,w&=~L}ni(y),(et&6)===0&&(Yd=vn()+500,Nc(0))}}break;case 31:case 13:A=wa(y,2),A!==null&&Rn(A,y,2),Xd(),ig(y,2)}if(y=ag(u),y===null&&Gp(s,r,u,hh,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Gp(s,r,u,null,o)}}function ag(s){return s=Qn(s),og(s)}var hh=null;function og(s){if(hh=null,s=Fs(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return hh=s,null}function u_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case Ol:return 2;case Ll:return 8;case sr:case fm:return 32;case qu:return 268435456;default:return 32}default:return 32}}var lg=!1,Rr=null,Ir=null,jr=null,Vc=new Map,Pc=new Map,Dr=[],kR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d_(s,r){switch(s){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Vc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(r.pointerId)}}function Oc(s,r,o,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},r!==null&&(r=Yn(r),r!==null&&l_(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),s)}function NR(s,r,o,u,p){switch(r){case"focusin":return Rr=Oc(Rr,s,r,o,u,p),!0;case"dragenter":return Ir=Oc(Ir,s,r,o,u,p),!0;case"mouseover":return jr=Oc(jr,s,r,o,u,p),!0;case"pointerover":var y=p.pointerId;return Vc.set(y,Oc(Vc.get(y)||null,s,r,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Pc.set(y,Oc(Pc.get(y)||null,s,r,o,u,p)),!0}return!1}function h_(s){var r=Fs(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,ps(s.priority,function(){c_(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,ps(s.priority,function(){c_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=ag(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Xl=u,o.target.dispatchEvent(u),Xl=null}else return r=Yn(o),r!==null&&l_(r),s.blockedOn=o,!1;r.shift()}return!0}function f_(s,r,o){fh(s)&&o.delete(r)}function CR(){lg=!1,Rr!==null&&fh(Rr)&&(Rr=null),Ir!==null&&fh(Ir)&&(Ir=null),jr!==null&&fh(jr)&&(jr=null),Vc.forEach(f_),Pc.forEach(f_)}function mh(s,r){s.blockedOn===r&&(s.blockedOn=null,lg||(lg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,CR)))}var ph=null;function m_(s){ph!==s&&(ph=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ph===s&&(ph=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],p=s[r+2];if(typeof u!="function"){if(og(u||o)===null)continue;break}var y=Yn(o);y!==null&&(s.splice(r,3),r-=3,ap(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Ko(s){function r(L){return mh(L,s)}Rr!==null&&mh(Rr,s),Ir!==null&&mh(Ir,s),jr!==null&&mh(jr,s),Vc.forEach(r),Pc.forEach(r);for(var o=0;o<Dr.length;o++){var u=Dr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Dr.length&&(o=Dr[0],o.blockedOn===null);)h_(o),o.blockedOn===null&&Dr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],w=p[Xt]||null;if(typeof y=="function")w||m_(o);else if(w){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[Xt]||null)A=w.formAction;else if(og(p)!==null)continue}else A=w.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),m_(o)}}}function p_(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function cg(s){this._internalRoot=s}gh.prototype.render=cg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Hn();a_(o,u,s,r,null,null)},gh.prototype.unmount=cg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;a_(s.current,2,null,s,null,null),Xd(),r[zs]=null}};function gh(s){this._internalRoot=s}gh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Xu();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Dr.length&&r!==0&&r<Dr[o].priority;o++);Dr.splice(o,0,s),o===0&&h_(s)}};var g_=e.version;if(g_!=="19.2.4")throw Error(i(527,g_,"19.2.4"));H.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var RR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{fs=yh.inject(RR),tn=yh}catch{}}return Uc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",p=Tb,y=Eb,w=Sb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=i_(s,1,!1,null,null,o,u,null,p,y,w,p_),s[zs]=r.current,qp(s),new cg(r)},Uc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,p="",y=Tb,w=Eb,A=Sb,L=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=i_(s,1,!0,r,o??null,u,p,L,y,w,A,p_),r.context=r_(null),o=r.current,u=Hn(),u=ua(u),p=xr(u),p.callback=null,vr(o,p,u),o=u,r.current.lanes=o,la(r,o),ni(r),s[zs]=r.current,qp(s),new gh(r)},Uc.version="19.2.4",Uc}var A_;function UR(){if(A_)return hg.exports;A_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hg.exports=LR(),hg.exports}var zR=UR();const BR=FE(zR);var k_="popstate";function FR(t={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return n0("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:ou(a)}return qR(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ms(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HR(){return Math.random().toString(36).substring(2,10)}function N_(t,e){return{usr:t.state,key:t.key,idx:e}}function n0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_l(e):e,state:n,key:e&&e.key||i||HR()}}function ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function qR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",m=null,g=x();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function x(){return(c.state||{idx:null}).idx}function v(){h="POP";let I=x(),V=I==null?null:I-g;g=I,m&&m({action:h,location:D.location,delta:V})}function _(I,V){h="PUSH";let B=n0(D.location,I,V);g=x()+1;let $=N_(B,g),J=D.createHref(B);try{c.pushState($,"",J)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(J)}l&&m&&m({action:h,location:D.location,delta:1})}function E(I,V){h="REPLACE";let B=n0(D.location,I,V);g=x();let $=N_(B,g),J=D.createHref(B);c.replaceState($,"",J),l&&m&&m({action:h,location:D.location,delta:0})}function j(I){return GR(I)}let D={get action(){return h},get location(){return t(a,c)},listen(I){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(k_,v),m=I,()=>{a.removeEventListener(k_,v),m=null}},createHref(I){return e(a,I)},createURL:j,encodeLocation(I){let V=j(I);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:E,go(I){return c.go(I)}};return D}function GR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ou(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function GE(t,e,n="/"){return $R(t,e,n,!1)}function $R(t,e,n,i){let a=typeof e=="string"?_l(e):e,l=Ki(a.pathname||"/",n);if(l==null)return null;let c=$E(t);KR(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let g=iI(l);h=nI(c[m],g,i)}return h}function $E(t,e=[],n=[],i="",a=!1){let l=(c,h,m=a,g)=>{let x={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&m)return;yt(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let v=qi([i,x.relativePath]),_=n.concat(x);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),$E(c.children,e,_,v,m)),!(c.path==null&&!c.index)&&e.push({path:v,score:eI(v,c.index),routesMeta:_})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let m of KE(c.path))l(c,h,!0,m)}),e}function KE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=KE(i.join("/")),h=[];return h.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&h.push(...c),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function KR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var YR=/^:[\w-]+$/,QR=3,XR=2,WR=1,JR=10,ZR=-2,C_=t=>t==="*";function eI(t,e){let n=t.split("/"),i=n.length;return n.some(C_)&&(i+=ZR),e&&(i+=XR),n.filter(a=>!C_(a)).reduce((a,l)=>a+(YR.test(l)?QR:l===""?WR:JR),i)}function tI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function nI(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let h=0;h<i.length;++h){let m=i[h],g=h===i.length-1,x=l==="/"?e:e.slice(l.length)||"/",v=Zh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},x),_=m.route;if(!v&&g&&n&&!i[i.length-1].route.index&&(v=Zh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:qi([l,v.pathname]),pathnameBase:lI(qi([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=qi([l,v.pathnameBase]))}return c}function Zh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=sI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((g,{paramName:x,isOptional:v},_)=>{if(x==="*"){let j=h[_]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const E=h[_];return v&&!E?g[x]=void 0:g[x]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function sI(t,e=!1,n=!0){Ms(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function iI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ms(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var rI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function aI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?_l(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=R_(n.substring(1),"/"):l=R_(n,e)):l=e,{pathname:l,search:cI(i),hash:uI(a)}}function R_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function gg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ay(t){let e=oI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function oy(t,e,n,i=!1){let a;typeof t=="string"?a=_l(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),gg("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),gg("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),gg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}h=v>=0?e[v]:"/"}let m=aI(a,h),g=c&&c!=="/"&&c.endsWith("/"),x=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||x)&&(m.pathname+="/"),m}var qi=t=>t.join("/").replace(/\/\/+/g,"/"),lI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,dI=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function hI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function fI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var YE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function QE(t,e){let n=t;if(typeof n!="string"||!rI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(YE)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Ki(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{Ms(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XE=["POST","PUT","PATCH","DELETE"];new Set(XE);var mI=["GET",...XE];new Set(mI);var wl=k.createContext(null);wl.displayName="DataRouter";var Vf=k.createContext(null);Vf.displayName="DataRouterState";var pI=k.createContext(!1),WE=k.createContext({isTransitioning:!1});WE.displayName="ViewTransition";var gI=k.createContext(new Map);gI.displayName="Fetchers";var yI=k.createContext(null);yI.displayName="Await";var Gn=k.createContext(null);Gn.displayName="Navigation";var Tu=k.createContext(null);Tu.displayName="Location";var ds=k.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var ly=k.createContext(null);ly.displayName="RouteError";var JE="REACT_ROUTER_ERROR",xI="REDIRECT",vI="ROUTE_ERROR_RESPONSE";function bI(t){if(t.startsWith(`${JE}:${xI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function _I(t){if(t.startsWith(`${JE}:${vI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new dI(e.status,e.statusText,e.data)}catch{}}function wI(t,{relative:e}={}){yt(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(Gn),{hash:a,pathname:l,search:c}=Eu(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:qi([n,l])),i.createHref({pathname:h,search:c,hash:a})}function Tl(){return k.useContext(Tu)!=null}function Zi(){return yt(Tl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Tu).location}var ZE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eS(t){k.useContext(Gn).static||k.useLayoutEffect(t)}function Pf(){let{isDataRoute:t}=k.useContext(ds);return t?LI():TI()}function TI(){yt(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(wl),{basename:e,navigator:n}=k.useContext(Gn),{matches:i}=k.useContext(ds),{pathname:a}=Zi(),l=JSON.stringify(ay(i)),c=k.useRef(!1);return eS(()=>{c.current=!0}),k.useCallback((m,g={})=>{if(Ms(c.current,ZE),!c.current)return;if(typeof m=="number"){n.go(m);return}let x=oy(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:qi([e,x.pathname])),(g.replace?n.replace:n.push)(x,g.state,g)},[e,n,l,a,t])}var EI=k.createContext(null);function SI(t){let e=k.useContext(ds).outlet;return k.useMemo(()=>e&&k.createElement(EI.Provider,{value:t},e),[e,t])}function AI(){let{matches:t}=k.useContext(ds),e=t[t.length-1];return e?e.params:{}}function Eu(t,{relative:e}={}){let{matches:n}=k.useContext(ds),{pathname:i}=Zi(),a=JSON.stringify(ay(n));return k.useMemo(()=>oy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function kI(t,e){return tS(t,e)}function tS(t,e,n,i,a){yt(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(Gn),{matches:c}=k.useContext(ds),h=c[c.length-1],m=h?h.params:{},g=h?h.pathname:"/",x=h?h.pathnameBase:"/",v=h&&h.route;{let B=v&&v.path||"";sS(g,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let _=Zi(),E;if(e){let B=typeof e=="string"?_l(e):e;yt(x==="/"||B.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${B.pathname}" was given in the \`location\` prop.`),E=B}else E=_;let j=E.pathname||"/",D=j;if(x!=="/"){let B=x.replace(/^\//,"").split("/");D="/"+j.replace(/^\//,"").split("/").slice(B.length).join("/")}let I=GE(t,{pathname:D});Ms(v||I!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ms(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=jI(I&&I.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:qi([x,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?x:qi([x,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,n,i,a);return e&&V?k.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},V):V}function NI(){let t=OI(),e=hI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,c)}var CI=k.createElement(NI,null),nS=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=_I(t.digest);n&&(t=n)}let e=t!==void 0?k.createElement(ds.Provider,{value:this.props.routeContext},k.createElement(ly.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(RI,{error:t},e):e}};nS.contextType=pI;var yg=new WeakMap;function RI({children:t,error:e}){let{basename:n}=k.useContext(Gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=bI(e.digest);if(i){let a=yg.get(e);if(a)throw a;let l=QE(i.location,n);if(YE&&!yg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw yg.set(e,c),c}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function II({routeContext:t,match:e,children:n}){let i=k.useContext(wl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ds.Provider,{value:t},n)}function jI(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let x=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);yt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let h=!1,m=-1;if(n)for(let x=0;x<l.length;x++){let v=l[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=x),v.route.id){let{loaderData:_,errors:E}=n,j=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||j){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&i?(x,v)=>{i(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:fI(n.matches),errorInfo:v})}:void 0;return l.reduceRight((x,v,_)=>{let E,j=!1,D=null,I=null;n&&(E=c&&v.route.id?c[v.route.id]:void 0,D=v.route.errorElement||CI,h&&(m<0&&_===0?(sS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,I=null):m===_&&(j=!0,I=v.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,_+1)),B=()=>{let $;return E?$=D:j?$=I:v.route.Component?$=k.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=x,k.createElement(II,{match:v,routeContext:{outlet:x,matches:V,isDataRoute:n!=null},children:$})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?k.createElement(nS,{location:n.location,revalidation:n.revalidation,component:D,error:E,children:B(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:g}):B()},null)}function cy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DI(t){let e=k.useContext(wl);return yt(e,cy(t)),e}function MI(t){let e=k.useContext(Vf);return yt(e,cy(t)),e}function VI(t){let e=k.useContext(ds);return yt(e,cy(t)),e}function uy(t){let e=VI(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function PI(){return uy("useRouteId")}function OI(){let t=k.useContext(ly),e=MI("useRouteError"),n=uy("useRouteError");return t!==void 0?t:e.errors?.[n]}function LI(){let{router:t}=DI("useNavigate"),e=uy("useNavigate"),n=k.useRef(!1);return eS(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{Ms(n.current,ZE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var I_={};function sS(t,e,n){!e&&!I_[t]&&(I_[t]=!0,Ms(!1,n))}k.memo(UI);function UI({routes:t,future:e,state:n,onError:i}){return tS(t,void 0,n,i,e)}function iS({to:t,replace:e,state:n,relative:i}){yt(Tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Gn);Ms(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(ds),{pathname:c}=Zi(),h=Pf(),m=oy(t,ay(l),c,i==="path"),g=JSON.stringify(m);return k.useEffect(()=>{h(JSON.parse(g),{replace:e,state:n,relative:i})},[h,g,i,e,n]),null}function As(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){yt(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=_l(n));let{pathname:g="/",search:x="",hash:v="",state:_=null,key:E="default"}=n,j=k.useMemo(()=>{let D=Ki(g,h);return D==null?null:{location:{pathname:D,search:x,hash:v,state:_,key:E},navigationType:i}},[h,g,x,v,_,E,i]);return Ms(j!=null,`<Router basename="${h}"> is not able to match the URL "${g}${x}${v}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:k.createElement(Gn.Provider,{value:m},k.createElement(Tu.Provider,{children:e,value:j}))}function BI({children:t,location:e}){return kI(s0(t),e)}function s0(t,e=[]){let n=[];return k.Children.forEach(t,(i,a)=>{if(!k.isValidElement(i))return;let l=[...e,a];if(i.type===k.Fragment){n.push.apply(n,s0(i.props.children,l));return}yt(i.type===As,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=s0(i.props.children,l)),n.push(c)}),n}var Mh="get",Vh="application/x-www-form-urlencoded";function Of(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function FI(t){return Of(t)&&t.tagName.toLowerCase()==="button"}function HI(t){return Of(t)&&t.tagName.toLowerCase()==="form"}function qI(t){return Of(t)&&t.tagName.toLowerCase()==="input"}function GI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $I(t,e){return t.button===0&&(!e||e==="_self")&&!GI(t)}var xh=null;function KI(){if(xh===null)try{new FormData(document.createElement("form"),0),xh=!1}catch{xh=!0}return xh}var YI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xg(t){return t!=null&&!YI.has(t)?(Ms(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):t}function QI(t,e){let n,i,a,l,c;if(HI(t)){let h=t.getAttribute("action");i=h?Ki(h,e):null,n=t.getAttribute("method")||Mh,a=xg(t.getAttribute("enctype"))||Vh,l=new FormData(t)}else if(FI(t)||qI(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(i=m?Ki(m,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Mh,a=xg(t.getAttribute("formenctype"))||xg(h.getAttribute("enctype"))||Vh,l=new FormData(h,t),!KI()){let{name:g,type:x,value:v}=t;if(x==="image"){let _=g?`${g}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else g&&l.append(g,v)}}else{if(Of(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mh,i=null,a=Vh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XI(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Ki(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function WI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZI(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await WI(l,n);return c.links?c.links():[]}return[]}));return sj(i.flat(1).filter(JI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function j_(t,e,n,i,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,h=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||h(m,g)):l==="data"?e.filter((m,g)=>{let x=i.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(c(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function ej(t,e,{includeHydrateFallback:n}={}){return tj(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function tj(t){return[...new Set(t)]}function nj(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function sj(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(nj(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function rS(){let t=k.useContext(wl);return dy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ij(){let t=k.useContext(Vf);return dy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hy=k.createContext(void 0);hy.displayName="FrameworkContext";function aS(){let t=k.useContext(hy);return dy(t,"You must render this element inside a <HydratedRouter> element"),t}function rj(t,e){let n=k.useContext(hy),[i,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:x,onTouchStart:v}=e,_=k.useRef(null);k.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=V=>{V.forEach(B=>{c(B.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[t]),k.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let E=()=>{a(!0)},j=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:zc(h,E),onBlur:zc(m,j),onMouseEnter:zc(g,E),onMouseLeave:zc(x,j),onTouchStart:zc(v,E)}]:[!1,_,{}]}function zc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aj({page:t,...e}){let{router:n}=rS(),i=k.useMemo(()=>GE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?k.createElement(lj,{page:t,matches:i,...e}):null}function oj(t){let{manifest:e,routeModules:n}=aS(),[i,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return ZI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function lj({page:t,matches:e,...n}){let i=Zi(),{future:a,manifest:l,routeModules:c}=aS(),{basename:h}=rS(),{loaderData:m,matches:g}=ij(),x=k.useMemo(()=>j_(t,e,g,l,i,"data"),[t,e,g,l,i]),v=k.useMemo(()=>j_(t,e,g,l,i,"assets"),[t,e,g,l,i]),_=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,I=!1;if(e.forEach(B=>{let $=l.routes[B.route.id];!$||!$.hasLoader||(!x.some(J=>J.route.id===B.route.id)&&B.route.id in m&&c[B.route.id]?.shouldRevalidate||$.hasClientLoader?I=!0:D.add(B.route.id))}),D.size===0)return[];let V=XI(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return I&&D.size>0&&V.searchParams.set("_routes",e.filter(B=>D.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[h,a.unstable_trailingSlashAwareDataRequests,m,i,l,x,e,t,c]),E=k.useMemo(()=>ej(v,l),[v,l]),j=oj(v);return k.createElement(k.Fragment,null,_.map(D=>k.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>k.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),j.map(({key:D,link:I})=>k.createElement("link",{key:D,nonce:n.nonce,...I,crossOrigin:I.crossOrigin??n.crossOrigin})))}function cj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uj&&(window.__reactRouterVersion="7.13.0")}catch{}function dj({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=k.useRef();a.current==null&&(a.current=FR({window:i,v5Compat:!0}));let l=a.current,[c,h]=k.useState({action:l.action,location:l.location}),m=k.useCallback(g=>{n===!1?h(g):k.startTransition(()=>h(g))},[n]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.createElement(zI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var oS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yt=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:m,to:g,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:_,...E},j){let{basename:D,unstable_useTransitions:I}=k.useContext(Gn),V=typeof g=="string"&&oS.test(g),B=QE(g,D);g=B.to;let $=wI(g,{relative:a}),[J,se,de]=rj(i,E),R=pj(g,{replace:c,state:h,target:m,preventScrollReset:x,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:_,unstable_useTransitions:I});function S(z){e&&e(z),z.defaultPrevented||R(z)}let C=k.createElement("a",{...E,...de,href:B.absoluteURL||$,onClick:B.isExternal||l?e:S,ref:cj(j,se),target:m,"data-discover":!V&&n==="render"?"true":void 0});return J&&!V?k.createElement(k.Fragment,null,C,k.createElement(aj,{page:$})):C});Yt.displayName="Link";var hj=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:m,...g},x){let v=Eu(c,{relative:g.relative}),_=Zi(),E=k.useContext(Vf),{navigator:j,basename:D}=k.useContext(Gn),I=E!=null&&bj(v)&&h===!0,V=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,B=_.pathname,$=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(B=B.toLowerCase(),$=$?$.toLowerCase():null,V=V.toLowerCase()),$&&D&&($=Ki($,D)||$);const J=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let se=B===V||!a&&B.startsWith(V)&&B.charAt(J)==="/",de=$!=null&&($===V||!a&&$.startsWith(V)&&$.charAt(V.length)==="/"),R={isActive:se,isPending:de,isTransitioning:I},S=se?e:void 0,C;typeof i=="function"?C=i(R):C=[i,se?"active":null,de?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(R):l;return k.createElement(Yt,{...g,"aria-current":S,className:C,ref:x,style:z,to:c,viewTransition:h},typeof m=="function"?m(R):m)});hj.displayName="NavLink";var fj=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Mh,action:h,onSubmit:m,relative:g,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:_,...E},j)=>{let{unstable_useTransitions:D}=k.useContext(Gn),I=xj(),V=vj(h,{relative:g}),B=c.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&oS.test(h),J=se=>{if(m&&m(se),se.defaultPrevented)return;se.preventDefault();let de=se.nativeEvent.submitter,R=de?.getAttribute("formmethod")||c,S=()=>I(de||se.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:l,relative:g,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:_});D&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:j,method:B,action:V,onSubmit:i?m:J,...E,"data-discover":!$&&t==="render"?"true":void 0})});fj.displayName="Form";function mj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lS(t){let e=k.useContext(wl);return yt(e,mj(t)),e}function pj(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let g=Pf(),x=Zi(),v=Eu(t,{relative:l});return k.useCallback(_=>{if($I(_,e)){_.preventDefault();let E=n!==void 0?n:ou(x)===ou(v),j=()=>g(t,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});m?k.startTransition(()=>j()):j()}},[x,g,v,n,i,e,t,a,l,c,h,m])}var gj=0,yj=()=>`__${String(++gj)}__`;function xj(){let{router:t}=lS("useSubmit"),{basename:e}=k.useContext(Gn),n=PI(),i=t.fetch,a=t.navigate;return k.useCallback(async(l,c={})=>{let{action:h,method:m,encType:g,formData:x,body:v}=QI(l,e);if(c.navigate===!1){let _=c.fetcherKey||yj();await i(_,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:v,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:v,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function vj(t,{relative:e}={}){let{basename:n}=k.useContext(Gn),i=k.useContext(ds);yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Eu(t||".",{relative:e})},c=Zi();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(x=>x==="")){h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let x=h.toString();l.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qi([n,l.pathname])),ou(l)}function bj(t,{relative:e}={}){let n=k.useContext(WE);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=lS("useViewTransitionState"),a=Eu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ki(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ki(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Zh(a.pathname,c)!=null||Zh(a.pathname,l)!=null}var _j=qE();const fy=k.createContext({});function my(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const cS=typeof window<"u",uS=cS?k.useLayoutEffect:k.useEffect,Lf=k.createContext(null);function py(t,e){t.indexOf(e)===-1&&t.push(e)}function ef(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fi=(t,e,n)=>n>e?e:n<t?t:n;let gy=()=>{};const Yi={},dS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function hS(t){return typeof t=="object"&&t!==null}const fS=t=>/^0[^.\s]+$/u.test(t);function yy(t){let e;return()=>(e===void 0&&(e=t()),e)}const us=t=>t,wj=(t,e)=>n=>e(t(n)),Su=(...t)=>t.reduce(wj),lu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class xy{constructor(){this.subscriptions=[]}add(e){return py(this.subscriptions,e),()=>ef(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Is=t=>t*1e3,cs=t=>t/1e3;function mS(t,e){return e?t*(1e3/e):0}const pS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Tj=1e-7,Ej=12;function Sj(t,e,n,i,a){let l,c,h=0;do c=e+(n-e)/2,l=pS(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>Tj&&++h<Ej);return c}function Au(t,e,n,i){if(t===e&&n===i)return us;const a=l=>Sj(l,0,1,t,n);return l=>l===0||l===1?l:pS(a(l),e,i)}const gS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yS=t=>e=>1-t(1-e),xS=Au(.33,1.53,.69,.99),vy=yS(xS),vS=gS(vy),bS=t=>(t*=2)<1?.5*vy(t):.5*(2-Math.pow(2,-10*(t-1))),by=t=>1-Math.sin(Math.acos(t)),_S=yS(by),wS=gS(by),Aj=Au(.42,0,1,1),kj=Au(0,0,.58,1),TS=Au(.42,0,.58,1),Nj=t=>Array.isArray(t)&&typeof t[0]!="number",ES=t=>Array.isArray(t)&&typeof t[0]=="number",Cj={linear:us,easeIn:Aj,easeInOut:TS,easeOut:kj,circIn:by,circInOut:wS,circOut:_S,backIn:vy,backInOut:vS,backOut:xS,anticipate:bS},Rj=t=>typeof t=="string",D_=t=>{if(ES(t)){gy(t.length===4);const[e,n,i,a]=t;return Au(e,n,i,a)}else if(Rj(t))return Cj[t];return t},vh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ij(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(x){c.has(x)&&(g.schedule(x),t()),x(h)}const g={schedule:(x,v=!1,_=!1)=>{const j=_&&a?n:i;return v&&c.add(x),j.has(x)||j.add(x),x},cancel:x=>{i.delete(x),c.delete(x)},process:x=>{if(h=x,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(x))}};return g}const jj=40;function SS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=vh.reduce(($,J)=>($[J]=Ij(l),$),{}),{setup:h,read:m,resolveKeyframes:g,preUpdate:x,update:v,preRender:_,render:E,postRender:j}=c,D=()=>{const $=Yi.useManualTiming?a.timestamp:performance.now();n=!1,Yi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min($-a.timestamp,jj),1)),a.timestamp=$,a.isProcessing=!0,h.process(a),m.process(a),g.process(a),x.process(a),v.process(a),_.process(a),E.process(a),j.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(D))},I=()=>{n=!0,i=!0,a.isProcessing||t(D)};return{schedule:vh.reduce(($,J)=>{const se=c[J];return $[J]=(de,R=!1,S=!1)=>(n||I(),se.schedule(de,R,S)),$},{}),cancel:$=>{for(let J=0;J<vh.length;J++)c[vh[J]].cancel($)},state:a,steps:c}}const{schedule:dt,cancel:Qr,state:ln,steps:vg}=SS(typeof requestAnimationFrame<"u"?requestAnimationFrame:us,!0);let Ph;function Dj(){Ph=void 0}const wn={now:()=>(Ph===void 0&&wn.set(ln.isProcessing||Yi.useManualTiming?ln.timestamp:performance.now()),Ph),set:t=>{Ph=t,queueMicrotask(Dj)}},AS=t=>e=>typeof e=="string"&&e.startsWith(t),kS=AS("--"),Mj=AS("var(--"),_y=t=>Mj(t)?Vj.test(t.split("/*")[0].trim()):!1,Vj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function M_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const El={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cu={...El,transform:t=>fi(0,1,t)},bh={...El,default:1},Xc=t=>Math.round(t*1e5)/1e5,wy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Pj(t){return t==null}const Oj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ty=(t,e)=>n=>!!(typeof n=="string"&&Oj.test(n)&&n.startsWith(t)||e&&!Pj(n)&&Object.prototype.hasOwnProperty.call(n,e)),NS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(wy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},Lj=t=>fi(0,255,t),bg={...El,transform:t=>Math.round(Lj(t))},Ua={test:Ty("rgb","red"),parse:NS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+bg.transform(t)+", "+bg.transform(e)+", "+bg.transform(n)+", "+Xc(cu.transform(i))+")"};function Uj(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const i0={test:Ty("#"),parse:Uj,transform:Ua.transform},ku=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Or=ku("deg"),ri=ku("%"),we=ku("px"),zj=ku("vh"),Bj=ku("vw"),V_={...ri,parse:t=>ri.parse(t)/100,transform:t=>ri.transform(t*100)},tl={test:Ty("hsl","hue"),parse:NS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ri.transform(Xc(e))+", "+ri.transform(Xc(n))+", "+Xc(cu.transform(i))+")"},zt={test:t=>Ua.test(t)||i0.test(t)||tl.test(t),parse:t=>Ua.test(t)?Ua.parse(t):tl.test(t)?tl.parse(t):i0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ua.transform(t):tl.transform(t),getAnimatableNone:t=>{const e=zt.parse(t);return e.alpha=0,zt.transform(e)}},Fj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Hj(t){return isNaN(t)&&typeof t=="string"&&(t.match(wy)?.length||0)+(t.match(Fj)?.length||0)>0}const CS="number",RS="color",qj="var",Gj="var(",P_="${}",$j=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace($j,m=>(zt.test(m)?(i.color.push(l),a.push(RS),n.push(zt.parse(m))):m.startsWith(Gj)?(i.var.push(l),a.push(qj),n.push(m)):(i.number.push(l),a.push(CS),n.push(parseFloat(m))),++l,P_)).split(P_);return{values:n,split:h,indexes:i,types:a}}function IS(t){return uu(t).values}function jS(t){const{split:e,types:n}=uu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===CS?l+=Xc(a[c]):h===RS?l+=zt.transform(a[c]):l+=a[c]}return l}}const Kj=t=>typeof t=="number"?0:zt.test(t)?zt.getAnimatableNone(t):t;function Yj(t){const e=IS(t);return jS(t)(e.map(Kj))}const Xr={test:Hj,parse:IS,createTransformer:jS,getAnimatableNone:Yj};function _g(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Qj({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,m=2*n-h;a=_g(m,h,t+1/3),l=_g(m,h,t),c=_g(m,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function tf(t,e){return n=>n>0?e:t}const xt=(t,e,n)=>t+(e-t)*n,wg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},Xj=[i0,Ua,tl],Wj=t=>Xj.find(e=>e.test(t));function O_(t){const e=Wj(t);if(!e)return!1;let n=e.parse(t);return e===tl&&(n=Qj(n)),n}const L_=(t,e)=>{const n=O_(t),i=O_(e);if(!n||!i)return tf(t,e);const a={...n};return l=>(a.red=wg(n.red,i.red,l),a.green=wg(n.green,i.green,l),a.blue=wg(n.blue,i.blue,l),a.alpha=xt(n.alpha,i.alpha,l),Ua.transform(a))},r0=new Set(["none","hidden"]);function Jj(t,e){return r0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Zj(t,e){return n=>xt(t,e,n)}function Ey(t){return typeof t=="number"?Zj:typeof t=="string"?_y(t)?tf:zt.test(t)?L_:n4:Array.isArray(t)?DS:typeof t=="object"?zt.test(t)?L_:e4:tf}function DS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Ey(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function e4(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Ey(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function t4(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;n[a]=h,i[l]++}return n}const n4=(t,e)=>{const n=Xr.createTransformer(e),i=uu(t),a=uu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?r0.has(t)&&!a.values.length||r0.has(e)&&!i.values.length?Jj(t,e):Su(DS(t4(i,a),a.values),n):tf(t,e)};function MS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):Ey(t)(t,e)}const s4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Qr(e),now:()=>ln.isProcessing?ln.timestamp:wn.now()}},VS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},nf=2e4;function Sy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<nf;)e+=n,i=t.next(e);return e>=nf?1/0:e}function i4(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Sy(i),nf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:cs(a)}}const r4=5;function PS(t,e,n){const i=Math.max(e-r4,0);return mS(n-t(i),e-i)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tg=.001;function a4({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:i=Tt.mass}){let a,l,c=1-e;c=fi(Tt.minDamping,Tt.maxDamping,c),t=fi(Tt.minDuration,Tt.maxDuration,cs(t)),c<1?(a=g=>{const x=g*c,v=x*t,_=x-n,E=a0(g,c),j=Math.exp(-v);return Tg-_/E*j},l=g=>{const v=g*c*t,_=v*n+n,E=Math.pow(c,2)*Math.pow(g,2)*t,j=Math.exp(-v),D=a0(Math.pow(g,2),c);return(-a(g)+Tg>0?-1:1)*((_-E)*j)/D}):(a=g=>{const x=Math.exp(-g*t),v=(g-n)*t+1;return-Tg+x*v},l=g=>{const x=Math.exp(-g*t),v=(n-g)*(t*t);return x*v});const h=5/t,m=l4(a,l,h);if(t=Is(t),isNaN(m))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:t}}}const o4=12;function l4(t,e,n){let i=n;for(let a=1;a<o4;a++)i=i-t(i)/e(i);return i}function a0(t,e){return t*Math.sqrt(1-e*e)}const c4=["duration","bounce"],u4=["stiffness","damping","mass"];function U_(t,e){return e.some(n=>t[n]!==void 0)}function d4(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!U_(t,u4)&&U_(t,c4))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*fi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:l}}else{const n=a4(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function sf(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:m,damping:g,mass:x,duration:v,velocity:_,isResolvedFromDuration:E}=d4({...n,velocity:-cs(n.velocity||0)}),j=_||0,D=g/(2*Math.sqrt(m*x)),I=c-l,V=cs(Math.sqrt(m/x)),B=Math.abs(I)<5;i||(i=B?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=B?Tt.restDelta.granular:Tt.restDelta.default);let $;if(D<1){const se=a0(V,D);$=de=>{const R=Math.exp(-D*V*de);return c-R*((j+D*V*I)/se*Math.sin(se*de)+I*Math.cos(se*de))}}else if(D===1)$=se=>c-Math.exp(-V*se)*(I+(j+V*I)*se);else{const se=V*Math.sqrt(D*D-1);$=de=>{const R=Math.exp(-D*V*de),S=Math.min(se*de,300);return c-R*((j+D*V*I)*Math.sinh(S)+se*I*Math.cosh(S))/se}}const J={calculatedDuration:E&&v||null,next:se=>{const de=$(se);if(E)h.done=se>=v;else{let R=se===0?j:0;D<1&&(R=se===0?Is(j):PS($,se,de));const S=Math.abs(R)<=i,C=Math.abs(c-de)<=a;h.done=S&&C}return h.value=h.done?c:de,h},toString:()=>{const se=Math.min(Sy(J),nf),de=VS(R=>J.next(se*R).value,se,30);return se+"ms "+de},toTransition:()=>{}};return J}sf.applyToOptions=t=>{const e=i4(t,100,sf);return t.ease=e.ease,t.duration=Is(e.duration),t.type="keyframes",t};function o0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:m,restDelta:g=.5,restSpeed:x}){const v=t[0],_={done:!1,value:v},E=S=>h!==void 0&&S<h||m!==void 0&&S>m,j=S=>h===void 0?m:m===void 0||Math.abs(h-S)<Math.abs(m-S)?h:m;let D=n*e;const I=v+D,V=c===void 0?I:c(I);V!==I&&(D=V-v);const B=S=>-D*Math.exp(-S/i),$=S=>V+B(S),J=S=>{const C=B(S),z=$(S);_.done=Math.abs(C)<=g,_.value=_.done?V:z};let se,de;const R=S=>{E(_.value)&&(se=S,de=sf({keyframes:[_.value,j(_.value)],velocity:PS($,S,_.value),damping:a,stiffness:l,restDelta:g,restSpeed:x}))};return R(0),{calculatedDuration:null,next:S=>{let C=!1;return!de&&se===void 0&&(C=!0,J(S),R(S)),se!==void 0&&S>=se?de.next(S-se):(!C&&J(S),_)}}}function h4(t,e,n){const i=[],a=n||Yi.mix||MS,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||us:e;h=Su(m,h)}i.push(h)}return i}function f4(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(gy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=h4(e,i,a),m=h.length,g=x=>{if(c&&x<t[0])return e[0];let v=0;if(m>1)for(;v<t.length-2&&!(x<t[v+1]);v++);const _=lu(t[v],t[v+1],x);return h[v](_)};return n?x=>g(fi(t[0],t[l-1],x)):g}function m4(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=lu(0,e,i);t.push(xt(n,1,a))}}function p4(t){const e=[0];return m4(e,t.length-1),e}function g4(t,e){return t.map(n=>n*e)}function y4(t,e){return t.map(()=>e||TS).splice(0,t.length-1)}function Wc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=Nj(i)?i.map(D_):D_(i),l={done:!1,value:e[0]},c=g4(n&&n.length===e.length?n:p4(e),t),h=f4(c,e,{ease:Array.isArray(a)?a:y4(e,a)});return{calculatedDuration:t,next:m=>(l.value=h(m),l.done=m>=t,l)}}const x4=t=>t!==null;function Ay(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(x4),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const v4={decay:o0,inertia:o0,tween:Wc,keyframes:Wc,spring:sf};function OS(t){typeof t.type=="string"&&(t.type=v4[t.type])}class ky{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const b4=t=>t/100;class Ny extends ky{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;OS(e);const{type:n=Wc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const m=n||Wc;m!==Wc&&typeof h[0]!="number"&&(this.mixKeyframes=Su(b4,MS(h[0],h[1])),h=[0,100]);const g=m({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Sy(g));const{calculatedDuration:x}=g;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:x,repeat:v,repeatType:_,repeatDelay:E,type:j,onUpdate:D,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-g*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?V<0:V>a;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,J=i;if(v){const S=Math.min(this.currentTime,a)/h;let C=Math.floor(S),z=S%1;!z&&S>=1&&(z=1),z===1&&C--,C=Math.min(C,v+1),C%2&&(_==="reverse"?(z=1-z,E&&(z-=E/h)):_==="mirror"&&(J=c)),$=fi(0,1,z)*h}const se=B?{done:!1,value:x[0]}:J.next($);l&&(se.value=l(se.value));let{done:de}=se;!B&&m!==null&&(de=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return R&&j!==o0&&(se.value=Ay(x,this.options,I,this.speed)),D&&D(se.value),R&&this.finish(),se}then(e,n){return this.finished.then(e,n)}get duration(){return cs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cs(e)}get time(){return cs(this.currentTime)}set time(e){e=Is(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=cs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=s4,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function _4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const za=t=>t*180/Math.PI,l0=t=>{const e=za(Math.atan2(t[1],t[0]));return c0(e)},w4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:l0,rotateZ:l0,skewX:t=>za(Math.atan(t[1])),skewY:t=>za(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},c0=t=>(t=t%360,t<0&&(t+=360),t),z_=l0,B_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),F_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),T4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B_,scaleY:F_,scale:t=>(B_(t)+F_(t))/2,rotateX:t=>c0(za(Math.atan2(t[6],t[5]))),rotateY:t=>c0(za(Math.atan2(-t[2],t[0]))),rotateZ:z_,rotate:z_,skewX:t=>za(Math.atan(t[4])),skewY:t=>za(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function u0(t){return t.includes("scale")?1:0}function d0(t,e){if(!t||t==="none")return u0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=T4,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=w4,a=h}if(!a)return u0(e);const l=i[e],c=a[1].split(",").map(S4);return typeof l=="function"?l(c):c[l]}const E4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return d0(n,e)};function S4(t){return parseFloat(t.trim())}const Sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Al=new Set(Sl),H_=t=>t===El||t===we,A4=new Set(["x","y","z"]),k4=Sl.filter(t=>!A4.has(t));function N4(t){const e=[];return k4.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Br={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>d0(e,"x"),y:(t,{transform:e})=>d0(e,"y")};Br.translateX=Br.x;Br.translateY=Br.y;const Ha=new Set;let h0=!1,f0=!1,m0=!1;function LS(){if(f0){const t=Array.from(Ha).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=N4(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}f0=!1,h0=!1,Ha.forEach(t=>t.complete(m0)),Ha.clear()}function US(){Ha.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(f0=!0)})}function C4(){m0=!0,US(),LS(),m0=!1}class Cy{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ha.add(this),h0||(h0=!0,dt.read(US),dt.resolveKeyframes(LS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}_4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ha.delete(this)}cancel(){this.state==="scheduled"&&(Ha.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R4=t=>t.startsWith("--");function I4(t,e,n){R4(e)?t.style.setProperty(e,n):t.style[e]=n}const j4=yy(()=>window.ScrollTimeline!==void 0),D4={};function M4(t,e){const n=yy(t);return()=>D4[e]??n()}const zS=M4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,q_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qc([0,.65,.55,1]),circOut:qc([.55,0,1,.45]),backIn:qc([.31,.01,.66,-.59]),backOut:qc([.33,1.53,.69,.99])};function BS(t,e){if(t)return typeof t=="function"?zS()?VS(t,e):"ease-out":ES(t)?qc(t):Array.isArray(t)?t.map(n=>BS(n,e)||q_.easeOut):q_[t]}function V4(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:m}={},g=void 0){const x={[e]:n};m&&(x.offset=m);const v=BS(h,a);Array.isArray(v)&&(x.easing=v);const _={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(_.pseudoElement=g),t.animate(x,_)}function FS(t){return typeof t=="function"&&"applyToOptions"in t}function P4({type:t,...e}){return FS(t)&&zS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class HS extends ky{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,gy(typeof e.type!="string");const g=P4(e);this.animation=V4(n,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const x=Ay(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(x):I4(n,i,x),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return cs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cs(e)}get time(){return cs(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Is(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&j4()?(this.animation.timeline=e,us):n(this)}}const qS={anticipate:bS,backInOut:vS,circInOut:wS};function O4(t){return t in qS}function L4(t){typeof t.ease=="string"&&O4(t.ease)&&(t.ease=qS[t.ease])}const Eg=10;class U4 extends HS{constructor(e){L4(e),OS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Ny({...c,autoplay:!1}),m=Math.max(Eg,wn.now()-this.startTime),g=fi(0,Eg,m-Eg);n.setWithVelocity(h.sample(Math.max(0,m-g)).value,h.sample(m).value,g),h.stop()}}const G_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xr.test(t)||t==="0")&&!t.startsWith("url("));function z4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function B4(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=G_(a,e),h=G_(l,e);return!c||!h?!1:z4(t)||(n==="spring"||FS(n))&&i}function p0(t){t.duration=0,t.type="keyframes"}const F4=new Set(["opacity","clipPath","filter","transform"]),H4=yy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function q4(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return H4()&&n&&F4.has(n)&&(n!=="transform"||!g)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const G4=40;class $4 extends ky{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:m,motionValue:g,element:x,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const _={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:x,...v},E=x?.KeyframeResolver||Cy;this.keyframeResolver=new E(h,(j,D,I)=>this.onKeyframesResolved(j,D,_,!I),m,g,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:m,isHandoff:g,onUpdate:x}=i;this.resolvedAt=wn.now(),B4(e,l,c,h)||((Yi.instantAnimations||!m)&&x?.(Ay(e,i,n)),e[0]=e[e.length-1],p0(i),i.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>G4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},E=!g&&q4(_),j=_.motionValue?.owner?.current,D=E?new U4({..._,element:j}):new Ny(_);D.finished.then(()=>{this.notifyFinished()}).catch(us),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),C4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function GS(t,e,n,i=0,a=1){const l=Array.from(t).sort((g,x)=>g.sortNodePosition(x)).indexOf(e),c=t.size,h=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:h-l*i}const K4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y4(t){const e=K4.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function $S(t,e,n=1){const[i,a]=Y4(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return dS(c)?parseFloat(c):c}return _y(a)?$S(a,e,n+1):a}const Q4={type:"spring",stiffness:500,damping:25,restSpeed:10},X4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),W4={type:"keyframes",duration:.8},J4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z4=(t,{keyframes:e})=>e.length>2?W4:Al.has(t)?t.startsWith("scale")?X4(e[1]):Q4:J4,e5=t=>t!==null;function t5(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(e5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function KS(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function Ry(t,e){const n=t?.[e]??t?.default??t;return n!==t?KS(n,t):n}function n5({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:m,elapsed:g,...x}){return!!Object.keys(x).length}const Iy=(t,e,n,i={},a,l)=>c=>{const h=Ry(i,t)||{},m=h.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Is(m);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-g,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};n5(h)||Object.assign(x,Z4(t,x)),x.duration&&(x.duration=Is(x.duration)),x.repeatDelay&&(x.repeatDelay=Is(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let v=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(p0(x),x.delay===0&&(v=!0)),(Yi.instantAnimations||Yi.skipAnimations||a?.shouldSkipAnimations)&&(v=!0,p0(x),x.delay=0),x.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const _=t5(x.keyframes,h);if(_!==void 0){dt.update(()=>{x.onUpdate(_),x.onComplete()});return}}return h.isSync?new Ny(x):new $4(x)};function $_(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function jy(t,e,n,i){if(typeof e=="function"){const[a,l]=$_(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=$_(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function al(t,e,n){const i=t.getProps();return jy(i,e,n!==void 0?n:i.custom,t)}const YS=new Set(["width","height","top","left","right","bottom",...Sl]),K_=30,s5=t=>!isNaN(parseFloat(t));class i5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=s5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new xy);const i=this.events[e].add(n);return e==="change"?()=>{i(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>K_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,K_);return mS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fl(t,e){return new i5(t,e)}const g0=t=>Array.isArray(t);function r5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fl(n))}function a5(t){return g0(t)?t[t.length-1]||0:t}function o5(t,e){const n=al(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const h=a5(l[c]);r5(t,c,h)}}const gn=t=>!!(t&&t.getVelocity);function l5(t){return!!(gn(t)&&t.add)}function y0(t,e){const n=t.getValue("willChange");if(l5(n))return n.add(e);if(!n&&Yi.WillChange){const i=new Yi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Dy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const c5="framerAppearId",QS="data-"+Dy(c5);function XS(t){return t.props[QS]}function u5({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function WS(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:c,...h}=e;const m=t.getDefaultTransition();l=l?KS(l,m):m;const g=l?.reduceMotion;i&&(l=i);const x=[],v=a&&t.animationState&&t.animationState.getState()[a];for(const _ in h){const E=t.getValue(_,t.latestValues[_]??null),j=h[_];if(j===void 0||v&&u5(v,_))continue;const D={delay:n,...Ry(l||{},_)},I=E.get();if(I!==void 0&&!E.isAnimating&&!Array.isArray(j)&&j===I&&!D.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const J=XS(t);if(J){const se=window.MotionHandoffAnimation(J,_,dt);se!==null&&(D.startTime=se,V=!0)}}y0(t,_);const B=g??t.shouldReduceMotion;E.start(Iy(_,E,j,B&&YS.has(_)?{type:!1}:D,t,V));const $=E.animation;$&&x.push($)}if(c){const _=()=>dt.update(()=>{c&&o5(t,c)});x.length?Promise.all(x).then(_):_()}return x}function x0(t,e,n={}){const i=al(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(WS(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:v}=a;return d5(t,e,m,g,x,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,g]=h==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function d5(t,e,n=0,i=0,a=0,l=1,c){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push(x0(m,e,{...c,delay:n+(typeof i=="function"?0:i)+GS(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function h5(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>x0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=x0(t,e,n);else{const a=typeof e=="function"?al(t,e,n.custom):e;i=Promise.all(WS(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const f5={test:t=>t==="auto",parse:t=>t},JS=t=>e=>e.test(t),ZS=[El,we,ri,Or,Bj,zj,f5],Y_=t=>ZS.find(JS(t));function m5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fS(t):!0}const p5=new Set(["brightness","contrast","saturate","opacity"]);function g5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(wy)||[];if(!i)return t;const a=n.replace(i,"");let l=p5.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const y5=/\b([a-z-]*)\(.*?\)/gu,v0={...Xr,getAnimatableNone:t=>{const e=t.match(y5);return e?e.map(g5).join(" "):t}},Q_={...El,transform:Math.round},x5={rotate:Or,rotateX:Or,rotateY:Or,rotateZ:Or,scale:bh,scaleX:bh,scaleY:bh,scaleZ:bh,skew:Or,skewX:Or,skewY:Or,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:cu,originX:V_,originY:V_,originZ:we},My={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,inset:we,insetBlock:we,insetBlockStart:we,insetBlockEnd:we,insetInline:we,insetInlineStart:we,insetInlineEnd:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,paddingBlock:we,paddingBlockStart:we,paddingBlockEnd:we,paddingInline:we,paddingInlineStart:we,paddingInlineEnd:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,marginBlock:we,marginBlockStart:we,marginBlockEnd:we,marginInline:we,marginInlineStart:we,marginInlineEnd:we,fontSize:we,backgroundPositionX:we,backgroundPositionY:we,...x5,zIndex:Q_,fillOpacity:cu,strokeOpacity:cu,numOctaves:Q_},v5={...My,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:v0,WebkitFilter:v0},e2=t=>v5[t];function t2(t,e){let n=e2(t);return n!==v0&&(n=Xr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const b5=new Set(["auto","none","0"]);function _5(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!b5.has(l)&&uu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=t2(n,a)}class w5 extends Cy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let x=0;x<e.length;x++){let v=e[x];if(typeof v=="string"&&(v=v.trim(),_y(v))){const _=$S(v,n.current);_!==void 0&&(e[x]=_),x===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!YS.has(i)||e.length!==2)return;const[a,l]=e,c=Y_(a),h=Y_(l),m=M_(a),g=M_(l);if(m!==g&&Br[i]){this.needsMeasurement=!0;return}if(c!==h)if(H_(c)&&H_(h))for(let x=0;x<e.length;x++){const v=e[x];typeof v=="string"&&(e[x]=parseFloat(v))}else Br[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||m5(e[a]))&&i.push(a);i.length&&_5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Br[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Br[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const T5=new Set(["opacity","clipPath","filter","transform"]);function n2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const s2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function b0(t){return hS(t)&&"offsetHeight"in t}const{schedule:Vy}=SS(queueMicrotask,!1),ks={x:!1,y:!1};function i2(){return ks.x||ks.y}function E5(t){return t==="x"||t==="y"?ks[t]?null:(ks[t]=!0,()=>{ks[t]=!1}):ks.x||ks.y?null:(ks.x=ks.y=!0,()=>{ks.x=ks.y=!1})}function r2(t,e){const n=n2(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function S5(t){return!(t.pointerType==="touch"||i2())}function A5(t,e,n={}){const[i,a,l]=r2(t,n);return i.forEach(c=>{let h=!1,m=!1,g;const x=()=>{c.removeEventListener("pointerleave",j)},v=I=>{g&&(g(I),g=void 0),x()},_=I=>{h=!1,window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_),m&&(m=!1,v(I))},E=()=>{h=!0,window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",_,a)},j=I=>{if(I.pointerType!=="touch"){if(h){m=!0;return}v(I)}},D=I=>{if(!S5(I))return;m=!1;const V=e(c,I);typeof V=="function"&&(g=V,c.addEventListener("pointerleave",j,a))};c.addEventListener("pointerenter",D,a),c.addEventListener("pointerdown",E,a)}),l}const a2=(t,e)=>e?t===e?!0:a2(t,e.parentElement):!1,Py=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,k5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function N5(t){return k5.has(t.tagName)||t.isContentEditable===!0}const C5=new Set(["INPUT","SELECT","TEXTAREA"]);function R5(t){return C5.has(t.tagName)||t.isContentEditable===!0}const Oh=new WeakSet;function X_(t){return e=>{e.key==="Enter"&&t(e)}}function Sg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const I5=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=X_(()=>{if(Oh.has(n))return;Sg(n,"down");const a=X_(()=>{Sg(n,"up")}),l=()=>Sg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function W_(t){return Py(t)&&!i2()}const J_=new WeakSet;function j5(t,e,n={}){const[i,a,l]=r2(t,n),c=h=>{const m=h.currentTarget;if(!W_(h)||J_.has(h))return;Oh.add(m),n.stopPropagation&&J_.add(h);const g=e(m,h),x=(E,j)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),Oh.has(m)&&Oh.delete(m),W_(E)&&typeof g=="function"&&g(E,{success:j})},v=E=>{x(E,m===window||m===document||n.useGlobalTarget||a2(m,E.target))},_=E=>{x(E,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",_,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),b0(h)&&(h.addEventListener("focus",g=>I5(g,a)),!N5(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Oy(t){return hS(t)&&"ownerSVGElement"in t}const Lh=new WeakMap;let Uh;const o2=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:Oy(i)&&"getBBox"in i?i.getBBox()[e]:i[n],D5=o2("inline","width","offsetWidth"),M5=o2("block","height","offsetHeight");function V5({target:t,borderBoxSize:e}){Lh.get(t)?.forEach(n=>{n(t,{get width(){return D5(t,e)},get height(){return M5(t,e)}})})}function P5(t){t.forEach(V5)}function O5(){typeof ResizeObserver>"u"||(Uh=new ResizeObserver(P5))}function L5(t,e){Uh||O5();const n=n2(t);return n.forEach(i=>{let a=Lh.get(i);a||(a=new Set,Lh.set(i,a)),a.add(e),Uh?.observe(i)}),()=>{n.forEach(i=>{const a=Lh.get(i);a?.delete(e),a?.size||Uh?.unobserve(i)})}}const zh=new Set;let nl;function U5(){nl=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};zh.forEach(e=>e(t))},window.addEventListener("resize",nl)}function z5(t){return zh.add(t),nl||U5(),()=>{zh.delete(t),!zh.size&&typeof nl=="function"&&(window.removeEventListener("resize",nl),nl=void 0)}}function Z_(t,e){return typeof t=="function"?z5(t):L5(t,e)}function B5(t){return Oy(t)&&t.tagName==="svg"}const F5=[...ZS,zt,Xr],H5=t=>F5.find(JS(t)),ew=()=>({translate:0,scale:1,origin:0,originPoint:0}),sl=()=>({x:ew(),y:ew()}),tw=()=>({min:0,max:0}),Kt=()=>({x:tw(),y:tw()}),q5=new WeakMap;function Uf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function du(t){return typeof t=="string"||Array.isArray(t)}const Ly=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uy=["initial",...Ly];function zf(t){return Uf(t.animate)||Uy.some(e=>du(t[e]))}function l2(t){return!!(zf(t)||t.variants)}function G5(t,e,n){for(const i in e){const a=e[i],l=n[i];if(gn(a))t.addValue(i,a);else if(gn(l))t.addValue(i,fl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,fl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const _0={current:null},c2={current:!1},$5=typeof window<"u";function K5(){if(c2.current=!0,!!$5)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_0.current=t.matches;t.addEventListener("change",e),e()}else _0.current=!1}const nw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let rf={};function u2(t){rf=t}function Y5(){return rf}class Q5{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Cy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=wn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,dt.render(this.render,!1,!0))};const{latestValues:g,renderState:x}=h;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=x,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=zf(n),this.isVariantNode=l2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const j=_[E];g[E]!==void 0&&gn(j)&&j.set(g[E])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,q5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(c2.current||K5(),this.shouldReduceMotion=_0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&T5.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:h,times:m,ease:g,duration:x}=n.accelerate,v=new HS({element:this.current,name:e,keyframes:h,times:m,ease:g,duration:Is(x)}),_=c(v);this.valueSubscriptions.set(e,()=>{_(),v.cancel()});return}const i=Al.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&dt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rf){const n=rf[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<nw.length;i++){const a=nw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=G5(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=fl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(dS(i)||fS(i))?i=parseFloat(i):!H5(i)&&Xr.test(n)&&(i=t2(e,n)),this.setBaseTarget(e,gn(i)?i.get():i)),gn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=jy(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!gn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new xy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Vy.render(this.render)}}class d2 extends Q5{constructor(){super(...arguments),this.KeyframeResolver=w5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ra{constructor(e){this.isMounted=!1,this.node=e}update(){}}function h2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function X5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function W5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ag(t){return t===void 0||t===1}function w0({scale:t,scaleX:e,scaleY:n}){return!Ag(t)||!Ag(e)||!Ag(n)}function Oa(t){return w0(t)||f2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function f2(t){return sw(t.x)||sw(t.y)}function sw(t){return t&&t!=="0%"}function af(t,e,n){const i=t-n,a=e*i;return n+a}function iw(t,e,n,i,a){return a!==void 0&&(t=af(t,a,i)),af(t,n,i)+e}function T0(t,e=0,n=1,i,a){t.min=iw(t.min,e,n,i,a),t.max=iw(t.max,e,n,i,a)}function m2(t,{x:e,y:n}){T0(t.x,e.translate,e.scale,e.originPoint),T0(t.y,n.translate,n.scale,n.originPoint)}const rw=.999999999999,aw=1.0000000000001;function J5(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&rl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,m2(t,c)),i&&Oa(l.latestValues)&&rl(t,l.latestValues))}e.x<aw&&e.x>rw&&(e.x=1),e.y<aw&&e.y>rw&&(e.y=1)}function il(t,e){t.min=t.min+e,t.max=t.max+e}function ow(t,e,n,i,a=.5){const l=xt(t.min,t.max,a);T0(t,e,n,l,i)}function rl(t,e){ow(t.x,e.x,e.scaleX,e.scale,e.originX),ow(t.y,e.y,e.scaleY,e.scale,e.originY)}function p2(t,e){return h2(W5(t.getBoundingClientRect(),e))}function Z5(t,e,n){const i=p2(t,n),{scroll:a}=e;return a&&(il(i.x,a.offset.x),il(i.y,a.offset.y)),i}const eD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tD=Sl.length;function nD(t,e,n){let i="",a=!0;for(let l=0;l<tD;l++){const c=Sl[l],h=t[c];if(h===void 0)continue;let m=!0;if(typeof h=="number")m=h===(c.startsWith("scale")?1:0);else{const g=parseFloat(h);m=c.startsWith("scale")?g===1:g===0}if(!m||n){const g=s2(h,My[c]);if(!m){a=!1;const x=eD[c]||c;i+=`${x}(${g}) `}n&&(e[c]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function zy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const m in e){const g=e[m];if(Al.has(m)){c=!0;continue}else if(kS(m)){a[m]=g;continue}else{const x=s2(g,My[m]);m.startsWith("origin")?(h=!0,l[m]=x):i[m]=x}}if(e.transform||(c||n?i.transform=nD(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:g="50%",originZ:x=0}=l;i.transformOrigin=`${m} ${g} ${x}`}}function g2(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function lw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=lw(t,e.target.x),i=lw(t,e.target.y);return`${n}% ${i}%`}},sD={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Xr.parse(t);if(a.length>5)return i;const l=Xr.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=m;const g=xt(h,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},E0={borderRadius:{...Bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bc,borderTopRightRadius:Bc,borderBottomLeftRadius:Bc,borderBottomRightRadius:Bc,boxShadow:sD};function y2(t,{layout:e,layoutId:n}){return Al.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!E0[t]||t==="opacity")}function By(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(gn(i[c])||a&&gn(a[c])||y2(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function iD(t){return window.getComputedStyle(t)}class rD extends d2{constructor(){super(...arguments),this.type="html",this.renderInstance=g2}readValueFromInstance(e,n){if(Al.has(n))return this.projection?.isProjecting?u0(n):E4(e,n);{const i=iD(e),a=(kS(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return p2(e,n)}build(e,n,i){zy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return By(e,n,i)}}const aD={offset:"stroke-dashoffset",array:"stroke-dasharray"},oD={offset:"strokeDashoffset",array:"strokeDasharray"};function lD(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?aD:oD;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const cD=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function x2(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},m,g,x){if(zy(t,h,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=x?.transformBox??"fill-box",delete v.transformBox);for(const E of cD)v[E]!==void 0&&(_[E]=v[E],delete v[E]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&lD(v,a,l,c,!1)}const v2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),b2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function uD(t,e,n,i){g2(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(v2.has(a)?a:Dy(a),e.attrs[a])}function _2(t,e,n){const i=By(t,e,n);for(const a in t)if(gn(t[a])||gn(e[a])){const l=Sl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class dD extends d2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Al.has(n)){const i=e2(n);return i&&i.default||0}return n=v2.has(n)?n:Dy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return _2(e,n,i)}build(e,n,i){x2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){uD(e,n,i,a)}mount(e){this.isSVGTag=b2(e.tagName),super.mount(e)}}const hD=Uy.length;function w2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?w2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<hD;n++){const i=Uy[n],a=t.props[i];(du(a)||a===!1)&&(e[i]=a)}return e}function T2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const fD=[...Ly].reverse(),mD=Ly.length;function pD(t){return e=>Promise.all(e.map(({animation:n,options:i})=>h5(t,n,i)))}function gD(t){let e=pD(t),n=cw(),i=!0;const a=m=>(g,x)=>{const v=al(t,x,m==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:E,...j}=v;g={...g,...j,...E}}return g};function l(m){e=m(t)}function c(m){const{props:g}=t,x=w2(t.parent)||{},v=[],_=new Set;let E={},j=1/0;for(let I=0;I<mD;I++){const V=fD[I],B=n[V],$=g[V]!==void 0?g[V]:x[V],J=du($),se=V===m?B.isActive:null;se===!1&&(j=I);let de=$===x[V]&&$!==g[V]&&J;if(de&&i&&t.manuallyAnimateOnMount&&(de=!1),B.protectedKeys={...E},!B.isActive&&se===null||!$&&!B.prevProp||Uf($)||typeof $=="boolean")continue;if(V==="exit"&&B.isActive&&se!==!0){B.prevResolvedValues&&(E={...E,...B.prevResolvedValues});continue}const R=yD(B.prevProp,$);let S=R||V===m&&B.isActive&&!de&&J||I>j&&J,C=!1;const z=Array.isArray($)?$:[$];let U=z.reduce(a(V),{});se===!1&&(U={});const{prevResolvedValues:q={}}=B,M={...q,...U},ze=H=>{S=!0,_.has(H)&&(C=!0,_.delete(H)),B.needsAnimating[H]=!0;const G=t.getValue(H);G&&(G.liveStyle=!1)};for(const H in M){const G=U[H],ce=q[H];if(E.hasOwnProperty(H))continue;let fe=!1;g0(G)&&g0(ce)?fe=!T2(G,ce):fe=G!==ce,fe?G!=null?ze(H):_.add(H):G!==void 0&&_.has(H)?ze(H):B.protectedKeys[H]=!0}B.prevProp=$,B.prevResolvedValues=U,B.isActive&&(E={...E,...U}),i&&t.blockInitialAnimation&&(S=!1);const K=de&&R;S&&(!K||C)&&v.push(...z.map(H=>{const G={type:V};if(typeof H=="string"&&i&&!K&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,fe=al(ce,H);if(ce.enteringChildren&&fe){const{delayChildren:P}=fe.transition||{};G.delay=GS(ce.enteringChildren,t,P)}}return{animation:H,options:G}}))}if(_.size){const I={};if(typeof g.initial!="boolean"){const V=al(t,Array.isArray(g.initial)?g.initial[0]:g.initial);V&&V.transition&&(I.transition=V.transition)}_.forEach(V=>{const B=t.getBaseTarget(V),$=t.getValue(V);$&&($.liveStyle=!0),I[V]=B??null}),v.push({animation:I})}let D=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(v):Promise.resolve()}function h(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(m,g)),n[m].isActive=g;const x=c(m);for(const v in n)n[v].protectedKeys={};return x}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=cw()}}}function yD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!T2(e,t):!1}function Va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cw(){return{animate:Va(!0),whileInView:Va(),whileHover:Va(),whileTap:Va(),whileDrag:Va(),whileFocus:Va(),exit:Va()}}function uw(t,e){t.min=e.min,t.max=e.max}function Ss(t,e){uw(t.x,e.x),uw(t.y,e.y)}function dw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const E2=1e-4,xD=1-E2,vD=1+E2,S2=.01,bD=0-S2,_D=0+S2;function Tn(t){return t.max-t.min}function wD(t,e,n){return Math.abs(t-e)<=n}function hw(t,e,n,i=.5){t.origin=i,t.originPoint=xt(e.min,e.max,t.origin),t.scale=Tn(n)/Tn(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=xD&&t.scale<=vD||isNaN(t.scale))&&(t.scale=1),(t.translate>=bD&&t.translate<=_D||isNaN(t.translate))&&(t.translate=0)}function Jc(t,e,n,i){hw(t.x,e.x,n.x,i?i.originX:void 0),hw(t.y,e.y,n.y,i?i.originY:void 0)}function fw(t,e,n){t.min=n.min+e.min,t.max=t.min+Tn(e)}function TD(t,e,n){fw(t.x,e.x,n.x),fw(t.y,e.y,n.y)}function mw(t,e,n){t.min=e.min-n.min,t.max=t.min+Tn(e)}function of(t,e,n){mw(t.x,e.x,n.x),mw(t.y,e.y,n.y)}function pw(t,e,n,i,a){return t-=e,t=af(t,1/n,i),a!==void 0&&(t=af(t,1/a,i)),t}function ED(t,e=0,n=1,i=.5,a,l=t,c=t){if(ri.test(e)&&(e=parseFloat(e),e=xt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=xt(l.min,l.max,i);t===l&&(h-=e),t.min=pw(t.min,e,n,h,a),t.max=pw(t.max,e,n,h,a)}function gw(t,e,[n,i,a],l,c){ED(t,e[n],e[i],e[a],e.scale,l,c)}const SD=["x","scaleX","originX"],AD=["y","scaleY","originY"];function yw(t,e,n,i){gw(t.x,e,SD,n?n.x:void 0,i?i.x:void 0),gw(t.y,e,AD,n?n.y:void 0,i?i.y:void 0)}function xw(t){return t.translate===0&&t.scale===1}function A2(t){return xw(t.x)&&xw(t.y)}function vw(t,e){return t.min===e.min&&t.max===e.max}function kD(t,e){return vw(t.x,e.x)&&vw(t.y,e.y)}function bw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function k2(t,e){return bw(t.x,e.x)&&bw(t.y,e.y)}function _w(t){return Tn(t.x)/Tn(t.y)}function ww(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function si(t){return[t("x"),t("y")]}function ND(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:x,rotateX:v,rotateY:_,skewX:E,skewY:j}=n;g&&(i=`perspective(${g}px) ${i}`),x&&(i+=`rotate(${x}deg) `),v&&(i+=`rotateX(${v}deg) `),_&&(i+=`rotateY(${_}deg) `),E&&(i+=`skewX(${E}deg) `),j&&(i+=`skewY(${j}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const N2=["TopLeft","TopRight","BottomLeft","BottomRight"],CD=N2.length,Tw=t=>typeof t=="string"?parseFloat(t):t,Ew=t=>typeof t=="number"||we.test(t);function RD(t,e,n,i,a,l){a?(t.opacity=xt(0,n.opacity??1,ID(i)),t.opacityExit=xt(e.opacity??1,0,jD(i))):l&&(t.opacity=xt(e.opacity??1,n.opacity??1,i));for(let c=0;c<CD;c++){const h=`border${N2[c]}Radius`;let m=Sw(e,h),g=Sw(n,h);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Ew(m)===Ew(g)?(t[h]=Math.max(xt(Tw(m),Tw(g),i),0),(ri.test(g)||ri.test(m))&&(t[h]+="%")):t[h]=g}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,i))}function Sw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ID=C2(0,.5,_S),jD=C2(.5,.95,us);function C2(t,e,n){return i=>i<t?0:i>e?1:n(lu(t,e,i))}function DD(t,e,n){const i=gn(t)?t:fl(t);return i.start(Iy("",i,e,n)),i.animation}function hu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const MD=(t,e)=>t.depth-e.depth;class VD{constructor(){this.children=[],this.isDirty=!1}add(e){py(this.children,e),this.isDirty=!0}remove(e){ef(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MD),this.isDirty=!1,this.children.forEach(e)}}function PD(t,e){const n=wn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Qr(i),t(l-e))};return dt.setup(i,!0),()=>Qr(i)}function Bh(t){return gn(t)?t.get():t}class OD{constructor(){this.members=[]}add(e){py(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&ef(this.members,i)}e.scheduleRender()}remove(e){if(ef(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},kg=["","X","Y","Z"],LD=1e3;let UD=0;function Ng(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function R2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=XS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&R2(i)}function I2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=UD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FD),this.nodes.forEach($D),this.nodes.forEach(KD),this.nodes.forEach(HD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new VD)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new xy),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const m=this.eventHandlers.get(c);m&&m.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Oy(c)&&!B5(c),this.instance=c;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let x,v=0;const _=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{v=window.innerWidth}),t(c,()=>{const E=window.innerWidth;E!==v&&(v=E,this.root.updateBlockedByResize=!0,x&&x(),x=PD(_,250),Fh.hasAnimatedSinceResize&&(Fh.hasAnimatedSinceResize=!1,this.nodes.forEach(Nw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||JD,{onLayoutAnimationStart:D,onLayoutAnimationComplete:I}=g.getProps(),V=!this.targetLayout||!k2(this.targetLayout,E),B=!v&&_;if(this.options.layoutRoot||this.resumeFrom||B||v&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Ry(j,"layout"),onPlay:D,onComplete:I};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(x,B)}else v||Nw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&R2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const v=this.path[x];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Aw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(GD),this.nodes.forEach(zD),this.nodes.forEach(BD)):this.nodes.forEach(kw),this.clearAllSnapshots();const h=wn.now();ln.delta=fi(0,1e3/60,h-ln.timestamp),ln.timestamp=h,ln.isProcessing=!0,vg.update.process(ln),vg.preRender.process(ln),vg.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qD),this.sharedNodes.forEach(QD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!A2(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;c&&this.instance&&(h||Oa(this.latestValues)||x)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return c&&(m=this.removeTransform(m)),ZD(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Kt();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(eM))){const{scroll:g}=this.root;g&&(il(h.x,g.offset.x),il(h.y,g.offset.y))}return h}removeElementScroll(c){const h=Kt();if(Ss(h,c),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:x,options:v}=g;g!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&Ss(h,c),il(h.x,x.offset.x),il(h.y,x.offset.y))}return h}applyTransform(c,h=!1){const m=Kt();Ss(m,c);for(let g=0;g<this.path.length;g++){const x=this.path[g];!h&&x.options.layoutScroll&&x.scroll&&x!==x.root&&rl(m,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Oa(x.latestValues)&&rl(m,x.latestValues)}return Oa(this.latestValues)&&rl(m,this.latestValues),m}removeTransform(c){const h=Kt();Ss(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Oa(g.latestValues))continue;w0(g.latestValues)&&g.updateSnapshot();const x=Kt(),v=g.measurePageBox();Ss(x,v),yw(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return Oa(this.latestValues)&&yw(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!this.layout||!(x||v))return;this.resolvedRelativeTargetAt=ln.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ss(this.target,this.layout.layoutBox),m2(this.target,this.targetDelta)):Ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||w0(this.parent.latestValues)||f2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),of(this.relativeTargetOrigin,h,m),Ss(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(m=!1),m)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;Ss(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;J5(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Kt());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dw(this.prevProjectionDelta.x,this.projectionDelta.x),dw(this.prevProjectionDelta.y,this.projectionDelta.y)),Jc(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!ww(this.projectionDelta.x,this.prevProjectionDelta.x)||!ww(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sl(),this.projectionDelta=sl(),this.projectionDeltaWithTransform=sl()}setAnimationOrigin(c,h=!1){const m=this.snapshot,g=m?m.latestValues:{},x={...this.latestValues},v=sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Kt(),E=m?m.source:void 0,j=this.layout?this.layout.source:void 0,D=E!==j,I=this.getStack(),V=!I||I.members.length<=1,B=!!(D&&!V&&this.options.crossfade===!0&&!this.path.some(WD));this.animationProgress=0;let $;this.mixTargetDelta=J=>{const se=J/1e3;Cw(v.x,c.x,se),Cw(v.y,c.y,se),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(of(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XD(this.relativeTarget,this.relativeTargetOrigin,_,se),$&&kD(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Kt()),Ss($,this.relativeTarget)),D&&(this.animationValues=x,RD(x,g,this.latestValues,se,B,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Fh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fl(0)),this.currentAnimation=DD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:m,layout:g,latestValues:x}=c;if(!(!h||!m||!g)){if(this!==c&&this.layout&&g&&j2(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Kt();const v=Tn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+v;const _=Tn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+_}Ss(h,m),rl(h,x),Jc(this.projectionDeltaWithTransform,this.layoutCorrected,h,x)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new OD),this.sharedNodes.get(c).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const g={};m.z&&Ng("z",c,g,this.animationValues);for(let x=0;x<kg.length;x++)Ng(`rotate${kg[x]}`,c,g,this.animationValues),Ng(`skew${kg[x]}`,c,g,this.animationValues);c.render();for(const x in g)c.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Bh(h?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Bh(h?.pointerEvents)||""),this.hasProjected&&!Oa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const x=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=ND(this.projectionDeltaWithTransform,this.treeScale,x);m&&(v=m(x,v)),c.transform=v;const{x:_,y:E}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,g.animationValues?c.opacity=g===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:c.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const j in E0){if(x[j]===void 0)continue;const{correct:D,applyTo:I,isCSSVariable:V}=E0[j],B=v==="none"?x[j]:D(x[j],g);if(I){const $=I.length;for(let J=0;J<$;J++)c[I[J]]=B}else V?this.options.visualElement.renderState.vars[j]=B:c[j]=B}this.options.layoutId&&(c.pointerEvents=g===this?Bh(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Aw),this.root.sharedNodes.clear()}}}function zD(t){t.updateLayout()}function BD(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?si(x=>{const v=l?e.measuredBox[x]:e.layoutBox[x],_=Tn(v);v.min=n[x].min,v.max=v.min+_}):j2(a,e.layoutBox,n)&&si(x=>{const v=l?e.measuredBox[x]:e.layoutBox[x],_=Tn(n[x]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+_)});const c=sl();Jc(c,n,e.layoutBox);const h=sl();l?Jc(h,t.applyTransform(i,!0),e.measuredBox):Jc(h,n,e.layoutBox);const m=!A2(c);let g=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:_}=x;if(v&&_){const E=Kt();of(E,e.layoutBox,v.layoutBox);const j=Kt();of(j,n,_.layoutBox),k2(E,j)||(g=!0),x.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=E,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function FD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qD(t){t.clearSnapshot()}function Aw(t){t.clearMeasurements()}function kw(t){t.isLayoutDirty=!1}function GD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Nw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $D(t){t.resolveTargetDelta()}function KD(t){t.calcProjection()}function YD(t){t.resetSkewAndRotation()}function QD(t){t.removeLeadSnapshot()}function Cw(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Rw(t,e,n,i){t.min=xt(e.min,n.min,i),t.max=xt(e.max,n.max,i)}function XD(t,e,n,i){Rw(t.x,e.x,n.x,i),Rw(t.y,e.y,n.y,i)}function WD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JD={duration:.45,ease:[.4,0,.1,1]},Iw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jw=Iw("applewebkit/")&&!Iw("chrome/")?Math.round:us;function Dw(t){t.min=jw(t.min),t.max=jw(t.max)}function ZD(t){Dw(t.x),Dw(t.y)}function j2(t,e,n){return t==="position"||t==="preserve-aspect"&&!wD(_w(e),_w(n),.2)}function eM(t){return t!==t.root&&t.scroll?.wasRoot}const tM=I2({attachResizeListener:(t,e)=>hu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},D2=I2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cg.current){const t=new tM({});t.mount(window),t.setOptions({layoutScroll:!0}),Cg.current=t}return Cg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Fy=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Mw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nM(...t){return e=>{let n=!1;const i=t.map(a=>{const l=Mw(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Mw(t[a],null)}}}}function sM(...t){return k.useCallback(nM(...t),t)}class iM extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=b0(i)&&i.offsetWidth||0,l=b0(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function rM({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const c=k.useId(),h=k.useRef(null),m=k.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=k.useContext(Fy),x=t.props?.ref??t?.ref,v=sM(h,x);return k.useInsertionEffect(()=>{const{width:_,height:E,top:j,left:D,right:I,bottom:V}=m.current;if(e||l===!1||!h.current||!_||!E)return;const B=n==="left"?`left: ${D}`:`right: ${I}`,$=i==="bottom"?`bottom: ${V}`:`top: ${j}`;h.current.dataset.motionPopId=c;const J=document.createElement("style");g&&(J.nonce=g);const se=a??document.head;return se.appendChild(J),J.sheet&&J.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${E}px !important;
            ${B}px !important;
            ${$}px !important;
          }
        `),()=>{se.contains(J)&&se.removeChild(J)}},[e]),d.jsx(iM,{isPresent:e,childRef:h,sizeRef:m,pop:l,children:l===!1?t:k.cloneElement(t,{ref:v})})}const aM=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:m,root:g})=>{const x=my(oM),v=k.useId();let _=!0,E=k.useMemo(()=>(_=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:j=>{x.set(j,!0);for(const D of x.values())if(!D)return;i&&i()},register:j=>(x.set(j,!1),()=>x.delete(j))}),[n,x,i]);return l&&_&&(E={...E}),k.useMemo(()=>{x.forEach((j,D)=>x.set(D,!1))},[n]),k.useEffect(()=>{!n&&!x.size&&i&&i()},[n]),t=d.jsx(rM,{pop:c==="popLayout",isPresent:n,anchorX:h,anchorY:m,root:g,children:t}),d.jsx(Lf.Provider,{value:E,children:t})};function oM(){return new Map}function M2(t=!0){const e=k.useContext(Lf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const c=k.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const _h=t=>t.key||"";function Vw(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const hs=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:m="top",root:g})=>{const[x,v]=M2(c),_=k.useMemo(()=>Vw(t),[t]),E=c&&!x?[]:_.map(_h),j=k.useRef(!0),D=k.useRef(_),I=my(()=>new Map),V=k.useRef(new Set),[B,$]=k.useState(_),[J,se]=k.useState(_);uS(()=>{j.current=!1,D.current=_;for(let S=0;S<J.length;S++){const C=_h(J[S]);E.includes(C)?(I.delete(C),V.current.delete(C)):I.get(C)!==!0&&I.set(C,!1)}},[J,E.length,E.join("-")]);const de=[];if(_!==B){let S=[..._];for(let C=0;C<J.length;C++){const z=J[C],U=_h(z);E.includes(U)||(S.splice(C,0,z),de.push(z))}return l==="wait"&&de.length&&(S=de),se(Vw(S)),$(_),null}const{forceRender:R}=k.useContext(fy);return d.jsx(d.Fragment,{children:J.map(S=>{const C=_h(S),z=c&&!x?!1:_===J||E.includes(C),U=()=>{if(V.current.has(C))return;if(V.current.add(C),I.has(C))I.set(C,!0);else return;let q=!0;I.forEach(M=>{M||(q=!1)}),q&&(R?.(),se(D.current),c&&v?.(),i&&i())};return d.jsx(aM,{isPresent:z,initial:!j.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:g,onExitComplete:z?void 0:U,anchorX:h,anchorY:m,children:S},C)})})},V2=k.createContext({strict:!1}),Pw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Ow=!1;function lM(){if(Ow)return;const t={};for(const e in Pw)t[e]={isEnabled:n=>Pw[e].some(i=>!!n[i])};u2(t),Ow=!0}function P2(){return lM(),Y5()}function cM(t){const e=P2();for(const n in t)e[n]={...e[n],...t[n]};u2(e)}const uM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function lf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uM.has(t)}let O2=t=>!lf(t);function dM(t){typeof t=="function"&&(O2=e=>e.startsWith("on")?!lf(e):t(e))}try{dM(require("@emotion/is-prop-valid").default)}catch{}function hM(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(O2(a)||n===!0&&lf(a)||!e&&!lf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Bf=k.createContext({});function fM(t,e){if(zf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||du(n)?n:void 0,animate:du(i)?i:void 0}}return t.inherit!==!1?e:{}}function mM(t){const{initial:e,animate:n}=fM(t,k.useContext(Bf));return k.useMemo(()=>({initial:e,animate:n}),[Lw(e),Lw(n)])}function Lw(t){return Array.isArray(t)?t.join(" "):t}const Hy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function L2(t,e,n){for(const i in e)!gn(e[i])&&!y2(i,n)&&(t[i]=e[i])}function pM({transformTemplate:t},e){return k.useMemo(()=>{const n=Hy();return zy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gM(t,e){const n=t.style||{},i={};return L2(i,n,t),Object.assign(i,pM(t,e)),i}function yM(t,e){const n={},i=gM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const U2=()=>({...Hy(),attrs:{}});function xM(t,e,n,i){const a=k.useMemo(()=>{const l=U2();return x2(l,e,b2(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};L2(l,t.style,t),a.style={...l,...a.style}}return a}const vM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qy(t){return typeof t!="string"||t.includes("-")?!1:!!(vM.indexOf(t)>-1||/[A-Z]/u.test(t))}function bM(t,e,n,{latestValues:i},a,l=!1,c){const m=(c??qy(t)?xM:yM)(e,i,a,t),g=hM(e,typeof t=="string",l),x=t!==k.Fragment?{...g,...m,ref:n}:{},{children:v}=e,_=k.useMemo(()=>gn(v)?v.get():v,[v]);return k.createElement(t,{...x,children:_})}function _M({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:wM(n,i,a,t),renderState:e()}}function wM(t,e,n,i){const a={},l=i(t,{});for(const _ in l)a[_]=Bh(l[_]);let{initial:c,animate:h}=t;const m=zf(t),g=l2(t);e&&g&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let x=n?n.initial===!1:!1;x=x||c===!1;const v=x?h:c;if(v&&typeof v!="boolean"&&!Uf(v)){const _=Array.isArray(v)?v:[v];for(let E=0;E<_.length;E++){const j=jy(t,_[E]);if(j){const{transitionEnd:D,transition:I,...V}=j;for(const B in V){let $=V[B];if(Array.isArray($)){const J=x?$.length-1:0;$=$[J]}$!==null&&(a[B]=$)}for(const B in D)a[B]=D[B]}}}return a}const z2=t=>(e,n)=>{const i=k.useContext(Bf),a=k.useContext(Lf),l=()=>_M(t,e,i,a);return n?l():my(l)},TM=z2({scrapeMotionValuesFromProps:By,createRenderState:Hy}),EM=z2({scrapeMotionValuesFromProps:_2,createRenderState:U2}),SM=Symbol.for("motionComponentSymbol");function AM(t,e,n){const i=k.useRef(n);k.useInsertionEffect(()=>{i.current=n});const a=k.useRef(null);return k.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const B2=k.createContext({});function Xo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kM(t,e,n,i,a,l){const{visualElement:c}=k.useContext(Bf),h=k.useContext(V2),m=k.useContext(Lf),g=k.useContext(Fy),x=g.reducedMotion,v=g.skipAnimations,_=k.useRef(null),E=k.useRef(!1);i=i||h.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:x,skipAnimations:v,isSVG:l}),E.current&&_.current&&(_.current.manuallyAnimateOnMount=!0));const j=_.current,D=k.useContext(B2);j&&!j.projection&&a&&(j.type==="html"||j.type==="svg")&&NM(_.current,n,a,D);const I=k.useRef(!1);k.useInsertionEffect(()=>{j&&I.current&&j.update(n,m)});const V=n[QS],B=k.useRef(!!V&&!window.MotionHandoffIsComplete?.(V)&&window.MotionHasOptimisedAnimation?.(V));return uS(()=>{E.current=!0,j&&(I.current=!0,window.MotionIsMounted=!0,j.updateFeatures(),j.scheduleRenderMicrotask(),B.current&&j.animationState&&j.animationState.animateChanges())}),k.useEffect(()=>{j&&(!B.current&&j.animationState&&j.animationState.animateChanges(),B.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(V)}),B.current=!1),j.enteringChildren=void 0)}),j}function NM(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:m,layoutRoot:g,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:F2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Xo(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:m,layoutRoot:g})}function F2(t){if(t)return t.options.allowProjection!==!1?t.projection:F2(t.parent)}function Rg(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&cM(i);const l=n?n==="svg":qy(t),c=l?EM:TM;function h(g,x){let v;const _={...k.useContext(Fy),...g,layoutId:CM(g)},{isStatic:E}=_,j=mM(g),D=c(g,E);if(!E&&cS){RM();const I=IM(_);v=I.MeasureLayout,j.visualElement=kM(t,D,_,a,I.ProjectionNode,l)}return d.jsxs(Bf.Provider,{value:j,children:[v&&j.visualElement?d.jsx(v,{visualElement:j.visualElement,..._}):null,bM(t,g,AM(D,j.visualElement,x),D,E,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=k.forwardRef(h);return m[SM]=t,m}function CM({layoutId:t}){const e=k.useContext(fy).id;return e&&t!==void 0?e+"-"+t:t}function RM(t,e){k.useContext(V2).strict}function IM(t){const e=P2(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function jM(t,e){if(typeof Proxy>"u")return Rg;const n=new Map,i=(l,c)=>Rg(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Rg(c,void 0,t,e)),n.get(c))})}const DM=(t,e)=>e.isSVG??qy(t)?new dD(e):new rD(e,{allowProjection:t!==k.Fragment});class MM extends ra{constructor(e){super(e),e.animationState||(e.animationState=gD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Uf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let VM=0;class PM extends ra{constructor(){super(...arguments),this.id=VM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OM={animation:{Feature:MM},exit:{Feature:PM}};function Nu(t){return{point:{x:t.pageX,y:t.pageY}}}const LM=t=>e=>Py(e)&&t(e,Nu(e));function Zc(t,e,n,i){return hu(t,e,LM(n),i)}const H2=({current:t})=>t?t.ownerDocument.defaultView:null,Uw=(t,e)=>Math.abs(t-e);function UM(t,e){const n=Uw(t.x,e.x),i=Uw(t.y,e.y);return Math.sqrt(n**2+i**2)}const zw=new Set(["auto","scroll"]);class q2{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=E=>{this.handleScroll(E.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=jg(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,D=UM(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!D)return;const{point:I}=E,{timestamp:V}=ln;this.history.push({...I,timestamp:V});const{onStart:B,onMove:$}=this.handlers;j||(B&&B(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,E)},this.handlePointerMove=(E,j)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Ig(j,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(E,j)=>{this.end();const{onEnd:D,onSessionEnd:I,resumeAnimation:V}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=jg(E.type==="pointercancel"?this.lastMoveEventInfo:Ig(j,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,B),I&&I(E,B)},!Py(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const m=Nu(e),g=Ig(m,this.transformPagePoint),{point:x}=g,{timestamp:v}=ln;this.history=[{...x,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,jg(g,this.history)),this.removeListeners=Su(Zc(this.contextWindow,"pointermove",this.handlePointerMove),Zc(this.contextWindow,"pointerup",this.handlePointerUp),Zc(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(zw.has(i.overflowX)||zw.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),dt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Qr(this.updatePoint)}}function Ig(t,e){return e?{point:e(t.point)}:t}function Bw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jg({point:t},e){return{point:t,delta:Bw(t,G2(e)),offset:Bw(t,zM(e)),velocity:BM(e,.1)}}function zM(t){return t[0]}function G2(t){return t[t.length-1]}function BM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=G2(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Is(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Is(e)*2&&(i=t[1]);const l=cs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function FM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?xt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?xt(n,t,i.max):Math.min(t,n)),t}function Fw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function HM(t,{top:e,left:n,bottom:i,right:a}){return{x:Fw(t.x,n,a),y:Fw(t.y,e,i)}}function Hw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function qM(t,e){return{x:Hw(t.x,e.x),y:Hw(t.y,e.y)}}function GM(t,e){let n=.5;const i=Tn(t),a=Tn(e);return a>i?n=lu(e.min,e.max-i,t.min):i>a&&(n=lu(t.min,t.max-a,e.min)),fi(0,1,n)}function $M(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const S0=.35;function KM(t=S0){return t===!1?t=0:t===!0&&(t=S0),{x:qw(t,"left","right"),y:qw(t,"top","bottom")}}function qw(t,e,n){return{min:Gw(t,e),max:Gw(t,n)}}function Gw(t,e){return typeof t=="number"?t:t[e]||0}const YM=new WeakMap;class QM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n&&this.snapToCursor(Nu(v).point),this.stopAnimation()},c=(v,_)=>{const{drag:E,dragPropagation:j,onDragStart:D}=this.getProps();if(E&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=E5(E),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(V=>{let B=this.getAxisMotionValue(V).get()||0;if(ri.test(B)){const{projection:$}=this.visualElement;if($&&$.layout){const J=$.layout.layoutBox[V];J&&(B=Tn(J)*(parseFloat(B)/100))}}this.originPoint[V]=B}),D&&dt.update(()=>D(v,_),!1,!0),y0(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:E,dragDirectionLock:j,onDirectionLock:D,onDrag:I}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:V}=_;if(j&&this.currentDirection===null){this.currentDirection=WM(V),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",_.point,V),this.updateAxis("y",_.point,V),this.visualElement.render(),I&&dt.update(()=>I(v,_),!1,!0)},m=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:x}=this.getProps();this.panSession=new q2(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:H2(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&dt.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!wh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=FM(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Xo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=HM(i.layoutBox,e):this.constraints=!1,this.elastic=KM(n),a!==this.constraints&&!Xo(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=$M(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Z5(i,a.root,this.visualElement.getTransformPagePoint());let c=qM(a.layout.layoutBox,l);if(n){const h=n(X5(c));this.hasMutatedConstraints=!!h,h&&(c=h2(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},g=si(x=>{if(!wh(x,n,this.currentDirection))return;let v=m&&m[x]||{};c&&(v={min:0,max:0});const _=a?200:1e6,E=a?40:1e7,j={type:"inertia",velocity:i?e[x]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(x,j)});return Promise.all(g).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return y0(this.visualElement,e),i.start(Iy(e,i,0,n,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){si(n=>{const{drag:i}=this.getProps();if(!wh(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-xt(c,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Xo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};si(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const m=h.get();a[c]=GM({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),si(c=>{if(!wh(c,e,null))return;const h=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];h.set(xt(m,g,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;YM.set(this.visualElement,this);const e=this.visualElement.current,n=Zc(e,"pointerdown",g=>{const{drag:x,dragListener:v=!0}=this.getProps(),_=g.target,E=_!==e&&R5(_);x&&v&&!E&&this.start(g)});let i;const a=()=>{const{dragConstraints:g}=this.getProps();Xo(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),i||(i=XM(e,g.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),dt.read(a);const h=hu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:x})=>{this.isDragging&&x&&(si(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=g[v].translate,_.set(_.get()+g[v].translate))}),this.visualElement.render())}));return()=>{h(),n(),c(),m&&m(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=S0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function $w(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function XM(t,e,n){const i=Z_(t,$w(n)),a=Z_(e,$w(n));return()=>{i(),a()}}function wh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function WM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class JM extends ra{constructor(e){super(e),this.removeGroupControls=us,this.removeListeners=us,this.controls=new QM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||us}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Dg=t=>(e,n)=>{t&&dt.update(()=>t(e,n),!1,!0)};class ZM extends ra{constructor(){super(...arguments),this.removePointerDownListener=us}onPointerDown(e){this.session=new q2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:H2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Dg(e),onStart:Dg(n),onMove:Dg(i),onEnd:(l,c)=>{delete this.session,a&&dt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Zc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Mg=!1;class e3 extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Mg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Mg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||dt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Vy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Mg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $2(t){const[e,n]=M2(),i=k.useContext(fy);return d.jsx(e3,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(B2),isPresent:e,safeToRemove:n})}const t3={pan:{Feature:ZM},drag:{Feature:JM,ProjectionNode:D2,MeasureLayout:$2}};function Kw(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&dt.postRender(()=>l(e,Nu(e)))}class n3 extends ra{mount(){const{current:e}=this.node;e&&(this.unmount=A5(e,(n,i)=>(Kw(this.node,i,"Start"),a=>Kw(this.node,a,"End"))))}unmount(){}}class s3 extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Su(hu(this.node.current,"focus",()=>this.onFocus()),hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yw(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&dt.postRender(()=>l(e,Nu(e)))}class i3 extends ra{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=j5(e,(a,l)=>(Yw(this.node,l,"Start"),(c,{success:h})=>Yw(this.node,c,h?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const A0=new WeakMap,Vg=new WeakMap,r3=t=>{const e=A0.get(t.target);e&&e(t)},a3=t=>{t.forEach(r3)};function o3({root:t,...e}){const n=t||document;Vg.has(n)||Vg.set(n,{});const i=Vg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(a3,{root:t,...e})),i[a]}function l3(t,e,n){const i=o3(e);return A0.set(t,n),i.observe(t),()=>{A0.delete(t),i.unobserve(t)}}const c3={some:0,all:1};class u3 extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:c3[a]},h=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:v}=this.node.getProps(),_=g?x:v;_&&_(m)};return l3(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(d3(e,n))&&this.startObserver()}unmount(){}}function d3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const h3={inView:{Feature:u3},tap:{Feature:i3},focus:{Feature:s3},hover:{Feature:n3}},f3={layout:{ProjectionNode:D2,MeasureLayout:$2}},m3={...OM,...h3,...t3,...f3},Te=jM(m3,DM),p3=()=>{};var Qw={};const K2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},g3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Y2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,x=l>>2,v=(l&3)<<4|h>>4;let _=(h&15)<<2|g>>6,E=g&63;m||(E=64,c||(_=64)),i.push(n[x],n[v],n[_],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(K2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||g==null||v==null)throw new y3;const _=l<<2|h>>4;if(i.push(_),g!==64){const E=h<<4&240|g>>2;if(i.push(E),v!==64){const j=g<<6&192|v;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class y3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x3=function(t){const e=K2(t);return Y2.encodeByteArray(e,!0)},cf=function(t){return x3(t).replace(/\./g,"")},Q2=function(t){try{return Y2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function v3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const b3=()=>v3().__FIREBASE_DEFAULTS__,_3=()=>{if(typeof process>"u"||typeof Qw>"u")return;const t=Qw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q2(t[1]);return e&&JSON.parse(e)},Ff=()=>{try{return p3()||b3()||_3()||w3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},X2=t=>Ff()?.emulatorHosts?.[t],W2=t=>{const e=X2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},J2=()=>Ff()?.config,Z2=t=>Ff()?.[`_${t}`];class T3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Za(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gy(t){return(await fetch(t,{credentials:"include"})).ok}function eA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cf(JSON.stringify(n)),cf(JSON.stringify(c)),""].join(".")}const eu={};function E3(){const t={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?t.emulator.push(e):t.prod.push(e);return t}function S3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xw=!1;function $y(t,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||eu[t]===e||eu[t]||Xw)return;eu[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",l=E3().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Xw=!0,c()},_}function x(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=S3(i),E=n("text"),j=document.getElementById(E)||document.createElement("span"),D=n("learnmore"),I=document.getElementById(D)||document.createElement("a"),V=n("preprendIcon"),B=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const $=_.element;h($),x(I,D);const J=g();m(B,V),$.append(B,j,I,J),document.body.appendChild($)}l?(j.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function k3(){const t=Ff()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I3(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function j3(){return!k3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D3(){try{return typeof indexedDB=="object"}catch{return!1}}function M3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const V3="FirebaseError";class yi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=V3,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?P3(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new yi(a,h,i)}}function P3(t,e){return t.replace(O3,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const O3=/\{\$([^}]+)}/g;function L3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ka(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Ww(l)&&Ww(c)){if(!Ka(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Ww(t){return t!==null&&typeof t=="object"}function Ru(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function U3(t,e){const n=new z3(t,e);return n.subscribe.bind(n)}class z3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");B3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Pg),a.error===void 0&&(a.error=Pg),a.complete===void 0&&(a.complete=Pg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pg(){}function xn(t){return t&&t._delegate?t._delegate:t}class Wr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const La="[DEFAULT]";class F3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new T3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q3(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:H3(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H3(t){return t===La?void 0:t}function q3(t){return t.instantiationMode==="EAGER"}class G3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const $3={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},K3=$e.INFO,Y3={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},Q3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=Y3[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ky{constructor(e){this.name=e,this._logLevel=K3,this._logHandler=Q3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const X3=(t,e)=>e.some(n=>t instanceof n);let Jw,Zw;function W3(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J3(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tA=new WeakMap,k0=new WeakMap,nA=new WeakMap,Og=new WeakMap,Yy=new WeakMap;function Z3(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Hr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&tA.set(n,t)}).catch(()=>{}),Yy.set(e,t),e}function e6(t){if(k0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});k0.set(t,e)}let N0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return k0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t6(t){N0=t(N0)}function n6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Lg(this),e,...n);return nA.set(i,e.sort?e.sort():[e]),Hr(i)}:J3().includes(t)?function(...e){return t.apply(Lg(this),e),Hr(tA.get(this))}:function(...e){return Hr(t.apply(Lg(this),e))}}function s6(t){return typeof t=="function"?n6(t):(t instanceof IDBTransaction&&e6(t),X3(t,W3())?new Proxy(t,N0):t)}function Hr(t){if(t instanceof IDBRequest)return Z3(t);if(Og.has(t))return Og.get(t);const e=s6(t);return e!==t&&(Og.set(t,e),Yy.set(e,t)),e}const Lg=t=>Yy.get(t);function i6(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Hr(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Hr(c.result),m.oldVersion,m.newVersion,Hr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const r6=["get","getKey","getAll","getAllKeys","count"],a6=["put","add","delete","clear"],Ug=new Map;function eT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ug.get(e))return Ug.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=a6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||r6.includes(n)))return;const l=async function(c,...h){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),a&&m.done]))[0]};return Ug.set(e,l),l}t6(t=>({...t,get:(e,n,i)=>eT(e,n)||t.get(e,n,i),has:(e,n)=>!!eT(e,n)||t.has(e,n)}));class o6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function l6(t){return t.getComponent()?.type==="VERSION"}const C0="@firebase/app",tT="0.14.8";const Qi=new Ky("@firebase/app"),c6="@firebase/app-compat",u6="@firebase/analytics-compat",d6="@firebase/analytics",h6="@firebase/app-check-compat",f6="@firebase/app-check",m6="@firebase/auth",p6="@firebase/auth-compat",g6="@firebase/database",y6="@firebase/data-connect",x6="@firebase/database-compat",v6="@firebase/functions",b6="@firebase/functions-compat",_6="@firebase/installations",w6="@firebase/installations-compat",T6="@firebase/messaging",E6="@firebase/messaging-compat",S6="@firebase/performance",A6="@firebase/performance-compat",k6="@firebase/remote-config",N6="@firebase/remote-config-compat",C6="@firebase/storage",R6="@firebase/storage-compat",I6="@firebase/firestore",j6="@firebase/ai",D6="@firebase/firestore-compat",M6="firebase",V6="12.9.0";const R0="[DEFAULT]",P6={[C0]:"fire-core",[c6]:"fire-core-compat",[d6]:"fire-analytics",[u6]:"fire-analytics-compat",[f6]:"fire-app-check",[h6]:"fire-app-check-compat",[m6]:"fire-auth",[p6]:"fire-auth-compat",[g6]:"fire-rtdb",[y6]:"fire-data-connect",[x6]:"fire-rtdb-compat",[v6]:"fire-fn",[b6]:"fire-fn-compat",[_6]:"fire-iid",[w6]:"fire-iid-compat",[T6]:"fire-fcm",[E6]:"fire-fcm-compat",[S6]:"fire-perf",[A6]:"fire-perf-compat",[k6]:"fire-rc",[N6]:"fire-rc-compat",[C6]:"fire-gcs",[R6]:"fire-gcs-compat",[I6]:"fire-fst",[D6]:"fire-fst-compat",[j6]:"fire-vertex","fire-js":"fire-js",[M6]:"fire-js-all"};const uf=new Map,O6=new Map,I0=new Map;function nT(t,e){try{t.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ya(t){const e=t.name;if(I0.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;I0.set(e,t);for(const n of uf.values())nT(n,t);for(const n of O6.values())nT(n,t);return!0}function Hf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function as(t){return t==null?!1:t.settings!==void 0}const L6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Cu("app","Firebase",L6);class U6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const eo=V6;function sA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:R0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw qr.create("bad-app-name",{appName:String(a)});if(n||(n=J2()),!n)throw qr.create("no-options");const l=uf.get(a);if(l){if(Ka(n,l.options)&&Ka(i,l.config))return l;throw qr.create("duplicate-app",{appName:a})}const c=new G3(a);for(const m of I0.values())c.addComponent(m);const h=new U6(n,i,c);return uf.set(a,h),h}function Qy(t=R0){const e=uf.get(t);if(!e&&t===R0&&J2())return sA();if(!e)throw qr.create("no-app",{appName:t});return e}function ai(t,e,n){let i=P6[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(c.join(" "));return}Ya(new Wr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const z6="firebase-heartbeat-database",B6=1,fu="firebase-heartbeat-store";let zg=null;function iA(){return zg||(zg=i6(z6,B6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),zg}async function F6(t){try{const n=(await iA()).transaction(fu),i=await n.objectStore(fu).get(rA(t));return await n.done,i}catch(e){if(e instanceof yi)Qi.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(n.message)}}}async function sT(t,e){try{const i=(await iA()).transaction(fu,"readwrite");await i.objectStore(fu).put(e,rA(t)),await i.done}catch(n){if(n instanceof yi)Qi.warn(n.message);else{const i=qr.create("idb-set",{originalErrorMessage:n?.message});Qi.warn(i.message)}}}function rA(t){return`${t.name}!${t.options.appId}`}const H6=1024,q6=30;class G6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=iT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>q6){const a=Y6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iT(),{heartbeatsToSend:n,unsentEntries:i}=$6(this._heartbeatsCache.heartbeats),a=cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qi.warn(e),""}}}function iT(){return new Date().toISOString().substring(0,10)}function $6(t,e=H6){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),rT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class K6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D3()?M3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return sT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return sT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rT(t){return cf(JSON.stringify({version:2,heartbeats:t})).length}function Y6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function Q6(t){Ya(new Wr("platform-logger",e=>new o6(e),"PRIVATE")),Ya(new Wr("heartbeat",e=>new G6(e),"PRIVATE")),ai(C0,tT,t),ai(C0,tT,"esm2020"),ai("fire-js","")}Q6("");function aA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X6=aA,oA=new Cu("auth","Firebase",aA());const df=new Ky("@firebase/auth");function W6(t,...e){df.logLevel<=$e.WARN&&df.warn(`Auth (${eo}): ${t}`,...e)}function Hh(t,...e){df.logLevel<=$e.ERROR&&df.error(`Auth (${eo}): ${t}`,...e)}function mi(t,...e){throw Wy(t,...e)}function js(t,...e){return Wy(t,...e)}function Xy(t,e,n){const i={...X6(),[e]:n};return new Cu("auth","Firebase",i).create(e,{appName:t.name})}function qa(t){return Xy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J6(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&mi(t,"argument-error"),Xy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return oA.create(t,...e)}function je(t,e,...n){if(!t)throw Wy(e,...n)}function Fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hh(e),new Error(e)}function Xi(t,e){t||Fi(e)}function j0(){return typeof self<"u"&&self.location?.href||""}function Z6(){return aT()==="http:"||aT()==="https:"}function aT(){return typeof self<"u"&&self.location?.protocol||null}function eV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z6()||C3()||"connection"in navigator)?navigator.onLine:!0}function tV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=A3()||R3()}get(){return eV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jy(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iV=new Iu(3e4,6e4);function Zy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function kl(t,e,n,i,a={}){return cA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Ru({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return N3()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Za(t.emulatorConfig.host)&&(g.credentials="include"),lA.fetch()(await uA(t,t.config.apiHost,n,h),g)})}async function cA(t,e,n){t._canInitEmulator=!1;const i={...nV,...e};try{const a=new aV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Th(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[m,g]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Th(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Th(t,"user-disabled",c);const x=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Xy(t,x,g);mi(t,x)}}catch(a){if(a instanceof yi)throw a;mi(t,"network-request-failed",{message:String(a)})}}async function rV(t,e,n,i,a={}){const l=await kl(t,e,n,i,a);return"mfaPendingCredential"in l&&mi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function uA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Jy(t.config,a):`${t.config.apiScheme}://${a}`;return sV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class aV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(js(this.auth,"network-request-failed")),iV.get())})}}function Th(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=js(t,e,i);return a.customData._tokenResponse=n,a}async function oV(t,e){return kl(t,"POST","/v1/accounts:delete",e)}async function hf(t,e){return kl(t,"POST","/v1/accounts:lookup",e)}function tu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lV(t,e=!1){const n=xn(t),i=await n.getIdToken(e),a=ex(i);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:tu(Bg(a.auth_time)),issuedAtTime:tu(Bg(a.iat)),expirationTime:tu(Bg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Bg(t){return Number(t)*1e3}function ex(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Q2(n);return a?JSON.parse(a):(Hh("Failed to decode base64 JWT payload"),null)}catch(a){return Hh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function oT(t){const e=ex(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof yi&&cV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function cV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class uV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class D0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ff(t){const e=t.auth,n=await t.getIdToken(),i=await mu(t,hf(e,{idToken:n}));je(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?dA(a.providerUserInfo):[],c=hV(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,g=h?m:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new D0(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,x)}async function dV(t){const e=xn(t);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hV(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function dA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function fV(t,e){const n=await cA(t,{},async()=>{const i=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await uA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:i};return t.emulatorConfig&&Za(t.emulatorConfig.host)&&(m.credentials="include"),lA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mV(t,e){return kl(t,"POST","/v2/accounts:revokeToken",Zy(t,e))}class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=oT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await fV(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new ol;return i&&(je(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(je(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Fi("not implemented")}}function Vr(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new uV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new D0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lV(this,e)}reload(){return dV(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(as(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await mu(this,oV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:E,providerData:j,stsTokenManager:D}=n;je(v&&D,e,"internal-error");const I=ol.fromJSON(this.name,D);je(typeof v=="string",e,"internal-error"),Vr(i,e.name),Vr(a,e.name),je(typeof _=="boolean",e,"internal-error"),je(typeof E=="boolean",e,"internal-error"),Vr(l,e.name),Vr(c,e.name),Vr(h,e.name),Vr(m,e.name),Vr(g,e.name),Vr(x,e.name);const V=new Ns({uid:v,auth:e,email:a,emailVerified:_,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:I,createdAt:g,lastLoginAt:x});return j&&Array.isArray(j)&&(V.providerData=j.map(B=>({...B}))),m&&(V._redirectEventId=m),V}static async _fromIdTokenResponse(e,n,i=!1){const a=new ol;a.updateFromServerResponse(n);const l=new Ns({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await ff(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?dA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new ol;h.updateFromIdToken(i);const m=new Ns({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new D0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const lT=new Map;function Hi(t){Xi(t instanceof Function,"Expected a class definition");let e=lT.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lT.set(t,e),e)}class hA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hA.type="NONE";const cT=hA;function qh(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=qh(this.userKey,a.apiKey,l),this.fullPersistenceKey=qh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hf(this.auth,{idToken:e}).catch(()=>{});return n?Ns._fromGetAccountInfoResponse(this.auth,n,e):null}return Ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ll(Hi(cT),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Hi(cT);const c=qh(i,e.config.apiKey,e.name);let h=null;for(const g of n)try{const x=await g._get(c);if(x){let v;if(typeof x=="string"){const _=await hf(e,{idToken:x}).catch(()=>{});if(!_)break;v=await Ns._fromGetAccountInfoResponse(e,_,x)}else v=Ns._fromJSON(e,x);g!==l&&(h=v),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ll(l,e,i):(l=m[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new ll(l,e,i))}}function uT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xA(e))return"Blackberry";if(vA(e))return"Webos";if(mA(e))return"Safari";if((e.includes("chrome/")||pA(e))&&!e.includes("edge/"))return"Chrome";if(yA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function fA(t=yn()){return/firefox\//i.test(t)}function mA(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pA(t=yn()){return/crios\//i.test(t)}function gA(t=yn()){return/iemobile/i.test(t)}function yA(t=yn()){return/android/i.test(t)}function xA(t=yn()){return/blackberry/i.test(t)}function vA(t=yn()){return/webos/i.test(t)}function tx(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pV(t=yn()){return tx(t)&&!!window.navigator?.standalone}function gV(){return I3()&&document.documentMode===10}function bA(t=yn()){return tx(t)||yA(t)||vA(t)||xA(t)||/windows phone/i.test(t)||gA(t)}function _A(t,e=[]){let n;switch(t){case"Browser":n=uT(yn());break;case"Worker":n=`${uT(yn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${i}`}class yV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const m=e(l);c(m)}catch(m){h(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function xV(t,e={}){return kl(t,"GET","/v2/passwordPolicy",Zy(t,e))}const vV=6;class bV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class _V{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dT(this),this.idTokenSubscription=new dT(this),this.beforeStateQueue=new yV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hf(this,{idToken:e}),i=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(as(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(as(this.app))return Promise.reject(qa(this));const n=e?xn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return as(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return as(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xV(this),n=new bV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await mV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hi(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_A(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&W6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qf(t){return xn(t)}class dT{constructor(e){this.auth=e,this.observer=null,this.addObserver=U3(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wV(t){nx=t}function TV(t){return nx.loadJS(t)}function EV(){return nx.gapiScript}function SV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function AV(t,e){const n=Hf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ka(l,e??{}))return a;mi(a,"already-initialized")}return n.initialize({options:e})}function kV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Hi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function NV(t,e,n){const i=qf(t);je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=wA(e),{host:c,port:h}=CV(e),m=h===null?"":`:${h}`,g={url:`${l}//${c}${m}/`},x=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(Ka(g,i.config.emulator)&&Ka(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,Za(c)?(Gy(`${l}//${c}${m}`),$y("Auth",!0)):RV()}function wA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CV(t){const e=wA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:hT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:hT(c)}}}function hT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class TA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function cl(t,e){return rV(t,"POST","/v1/accounts:signInWithIdp",Zy(t,e))}const IV="http://localhost";class Qa extends TA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Qa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return cl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,cl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cl(e,n)}buildRequest(){const e={requestUri:IV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}class sx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ju extends sx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lr extends ju{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class Bi extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qa._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Bi.credential(n,i)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";class Ur extends ju{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";class zr extends ju{constructor(){super("twitter.com")}static credential(e,n){return Qa._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return zr.credential(n,i)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ns._fromIdTokenResponse(e,i,a),c=fT(i);return new ml({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=fT(i);return new ml({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function fT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class mf extends yi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new mf(e,n,i,a)}}function EA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(t,l,e,i):l})}async function jV(t,e,n=!1){const i=await mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ml._forOperation(t,"link",i)}async function DV(t,e,n=!1){const{auth:i}=t;if(as(i.app))return Promise.reject(qa(i));const a="reauthenticate";try{const l=await mu(t,EA(i,a,e,t),n);je(l.idToken,i,"internal-error");const c=ex(l.idToken);je(c,i,"internal-error");const{sub:h}=c;return je(t.uid===h,i,"user-mismatch"),ml._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&mi(i,"user-mismatch"),l}}async function MV(t,e,n=!1){if(as(t.app))return Promise.reject(qa(t));const i="signIn",a=await EA(t,i,e),l=await ml._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function VV(t,e,n,i){return xn(t).onIdTokenChanged(e,n,i)}function PV(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}function OV(t,e,n,i){return xn(t).onAuthStateChanged(e,n,i)}function LV(t){return xn(t).signOut()}const pf="__sak";class SA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const UV=1e3,zV=10;class AA extends SA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);gV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,zV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},UV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AA.type="LOCAL";const BV=AA;class kA extends SA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kA.type="SESSION";const NA=kA;function FV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Gf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async g=>g(n.origin,l)),m=await FV(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gf.receivers=[];function ix(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class HV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,m)=>{const g=ix("",20);a.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const _=v;if(_.data.eventId===g)switch(_.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(_.data.response);break;default:clearTimeout(x),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function oi(){return window}function qV(t){oi().location.href=t}function CA(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function GV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $V(){return navigator?.serviceWorker?.controller||null}function KV(){return CA()?self:null}const RA="firebaseLocalStorageDb",YV=1,gf="firebaseLocalStorage",IA="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $f(t,e){return t.transaction([gf],e?"readwrite":"readonly").objectStore(gf)}function QV(){const t=indexedDB.deleteDatabase(RA);return new Du(t).toPromise()}function M0(){const t=indexedDB.open(RA,YV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(gf,{keyPath:IA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(gf)?e(i):(i.close(),await QV(),e(await M0()))})})}async function mT(t,e,n){const i=$f(t,!0).put({[IA]:e,value:n});return new Du(i).toPromise()}async function XV(t,e){const n=$f(t,!1).get(e),i=await new Du(n).toPromise();return i===void 0?null:i.value}function pT(t,e){const n=$f(t,!0).delete(e);return new Du(n).toPromise()}const WV=800,JV=3;class jA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>JV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gf._getInstance(KV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GV(),!this.activeServiceWorker)return;this.sender=new HV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$V()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M0();return await mT(e,pf,"1"),await pT(e,pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>mT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>XV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=$f(a,!1).getAll();return new Du(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jA.type="LOCAL";const ZV=jA;new Iu(3e4,6e4);function DA(t,e){return e?Hi(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class rx extends TA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eP(t){return MV(t.auth,new rx(t),t.bypassAuthState)}function tP(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),DV(n,new rx(t),t.bypassAuthState)}async function nP(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),jV(n,new rx(t),t.bypassAuthState)}class MA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eP;case"linkViaPopup":case"linkViaRedirect":return nP;case"reauthViaPopup":case"reauthViaRedirect":return tP;default:mi(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sP=new Iu(2e3,1e4);async function iP(t,e,n){if(as(t.app))return Promise.reject(js(t,"operation-not-supported-in-this-environment"));const i=qf(t);J6(t,e,sx);const a=DA(i,n);return new Ba(i,"signInViaPopup",e,a).executeNotNull()}class Ba extends MA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=ix();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sP.get())};e()}}Ba.currentPopupAction=null;const rP="pendingRedirect",Gh=new Map;class aP extends MA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Gh.get(this.auth._key());if(!e){try{const i=await oP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Gh.set(this.auth._key(),e)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oP(t,e){const n=uP(e),i=cP(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function lP(t,e){Gh.set(t._key(),e)}function cP(t){return Hi(t._redirectPersistence)}function uP(t){return qh(rP,t.config.apiKey,t.name)}async function dP(t,e,n=!1){if(as(t.app))return Promise.reject(qa(t));const i=qf(t),a=DA(i,e),c=await new aP(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const hP=600*1e3;class fP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!VA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(js(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hP&&this.cachedEventUids.clear(),this.cachedEventUids.has(gT(e))}saveEventToCache(e){this.cachedEventUids.add(gT(e)),this.lastProcessedEventTime=Date.now()}}function gT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VA(t);default:return!1}}async function pP(t,e={}){return kl(t,"GET","/v1/projects",e)}const gP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yP=/^https?/;async function xP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pP(t);for(const n of e)try{if(vP(n))return}catch{}mi(t,"unauthorized-domain")}function vP(t){const e=j0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!yP.test(n))return!1;if(gP.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const bP=new Iu(3e4,6e4);function yT(){const t=oi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _P(t){return new Promise((e,n)=>{function i(){yT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yT(),n(js(t,"network-request-failed"))},timeout:bP.get()})}if(oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(oi().gapi?.load)i();else{const a=SV("iframefcb");return oi()[a]=()=>{gapi.load?i():n(js(t,"network-request-failed"))},TV(`${EV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $h=null,e})}let $h=null;function wP(t){return $h=$h||_P(t),$h}const TP=new Iu(5e3,15e3),EP="__/auth/iframe",SP="emulator/auth/iframe",AP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NP(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jy(e,SP):`https://${t.config.authDomain}/${EP}`,i={apiKey:e.apiKey,appName:t.name,v:eo},a=kP.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Ru(i).slice(1)}`}async function CP(t){const e=await wP(t),n=oi().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:NP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=js(t,"network-request-failed"),h=oi().setTimeout(()=>{l(c)},TP.get());function m(){oi().clearTimeout(h),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const RP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IP=500,jP=600,DP="_blank",MP="http://localhost";class xT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VP(t,e,n,i=IP,a=jP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m={...RP,width:i.toString(),height:a.toString(),top:l,left:c},g=yn().toLowerCase();n&&(h=pA(g)?DP:n),fA(g)&&(e=e||MP,m.scrollbars="yes");const x=Object.entries(m).reduce((_,[E,j])=>`${_}${E}=${j},`,"");if(pV(g)&&h!=="_self")return PP(e||"",h),new xT(null);const v=window.open(e||"",h,x);je(v,t,"popup-blocked");try{v.focus()}catch{}return new xT(v)}function PP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const OP="__/auth/handler",LP="emulator/auth/handler",UP=encodeURIComponent("fac");async function vT(t,e,n,i,a,l){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:eo,eventId:a};if(e instanceof sx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",L3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,v]of Object.entries({}))c[x]=v}if(e instanceof ju){const x=e.getScopes().filter(v=>v!=="");x.length>0&&(c.scopes=x.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const m=await t._getAppCheckToken(),g=m?`#${UP}=${encodeURIComponent(m)}`:"";return`${zP(t)}?${Ru(h).slice(1)}${g}`}function zP({config:t}){return t.emulator?Jy(t,LP):`https://${t.authDomain}/${OP}`}const Fg="webStorageSupport";class BP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NA,this._completeRedirectFn=dP,this._overrideRedirectResult=lP}async _openPopup(e,n,i,a){Xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await vT(e,n,i,j0(),a);return VP(e,l,ix())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await vT(e,n,i,j0(),a);return qV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Xi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await CP(e),i=new fP(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fg,{type:Fg},a=>{const l=a?.[0]?.[Fg];l!==void 0&&n(!!l),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bA()||mA()||tx()}}const FP=BP;var bT="@firebase/auth",_T="1.12.0";class HP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GP(t){Ya(new Wr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_A(t)},g=new _V(i,a,l,m);return kV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ya(new Wr("auth-internal",e=>{const n=qf(e.getProvider("auth").getImmediate());return(i=>new HP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(bT,_T,qP(t)),ai(bT,_T,"esm2020")}const $P=300,KP=Z2("authIdTokenMaxAge")||$P;let wT=null;const YP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>KP)return;const a=n?.token;wT!==a&&(wT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function QP(t=Qy()){const e=Hf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AV(t,{popupRedirectResolver:FP,persistence:[ZV,BV,NA]}),i=Z2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=YP(l.toString());PV(n,c,()=>c(n.currentUser)),VV(n,h=>c(h))}}const a=X2("auth");return a&&NV(n,`http://${a}`),n}function XP(){return document.getElementsByTagName("head")?.[0]??document}wV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=js("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",XP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GP("Browser");var WP="firebase",JP="12.9.0";ai(WP,JP,"app");var TT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,PA;(function(){var t;function e(R,S){function C(){}C.prototype=S.prototype,R.F=S.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(z,U,q){for(var M=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)M[ze-2]=arguments[ze];return S.prototype[U].apply(z,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,S,C){C||(C=0);const z=Array(16);if(typeof S=="string")for(var U=0;U<16;++U)z[U]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(U=0;U<16;++U)z[U]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=R.g[0],C=R.g[1],U=R.g[2];let q=R.g[3],M;M=S+(q^C&(U^q))+z[0]+3614090360&4294967295,S=C+(M<<7&4294967295|M>>>25),M=q+(U^S&(C^U))+z[1]+3905402710&4294967295,q=S+(M<<12&4294967295|M>>>20),M=U+(C^q&(S^C))+z[2]+606105819&4294967295,U=q+(M<<17&4294967295|M>>>15),M=C+(S^U&(q^S))+z[3]+3250441966&4294967295,C=U+(M<<22&4294967295|M>>>10),M=S+(q^C&(U^q))+z[4]+4118548399&4294967295,S=C+(M<<7&4294967295|M>>>25),M=q+(U^S&(C^U))+z[5]+1200080426&4294967295,q=S+(M<<12&4294967295|M>>>20),M=U+(C^q&(S^C))+z[6]+2821735955&4294967295,U=q+(M<<17&4294967295|M>>>15),M=C+(S^U&(q^S))+z[7]+4249261313&4294967295,C=U+(M<<22&4294967295|M>>>10),M=S+(q^C&(U^q))+z[8]+1770035416&4294967295,S=C+(M<<7&4294967295|M>>>25),M=q+(U^S&(C^U))+z[9]+2336552879&4294967295,q=S+(M<<12&4294967295|M>>>20),M=U+(C^q&(S^C))+z[10]+4294925233&4294967295,U=q+(M<<17&4294967295|M>>>15),M=C+(S^U&(q^S))+z[11]+2304563134&4294967295,C=U+(M<<22&4294967295|M>>>10),M=S+(q^C&(U^q))+z[12]+1804603682&4294967295,S=C+(M<<7&4294967295|M>>>25),M=q+(U^S&(C^U))+z[13]+4254626195&4294967295,q=S+(M<<12&4294967295|M>>>20),M=U+(C^q&(S^C))+z[14]+2792965006&4294967295,U=q+(M<<17&4294967295|M>>>15),M=C+(S^U&(q^S))+z[15]+1236535329&4294967295,C=U+(M<<22&4294967295|M>>>10),M=S+(U^q&(C^U))+z[1]+4129170786&4294967295,S=C+(M<<5&4294967295|M>>>27),M=q+(C^U&(S^C))+z[6]+3225465664&4294967295,q=S+(M<<9&4294967295|M>>>23),M=U+(S^C&(q^S))+z[11]+643717713&4294967295,U=q+(M<<14&4294967295|M>>>18),M=C+(q^S&(U^q))+z[0]+3921069994&4294967295,C=U+(M<<20&4294967295|M>>>12),M=S+(U^q&(C^U))+z[5]+3593408605&4294967295,S=C+(M<<5&4294967295|M>>>27),M=q+(C^U&(S^C))+z[10]+38016083&4294967295,q=S+(M<<9&4294967295|M>>>23),M=U+(S^C&(q^S))+z[15]+3634488961&4294967295,U=q+(M<<14&4294967295|M>>>18),M=C+(q^S&(U^q))+z[4]+3889429448&4294967295,C=U+(M<<20&4294967295|M>>>12),M=S+(U^q&(C^U))+z[9]+568446438&4294967295,S=C+(M<<5&4294967295|M>>>27),M=q+(C^U&(S^C))+z[14]+3275163606&4294967295,q=S+(M<<9&4294967295|M>>>23),M=U+(S^C&(q^S))+z[3]+4107603335&4294967295,U=q+(M<<14&4294967295|M>>>18),M=C+(q^S&(U^q))+z[8]+1163531501&4294967295,C=U+(M<<20&4294967295|M>>>12),M=S+(U^q&(C^U))+z[13]+2850285829&4294967295,S=C+(M<<5&4294967295|M>>>27),M=q+(C^U&(S^C))+z[2]+4243563512&4294967295,q=S+(M<<9&4294967295|M>>>23),M=U+(S^C&(q^S))+z[7]+1735328473&4294967295,U=q+(M<<14&4294967295|M>>>18),M=C+(q^S&(U^q))+z[12]+2368359562&4294967295,C=U+(M<<20&4294967295|M>>>12),M=S+(C^U^q)+z[5]+4294588738&4294967295,S=C+(M<<4&4294967295|M>>>28),M=q+(S^C^U)+z[8]+2272392833&4294967295,q=S+(M<<11&4294967295|M>>>21),M=U+(q^S^C)+z[11]+1839030562&4294967295,U=q+(M<<16&4294967295|M>>>16),M=C+(U^q^S)+z[14]+4259657740&4294967295,C=U+(M<<23&4294967295|M>>>9),M=S+(C^U^q)+z[1]+2763975236&4294967295,S=C+(M<<4&4294967295|M>>>28),M=q+(S^C^U)+z[4]+1272893353&4294967295,q=S+(M<<11&4294967295|M>>>21),M=U+(q^S^C)+z[7]+4139469664&4294967295,U=q+(M<<16&4294967295|M>>>16),M=C+(U^q^S)+z[10]+3200236656&4294967295,C=U+(M<<23&4294967295|M>>>9),M=S+(C^U^q)+z[13]+681279174&4294967295,S=C+(M<<4&4294967295|M>>>28),M=q+(S^C^U)+z[0]+3936430074&4294967295,q=S+(M<<11&4294967295|M>>>21),M=U+(q^S^C)+z[3]+3572445317&4294967295,U=q+(M<<16&4294967295|M>>>16),M=C+(U^q^S)+z[6]+76029189&4294967295,C=U+(M<<23&4294967295|M>>>9),M=S+(C^U^q)+z[9]+3654602809&4294967295,S=C+(M<<4&4294967295|M>>>28),M=q+(S^C^U)+z[12]+3873151461&4294967295,q=S+(M<<11&4294967295|M>>>21),M=U+(q^S^C)+z[15]+530742520&4294967295,U=q+(M<<16&4294967295|M>>>16),M=C+(U^q^S)+z[2]+3299628645&4294967295,C=U+(M<<23&4294967295|M>>>9),M=S+(U^(C|~q))+z[0]+4096336452&4294967295,S=C+(M<<6&4294967295|M>>>26),M=q+(C^(S|~U))+z[7]+1126891415&4294967295,q=S+(M<<10&4294967295|M>>>22),M=U+(S^(q|~C))+z[14]+2878612391&4294967295,U=q+(M<<15&4294967295|M>>>17),M=C+(q^(U|~S))+z[5]+4237533241&4294967295,C=U+(M<<21&4294967295|M>>>11),M=S+(U^(C|~q))+z[12]+1700485571&4294967295,S=C+(M<<6&4294967295|M>>>26),M=q+(C^(S|~U))+z[3]+2399980690&4294967295,q=S+(M<<10&4294967295|M>>>22),M=U+(S^(q|~C))+z[10]+4293915773&4294967295,U=q+(M<<15&4294967295|M>>>17),M=C+(q^(U|~S))+z[1]+2240044497&4294967295,C=U+(M<<21&4294967295|M>>>11),M=S+(U^(C|~q))+z[8]+1873313359&4294967295,S=C+(M<<6&4294967295|M>>>26),M=q+(C^(S|~U))+z[15]+4264355552&4294967295,q=S+(M<<10&4294967295|M>>>22),M=U+(S^(q|~C))+z[6]+2734768916&4294967295,U=q+(M<<15&4294967295|M>>>17),M=C+(q^(U|~S))+z[13]+1309151649&4294967295,C=U+(M<<21&4294967295|M>>>11),M=S+(U^(C|~q))+z[4]+4149444226&4294967295,S=C+(M<<6&4294967295|M>>>26),M=q+(C^(S|~U))+z[11]+3174756917&4294967295,q=S+(M<<10&4294967295|M>>>22),M=U+(S^(q|~C))+z[2]+718787259&4294967295,U=q+(M<<15&4294967295|M>>>17),M=C+(q^(U|~S))+z[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+U&4294967295,R.g[3]=R.g[3]+q&4294967295}i.prototype.v=function(R,S){S===void 0&&(S=R.length);const C=S-this.blockSize,z=this.C;let U=this.h,q=0;for(;q<S;){if(U==0)for(;q<=C;)a(this,R,q),q+=this.blockSize;if(typeof R=="string"){for(;q<S;)if(z[U++]=R.charCodeAt(q++),U==this.blockSize){a(this,z),U=0;break}}else for(;q<S;)if(z[U++]=R[q++],U==this.blockSize){a(this,z),U=0;break}}this.h=U,this.o+=S},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,C=0;C<4;++C)for(let z=0;z<32;z+=8)R[S++]=this.g[C]>>>z&255;return R};function l(R,S){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=S(R)}function c(R,S){this.h=S;const C=[];let z=!0;for(let U=R.length-1;U>=0;U--){const q=R[U]|0;z&&q==S||(C[U]=q,z=!1)}this.g=C}var h={};function m(R){return-128<=R&&R<128?l(R,function(S){return new c([S|0],S<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return I(g(-R));const S=[];let C=1;for(let z=0;R>=C;z++)S[z]=R/C|0,C*=4294967296;return new c(S,0)}function x(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return I(x(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let z=v;for(let q=0;q<R.length;q+=8){var U=Math.min(8,R.length-q);const M=parseInt(R.substring(q,q+U),S);U<8?(U=g(Math.pow(S,U)),z=z.j(U).add(g(M))):(z=z.j(C),z=z.add(g(M)))}return z}var v=m(0),_=m(1),E=m(16777216);t=c.prototype,t.m=function(){if(D(this))return-I(this).m();let R=0,S=1;for(let C=0;C<this.g.length;C++){const z=this.i(C);R+=(z>=0?z:4294967296+z)*S,S*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(j(this))return"0";if(D(this))return"-"+I(this).toString(R);const S=g(Math.pow(R,6));var C=this;let z="";for(;;){const U=J(C,S).g;C=V(C,U.j(S));let q=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=U,j(C))return q+z;for(;q.length<6;)q="0"+q;z=q+z}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function j(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function D(R){return R.h==-1}t.l=function(R){return R=V(this,R),D(R)?-1:j(R)?0:1};function I(R){const S=R.g.length,C=[];for(let z=0;z<S;z++)C[z]=~R.g[z];return new c(C,~R.h).add(_)}t.abs=function(){return D(this)?I(this):this},t.add=function(R){const S=Math.max(this.g.length,R.g.length),C=[];let z=0;for(let U=0;U<=S;U++){let q=z+(this.i(U)&65535)+(R.i(U)&65535),M=(q>>>16)+(this.i(U)>>>16)+(R.i(U)>>>16);z=M>>>16,q&=65535,M&=65535,C[U]=M<<16|q}return new c(C,C[C.length-1]&-2147483648?-1:0)};function V(R,S){return R.add(I(S))}t.j=function(R){if(j(this)||j(R))return v;if(D(this))return D(R)?I(this).j(I(R)):I(I(this).j(R));if(D(R))return I(this.j(I(R)));if(this.l(E)<0&&R.l(E)<0)return g(this.m()*R.m());const S=this.g.length+R.g.length,C=[];for(var z=0;z<2*S;z++)C[z]=0;for(z=0;z<this.g.length;z++)for(let U=0;U<R.g.length;U++){const q=this.i(z)>>>16,M=this.i(z)&65535,ze=R.i(U)>>>16,K=R.i(U)&65535;C[2*z+2*U]+=M*K,B(C,2*z+2*U),C[2*z+2*U+1]+=q*K,B(C,2*z+2*U+1),C[2*z+2*U+1]+=M*ze,B(C,2*z+2*U+1),C[2*z+2*U+2]+=q*ze,B(C,2*z+2*U+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new c(C,0)};function B(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function $(R,S){this.g=R,this.h=S}function J(R,S){if(j(S))throw Error("division by zero");if(j(R))return new $(v,v);if(D(R))return S=J(I(R),S),new $(I(S.g),I(S.h));if(D(S))return S=J(R,I(S)),new $(I(S.g),S.h);if(R.g.length>30){if(D(R)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var C=_,z=S;z.l(R)<=0;)C=se(C),z=se(z);var U=de(C,1),q=de(z,1);for(z=de(z,2),C=de(C,2);!j(z);){var M=q.add(z);M.l(R)<=0&&(U=U.add(C),q=M),z=de(z,1),C=de(C,1)}return S=V(R,U.j(S)),new $(U,S)}for(U=v;R.l(S)>=0;){for(C=Math.max(1,Math.floor(R.m()/S.m())),z=Math.ceil(Math.log(C)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),q=g(C),M=q.j(S);D(M)||M.l(R)>0;)C-=z,q=g(C),M=q.j(S);j(q)&&(q=_),U=U.add(q),R=V(R,M)}return new $(U,R)}t.B=function(R){return J(this,R).h},t.and=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let z=0;z<S;z++)C[z]=this.i(z)&R.i(z);return new c(C,this.h&R.h)},t.or=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let z=0;z<S;z++)C[z]=this.i(z)|R.i(z);return new c(C,this.h|R.h)},t.xor=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let z=0;z<S;z++)C[z]=this.i(z)^R.i(z);return new c(C,this.h^R.h)};function se(R){const S=R.g.length+1,C=[];for(let z=0;z<S;z++)C[z]=R.i(z)<<1|R.i(z-1)>>>31;return new c(C,R.h)}function de(R,S){const C=S>>5;S%=32;const z=R.g.length-C,U=[];for(let q=0;q<z;q++)U[q]=S>0?R.i(q+C)>>>S|R.i(q+C+1)<<32-S:R.i(q+C);return new c(U,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,PA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=x,Gr=c}).apply(typeof TT<"u"?TT:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var OA,Gc,LA,Kh,V0,UA,zA,BA;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(f,b){if(b)e:{var T=i;f=f.split(".");for(var N=0;N<f.length-1;N++){var Q=f[N];if(!(Q in T))break e;T=T[Q]}f=f[f.length-1],N=T[f],b=b(N),b!=N&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var T=[],N;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&T.push([N,b[N]]);return T}});var l=l||{},c=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function m(f,b,T){return f.call.apply(f.bind,arguments)}function g(f,b,T){return g=m,g.apply(null,arguments)}function x(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function v(f,b){function T(){}T.prototype=b.prototype,f.Z=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(N,Q,ee){for(var me=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)me[Oe-2]=arguments[Oe];return b.prototype[Q].apply(N,me)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const b=f.length;if(b>0){const T=Array(b);for(let N=0;N<b;N++)T[N]=f[N];return T}return[]}function j(f,b){for(let N=1;N<arguments.length;N++){const Q=arguments[N];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=f.length||0;const ee=Q.length||0;f.length=T+ee;for(let me=0;me<ee;me++)f[T+me]=Q[me]}else f.push(Q)}}class D{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function I(f){c.setTimeout(()=>{throw f},0)}function V(){var f=R;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,T){const N=$.get();N.set(b,T),this.h?this.h.next=N:this.g=N,this.h=N}}var $=new D(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,de=!1,R=new B,S=()=>{const f=Promise.resolve(void 0);se=()=>{f.then(C)}};function C(){for(var f;f=V();){try{f.h.call(f.g)}catch(T){I(T)}var b=$;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}de=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function ze(f,b){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}v(ze,U),ze.prototype.init=function(f,b){const T=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),O=0;function H(f,b,T,N,Q){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!N,this.ha=Q,this.key=++O,this.da=this.fa=!1}function G(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ce(f,b,T){for(const N in f)b.call(T,f[N],N,f)}function fe(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function P(f){const b={};for(const T in f)b[T]=f[T];return b}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(f,b){let T,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(T in N)f[T]=N[T];for(let ee=0;ee<ne.length;ee++)T=ne[ee],Object.prototype.hasOwnProperty.call(N,T)&&(f[T]=N[T])}}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,b,T,N,Q){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const me=Ie(f,b,N,Q);return me>-1?(b=f[me],T||(b.fa=!1)):(b=new H(b,this.src,ee,!!N,Q),b.fa=T,f.push(b)),b};function Se(f,b){const T=b.type;if(T in f.g){var N=f.g[T],Q=Array.prototype.indexOf.call(N,b,void 0),ee;(ee=Q>=0)&&Array.prototype.splice.call(N,Q,1),ee&&(G(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Ie(f,b,T,N){for(let Q=0;Q<f.length;++Q){const ee=f[Q];if(!ee.da&&ee.listener==b&&ee.capture==!!T&&ee.ha==N)return Q}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),pe={};function De(f,b,T,N,Q){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)De(f,b[ee],T,N,Q);return null}return T=Pl(T),f&&f[K]?f.J(b,T,h(N)?!!N.capture:!1,Q):bt(f,b,T,!1,N,Q)}function bt(f,b,T,N,Q,ee){if(!b)throw Error("Invalid event type");const me=h(Q)?!!Q.capture:!!Q;let Oe=Mn(f);if(Oe||(f[Ae]=Oe=new he(f)),T=Oe.add(b,T,N,me,ee),T.proxy)return T;if(N=en(),T.proxy=N,N.src=f,N.listener=T,f.addEventListener)q||(Q=me),Q===void 0&&(Q=!1),f.addEventListener(b.toString(),N,Q);else if(f.attachEvent)f.attachEvent(Dn(b.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function en(){function f(T){return b.call(f.src,f.listener,T)}const b=$n;return f}function jn(f,b,T,N,Q){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)jn(f,b[ee],T,N,Q);else N=h(N)?!!N.capture:!!N,T=Pl(T),f&&f[K]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],T=Ie(b,T,N,Q),T>-1&&(G(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=Mn(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ie(b,T,N,Q)),(T=f>-1?b[f]:null)&&bi(T))}function bi(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[K])Se(b.i,f);else{var T=f.type,N=f.proxy;b.removeEventListener?b.removeEventListener(T,N,f.capture):b.detachEvent?b.detachEvent(Dn(T),N):b.addListener&&b.removeListener&&b.removeListener(N),(T=Mn(b))?(Se(T,f),T.h==0&&(T.src=null,b[Ae]=null)):G(f)}}}function Dn(f){return f in pe?pe[f]:pe[f]="on"+f}function $n(f,b){if(f.da)f=!0;else{b=new ze(b,this);const T=f.listener,N=f.ha||f.src;f.fa&&bi(f),f=T.call(N,b)}return f}function Mn(f){return f=f[Ae],f instanceof he?f:null}var Vl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pl(f){return typeof f=="function"?f:(f[Vl]||(f[Vl]=function(b){return f.handleEvent(b)}),f[Vl])}function Rt(){z.call(this),this.i=new he(this),this.M=this,this.G=null}v(Rt,z),Rt.prototype[K]=!0,Rt.prototype.removeEventListener=function(f,b,T,N){jn(this,f,b,T,N)};function qt(f,b){var T,N=f.G;if(N)for(T=[];N;N=N.G)T.push(N);if(f=f.M,N=b.type||b,typeof b=="string")b=new U(b,f);else if(b instanceof U)b.target=b.target||f;else{var Q=b;b=new U(N,f),ue(b,Q)}Q=!0;let ee,me;if(T)for(me=T.length-1;me>=0;me--)ee=b.g=T[me],Q=nr(ee,N,!0,b)&&Q;if(ee=b.g=f,Q=nr(ee,N,!0,b)&&Q,Q=nr(ee,N,!1,b)&&Q,T)for(me=0;me<T.length;me++)ee=b.g=T[me],Q=nr(ee,N,!1,b)&&Q}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const T=f.g[b];for(let N=0;N<T.length;N++)G(T[N]);delete f.g[b],f.h--}}this.G=null},Rt.prototype.J=function(f,b,T,N){return this.i.add(String(f),b,!1,T,N)},Rt.prototype.K=function(f,b,T,N){return this.i.add(String(f),b,!0,T,N)};function nr(f,b,T,N){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let ee=0;ee<b.length;++ee){const me=b[ee];if(me&&!me.da&&me.capture==T){const Oe=me.listener,St=me.ha||me.src;me.fa&&Se(f.i,me),Q=Oe.call(St,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function hm(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(f,b||0)}function Hu(f){f.g=hm(()=>{f.g=null,f.i&&(f.i=!1,Hu(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class vn extends z{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Hu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(f){z.call(this),this.h=f,this.g={}}v(aa,z);var Ol=[];function Ll(f){ce(f.g,function(b,T){this.g.hasOwnProperty(T)&&bi(b)},f),f.g={}}aa.prototype.N=function(){aa.Z.N.call(this),Ll(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=c.JSON.stringify,fm=c.JSON.parse,qu=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Gu(){}function $u(){}var fs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){U.call(this,"d")}v(tn,U);function Kn(){U.call(this,"c")}v(Kn,U);var Et={},Ku=null;function ao(){return Ku=Ku||new Rt}Et.Ia="serverreachability";function Yu(f){U.call(this,Et.Ia,f)}v(Yu,U);function Ps(f){const b=ao();qt(b,new Yu(b))}Et.STAT_EVENT="statevent";function oa(f,b){U.call(this,Et.STAT_EVENT,f),this.stat=b}v(oa,U);function It(f){const b=ao();qt(b,new oa(b,f))}Et.Ja="timingevent";function Os(f,b){U.call(this,Et.Ja,f),this.size=b}v(Os,U);function Ls(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},b)}function ms(){this.g=!0}ms.prototype.ua=function(){this.g=!1};function mm(f,b,T,N,Q,ee){f.info(function(){if(f.g)if(ee){var me="",Oe=ee.split("&");for(let Ze=0;Ze<Oe.length;Ze++){var St=Oe[Ze].split("=");if(St.length>1){const pt=St[0];St=St[1];const Wn=pt.split("_");me=Wn.length>=2&&Wn[1]=="type"?me+(pt+"="+St+"&"):me+(pt+"=redacted&")}}}else me=null;else me=ee;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+b+`
`+T+`
`+me})}function Qu(f,b,T,N,Q,ee,me){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+b+`
`+T+`
`+ee+" "+me})}function Us(f,b,T,N){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+pm(f,T)+(N?" "+N:"")})}function la(f,b){f.info(function(){return"TIMEOUT: "+b})}ms.prototype.info=function(){};function pm(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var T=ee[f];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var Q=N[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let me=1;me<N.length;me++)N[me]=""}}}}return sr(ee)}catch{return b}}var ca={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zl;function ua(){}v(ua,Gu),ua.prototype.g=function(){return new XMLHttpRequest},zl=new ua;function _i(f){return encodeURIComponent(String(f))}function Xu(f){var b=1;f=f.split(":");const T=[];for(;b>0&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function ps(f,b,T,N){this.j=f,this.i=b,this.l=T,this.S=N||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gs}function gs(){this.i=null,this.g="",this.h=!1}var jt={},Xt={};function zs(f,b,T){f.M=1,f.A=da(Mt(b)),f.u=T,f.R=!0,oo(f,null)}function oo(f,b){f.F=Date.now(),Bs(f),f.B=Mt(f.A);var T=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),ho(T.i,"t",N),f.C=0,T=f.j.L,f.h=new gs,f.g=dd(f.j,T?b:null,!f.u),f.P>0&&(f.O=new vn(g(f.Y,f,f.g),f.P)),b=f.V,T=f.g,N=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ol[0]=Q.toString()),Q=Ol);for(let ee=0;ee<Q.length;ee++){const me=De(T,Q[ee],N||b.handleEvent,!1,b.h||b);if(!me)break;b.g[me.key]=me}b=f.J?P(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),Ps(),mm(f.i,f.v,f.B,f.l,f.S,f.u)}ps.prototype.ba=function(f){f=f.target;const b=this.O;b&&vs(f)==3?b.j():this.Y(f)},ps.prototype.Y=function(f){try{if(f==this.g)e:{const Oe=vs(this.g),St=this.g.ya(),Ze=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Oe!=4||St==7||(St==8||Ze<=0?Ps(3):Ps(2)),Fs(this);var b=this.g.ca();this.X=b;var T=gm(this);if(this.o=b==200,Qu(this.i,this.v,this.B,this.l,this.S,Oe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var N,Q=this.g;if((N=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(N)){var ee=N;break t}}ee=null}if(f=ee)Us(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hs(this,f);else{this.o=!1,this.m=3,It(12),Vn(this),Yn(this);break e}}if(this.R){f=!0;let pt;for(;!this.K&&this.C<T.length;)if(pt=Ju(this,T),pt==Xt){Oe==4&&(this.m=4,It(14),f=!1),Us(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==jt){this.m=4,It(15),Us(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Us(this.i,this.l,pt,null),Hs(this,pt);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||T.length!=0||this.h.h||(this.m=1,It(16),f=!1),this.o=this.o&&f,!f)Us(this.i,this.l,T,"[Invalid Chunked Response]"),Vn(this),Yn(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),tc(me),me.P=!0,It(11))}}else Us(this.i,this.l,T,null),Hs(this,T);Oe==4&&Vn(this),this.o&&!this.K&&(Oe==4?od(this.j,this):(this.o=!1,Bs(this)))}else Ti(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Vn(this),Yn(this)}}}catch{}};function gm(f){if(!Wu(f))return f.g.la();const b=nn(f.g);if(b==="")return"";let T="";const N=b.length,Q=vs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Vn(f),Yn(f),"";f.h.i=new c.TextDecoder}for(let ee=0;ee<N;ee++)f.h.h=!0,T+=f.h.i.decode(b[ee],{stream:!(Q&&ee==N-1)});return b.length=0,f.h.g+=T,f.C=0,f.h.g}function Wu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ju(f,b){var T=f.C,N=b.indexOf(`
`,T);return N==-1?Xt:(T=Number(b.substring(T,N)),isNaN(T)?jt:(N+=1,N+T>b.length?Xt:(b=b.slice(N,N+T),f.C=N+T,b)))}ps.prototype.cancel=function(){this.K=!0,Vn(this)};function Bs(f){f.T=Date.now()+f.H,lo(f,f.H)}function lo(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ls(g(f.aa,f),b)}function Fs(f){f.D&&(c.clearTimeout(f.D),f.D=null)}ps.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(la(this.i,this.B),this.M!=2&&(Ps(),It(17)),Vn(this),this.m=2,Yn(this)):lo(this,this.T-f)};function Yn(f){f.j.I==0||f.K||od(f.j,f)}function Vn(f){Fs(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Ll(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Hs(f,b){try{var T=f.j;if(T.I!=0&&(T.g==f||Gs(T.h,f))){if(!f.L&&Gs(T.h,f)&&T.I==3){try{var N=T.Ba.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)yo(T),dr(T);else break e;xa(T),It(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ls(g(T.Va,T),6e3));qs(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ws(T,11)}else if((f.L||T.g==f)&&yo(T),!M(b))for(Q=T.Ba.g.parse(b),b=0;b<Q.length;b++){let Ze=Q[b];const pt=Ze[0];if(!(pt<=T.K))if(T.K=pt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const Wn=Ze[3];Wn!=null&&(T.ka=Wn,T.j.info("VER="+T.ka));const Js=Ze[4];Js!=null&&(T.za=Js,T.j.info("SVER="+T.za));const bs=Ze[5];bs!=null&&typeof bs=="number"&&bs>0&&(N=1.5*bs,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const _s=f.g;if(_s){const va=_s.g?_s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var ee=N.h;ee.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Hl(ee,ee.h),ee.h=null))}if(N.G){const xo=_s.g?_s.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(N.wa=xo,nt(N.J,N.G,xo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var me=f;if(N.na=ud(N,N.L?N.ba:null,N.W),me.L){ql(N.h,me);var Oe=me,St=N.O;St&&(Oe.H=St),Oe.D&&(Fs(Oe),Bs(Oe)),N.g=me}else rd(N);T.i.length>0&&Xs(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Ws(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ws(T,7):Zl(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Ps(4)}catch{}}var Dt=class{constructor(f,b){this.g=f,this.map=b}};function Bl(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function qs(f){return f.h?1:f.g?f.g.size:0}function Gs(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Hl(f,b){f.g?f.g.add(b):f.h=b}function ql(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Bl.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Gl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.G);return b}return E(f.i)}var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(f,b){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const N=f[T].indexOf("=");let Q,ee=null;N>=0?(Q=f[T].substring(0,N),ee=f[T].substring(N+1)):Q=f[T],b(Q,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Pn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Pn?(this.l=f.l,Wt(this,f.j),this.o=f.o,this.g=f.g,ir(this,f.u),this.h=f.h,$l(this,sd(f.i)),this.m=f.m):f&&(b=String(f).match(Zu))?(this.l=!1,Wt(this,b[1]||"",!0),this.o=$s(b[2]||""),this.g=$s(b[3]||"",!0),ir(this,b[4]),this.h=$s(b[5]||"",!0),$l(this,b[6]||"",!0),this.m=$s(b[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}Pn.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(ha(b,uo,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(ha(b,uo,!0),"@"),f.push(_i(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ha(T,T.charAt(0)=="/"?Kl:ed,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ha(T,td)),f.join("")},Pn.prototype.resolve=function(f){const b=Mt(this);let T=!!f.j;T?Wt(b,f.j):T=!!f.o,T?b.o=f.o:T=!!f.g,T?b.g=f.g:T=f.u!=null;var N=f.h;if(T)ir(b,f.u);else if(T=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(N=b.h.slice(0,Q+1)+N)}if(Q=N,Q==".."||Q==".")N="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){N=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ee=[];for(let me=0;me<Q.length;){const Oe=Q[me++];Oe=="."?N&&me==Q.length&&ee.push(""):Oe==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),N&&me==Q.length&&ee.push("")):(ee.push(Oe),N=!0)}N=ee.join("/")}else N=Q}return T?b.h=N:T=f.i.toString()!=="",T?$l(b,sd(f.i)):T=!!f.m,T&&(b.m=f.m),b};function Mt(f){return new Pn(f)}function Wt(f,b,T){f.j=T?$s(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function ir(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function $l(f,b,T){b instanceof ar?(f.i=b,fo(f.i,f.l)):(T||(b=ha(b,rr)),f.i=new ar(b,f.l))}function nt(f,b,T){f.i.set(b,T)}function da(f){return nt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function $s(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ha(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,En),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function En(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var uo=/[#\/\?@]/g,ed=/[#\?:]/g,Kl=/[#\?]/g,rr=/[#\?@]/g,td=/#/g;function ar(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&co(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=ar.prototype,t.add=function(f,b){Sn(this),this.i=null,f=or(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function nd(f,b){Sn(f),b=or(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Yl(f,b){return Sn(f),b=or(f,b),f.g.has(b)}t.forEach=function(f,b){Sn(this),this.g.forEach(function(T,N){T.forEach(function(Q){f.call(b,Q,N,this)},this)},this)};function Ql(f,b){Sn(f);let T=[];if(typeof b=="string")Yl(f,b)&&(T=T.concat(f.g.get(or(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)T=T.concat(f[b]);return T}t.set=function(f,b){return Sn(this),this.i=null,f=or(this,f),Yl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Ql(this,f),f.length>0?String(f[0]):b):b};function ho(f,b,T){nd(f,b),T.length>0&&(f.i=null,f.g.set(or(f,b),E(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let N=0;N<b.length;N++){var T=b[N];const Q=_i(T);T=Ql(this,T);for(let ee=0;ee<T.length;ee++){let me=Q;T[ee]!==""&&(me+="="+_i(T[ee])),f.push(me)}}return this.i=f.join("&")};function sd(f){const b=new ar;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function or(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function fo(f,b){b&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(T,N){const Q=N.toLowerCase();N!=Q&&(nd(this,N),ho(this,Q,T))},f)),f.j=b}function ys(f,b){const T=new ms;if(c.Image){const N=new Image;N.onload=x(Qn,T,"TestLoadImage: loaded",!0,b,N),N.onerror=x(Qn,T,"TestLoadImage: error",!1,b,N),N.onabort=x(Qn,T,"TestLoadImage: abort",!1,b,N),N.ontimeout=x(Qn,T,"TestLoadImage: timeout",!1,b,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else b(!1)}function Xl(f,b){const T=new ms,N=new AbortController,Q=setTimeout(()=>{N.abort(),Qn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:N.signal}).then(ee=>{clearTimeout(Q),ee.ok?Qn(T,"TestPingServer: ok",!0,b):Qn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),Qn(T,"TestPingServer: error",!1,b)})}function Qn(f,b,T,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(T)}catch{}}function lr(){this.g=new qu}function Ks(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ks,Gu),Ks.prototype.g=function(){return new fa(this.i,this.h)};function fa(f,b){Rt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(fa,Rt),t=fa.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,xs(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,xs(this)),this.g&&(this.readyState=3,xs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function mo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?cr(this):xs(this),this.readyState==3&&mo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,cr(this))},t.Na=function(f){this.g&&(this.response=f,cr(this))},t.ga=function(){this.g&&cr(this)};function cr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,xs(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function xs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xn(f){let b="";return ce(f,function(T,N){b+=N,b+=":",b+=T,b+=`\r
`}),b}function ma(f,b,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=Xn(T),typeof f=="string"?T!=null&&_i(T):nt(f,b,T))}function rt(f){Rt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(rt,Rt);var Ys=/^https?$/i,Wl=["POST","PUT"];t=rt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zl.g(),this.g.onreadystatechange=_(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){pa(this,ee);return}if(f=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)T.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ee of N.keys())T.set(ee,N.get(ee));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Wl,b,void 0)>=0)||N||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of T)this.g.setRequestHeader(ee,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){pa(this,ee)}};function pa(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Jl(f),wi(f)}function Jl(f){f.A||(f.A=!0,qt(f,"complete"),qt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qt(this,"complete"),qt(this,"abort"),wi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},t.Xa=function(){ga(this)};function ga(f){if(f.h&&typeof l<"u"){if(f.v&&vs(f)==4)setTimeout(f.Ca.bind(f),0);else if(qt(f,"readystatechange"),vs(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var N;if(N=ee===0){let me=String(f.D).match(Zu)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),N=!Ys.test(me?me.toLowerCase():"")}T=N}if(T)qt(f,"complete"),qt(f,"success");else{f.o=6;try{var Q=vs(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",Jl(f)}}finally{wi(f)}}}}function wi(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,b||qt(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return vs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),fm(b)}};function nn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ti(f){const b={};f=(f.g&&vs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(M(f[N]))continue;var T=Xu(f[N]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=b[Q]||[];b[Q]=ee,ee.push(T)}fe(b,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function ur(f){this.za=0,this.i=[],this.j=new ms,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qs("baseRetryDelayMs",5e3,f),this.Za=Qs("retryDelaySeedMs",1e4,f),this.Ta=Qs("forwardChannelMaxRetries",2,f),this.va=Qs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Bl(f&&f.concurrentRequestLimit),this.Ba=new lr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ur.prototype,t.ka=8,t.I=1,t.connect=function(f,b,T,N){It(0),this.W=f,this.H=b||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=ud(this,null,this.W),Xs(this)};function Zl(f){if(po(f),f.I==3){var b=f.V++,T=Mt(f.J);if(nt(T,"SID",f.M),nt(T,"RID",b),nt(T,"TYPE","terminate"),ya(f,T),b=new ps(f,f.j,b),b.M=2,b.A=da(Mt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.A,T=!0),T||(b.g=dd(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Bs(b)}cd(f)}function dr(f){f.g&&(tc(f),f.g.cancel(),f.g=null)}function po(f){dr(f),f.v&&(c.clearTimeout(f.v),f.v=null),yo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Xs(f){if(!Fl(f.h)&&!f.m){f.m=!0;var b=f.Ea;se||S(),de||(se(),de=!0),R.add(b,f),f.D=0}}function go(f,b){return qs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ls(g(f.Ea,f,b),ld(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new ps(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=P(ee),ue(ee,this.U)):ee=this.U),this.u!==null||this.R||(Q.J=ee,ee=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=id(this,Q,b),T=Mt(this.J),nt(T,"RID",f),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),ya(this,T),ee&&(this.R?b="headers="+_i(Xn(ee))+"&"+b:this.u&&ma(T,this.u,ee)),Hl(this.h,Q),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",b),nt(T,"SID","null"),Q.U=!0,zs(Q,T,null)):zs(Q,T,b),this.I=2}}else this.I==3&&(f?ec(this,f):this.i.length==0||Fl(this.h)||ec(this))};function ec(f,b){var T;b?T=b.l:T=f.V++;const N=Mt(f.J);nt(N,"SID",f.M),nt(N,"RID",T),nt(N,"AID",f.K),ya(f,N),f.u&&f.o&&ma(N,f.u,f.o),T=new ps(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),b&&(f.i=b.G.concat(f.i)),b=id(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Hl(f.h,T),zs(T,N,b)}function ya(f,b){f.H&&ce(f.H,function(T,N){nt(b,N,T)}),f.l&&ce({},function(T,N){nt(b,N,T)})}function id(f,b,T){T=Math.min(f.i.length,T);const N=f.l?g(f.l.Ka,f.l,f):null;e:{var Q=f.i;let Oe=-1;for(;;){const St=["count="+T];Oe==-1?T>0?(Oe=Q[0].g,St.push("ofs="+Oe)):Oe=0:St.push("ofs="+Oe);let Ze=!0;for(let pt=0;pt<T;pt++){var ee=Q[pt].g;const Wn=Q[pt].map;if(ee-=Oe,ee<0)Oe=Math.max(0,Q[pt].g-100),Ze=!1;else try{ee="req"+ee+"_"||"";try{var me=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Js,bs]of me){let _s=bs;h(bs)&&(_s=sr(bs)),St.push(ee+Js+"="+encodeURIComponent(_s))}}catch(Js){throw St.push(ee+"type="+encodeURIComponent("_badmap")),Js}}catch{N&&N(Wn)}}if(Ze){me=St.join("&");break e}}me=void 0}return f=f.i.splice(0,T),b.G=f,me}function rd(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;se||S(),de||(se(),de=!0),R.add(b,f),f.A=0}}function xa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ls(g(f.Da,f),ld(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,ad(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ls(g(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),dr(this),ad(this))};function tc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function ad(f){f.g=new ps(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Mt(f.na);nt(b,"RID","rpc"),nt(b,"SID",f.M),nt(b,"AID",f.K),nt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&nt(b,"TO",f.ia),nt(b,"TYPE","xmlhttp"),ya(f,b),f.u&&f.o&&ma(b,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=da(Mt(b)),T.u=null,T.R=!0,oo(T,f)}t.Va=function(){this.C!=null&&(this.C=null,dr(this),xa(this),It(19))};function yo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function od(f,b){var T=null;if(f.g==b){yo(f),tc(f),f.g=null;var N=2}else if(Gs(f.h,b))T=b.G,ql(f.h,b),N=1;else return;if(f.I!=0){if(b.o)if(N==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var Q=f.D;N=ao(),qt(N,new Os(N,T)),Xs(f)}else rd(f);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(N==1&&go(f,b)||N==2&&xa(f)))switch(T&&T.length>0&&(b=f.h,b.i=b.i.concat(T)),Q){case 1:Ws(f,5);break;case 4:Ws(f,10);break;case 3:Ws(f,6);break;default:Ws(f,2)}}}function ld(f,b){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*b}function Ws(f,b){if(f.j.info("Error code "+b),b==2){var T=g(f.bb,f),N=f.Ua;const Q=!N;N=new Pn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Wt(N,"https"),da(N),Q?ys(N.toString(),T):Xl(N.toString(),T)}else It(2);f.I=0,f.l&&f.l.pa(b),cd(f),po(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function cd(f){if(f.I=0,f.ja=[],f.l){const b=Gl(f.h);(b.length!=0||f.i.length!=0)&&(j(f.ja,b),j(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function ud(f,b,T){var N=T instanceof Pn?Mt(T):new Pn(T);if(N.g!="")b&&(N.g=b+"."+N.g),ir(N,N.u);else{var Q=c.location;N=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const ee=new Pn(null);N&&Wt(ee,N),b&&(ee.g=b),Q&&ir(ee,Q),T&&(ee.h=T),N=ee}return T=f.G,b=f.wa,T&&b&&nt(N,T,b),nt(N,"VER",f.ka),ya(f,N),N}function dd(f,b,T){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new rt(new Ks({ab:T})):new rt(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hd(){}t=hd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hr(){}hr.prototype.g=function(f,b){return new bn(f,b)};function bn(f,b){Rt.call(this),this.g=new ur(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!M(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Ei(this)}v(bn,Rt),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Zl(this.g)},bn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=sr(f),f=T);b.i.push(new Dt(b.Ya++,f)),b.I==3&&Xs(b)},bn.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,bn.Z.N.call(this)};function fd(f){tn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}v(fd,tn);function md(){Kn.call(this),this.status=1}v(md,Kn);function Ei(f){this.g=f}v(Ei,hd),Ei.prototype.ra=function(){qt(this.g,"a")},Ei.prototype.qa=function(f){qt(this.g,new fd(f))},Ei.prototype.pa=function(f){qt(this.g,new md)},Ei.prototype.oa=function(){qt(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,BA=function(){return new hr},zA=function(){return ao()},UA=Et,V0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ca.NO_ERROR=0,ca.TIMEOUT=8,ca.HTTP_ERROR=6,Kh=ca,Ul.COMPLETE="complete",LA=Ul,$u.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Gc=$u,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,OA=rt}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Nl="12.9.0";function ZP(t){Nl=t}const Xa=new Ky("@firebase/firestore");function Wo(){return Xa.logLevel}function ye(t,...e){if(Xa.logLevel<=$e.DEBUG){const n=e.map(ax);Xa.debug(`Firestore (${Nl}): ${t}`,...n)}}function Wi(t,...e){if(Xa.logLevel<=$e.ERROR){const n=e.map(ax);Xa.error(`Firestore (${Nl}): ${t}`,...n)}}function Wa(t,...e){if(Xa.logLevel<=$e.WARN){const n=e.map(ax);Xa.warn(`Firestore (${Nl}): ${t}`,...n)}}function ax(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Re(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,FA(t,i,n)}function FA(t,e,n){let i=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Wi(i),new Error(i)}function tt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||FA(e,a,i)}function Pe(t,e){return t}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class HA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class tO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nO{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $r,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $r)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new HA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class sO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class iO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new sO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ET{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,as(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ET(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ET(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function aO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class ox{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=aO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function P0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Hg(a)===Hg(l)?Ke(a,l):Hg(a)?1:-1}return Ke(t.length,e.length)}const oO=55296,lO=57343;function Hg(t){const e=t.charCodeAt(0);return e>=oO&&e<=lO}function pl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const ST="__name__";class ii{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Re(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ii.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const i=ii.isNumericId(e),a=ii.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ii.extractNumericId(e).compare(ii.extractNumericId(n)):P0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class ut extends ii{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const cO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends ii{construct(e,n,i){return new un(e,n,i)}static isValidIdentifier(e){return cO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new un([ST])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ge(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new ge(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(ut.fromString(e))}static fromName(e){return new Ne(ut.fromString(e).popFirst(5))}static empty(){return new Ne(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new ut(e.slice()))}}function qA(t,e,n){if(!n)throw new ge(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uO(t,e,n,i){if(e===!0&&i===!0)throw new ge(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AT(t){if(!Ne.isDocumentKey(t))throw new ge(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kT(t){if(Ne.isDocumentKey(t))throw new ge(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function GA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function Gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kf(t);throw new ge(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function dO(t,e){if(e<=0)throw new ge(oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mu(t,e){if(!GA(t))throw new ge(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ge(oe.INVALID_ARGUMENT,n);return!0}const NT=-62135596800,CT=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*CT);return new mt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NT)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Ft("string",mt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new mt(0,0))}static max(){return new Me(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const pu=-1;function hO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(i===1e9?new mt(n+1,0):new mt(n,i));return new Jr(a,Ne.empty(),e)}function fO(t){return new Jr(t.readTime,t.key,pu)}class Jr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Jr(Me.min(),Ne.empty(),pu)}static max(){return new Jr(Me.max(),Ne.empty(),pu)}}function mO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const pO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==pO)throw t;ye("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,i)=>{n(e)}))}static reject(e){return new le(((n,i)=>{i(e)}))}static waitFor(e){return new le(((n,i)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=le.resolve(!1);for(const i of e)n=n.next((a=>a?le.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new le(((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((x=>{c[g]=x,++h,h===l&&i(c)}),(x=>a(x)))}}))}static doWhile(e,n){return new le(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function yO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(t){return t.name==="IndexedDbTransactionError"}class Yf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yf.ce=-1;const lx=-1;function Qf(t){return t==null}function yf(t){return t===0&&1/t==-1/0}function xO(t){return typeof t=="number"&&Number.isInteger(t)&&!yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const $A="";function vO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RT(e)),e=bO(t.get(n),e);return RT(e)}function bO(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case $A:n+="";break;default:n+=l}}return n}function RT(t){return t+$A+""}function IT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new cn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jT(this.data.getIterator())}getIteratorFrom(e){return new jT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class jT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cs{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Cs([])}unionWith(e){let n=new Qt(un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Cs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class YA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new YA("Invalid base64 string: "+l):l}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const _O=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=_O.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ea(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}const QA="server_timestamp",XA="__type__",WA="__previous_value__",JA="__local_write_time__";function cx(t){return(t?.mapValue?.fields||{})[XA]?.stringValue===QA}function Xf(t){const e=t.mapValue.fields[WA];return cx(e)?Xf(e):e}function gu(t){const e=Zr(t.mapValue.fields[JA].timestampValue);return new mt(e.seconds,e.nanos)}class wO{constructor(e,n,i,a,l,c,h,m,g,x,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=x,this.apiKey=v}}const xf="(default)";class yu{constructor(e,n){this.projectId=e,this.database=n||xf}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===xf}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}function TO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ge(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(t.options.projectId,e)}const ZA="__type__",EO="__max__",Ah={mapValue:{}},ek="__vector__",vf="value";function ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cx(t)?4:AO(t)?9007199254740991:SO(t)?10:11:Re(28295,{value:t})}function pi(t,e){if(t===e)return!0;const n=ta(t);if(n!==ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gu(t).isEqual(gu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Zr(a.timestampValue),h=Zr(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ea(a.bytesValue).isEqual(ea(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Nt(a.geoPointValue.latitude)===Nt(l.geoPointValue.latitude)&&Nt(a.geoPointValue.longitude)===Nt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Nt(a.integerValue)===Nt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nt(a.doubleValue),h=Nt(l.doubleValue);return c===h?yf(c)===yf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return pl(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(IT(c)!==IT(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!pi(c[m],h[m])))return!1;return!0})(t,e);default:return Re(52216,{left:t})}}function xu(t,e){return(t.values||[]).find((n=>pi(n,e)))!==void 0}function gl(t,e){if(t===e)return 0;const n=ta(t),i=ta(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Nt(l.integerValue||l.doubleValue),m=Nt(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return DT(t.timestampValue,e.timestampValue);case 4:return DT(gu(t),gu(e));case 5:return P0(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=ea(l),m=ea(c);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),m=c.split("/");for(let g=0;g<h.length&&g<m.length;g++){const x=Ke(h[g],m[g]);if(x!==0)return x}return Ke(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Ke(Nt(l.latitude),Nt(c.latitude));return h!==0?h:Ke(Nt(l.longitude),Nt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return MT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},m=c.fields||{},g=h[vf]?.arrayValue,x=m[vf]?.arrayValue,v=Ke(g?.values?.length||0,x?.values?.length||0);return v!==0?v:MT(g,x)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Ah.mapValue&&c===Ah.mapValue)return 0;if(l===Ah.mapValue)return 1;if(c===Ah.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),g=c.fields||{},x=Object.keys(g);m.sort(),x.sort();for(let v=0;v<m.length&&v<x.length;++v){const _=P0(m[v],x[v]);if(_!==0)return _;const E=gl(h[m[v]],g[x[v]]);if(E!==0)return E}return Ke(m.length,x.length)})(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function DT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Zr(t),i=Zr(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function MT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=gl(n[a],i[a]);if(l)return l}return Ke(n.length,i.length)}function yl(t){return O0(t)}function O0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Zr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ea(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=O0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${O0(n.fields[c])}`;return a+"}"})(t.mapValue):Re(61005,{value:t})}function Yh(t){switch(ta(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xf(t);return e?16+Yh(e):16;case 5:return 2*t.stringValue.length;case 6:return ea(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Yh(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return to(i.fields,((l,c)=>{a+=l.length+Yh(c)})),a})(t.mapValue);default:throw Re(13486,{value:t})}}function VT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function L0(t){return!!t&&"integerValue"in t}function ux(t){return!!t&&"arrayValue"in t}function PT(t){return!!t&&"nullValue"in t}function OT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qh(t){return!!t&&"mapValue"in t}function SO(t){return(t?.mapValue?.fields||{})[ZA]?.stringValue===ek}function nu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=nu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(t.arrayValue.values[n]);return e}return{...t}}function AO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EO}class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=un.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=nu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Qh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){to(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new os(nu(this.value))}}function tk(t){const e=[];return to(t.fields,((n,i)=>{const a=new un([n]);if(Qh(i)){const l=tk(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Cs(e)}class pn{constructor(e,n,i,a,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new pn(e,0,Me.min(),Me.min(),Me.min(),os.empty(),0)}static newFoundDocument(e,n,i,a){return new pn(e,1,n,Me.min(),i,a,0)}static newNoDocument(e,n){return new pn(e,2,n,Me.min(),Me.min(),os.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Me.min(),Me.min(),os.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bf{constructor(e,n){this.position=e,this.inclusive=n}}function LT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ne.comparator(Ne.fromName(c.referenceValue),n.key):i=gl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function UT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function kO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class nk{}class Bt extends nk{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new CO(e,n,i):n==="array-contains"?new jO(e,i):n==="in"?new DO(e,i):n==="not-in"?new MO(e,i):n==="array-contains-any"?new VO(e,i):new Bt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new RO(e,i):new IO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&ta(this.value)===ta(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends nk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vs(e,n)}matches(e){return sk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sk(t){return t.op==="and"}function ik(t){return NO(t)&&sk(t)}function NO(t){for(const e of t.filters)if(e instanceof Vs)return!1;return!0}function U0(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(ik(t))return t.filters.map((e=>U0(e))).join(",");{const e=t.filters.map((n=>U0(n))).join(",");return`${t.op}(${e})`}}function rk(t,e){return t instanceof Bt?(function(i,a){return a instanceof Bt&&i.op===a.op&&i.field.isEqual(a.field)&&pi(i.value,a.value)})(t,e):t instanceof Vs?(function(i,a){return a instanceof Vs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,h)=>l&&rk(c,a.filters[h])),!0):!1})(t,e):void Re(19439)}function ak(t){return t instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(t):t instanceof Vs?(function(n){return n.op.toString()+" {"+n.getFilters().map(ak).join(" ,")+"}"})(t):"Filter"}class CO extends Bt{constructor(e,n,i){super(e,n,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class RO extends Bt{constructor(e,n){super(e,"in",n),this.keys=ok("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class IO extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=ok("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ok(t,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class jO extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ux(n)&&xu(n.arrayValue,this.value)}}class DO extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class MO extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class VO extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ux(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>xu(this.value.arrayValue,i)))}}class PO{constructor(e,n=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function zT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new PO(t,e,n,i,a,l,c)}function dx(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>U0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Qf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>yl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>yl(i))).join(",")),e.Te=n}return e.Te}function hx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UT(t.startAt,e.startAt)&&UT(t.endAt,e.endAt)}function z0(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Il{constructor(e,n=null,i=[],a=[],l=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function OO(t,e,n,i,a,l,c,h){return new Il(t,e,n,i,a,l,c,h)}function fx(t){return new Il(t)}function BT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LO(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function lk(t){return t.collectionGroup!==null}function su(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Qt(un.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new vu(l,i))})),n.has(un.keyField().canonicalString())||e.Ie.push(new vu(un.keyField(),i))}return e.Ie}function li(t){const e=Pe(t);return e.Ee||(e.Ee=UO(e,su(t))),e.Ee}function UO(t,e){if(t.limitType==="F")return zT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new vu(a.field,l)}));const n=t.endAt?new bf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new bf(t.startAt.position,t.startAt.inclusive):null;return zT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function B0(t,e){const n=t.filters.concat([e]);return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zO(t,e){const n=t.explicitOrderBy.concat([e]);return new Il(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function _f(t,e,n){return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wf(t,e){return hx(li(t),li(e))&&t.limitType===e.limitType}function ck(t){return`${dx(li(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>ak(a))).join(", ")}]`),Qf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>yl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>yl(a))).join(",")),`Target(${i})`})(li(t))}; limitType=${t.limitType})`}function Jf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ne.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of su(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,m){const g=LT(c,h,m);return c.inclusive?g<=0:g<0})(i.startAt,su(i),a)||i.endAt&&!(function(c,h,m){const g=LT(c,h,m);return c.inclusive?g>=0:g>0})(i.endAt,su(i),a))})(t,e)}function BO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uk(t){return(e,n)=>{let i=!1;for(const a of su(t)){const l=FO(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function FO(t,e,n){const i=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,c,h){const m=c.data.field(l),g=h.data.field(l);return m!==null&&g!==null?gl(m,g):Re(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:t.dir})}}class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return KA(this.inner)}size(){return this.innerSize}}const HO=new vt(Ne.comparator);function Ji(){return HO}const dk=new vt(Ne.comparator);function $c(...t){let e=dk;for(const n of t)e=e.insert(n.key,n);return e}function hk(t){let e=dk;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Fa(){return iu()}function fk(){return iu()}function iu(){return new no((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qO=new vt(Ne.comparator),GO=new Qt(Ne.comparator);function Ye(...t){let e=GO;for(const n of t)e=e.add(n);return e}const $O=new Qt(Ke);function KO(){return $O}function mx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function mk(t){return{integerValue:""+t}}function YO(t,e){return xO(e)?mk(e):mx(t,e)}class Zf{constructor(){this._=void 0}}function QO(t,e,n){return t instanceof bu?(function(a,l){const c={fields:{[XA]:{stringValue:QA},[JA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&cx(l)&&(l=Xf(l)),l&&(c.fields[WA]=l),{mapValue:c}})(n,e):t instanceof _u?gk(t,e):t instanceof wu?yk(t,e):(function(a,l){const c=pk(a,l),h=FT(c)+FT(a.Ae);return L0(c)&&L0(a.Ae)?mk(h):mx(a.serializer,h)})(t,e)}function XO(t,e,n){return t instanceof _u?gk(t,e):t instanceof wu?yk(t,e):n}function pk(t,e){return t instanceof wf?(function(i){return L0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class bu extends Zf{}class _u extends Zf{constructor(e){super(),this.elements=e}}function gk(t,e){const n=xk(e);for(const i of t.elements)n.some((a=>pi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class wu extends Zf{constructor(e){super(),this.elements=e}}function yk(t,e){let n=xk(e);for(const i of t.elements)n=n.filter((a=>!pi(a,i)));return{arrayValue:{values:n}}}class wf extends Zf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FT(t){return Nt(t.integerValue||t.doubleValue)}function xk(t){return ux(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class WO{constructor(e,n){this.field=e,this.transform=n}}function JO(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof _u&&a instanceof _u||i instanceof wu&&a instanceof wu?pl(i.elements,a.elements,pi):i instanceof wf&&a instanceof wf?pi(i.Ae,a.Ae):i instanceof bu&&a instanceof bu})(t.transform,e.transform)}class ZO{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class em{}function vk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _k(t.key,ci.none()):new Vu(t.key,t.data,ci.none());{const n=t.data,i=os.empty();let a=new Qt(un.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new so(t.key,i,new Cs(a.toArray()),ci.none())}}function eL(t,e,n){t instanceof Vu?(function(a,l,c){const h=a.value.clone(),m=qT(a.fieldTransforms,l,c.transformResults);h.setAll(m),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof so?(function(a,l,c){if(!Xh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=qT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(bk(a)),m.setAll(h),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function ru(t,e,n,i){return t instanceof Vu?(function(l,c,h,m){if(!Xh(l.precondition,c))return h;const g=l.value.clone(),x=GT(l.fieldTransforms,m,c);return g.setAll(x),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof so?(function(l,c,h,m){if(!Xh(l.precondition,c))return h;const g=GT(l.fieldTransforms,m,c),x=c.data;return x.setAll(bk(l)),x.setAll(g),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(l,c,h){return Xh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function tL(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=pk(i.transform,a||null);l!=null&&(n===null&&(n=os.empty()),n.set(i.field,l))}return n||null}function HT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&pl(i,a,((l,c)=>JO(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends em{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class so extends em{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function bk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function qT(t,e,n){const i=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,XO(c,h,n[a]))}return i}function GT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,QO(l,c,e))}return i}class _k extends em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nL extends em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sL{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&eL(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ru(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ru(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=fk();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const m=vk(c,h);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Me.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,i)=>HT(n,i)))&&pl(this.baseMutations,e.baseMutations,((n,i)=>HT(n,i)))}}class px{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return qO})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new px(e,n,i,a)}}class iL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Xe;function aL(t){switch(t){case oe.OK:return Re(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function wk(t){if(t===void 0)return Wi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Ut.OK:return oe.OK;case Ut.CANCELLED:return oe.CANCELLED;case Ut.UNKNOWN:return oe.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return oe.INTERNAL;case Ut.UNAVAILABLE:return oe.UNAVAILABLE;case Ut.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ut.NOT_FOUND:return oe.NOT_FOUND;case Ut.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ut.ABORTED:return oe.ABORTED;case Ut.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ut.DATA_LOSS:return oe.DATA_LOSS;default:return Re(39323,{code:t})}}(Xe=Ut||(Ut={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function oL(){return new TextEncoder}const lL=new Gr([4294967295,4294967295],0);function $T(t){const e=oL().encode(t),n=new PA;return n.update(e),new Uint8Array(n.digest())}function KT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gr([n,i],0),new Gr([a,l],0)]}class gx{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Kc(`Invalid padding: ${n}`);if(i<0)throw new Kc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Kc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Kc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Gr.fromNumber(i)));return a.compare(lL)===1&&(a=new Gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$T(e),[i,a]=KT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new gx(l,a,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=$T(e),[i,a]=KT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tm{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new tm(Me.min(),a,new vt(Ke),Ji(),Ye())}}class Pu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Pu(i,n,Ye(),Ye(),Ye())}}class Wh{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class Tk{constructor(e,n){this.targetId=e,this.Ce=n}}class Ek{constructor(e,n,i=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class YT{constructor(){this.ve=0,this.Fe=QT(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}})),new Pu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=QT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.He=kh(),this.Je=kh(),this.Ze=new vt(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(z0(l))if(i===0){const c=new Ne(l.path);this.et(n,c,pn.newNoDocument(c,Me.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),m=h?this.ct(h,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=ea(i).toUint8Array()}catch(m){if(m instanceof YA)return Wa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new gx(c,a,l)}catch(m){return Wa(m instanceof Kc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&z0(h.target)){const m=new Ne(h.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,pn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ye();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new tm(e,n,this.Ze,this.je,i);return this.je=Ji(),this.He=kh(),this.Je=kh(),this.Ze=new vt(Ke),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new YT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Qt(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Qt(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kh(){return new vt(Ne.comparator)}function QT(){return new vt(Ne.comparator)}const uL={asc:"ASCENDING",desc:"DESCENDING"},dL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hL={and:"AND",or:"OR"};class fL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function F0(t,e){return t.useProto3Json||Qf(e)?e:{value:e}}function Tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mL(t,e){return Tf(t,e.toTimestamp())}function ui(t){return tt(!!t,49232),Me.fromTimestamp((function(n){const i=Zr(n);return new mt(i.seconds,i.nanos)})(t))}function yx(t,e){return H0(t,e).canonicalString()}function H0(t,e){const n=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Ak(t){const e=ut.fromString(t);return tt(Ik(e),10190,{key:e.toString()}),e}function q0(t,e){return yx(t.databaseId,e.path)}function qg(t,e){const n=Ak(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(Nk(n))}function kk(t,e){return yx(t.databaseId,e)}function pL(t){const e=Ak(t);return e.length===4?ut.emptyPath():Nk(e)}function G0(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Nk(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XT(t,e,n){return{name:q0(t,e),fields:n.value.mapValue.fields}}function gL(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Re(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,x){return g.useProto3Json?(tt(x===void 0||typeof x=="string",58123),dn.fromBase64String(x||"")):(tt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),dn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const x=g.code===void 0?oe.UNKNOWN:wk(g.code);return new ge(x,g.message||"")})(c);n=new Ek(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=qg(t,i.document.name),l=ui(i.document.updateTime),c=i.document.createTime?ui(i.document.createTime):Me.min(),h=new os({mapValue:{fields:i.document.fields}}),m=pn.newFoundDocument(a,l,c,h),g=i.targetIds||[],x=i.removedTargetIds||[];n=new Wh(g,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=qg(t,i.document),l=i.readTime?ui(i.readTime):Me.min(),c=pn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new Wh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=qg(t,i.document),l=i.removedTargetIds||[];n=new Wh([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new rL(a,l),h=i.targetId;n=new Tk(h,c)}}return n}function yL(t,e){let n;if(e instanceof Vu)n={update:XT(t,e.key,e.value)};else if(e instanceof _k)n={delete:q0(t,e.key)};else if(e instanceof so)n={update:XT(t,e.key,e.data),updateMask:AL(e.fieldMask)};else{if(!(e instanceof nL))return Re(16599,{dt:e.type});n={verify:q0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof bu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof _u)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof wf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Re(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:mL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(t,e.precondition)),n}function xL(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?ui(a.updateTime):ui(l);return c.isEqual(Me.min())&&(c=ui(l)),new ZO(c,a.transformResults||[])})(n,e)))):[]}function vL(t,e){return{documents:[kk(t,e.path)]}}function bL(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=kk(t,a);const l=(function(g){if(g.length!==0)return Rk(Vs.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((x=>(function(_){return{field:Zo(_.field),direction:TL(_.dir)}})(x)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=F0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function _L(t){let e=pL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){tt(i===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];n.where&&(l=(function(v){const _=Ck(v);return _ instanceof Vs&&ik(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((_=>(function(j){return new vu(el(j.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let _;return _=typeof v=="object"?v.value:v,Qf(_)?null:_})(n.limit));let m=null;n.startAt&&(m=(function(v){const _=!!v.before,E=v.values||[];return new bf(E,_)})(n.startAt));let g=null;return n.endAt&&(g=(function(v){const _=!v.before,E=v.values||[];return new bf(E,_)})(n.endAt)),OO(e,a,c,l,h,"F",m,g)}function wL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ck(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=el(n.unaryFilter.field);return Bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=el(n.unaryFilter.field);return Bt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=el(n.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(n.unaryFilter.field);return Bt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bt.create(el(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vs.create(n.compositeFilter.filters.map((i=>Ck(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(t):Re(30097,{filter:t})}function TL(t){return uL[t]}function EL(t){return dL[t]}function SL(t){return hL[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function el(t){return un.fromServerFormat(t.fieldPath)}function Rk(t){return t instanceof Bt?(function(n){if(n.op==="=="){if(OT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(PT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(PT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:EL(n.op),value:n.value}}})(t):t instanceof Vs?(function(n){const i=n.getFilters().map((a=>Rk(a)));return i.length===1?i[0]:{compositeFilter:{op:SL(n.op),filters:i}}})(t):Re(54877,{filter:t})}function AL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ik(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function jk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Fr{constructor(e,n,i,a,l=Me.min(),c=Me.min(),h=dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kL{constructor(e){this.yt=e}}function NL(t){const e=_L({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_f(e,e.limit,"L"):e}class CL{constructor(){this.Sn=new RL}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Jr.min())}updateCollectionGroup(e,n,i){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class RL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Qt(ut.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Qt(ut.comparator)).toArray()}}const WT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dk=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Dk,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class xl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new xl(0)}static ar(){return new xl(-1)}}const JT="LruGarbageCollector",IL=1048576;function ZT([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class jL{constructor(e){this.Pr=e,this.buffer=new Qt(ZT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();ZT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DL{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ye(JT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?ye(JT,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Ar(3e5)}))}}class ML{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Yf.ce);const i=new jL(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(WT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,h,m,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,n)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(g=Date.now(),Wo()<=$e.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${v} documents in `+(g-m)+`ms
Total Duration: ${g-x}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function VL(t,e){return new ML(t,e)}class PL{constructor(){this.changes=new no((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?le.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class LL{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&ru(i.mutation,a,Cs.empty(),mt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=Fa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=$c();return l.forEach(((h,m)=>{c=c.insert(h,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Fa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,a){let l=Ji();const c=iu(),h=(function(){return iu()})();return n.forEach(((m,g)=>{const x=i.get(g.key);a.has(g.key)&&(x===void 0||x.mutation instanceof so)?l=l.insert(g.key,g):x!==void 0?(c.set(g.key,x.mutation.getFieldMask()),ru(x.mutation,g,x.mutation.getFieldMask(),mt.now())):c.set(g.key,Cs.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,x)=>c.set(g,x))),n.forEach(((g,x)=>h.set(g,new OL(x,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=iu();let a=new vt(((c,h)=>c-h)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let x=i.get(m)||Cs.empty();x=h.applyToLocalView(g,x),i.set(m,x);const v=(a.get(h.batchId)||Ye()).add(m);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),g=m.key,x=m.value,v=fk();x.forEach((_=>{if(!l.has(_)){const E=vk(n.get(_),i.get(_));E!==null&&v.set(_,E),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return le.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return LO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):le.resolve(Fa());let h=pu,m=l;return c.next((g=>le.forEach(g,((x,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(x)?le.resolve():this.remoteDocumentCache.getEntry(e,x).next((_=>{m=m.insert(x,_)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ye()))).next((x=>({batchId:h,changes:hk(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((i=>{let a=$c();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=$c();return this.indexManager.getCollectionParents(e,l).next((h=>le.forEach(h,(m=>{const g=(function(v,_){return new Il(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((x=>{x.forEach(((v,_)=>{c=c.insert(v,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const x=g.getKey();c.get(x)===null&&(c=c.insert(x,pn.newInvalidDocument(x)))}));let h=$c();return c.forEach(((m,g)=>{const x=l.get(m);x!==void 0&&ru(x.mutation,g,Cs.empty(),mt.now()),Jf(n,g)&&(h=h.insert(m,g))})),h}))}}class UL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ui(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:NL(a.bundledQuery),readTime:ui(a.readTime)}})(n)),le.resolve()}}class zL{constructor(){this.overlays=new vt(Ne.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Fa();return le.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),le.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),le.resolve()}getOverlaysForCollection(e,n,i){const a=Fa(),l=n.length+1,c=new Ne(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new vt(((g,x)=>g-x));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let x=l.get(g.largestBatchId);x===null&&(x=Fa(),l=l.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const h=Fa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,x)=>h.set(g,x))),!(h.size()>=a)););return le.resolve(h)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new iL(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ye(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class BL{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class xx{constructor(){this.kr=new Qt(Zt.Kr),this.qr=new Qt(Zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Zt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Zt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ne(new ut([])),i=new Zt(n,e),a=new Zt(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ne(new ut([])),i=new Zt(n,e),a=new Zt(n,e+1);let l=Ye();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Zt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ne.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}class FL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Qt(Zt.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sL(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new Zt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?lx:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Zt(n,0),a=new Zt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Qt(Ke);return n.forEach((a=>{const l=new Zt(a,0),c=new Zt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{i=i.add(h.Hr)}))})),le.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ne.isDocumentKey(l)||(l=l.child(""));const c=new Zt(new Ne(l),0);let h=new Qt(Ke);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(h=h.add(m.Hr)),!0)}),c),le.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return le.forEach(n.mutations,(a=>{const l=new Zt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Zt(n,0),a=this.Jr.firstAfterOrEqual(i);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HL{constructor(e){this.ti=e,this.docs=(function(){return new vt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return le.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let i=Ji();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))})),le.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Ji();const c=n.path,h=new Ne(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:g,value:{document:x}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||mO(fO(x),i)<=0||(a.has(x.key)||Jf(n,x))&&(l=l.insert(x.key,x.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Re(9500)}ni(e,n){return le.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new qL(this)}getSize(e){return le.resolve(this.size)}}class qL extends PL{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class GL{constructor(e){this.persistence=e,this.ri=new no((n=>dx(n)),hx),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ii=0,this.si=new xx,this.targetCount=0,this.oi=xl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),le.waitFor(l).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return le.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),le.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return le.resolve(i)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}class Mk{constructor(e,n){this._i={},this.overlays={},this.ai=new Yf(0),this.ui=!1,this.ui=!0,this.ci=new BL,this.referenceDelegate=e(this),this.li=new GL(this),this.indexManager=new CL,this.remoteDocumentCache=(function(a){return new HL(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new kL(n),this.Pi=new UL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new FL(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ye("MemoryPersistence","Starting transaction:",e);const a=new $L(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return le.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class $L extends gO{constructor(e){super(),this.currentSequenceNumber=e}}class vx{constructor(e){this.persistence=e,this.Ri=new xx,this.Ai=null}static Vi(e){return new vx(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),le.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(i=>{const a=Ne.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Me.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ef{constructor(e,n){this.persistence=e,this.fi=new no((i=>vO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=VL(this,n)}static Vi(e,n){return new Ef(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?le.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(i++,l.removeEntry(c,Me.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yh(e.data.value)),n}wr(e,n,i){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class bx{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new bx(e,n.fromCache,i,a)}}class KL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return j3()?8:yO(yn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new KL;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Wo()<=$e.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Wo()<=$e.DEBUG&&ye("QueryEngine","Query:",Jo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Wo()<=$e.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):le.resolve())}gs(e,n){if(BT(n))return le.resolve(null);let i=li(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=_f(n,null,"F"),i=li(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.bs(n,h);return this.Ss(n,g,c,m.readTime)?this.gs(e,_f(n,null,"F")):this.Ds(e,g,n,m)}))))})))))}ps(e,n,i,a){return BT(n)||a.isEqual(Me.min())?le.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?le.resolve(null):(Wo()<=$e.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jo(n)),this.Ds(e,c,n,hO(a,pu)).next((h=>h)))}))}bs(e,n){let i=new Qt(uk(e));return n.forEach(((a,l)=>{Jf(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return Wo()<=$e.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.fs.getDocumentsMatchingQuery(e,n,Jr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const _x="LocalStore",QL=3e8;class XL{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new vt(Ke),this.Fs=new no((l=>dx(l)),hx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function WL(t,e,n,i){return new XL(t,e,n,i)}async function Vk(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let m=Ye();for(const g of a){c.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}for(const g of l){h.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(i,m).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function JL(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,m,g,x){const v=g.batch,_=v.keys();let E=le.resolve();return _.forEach((j=>{E=E.next((()=>x.getEntry(m,j))).next((D=>{const I=g.docVersions.get(j);tt(I!==null,48541),D.version.compareTo(I)<0&&(v.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),x.addEntry(D)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(m,v)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=Ye();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(m=m.add(h.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function Pk(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function ZL(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((x,v)=>{const _=a.get(v);if(!_)return;h.push(n.li.removeMatchingKeys(l,x.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,x.addedDocuments,v))));let E=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(dn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):x.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(x.resumeToken,i)),a=a.insert(v,E),(function(D,I,V){return D.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=QL?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(_,E,x)&&h.push(n.li.updateTargetData(l,E))}));let m=Ji(),g=Ye();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,x))})),h.push(e9(l,c,e.documentUpdates).next((x=>{m=x.Bs,g=x.Ls}))),!i.isEqual(Me.min())){const x=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(x)}return le.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.vs=a,l)))}function e9(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=Ji();return n.forEach(((h,m)=>{const g=l.get(h);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Me.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):ye(_x,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function t9(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=lx),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function n9(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,le.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Fr(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function $0(t,e,n){const i=Pe(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Rl(c))throw c;ye(_x,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function eE(t,e,n){const i=Pe(t);let a=Me.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,x){const v=Pe(m),_=v.Fs.get(x);return _!==void 0?le.resolve(v.vs.get(_)):v.li.getTargetData(g,x)})(i,c,li(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:Me.min(),n?l:Ye()))).next((h=>(s9(i,BO(e),h),{documents:h,ks:l})))))}function s9(t,e,n){let i=t.Ms.get(e)||Me.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class tE{constructor(){this.activeTargetIds=KO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i9{constructor(){this.vo=new tE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new tE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class r9{Mo(e){}shutdown(){}}const nE="ConnectivityMonitor";class sE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ye(nE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ye(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nh=null;function K0(){return Nh===null?Nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nh++,"0x"+Nh.toString(16)}const Gg="RestConnection",a9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class o9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===xf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=K0(),h=this.Qo(e,n.toUriEncodedString());ye(Gg,`Sending RPC '${e}' ${c}:`,h,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:g}=new URL(h),x=Za(g);return this.zo(e,h,m,i,x).then((v=>(ye(Gg,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Wa(Gg,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=a9[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class l9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",Fc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ul extends o9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ul.c_){const e=zA();Fc(e,UA.STAT_EVENT,(n=>{n.stat===V0.PROXY?ye(fn,"STAT_EVENT: detected buffering proxy"):n.stat===V0.NOPROXY&&ye(fn,"STAT_EVENT: detected no buffering proxy")})),ul.c_=!0}}zo(e,n,i,a,l){const c=K0();return new Promise(((h,m)=>{const g=new OA;g.setWithCredentials(!0),g.listenOnce(LA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Kh.NO_ERROR:const v=g.getResponseJson();ye(fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case Kh.TIMEOUT:ye(fn,`RPC '${e}' ${c} timed out`),m(new ge(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const _=g.getStatus();if(ye(fn,`RPC '${e}' ${c} failed with status:`,_,"response text:",g.getResponseText()),_>0){let E=g.getResponseJson();Array.isArray(E)&&(E=E[0]);const j=E?.error;if(j&&j.status&&j.message){const D=(function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(B)>=0?B:oe.UNKNOWN})(j.status);m(new ge(D,j.message))}else m(new ge(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ge(oe.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(fn,`RPC '${e}' ${c} completed.`)}}));const x=JSON.stringify(a);ye(fn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",x,i,15)}))}T_(e,n,i){const a=K0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const g=l.join("");ye(fn,`Creating RPC '${e}' stream ${a}: ${g}`,h);const x=c.createWebChannel(g,h);this.I_(x);let v=!1,_=!1;const E=new l9({Ho:j=>{_?ye(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(v||(ye(fn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),v=!0),ye(fn,`RPC '${e}' stream ${a} sending:`,j),x.send(j))},Jo:()=>x.close()});return Fc(x,Gc.EventType.OPEN,(()=>{_||(ye(fn,`RPC '${e}' stream ${a} transport opened.`),E.i_())})),Fc(x,Gc.EventType.CLOSE,(()=>{_||(_=!0,ye(fn,`RPC '${e}' stream ${a} transport closed`),E.o_(),this.E_(x))})),Fc(x,Gc.EventType.ERROR,(j=>{_||(_=!0,Wa(fn,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),E.o_(new ge(oe.UNAVAILABLE,"The operation could not be completed")))})),Fc(x,Gc.EventType.MESSAGE,(j=>{if(!_){const D=j.data[0];tt(!!D,16349);const I=D,V=I?.error||I[0]?.error;if(V){ye(fn,`RPC '${e}' stream ${a} received error:`,V);const B=V.status;let $=(function(de){const R=Ut[de];if(R!==void 0)return wk(R)})(B),J=V.message;B==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&Wa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=oe.INTERNAL,J="Unknown error status: "+B+" with message "+V.message),_=!0,E.o_(new ge($,J)),x.close()}else ye(fn,`RPC '${e}' stream ${a} received:`,D),E.__(D)}})),ul.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return BA()}}function c9(t){return new ul(t)}function $g(){return typeof document<"u"?document:null}function nm(t){return new fL(t,!0)}ul.c_=!1;class Ok{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iE="PersistentStream";class Lk{constructor(e,n,i,a,l,c,h,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ok(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ge(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(iE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ye(iE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u9 extends Lk{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gL(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Me.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?ui(c.readTime):Me.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=G0(this.serializer),n.addTarget=(function(l,c){let h;const m=c.target;if(h=z0(m)?{documents:vL(l,m)}:{query:bL(l,m).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Sk(l,c.resumeToken);const g=F0(l,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Me.min())>0){h.readTime=Tf(l,c.snapshotVersion.toTimestamp());const g=F0(l,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const i=wL(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=G0(this.serializer),n.removeTarget=e,this.K_(n)}}class d9 extends Lk{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xL(e.writeResults,e.commitTime),i=ui(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=G0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>yL(this.serializer,i)))};this.K_(n)}}class h9{}class f9 extends h9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,H0(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(oe.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,H0(n,i),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function m9(t,e,n,i){return new f9(t,e,n,i)}class p9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ja="RemoteStore";class g9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{io(this)&&(ye(Ja,"Restarting streams for network reachability change."),await(async function(m){const g=Pe(m);g.Ea.add(4),await Ou(g),g.Va.set("Unknown"),g.Ea.delete(4),await sm(g)})(this))}))})),this.Va=new p9(i,a)}}async function sm(t){if(io(t))for(const e of t.Ra)await e(!0)}async function Ou(t){for(const e of t.Ra)await e(!1)}function Uk(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sx(n)?Ex(n):jl(n).O_()&&Tx(n,e))}function wx(t,e){const n=Pe(t),i=jl(n);n.Ia.delete(e),i.O_()&&zk(n,e),n.Ia.size===0&&(i.O_()?i.L_():io(n)&&n.Va.set("Unknown"))}function Tx(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(t).Z_(e)}function zk(t,e){t.da.$e(e),jl(t).X_(e)}function Ex(t){t.da=new cL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jl(t).start(),t.Va.ua()}function Sx(t){return io(t)&&!jl(t).x_()&&t.Ia.size>0}function io(t){return Pe(t).Ea.size===0}function Bk(t){t.da=void 0}async function y9(t){t.Va.set("Online")}async function x9(t){t.Ia.forEach(((e,n)=>{Tx(t,e)}))}async function v9(t,e){Bk(t),Sx(t)?(t.Va.ha(e),Ex(t)):t.Va.set("Unknown")}async function b9(t,e,n){if(t.Va.set("Online"),e instanceof Ek&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(i){ye(Ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sf(t,i)}else if(e instanceof Wh?t.da.Xe(e):e instanceof Tk?t.da.st(e):t.da.tt(e),!n.isEqual(Me.min()))try{const i=await Pk(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const x=l.Ia.get(g);x&&l.Ia.set(g,x.withResumeToken(m.resumeToken,c))}})),h.targetMismatches.forEach(((m,g)=>{const x=l.Ia.get(m);if(!x)return;l.Ia.set(m,x.withResumeToken(dn.EMPTY_BYTE_STRING,x.snapshotVersion)),zk(l,m);const v=new Fr(x.target,m,g,x.sequenceNumber);Tx(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){ye(Ja,"Failed to raise snapshot:",i),await Sf(t,i)}}async function Sf(t,e,n){if(!Rl(e))throw e;t.Ea.add(1),await Ou(t),t.Va.set("Offline"),n||(n=()=>Pk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(Ja,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sm(t)}))}function Fk(t,e){return e().catch((n=>Sf(t,n,e)))}async function im(t){const e=Pe(t),n=na(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lx;for(;_9(e);)try{const a=await t9(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,w9(e,a)}catch(a){await Sf(e,a)}Hk(e)&&qk(e)}function _9(t){return io(t)&&t.Ta.length<10}function w9(t,e){t.Ta.push(e);const n=na(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Hk(t){return io(t)&&!na(t).x_()&&t.Ta.length>0}function qk(t){na(t).start()}async function T9(t){na(t).ra()}async function E9(t){const e=na(t);for(const n of t.Ta)e.ea(n.mutations)}async function S9(t,e,n){const i=t.Ta.shift(),a=px.from(i,e,n);await Fk(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await im(t)}async function A9(t,e){e&&na(t).Y_&&await(async function(i,a){if((function(c){return aL(c)&&c!==oe.ABORTED})(a.code)){const l=i.Ta.shift();na(i).B_(),await Fk(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await im(i)}})(t,e),Hk(t)&&qk(t)}async function rE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ye(Ja,"RemoteStore received new credentials");const i=io(n);n.Ea.add(3),await Ou(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sm(n)}async function k9(t,e){const n=Pe(t);e?(n.Ea.delete(2),await sm(n)):e||(n.Ea.add(2),await Ou(n),n.Va.set("Unknown"))}function jl(t){return t.ma||(t.ma=(function(n,i,a){const l=Pe(n);return l.sa(),new u9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:y9.bind(null,t),Yo:x9.bind(null,t),t_:v9.bind(null,t),J_:b9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Sx(t)?Ex(t):t.Va.set("Unknown")):(await t.ma.stop(),Bk(t))}))),t.ma}function na(t){return t.fa||(t.fa=(function(n,i,a){const l=Pe(n);return l.sa(),new d9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:T9.bind(null,t),t_:A9.bind(null,t),ta:E9.bind(null,t),na:S9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await im(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(Ja,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Ax{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,h=new Ax(e,n,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kx(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),Rl(t))return new ge(oe.UNAVAILABLE,`${e}: ${t}`);throw t}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ne.comparator(n.key,i.key):(n,i)=>Ne.comparator(n.key,i.key),this.keyedMap=$c(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new dl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class aE{constructor(){this.ga=new vt(Ne.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class vl{constructor(e,n,i,a,l,c,h,m,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new vl(e,n,dl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class N9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class C9{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),l=a.queries;a.queries=oE(),l.forEach(((c,h)=>{for(const m of h.ba)m.onError(i)}))})(this,new ge(oe.ABORTED,"Firestore shutting down"))}}function oE(){return new no((t=>ck(t)),Wf)}async function Gk(t,e){const n=Pe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new N9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=kx(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Nx(n)}async function $k(t,e){const n=Pe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function R9(t,e){const n=Pe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&Nx(n)}function I9(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Nx(t){t.Ca.forEach((e=>{e.next()}))}var Y0,lE;(lE=Y0||(Y0={})).Ma="default",lE.Cache="cache";class Kk{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new vl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Y0.Cache}}class Yk{constructor(e){this.key=e}}class Qk{constructor(e){this.key=e}}class j9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=uk(e),this.tu=new dl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new aE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,v)=>{const _=a.get(x),E=Jf(this.query,v)?v:null,j=!!_&&this.mutatedKeys.has(_.key),D=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;_&&E?_.data.isEqual(E.data)?j!==D&&(i.track({type:3,doc:E}),I=!0):this.su(_,E)||(i.track({type:2,doc:E}),I=!0,(m&&this.eu(E,m)>0||g&&this.eu(E,g)<0)&&(h=!0)):!_&&E?(i.track({type:0,doc:E}),I=!0):_&&!E&&(i.track({type:1,doc:_}),I=!0,(m||g)&&(h=!0)),I&&(E?(c=c.add(E),l=D?l.add(x):l.delete(x)):(c=c.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),l=l.delete(x.key),i.track({type:1,doc:x})}return{tu:c,iu:i,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((x,v)=>(function(E,j){const D=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:I})}};return D(E)-D(j)})(x.type,v.type)||this.eu(x.doc,v.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Xa;return this.Xa=m,c.length!==0||g?{snapshot:new vl(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new Qk(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new Yk(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Cx="SyncEngine";class D9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class M9{constructor(e){this.key=e,this.hu=!1}}class V9{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new no((h=>ck(h)),Wf),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(Ne.comparator),this.Au=new Map,this.Vu=new xx,this.du={},this.mu=new Map,this.fu=xl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P9(t,e,n=!0){const i=tN(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Xk(i,e,n,!0),a}async function O9(t,e){const n=tN(t);await Xk(n,e,!0,!1)}async function Xk(t,e,n,i){const a=await n9(t.localStore,li(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await L9(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Uk(t.remoteStore,a),h}async function L9(t,e,n,i,a){t.pu=(v,_,E)=>(async function(D,I,V,B){let $=I.view.ru(V);$.Ss&&($=await eE(D.localStore,I.query,!1).then((({documents:R})=>I.view.ru(R,$))));const J=B&&B.targetChanges.get(I.targetId),se=B&&B.targetMismatches.get(I.targetId)!=null,de=I.view.applyChanges($,D.isPrimaryClient,J,se);return uE(D,I.targetId,de.au),de.snapshot})(t,v,_,E);const l=await eE(t.localStore,e,!0),c=new j9(e,l.ks),h=c.ru(l.documents),m=Pu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(h,t.isPrimaryClient,m);uE(t,n,g.au);const x=new D9(e,n,c);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function U9(t,e,n){const i=Pe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Wf(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await $0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&wx(i.remoteStore,a.targetId),Q0(i,a.targetId)})).catch(Cl)):(Q0(i,a.targetId),await $0(i.localStore,a.targetId,!0))}async function z9(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),wx(n.remoteStore,i.targetId))}async function B9(t,e,n){const i=Y9(t);try{const a=await(function(c,h){const m=Pe(c),g=mt.now(),x=h.reduce(((E,j)=>E.add(j.key)),Ye());let v,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let j=Ji(),D=Ye();return m.xs.getEntries(E,x).next((I=>{j=I,j.forEach(((V,B)=>{B.isValidDocument()||(D=D.add(V))}))})).next((()=>m.localDocuments.getOverlayedDocuments(E,j))).next((I=>{v=I;const V=[];for(const B of h){const $=tL(B,v.get(B.key).overlayedDocument);$!=null&&V.push(new so(B.key,$,tk($.value.mapValue),ci.exists(!0)))}return m.mutationQueue.addMutationBatch(E,g,V,h)})).next((I=>{_=I;const V=I.applyToLocalDocumentSet(v,D);return m.documentOverlayCache.saveOverlays(E,I.batchId,V)}))})).then((()=>({batchId:_.batchId,changes:hk(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,m){let g=c.du[c.currentUser.toKey()];g||(g=new vt(Ke)),g=g.insert(h,m),c.du[c.currentUser.toKey()]=g})(i,a.batchId,n),await Lu(i,a.changes),await im(i.remoteStore)}catch(a){const l=kx(a,"Failed to persist write");n.reject(l)}}async function Wk(t,e){const n=Pe(t);try{const i=await ZL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Lu(n,i,e)}catch(i){await Cl(i)}}function cE(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const m=Pe(c);m.onlineState=h;let g=!1;m.queries.forEach(((x,v)=>{for(const _ of v.ba)_.va(h)&&(g=!0)})),g&&Nx(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function F9(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new vt(Ne.comparator);c=c.insert(l,pn.newNoDocument(l,Me.min()));const h=Ye().add(l),m=new tm(Me.min(),new Map,new vt(Ke),c,h);await Wk(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),Rx(i)}else await $0(i.localStore,e,!1).then((()=>Q0(i,e,n))).catch(Cl)}async function H9(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await JL(n.localStore,e);Zk(n,i,null),Jk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Lu(n,a)}catch(a){await Cl(a)}}async function q9(t,e,n){const i=Pe(t);try{const a=await(function(c,h){const m=Pe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return m.mutationQueue.lookupMutationBatch(g,h).next((v=>(tt(v!==null,37113),x=v.keys(),m.mutationQueue.removeMutationBatch(g,v)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,x,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>m.localDocuments.getDocuments(g,x)))}))})(i.localStore,e);Zk(i,e,n),Jk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Lu(i,a)}catch(a){await Cl(a)}}function Jk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Zk(t,e,n){const i=Pe(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function Q0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||eN(t,i)}))}function eN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(wx(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Rx(t))}function uE(t,e,n){for(const i of n)i instanceof Yk?(t.Vu.addReference(i.key,e),G9(t,i)):i instanceof Qk?(ye(Cx,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||eN(t,i.key)):Re(19791,{wu:i})}function G9(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ye(Cx,"New document in limbo: "+n),t.Eu.add(i),Rx(t))}function Rx(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(ut.fromString(e)),i=t.fu.next();t.Au.set(i,new M9(n)),t.Ru=t.Ru.insert(n,i),Uk(t.remoteStore,new Fr(li(fx(n.path)),i,"TargetPurposeLimboResolution",Yf.ce))}}async function Lu(t,e,n){const i=Pe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{c.push(i.pu(m,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const x=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(g){a.push(g);const x=bx.Es(m.targetId,g);l.push(x)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(m,g){const x=Pe(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>le.forEach(g,(_=>le.forEach(_.Ts,(E=>x.persistence.referenceDelegate.addReference(v,_.targetId,E))).next((()=>le.forEach(_.Is,(E=>x.persistence.referenceDelegate.removeReference(v,_.targetId,E)))))))))}catch(v){if(!Rl(v))throw v;ye(_x,"Failed to update sequence numbers: "+v)}for(const v of g){const _=v.targetId;if(!v.fromCache){const E=x.vs.get(_),j=E.snapshotVersion,D=E.withLastLimboFreeSnapshotVersion(j);x.vs=x.vs.insert(_,D)}}})(i.localStore,l))}async function $9(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ye(Cx,"User change. New user:",e.toKey());const i=await Vk(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new ge(oe.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Lu(n,i.Ns)}}function K9(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function tN(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F9.bind(null,e),e.Pu.J_=R9.bind(null,e.eventManager),e.Pu.yu=I9.bind(null,e.eventManager),e}function Y9(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q9.bind(null,e),e}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WL(this.persistence,new YL,e.initialUser,this.serializer)}Cu(e){return new Mk(vx.Vi,this.serializer)}Du(e){return new i9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class Q9 extends Af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Ef,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new DL(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Mk((i=>Ef.Vi(i,n)),this.serializer)}}class X0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$9.bind(null,this.syncEngine),await k9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C9})()}createDatastore(e){const n=nm(e.databaseInfo.databaseId),i=c9(e.databaseInfo);return m9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,h){return new g9(i,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>cE(this.syncEngine,n,0)),(function(){return sE.v()?new sE:new r9})())}createSyncEngine(e,n){return(function(a,l,c,h,m,g,x){const v=new V9(a,l,c,h,m,g);return x&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);ye(Ja,"RemoteStore shutting down."),i.Ea.add(5),await Ou(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}X0.provider={build:()=>new X0};class nN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const sa="FirestoreClient";class X9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=ox.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ye(sa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ye(sa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=kx(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Kg(t,e){t.asyncQueue.verifyOperationInProgress(),ye(sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Vk(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W9(t);ye(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>rE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>rE(e.remoteStore,a))),t._onlineComponents=e}async function W9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(sa,"Using user provided OfflineComponentProvider");try{await Kg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await Kg(t,new Af)}}else ye(sa,"Using default OfflineComponentProvider"),await Kg(t,new Q9(void 0));return t._offlineComponents}async function sN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(sa,"Using user provided OnlineComponentProvider"),await dE(t,t._uninitializedComponentsProvider._online)):(ye(sa,"Using default OnlineComponentProvider"),await dE(t,new X0))),t._onlineComponents}function J9(t){return sN(t).then((e=>e.syncEngine))}async function W0(t){const e=await sN(t),n=e.eventManager;return n.onListen=P9.bind(null,e.syncEngine),n.onUnlisten=U9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z9.bind(null,e.syncEngine),n}function Z9(t,e,n,i){const a=new nN(i),l=new Kk(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Gk(await W0(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>$k(await W0(t),l)))}}function e8(t,e,n={}){const i=new $r;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,m,g){const x=new nN({next:_=>{x.Nu(),c.enqueueAndForget((()=>$k(l,v))),_.fromCache&&m.source==="server"?g.reject(new ge(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:_=>g.reject(_)}),v=new Kk(h,x,{includeMetadataChanges:!0,Ka:!0});return Gk(l,v)})(await W0(t),t.asyncQueue,e,n,i))),i.promise}function t8(t,e){const n=new $r;return t.asyncQueue.enqueueAndForget((async()=>B9(await J9(t),e,n))),n.promise}function iN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const n8="ComponentProvider",hE=new Map;function s8(t,e,n,i,a){return new wO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,iN(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const rN="firestore.googleapis.com",fE=!0;class mE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rN,this.ssl=fE}else this.host=e.host,this.ssl=e.ssl??fE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IL)throw new ge(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iN(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new eO;switch(i.type){case"firstParty":return new iO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=hE.get(n);i&&(ye(n8,"Removing Datastore"),hE.delete(n),i.terminate())})(this),Promise.resolve()}}function i8(t,e,n,i={}){t=Gi(t,rm);const a=Za(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Gy(`https://${h}`),$y("Firestore",!0)),l.host!==rN&&l.host!==h&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:i};if(!Ka(m,c)&&(t._setSettings(m),i.mockUserToken)){let g,x;if(typeof i.mockUserToken=="string")g=i.mockUserToken,x=mn.MOCK_USER;else{g=eA(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ge(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new mn(v)}t._authCredentials=new tO(new HA(g,x))}}class er{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new er(this.firestore,e,this._query)}}class Ht{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Mu(n,Ht._jsonSchema))return new Ht(e,i||null,new Ne(ut.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Ft("string",Ht._jsonSchemaVersion),referencePath:Ft("string")};class Kr extends er{constructor(e,n,i){super(e,n,fx(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ne(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function Yr(t,e,...n){if(t=xn(t),qA("collection","path",e),t instanceof rm){const i=ut.fromString(e,...n);return kT(i),new Kr(t,null,i)}{if(!(t instanceof Ht||t instanceof Kr))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return kT(i),new Kr(t.firestore,null,i)}}function J0(t,e,...n){if(t=xn(t),arguments.length===1&&(e=ox.newId()),qA("doc","path",e),t instanceof rm){const i=ut.fromString(e,...n);return AT(i),new Ht(t,null,new Ne(i))}{if(!(t instanceof Ht||t instanceof Kr))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return AT(i),new Ht(t.firestore,t instanceof Kr?t.converter:null,new Ne(i))}}const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ok(this,"async_queue_retry"),this._c=()=>{const i=$g();i&&ye(pE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=$g();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Rl(e))throw e;ye(pE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",yE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Ax.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bl extends rm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new gE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function r8(t,e){const n=typeof t=="object"?t:Qy(),i=typeof t=="string"?t:xf,a=Hf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=W2("firestore");l&&i8(a,...l)}return a}function Ix(t){if(t._terminated)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||a8(t),t._firestoreClient}function a8(t){const e=t._freezeSettings(),n=s8(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new X9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ls(dn.fromBase64String(e))}catch(n){throw new ge(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ls(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ls._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,ls._jsonSchema))return ls.fromBase64String(e.bytes)}}ls._jsonSchemaVersion="firestore/bytes/1.0",ls._jsonSchema={type:Ft("string",ls._jsonSchemaVersion),bytes:Ft("string")};class aN{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jx{constructor(e){this._methodName=e}}class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Ft("string",di._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,Ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ds(e.vectorValues);throw new ge(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ds._jsonSchemaVersion="firestore/vectorValue/1.0",Ds._jsonSchema={type:Ft("string",Ds._jsonSchemaVersion),vectorValues:Ft("object")};const o8=/^__.*__$/;class l8{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}function oN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:t})}}class Dx{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Dx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return kf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oN(this.dataSource)&&o8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class c8{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||nm(e)}createContext(e,n,i,a=!1){return new Dx({dataSource:e,methodName:n,targetDoc:i,path:un.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mx(t){const e=t._freezeSettings(),n=nm(t._databaseId);return new c8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lN(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);dN("Data must be an object, but it was:",c,i);const h=cN(i,c);let m,g;if(l.merge)m=new Cs(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const x=[];for(const v of l.mergeFields){const _=Uu(e,v,n);if(!c.contains(_))throw new ge(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);f8(x,_)||x.push(_)}m=new Cs(x),g=c.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,g=c.fieldTransforms;return new l8(new os(h),m,g)}class Vx extends jx{_toFieldTransform(e){return new WO(e.path,new bu)}isEqual(e){return e instanceof Vx}}function u8(t,e,n,i=!1){return Px(n,t.createContext(i?4:3,e))}function Px(t,e){if(uN(t=xn(t)))return dN("Unsupported field value:",e,t),cN(t,e);if(t instanceof jx)return(function(i,a){if(!oN(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const h of i){let m=Px(h,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=xn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return YO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=mt.fromDate(i);return{timestampValue:Tf(a.serializer,l)}}if(i instanceof mt){const l=new mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Tf(a.serializer,l)}}if(i instanceof di)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ls)return{bytesValue:Sk(a.serializer,i._byteString)};if(i instanceof Ht){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yx(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ds)return(function(c,h){const m=c instanceof Ds?c.toArray():c;return{mapValue:{fields:{[ZA]:{stringValue:ek},[vf]:{arrayValue:{values:m.map((x=>{if(typeof x!="number")throw h.createError("VectorValues must only contain numeric values.");return mx(h.serializer,x)}))}}}}}})(i,a);if(jk(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Kf(i)}`)})(t,e)}function cN(t,e){const n={};return KA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,((i,a)=>{const l=Px(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function uN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof di||t instanceof ls||t instanceof Ht||t instanceof jx||t instanceof Ds||jk(t))}function dN(t,e,n){if(!uN(n)||!GA(n)){const i=Kf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Uu(t,e,n){if((e=xn(e))instanceof aN)return e._internalPath;if(typeof e=="string")return h8(t,e);throw kf("Field path arguments must be of type string or ",t,!1,void 0,n)}const d8=new RegExp("[~\\*/\\[\\]]");function h8(t,e,n){if(e.search(d8)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new aN(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ge(oe.INVALID_ARGUMENT,h+t+m)}function f8(t,e){return t.some((n=>n.isEqual(e)))}class m8{convertValue(e,n="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return to(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[vf].arrayValue?.values?.map((i=>Nt(i.doubleValue)));return new Ds(n)}convertGeoPoint(e){return new di(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Xf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);tt(Ik(i),9688,{name:e});const a=new yu(i.get(1),i.get(3)),l=new Ne(i.popFirst(5));return a.isEqual(n)||Wi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Ox extends m8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function p8(){return new Vx("serverTimestamp")}const xE="@firebase/firestore",vE="4.11.0";function bE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class hN{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Uu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g8 extends hN{data(){return super.data()}}function fN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lx{}class Ux extends Lx{}function zu(t,e,...n){let i=[];e instanceof Lx&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((m=>m instanceof zx)).length,h=l.filter((m=>m instanceof am)).length;if(c>1||c>0&&h>0)throw new ge(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class am extends Ux{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new am(e,n,i)}_apply(e){const n=this._parse(e);return mN(e._query,n),new er(e.firestore,e.converter,B0(e._query,n))}_parse(e){const n=Mx(e.firestore);return(function(l,c,h,m,g,x,v){let _;if(g.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){wE(v,x);const j=[];for(const D of v)j.push(_E(m,l,D));_={arrayValue:{values:j}}}else _=_E(m,l,v)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||wE(v,x),_=u8(h,c,v,x==="in"||x==="not-in");return Bt.create(g,x,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function y8(t,e,n){const i=e,a=Uu("where",t);return am._create(a,i,n)}class zx extends Lx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zx(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const m of h)mN(c,m),c=B0(c,m)})(e._query,n),new er(e.firestore,e.converter,B0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bx extends Ux{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bx(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(l,c)})(e._query,this._field,this._direction);return new er(e.firestore,e.converter,zO(e._query,n))}}function om(t,e="asc"){const n=e,i=Uu("orderBy",t);return Bx._create(i,n)}class Fx extends Ux{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Fx(e,n,i)}_apply(e){return new er(e.firestore,e.converter,_f(e._query,this._limit,this._limitType))}}function lm(t){return dO("limit",t),Fx._create("limit",t,"F")}function _E(t,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lk(e)&&n.indexOf("/")!==-1)throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!Ne.isDocumentKey(i))throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return VT(t,new Ne(i))}if(n instanceof Ht)return VT(t,n._key);throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(n)}.`)}function wE(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mN(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function pN(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Yc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends hN{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Uu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ga._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:Ft("string",Ga._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Jh extends Ga{data(e={}){return super.data(e)}}class $a{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Yc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Jh(this._firestore,this._userDataWriter,i.key,i,new Yc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const m=new Jh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Yc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new Jh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Yc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,x=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),x=c.indexOf(h.doc.key)),{type:x8(h.type),doc:m,oldIndex:g,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ox.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Ft("string",$a._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};function gN(t){t=Gi(t,er);const e=Gi(t.firestore,bl),n=Ix(e),i=new Ox(e);return fN(t._query),e8(n,t._query).then((a=>new $a(e,i,t,a)))}function v8(t,e,n){t=Gi(t,Ht);const i=Gi(t.firestore,bl),a=pN(t.converter,e),l=Mx(i);return yN(i,[lN(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ci.none())])}function Z0(t,e){const n=Gi(t.firestore,bl),i=J0(t),a=pN(t.converter,e),l=Mx(t.firestore);return yN(n,[lN(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,ci.exists(!1))]).then((()=>i))}function cm(t,...e){t=xn(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||bE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bE(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let l,c,h;if(t instanceof Ht)c=Gi(t.firestore,bl),h=fx(t._key.path),l={next:g=>{e[i]&&e[i](b8(c,t,g))},error:e[i+1],complete:e[i+2]};else{const g=Gi(t,er);c=Gi(g.firestore,bl),h=g._query;const x=new Ox(c);l={next:v=>{e[i]&&e[i](new $a(c,x,g,v))},error:e[i+1],complete:e[i+2]},fN(t._query)}const m=Ix(c);return Z9(m,h,a,l)}function yN(t,e){const n=Ix(t);return t8(n,e)}function b8(t,e,n){const i=n.docs.get(e._key),a=new Ox(t);return new Ga(t,a,e._key,i,new Yc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){ZP(eo),Ya(new Wr("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new bl(new nO(i.getProvider("auth-internal")),new rO(c,i.getProvider("app-check-internal")),TO(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ai(xE,vE,e),ai(xE,vE,"esm2020")})();const xN="firebasestorage.googleapis.com",_8="storageBucket",w8=120*1e3,T8=600*1e3;class xi extends yi{constructor(e,n,i=0){super(Yg(e),`Firebase Storage: ${n} (${Yg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gi||(gi={}));function Yg(t){return"storage/"+t}function E8(){const t="An unknown error occurred, please check the error payload for server response.";return new xi(gi.UNKNOWN,t)}function S8(){return new xi(gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function A8(){return new xi(gi.CANCELED,"User canceled the upload/download.")}function k8(t){return new xi(gi.INVALID_URL,"Invalid URL '"+t+"'.")}function N8(t){return new xi(gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function TE(t){return new xi(gi.INVALID_ARGUMENT,t)}function vN(){return new xi(gi.APP_DELETED,"The Firebase app was deleted.")}function C8(t){return new xi(gi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Rs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Rs.makeFromUrl(e,n)}catch{return new Rs(e,"")}if(i.path==="")return i;throw N8(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(J){J.path_=decodeURIComponent(J.path)}const x="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${x}/b/${a}/o${_}`,"i"),j={bucket:1,path:3},D=n===xN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",V=new RegExp(`^https?://${D}/${a}/${I}`,"i"),$=[{regex:h,indices:m,postModify:l},{regex:E,indices:j,postModify:g},{regex:V,indices:{bucket:1,path:2},postModify:g}];for(let J=0;J<$.length;J++){const se=$[J],de=se.regex.exec(e);if(de){const R=de[se.indices.bucket];let S=de[se.indices.path];S||(S=""),i=new Rs(R,S),se.postModify(i);break}}if(i==null)throw k8(e);return i}}class R8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function I8(t,e,n){let i=1,a=null,l=null,c=!1,h=0;function m(){return h===2}let g=!1;function x(...I){g||(g=!0,e.apply(null,I))}function v(I){a=setTimeout(()=>{a=null,t(E,m())},I)}function _(){l&&clearTimeout(l)}function E(I,...V){if(g){_();return}if(I){_(),x.call(null,I,...V);return}if(m()||c){_(),x.call(null,I,...V);return}i<64&&(i*=2);let $;h===1?(h=2,$=0):$=(i+Math.random())*1e3,v($)}let j=!1;function D(I){j||(j=!0,_(),!g&&(a!==null?(I||(h=2),clearTimeout(a),v(0)):I||(h=1)))}return v(0),l=setTimeout(()=>{c=!0,D(!0)},n),D}function j8(t){t(!1)}function D8(t){return t!==void 0}function EE(t,e,n,i){if(i<e)throw TE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw TE(`Invalid value for '${t}'. Expected ${n} or less.`)}function M8(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Nf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nf||(Nf={}));function V8(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class P8{constructor(e,n,i,a,l,c,h,m,g,x,v,_=!0,E=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=x,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,D)=>{this.resolve_=j,this.reject_=D,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Ch(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const m=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Nf.NO_ERROR,m=l.getStatus();if(!h||V8(m,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===Nf.ABORT;i(!1,new Ch(!1,null,x));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new Ch(g,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());D8(m)?l(m):l()}catch(m){c(m)}else if(h!==null){const m=E8();m.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,m)):c(m)}else if(a.canceled){const m=this.appDelete_?vN():A8();c(m)}else{const m=S8();c(m)}};this.canceled_?n(!1,new Ch(!1,null,!0)):this.backoffId_=I8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&j8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ch{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function O8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function L8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function U8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function z8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function B8(t,e,n,i,a,l,c=!0,h=!1){const m=M8(t.urlParams),g=t.url+m,x=Object.assign({},t.headers);return U8(x,e),O8(x,n),L8(x,l),z8(x,i),new P8(g,t.method,x,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function F8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function H8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Cf{constructor(e,n){this._service=e,n instanceof Rs?this._location=n:this._location=Rs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Cf(e,n)}get root(){const e=new Rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H8(this._location.path)}get storage(){return this._service}get parent(){const e=F8(this._location.path);if(e===null)return null;const n=new Rs(this._location.bucket,e);return new Cf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C8(e)}}function SE(t,e){const n=e?.[_8];return n==null?null:Rs.makeFromBucketSpec(n,t)}function q8(t,e,n,i={}){t.host=`${e}:${n}`;const a=Za(e);a&&(Gy(`https://${t.host}/b`),$y("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:eA(l,t.app.options.projectId))}class G8{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=xN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=w8,this._maxUploadRetryTime=T8,this._requests=new Set,a!=null?this._bucket=Rs.makeFromBucketSpec(a,this._host):this._bucket=SE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rs.makeFromBucketSpec(this._url,e):this._bucket=SE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cf(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new R8(vN());{const c=B8(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const AE="@firebase/storage",kE="0.14.0";const bN="storage";function $8(t=Qy(),e){t=xn(t);const i=Hf(t,bN).getImmediate({identifier:e}),a=W2("storage");return a&&K8(i,...a),i}function K8(t,e,n,i={}){q8(t,e,n,i)}function Y8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new G8(n,i,a,e,eo)}function Q8(){Ya(new Wr(bN,Y8,"PUBLIC").setMultipleInstances(!0)),ai(AE,kE,""),ai(AE,kE,"esm2020")}Q8();const X8={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},Hx=sA(X8),Qg=QP(Hx),W8=new Bi,hi=r8(Hx);$8(Hx);const _N=k.createContext(void 0);function J8({children:t}){const[e,n]=k.useState(null),[i,a]=k.useState(!0);k.useEffect(()=>{const h=OV(Qg,m=>{n(m),a(!1)});return()=>h()},[]);const l=async()=>{try{await iP(Qg,W8)}catch(h){console.error("Error signing in with Google",h)}},c=async()=>{try{await LV(Qg)}catch(h){console.error("Error signing out",h)}};return d.jsx(_N.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:c},children:!i&&t})}function tr(){const t=k.useContext(_N);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const wN=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const Z8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const eU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const NE=t=>{const e=eU(t);return e.charAt(0).toUpperCase()+e.slice(1)};var tU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const sU=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},m)=>k.createElement("svg",{ref:m,...tU,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:wN("lucide",a),...!l&&!nU(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,x])=>k.createElement(g,x)),...Array.isArray(l)?l:[l]]));const xe=(t,e)=>{const n=k.forwardRef(({className:i,...a},l)=>k.createElement(sU,{ref:l,iconNode:e,className:wN(`lucide-${Z8(NE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=NE(t),n};const iU=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],rU=xe("arrow-down-right",iU);const aU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oU=xe("arrow-left",aU);const lU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qx=xe("arrow-right",lU);const cU=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],uU=xe("arrow-up-right",cU);const dU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],TN=xe("award",dU);const hU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],fU=xe("bell-off",hU);const mU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pU=xe("bell",mU);const gU=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],EN=xe("book-marked",gU);const yU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qn=xe("book-open",yU);const xU=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],vU=xe("book",xU);const bU=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],_U=xe("bug",bU);const wU=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Qc=xe("calendar-clock",wU);const TU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ey=xe("calendar",TU);const EU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],SU=xe("chart-column",EU);const AU=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],kU=xe("chart-pie",AU);const NU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],SN=xe("check",NU);const CU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],RU=xe("chevron-down",CU);const IU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gx=xe("chevron-left",IU);const jU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],AN=xe("chevron-right",jU);const DU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$x=xe("circle-alert",DU);const MU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ro=xe("circle-check",MU);const VU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ty=xe("circle-user",VU);const PU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OU=xe("circle",PU);const LU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kN=xe("clock",LU);const UU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zU=xe("copy",UU);const BU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Kx=xe("download",BU);const FU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],HU=xe("ellipsis-vertical",FU);const qU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],GU=xe("flame",qU);const $U=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],KU=xe("funnel",$U);const YU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],QU=xe("globe",YU);const XU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],NN=xe("graduation-cap",XU);const WU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],JU=xe("hash",WU);const ZU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],e7=xe("info",ZU);const t7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],CE=xe("layout-dashboard",t7);const n7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],s7=xe("loader-circle",n7);const i7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rf=xe("log-out",i7);const r7=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Xg=xe("medal",r7);const a7=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],CN=xe("message-circle",a7);const o7=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],l7=xe("monitor",o7);const c7=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],If=xe("moon",c7);const u7=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],d7=xe("pause",u7);const h7=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],RN=xe("pen-tool",h7);const f7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],m7=xe("pen",f7);const p7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Bu=xe("pencil",p7);const g7=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],IN=xe("play",g7);const y7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$i=xe("plus",y7);const x7=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],v7=xe("quote",x7);const b7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_7=xe("refresh-cw",b7);const w7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jN=xe("rotate-ccw",w7);const T7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jf=xe("save",T7);const E7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S7=xe("search",E7);const A7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],k7=xe("send",A7);const N7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RE=xe("settings",N7);const C7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],DN=xe("shield-check",C7);const R7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],IE=xe("shield",R7);const I7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],jE=xe("square-pen",I7);const j7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ny=xe("sun",j7);const D7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],M7=xe("target",D7);const V7=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],DE=xe("timer",V7);const P7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fu=xe("trash-2",P7);const O7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Df=xe("trending-up",O7);const L7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],U7=xe("triangle-alert",L7);const z7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ia=xe("trophy",z7);const B7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],F7=xe("upload",B7);const H7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hl=xe("users",H7);const q7=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],MN=xe("volume-2",q7);const G7=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],VN=xe("volume-x",G7);const $7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vi=xe("x",$7),PN=k.createContext(void 0);function um(){const t=k.useContext(PN);if(!t)throw new Error("useToast must be used within a ToastProvider");return t.toast}function K7({children:t}){const[e,n]=k.useState([]),i=k.useCallback((c,h)=>{const m=Math.random().toString(36).substring(2,9);n(g=>[...g,{id:m,message:c,type:h}]),setTimeout(()=>{n(g=>g.filter(x=>x.id!==m))},3e3)},[]),a=k.useCallback(c=>{n(h=>h.filter(m=>m.id!==c))},[]),l={success:c=>i(c,"success"),error:c=>i(c,"error"),info:c=>i(c,"info"),warning:c=>i(c,"warning")};return d.jsxs(PN.Provider,{value:{toast:l,removeToast:a},children:[t,_j.createPortal(d.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:d.jsx(hs,{children:e.map(c=>d.jsx(Y7,{toast:c,onRemove:a},c.id))})}),document.body)]})}function Y7({toast:t,onRemove:e}){const n={success:d.jsx(ro,{className:"w-5 h-5 text-emerald-500"}),error:d.jsx($x,{className:"w-5 h-5 text-red-500"}),info:d.jsx(e7,{className:"w-5 h-5 text-blue-500"}),warning:d.jsx(U7,{className:"w-5 h-5 text-amber-500"})},i={success:"bg-white dark:bg-slate-800 border-emerald-100 dark:border-emerald-900/30",error:"bg-white dark:bg-slate-800 border-red-100 dark:border-red-900/30",info:"bg-white dark:bg-slate-800 border-blue-100 dark:border-blue-900/30",warning:"bg-white dark:bg-slate-800 border-amber-100 dark:border-amber-900/30"};return d.jsxs(Te.div,{layout:!0,initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.2}},className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border ${i[t.type]} min-w-[300px] max-w-sm backdrop-blur-sm`,children:[d.jsx("div",{className:"shrink-0",children:n[t.type]}),d.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex-1",children:t.message}),d.jsx("button",{onClick:()=>e(t.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 dark:text-slate-500 transition-colors",children:d.jsx(vi,{className:"w-4 h-4"})})]})}const au=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:""},{name:"    "},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "},{name:"-"},{name:"  "},{name:""},{name:""},{name:"  "},{name:"   "},{name:" "}]},{name:"",topics:[{name:""}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"bg-teal-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"bg-violet-500",chapters:[{name:"",topics:[{name:" "},{name:"  "},{name:"   "},{name:"   "},{name:""},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:" "},{name:" "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:" "},{name:" "},{name:""},{name:"   "}]},{name:"   ",topics:[{name:"- "},{name:" "},{name:" "},{name:" "}]},{name:" ",topics:[{name:" "},{name:" "},{name:"    "},{name:""}]},{name:" ",topics:[{name:""},{name:"   "},{name:"   "},{name:" "}]},{name:" ",topics:[{name:" "},{name:""},{name:""},{name:""}]},{name:"  ",topics:[{name:"  "},{name:"- "},{name:" "},{name:"- "},{name:"-"}]},{name:" ",topics:[{name:"   "},{name:" "},{name:""},{name:"   "},{name:"   "}]},{name:"  ",topics:[{name:" "},{name:"- "},{name:""},{name:" "},{name:""}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:"  ",topics:[{name:"  "},{name:"  "},{name:"   "},{name:" "},{name:" "}]},{name:" ",topics:[{name:"  (  )"},{name:" "},{name:",    "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:" "},{name:""}]},{name:"  ",topics:[{name:"  (s, p, d, f )"},{name:"  ( ,  )"},{name:" "},{name:" "},{name:" (Hybridization)"},{name:"VSEPR    "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"- "},{name:"   Kc, Kp"},{name:"- "},{name:"pH   "},{name:"    "}]},{name:" ",topics:[{name:"   "},{name:"  (, )"},{name:"  "},{name:"   "}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:" ",topics:[{name:"  (, )"},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"    "},{name:"    (BOD, COD)"}]},{name:" ",topics:[{name:"     "},{name:""},{name:" (IUPAC)"},{name:" (, , )"},{name:"   "},{name:" "},{name:"  "},{name:"  "},{name:"    "},{name:""},{name:"  "}]},{name:" ",topics:[{name:"    "},{name:"  (, )"},{name:"- "},{name:"- "},{name:""},{name:"- "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"  "},{name:"    "},{name:"   "},{name:"pH "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:"   "},{name:"   "},{name:"   "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"  ",topics:[{name:" "},{name:" ,   "},{name:"   "},{name:" "},{name:" "}]},{name:"",topics:[{name:" "},{name:"   "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:"   "},{name:"  "},{name:"   "}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "}]},{name:"  ",topics:[{name:"    "},{name:""},{name:""},{name:"   "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:""}]},{name:"   ",topics:[{name:"  -"},{name:"-   "},{name:" "},{name:" "}]},{name:"",topics:[{name:"  "},{name:""},{name:"  "},{name:" "},{name:"  "}]},{name:"",topics:[{name:" "},{name:" "},{name:" "},{name:" "},{name:" "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"   ",topics:[{name:"  "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"   ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"  "},{name:""},{name:"  "}]},{name:"",topics:[{name:" (Parabola)"},{name:" (Ellipse)"},{name:" (Hyperbola)"},{name:" "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:"  "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:"    "}]},{name:"",topics:[{name:" "},{name:""},{name:" "},{name:" "}]},{name:"   ",topics:[{name:", , "},{name:"   "},{name:" "},{name:"   "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:"    "},{name:"  "},{name:"  "},{name:""},{name:""},{name:"DNA  RNA  "},{name:"DNA "},{name:"  "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:""},{name:"   "},{name:" "}]},{name:"  ",topics:[{name:" (Riccia)"},{name:" (Pteris)"}]},{name:"  ",topics:[{name:" (Cycas)"},{name:" (Poaceae) "},{name:" (Malvaceae) "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "},{name:"   /"}]},{name:" ",topics:[{name:"  "},{name:""},{name:" (   )"},{name:"C3  C4 "},{name:" (  )"},{name:"   "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:"  "},{name:" DNA "},{name:" "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:" "},{name:"-  (Major Phyla)"},{name:"   "}]},{name:" ",topics:[{name:" (, , )"},{name:" (, ,  )"},{name:"  (,  , )"}]},{name:"  ",topics:[{name:"   "},{name:"   (, , )"},{name:"   "},{name:""}]},{name:"  ",topics:[{name:"   "},{name:" "},{name:"   "},{name:" "},{name:"  "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:"  "},{name:"   "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:" "},{name:""}]}]},{name:"   ",icon:"Cpu",color:"bg-indigo-500",chapters:[{name:"  -    ",topics:[{name:" "},{name:" "},{name:""},{name:""},{name:" "},{name:""},{name:""},{name:" "},{name:""}]},{name:"  -  ",topics:[{name:"    "},{name:""},{name:"  ( )"},{name:"  (Bluetooth, WiFi, WiMax)"},{name:" "},{name:"   "},{name:" "}]},{name:"  -     ",topics:[{name:"  "},{name:"  "},{name:" (BCD, ASCII)"},{name:" "},{name:"  (  )"},{name:"  "},{name:" (  )"},{name:"  "}]},{name:"  -   ",topics:[{name:" "},{name:"HTML  "},{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"  -   (C)",topics:[{name:"  "},{name:"  "},{name:"   "},{name:"  "},{name:"  (if-else)"},{name:" (for, while)"},{name:""},{name:""}]}]}]}],Wg=[{level:1,minXP:0,title:"Novice"},{level:2,minXP:500,title:"Apprentice"},{level:3,minXP:1200,title:"Scholar"},{level:4,minXP:2500,title:"Sage"},{level:5,minXP:5e3,title:"Master"},{level:6,minXP:1e4,title:"Grandmaster"},{level:7,minXP:2e4,title:"Legend"}],sy=t=>{const e=[...Wg].reverse().find(i=>t>=i.minXP)||Wg[0],n=Wg.find(i=>i.level===e.level+1);return{currentLevel:e.level,currentTitle:e.title,nextLevelXP:n?n.minXP:null,progress:n?(t-e.minXP)/(n.minXP-e.minXP)*100:100}},ME={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0,xp:0,level:1,role:"student",scheduledSessions:[]},Jg="study-tracker-data",Q7=()=>{const t=au[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},ON=k.createContext(void 0);function X7({children:t}){const{user:e}=tr(),n=um(),[i,a]=k.useState(()=>{try{const K=localStorage.getItem(Jg);if(K){const O=JSON.parse(K);if(O.userProfile)return O.userProfile}}catch(K){console.error("Failed to load profile:",K)}return ME}),[l,c]=k.useState(()=>{try{const K=localStorage.getItem(Jg);if(K){const O=JSON.parse(K);if(O.subjects&&O.subjects.length>0)return O.subjects.map(H=>({...H,chapters:(H.chapters||[]).map(G=>({...G,topics:G.topics||[]}))}))}}catch(K){console.error("Failed to load subjects:",K)}return Q7()}),h=k.useCallback(async(K,O)=>{if(e)try{await v8(J0(hi,"users",e.uid),{userProfile:K,subjects:O})}catch(H){console.error("Cloud save failed:",H)}else localStorage.setItem(Jg,JSON.stringify({userProfile:K,subjects:O}))},[e]),m=k.useRef(!0);k.useEffect(()=>{if(m.current){m.current=!1;return}const K=l.reduce((G,ce)=>G+ce.chapters.length,0);let O=0;l.forEach(G=>{G.chapters.forEach(ce=>{ce.topics?.length>0?ce.topics.every(fe=>fe.isCompleted)&&O++:ce.isCompleted&&O++})});const H=K===0?0:Math.round(O/K*100);i.syllabusCompletionPercentage!==H&&a(G=>({...G,syllabusCompletionPercentage:H})),h({...i,syllabusCompletionPercentage:H},l)},[l,i,h]),k.useEffect(()=>{if(!e)return;const K=cm(J0(hi,"users",e.uid),O=>{if(O.exists()){const H=O.data();H.userProfile&&a(H.userProfile),H.subjects&&c(H.subjects)}});return()=>K()},[e]),k.useEffect(()=>{const K=au[0];if(!K)return;let O=!1;const H=[...l];K.subjects.forEach(G=>{H.some(fe=>fe.name===G.name)||(H.push({id:crypto.randomUUID(),name:G.name,color:G.color,icon:G.icon,chapters:G.chapters.map(fe=>({id:crypto.randomUUID(),name:fe.name,isCompleted:!1,completedAt:null,topics:fe.topics.map(P=>({id:crypto.randomUUID(),name:P.name,isCompleted:!1,completedAt:null}))}))}),O=!0)}),O&&c(H)},[l]);const g=k.useCallback(K=>{a(O=>({...O,...K}))},[]),x=k.useCallback((K,O)=>{a(H=>{const G=H.xp+K,{currentLevel:ce}=sy(H.xp),{currentLevel:fe,currentTitle:P}=sy(G);return fe>ce&&n.success(` Level Up! You are now a ${P}!`),{...H,xp:G,level:fe}})},[n]),v=K=>{c(O=>[...O,{...K,id:crypto.randomUUID(),chapters:[]}])},_=(K,O)=>{c(H=>H.map(G=>G.id===K?{...G,...O}:G))},E=K=>{c(O=>O.filter(H=>H.id!==K))},j=(K,O)=>{c(H=>H.map(G=>G.id===K?{...G,chapters:[...G.chapters,{id:crypto.randomUUID(),name:O,isCompleted:!1,topics:[]}]}:G))},D=(K,O,H)=>{c(G=>G.map(ce=>ce.id===K?{...ce,chapters:ce.chapters.map(fe=>fe.id===O?{...fe,name:H}:fe)}:ce))},I=(K,O)=>{c(H=>H.map(G=>G.id===K?{...G,chapters:G.chapters.map(ce=>ce.id===O?{...ce,isCompleted:!ce.isCompleted,completedAt:ce.isCompleted?null:new Date().toISOString()}:ce)}:G))},V=(K,O)=>{c(H=>H.map(G=>G.id===K?{...G,chapters:G.chapters.filter(ce=>ce.id!==O)}:G))},B=(K,O,H)=>{c(G=>G.map(ce=>ce.id===K?{...ce,chapters:ce.chapters.map(fe=>fe.id===O?{...fe,topics:[...fe.topics,{id:crypto.randomUUID(),name:H,isCompleted:!1,completedAt:null}]}:fe)}:ce))},$=(K,O,H,G)=>{c(ce=>ce.map(fe=>fe.id===K?{...fe,chapters:fe.chapters.map(P=>P.id===O?{...P,topics:P.topics.map(ne=>ne.id===H?{...ne,name:G}:ne)}:P)}:fe))},J=(K,O,H)=>{let G=0;c(ce=>ce.map(fe=>fe.id===K?{...fe,chapters:fe.chapters.map(P=>{if(P.id===O){const ne=P.topics.map(he=>he.id===H?(he.isCompleted||(G=50),{...he,isCompleted:!he.isCompleted,completedAt:he.isCompleted?null:new Date().toISOString()}):he),ue=ne.length>0&&ne.every(he=>he.isCompleted);return{...P,topics:ne,isCompleted:ue,completedAt:ue?new Date().toISOString():null}}return P})}:fe)),G>0&&(x(G,"Topic Completed"),n.success("+50 XP: Topic Completed!"))},se=(K,O,H)=>{c(G=>G.map(ce=>ce.id===K?{...ce,chapters:ce.chapters.map(fe=>fe.id===O?{...fe,topics:fe.topics.filter(P=>P.id!==H)}:fe)}:ce))},de=()=>{const K={userProfile:i,subjects:l,timestamp:new Date().toISOString()},O=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),H=URL.createObjectURL(O),G=document.createElement("a");G.href=H,G.download="study-tracker-backup.json",G.click(),URL.revokeObjectURL(H)},R=K=>{try{const O=JSON.parse(K);if(O.userProfile&&Array.isArray(O.subjects))return a(O.userProfile),c(O.subjects),!0}catch(O){console.error("Import failed:",O)}return!1},S=K=>{const O=K.map(H=>({id:crypto.randomUUID(),name:H.name,color:H.color,icon:H.icon,chapters:H.chapters.map(G=>({id:crypto.randomUUID(),name:G.name,isCompleted:!1,completedAt:null,topics:G.topics.map(ce=>({id:crypto.randomUUID(),name:ce.name,isCompleted:!1,completedAt:null}))}))}));c(H=>[...H,...O])},C=()=>{window.confirm("Reset all progress?")&&(a(ME),c([]))},z=async(K,O,H)=>{const G=new Date,ce=G.toISOString().split("T")[0];if(a(P=>{const ne=P.totalStudyTime+K;let ue=P.currentStreak||0,he=P.todayStudyTime||0;if(P.lastStudyDate!==ce){const Se=new Date;Se.setDate(Se.getDate()-1),P.lastStudyDate===Se.toISOString().split("T")[0]?ue+=1:ue=1,he=K}else he+=K;return{...P,totalStudyTime:ne,todayStudyTime:he,currentStreak:ue,lastStudyDate:ce,weeklyStudyTime:(P.weeklyStudyTime||0)+K,monthlyStudyTime:(P.monthlyStudyTime||0)+K}}),e)try{await Z0(Yr(hi,"study_sessions"),{userId:e.uid,userName:e.displayName||i.name,durationInSeconds:K,subjectId:O||null,sessionGoal:H||null,createdAt:G.toISOString()})}catch(P){console.error("Session log failed:",P)}const fe=Math.floor(K/300)*10;fe>0&&(x(fe,"Study Session"),n.success(`+${fe} XP earned!`))},U=K=>{const O={...K,id:crypto.randomUUID(),isCompleted:!1};g({scheduledSessions:[...i.scheduledSessions||[],O]}),n.success("Study session scheduled!")},q=K=>{const O=(i.scheduledSessions||[]).map(H=>H.id===K?{...H,isCompleted:!H.isCompleted}:H);g({scheduledSessions:O})},M=K=>{const O=(i.scheduledSessions||[]).filter(H=>H.id!==K);g({scheduledSessions:O})};k.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const K=setInterval(()=>{const O=new Date;a(H=>{const G=(H.scheduledSessions||[]).map(ce=>{if(ce.isCompleted||ce.reminderSent||!ce.time)return ce;const P=(new Date(`${ce.date}T${ce.time}`).getTime()-O.getTime())/6e4;if(P<=10&&P>-5){if(Notification.permission==="granted"){const ne=l.find(ue=>ue.id===ce.subjectId);new Notification(`Study Session: ${ne?.name||"Upcoming"}`,{body:`Starting in ${Math.round(Math.max(0,P))} minutes!`,icon:"/pwa-192x192.png"})}return{...ce,reminderSent:!0}}return ce});return{...H,scheduledSessions:G}})},6e4);return()=>clearInterval(K)},[l]);const ze=i.role==="admin";return d.jsx(ON.Provider,{value:{userProfile:i,subjects:l,isAdmin:ze,updateProfile:g,addSubject:v,editSubject:_,deleteSubject:E,addChapter:j,editChapter:D,toggleChapter:I,deleteChapter:V,addTopic:B,editTopic:$,toggleTopic:J,deleteTopic:se,resetData:C,exportData:de,importData:R,importSyllabusData:S,saveStudySession:z,addScheduledSession:U,toggleScheduledSession:q,deleteScheduledSession:M},children:t})}function Ct(){const t=k.useContext(ON);if(!t)throw new Error("useStudy must be used within StudyProvider");return t}const W7=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function Yx({subject:t,onClose:e}){const{editSubject:n}=Ct(),[i,a]=k.useState(t.name),[l,c]=k.useState(t.color),[h,m]=k.useState(t.examDate||""),g=x=>{x.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l,examDate:h||void 0}),e())};return d.jsx(hs,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),d.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(vi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:i,onChange:x=>a(x.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:W7.map(x=>d.jsx("button",{type:"button",onClick:()=>c(x),className:`w-full h-8 rounded-lg ${x} ${l===x?"ring-2 ring-offset-2 ring-indigo-500":""}`},x))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Exam Date (Optional)"}),d.jsx("input",{type:"date",value:h,onChange:x=>m(x.target.value),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:d.jsx(qn,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const J7=Te(Yt);function Z7({subject:t,index:e=0}){const[n,i]=k.useState(!1),a=t.chapters.length,l=t.chapters.filter(x=>x.isCompleted).length;let c=0;t.chapters.forEach(x=>{x.topics&&x.topics.length>0?c+=x.topics.filter(v=>v.isCompleted).length/x.topics.length*100:c+=x.isCompleted?100:0});const h=a===0?0:Math.round(c/a),m=t.examDate?Math.ceil((new Date(t.examDate).getTime()-new Date().getTime())/(1e3*60*60*24)):null,g=m!==null&&m<=7&&m>=0;return d.jsxs(d.Fragment,{children:[d.jsxs(J7,{to:`/subject/${t.id}`,whileHover:{y:-8,transition:{duration:.3,ease:[.25,1,.5,1]}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-4 md:p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-2xl hover:shadow-blue-500/15 dark:hover:shadow-blue-900/20 transition-all overflow-hidden h-full flex flex-col",children:[d.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-gradient-to-br ${t.color.replace("bg-","from-").replace("-500","-500/10")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-bl-full pointer-events-none`}),d.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.preventDefault(),x.stopPropagation(),i(!0)},className:"absolute top-2 right-2 md:top-4 md:right-4 p-1.5 md:p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-xl transition-colors opacity-100 md:opacity-0 md:group-hover:opacity-100 z-10",title:"Edit Subject",children:d.jsx(Bu,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),d.jsxs("div",{className:"flex items-start justify-between mb-4 md:mb-6 relative z-10",children:[d.jsx(Te.div,{whileHover:{rotate:15,scale:1.1},className:`w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl ${t.color} flex items-center justify-center text-white shadow-lg shadow-blue-500/20`,children:d.jsx(qn,{className:"w-5 h-5 md:w-7 md:h-7"})}),d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 backdrop-blur-sm px-2 py-1 md:px-3 md:py-1.5 rounded-lg md:rounded-xl text-[10px] md:text-xs font-bold text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-600",children:[h,"%"]})]}),t.examDate&&m!==null&&m>=0&&d.jsxs("div",{className:`absolute top-16 right-4 text-xs font-bold px-2 py-1 rounded-lg flex items-center gap-1 ${g?"bg-red-100 text-red-600 animate-pulse":"bg-indigo-50 text-indigo-600"}`,children:[d.jsx(Qc,{className:"w-3 h-3"}),d.jsxs("span",{children:[m," days left"]})]}),d.jsx("h3",{className:"text-sm md:text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 text-xs md:text-sm text-slate-500 dark:text-slate-400 mb-4 md:mb-6 mt-auto",children:[d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-slate-50 dark:bg-slate-700/50 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[d.jsx(qn,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),d.jsx("span",{children:a})]}),l>0&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[d.jsx(ro,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),d.jsx("span",{children:l})]})]}),d.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[d.jsxs("div",{className:"hidden md:flex justify-between text-xs text-slate-400 dark:text-slate-500 font-medium",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[h,"%"]})]}),d.jsx("div",{className:"h-1.5 md:h-2.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${h}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color} rounded-full`})})]}),d.jsxs("div",{className:"mt-4 md:mt-5 pt-3 md:pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-xs md:text-sm",children:[d.jsx("span",{className:"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"Details"}),d.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:d.jsx(qx,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]}),n&&d.jsx(Yx,{subject:t,onClose:()=>i(!1)})]})}const VE=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function ez({onClose:t}){const{addSubject:e}=Ct(),[n,i]=k.useState(""),[a,l]=k.useState(VE[0]),c=h=>{h.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[d.jsx(vU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),d.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(vi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),d.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:h=>i(h.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:VE.map(h=>d.jsx("button",{type:"button",onClick:()=>l(h),className:`w-8 h-8 rounded-full ${h} transition-all ${a===h?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},h))})]}),d.jsx("div",{className:"pt-2",children:d.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[d.jsx(jf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const tz={start_strong:{icon:ro,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:GU,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:TN,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:If,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function nz({type:t,isLocked:e=!1,dateEarned:n}){const i=tz[t],a=i.icon,[l,c]=k.useState(!1);return d.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[d.jsx(Te.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:d.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),d.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&d.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[d.jsx("p",{className:"font-semibold",children:i.label}),d.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&d.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function sz(){const{updateProfile:t}=Ct(),[e,n]=k.useState(""),[i,a]=k.useState(""),l=c=>{if(c.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),d.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),d.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[d.jsx(ty,{className:"w-4 h-4"}),"Your Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[d.jsx(NN,{className:"w-4 h-4"}),"Class / Grade"]}),d.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),d.jsx("div",{className:"pt-2",children:d.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function iz(){const{userProfile:t,updateProfile:e}=Ct(),[n,i]=k.useState(!1),[a,l]=k.useState(t.dailyGoal?t.dailyGoal/3600:2),c=t.dailyGoal||7200,h=t.todayStudyTime||0,m=Math.min(100,Math.round(h/c*100)),g=()=>{e({dailyGoal:a*3600}),i(!1)};return d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[d.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[d.jsx(M7,{className:"w-4 h-4"}),"Daily Goal"]}),n?d.jsxs("button",{onClick:g,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",d.jsx(SN,{className:"w-3 h-3"})]}):d.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",d.jsx(m7,{className:"w-3 h-3"})]})]}),d.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[d.jsxs("div",{className:"space-y-1",children:[n?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:x=>l(parseFloat(x.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),d.jsx("span",{className:"text-slate-500",children:"hrs"})]}):d.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(h/3600),d.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(h%3600/60),d.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),d.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(c/3600),"h goal"]})]}),d.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[d.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[d.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),d.jsx(Te.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*m/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${m>=100?"text-green-500":"text-blue-500"}`})]}),d.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[m,"%"]})]})]}),m>=100&&d.jsxs(Te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[d.jsx(ia,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),d.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function rz(){const{subjects:t}=Ct();let e=null,n=null,i=null;for(const a of t)if(a.chapters.some(c=>!c.isCompleted&&(!c.topics.length||c.topics.some(h=>!h.isCompleted)))){e=a;for(const c of a.chapters)if(!c.isCompleted)if(c.topics.length>0){const h=c.topics.find(m=>!m.isCompleted);if(h){n=c,i=h;break}}else{n=c;break}break}return!e||!n?d.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex flex-col items-center justify-center text-center h-full min-h-[160px]",children:[d.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-3 text-2xl",children:""}),d.jsx("h3",{className:"font-bold text-xl mb-1",children:"All Caught Up!"}),d.jsx("p",{className:"text-emerald-100 text-sm",children:"You've completed everything in your syllabus."}),d.jsx("div",{className:"mt-4 px-4 py-2 bg-white/20 rounded-lg text-sm font-medium backdrop-blur-sm",children:"Time to review or rest!"})]}):d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden h-full flex flex-col justify-between group",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[d.jsx(IN,{className:"w-4 h-4 text-blue-500 fill-current"}),"Continue Learning"]}),d.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full text-white ${e.color}`,children:e.name})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white line-clamp-1 mb-1",children:i?i.name:n.name}),d.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[d.jsx(qn,{className:"w-3.5 h-3.5"}),n.name]})]})]}),d.jsx("div",{className:"relative z-10",children:d.jsxs(Yt,{to:`/subject/${e.id}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-xl font-medium transition-all group-hover:translate-x-1",children:["Resume Study ",d.jsx(qx,{className:"w-4 h-4"})]})}),d.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 ${e.color.replace("text-","bg-")}`})]})}const Rh=[{text:"The expert in anything was once a beginner.",author:"Helen Hayes"},{text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{text:"There is no substitute for hard work.",author:"Thomas Edison"},{text:"The future depends on what you do today.",author:"Mahatma Gandhi"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Quality is not an act, it is a habit.",author:"Aristotle"},{text:"Your limitationit's only your imagination.",author:"Unknown"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dream it. Wish it. Do it.",author:"Unknown"},{text:"Success doesn't just find you. You have to go out and get it.",author:"Unknown"},{text:"The harder you work for something, the greater you'll feel when you achieve it.",author:"Unknown"},{text:"Dream bigger. Do bigger.",author:"Unknown"},{text:"Don't stop when you're tired. Stop when you're done.",author:"Unknown"},{text:"Wake up with determination. Go to bed with satisfaction.",author:"Unknown"},{text:"Do something today that your future self will thank you for.",author:"Unknown"},{text:"Little things make big days.",author:"Unknown"},{text:"It's going to be hard, but hard does not mean impossible.",author:"Unknown"}];function az(){const[t,e]=k.useState(()=>Math.floor(Math.random()*Rh.length)),n=()=>{e(i=>(i+1)%Rh.length)};return d.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:d.jsx(v7,{className:"w-5 h-5 text-white"})}),d.jsx("button",{onClick:n,className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Next Quote",children:d.jsx(_7,{className:"w-4 h-4"})})]}),d.jsx(hs,{mode:"wait",children:d.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[d.jsxs("p",{className:"text-lg md:text-xl font-medium mb-3 leading-relaxed",children:['"',Rh[t].text,'"']}),d.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",Rh[t].author]})]},t)}),d.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}function oz(){const{user:t}=tr(),[e,n]=k.useState([]),[i,a]=k.useState(!0);return k.useEffect(()=>{(async()=>{try{const c=zu(Yr(hi,"users"),om("userProfile.syllabusCompletionPercentage","desc"),lm(10)),h=await gN(c),m=[];h.forEach(g=>{const x=g.data();x.userProfile&&m.push({uid:g.id,name:x.userProfile.name||"Anonymous",percentage:x.userProfile.syllabusCompletionPercentage||0,grade:x.userProfile.grade||"Student"})}),n(m)}catch(c){console.error("Error fetching leaderboard:",c)}finally{a(!1)}})()},[]),i?d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex items-center justify-center min-h-[300px]",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex flex-col",children:[d.jsxs("h3",{className:"text-slate-800 dark:text-white font-bold text-lg mb-4 flex items-center gap-2",children:[d.jsx(ia,{className:"w-5 h-5 text-amber-500"}),"Leaderboard"]}),d.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-slate-500 dark:text-slate-400 py-8 h-full",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mb-3",children:d.jsx(ia,{className:"w-8 h-8 text-slate-300 dark:text-slate-500 opacity-50"})}),d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"No champions yet!"}),d.jsx("p",{className:"text-xs max-w-[150px] mt-1",children:"Complete chapters to climb the ranks."})]}):e.map((l,c)=>{const h=t?.uid===l.uid;let m=null;return c===0?m=d.jsx(Xg,{className:"w-5 h-5 text-yellow-500"}):c===1?m=d.jsx(Xg,{className:"w-5 h-5 text-slate-400"}):c===2?m=d.jsx(Xg,{className:"w-5 h-5 text-amber-700"}):m=d.jsx("span",{className:"text-sm font-bold text-slate-400 w-5 text-center",children:c+1}),d.jsxs(Te.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:c*.1},className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${h?"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-8",children:m}),d.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-300",children:l.name[0].toUpperCase()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("p",{className:`text-sm font-medium truncate ${h?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-200"}`,children:[l.name," ",h&&"(You)"]}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:l.grade})]}),d.jsxs("div",{className:"font-bold text-slate-800 dark:text-white text-sm",children:[l.percentage,"%"]})]},l.uid)})})]})}function LN({className:t="",limit:e}){const{subjects:n,editSubject:i}=Ct(),[a,l]=k.useState(null),[c,h]=k.useState(!1),m=(n||[]).filter(D=>{if(!D.examDate)return!1;const I=new Date(D.examDate);return!isNaN(I.getTime())}).sort((D,I)=>new Date(D.examDate).getTime()-new Date(I.examDate).getTime()),g=(n||[]).filter(D=>!D.examDate),x=e?m.slice(0,e):m,v=D=>{const I=new Date;I.setHours(0,0,0,0);const V=new Date(D);if(isNaN(V.getTime()))return null;V.setHours(0,0,0,0);const B=V.getTime()-I.getTime();return Math.ceil(B/(1e3*60*60*24))},_=D=>{l(D),h(!1)},E=(D,I)=>{I.stopPropagation(),window.confirm("Remove this exam date?")&&i(D,{examDate:void 0})},j=!n||n.length===0;return d.jsxs("div",{className:`space-y-4 ${t}`,children:[m.length===0&&!c?d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-4 border border-dashed border-slate-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-slate-50 dark:bg-slate-900 rounded-full flex items-center justify-center mx-auto mb-2",children:d.jsx(Qc,{className:"w-5 h-5 text-slate-400"})}),d.jsx("h3",{className:"text-slate-800 dark:text-white font-semibold text-sm mb-1",children:"No Exams"}),d.jsx("p",{className:"text-slate-500 text-[10px] leading-tight mb-3",children:j?"Add a subject first to schedule exams.":"Set dates for subjects to track them here."}),!j&&d.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-xs font-bold rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",children:[d.jsx($i,{className:"w-3.5 h-3.5"}),"Schedule Exam"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Qc,{className:"w-5 h-5 text-indigo-500"}),"Upcoming Exams"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[!j&&d.jsx("button",{onClick:()=>h(!0),className:"p-1.5 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Add Exam",children:d.jsx($i,{className:"w-4 h-4"})}),d.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 bg-slate-100 dark:bg-slate-800/50 px-2 py-0.5 rounded-full",children:[m.length," Total"]})]})]}),d.jsx("div",{className:"grid gap-3",children:x.map(D=>{const I=v(D.examDate),V=I!==null&&I<=7&&I>=0,B=I!==null&&I<0,$=isNaN(new Date(D.examDate).getTime())?"Invalid Date":new Date(D.examDate).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"});return d.jsxs(Te.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative bg-white dark:bg-slate-900/50 rounded-xl p-3 border border-slate-100 dark:border-slate-800 hover:border-indigo-200 dark:hover:border-indigo-900/50 transition-all flex items-center gap-3 overflow-hidden",children:[d.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${B?"bg-slate-400":V?"bg-red-500":"bg-indigo-500"}`}),d.jsx("div",{className:`w-10 h-10 rounded-lg ${D.color||"bg-slate-500"} flex items-center justify-center text-white shadow-sm flex-shrink-0`,children:d.jsx(Qc,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm truncate",children:D.name}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>l(D),className:"p-1 text-slate-400 hover:text-indigo-500 dark:hover:text-indigo-400 transition-colors",title:"Edit Date",children:d.jsx(Bu,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:J=>E(D.id,J),className:"p-1 text-slate-400 hover:text-rose-500 dark:hover:text-rose-400 transition-colors",title:"Remove Exam",children:d.jsx(Fu,{className:"w-3.5 h-3.5"})})]})]}),d.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-tighter",children:$})]}),d.jsxs("div",{className:`text-right flex-shrink-0 ${B?"text-slate-400":V?"text-red-500":"text-indigo-500"}`,children:[d.jsx("div",{className:"text-lg font-black leading-none",children:B||I===null?"":I}),d.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest",children:B?"Past":"Days"})]}),V&&!B&&d.jsx("div",{className:"absolute top-0 right-0 p-1",children:d.jsx($x,{className:"w-3 h-3 text-red-500 animate-pulse"})})]},D.id)})})]}),d.jsx(hs,{children:c&&d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/40 backdrop-blur-[2px]",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white dark:bg-slate-800 rounded-3xl w-full max-w-sm shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{className:"p-4 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Schedule Exam"}),d.jsx("button",{onClick:()=>h(!1),className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:d.jsx(vi,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-4 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 px-1",children:"Select a subject to set its exam date."}),d.jsx("div",{className:"grid gap-2",children:g.length>0?g.map(D=>d.jsxs("button",{onClick:()=>_(D),className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all group text-left border border-transparent hover:border-slate-100 dark:hover:border-slate-600",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl ${D.color||"bg-slate-500"} flex items-center justify-center text-white shadow-sm flex-shrink-0`,children:d.jsx(qn,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm truncate",children:D.name}),d.jsxs("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:[D.chapters?.length||0," Chapters"]})]}),d.jsx($i,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-500 transition-colors"})]},D.id)):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"w-12 h-12 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(Qc,{className:"w-6 h-6 text-slate-300"})}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"All subjects have exams!"})]})})]})]})})}),a&&d.jsx(Yx,{subject:a,onClose:()=>l(null)})]})}const PE={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},Zg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function lz(){const{userProfile:t,subjects:e}=Ct(),[n,i]=k.useState(!1),a=t.name==="Student",l=e.reduce((g,x)=>g+x.chapters.length,0),c=e.reduce((g,x)=>g+x.chapters.filter(v=>v.isCompleted).length,0);let h=0;e.forEach(g=>{g.chapters.forEach(x=>{x.topics&&x.topics.length>0?h+=x.topics.filter(v=>v.isCompleted).length/x.topics.length*100:h+=x.isCompleted?100:0})});const m=l===0?0:Math.round(h/l);return d.jsxs(Te.div,{className:"space-y-6 md:space-y-8",variants:PE,initial:"hidden",animate:"show",exit:"exit",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors tracking-tight",children:["Hello, ",d.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-500 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),d.jsx("span",{className:"inline-block animate-wave ml-2",children:""})]}),d.jsxs("p",{className:"text-base text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[d.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-md mr-2",children:t.grade}),"Ready to crush your goals today?"]})]}),d.jsxs(Te.button,{id:"add-subject-btn",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(37, 99, 235, 0.4)"},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3.5 rounded-2xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-blue-500/30 transition-all text-sm md:text-base w-full md:w-auto",children:[d.jsx($i,{className:"w-5 h-5"}),"New Subject"]})]}),"import AdBanner from '../components/AdBanner'; // ... (imports) // ... inside Dashboard component ...",d.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-12 md:gap-6 auto-rows-min",children:[d.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4 md:gap-6 order-1",children:[d.jsx("div",{className:"flex-1",children:d.jsx(rz,{})}),d.jsx("div",{children:d.jsx(iz,{})})]}),d.jsx("div",{className:"md:col-span-full lg:col-span-4 h-full min-h-[400px] order-3 lg:order-2",children:d.jsx(oz,{})}),d.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4 md:gap-6 order-2 lg:order-3",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-5 md:p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:d.jsx(kU,{className:"w-24 h-24 text-blue-500"})}),d.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[d.jsxs("div",{className:"flex-1 pr-4",children:[d.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium mb-3 flex items-center gap-2 text-xs md:text-sm",children:[d.jsx(ia,{className:"w-4 h-4 text-amber-500"})," Syllabus Progress"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-end justify-between mb-1.5",children:[d.jsxs("span",{className:"text-[10px] md:text-xs font-semibold text-slate-500",children:[c," / ",l," Chapters"]}),d.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-blue-600 dark:text-blue-400",children:[Math.round(c/(l||1)*100),"%"]})]}),d.jsx("div",{className:"h-1 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${c/(l||1)*100}%`},className:"h-full bg-blue-500 rounded-full"})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-end justify-between mb-1.5",children:[d.jsx("span",{className:"text-[10px] md:text-xs font-semibold text-slate-500",children:"Total Completion"}),d.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-emerald-600 dark:text-emerald-400",children:[m,"%"]})]}),d.jsx("div",{className:"h-1 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${m}%`},className:"h-full bg-emerald-500 rounded-full"})})]})]})]}),d.jsxs("div",{className:"relative w-16 h-16 md:w-24 md:h-24 flex-shrink-0",children:[d.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[d.jsx("circle",{className:"text-slate-100 dark:text-slate-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50"}),d.jsx(Te.circle,{className:"text-blue-600 dark:text-blue-500",strokeWidth:"8",strokeDasharray:251.2,strokeDashoffset:251.2-251.2*m/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*m/100},transition:{duration:1.5,ease:"easeOut"}})]}),d.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:d.jsxs("span",{className:"text-sm md:text-lg font-bold text-slate-800 dark:text-white",children:[m,"%"]})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 gap-4 md:gap-6 flex-1",children:[d.jsx(LN,{limit:3,className:"h-full"}),d.jsx(az,{})]})]})]}),t.earnedBadges&&t.earnedBadges.length>0&&d.jsxs(Te.div,{variants:Zg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[d.jsx(ia,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),d.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((g,x)=>d.jsx(nz,{type:g.type,dateEarned:g.earnedAt},`${g.type}-${x}`))})]}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",d.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?d.jsxs(Te.div,{variants:PE,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[e.map((g,x)=>d.jsx(Te.div,{variants:Zg,children:d.jsx(Z7,{subject:g,index:x})},g.id)),d.jsxs(Te.button,{variants:Zg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:d.jsx($i,{className:"w-6 h-6"})}),d.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(EN,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),d.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&d.jsx(ez,{onClose:()=>i(!1)}),a&&d.jsx(sz,{})]})}function cz({subjectId:t,onClose:e}){const{addChapter:n}=Ct(),[i,a]=k.useState(""),l=c=>{c.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[d.jsx(EN,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),d.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(vi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),d.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),d.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),d.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[d.jsx($i,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const uz={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function dm({children:t,className:e=""}){return d.jsx(Te.div,{variants:uz,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const UN=k.createContext(void 0);function dz({children:t}){const[e,n]=k.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=k.useRef(null);k.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=g=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const x=i.current,v=x.createOscillator(),_=x.createGain();v.connect(_),_.connect(x.destination);const E=x.currentTime;switch(g){case"pop":v.type="sine",v.frequency.setValueAtTime(800,E),v.frequency.exponentialRampToValueAtTime(1200,E+.1),_.gain.setValueAtTime(.1,E),_.gain.exponentialRampToValueAtTime(.01,E+.1),v.start(E),v.stop(E+.1);break;case"success":c(x,523.25,E,.1,"sine"),c(x,659.25,E+.1,.1,"sine"),c(x,783.99,E+.2,.2,"sine");break;case"complete":v.type="triangle",v.frequency.setValueAtTime(440,E),v.frequency.linearRampToValueAtTime(880,E+.5),_.gain.setValueAtTime(.1,E),_.gain.linearRampToValueAtTime(.3,E+.2),_.gain.linearRampToValueAtTime(0,E+1.5),v.start(E),v.stop(E+1.5);break;case"click":v.type="square",v.frequency.setValueAtTime(200,E),_.gain.setValueAtTime(.05,E),_.gain.exponentialRampToValueAtTime(.01,E+.05),v.start(E),v.stop(E+.05);break;case"error":v.type="sawtooth",v.frequency.setValueAtTime(150,E),v.frequency.linearRampToValueAtTime(100,E+.2),_.gain.setValueAtTime(.1,E),_.gain.linearRampToValueAtTime(0,E+.3),v.start(E),v.stop(E+.3);break}},c=(g,x,v,_,E="sine")=>{const j=g.createOscillator(),D=g.createGain();j.connect(D),D.connect(g.destination),j.type=E,j.frequency.setValueAtTime(x,v),D.gain.setValueAtTime(.1,v),D.gain.exponentialRampToValueAtTime(.01,v+_),j.start(v),j.stop(v+_)},h=g=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(g)},m=()=>{n(g=>!g),e&&a()};return d.jsx(UN.Provider,{value:{isMuted:e,toggleMute:m,playSound:h},children:t})}function Qx(){const t=k.useContext(UN);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function hz({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=Ct(),[c,h]=k.useState(i);k.useEffect(()=>{h(i)},[i]);const m=g=>{g.preventDefault(),c.trim()&&(l(t,e,n,c.trim()),a())};return d.jsx(hs,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),d.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(vi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(RN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:c,onChange:g=>h(g.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function fz({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=Ct(),{playSound:l}=Qx(),[c,h]=k.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsxs(Te.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[d.jsx(Te.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:d.jsx(ro,{className:"w-3 h-3"})}),d.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>h(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:d.jsx(Bu,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:d.jsx(Fu,{className:"w-3.5 h-3.5"})})]})]}),c&&d.jsx(hz,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>h(!1)})]})}function mz({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=Ct(),[l,c]=k.useState(n);k.useEffect(()=>{c(n)},[n]);const h=m=>{m.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return d.jsx(hs,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),d.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(vi,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(RN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function pz({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=Ct(),[c,h]=k.useState(!1),[m,g]=k.useState(!1),x=v=>{v.preventDefault();const _=v.target.elements.namedItem("topicName");_.value.trim()&&(l(t,e.id,_.value.trim()),_.value="",h(!1))};return d.jsxs("div",{className:"group transition-colors",children:[d.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[d.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:d.jsx(Te.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:d.jsx(RU,{className:"w-5 h-5"})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),d.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[d.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(v=>v.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&d.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[d.jsx(ro,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&d.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(v=>v.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),d.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[d.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>{v.stopPropagation(),h(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:d.jsx($i,{className:"w-4 h-4"})}),d.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>{v.stopPropagation(),g(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:d.jsx(Bu,{className:"w-4 h-4"})}),d.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>{v.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:d.jsx(Fu,{className:"w-4 h-4"})})]})]}),d.jsx(hs,{children:n&&d.jsx(Te.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:d.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(v=>d.jsx(fz,{subjectId:t,chapterId:e.id,topic:v},v.id)):d.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&d.jsxs(Te.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:x,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[d.jsx(OU,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),d.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>h(!1),200)}),d.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),m&&d.jsx(mz,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>g(!1)})]})}function gz(){const{id:t}=AI(),e=Pf(),{subjects:n,deleteSubject:i}=Ct(),[a,l]=k.useState(!1),[c,h]=k.useState(!1),[m,g]=k.useState({}),x=n.find(V=>V.id===t);if(!x)return d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:d.jsx(qn,{className:"w-8 h-8 text-slate-300"})}),d.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),d.jsx(Yt,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const v=()=>{confirm(`Are you sure you want to delete ${x.name}? ALL progress will be lost.`)&&(i(x.id),e("/"))},_=V=>{g(B=>({...B,[V]:!B[V]}))},E=x.chapters.length,j=x.chapters.filter(V=>V.isCompleted).length;let D=0;x.chapters.forEach(V=>{V.topics&&V.topics.length>0?D+=V.topics.filter(B=>B.isCompleted).length/V.topics.length*100:D+=V.isCompleted?100:0});const I=E===0?0:Math.round(D/E);return d.jsxs(dm,{className:"max-w-3xl mx-auto pb-12",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs(Yt,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[d.jsx(oU,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${x.color}`,children:[d.jsx(qn,{className:"w-3 h-3"}),x.name]}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:x.name}),d.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[j," of ",E," chapters completed"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>h(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:d.jsx(Bu,{className:"w-5 h-5"})}),d.jsx("button",{onClick:v,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:d.jsx(Fu,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[I,"%"]}),d.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),d.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${I}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${x.color}`})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[d.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),d.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[d.jsx($i,{className:"w-4 h-4"}),"Add Chapter"]})]}),d.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:x.chapters.length>0?x.chapters.map(V=>d.jsx(pz,{subjectId:x.id,chapter:V,isExpanded:!!m[V.id],onToggle:()=>_(V.id)},V.id)):d.jsxs("div",{className:"p-12 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:d.jsx(qn,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),d.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&d.jsx(cz,{subjectId:x.id,onClose:()=>l(!1)}),c&&d.jsx(Yx,{subject:x,onClose:()=>h(!1)})]})}const zN=k.createContext(void 0);function yz({children:t}){const[e,n]=k.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");k.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return d.jsx(zN.Provider,{value:{theme:e,toggleTheme:i},children:t})}function BN(){const t=k.useContext(zN);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function xz({onClose:t}){const[e,n]=k.useState(au[0].id),[i,a]=k.useState(new Set),l=au.find(m=>m.id===e),c=m=>{const g=new Set(i);g.has(m)?g.delete(m):g.add(m),a(g)},h=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(g=>g.name));a(m)}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(qn,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),d.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(vi,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[d.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[d.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),d.jsx("div",{className:"space-y-2",children:au.map(m=>d.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),d.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),d.jsx("button",{onClick:h,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),d.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>d.jsxs("div",{onClick:()=>c(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[d.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(m.name)&&d.jsx(SN,{className:"w-3.5 h-3.5 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:`font-semibold ${i.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),d.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(g=>g.name).join(", "),"..."]})]})]},m.name))})]})]}),d.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[d.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),d.jsx(vz,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function vz({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=Ct(),l=()=>{if(t===0||!e)return;const c=e.subjects.filter(h=>n.has(h.name));a(c),i()};return d.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[d.jsx(Kx,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function bz(){const{user:t,logout:e}=tr(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:c,isAdmin:h}=Ct(),{isMuted:m,toggleMute:g}=Qx(),{theme:x,toggleTheme:v}=BN(),_=k.useRef(null),E=k.useRef(null),[j,D]=k.useState(!1),[I,V]=k.useState(!1),[B,$]=k.useState("Notification"in window&&Notification.permission==="granted"),J=um(),se=()=>{const C=_.current?.value.trim()||"",z=E.current?.value.trim()||"";if(!C){J.error("Please enter your name");return}i({name:C,grade:z}),V(!1),J.success("Profile updated successfully!")},de=()=>{const C=document.createElement("input");C.type="file",C.accept=".json",C.onchange=z=>{const U=z.target.files?.[0];if(U){const q=new FileReader;q.onload=M=>{const ze=M.target?.result;c(ze)&&alert("Data imported successfully!")},q.readAsText(U)}},C.click()},R=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},S=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")$(!B);else if(Notification.permission!=="denied"){const C=await Notification.requestPermission();$(C==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return d.jsxs(dm,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(ty,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),d.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),d.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(ty,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),d.jsx("input",{ref:_,type:"text",defaultValue:n?.name||"",disabled:!I,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${I?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),d.jsx("input",{ref:E,type:"text",defaultValue:n?.grade||"",disabled:!I,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${I?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),d.jsx("div",{className:"pt-2 flex gap-3",children:I?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>V(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),d.jsxs("button",{onClick:se,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[d.jsx(jf,{className:"w-4 h-4"}),"Save Changes"]})]}):d.jsxs("button",{onClick:()=>V(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(jE,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),d.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(l7,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${x==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:x==="dark"?d.jsx(If,{className:"w-5 h-5"}):d.jsx(ny,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),d.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${x==="dark"?"bg-blue-600":"bg-slate-200"}`,children:d.jsx("span",{className:`${x==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:m?d.jsx(VN,{className:"w-5 h-5"}):d.jsx(MN,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),d.jsx("button",{onClick:g,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${m?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:d.jsx("span",{className:`${m?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${B?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:B?d.jsx(pU,{className:"w-5 h-5"}):d.jsx(fU,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),d.jsx("button",{onClick:S,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${B?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:d.jsx("span",{className:`${B?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:d.jsx(QU,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),d.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[d.jsx("option",{children:"English"}),d.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),d.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(jf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>D(!0),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:d.jsx(qn,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),d.jsx("button",{className:"text-slate-400",children:d.jsx(jE,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[d.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[d.jsx(Kx,{className:"w-4 h-4"}),"Export Data"]}),d.jsxs("button",{onClick:de,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[d.jsx(F7,{className:"w-4 h-4"}),"Import Data"]})]}),d.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:d.jsx(Fu,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),d.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),d.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),d.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(IE,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:R,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:d.jsx(jN,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),d.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:d.jsx(_U,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Report issues via our WhatsApp group"})]})]})}),d.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:d.jsx(CN,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),d.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors border-dashed",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/10",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(IE,{className:"w-5 h-5 text-rose-500"}),"Developer Access"]})}),d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"flex items-center justify-between p-4 bg-rose-50/50 dark:bg-rose-900/10 rounded-xl border border-rose-100 dark:border-rose-900/30",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-bold text-sm",children:"Toggle Admin Role"}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Current role: ",d.jsx("span",{className:"font-bold uppercase text-rose-500",children:n.role||"Student"})]})]}),d.jsx("button",{onClick:()=>{const C=n.role==="admin"?"student":"admin";i({role:C}),J.info(`Role updated to ${C}`)},className:`px-4 py-2 rounded-lg font-bold text-xs transition-all ${h?"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200":"bg-rose-500 text-white shadow-lg shadow-rose-500/30 ring-2 ring-rose-500/20"}`,children:h?"Revoke Admin":"Make Me Admin"})]})})]}),d.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:d.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&d.jsxs(Te.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Rf,{className:"w-5 h-5"}),"Sign Out"]}),d.jsx(hs,{children:j&&d.jsx(xz,{onClose:()=>D(!1)})})]})}function Ih({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[d.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),d.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),d.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:d.jsx(n,{className:`w-6 h-6 ${i}`})})]})}function _z(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(i+=c.topics.length,c.topics.forEach(h=>{h.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function wz(t){const e=new Date,i=Array.from({length:7},(l,c)=>{const h=new Date;return h.setDate(e.getDate()-(6-c)),h.toISOString().split("T")[0]}).map(l=>{let c=0;return t.forEach(h=>{h.chapters.forEach(m=>{m.topics&&m.topics.forEach(g=>{g.isCompleted&&g.completedAt&&g.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function Tz(t){const e=new Set;t.forEach(h=>h.chapters.forEach(m=>m.topics?.forEach(g=>{g.isCompleted&&g.completedAt&&e.add(g.completedAt.split("T")[0])})));const n=Array.from(e).sort((h,m)=>new Date(m).getTime()-new Date(h).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const h=n[0];if(h===a||h===c){i=1;let m=new Date(h);for(let g=1;g<n.length;g++){const x=new Date(n[g]),v=Math.abs(m.getTime()-x.getTime());if(Math.round(v/(1e3*60*60*24))===1)i++,m=x;else break}}}return i}function Ez(){const{subjects:t}=Ct(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=_z(t),{activityData:l,maxCount:c}=wz(t),h=Tz(t),m=i>0?Math.round(a/i*100):0,g={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return d.jsxs(dm,{className:"max-w-4xl mx-auto pb-12",children:[d.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[d.jsx(Df,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),d.jsxs(Te.div,{variants:g,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Ih,{title:"Total Streak",value:`${h} days`,icon:TN,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Ih,{title:"Topics Done",value:`${a} / ${i}`,icon:qn,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Ih,{title:"Chapters Done",value:`${n} / ${e}`,icon:ia,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Ih,{title:"Completion",value:`${m}%`,icon:ro,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[d.jsx(SU,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),d.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((x,v)=>d.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[d.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:d.jsx(Te.div,{initial:{height:0},animate:{height:`${x.count/c*100}%`},transition:{duration:1,delay:v*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:d.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[x.count," Topics"]})})}),d.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(x.date).toLocaleDateString("en-US",{weekday:"short"})})]},x.date))})]}),d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[d.jsx(qn,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),d.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(x=>{const v=x.chapters.reduce((j,D)=>j+(D.topics?.length||0),0),_=x.chapters.reduce((j,D)=>j+(D.topics?.filter(I=>I.isCompleted).length||0),0),E=v>0?Math.round(_/v*100):0;return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:x.name}),d.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[E,"%"]})]}),d.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:d.jsx(Te.div,{initial:{width:0},animate:{width:`${E}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${x.color}`})})]},x.id)}),t.length===0&&d.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function Sz(){const t=um(),{saveStudySession:e,subjects:n}=Ct(),{user:i}=tr(),{playSound:a,isMuted:l,toggleMute:c}=Qx(),[h,m]=k.useState("stopwatch"),[g,x]=k.useState(!1),[v,_]=k.useState(0),[E,j]=k.useState(0),[D,I]=k.useState(30),[V,B]=k.useState("timer"),[$,J]=k.useState("today"),[se,de]=k.useState(""),[R,S]=k.useState(""),[C,z]=k.useState(""),[U,q]=k.useState(!1),[M,ze]=k.useState([]),[K,O]=k.useState(!0),H=k.useRef(null);k.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const G=(pe,De)=>{Notification.permission==="granted"&&new Notification(pe,{body:De,icon:"/vite.svg"})};k.useEffect(()=>(g?H.current=window.setInterval(()=>{_(pe=>h==="stopwatch"?pe+1:pe<=1?(x(!1),a("complete"),G("Time's Up! ","Your study session is complete. Take a break!"),0):pe-1)},1e3):H.current&&clearInterval(H.current),()=>{H.current&&clearInterval(H.current)}),[g,h,a]),k.useEffect(()=>{if(x(!1),q(!1),h==="stopwatch")_(0),j(0);else if(h==="pomodoro"||h==="countdown"){const pe=D*60;_(pe),j(pe)}},[h,D]),k.useEffect(()=>{(async()=>{if(i){O(!0);try{const De=Yr(hi,"users");let bt="userProfile.todayStudyTime";$==="week"?bt="userProfile.weeklyStudyTime":$==="month"?bt="userProfile.monthlyStudyTime":$==="all_time"&&(bt="userProfile.totalStudyTime");const en=zu(De,om(bt,"desc"),lm(10)),jn=await gN(en),bi=[];jn.forEach(Dn=>{const $n=Dn.data();if($n.userProfile){let Mn=0;$==="today"?Mn=$n.userProfile.todayStudyTime||0:$==="week"?Mn=$n.userProfile.weeklyStudyTime||0:$==="month"?Mn=$n.userProfile.monthlyStudyTime||0:Mn=$n.userProfile.totalStudyTime||0,bi.push({userId:Dn.id,userName:$n.userProfile.name||"Anonymous",displayTime:Mn})}}),ze(bi)}catch(De){console.error("Error fetching leaderboard:",De)}finally{O(!1)}}})()},[i,V,$]),k.useEffect(()=>(g?document.title=`${ne(v)} - ${C||(h==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[g,v,h,C]);const ce=()=>{!g&&h!=="stopwatch"&&v===0&&_(E),x(!g),a("click")},fe=()=>{x(!1),q(!1),_(h==="stopwatch"?0:E),a("click")},P=async()=>{if(!R){t.error("Please select a subject to save session.");return}let pe=0;if(h==="stopwatch"?pe=v:pe=E-v,pe<60){t.error("Session must be at least 1 minute to save.");return}await e(pe,R,C),q(!0),a("success"),t.success("Session Saved! Great Job.")},ne=pe=>{const De=Math.floor(pe/3600),bt=Math.floor(pe%3600/60),en=pe%60;return De>0?`${De}:${bt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`:`${bt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`},ue=pe=>{const De=Math.floor(pe/3600),bt=Math.floor(pe%3600/60),en=pe%60;return`${De.toString().padStart(2,"0")}:${bt.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`},he=h==="stopwatch"?100:Math.max(0,v/E*100),Se=120,Ie=2*Math.PI*Se,Ae=Ie-he/100*Ie;return d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsxs("header",{className:"flex items-center justify-between",children:[d.jsx("div",{children:d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),d.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:l?d.jsx(VN,{className:"w-6 h-6"}):d.jsx(MN,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[d.jsx("button",{onClick:()=>B("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${V==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),d.jsx("button",{onClick:()=>B("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${V==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:`${V==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:C,onChange:pe=>z(pe.target.value),disabled:g}),d.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:R,onChange:pe=>S(pe.target.value),disabled:g,children:[d.jsx("option",{value:"",children:"Subject"}),n.map(pe=>d.jsx("option",{value:pe.id,children:pe.name},pe.id))]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[d.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[d.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[d.jsx("circle",{cx:"50%",cy:"50%",r:Se,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),d.jsx("circle",{cx:"50%",cy:"50%",r:Se,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:Ie,strokeDashoffset:h==="stopwatch"?0:Ae,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${g?h==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[d.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${g?h==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:ne(v)}),d.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:g?"Running":"Paused"})]})]}),d.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!g&&d.jsx("button",{onClick:fe,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:d.jsx(jN,{className:"w-5 h-5"})}),d.jsx("button",{onClick:ce,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${g?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:g?d.jsx(d7,{className:"w-8 h-8 fill-current"}):d.jsx(IN,{className:"w-8 h-8 ml-1 fill-current"})}),!g&&(h==="stopwatch"&&v>60||h!=="stopwatch"&&v!==E)&&!U&&d.jsx("button",{onClick:P,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:d.jsx(jf,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"mt-8 flex gap-2",children:[d.jsx("button",{onClick:()=>{m("stopwatch"),I(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),d.jsx("button",{onClick:()=>{m("pomodoro"),I(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),d.jsx("button",{onClick:()=>{m("countdown"),I(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!g&&(h==="pomodoro"||h==="countdown")&&d.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[d.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),d.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:D,onChange:pe=>I(Number(pe.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),d.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[D,"m"]})]})]})]}),d.jsxs("div",{className:`${V==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[d.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ia,{className:"w-6 h-6 text-yellow-500"}),d.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search name...",value:se,onChange:pe=>de(pe.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),d.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),d.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(pe=>d.jsx("button",{onClick:()=>J(pe),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${$===pe?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:pe==="all_time"?"Lifetime":pe==="today"?"24 Hours":pe==="week"?"7 Days":"1 Month"},pe))})]}),K?d.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),d.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):d.jsxs("div",{className:"space-y-3",children:[M.filter(pe=>pe.userName.toLowerCase().includes(se.toLowerCase())).map((pe,De)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${pe.userId===i?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[De+1,"."]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${De===0?"bg-yellow-100 text-yellow-600 border-yellow-200":De===1?"bg-slate-200 text-slate-600 border-slate-300":De===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:pe.userName.charAt(0).toUpperCase()}),d.jsxs("div",{children:[d.jsx("p",{className:`font-bold text-sm ${pe.userId===i?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:pe.userName}),d.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${pe.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),d.jsx("span",{className:"text-xs text-slate-400 font-medium",children:pe.displayTime>3600?"Studying":"Offline"})]})]})]})]}),d.jsx("div",{className:"text-right",children:d.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:ue(pe.displayTime)})})]},pe.userId)),M.length===0&&d.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-sm",children:"No records found for this period."}),d.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),d.jsx(hs,{children:U&&d.jsxs(Te.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[d.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:d.jsx(ro,{className:"w-4 h-4 text-white"})}),d.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const FN=k.createContext(void 0);function Az({children:t}){const{user:e}=tr(),n=um(),[i,a]=k.useState([]);k.useEffect(()=>{if(!e){a([]);return}const g=zu(Yr(hi,"groups"),y8("memberIds","array-contains",e.uid)),x=cm(g,v=>{const _=[];v.forEach(E=>{_.push({id:E.id,...E.data()})}),a(_)},v=>{console.error("Error loading groups:",v)});return()=>x()},[e]);const l=async(g,x)=>{if(e)try{const v={name:g,description:x,createdBy:e.uid,createdAt:new Date().toISOString(),members:[{userId:e.uid,name:e.displayName||"Unknown",joinedAt:new Date().toISOString(),role:"admin"}],memberIds:[e.uid],inviteCode:Math.random().toString(36).substring(2,8).toUpperCase()};await Z0(Yr(hi,"groups"),v),n.success("Group created successfully!")}catch(v){console.error("Error creating group:",v),n.error("Failed to create group.")}},c=async g=>{console.log(g),e&&n.info("Join functionality coming soon!")},h=async g=>{console.log(g),e&&n.info("Leave functionality coming soon!")},m=async(g,x)=>{if(e)try{await Z0(Yr(hi,"groups",g,"messages"),{senderId:e.uid,senderName:e.displayName||"User",text:x,timestamp:p8()})}catch(v){console.error("Error sending message:",v),n.error("Failed to send message.")}};return d.jsx(FN.Provider,{value:{groups:i,createGroup:l,joinGroup:c,leaveGroup:h,sendMessage:m},children:t})}function kz(){const t=k.useContext(FN);if(t===void 0)throw new Error("useSocial must be used within a SocialProvider");return t}function HN(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=HN(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Nz(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=HN(t))&&(i&&(i+=" "),i+=e);return i}const Cz=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},Rz=(t,e)=>({classGroupId:t,validator:e}),qN=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Mf="-",OE=[],Iz="arbitrary..",jz=t=>{const e=Mz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return Dz(c);const h=c.split(Mf),m=h[0]===""&&h.length>1?1:0;return GN(h,m,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const m=i[c],g=n[c];return m?g?Cz(g,m):m:g||OE}return n[c]||OE}}},GN=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const g=GN(t,e+1,l);if(g)return g}const c=n.validators;if(c===null)return;const h=e===0?t.join(Mf):t.slice(e).join(Mf),m=c.length;for(let g=0;g<m;g++){const x=c[g];if(x.validator(h))return x.classGroupId}},Dz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?Iz+i:void 0})(),Mz=t=>{const{theme:e,classGroups:n}=t;return Vz(n,e)},Vz=(t,e)=>{const n=qN();for(const i in t){const a=t[i];Xx(a,n,i,e)}return n},Xx=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];Pz(c,e,n,i)}},Pz=(t,e,n,i)=>{if(typeof t=="string"){Oz(t,e,n);return}if(typeof t=="function"){Lz(t,e,n,i);return}Uz(t,e,n,i)},Oz=(t,e,n)=>{const i=t===""?e:$N(e,t);i.classGroupId=n},Lz=(t,e,n,i)=>{if(zz(t)){Xx(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(Rz(n,t))},Uz=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,m]=a[c];Xx(m,$N(e,h),n,i)}},$N=(t,e)=>{let n=t;const i=e.split(Mf),a=i.length;for(let l=0;l<a;l++){const c=i[l];let h=n.nextPart.get(c);h||(h=qN(),n.nextPart.set(c,h)),n=h}return n},zz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Bz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},iy="!",LE=":",Fz=[],UE=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),Hz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,h=0,m=0,g;const x=a.length;for(let D=0;D<x;D++){const I=a[D];if(c===0&&h===0){if(I===LE){l.push(a.slice(m,D)),m=D+1;continue}if(I==="/"){g=D;continue}}I==="["?c++:I==="]"?c--:I==="("?h++:I===")"&&h--}const v=l.length===0?a:a.slice(m);let _=v,E=!1;v.endsWith(iy)?(_=v.slice(0,-1),E=!0):v.startsWith(iy)&&(_=v.slice(1),E=!0);const j=g&&g>m?g-m:void 0;return UE(l,E,_,j)};if(e){const a=e+LE,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):UE(Fz,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},qz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",m=e.has(c);h||m?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},Gz=t=>({cache:Bz(t.cacheSize),parseClassName:Hz(t),sortModifiers:qz(t),...jz(t)}),$z=/\s+/,Kz=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split($z);let m="";for(let g=h.length-1;g>=0;g-=1){const x=h[g],{isExternal:v,modifiers:_,hasImportantModifier:E,baseClassName:j,maybePostfixModifierPosition:D}=n(x);if(v){m=x+(m.length>0?" "+m:m);continue}let I=!!D,V=i(I?j.substring(0,D):j);if(!V){if(!I){m=x+(m.length>0?" "+m:m);continue}if(V=i(j),!V){m=x+(m.length>0?" "+m:m);continue}I=!1}const B=_.length===0?"":_.length===1?_[0]:l(_).join(":"),$=E?B+iy:B,J=$+V;if(c.indexOf(J)>-1)continue;c.push(J);const se=a(V,I);for(let de=0;de<se.length;++de){const R=se[de];c.push($+R)}m=x+(m.length>0?" "+m:m)}return m},Yz=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=KN(n))&&(a&&(a+=" "),a+=i);return a},KN=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=KN(t[i]))&&(n&&(n+=" "),n+=e);return n},Qz=(t,...e)=>{let n,i,a,l;const c=m=>{const g=e.reduce((x,v)=>v(x),t());return n=Gz(g),i=n.cache.get,a=n.cache.set,l=h,h(m)},h=m=>{const g=i(m);if(g)return g;const x=Kz(m,n);return a(m,x),x};return l=c,(...m)=>l(Yz(...m))},Xz=[],$t=t=>{const e=n=>n[t]||Xz;return e.isThemeGetter=!0,e},YN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,QN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Wz=/^\d+\/\d+$/,Jz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yo=t=>Wz.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Pr=t=>!!t&&Number.isInteger(Number(t)),e0=t=>t.endsWith("%")&&Be(t.slice(0,-1)),zi=t=>Jz.test(t),sB=()=>!0,iB=t=>Zz.test(t)&&!eB.test(t),XN=()=>!1,rB=t=>tB.test(t),aB=t=>nB.test(t),oB=t=>!be(t)&&!_e(t),lB=t=>Dl(t,ZN,XN),be=t=>YN.test(t),Pa=t=>Dl(t,eC,iB),t0=t=>Dl(t,fB,Be),zE=t=>Dl(t,WN,XN),cB=t=>Dl(t,JN,aB),jh=t=>Dl(t,tC,rB),_e=t=>QN.test(t),Hc=t=>Ml(t,eC),uB=t=>Ml(t,mB),BE=t=>Ml(t,WN),dB=t=>Ml(t,ZN),hB=t=>Ml(t,JN),Dh=t=>Ml(t,tC,!0),Dl=(t,e,n)=>{const i=YN.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Ml=(t,e,n=!1)=>{const i=QN.exec(t);return i?i[1]?e(i[1]):n:!1},WN=t=>t==="position"||t==="percentage",JN=t=>t==="image"||t==="url",ZN=t=>t==="length"||t==="size"||t==="bg-size",eC=t=>t==="length",fB=t=>t==="number",mB=t=>t==="family-name",tC=t=>t==="shadow",pB=()=>{const t=$t("color"),e=$t("font"),n=$t("text"),i=$t("font-weight"),a=$t("tracking"),l=$t("leading"),c=$t("breakpoint"),h=$t("container"),m=$t("spacing"),g=$t("radius"),x=$t("shadow"),v=$t("inset-shadow"),_=$t("text-shadow"),E=$t("drop-shadow"),j=$t("blur"),D=$t("perspective"),I=$t("aspect"),V=$t("ease"),B=$t("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],se=()=>[...J(),_e,be],de=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],S=()=>[_e,be,m],C=()=>[Yo,"full","auto",...S()],z=()=>[Pr,"none","subgrid",_e,be],U=()=>["auto",{span:["full",Pr,_e,be]},Pr,_e,be],q=()=>[Pr,"auto",_e,be],M=()=>["auto","min","max","fr",_e,be],ze=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...S()],H=()=>[Yo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],G=()=>[t,_e,be],ce=()=>[...J(),BE,zE,{position:[_e,be]}],fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",dB,lB,{size:[_e,be]}],ne=()=>[e0,Hc,Pa],ue=()=>["","none","full",g,_e,be],he=()=>["",Be,Hc,Pa],Se=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[Be,e0,BE,zE],pe=()=>["","none",j,_e,be],De=()=>["none",Be,_e,be],bt=()=>["none",Be,_e,be],en=()=>[Be,_e,be],jn=()=>[Yo,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zi],breakpoint:[zi],color:[sB],container:[zi],"drop-shadow":[zi],ease:["in","out","in-out"],font:[oB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zi],shadow:[zi],spacing:["px",Be],text:[zi],"text-shadow":[zi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yo,be,_e,I]}],container:["container"],columns:[{columns:[Be,be,_e,h]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:se()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Pr,"auto",_e,be]}],basis:[{basis:[Yo,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Yo,"auto","initial","none",be]}],grow:[{grow:["",Be,_e,be]}],shrink:[{shrink:["",Be,_e,be]}],order:[{order:[Pr,"first","last","none",_e,be]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ze(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...ze()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":ze()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[h,"screen",...H()]}],"min-w":[{"min-w":[h,"screen","none",...H()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,Hc,Pa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,_e,t0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",e0,be]}],"font-family":[{font:[uB,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,_e,be]}],"line-clamp":[{"line-clamp":[Be,"none",_e,t0]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",_e,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",_e,Pa]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Be,"auto",_e,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:fe()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pr,_e,be],radial:["",_e,be],conic:[Pr,_e,be]},hB,cB]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,_e,be]}],"outline-w":[{outline:["",Be,Hc,Pa]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",x,Dh,jh]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",v,Dh,jh]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Be,Pa]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",_,Dh,jh]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Be,_e,be]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[_e,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":J()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:fe()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,be]}],filter:[{filter:["","none",_e,be]}],blur:[{blur:pe()}],brightness:[{brightness:[Be,_e,be]}],contrast:[{contrast:[Be,_e,be]}],"drop-shadow":[{"drop-shadow":["","none",E,Dh,jh]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Be,_e,be]}],"hue-rotate":[{"hue-rotate":[Be,_e,be]}],invert:[{invert:["",Be,_e,be]}],saturate:[{saturate:[Be,_e,be]}],sepia:[{sepia:["",Be,_e,be]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,be]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Be,_e,be]}],"backdrop-contrast":[{"backdrop-contrast":[Be,_e,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,_e,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,_e,be]}],"backdrop-invert":[{"backdrop-invert":["",Be,_e,be]}],"backdrop-opacity":[{"backdrop-opacity":[Be,_e,be]}],"backdrop-saturate":[{"backdrop-saturate":[Be,_e,be]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,_e,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",_e,be]}],ease:[{ease:["linear","initial",V,_e,be]}],delay:[{delay:[Be,_e,be]}],animate:[{animate:["none",B,_e,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,_e,be]}],"perspective-origin":[{"perspective-origin":se()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:bt()}],"scale-x":[{"scale-x":bt()}],"scale-y":[{"scale-y":bt()}],"scale-z":[{"scale-z":bt()}],"scale-3d":["scale-3d"],skew:[{skew:en()}],"skew-x":[{"skew-x":en()}],"skew-y":[{"skew-y":en()}],transform:[{transform:[_e,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:se()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:jn()}],"translate-x":[{"translate-x":jn()}],"translate-y":[{"translate-y":jn()}],"translate-z":[{"translate-z":jn()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,be]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Be,Hc,Pa,t0]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},gB=Qz(pB);function Qo(...t){return gB(Nz(t))}const yB=t=>t?(typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"?t.toDate():new Date(t)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...";function xB(){const{user:t}=tr(),{groups:e,createGroup:n,joinGroup:i,sendMessage:a,leaveGroup:l}=kz(),[c,h]=k.useState(null),[m,g]=k.useState([]),[x,v]=k.useState(""),[_,E]=k.useState(!1),j=k.useRef(null);k.useEffect(()=>{const J=window.innerWidth<768;!c&&e.length>0&&!J&&h(e[0])},[e,c]),k.useEffect(()=>{if(!c)return;const J=zu(Yr(hi,"groups",c.id,"messages"),om("timestamp","asc"),lm(50)),se=cm(J,de=>{const R=[];de.forEach(S=>{R.push({id:S.id,...S.data()})}),g(R)},de=>console.error("Msg Load Err",de));return()=>{se(),g([])}},[c]),k.useEffect(()=>{j.current?.scrollIntoView({behavior:"smooth"})},[m]);const D=async J=>{J.preventDefault(),!(!x.trim()||!c||_)&&(E(!0),await a(c.id,x.trim()),v(""),E(!1))},I=()=>{const J=prompt("Enter Group Name:");if(!J)return;const se=prompt("Enter Description (optional):")||"";n(J,se)},V=()=>{const J=prompt("Enter Invitation Code:");J&&i(J)},B=()=>{c&&confirm(`Leave group "${c.name}"?`)&&(l(c.id),h(null))},$=()=>{c&&(navigator.clipboard.writeText(c.inviteCode),alert("Invite code copied: "+c.inviteCode))};return d.jsxs(dm,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col md:flex-row overflow-hidden",children:[d.jsx("div",{className:`md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 ${c?"hidden":"flex"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(hl,{className:"w-6 h-6 text-indigo-500"}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[200px]",children:"Study Groups"})]})}),c&&d.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>h(null),className:"flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[d.jsx(Gx,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"Back"})]}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[150px]",children:c.name}),d.jsx("button",{onClick:B,className:"text-red-500",children:d.jsx(Rf,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:`flex-col bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 w-full md:w-72 md:flex ${c?"hidden":"flex"}`,children:[d.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 hidden md:flex justify-between items-center",children:d.jsxs("h2",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(hl,{className:"w-6 h-6 text-indigo-500"}),"My Groups"]})}),d.jsxs("div",{className:"p-4 space-y-2",children:[d.jsxs("button",{onClick:I,className:"w-full flex items-center justify-center gap-2 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[d.jsx($i,{className:"w-4 h-4"})," Create Group"]}),d.jsxs("button",{onClick:V,className:"w-full flex items-center justify-center gap-2 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-lg font-medium transition-colors",children:[d.jsx(JU,{className:"w-4 h-4"})," Join via Code"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[e.length===0&&d.jsx("div",{className:"text-center text-slate-500 text-sm py-4",children:"You haven't joined any groups yet."}),e.map(J=>d.jsxs("button",{onClick:()=>{h(J)},className:Qo("w-full text-left px-3 py-3 rounded-xl flex items-center gap-3 transition-all",c?.id===J.id?"bg-white dark:bg-slate-800 shadow-sm ring-1 ring-indigo-500/20":"hover:bg-slate-100 dark:hover:bg-slate-800"),children:[d.jsx("div",{className:Qo("w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm",c?.id===J.id?"bg-indigo-500":"bg-slate-400"),children:J.name[0].toUpperCase()}),d.jsxs("div",{children:[d.jsx("div",{className:Qo("font-medium text-sm",c?.id===J.id?"text-indigo-900 dark:text-indigo-100":"text-slate-700 dark:text-slate-300"),children:J.name}),d.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-[140px]",children:[J.members.length," members"]})]})]},J.id))]})]}),d.jsx("div",{className:`flex-1 flex-col bg-white dark:bg-slate-800 relative md:flex ${c?"flex":"hidden"}`,children:c?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"hidden md:flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-700 shadow-sm z-10",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"font-bold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[c.name,d.jsxs("span",{className:"text-xs font-normal px-2 py-0.5 bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300 rounded-full",children:[c.members.length," Members"]})]}),d.jsx("p",{className:"text-xs text-slate-500",children:c.description})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:$,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-500",title:"Copy Invite Code",children:d.jsx(zU,{className:"w-5 h-5"})}),d.jsx("button",{onClick:B,className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-red-500",title:"Leave Group",children:d.jsx(Rf,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[m.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[d.jsx(CN,{className:"w-12 h-12 mb-2 opacity-50"}),d.jsx("p",{children:"No messages yet. Start the conversation!"}),d.jsxs("p",{className:"text-xs mt-2",children:["Invite Code: ",d.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-800 px-1 rounded select-all",children:c.inviteCode})]})]}),m.map(J=>{const se=J.senderId===t?.uid;return d.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Qo("flex gap-3",se?"flex-row-reverse":""),children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-xs font-bold text-indigo-700 dark:text-indigo-300 flex-shrink-0",children:J.senderName[0]}),d.jsxs("div",{className:Qo("max-w-[75%]",se?"items-end":"items-start"),children:[d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:J.senderName}),d.jsx("span",{className:"text-[10px] text-slate-400",children:yB(J.timestamp)})]}),d.jsx("div",{className:Qo("px-4 py-2 rounded-2xl text-sm shadow-sm",se?"bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-sm"),children:J.text})]})]},J.id)}),d.jsx("div",{ref:j})]}),d.jsx("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:d.jsxs("form",{onSubmit:D,className:"flex gap-2",children:[d.jsx("input",{value:x,onChange:J=>v(J.target.value),placeholder:`Message #${c.name}`,className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-900 rounded-xl border-none focus:ring-2 focus:ring-indigo-500"}),d.jsx("button",{disabled:_||!x.trim(),className:"p-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50",children:_?d.jsx(s7,{className:"animate-spin w-5 h-5"}):d.jsx(k7,{className:"w-5 h-5"})})]})})]}):d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[d.jsx(hl,{className:"w-16 h-16 mb-4 opacity-50"}),d.jsx("h3",{className:"text-lg font-medium text-slate-600 dark:text-slate-300",children:"Select a Group"}),d.jsx("p",{className:"max-w-xs text-center mt-2",children:"Join a study group or create your own to collaborate with friends."})]})})]})}function vB({steps:t,onComplete:e,onSkip:n}){const[i,a]=k.useState(0),[l,c]=k.useState(null),h=t[i];k.useEffect(()=>{if(h.targetId){const x=document.getElementById(h.targetId);x?(c(x.getBoundingClientRect()),x.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[i,h,t]);const m=()=>{i<t.length-1?a(x=>x+1):e()},g=()=>{i>0&&a(x=>x-1)};return d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&d.jsx(Te.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),d.jsx(hs,{mode:"wait",children:d.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&h.position!=="center"?{top:h.position==="bottom"?l.bottom+20:h.position==="top"?l.top-200:void 0,left:h.position==="right"?l.right+20:h.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(h.position==="bottom",0)}:{},children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),d.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:d.jsx(vi,{className:"w-4 h-4"})})]}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:h.title}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:h.description}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("button",{onClick:g,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(Gx,{className:"w-4 h-4"})," Back"]}),d.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&d.jsx(AN,{className:"w-4 h-4"})]})]})]},i)})]})}const bB="/Study-Mate/assets/logo-C0C7fgvJ.png";function _B({deferredPrompt:t,onInstall:e}){const[n,i]=k.useState(!1);k.useEffect(()=>{const l=setTimeout(()=>i(!0),3e3);return()=>clearTimeout(l)},[]);const a=()=>{i(!1)};return!n||!t?null:d.jsx(hs,{children:d.jsx(Te.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 md:bottom-6 left-1/2 transform -translate-x-1/2 z-50 w-[90%] md:w-auto",children:d.jsxs("div",{className:"bg-slate-900/90 dark:bg-white/90 backdrop-blur-md text-white dark:text-slate-900 px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 border border-white/10 dark:border-slate-200/20",children:[d.jsx("div",{className:"bg-indigo-500 rounded-xl p-2",children:d.jsx(Kx,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-bold text-sm",children:"Install App"}),d.jsx("p",{className:"text-xs text-slate-300 dark:text-slate-600",children:"Add to home screen for better experience"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 dark:hover:bg-slate-200/50 rounded-lg transition-colors",children:d.jsx(vi,{className:"w-4 h-4"})}),d.jsx("button",{onClick:e,className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-4 py-2 rounded-lg text-sm font-bold shadow-lg active:scale-95 transition-transform",children:"Install"})]})]})})})}function wB(){const{userProfile:t}=Ct();k.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const e=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.lastStudyDate?new Date(t.lastStudyDate):null;if(!a)return;const l=new Date,c=Math.abs(l.getTime()-a.getTime()),h=Math.ceil(c/(1e3*60*60*24));if(h>=3){const m=localStorage.getItem("tracked_last_reminder"),g=m?new Date(m):null;(g?(l.getTime()-g.getTime())/(1e3*60*60):999)>24&&(new Notification("Miss you! ",{body:`It's been ${h} days since your last study session. Keep your streak alive!`,icon:"/pwa-icon.svg",tag:"inactivity-reminder"}),localStorage.setItem("tracked_last_reminder",l.toISOString()))}},n=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.dailyGoal||7200,l=t.todayStudyTime||0,c=a-l;if(c>0&&c<=1800){const h=localStorage.getItem("tracked_goal_reminder"),m=new Date().toISOString().split("T")[0];h!==m&&(new Notification("Almost there! ",{body:"You're less than 30 minutes away from your daily goal. Finish strong!",icon:"/pwa-icon.svg",tag:"goal-reminder"}),localStorage.setItem("tracked_goal_reminder",m))}},i=setTimeout(()=>{e(),n()},5e3);return()=>clearTimeout(i)},[t.lastStudyDate,t.todayStudyTime,t.dailyGoal])}const TB=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function EB(){const{logout:t}=tr(),{theme:e,toggleTheme:n}=BN(),{userProfile:i,isAdmin:a}=Ct(),{currentTitle:l,nextLevelXP:c,progress:h}=sy(i.xp||0),m=i.level||1,g=Zi(),x=SI();wB();const[v,_]=k.useState(!1),[E,j]=k.useState(null);k.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true");const B=$=>{$.preventDefault(),j($)};return window.addEventListener("beforeinstallprompt",B),()=>window.removeEventListener("beforeinstallprompt",B)},[]);const D=()=>{_(!1),localStorage.setItem("tracked_tour_completed","true")},I=async()=>{if(!E)return;E.prompt();const{outcome:B}=await E.userChoice;B==="accepted"&&j(null)},V=B=>g.pathname===B;return d.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[v&&d.jsx(vB,{steps:TB,onComplete:D,onSkip:D}),d.jsxs("header",{className:"glass sticky top-0 z-20 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xs shadow-md",children:m}),d.jsx("div",{children:d.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"TrackEd"})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm","aria-label":"Toggle Theme",children:e==="light"?d.jsx(If,{className:"w-5 h-5"}):d.jsx(ny,{className:"w-5 h-5"})}),d.jsx(Yt,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm",children:d.jsx(RE,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"md:flex max-w-7xl mx-auto",children:[d.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-[calc(100vh-2rem)] sticky top-4 m-4 rounded-3xl glass shadow-2xl shadow-slate-200/60 dark:shadow-slate-900/50 p-6 transition-all duration-300 z-10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-10 pl-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:bB,alt:"TrackEd Logo",className:"w-10 h-10 rounded-xl object-contain shadow-md"}),d.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"TrackEd"})]}),d.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-700/50 rounded-xl transition-colors","aria-label":"Toggle Theme",children:e==="light"?d.jsx(If,{className:"w-5 h-5"}):d.jsx(ny,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"mb-8 px-2",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-500/30 ring-2 ring-white dark:ring-slate-700",children:m}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white leading-tight",children:i.name}),d.jsx("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:l})]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex justify-between text-[10px] font-semibold text-slate-400 uppercase tracking-wider",children:[d.jsxs("span",{children:[i.xp," XP"]}),d.jsx("span",{children:c?`${c} XP`:"MAX"})]}),d.jsx("div",{className:"w-full h-2.5 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden shadow-inner ring-1 ring-slate-900/5 dark:ring-white/5",children:d.jsx(Te.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full",initial:{width:0},animate:{width:`${h}%`},transition:{duration:1,ease:"easeOut"}})})]})]}),d.jsxs("nav",{className:"space-y-1.5 flex-1",children:[d.jsxs(Yt,{to:"/",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(CE,{className:"w-5 h-5"}),"Dashboard"]}),d.jsxs(Yt,{to:"/planner",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${V("/planner")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[d.jsx(ey,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${V("/planner")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),d.jsx("span",{className:"font-medium",children:"Planner"}),V("/planner")&&d.jsx(Te.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),d.jsxs(Yt,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/analytics")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(Df,{className:"w-5 h-5"}),"Analytics"]}),d.jsxs(Yt,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${g.pathname==="/timer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(DE,{className:"w-5 h-5"}),"Timer"]}),d.jsxs(Yt,{to:"/chat",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${V("/chat")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[d.jsx(hl,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${V("/chat")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),d.jsx("span",{className:"font-medium",children:"Study Groups"}),V("/chat")&&d.jsx(Te.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),d.jsxs(Yt,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/settings")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(RE,{className:"w-5 h-5"}),"Settings"]}),a&&d.jsxs(Yt,{to:"/admin",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/admin")?"bg-rose-600 text-white shadow-lg shadow-rose-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(DN,{className:"w-5 h-5"}),"Admin Panel"]})]}),d.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200/50 dark:border-slate-700/50",children:[d.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left mb-4 group",children:[d.jsx(Rf,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),"Sign Out"]}),d.jsxs("div",{className:"text-xs text-center text-slate-400 dark:text-slate-500 font-medium",children:[d.jsx("p",{children:"Empowering Students"}),d.jsx("p",{className:"mt-1 opacity-70",children:" 2026 TrackEd"})]})]})]}),d.jsx("main",{className:"flex-1 p-4 md:p-8",children:d.jsx(hs,{mode:"wait",children:x&&k.cloneElement(x,{key:g.pathname})})})]}),d.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[d.jsxs(Yt,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${V("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(CE,{className:"w-6 h-6"}),d.jsx("span",{children:"Home"})]}),d.jsxs(Yt,{to:"/planner",className:`flex flex-col items-center gap-1 text-xs ${V("/planner")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(ey,{className:"w-6 h-6"}),d.jsx("span",{children:"Planner"})]}),d.jsxs(Yt,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${V("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(DE,{className:"w-6 h-6"}),d.jsx("span",{children:"Timer"})]}),d.jsxs(Yt,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${V("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(hl,{className:"w-6 h-6"}),d.jsx("span",{children:"Groups"})]}),d.jsxs(Yt,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${V("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(Df,{className:"w-6 h-6"}),d.jsx("span",{children:"Stats"})]})]}),E&&d.jsx(_B,{deferredPrompt:E,onInstall:I})]})}function SB(){const{signInWithGoogle:t,user:e}=tr(),n=Pf();return HE.useEffect(()=>{e&&n("/")},[e,n]),d.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[d.jsxs("div",{className:"absolute inset-0 z-0",children:[d.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),d.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[d.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[d.jsx("div",{className:"flex justify-center mb-8",children:d.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:d.jsx(NN,{className:"w-10 h-10 text-white"})})}),d.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",d.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),d.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[d.jsx("div",{className:"bg-white p-1 rounded-full",children:d.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),d.jsx("span",{children:"Sign in with Google"}),d.jsx(qx,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),d.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}const AB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function kB(){const{subjects:t,userProfile:e,addScheduledSession:n,toggleScheduledSession:i,deleteScheduledSession:a,saveStudySession:l}=Ct(),[c,h]=k.useState(new Date),[m,g]=k.useState(new Date),[x,v]=k.useState(!1),[_,E]=k.useState({subjectId:"",chapterId:"",topicId:"",time:"18:00",durationMinutes:60,notes:""}),j=()=>{t.length>0&&E(K=>({...K,subjectId:t[0].id})),v(!0)},D=K=>{if(K.preventDefault(),!m||!_.subjectId)return;const O=m.getFullYear(),H=String(m.getMonth()+1).padStart(2,"0"),G=String(m.getDate()).padStart(2,"0"),ce=`${O}-${H}-${G}`;n({subjectId:_.subjectId,date:ce,time:_.time,durationMinutes:_.durationMinutes,chapterId:_.chapterId||void 0,topicId:_.topicId||void 0,notes:_.notes}),v(!1)},I=k.useMemo(()=>{if(!m||!e.scheduledSessions)return[];const K=m.getFullYear(),O=String(m.getMonth()+1).padStart(2,"0"),H=String(m.getDate()).padStart(2,"0"),G=`${K}-${O}-${H}`;return e.scheduledSessions.filter(ce=>ce.date===G)},[m,e.scheduledSessions]),V=K=>{if(!e.scheduledSessions)return!1;const O=c.getFullYear(),H=String(c.getMonth()+1).padStart(2,"0"),G=String(K).padStart(2,"0"),ce=`${O}-${H}-${G}`;return e.scheduledSessions.some(fe=>fe.date===ce&&!fe.isCompleted)},B=async K=>{K.isCompleted||confirm("Mark as done? Do you want to log this time to your stats?")&&await l(K.durationMinutes*60,K.subjectId),i(K.id)},$=(K,O)=>new Date(K,O+1,0).getDate(),J=(K,O)=>new Date(K,O,1).getDay(),se=c.getFullYear(),de=c.getMonth(),R=$(se,de),S=J(se,de),C=()=>h(new Date(se,de-1,1)),z=()=>h(new Date(se,de+1,1)),U=new Date,q=K=>K===U.getDate()&&de===U.getMonth()&&se===U.getFullYear(),M=K=>m&&K===m.getDate()&&de===m.getMonth()&&se===m.getFullYear(),ze=k.useMemo(()=>{const K=[];return t.forEach(O=>{O.chapters.forEach(H=>{H.isCompleted||H.topics.forEach(G=>{G.isCompleted||K.push({subjectName:O.name,chapterName:H.name,topicName:G.name,priority:Math.random()})})})}),K.sort((O,H)=>H.priority-O.priority).slice(0,3)},[t]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Study Planner"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage your schedule and stay on track."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(ey,{className:"w-5 h-5 text-blue-500"}),c.toLocaleString("default",{month:"long",year:"numeric"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:C,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(Gx,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})}),d.jsx("button",{onClick:z,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(AN,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})})]})]}),d.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:AB.map(K=>d.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider py-2",children:K},K))}),d.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:S}).map((K,O)=>d.jsx("div",{className:"aspect-square"},`empty-${O}`)),Array.from({length:R}).map((K,O)=>{const H=O+1,G=q(H)?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 font-bold":"",ce=M(H)&&!q(H)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold":"";return d.jsxs(Te.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(new Date(se,de,H)),className:`aspect-square rounded-xl flex items-center justify-center text-sm cursor-pointer transition-all hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 relative ${G} ${ce}`,children:[H,V(H)&&d.jsx("div",{className:"absolute bottom-1 w-1 h-1 bg-indigo-500 rounded-full"})]},H)})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(kN,{className:"w-5 h-5 text-indigo-500"}),m?.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})]}),d.jsx("button",{onClick:j,className:"text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:underline",children:"+ Add"})]}),d.jsx("div",{className:"space-y-3 min-h-[100px]",children:I.length>0?I.map(K=>{const O=t.find(G=>G.id===K.subjectId);let H="";if(O&&K.chapterId){const G=O.chapters.find(ce=>ce.id===K.chapterId);if(G&&(H=G.name,K.topicId)){const ce=G.topics.find(fe=>fe.id===K.topicId);ce&&(H+=` > ${ce.name}`)}}return d.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:[d.jsx("input",{type:"checkbox",checked:K.isCompleted,onChange:()=>B(K),className:"mt-1 w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:`font-semibold text-sm ${K.isCompleted?"line-through text-slate-400":"text-slate-800 dark:text-slate-200"}`,children:O?.name||"Unknown Subject"}),d.jsx("button",{onClick:()=>a(K.id),className:"text-slate-400 hover:text-red-500",children:""})]}),H&&d.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium mt-0.5",children:H}),d.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex gap-2",children:[d.jsx("span",{className:"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-1.5 py-0.5 rounded",children:K.time}),d.jsxs("span",{children:[K.durationMinutes,"m"]})]}),K.notes&&d.jsxs("p",{className:"text-xs text-slate-500 mt-1 italic",children:['"',K.notes,'"']})]})]},K.id)}):d.jsxs("div",{className:"text-center py-8 text-slate-400 text-sm",children:[d.jsx("p",{children:"No study sessions scheduled."}),d.jsx("button",{onClick:j,className:"mt-4 px-4 py-2 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-lg text-sm font-semibold hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",children:"+ Schedule Session"})]})})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:d.jsx(LN,{})}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[d.jsxs("h3",{className:"font-bold text-lg mb-1 flex items-center gap-2",children:[d.jsx($x,{className:"w-5 h-5"}),"Smart Suggestions"]}),d.jsx("p",{className:"text-indigo-100 text-sm mb-4",children:"Focus on these topics today:"}),d.jsx("div",{className:"space-y-3",children:ze.length>0?ze.map((K,O)=>d.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/10 hover:bg-white/20 transition-colors cursor-pointer",children:[d.jsx("div",{className:"text-xs font-medium text-indigo-200 uppercase tracking-wider mb-1",children:K.subjectName}),d.jsx("div",{className:"font-semibold text-sm line-clamp-1",children:K.topicName}),d.jsx("div",{className:"text-xs text-indigo-100 opacity-80 mt-0.5 line-clamp-1",children:K.chapterName})]},O)):d.jsxs("div",{className:"text-center py-4 text-indigo-100",children:[d.jsx("p",{children:" All caught up!"}),d.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Great job clearing your backlog."})]})})]})]})]}),x&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:d.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Schedule Study Session"}),d.jsxs("form",{onSubmit:D,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subject"}),d.jsx("select",{value:_.subjectId,onChange:K=>E({..._,subjectId:K.target.value,chapterId:"",topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",children:t.map(K=>d.jsx("option",{value:K.id,children:K.name},K.id))})]}),_.subjectId&&d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Chapter (Opt)"}),d.jsxs("select",{value:_.chapterId,onChange:K=>E({..._,chapterId:K.target.value,topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",children:[d.jsx("option",{value:"",children:"Any Chapter"}),t.find(K=>K.id===_.subjectId)?.chapters.map(K=>d.jsx("option",{value:K.id,children:K.name},K.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Topic (Opt)"}),d.jsxs("select",{value:_.topicId,onChange:K=>E({..._,topicId:K.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",disabled:!_.chapterId,children:[d.jsx("option",{value:"",children:"Any Topic"}),_.chapterId&&t.find(K=>K.id===_.subjectId)?.chapters.find(K=>K.id===_.chapterId)?.topics.map(K=>d.jsx("option",{value:K.id,children:K.name},K.id))]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Time"}),d.jsx("input",{type:"time",value:_.time,onChange:K=>E({..._,time:K.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Duration (mins)"}),d.jsx("input",{type:"number",min:"5",step:"5",value:_.durationMinutes,onChange:K=>E({..._,durationMinutes:parseInt(K.target.value)}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes (Optional)"}),d.jsx("textarea",{value:_.notes,onChange:K=>E({..._,notes:K.target.value}),placeholder:"What topics will you cover?",className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none h-20 resize-none"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[d.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg font-medium",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg font-medium shadow-sm shadow-indigo-200 dark:shadow-none",children:"Schedule"})]})]})]})})]})}function NB(){const[t,e]=k.useState([]),[n,i]=k.useState(!0),[a,l]=k.useState("");k.useEffect(()=>{const m=zu(Yr(hi,"users"),om("userProfile.xp","desc"),lm(50)),g=cm(m,x=>{const v=[];x.forEach(_=>{const E=_.data();E.userProfile&&v.push({id:_.id,userProfile:E.userProfile,lastActive:E.lastActive})}),e(v),i(!1)});return()=>g()},[]);const c=[{label:"Total Students",value:t.length.toString(),icon:hl,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",trend:"+12%",trendUp:!0},{label:"Study Hours",value:(t.reduce((m,g)=>m+(g.userProfile.totalStudyTime||0),0)/3600).toFixed(1),icon:kN,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20",trend:"+8%",trendUp:!0},{label:"Top Level",value:Math.max(...t.map(m=>m.userProfile.level||1)).toString(),icon:ia,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20",trend:"Stable",trendUp:!0},{label:"Engagement",value:"84%",icon:Df,color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-900/20",trend:"-2%",trendUp:!1}],h=t.filter(m=>m.userProfile.name.toLowerCase().includes(a.toLowerCase())||m.id.toLowerCase().includes(a.toLowerCase()));return d.jsxs("div",{className:"space-y-8 pb-20",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-black text-slate-800 dark:text-white flex items-center gap-3",children:[d.jsx(DN,{className:"w-8 h-8 text-indigo-500"}),"Admin Dashboard"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage users and track global performance"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(S7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:m=>l(m.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-2 pl-10 pr-4 text-sm focus:ring-2 focus:ring-indigo-500/20 outline-none w-full md:w-64 transition-all"})]}),d.jsx("button",{className:"p-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:d.jsx(KU,{className:"w-4 h-4 text-slate-500"})})]})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:c.map((m,g)=>d.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"bg-white dark:bg-slate-800 p-5 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:`p-3 rounded-2xl ${m.bg}`,children:d.jsx(m.icon,{className:`w-6 h-6 ${m.color}`})}),d.jsxs("div",{className:`flex items-center gap-1 text-xs font-bold ${m.trendUp?"text-emerald-500":"text-rose-500"}`,children:[m.trendUp?d.jsx(uU,{className:"w-3 h-3"}):d.jsx(rU,{className:"w-3 h-3"}),m.trend]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-white",children:m.value}),d.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:m.label})]})]},g))}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Active Students"}),d.jsxs("span",{className:"text-xs font-bold bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 px-3 py-1 rounded-full",children:[h.length," Students"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50/50 dark:bg-slate-900/50",children:[d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Student"}),d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest text-center",children:"Level"}),d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest text-center",children:"XP"}),d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest text-center",children:"Study Time"}),d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest text-center",children:"Role"}),d.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-widest text-right",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-700/50",children:n?[1,2,3].map(m=>d.jsx("tr",{className:"animate-pulse",children:d.jsx("td",{colSpan:6,className:"px-6 py-8",children:d.jsx("div",{className:"h-4 bg-slate-100 dark:bg-slate-700 rounded-full w-2/3 mx-auto"})})},m)):h.length>0?h.map(m=>d.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-900/30 transition-colors group",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-sm ring-2 ring-white dark:ring-slate-700",children:m.userProfile.name?.charAt(0)||"?"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-slate-800 dark:text-white text-sm",children:m.userProfile.name}),d.jsxs("div",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-medium font-mono",children:[m.id.substring(0,8),"..."]})]})]})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 font-black text-xs border border-emerald-100 dark:border-emerald-900/50",children:m.userProfile.level||1})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:(m.userProfile.xp||0).toLocaleString()})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:[Math.round((m.userProfile.totalStudyTime||0)/3600),"h"]})}),d.jsx("td",{className:"px-6 py-4 text-center text-sm font-bold text-slate-500 dark:text-slate-400",children:d.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] uppercase font-black tracking-widest ${m.userProfile.role==="admin"?"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400":"bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400"}`,children:m.userProfile.role||"Student"})}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsx("button",{className:"p-1 px-2 text-slate-400 hover:text-indigo-500 dark:hover:text-indigo-400 transition-colors",children:d.jsx(HU,{className:"w-5 h-5"})})})]},m.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:"No students matched your search."})})})]})})]})]})}function CB({children:t}){const{user:e,loading:n}=tr();return n?d.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:"Loading..."}):e?d.jsx(d.Fragment,{children:t}):d.jsx(iS,{to:"/login"})}function RB({children:t}){const{isAdmin:e}=Ct();return e?d.jsx(d.Fragment,{children:t}):d.jsx(iS,{to:"/",replace:!0})}function IB(){return d.jsx(K7,{children:d.jsx(X7,{children:d.jsx(Az,{children:d.jsx(dj,{basename:"/Study-Mate/",children:d.jsxs(BI,{children:[d.jsx(As,{path:"/login",element:d.jsx(SB,{})}),d.jsxs(As,{path:"/",element:d.jsx(CB,{children:d.jsx(EB,{})}),children:[d.jsx(As,{index:!0,element:d.jsx(lz,{})}),d.jsx(As,{path:"subject/:id",element:d.jsx(gz,{})}),d.jsx(As,{path:"planner",element:d.jsx(kB,{})}),d.jsx(As,{path:"analytics",element:d.jsx(Ez,{})}),d.jsx(As,{path:"timer",element:d.jsx(Sz,{})}),d.jsx(As,{path:"chat",element:d.jsx(xB,{})}),d.jsx(As,{path:"settings",element:d.jsx(bz,{})}),d.jsx(As,{path:"admin",element:d.jsx(RB,{children:d.jsx(NB,{})})})]})]})})})})})}class jB extends k.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),d.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),d.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");BR.createRoot(document.getElementById("root")).render(d.jsx(HE.StrictMode,{children:d.jsx(jB,{children:d.jsx(J8,{children:d.jsx(yz,{children:d.jsx(dz,{children:d.jsx(IB,{})})})})})}));
