(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function UE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ip={exports:{}},vc={};var Ax;function uN(){if(Ax)return vc;Ax=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return vc.Fragment=e,vc.jsx=n,vc.jsxs=n,vc}var Cx;function hN(){return Cx||(Cx=1,Ip.exports=uN()),Ip.exports}var v=hN(),Dp={exports:{}},Re={};var Rx;function dN(){if(Rx)return Re;Rx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function z(L,se,ce){this.props=L,this.context=se,this.refs=j,this.updater=ce||I}z.prototype.isReactComponent={},z.prototype.setState=function(L,se){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,se,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function H(){}H.prototype=z.prototype;function K(L,se,ce){this.props=L,this.context=se,this.refs=j,this.updater=ce||I}var oe=K.prototype=new H;oe.constructor=K,O(oe,z.prototype),oe.isPureReactComponent=!0;var Q=Array.isArray;function ee(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(L,se,ce){var fe=ce.ref;return{$$typeof:t,type:L,key:se,ref:fe!==void 0?fe:null,props:ce}}function M(L,se){return R(L.type,se,L.props)}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function B(L){var se={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return se[ce]})}var D=/\/+/g;function Ge(L,se){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):se.toString(36)}function ye(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ee,ee):(L.status="pending",L.then(function(se){L.status==="pending"&&(L.status="fulfilled",L.value=se)},function(se){L.status==="pending"&&(L.status="rejected",L.reason=se)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function X(L,se,ce,fe,Se){var Me=typeof L;(Me==="undefined"||Me==="boolean")&&(L=null);var He=!1;if(L===null)He=!0;else switch(Me){case"bigint":case"string":case"number":He=!0;break;case"object":switch(L.$$typeof){case t:case e:He=!0;break;case y:return He=L._init,X(He(L._payload),se,ce,fe,Se)}}if(He)return Se=Se(L),He=fe===""?"."+Ge(L,0):fe,Q(Se)?(ce="",He!=null&&(ce=He.replace(D,"$&/")+"/"),X(Se,se,ce,"",function(jr){return jr})):Se!=null&&(V(Se)&&(Se=M(Se,ce+(Se.key==null||L&&L.key===Se.key?"":(""+Se.key).replace(D,"$&/")+"/")+He)),se.push(Se)),1;He=0;var Lt=fe===""?".":fe+":";if(Q(L))for(var ut=0;ut<L.length;ut++)fe=L[ut],Me=Lt+Ge(fe,ut),He+=X(fe,se,ce,Me,Se);else if(ut=A(L),typeof ut=="function")for(L=ut.call(L),ut=0;!(fe=L.next()).done;)fe=fe.value,Me=Lt+Ge(fe,ut++),He+=X(fe,se,ce,Me,Se);else if(Me==="object"){if(typeof L.then=="function")return X(ye(L),se,ce,fe,Se);throw se=String(L),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return He}function ae(L,se,ce){if(L==null)return L;var fe=[],Se=0;return X(L,fe,"","",function(Me){return se.call(ce,Me,Se++)}),fe}function ue(L){if(L._status===-1){var se=L._result;se=se(),se.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=se)}if(L._status===1)return L._result.default;throw L._result}var _e=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},De={map:ae,forEach:function(L,se,ce){ae(L,function(){se.apply(this,arguments)},ce)},count:function(L){var se=0;return ae(L,function(){se++}),se},toArray:function(L){return ae(L,function(se){return se})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Re.Activity=_,Re.Children=De,Re.Component=z,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=K,Re.StrictMode=s,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(L){return N.H.useMemoCache(L)}},Re.cache=function(L){return function(){return L.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(L,se,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var fe=O({},L.props),Se=L.key;if(se!=null)for(Me in se.key!==void 0&&(Se=""+se.key),se)!S.call(se,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&se.ref===void 0||(fe[Me]=se[Me]);var Me=arguments.length-2;if(Me===1)fe.children=ce;else if(1<Me){for(var He=Array(Me),Lt=0;Lt<Me;Lt++)He[Lt]=arguments[Lt+2];fe.children=He}return R(L.type,Se,fe)},Re.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Re.createElement=function(L,se,ce){var fe,Se={},Me=null;if(se!=null)for(fe in se.key!==void 0&&(Me=""+se.key),se)S.call(se,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=se[fe]);var He=arguments.length-2;if(He===1)Se.children=ce;else if(1<He){for(var Lt=Array(He),ut=0;ut<He;ut++)Lt[ut]=arguments[ut+2];Se.children=Lt}if(L&&L.defaultProps)for(fe in He=L.defaultProps,He)Se[fe]===void 0&&(Se[fe]=He[fe]);return R(L,Me,Se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:f,render:L}},Re.isValidElement=V,Re.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ue}},Re.memo=function(L,se){return{$$typeof:p,type:L,compare:se===void 0?null:se}},Re.startTransition=function(L){var se=N.T,ce={};N.T=ce;try{var fe=L(),Se=N.S;Se!==null&&Se(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ee,_e)}catch(Me){_e(Me)}finally{se!==null&&ce.types!==null&&(se.types=ce.types),N.T=se}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(L){return N.H.use(L)},Re.useActionState=function(L,se,ce){return N.H.useActionState(L,se,ce)},Re.useCallback=function(L,se){return N.H.useCallback(L,se)},Re.useContext=function(L){return N.H.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L,se){return N.H.useDeferredValue(L,se)},Re.useEffect=function(L,se){return N.H.useEffect(L,se)},Re.useEffectEvent=function(L){return N.H.useEffectEvent(L)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(L,se,ce){return N.H.useImperativeHandle(L,se,ce)},Re.useInsertionEffect=function(L,se){return N.H.useInsertionEffect(L,se)},Re.useLayoutEffect=function(L,se){return N.H.useLayoutEffect(L,se)},Re.useMemo=function(L,se){return N.H.useMemo(L,se)},Re.useOptimistic=function(L,se){return N.H.useOptimistic(L,se)},Re.useReducer=function(L,se,ce){return N.H.useReducer(L,se,ce)},Re.useRef=function(L){return N.H.useRef(L)},Re.useState=function(L){return N.H.useState(L)},Re.useSyncExternalStore=function(L,se,ce){return N.H.useSyncExternalStore(L,se,ce)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.4",Re}var Nx;function T0(){return Nx||(Nx=1,Dp.exports=dN()),Dp.exports}var k=T0();const BE=UE(k);var Mp={exports:{}},bc={},Vp={exports:{}},Op={};var kx;function fN(){return kx||(kx=1,(function(t){function e(X,ae){var ue=X.length;X.push(ae);e:for(;0<ue;){var _e=ue-1>>>1,De=X[_e];if(0<a(De,ae))X[_e]=ae,X[ue]=De,ue=_e;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ae=X[0],ue=X.pop();if(ue!==ae){X[0]=ue;e:for(var _e=0,De=X.length,L=De>>>1;_e<L;){var se=2*(_e+1)-1,ce=X[se],fe=se+1,Se=X[fe];if(0>a(ce,ue))fe<De&&0>a(Se,ce)?(X[_e]=Se,X[fe]=ue,_e=fe):(X[_e]=ce,X[se]=ue,_e=se);else if(fe<De&&0>a(Se,ue))X[_e]=Se,X[fe]=ue,_e=fe;else break e}}return ae}function a(X,ae){var ue=X.sortIndex-ae.sortIndex;return ue!==0?ue:X.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],y=1,_=null,T=3,A=!1,I=!1,O=!1,j=!1,z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function oe(X){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=X)s(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function Q(X){if(O=!1,oe(X),!I)if(n(m)!==null)I=!0,ee||(ee=!0,B());else{var ae=n(p);ae!==null&&ye(Q,ae.startTime-X)}}var ee=!1,N=-1,S=5,R=-1;function M(){return j?!0:!(t.unstable_now()-R<S)}function V(){if(j=!1,ee){var X=t.unstable_now();R=X;var ae=!0;try{e:{I=!1,O&&(O=!1,H(N),N=-1),A=!0;var ue=T;try{t:{for(oe(X),_=n(m);_!==null&&!(_.expirationTime>X&&M());){var _e=_.callback;if(typeof _e=="function"){_.callback=null,T=_.priorityLevel;var De=_e(_.expirationTime<=X);if(X=t.unstable_now(),typeof De=="function"){_.callback=De,oe(X),ae=!0;break t}_===n(m)&&s(m),oe(X)}else s(m);_=n(m)}if(_!==null)ae=!0;else{var L=n(p);L!==null&&ye(Q,L.startTime-X),ae=!1}}break e}finally{_=null,T=ue,A=!1}ae=void 0}}finally{ae?B():ee=!1}}}var B;if(typeof K=="function")B=function(){K(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ge=D.port2;D.port1.onmessage=V,B=function(){Ge.postMessage(null)}}else B=function(){z(V,0)};function ye(X,ae){N=z(function(){X(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(X){switch(T){case 1:case 2:case 3:var ae=3;break;default:ae=T}var ue=T;T=ae;try{return X()}finally{T=ue}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=T;T=X;try{return ae()}finally{T=ue}},t.unstable_scheduleCallback=function(X,ae,ue){var _e=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?_e+ue:_e):ue=_e,X){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ue+De,X={id:y++,callback:ae,priorityLevel:X,startTime:ue,expirationTime:De,sortIndex:-1},ue>_e?(X.sortIndex=ue,e(p,X),n(m)===null&&X===n(p)&&(O?(H(N),N=-1):O=!0,ye(Q,ue-_e))):(X.sortIndex=De,e(m,X),I||A||(I=!0,ee||(ee=!0,B()))),X},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(X){var ae=T;return function(){var ue=T;T=ae;try{return X.apply(this,arguments)}finally{T=ue}}}})(Op)),Op}var Ix;function mN(){return Ix||(Ix=1,Vp.exports=fN()),Vp.exports}var Pp={exports:{}},rn={};var Dx;function pN(){if(Dx)return rn;Dx=1;var t=T0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},rn.flushSync=function(m){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=y,s.d.f()}},rn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},rn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},rn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:A}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:T,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},rn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},rn.requestFormReset=function(m){s.d.r(m)},rn.unstable_batchedUpdates=function(m,p){return m(p)},rn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},rn.useFormStatus=function(){return u.H.useHostTransitionStatus()},rn.version="19.2.4",rn}var Mx;function gN(){if(Mx)return Pp.exports;Mx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pp.exports=pN(),Pp.exports}var Vx;function yN(){if(Vx)return bc;Vx=1;var t=mN(),e=T0(),n=gN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===c)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=g;else{for(var x=!1,w=d.child;w;){if(w===o){x=!0,o=d,c=g;break}if(w===c){x=!0,c=d,o=g;break}w=w.sibling}if(!x){for(w=g.child;w;){if(w===o){x=!0,o=g,c=d;break}if(w===c){x=!0,c=g,o=d;break}w=w.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),K=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Ge(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case z:return"Profiler";case j:return"StrictMode";case Q:return"Suspense";case ee:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case K:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:Ge(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return Ge(i(r))}catch{}}return null}var ye=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},_e=[],De=-1;function L(i){return{current:i}}function se(i){0>De||(i.current=_e[De],_e[De]=null,De--)}function ce(i,r){De++,_e[De]=i.current,i.current=r}var fe=L(null),Se=L(null),Me=L(null),He=L(null);function Lt(i,r){switch(ce(Me,r),ce(Se,i),ce(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Q_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Q_(r),i=X_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}se(fe),ce(fe,i)}function ut(){se(fe),se(Se),se(Me)}function jr(i){i.memoizedState!==null&&ce(He,i);var r=fe.current,o=X_(r,i.type);r!==o&&(ce(Se,i),ce(fe,o))}function Pa(i){Se.current===i&&(se(fe),se(Se)),He.current===i&&(se(He),mc._currentValue=ue)}var ja,La;function Ei(i){if(ja===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ja=r&&r[1]||"",La=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ja+i+La}var ml=!1;function Lr(i,r){if(!i||ml)return"";ml=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(J){var Y=J}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(J){Y=J}i.call(ne.prototype)}}else{try{throw Error()}catch(J){Y=J}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],w=g[1];if(x&&w){var P=x.split(`
`),$=w.split(`
`);for(d=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(c===P.length||d===$.length)for(c=P.length-1,d=$.length-1;1<=c&&0<=d&&P[c]!==$[d];)d--;for(;1<=c&&0<=d;c--,d--)if(P[c]!==$[d]){if(c!==1||d!==1)do if(c--,d--,0>d||P[c]!==$[d]){var Z=`
`+P[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=d);break}}}finally{ml=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ei(o):""}function pl(i,r){switch(i.tag){case 26:case 27:case 5:return Ei(i.type);case 16:return Ei("Lazy");case 13:return i.child!==r&&r!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Lr(i.type,!1);case 11:return Lr(i.type.render,!1);case 1:return Lr(i.type,!0);case 31:return Ei("Activity");default:return""}}function gl(i){try{var r="",o=null;do r+=pl(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var wt=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,Ps=t.unstable_cancelCallback,Mf=t.unstable_shouldYield,_u=t.unstable_requestPaint,hn=t.unstable_now,Ur=t.unstable_getCurrentPriorityLevel,yl=t.unstable_ImmediatePriority,vl=t.unstable_UserBlockingPriority,js=t.unstable_NormalPriority,Vf=t.unstable_LowPriority,xu=t.unstable_IdlePriority,Tu=t.log,Eu=t.unstable_setDisableYieldValue,ti=null,Yt=null;function On(i){if(typeof Tu=="function"&&Eu(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ti,i)}catch{}}var bt=Math.clz32?Math.clz32:Su,wu=Math.log,Ua=Math.LN2;function Su(i){return i>>>=0,i===0?32:31-(wu(i)/Ua|0)|0}var wi=256,Br=262144,St=4194304;function Si(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ai(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~g,c!==0?d=Si(c):(x&=w,x!==0?d=Si(x):o||(o=w&~i,o!==0&&(d=Si(o))))):(w=c&~g,w!==0?d=Si(w):x!==0?d=Si(x):o||(o=c&~i,o!==0&&(d=Si(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function ni(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Of(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Au(){var i=St;return St<<=1,(St&62914560)===0&&(St=4194304),i}function Ci(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function zr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Pf(i,r,o,c,d,g){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,P=i.expirationTimes,$=i.hiddenUpdates;for(o=x&~o;0<o;){var Z=31-bt(o),ne=1<<Z;w[Z]=0,P[Z]=-1;var Y=$[Z];if(Y!==null)for($[Z]=null,Z=0;Z<Y.length;Z++){var J=Y[Z];J!==null&&(J.lane&=-536870913)}o&=~ne}c!==0&&Fr(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(x&~r))}function Fr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-bt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function bl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-bt(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function _l(i,r){var o=r&-r;return o=(o&42)!==0?1:Hr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Hr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function is(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Cu(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:bx(i.type))}function ii(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var si=Math.random().toString(36).slice(2),At="__reactFiber$"+si,Ht="__reactProps$"+si,Ri="__reactContainer$"+si,Ba="__reactEvents$"+si,jf="__reactListeners$"+si,Ru="__reactHandles$"+si,Nu="__reactResources$"+si,Ni="__reactMarker$"+si;function za(i){delete i[At],delete i[Ht],delete i[Ba],delete i[jf],delete i[Ru]}function ki(i){var r=i[At];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ri]||o[At]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=ix(i);i!==null;){if(o=i[At])return o;i=ix(i)}return r}i=o,o=i.parentNode}return null}function Pn(i){if(i=i[At]||i[Ri]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Sn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ii(i){var r=i[Nu];return r||(r=i[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(i){i[Ni]=!0}var xl=new Set,Tl={};function Di(i,r){Mi(i,r),Mi(i+"Capture",r)}function Mi(i,r){for(Tl[i]=r,i=0;i<r.length;i++)xl.add(r[i])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},Sl={};function ku(i){return wt.call(Sl,i)?!0:wt.call(wl,i)?!1:El.test(i)?Sl[i]=!0:(wl[i]=!0,!1)}function Fa(i,r,o){if(ku(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function An(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Rt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ls(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Al(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function We(i){if(!i._valueTracker){var r=Ls(i)?"checked":"value";i._valueTracker=Al(i,r,""+i[r])}}function qr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Ls(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Vi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Gr=/[\n"\\]/g;function yn(i){return i.replace(Gr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ha(i,r,o,c,d,g,x,w){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qt(r)):i.value!==""+qt(r)&&(i.value=""+qt(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?Cl(i,x,qt(r)):o!=null?Cl(i,x,qt(o)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+qt(w):i.removeAttribute("name")}function Iu(i,r,o,c,d,g,x,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){We(i);return}o=o!=null?""+qt(o):"",r=r!=null?""+qt(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),We(i)}function Cl(i,r,o){r==="number"&&Vi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Us(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+qt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Du(i,r,o){if(r!=null&&(r=""+qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+qt(o):""}function Bs(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(ye(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=qt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),We(i)}function vn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rl(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Mu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Nl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&Rl(i,d,c)}else for(var g in r)r.hasOwnProperty(g)&&Rl(i,g,r[g])}function qa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(i){return zs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ri(){}var kl=null;function jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fs=null,Oi=null;function $r(i){var r=Pn(i);if(r&&(i=r.stateNode)){var o=i[Ht]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ha(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[Ht]||null;if(!d)throw Error(s(90));Ha(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&qr(c)}break e;case"textarea":Du(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Us(i,!!o.multiple,r,!1)}}}var $a=!1;function Hs(i,r,o){if($a)return i(r,o);$a=!0;try{var c=i(r);return c}finally{if($a=!1,(Fs!==null||Oi!==null)&&(Ch(),Fs&&(r=Fs,i=Oi,Oi=Fs=null,$r(r),i)))for(r=0;r<i.length;r++)$r(i[r])}}function ai(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Ht]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kr=!1;if(Ln)try{var et={};Object.defineProperty(et,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Kr=!1}var Pi=null,Il=null,Yr=null;function Dl(){if(Yr)return Yr;var i,r=Il,o=r.length,c,d="value"in Pi?Pi.value:Pi.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var x=o-i;for(c=1;c<=x&&r[o-c]===d[g-c];c++);return Yr=d.slice(i,1<c?1-c:void 0)}function Qr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ss(){return!0}function oi(){return!1}function Qt(i){function r(o,c,d,g,x){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ss:oi,this.isPropagationStopped=oi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),r}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Qt(rs),qs=_({},rs,{view:0,detail:0}),Ml=Qt(qs),Gs,Ka,Li,Ya=_({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Li&&(Li&&i.type==="mousemove"?(Gs=i.screenX-Li.screenX,Ka=i.screenY-Li.screenY):Ka=Gs=0,Li=i),Gs)},movementY:function(i){return"movementY"in i?i.movementY:Ka}}),Vl=Qt(Ya),Xr=_({},Ya,{dataTransfer:0}),Ou=Qt(Xr),Pu=_({},qs,{relatedTarget:0}),Wr=Qt(Pu),Ol=_({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=Qt(Ol),Qa=_({},rs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Lu=Qt(Qa),Uu=_({},rs,{data:0}),Ui=Qt(Uu),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hu(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Fu[i])?!!r[i]:!1}function $s(){return Hu}var dn=_({},qs,{key:function(i){if(i.key){var r=Bu[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Qr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(i){return i.type==="keypress"?Qr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qu=Qt(dn),Gu=_({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Qt(Gu),h=_({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),b=Qt(h),E=_({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Qt(E),q=_({},Ya,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Qt(q),le=_({},rs,{newState:0,oldState:0}),ke=Qt(le),_t=[9,13,27,32],Ye=Ln&&"CompositionEvent"in window,ht=null;Ln&&"documentMode"in document&&(ht=document.documentMode);var Un=Ln&&"TextEvent"in window&&!ht,Bi=Ln&&(!Ye||ht&&8<ht&&11>=ht),li=" ",ci=!1;function Jr(i,r){switch(i){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Wa=!1;function VC(i,r){switch(i){case"compositionend":return Xa(r);case"keypress":return r.which!==32?null:(ci=!0,li);case"textInput":return i=r.data,i===li&&ci?null:i;default:return null}}function OC(i,r){if(Wa)return i==="compositionend"||!Ye&&Jr(i,r)?(i=Dl(),Yr=Il=Pi=null,Wa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bi&&r.locale!=="ko"?null:r.data;default:return null}}var PC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function av(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!PC[i.type]:r==="textarea"}function ov(i,r,o,c){Fs?Oi?Oi.push(c):Oi=[c]:Fs=c,r=Vh(r,"onChange"),0<r.length&&(o=new ji("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Pl=null,jl=null;function jC(i){H_(i,0)}function $u(i){var r=Sn(i);if(qr(r))return i}function lv(i,r){if(i==="change")return r}var cv=!1;if(Ln){var Lf;if(Ln){var Uf="oninput"in document;if(!Uf){var uv=document.createElement("div");uv.setAttribute("oninput","return;"),Uf=typeof uv.oninput=="function"}Lf=Uf}else Lf=!1;cv=Lf&&(!document.documentMode||9<document.documentMode)}function hv(){Pl&&(Pl.detachEvent("onpropertychange",dv),jl=Pl=null)}function dv(i){if(i.propertyName==="value"&&$u(jl)){var r=[];ov(r,jl,i,jn(i)),Hs(jC,r)}}function LC(i,r,o){i==="focusin"?(hv(),Pl=r,jl=o,Pl.attachEvent("onpropertychange",dv)):i==="focusout"&&hv()}function UC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $u(jl)}function BC(i,r){if(i==="click")return $u(r)}function zC(i,r){if(i==="input"||i==="change")return $u(r)}function FC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Cn=typeof Object.is=="function"?Object.is:FC;function Ll(i,r){if(Cn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!wt.call(r,d)||!Cn(i[d],r[d]))return!1}return!0}function fv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mv(i,r){var o=fv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=fv(o)}}function pv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?pv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function gv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Vi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Vi(i.document)}return r}function Bf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var HC=Ln&&"documentMode"in document&&11>=document.documentMode,Ja=null,zf=null,Ul=null,Ff=!1;function yv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ff||Ja==null||Ja!==Vi(c)||(c=Ja,"selectionStart"in c&&Bf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ul&&Ll(Ul,c)||(Ul=c,c=Vh(zf,"onSelect"),0<c.length&&(r=new ji("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Ja)))}function Zr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Za={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},Hf={},vv={};Ln&&(vv=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function ea(i){if(Hf[i])return Hf[i];if(!Za[i])return i;var r=Za[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in vv)return Hf[i]=r[o];return i}var bv=ea("animationend"),_v=ea("animationiteration"),xv=ea("animationstart"),qC=ea("transitionrun"),GC=ea("transitionstart"),$C=ea("transitioncancel"),Tv=ea("transitionend"),Ev=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function ui(i,r){Ev.set(i,r),Di(r,[i])}var Ku=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],eo=0,Gf=0;function Yu(){for(var i=eo,r=Gf=eo=0;r<i;){var o=Bn[r];Bn[r++]=null;var c=Bn[r];Bn[r++]=null;var d=Bn[r];Bn[r++]=null;var g=Bn[r];if(Bn[r++]=null,c!==null&&d!==null){var x=c.pending;x===null?d.next=d:(d.next=x.next,x.next=d),c.pending=d}g!==0&&wv(o,d,g)}}function Qu(i,r,o,c){Bn[eo++]=i,Bn[eo++]=r,Bn[eo++]=o,Bn[eo++]=c,Gf|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function $f(i,r,o,c){return Qu(i,r,o,c),Xu(i)}function ta(i,r){return Qu(i,null,null,r),Xu(i)}function wv(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-bt(o),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[r]:c.push(r),r.lane=o|536870912),g):null}function Xu(i){if(50<oc)throw oc=0,tp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var to={};function KC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,r,o,c){return new KC(i,r,o,c)}function Kf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function os(i,r){var o=i.alternate;return o===null?(o=Rn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Sv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Wu(i,r,o,c,d,g){var x=0;if(c=i,typeof i=="function")Kf(i)&&(x=1);else if(typeof i=="string")x=JR(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Rn(31,o,r,d),i.elementType=R,i.lanes=g,i;case O:return na(o.children,d,g,r);case j:x=8,d|=24;break;case z:return i=Rn(12,o,r,d|2),i.elementType=z,i.lanes=g,i;case Q:return i=Rn(13,o,r,d),i.elementType=Q,i.lanes=g,i;case ee:return i=Rn(19,o,r,d),i.elementType=ee,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:x=10;break e;case H:x=9;break e;case oe:x=11;break e;case N:x=14;break e;case S:x=16,c=null;break e}x=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Rn(x,o,r,d),r.elementType=i,r.type=c,r.lanes=g,r}function na(i,r,o,c){return i=Rn(7,i,c,r),i.lanes=o,i}function Yf(i,r,o){return i=Rn(6,i,null,r),i.lanes=o,i}function Av(i){var r=Rn(18,null,null,0);return r.stateNode=i,r}function Qf(i,r,o){return r=Rn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Cv=new WeakMap;function zn(i,r){if(typeof i=="object"&&i!==null){var o=Cv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:gl(r)},Cv.set(i,r),r)}return{value:i,source:r,stack:gl(r)}}var no=[],io=0,Ju=null,Bl=0,Fn=[],Hn=0,Ks=null,zi=1,Fi="";function ls(i,r){no[io++]=Bl,no[io++]=Ju,Ju=i,Bl=r}function Rv(i,r,o){Fn[Hn++]=zi,Fn[Hn++]=Fi,Fn[Hn++]=Ks,Ks=i;var c=zi;i=Fi;var d=32-bt(c)-1;c&=~(1<<d),o+=1;var g=32-bt(r)+d;if(30<g){var x=d-d%5;g=(c&(1<<x)-1).toString(32),c>>=x,d-=x,zi=1<<32-bt(r)+d|o<<d|c,Fi=g+i}else zi=1<<g|o<<d|c,Fi=i}function Xf(i){i.return!==null&&(ls(i,1),Rv(i,1,0))}function Wf(i){for(;i===Ju;)Ju=no[--io],no[io]=null,Bl=no[--io],no[io]=null;for(;i===Ks;)Ks=Fn[--Hn],Fn[Hn]=null,Fi=Fn[--Hn],Fn[Hn]=null,zi=Fn[--Hn],Fn[Hn]=null}function Nv(i,r){Fn[Hn++]=zi,Fn[Hn++]=Fi,Fn[Hn++]=Ks,zi=r.id,Fi=r.overflow,Ks=i}var Xt=null,ot=null,Fe=!1,Ys=null,qn=!1,Jf=Error(s(519));function Qs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(zn(r,i)),Jf}function kv(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[At]=i,r[Ht]=c,o){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(o=0;o<cc.length;o++)Pe(cc[o],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),Iu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Bs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||K_(r.textContent,o)?(c.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),c.onScroll!=null&&Pe("scroll",r),c.onScrollEnd!=null&&Pe("scrollend",r),c.onClick!=null&&(r.onclick=ri),r=!0):r=!1,r||Qs(i,!0)}function Iv(i){for(Xt=i.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Xt=Xt.return}}function so(i){if(i!==Xt)return!1;if(!Fe)return Iv(i),Fe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||gp(i.type,i.memoizedProps)),o=!o),o&&ot&&Qs(i),Iv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=nx(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=nx(i)}else r===27?(r=ot,cr(i.type)?(i=xp,xp=null,ot=i):ot=r):ot=Xt?$n(i.stateNode.nextSibling):null;return!0}function ia(){ot=Xt=null,Fe=!1}function Zf(){var i=Ys;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),Ys=null),i}function zl(i){Ys===null?Ys=[i]:Ys.push(i)}var em=L(null),sa=null,cs=null;function Xs(i,r,o){ce(em,r._currentValue),r._currentValue=o}function us(i){i._currentValue=em.current,se(em)}function tm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function nm(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var x=d.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=d;for(var P=0;P<r.length;P++)if(w.context===r[P]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),tm(g.return,o,i),c||(x=null);break e}g=w.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(s(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),tm(x,o,i),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===i){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function ro(i,r,o,c){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var w=d.type;Cn(d.pendingProps.value,x.value)||(i!==null?i.push(w):i=[w])}}else if(d===He.current){if(x=d.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(mc):i=[mc])}d=d.return}i!==null&&nm(r,i,o,c),r.flags|=262144}function Zu(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ra(i){sa=i,cs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wt(i){return Dv(sa,i)}function eh(i,r){return sa===null&&ra(i),Dv(i,r)}function Dv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},cs===null){if(i===null)throw Error(s(308));cs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else cs=cs.next=r;return o}var YC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},QC=t.unstable_scheduleCallback,XC=t.unstable_NormalPriority,Nt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function im(){return{controller:new YC,data:new Map,refCount:0}}function Fl(i){i.refCount--,i.refCount===0&&QC(XC,function(){i.controller.abort()})}var Hl=null,sm=0,ao=0,oo=null;function WC(i,r){if(Hl===null){var o=Hl=[];sm=0,ao=op(),oo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return sm++,r.then(Mv,Mv),r}function Mv(){if(--sm===0&&Hl!==null){oo!==null&&(oo.status="fulfilled");var i=Hl;Hl=null,ao=0,oo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function JC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Vv=X.S;X.S=function(i,r){y_=hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&WC(i,r),Vv!==null&&Vv(i,r)};var aa=L(null);function rm(){var i=aa.current;return i!==null?i:st.pooledCache}function th(i,r){r===null?ce(aa,aa.current):ce(aa,r.pool)}function Ov(){var i=rm();return i===null?null:{parent:Nt._currentValue,pool:i}}var lo=Error(s(460)),am=Error(s(474)),nh=Error(s(542)),ih={then:function(){}};function Pv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function jv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ri,ri),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Uv(i),i;default:if(typeof r.status=="string")r.then(ri,ri);else{if(i=st,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Uv(i),i}throw la=r,lo}}function oa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(la=o,lo):o}}var la=null;function Lv(){if(la===null)throw Error(s(459));var i=la;return la=null,i}function Uv(i){if(i===lo||i===nh)throw Error(s(483))}var co=null,ql=0;function sh(i){var r=ql;return ql+=1,co===null&&(co=[]),jv(co,i,r)}function Gl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function rh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Bv(i){function r(F,U){if(i){var G=F.deletions;G===null?(F.deletions=[U],F.flags|=16):G.push(U)}}function o(F,U){if(!i)return null;for(;U!==null;)r(F,U),U=U.sibling;return null}function c(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function d(F,U){return F=os(F,U),F.index=0,F.sibling=null,F}function g(F,U,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<U?(F.flags|=67108866,U):G):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function x(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function w(F,U,G,te){return U===null||U.tag!==6?(U=Yf(G,F.mode,te),U.return=F,U):(U=d(U,G),U.return=F,U)}function P(F,U,G,te){var ve=G.type;return ve===O?Z(F,U,G.props.children,te,G.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&oa(ve)===U.type)?(U=d(U,G.props),Gl(U,G),U.return=F,U):(U=Wu(G.type,G.key,G.props,null,F.mode,te),Gl(U,G),U.return=F,U)}function $(F,U,G,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Qf(G,F.mode,te),U.return=F,U):(U=d(U,G.children||[]),U.return=F,U)}function Z(F,U,G,te,ve){return U===null||U.tag!==7?(U=na(G,F.mode,te,ve),U.return=F,U):(U=d(U,G),U.return=F,U)}function ne(F,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Yf(""+U,F.mode,G),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return G=Wu(U.type,U.key,U.props,null,F.mode,G),Gl(G,U),G.return=F,G;case I:return U=Qf(U,F.mode,G),U.return=F,U;case S:return U=oa(U),ne(F,U,G)}if(ye(U)||B(U))return U=na(U,F.mode,G,null),U.return=F,U;if(typeof U.then=="function")return ne(F,sh(U),G);if(U.$$typeof===K)return ne(F,eh(F,U),G);rh(F,U)}return null}function Y(F,U,G,te){var ve=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:w(F,U,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===ve?P(F,U,G,te):null;case I:return G.key===ve?$(F,U,G,te):null;case S:return G=oa(G),Y(F,U,G,te)}if(ye(G)||B(G))return ve!==null?null:Z(F,U,G,te,null);if(typeof G.then=="function")return Y(F,U,sh(G),te);if(G.$$typeof===K)return Y(F,U,eh(F,G),te);rh(F,G)}return null}function J(F,U,G,te,ve){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(G)||null,w(U,F,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return F=F.get(te.key===null?G:te.key)||null,P(U,F,te,ve);case I:return F=F.get(te.key===null?G:te.key)||null,$(U,F,te,ve);case S:return te=oa(te),J(F,U,G,te,ve)}if(ye(te)||B(te))return F=F.get(G)||null,Z(U,F,te,ve,null);if(typeof te.then=="function")return J(F,U,G,sh(te),ve);if(te.$$typeof===K)return J(F,U,G,eh(U,te),ve);rh(U,te)}return null}function me(F,U,G,te){for(var ve=null,$e=null,ge=U,Ve=U=0,Le=null;ge!==null&&Ve<G.length;Ve++){ge.index>Ve?(Le=ge,ge=null):Le=ge.sibling;var Ke=Y(F,ge,G[Ve],te);if(Ke===null){ge===null&&(ge=Le);break}i&&ge&&Ke.alternate===null&&r(F,ge),U=g(Ke,U,Ve),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke,ge=Le}if(Ve===G.length)return o(F,ge),Fe&&ls(F,Ve),ve;if(ge===null){for(;Ve<G.length;Ve++)ge=ne(F,G[Ve],te),ge!==null&&(U=g(ge,U,Ve),$e===null?ve=ge:$e.sibling=ge,$e=ge);return Fe&&ls(F,Ve),ve}for(ge=c(ge);Ve<G.length;Ve++)Le=J(ge,F,Ve,G[Ve],te),Le!==null&&(i&&Le.alternate!==null&&ge.delete(Le.key===null?Ve:Le.key),U=g(Le,U,Ve),$e===null?ve=Le:$e.sibling=Le,$e=Le);return i&&ge.forEach(function(mr){return r(F,mr)}),Fe&&ls(F,Ve),ve}function xe(F,U,G,te){if(G==null)throw Error(s(151));for(var ve=null,$e=null,ge=U,Ve=U=0,Le=null,Ke=G.next();ge!==null&&!Ke.done;Ve++,Ke=G.next()){ge.index>Ve?(Le=ge,ge=null):Le=ge.sibling;var mr=Y(F,ge,Ke.value,te);if(mr===null){ge===null&&(ge=Le);break}i&&ge&&mr.alternate===null&&r(F,ge),U=g(mr,U,Ve),$e===null?ve=mr:$e.sibling=mr,$e=mr,ge=Le}if(Ke.done)return o(F,ge),Fe&&ls(F,Ve),ve;if(ge===null){for(;!Ke.done;Ve++,Ke=G.next())Ke=ne(F,Ke.value,te),Ke!==null&&(U=g(Ke,U,Ve),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke);return Fe&&ls(F,Ve),ve}for(ge=c(ge);!Ke.done;Ve++,Ke=G.next())Ke=J(ge,F,Ve,Ke.value,te),Ke!==null&&(i&&Ke.alternate!==null&&ge.delete(Ke.key===null?Ve:Ke.key),U=g(Ke,U,Ve),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke);return i&&ge.forEach(function(cN){return r(F,cN)}),Fe&&ls(F,Ve),ve}function it(F,U,G,te){if(typeof G=="object"&&G!==null&&G.type===O&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var ve=G.key;U!==null;){if(U.key===ve){if(ve=G.type,ve===O){if(U.tag===7){o(F,U.sibling),te=d(U,G.props.children),te.return=F,F=te;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&oa(ve)===U.type){o(F,U.sibling),te=d(U,G.props),Gl(te,G),te.return=F,F=te;break e}o(F,U);break}else r(F,U);U=U.sibling}G.type===O?(te=na(G.props.children,F.mode,te,G.key),te.return=F,F=te):(te=Wu(G.type,G.key,G.props,null,F.mode,te),Gl(te,G),te.return=F,F=te)}return x(F);case I:e:{for(ve=G.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){o(F,U.sibling),te=d(U,G.children||[]),te.return=F,F=te;break e}else{o(F,U);break}else r(F,U);U=U.sibling}te=Qf(G,F.mode,te),te.return=F,F=te}return x(F);case S:return G=oa(G),it(F,U,G,te)}if(ye(G))return me(F,U,G,te);if(B(G)){if(ve=B(G),typeof ve!="function")throw Error(s(150));return G=ve.call(G),xe(F,U,G,te)}if(typeof G.then=="function")return it(F,U,sh(G),te);if(G.$$typeof===K)return it(F,U,eh(F,G),te);rh(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(o(F,U.sibling),te=d(U,G),te.return=F,F=te):(o(F,U),te=Yf(G,F.mode,te),te.return=F,F=te),x(F)):o(F,U)}return function(F,U,G,te){try{ql=0;var ve=it(F,U,G,te);return co=null,ve}catch(ge){if(ge===lo||ge===nh)throw ge;var $e=Rn(29,ge,null,F.mode);return $e.lanes=te,$e.return=F,$e}}}var ca=Bv(!0),zv=Bv(!1),Ws=!1;function om(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zs(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=Xu(i),wv(i,null,o),r}return Qu(i,c,r,o),Xu(i)}function $l(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,bl(i,o)}}function cm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var um=!1;function Kl(){if(um){var i=oo;if(i!==null)throw i}}function Yl(i,r,o,c){um=!1;var d=i.updateQueue;Ws=!1;var g=d.firstBaseUpdate,x=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var P=w,$=P.next;P.next=null,x===null?g=$:x.next=$,x=P;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==x&&(w===null?Z.firstBaseUpdate=$:w.next=$,Z.lastBaseUpdate=P))}if(g!==null){var ne=d.baseState;x=0,Z=$=P=null,w=g;do{var Y=w.lane&-536870913,J=Y!==w.lane;if(J?(je&Y)===Y:(c&Y)===Y){Y!==0&&Y===ao&&(um=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=i,xe=w;Y=r;var it=o;switch(xe.tag){case 1:if(me=xe.payload,typeof me=="function"){ne=me.call(it,ne,Y);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=xe.payload,Y=typeof me=="function"?me.call(it,ne,Y):me,Y==null)break e;ne=_({},ne,Y);break e;case 2:Ws=!0}}Y=w.callback,Y!==null&&(i.flags|=64,J&&(i.flags|=8192),J=d.callbacks,J===null?d.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?($=Z=J,P=ne):Z=Z.next=J,x|=Y;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;J=w,w=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);Z===null&&(P=ne),d.baseState=P,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),sr|=x,i.lanes=x,i.memoizedState=ne}}function Fv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Hv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Fv(o[i],r)}var uo=L(null),ah=L(0);function qv(i,r){i=bs,ce(ah,i),ce(uo,r),bs=i|r.baseLanes}function hm(){ce(ah,bs),ce(uo,uo.current)}function dm(){bs=ah.current,se(uo),se(ah)}var Nn=L(null),Gn=null;function er(i){var r=i.alternate;ce(xt,xt.current&1),ce(Nn,i),Gn===null&&(r===null||uo.current!==null||r.memoizedState!==null)&&(Gn=i)}function fm(i){ce(xt,xt.current),ce(Nn,i),Gn===null&&(Gn=i)}function Gv(i){i.tag===22?(ce(xt,xt.current),ce(Nn,i),Gn===null&&(Gn=i)):tr()}function tr(){ce(xt,xt.current),ce(Nn,Nn.current)}function kn(i){se(Nn),Gn===i&&(Gn=null),se(xt)}var xt=L(0);function oh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||bp(o)||_p(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hs=0,Ie=null,tt=null,kt=null,lh=!1,ho=!1,ua=!1,ch=0,Ql=0,fo=null,ZC=0;function gt(){throw Error(s(321))}function mm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Cn(i[o],r[o]))return!1;return!0}function pm(i,r,o,c,d,g){return hs=g,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?Rb:km,ua=!1,g=o(c,d),ua=!1,ho&&(g=Kv(r,o,c,d)),$v(i),g}function $v(i){X.H=Jl;var r=tt!==null&&tt.next!==null;if(hs=0,kt=tt=Ie=null,lh=!1,Ql=0,fo=null,r)throw Error(s(300));i===null||It||(i=i.dependencies,i!==null&&Zu(i)&&(It=!0))}function Kv(i,r,o,c){Ie=i;var d=0;do{if(ho&&(fo=null),Ql=0,ho=!1,25<=d)throw Error(s(301));if(d+=1,kt=tt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=Nb,g=r(o,c)}while(ho);return g}function eR(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?Xl(r):r,i=i.useState()[0],(tt!==null?tt.memoizedState:null)!==i&&(Ie.flags|=1024),r}function gm(){var i=ch!==0;return ch=0,i}function ym(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function vm(i){if(lh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}lh=!1}hs=0,kt=tt=Ie=null,ho=!1,Ql=ch=0,fo=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ie.memoizedState=kt=i:kt=kt.next=i,kt}function Tt(){if(tt===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var r=kt===null?Ie.memoizedState:kt.next;if(r!==null)kt=r,tt=i;else{if(i===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},kt===null?Ie.memoizedState=kt=i:kt=kt.next=i}return kt}function uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(i){var r=Ql;return Ql+=1,fo===null&&(fo=[]),i=jv(fo,i,r),r=Ie,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Rb:km),i}function hh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xl(i);if(i.$$typeof===K)return Wt(i)}throw Error(s(438,String(i)))}function bm(i){var r=null,o=Ie.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=uh(),Ie.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=M;return r.index++,o}function ds(i,r){return typeof r=="function"?r(i):r}function dh(i){var r=Tt();return _m(r,tt,i)}function _m(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var x=d.next;d.next=g.next,g.next=x}r.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var w=x=null,P=null,$=r,Z=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(je&ne)===ne:(hs&ne)===ne){var Y=$.revertLane;if(Y===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===ao&&(Z=!0);else if((hs&Y)===Y){$=$.next,Y===ao&&(Z=!0);continue}else ne={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(w=P=ne,x=g):P=P.next=ne,Ie.lanes|=Y,sr|=Y;ne=$.action,ua&&o(g,ne),g=$.hasEagerState?$.eagerState:o(g,ne)}else Y={lane:ne,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(w=P=Y,x=g):P=P.next=Y,Ie.lanes|=ne,sr|=ne;$=$.next}while($!==null&&$!==r);if(P===null?x=g:P.next=w,!Cn(g,i.memoizedState)&&(It=!0,Z&&(o=oo,o!==null)))throw o;i.memoizedState=g,i.baseState=x,i.baseQueue=P,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function xm(i){var r=Tt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var x=d=d.next;do g=i(g,x.action),x=x.next;while(x!==d);Cn(g,r.memoizedState)||(It=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Yv(i,r,o){var c=Ie,d=Tt(),g=Fe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var x=!Cn((tt||d).memoizedState,o);if(x&&(d.memoizedState=o,It=!0),d=d.queue,wm(Wv.bind(null,c,d,i),[i]),d.getSnapshot!==r||x||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,mo(9,{destroy:void 0},Xv.bind(null,c,d,o,r),null),st===null)throw Error(s(349));g||(hs&127)!==0||Qv(c,r,o)}return o}function Qv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ie.updateQueue,r===null?(r=uh(),Ie.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Xv(i,r,o,c){r.value=o,r.getSnapshot=c,Jv(r)&&Zv(i)}function Wv(i,r,o){return o(function(){Jv(r)&&Zv(i)})}function Jv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Cn(i,o)}catch{return!0}}function Zv(i){var r=ta(i,2);r!==null&&En(r,i,2)}function Tm(i){var r=fn();if(typeof i=="function"){var o=i;if(i=o(),ua){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:i},r}function eb(i,r,o,c){return i.baseState=o,_m(i,tt,typeof c=="function"?c:ds)}function tR(i,r,o,c,d){if(ph(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};X.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,tb(r,g)):(g.next=o.next,r.pending=o.next=g)}}function tb(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var g=X.T,x={};X.T=x;try{var w=o(d,c),P=X.S;P!==null&&P(x,w),nb(i,r,w)}catch($){Em(i,r,$)}finally{g!==null&&x.types!==null&&(g.types=x.types),X.T=g}}else try{g=o(d,c),nb(i,r,g)}catch($){Em(i,r,$)}}function nb(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){ib(i,r,c)},function(c){return Em(i,r,c)}):ib(i,r,o)}function ib(i,r,o){r.status="fulfilled",r.value=o,sb(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,tb(i,o)))}function Em(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,sb(r),r=r.next;while(r!==c)}i.action=null}function sb(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function rb(i,r){return r}function ab(i,r){if(Fe){var o=st.formState;if(o!==null){e:{var c=Ie;if(Fe){if(ot){t:{for(var d=ot,g=qn;d.nodeType!==8;){if(!g){d=null;break t}if(d=$n(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ot=$n(d.nextSibling),c=d.data==="F!";break e}}Qs(c)}c=!1}c&&(r=o[0])}}return o=fn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rb,lastRenderedState:r},o.queue=c,o=Sb.bind(null,Ie,c),c.dispatch=o,c=Tm(!1),g=Nm.bind(null,Ie,!1,c.queue),c=fn(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=tR.bind(null,Ie,d,g,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function ob(i){var r=Tt();return lb(r,tt,i)}function lb(i,r,o){if(r=_m(i,r,rb)[0],i=dh(ds)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Xl(r)}catch(x){throw x===lo?nh:x}else c=r;r=Tt();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ie.flags|=2048,mo(9,{destroy:void 0},nR.bind(null,d,o),null)),[c,g,i]}function nR(i,r){i.action=r}function cb(i){var r=Tt(),o=tt;if(o!==null)return lb(r,o,i);Tt(),r=r.memoizedState,o=Tt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function mo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=uh(),Ie.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function ub(){return Tt().memoizedState}function fh(i,r,o,c){var d=fn();Ie.flags|=i,d.memoizedState=mo(1|r,{destroy:void 0},o,c===void 0?null:c)}function mh(i,r,o,c){var d=Tt();c=c===void 0?null:c;var g=d.memoizedState.inst;tt!==null&&c!==null&&mm(c,tt.memoizedState.deps)?d.memoizedState=mo(r,g,o,c):(Ie.flags|=i,d.memoizedState=mo(1|r,g,o,c))}function hb(i,r){fh(8390656,8,i,r)}function wm(i,r){mh(2048,8,i,r)}function iR(i){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=uh(),Ie.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function db(i){var r=Tt().memoizedState;return iR({ref:r,nextImpl:i}),function(){if((Qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function fb(i,r){return mh(4,2,i,r)}function mb(i,r){return mh(4,4,i,r)}function pb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function gb(i,r,o){o=o!=null?o.concat([i]):null,mh(4,4,pb.bind(null,r,i),o)}function Sm(){}function yb(i,r){var o=Tt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&mm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function vb(i,r){var o=Tt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&mm(r,c[1]))return c[0];if(c=i(),ua){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[c,r],c}function Am(i,r,o){return o===void 0||(hs&1073741824)!==0&&(je&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=b_(),Ie.lanes|=i,sr|=i,o)}function bb(i,r,o,c){return Cn(o,r)?o:uo.current!==null?(i=Am(i,o,c),Cn(i,r)||(It=!0),i):(hs&42)===0||(hs&1073741824)!==0&&(je&261930)===0?(It=!0,i.memoizedState=o):(i=b_(),Ie.lanes|=i,sr|=i,r)}function _b(i,r,o,c,d){var g=ae.p;ae.p=g!==0&&8>g?g:8;var x=X.T,w={};X.T=w,Nm(i,!1,r,o);try{var P=d(),$=X.S;if($!==null&&$(w,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var Z=JC(P,c);Wl(i,r,Z,Mn(i))}else Wl(i,r,c,Mn(i))}catch(ne){Wl(i,r,{then:function(){},status:"rejected",reason:ne},Mn())}finally{ae.p=g,x!==null&&w.types!==null&&(x.types=w.types),X.T=x}}function sR(){}function Cm(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=xb(i).queue;_b(i,d,r,ue,o===null?sR:function(){return Tb(i),o(c)})}function xb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:ue},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Tb(i){var r=xb(i);r.next===null&&(r=i.alternate.memoizedState),Wl(i,r.next.queue,{},Mn())}function Rm(){return Wt(mc)}function Eb(){return Tt().memoizedState}function wb(){return Tt().memoizedState}function rR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Mn();i=Js(o);var c=Zs(r,i,o);c!==null&&(En(c,r,o),$l(c,r,o)),r={cache:im()},i.payload=r;return}r=r.return}}function aR(i,r,o){var c=Mn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ph(i)?Ab(r,o):(o=$f(i,r,o,c),o!==null&&(En(o,i,c),Cb(o,r,c)))}function Sb(i,r,o){var c=Mn();Wl(i,r,o,c)}function Wl(i,r,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ph(i))Ab(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var x=r.lastRenderedState,w=g(x,o);if(d.hasEagerState=!0,d.eagerState=w,Cn(w,x))return Qu(i,r,d,0),st===null&&Yu(),!1}catch{}if(o=$f(i,r,d,c),o!==null)return En(o,i,c),Cb(o,r,c),!0}return!1}function Nm(i,r,o,c){if(c={lane:2,revertLane:op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ph(i)){if(r)throw Error(s(479))}else r=$f(i,o,c,2),r!==null&&En(r,i,2)}function ph(i){var r=i.alternate;return i===Ie||r!==null&&r===Ie}function Ab(i,r){ho=lh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Cb(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,bl(i,o)}}var Jl={readContext:Wt,use:hh,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Jl.useEffectEvent=gt;var Rb={readContext:Wt,use:hh,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:Wt,useEffect:hb,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,fh(4194308,4,pb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return fh(4194308,4,i,r)},useInsertionEffect:function(i,r){fh(4,2,i,r)},useMemo:function(i,r){var o=fn();r=r===void 0?null:r;var c=i();if(ua){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=fn();if(o!==void 0){var d=o(r);if(ua){On(!0);try{o(r)}finally{On(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=aR.bind(null,Ie,i),[c.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=Tm(i);var r=i.queue,o=Sb.bind(null,Ie,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Sm,useDeferredValue:function(i,r){var o=fn();return Am(o,i,r)},useTransition:function(){var i=Tm(!1);return i=_b.bind(null,Ie,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ie,d=fn();if(Fe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),st===null)throw Error(s(349));(je&127)!==0||Qv(c,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,hb(Wv.bind(null,c,g,i),[i]),c.flags|=2048,mo(9,{destroy:void 0},Xv.bind(null,c,g,o,r),null),o},useId:function(){var i=fn(),r=st.identifierPrefix;if(Fe){var o=Fi,c=zi;o=(c&~(1<<32-bt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=ch++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=ZC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Rm,useFormState:ab,useActionState:ab,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Nm.bind(null,Ie,!0,o),o.dispatch=r,[i,r]},useMemoCache:bm,useCacheRefresh:function(){return fn().memoizedState=rR.bind(null,Ie)},useEffectEvent:function(i){var r=fn(),o={impl:i};return r.memoizedState=o,function(){if((Qe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},km={readContext:Wt,use:hh,useCallback:yb,useContext:Wt,useEffect:wm,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:mb,useMemo:vb,useReducer:dh,useRef:ub,useState:function(){return dh(ds)},useDebugValue:Sm,useDeferredValue:function(i,r){var o=Tt();return bb(o,tt.memoizedState,i,r)},useTransition:function(){var i=dh(ds)[0],r=Tt().memoizedState;return[typeof i=="boolean"?i:Xl(i),r]},useSyncExternalStore:Yv,useId:Eb,useHostTransitionStatus:Rm,useFormState:ob,useActionState:ob,useOptimistic:function(i,r){var o=Tt();return eb(o,tt,i,r)},useMemoCache:bm,useCacheRefresh:wb};km.useEffectEvent=db;var Nb={readContext:Wt,use:hh,useCallback:yb,useContext:Wt,useEffect:wm,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:mb,useMemo:vb,useReducer:xm,useRef:ub,useState:function(){return xm(ds)},useDebugValue:Sm,useDeferredValue:function(i,r){var o=Tt();return tt===null?Am(o,i,r):bb(o,tt.memoizedState,i,r)},useTransition:function(){var i=xm(ds)[0],r=Tt().memoizedState;return[typeof i=="boolean"?i:Xl(i),r]},useSyncExternalStore:Yv,useId:Eb,useHostTransitionStatus:Rm,useFormState:cb,useActionState:cb,useOptimistic:function(i,r){var o=Tt();return tt!==null?eb(o,tt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:bm,useCacheRefresh:wb};Nb.useEffectEvent=db;function Im(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Dm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Mn(),d=Js(c);d.payload=r,o!=null&&(d.callback=o),r=Zs(i,d,c),r!==null&&(En(r,i,c),$l(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Mn(),d=Js(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Zs(i,d,c),r!==null&&(En(r,i,c),$l(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Mn(),c=Js(o);c.tag=2,r!=null&&(c.callback=r),r=Zs(i,c,o),r!==null&&(En(r,i,o),$l(r,i,o))}};function kb(i,r,o,c,d,g,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,x):r.prototype&&r.prototype.isPureReactComponent?!Ll(o,c)||!Ll(d,g):!0}function Ib(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Dm.enqueueReplaceState(r,r.state,null)}function ha(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function Db(i){Ku(i)}function Mb(i){console.error(i)}function Vb(i){Ku(i)}function gh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Ob(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Mm(i,r,o){return o=Js(o),o.tag=3,o.payload={element:null},o.callback=function(){gh(i,r)},o}function Pb(i){return i=Js(i),i.tag=3,i}function jb(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){Ob(r,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){Ob(r,o,c),typeof d!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function oR(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&ro(r,o,d,!0),o=Nn.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?Rh():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===ih?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),sp(i,c,d)),!1;case 22:return o.flags|=65536,c===ih?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),sp(i,c,d)),!1}throw Error(s(435,o.tag))}return sp(i,c,d),Rh(),!1}if(Fe)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==Jf&&(i=Error(s(422),{cause:c}),zl(zn(i,o)))):(c!==Jf&&(r=Error(s(423),{cause:c}),zl(zn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=zn(c,o),d=Mm(i.stateNode,c,d),cm(i,d),yt!==4&&(yt=2)),!1;var g=Error(s(520),{cause:c});if(g=zn(g,o),ac===null?ac=[g]:ac.push(g),yt!==4&&(yt=2),r===null)return!0;c=zn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Mm(o.stateNode,c,i),cm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rr===null||!rr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Pb(d),jb(d,i,o,c),cm(o,d),!1}o=o.return}while(o!==null);return!1}var Vm=Error(s(461)),It=!1;function Jt(i,r,o,c){r.child=i===null?zv(r,null,o,c):ca(r,i.child,o,c)}function Lb(i,r,o,c,d){o=o.render;var g=r.ref;if("ref"in c){var x={};for(var w in c)w!=="ref"&&(x[w]=c[w])}else x=c;return ra(r),c=pm(i,r,o,x,g,d),w=gm(),i!==null&&!It?(ym(i,r,d),fs(i,r,d)):(Fe&&w&&Xf(r),r.flags|=1,Jt(i,r,c,d),r.child)}function Ub(i,r,o,c,d){if(i===null){var g=o.type;return typeof g=="function"&&!Kf(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,Bb(i,r,g,c,d)):(i=Wu(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Fm(i,d)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ll,o(x,c)&&i.ref===r.ref)return fs(i,r,d)}return r.flags|=1,i=os(g,c),i.ref=r.ref,i.return=r,r.child=i}function Bb(i,r,o,c,d){if(i!==null){var g=i.memoizedProps;if(Ll(g,c)&&i.ref===r.ref)if(It=!1,r.pendingProps=c=g,Fm(i,d))(i.flags&131072)!==0&&(It=!0);else return r.lanes=i.lanes,fs(i,r,d)}return Om(i,r,o,c,d)}function zb(i,r,o,c){var d=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,r.child=null;return Fb(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&th(r,g!==null?g.cachePool:null),g!==null?qv(r,g):hm(),Gv(r);else return c=r.lanes=536870912,Fb(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(th(r,g.cachePool),qv(r,g),tr(),r.memoizedState=null):(i!==null&&th(r,null),hm(),tr());return Jt(i,r,d,o),r.child}function Zl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Fb(i,r,o,c,d){var g=rm();return g=g===null?null:{parent:Nt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&th(r,null),hm(),Gv(r),i!==null&&ro(i,r,c,!0),r.childLanes=d,null}function yh(i,r){return r=bh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Hb(i,r,o){return ca(r,i.child,null,o),i=yh(r,r.pendingProps),i.flags|=2,kn(r),r.memoizedState=null,i}function lR(i,r,o){var c=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Fe){if(c.mode==="hidden")return i=yh(r,c),r.lanes=536870912,Zl(null,i);if(fm(r),(i=ot)?(i=tx(i,qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:zi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},o=Av(i),o.return=r,r.child=o,Xt=r,ot=null)):i=null,i===null)throw Qs(r);return r.lanes=536870912,null}return yh(r,c)}var g=i.memoizedState;if(g!==null){var x=g.dehydrated;if(fm(r),d)if(r.flags&256)r.flags&=-257,r=Hb(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||ro(i,r,o,!1),d=(o&i.childLanes)!==0,It||d){if(c=st,c!==null&&(x=_l(c,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,ta(i,x),En(c,i,x),Vm;Rh(),r=Hb(i,r,o)}else i=g.treeContext,ot=$n(x.nextSibling),Xt=r,Fe=!0,Ys=null,qn=!1,i!==null&&Nv(r,i),r=yh(r,c),r.flags|=4096;return r}return i=os(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function vh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Om(i,r,o,c,d){return ra(r),o=pm(i,r,o,c,void 0,d),c=gm(),i!==null&&!It?(ym(i,r,d),fs(i,r,d)):(Fe&&c&&Xf(r),r.flags|=1,Jt(i,r,o,d),r.child)}function qb(i,r,o,c,d,g){return ra(r),r.updateQueue=null,o=Kv(r,c,o,d),$v(i),c=gm(),i!==null&&!It?(ym(i,r,g),fs(i,r,g)):(Fe&&c&&Xf(r),r.flags|=1,Jt(i,r,o,g),r.child)}function Gb(i,r,o,c,d){if(ra(r),r.stateNode===null){var g=to,x=o.contextType;typeof x=="object"&&x!==null&&(g=Wt(x)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Dm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},om(r),x=o.contextType,g.context=typeof x=="object"&&x!==null?Wt(x):to,g.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Im(r,o,x,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Dm.enqueueReplaceState(g,g.state,null),Yl(r,c,g,d),Kl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,P=ha(o,w);g.props=P;var $=g.context,Z=o.contextType;x=to,typeof Z=="object"&&Z!==null&&(x=Wt(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||$!==x)&&Ib(r,g,c,x),Ws=!1;var Y=r.memoizedState;g.state=Y,Yl(r,c,g,d),Kl(),$=r.memoizedState,w||Y!==$||Ws?(typeof ne=="function"&&(Im(r,o,ne,c),$=r.memoizedState),(P=Ws||kb(r,o,P,c,Y,$,x))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=$),g.props=c,g.state=$,g.context=x,c=P):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,lm(i,r),x=r.memoizedProps,Z=ha(o,x),g.props=Z,ne=r.pendingProps,Y=g.context,$=o.contextType,P=to,typeof $=="object"&&$!==null&&(P=Wt($)),w=o.getDerivedStateFromProps,($=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ne||Y!==P)&&Ib(r,g,c,P),Ws=!1,Y=r.memoizedState,g.state=Y,Yl(r,c,g,d),Kl();var J=r.memoizedState;x!==ne||Y!==J||Ws||i!==null&&i.dependencies!==null&&Zu(i.dependencies)?(typeof w=="function"&&(Im(r,o,w,c),J=r.memoizedState),(Z=Ws||kb(r,o,Z,c,Y,J,P)||i!==null&&i.dependencies!==null&&Zu(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,P)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=J),g.props=c,g.state=J,g.context=P,c=Z):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,vh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=ca(r,i.child,null,d),r.child=ca(r,null,o,d)):Jt(i,r,o,d),r.memoizedState=g.state,i=r.child):i=fs(i,r,d),i}function $b(i,r,o,c){return ia(),r.flags|=256,Jt(i,r,o,c),r.child}var Pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(i){return{baseLanes:i,cachePool:Ov()}}function Lm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Dn),i}function Kb(i,r,o){var c=r.pendingProps,d=!1,g=(r.flags&128)!==0,x;if((x=g)||(x=i!==null&&i.memoizedState===null?!1:(xt.current&2)!==0),x&&(d=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(Fe){if(d?er(r):tr(),(i=ot)?(i=tx(i,qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:zi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},o=Av(i),o.return=r,r.child=o,Xt=r,ot=null)):i=null,i===null)throw Qs(r);return _p(i)?r.lanes=32:r.lanes=536870912,null}var w=c.children;return c=c.fallback,d?(tr(),d=r.mode,w=bh({mode:"hidden",children:w},d),c=na(c,d,o,null),w.return=r,c.return=r,w.sibling=c,r.child=w,c=r.child,c.memoizedState=jm(o),c.childLanes=Lm(i,x,o),r.memoizedState=Pm,Zl(null,c)):(er(r),Um(r,w))}var P=i.memoizedState;if(P!==null&&(w=P.dehydrated,w!==null)){if(g)r.flags&256?(er(r),r.flags&=-257,r=Bm(i,r,o)):r.memoizedState!==null?(tr(),r.child=i.child,r.flags|=128,r=null):(tr(),w=c.fallback,d=r.mode,c=bh({mode:"visible",children:c.children},d),w=na(w,d,o,null),w.flags|=2,c.return=r,w.return=r,c.sibling=w,r.child=c,ca(r,i.child,null,o),c=r.child,c.memoizedState=jm(o),c.childLanes=Lm(i,x,o),r.memoizedState=Pm,r=Zl(null,c));else if(er(r),_p(w)){if(x=w.nextSibling&&w.nextSibling.dataset,x)var $=x.dgst;x=$,c=Error(s(419)),c.stack="",c.digest=x,zl({value:c,source:null,stack:null}),r=Bm(i,r,o)}else if(It||ro(i,r,o,!1),x=(o&i.childLanes)!==0,It||x){if(x=st,x!==null&&(c=_l(x,o),c!==0&&c!==P.retryLane))throw P.retryLane=c,ta(i,c),En(x,i,c),Vm;bp(w)||Rh(),r=Bm(i,r,o)}else bp(w)?(r.flags|=192,r.child=i.child,r=null):(i=P.treeContext,ot=$n(w.nextSibling),Xt=r,Fe=!0,Ys=null,qn=!1,i!==null&&Nv(r,i),r=Um(r,c.children),r.flags|=4096);return r}return d?(tr(),w=c.fallback,d=r.mode,P=i.child,$=P.sibling,c=os(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,$!==null?w=os($,w):(w=na(w,d,o,null),w.flags|=2),w.return=r,c.return=r,c.sibling=w,r.child=c,Zl(null,c),c=r.child,w=i.child.memoizedState,w===null?w=jm(o):(d=w.cachePool,d!==null?(P=Nt._currentValue,d=d.parent!==P?{parent:P,pool:P}:d):d=Ov(),w={baseLanes:w.baseLanes|o,cachePool:d}),c.memoizedState=w,c.childLanes=Lm(i,x,o),r.memoizedState=Pm,Zl(i.child,c)):(er(r),o=i.child,i=o.sibling,o=os(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=o,r.memoizedState=null,o)}function Um(i,r){return r=bh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function bh(i,r){return i=Rn(22,i,null,r),i.lanes=0,i}function Bm(i,r,o){return ca(r,i.child,null,o),i=Um(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Yb(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),tm(i.return,r,o)}function zm(i,r,o,c,d,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=d,x.treeForkCount=g)}function Qb(i,r,o){var c=r.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var x=xt.current,w=(x&2)!==0;if(w?(x=x&1|2,r.flags|=128):x&=1,ce(xt,x),Jt(i,r,c,o),c=Fe?Bl:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Yb(i,o,r);else if(i.tag===19)Yb(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&oh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),zm(r,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&oh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}zm(r,!0,o,null,g,c);break;case"together":zm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function fs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(ro(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=os(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=os(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Fm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Zu(i)))}function cR(i,r,o){switch(r.tag){case 3:Lt(r,r.stateNode.containerInfo),Xs(r,Nt,i.memoizedState.cache),ia();break;case 27:case 5:jr(r);break;case 4:Lt(r,r.stateNode.containerInfo);break;case 10:Xs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,fm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(er(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Kb(i,r,o):(er(r),i=fs(i,r,o),i!==null?i.sibling:null);er(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(ro(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return Qb(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(xt,xt.current),c)break;return null;case 22:return r.lanes=0,zb(i,r,o,r.pendingProps);case 24:Xs(r,Nt,i.memoizedState.cache)}return fs(i,r,o)}function Xb(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)It=!0;else{if(!Fm(i,o)&&(r.flags&128)===0)return It=!1,cR(i,r,o);It=(i.flags&131072)!==0}else It=!1,Fe&&(r.flags&1048576)!==0&&Rv(r,Bl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=oa(r.elementType),r.type=i,typeof i=="function")Kf(i)?(c=ha(i,c),r.tag=1,r=Gb(null,r,i,c,o)):(r.tag=0,r=Om(null,r,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===oe){r.tag=11,r=Lb(null,r,i,c,o);break e}else if(d===N){r.tag=14,r=Ub(null,r,i,c,o);break e}}throw r=Ge(i)||i,Error(s(306,r,""))}}return r;case 0:return Om(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=ha(c,r.pendingProps),Gb(i,r,c,d,o);case 3:e:{if(Lt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;d=g.element,lm(i,r),Yl(r,c,null,o);var x=r.memoizedState;if(c=x.cache,Xs(r,Nt,c),c!==g.cache&&nm(r,[Nt],o,!0),Kl(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=$b(i,r,c,o);break e}else if(c!==d){d=zn(Error(s(424)),r),zl(d),r=$b(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ot=$n(i.firstChild),Xt=r,Fe=!0,Ys=null,qn=!0,o=zv(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ia(),c===d){r=fs(i,r,o);break e}Jt(i,r,c,o)}r=r.child}return r;case 26:return vh(i,r),i===null?(o=ox(r.type,null,r.pendingProps,null))?r.memoizedState=o:Fe||(o=r.type,i=r.pendingProps,c=Oh(Me.current).createElement(o),c[At]=r,c[Ht]=i,Zt(c,o,i),Ct(c),r.stateNode=c):r.memoizedState=ox(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return jr(r),i===null&&Fe&&(c=r.stateNode=sx(r.type,r.pendingProps,Me.current),Xt=r,qn=!0,d=ot,cr(r.type)?(xp=d,ot=$n(c.firstChild)):ot=d),Jt(i,r,r.pendingProps.children,o),vh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Fe&&((d=c=ot)&&(c=UR(c,r.type,r.pendingProps,qn),c!==null?(r.stateNode=c,Xt=r,ot=$n(c.firstChild),qn=!1,d=!0):d=!1),d||Qs(r)),jr(r),d=r.type,g=r.pendingProps,x=i!==null?i.memoizedProps:null,c=g.children,gp(d,g)?c=null:x!==null&&gp(d,x)&&(r.flags|=32),r.memoizedState!==null&&(d=pm(i,r,eR,null,null,o),mc._currentValue=d),vh(i,r),Jt(i,r,c,o),r.child;case 6:return i===null&&Fe&&((i=o=ot)&&(o=BR(o,r.pendingProps,qn),o!==null?(r.stateNode=o,Xt=r,ot=null,i=!0):i=!1),i||Qs(r)),null;case 13:return Kb(i,r,o);case 4:return Lt(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=ca(r,null,c,o):Jt(i,r,c,o),r.child;case 11:return Lb(i,r,r.type,r.pendingProps,o);case 7:return Jt(i,r,r.pendingProps,o),r.child;case 8:return Jt(i,r,r.pendingProps.children,o),r.child;case 12:return Jt(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Xs(r,r.type,c.value),Jt(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,ra(r),d=Wt(d),c=c(d),r.flags|=1,Jt(i,r,c,o),r.child;case 14:return Ub(i,r,r.type,r.pendingProps,o);case 15:return Bb(i,r,r.type,r.pendingProps,o);case 19:return Qb(i,r,o);case 31:return lR(i,r,o);case 22:return zb(i,r,o,r.pendingProps);case 24:return ra(r),c=Wt(Nt),i===null?(d=rm(),d===null&&(d=st,g=im(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:c,cache:d},om(r),Xs(r,Nt,d)):((i.lanes&o)!==0&&(lm(i,r),Yl(r,null,null,o),Kl()),d=i.memoizedState,g=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Xs(r,Nt,c)):(c=g.cache,Xs(r,Nt,c),c!==d.cache&&nm(r,[Nt],o,!0))),Jt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ms(i){i.flags|=4}function Hm(i,r,o,c,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(E_())i.flags|=8192;else throw la=ih,am}else i.flags&=-16777217}function Wb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!dx(r))if(E_())i.flags|=8192;else throw la=ih,am}function _h(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Au():536870912,i.lanes|=r,vo|=r)}function ec(i,r){if(!Fe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function uR(i,r,o){var c=r.pendingProps;switch(Wf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),us(Nt),ut(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(so(r)?ms(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zf())),lt(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(ms(r),g!==null?(lt(r),Wb(r,g)):(lt(r),Hm(r,d,null,c,o))):g?g!==i.memoizedState?(ms(r),lt(r),Wb(r,g)):(lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&ms(r),lt(r),Hm(r,d,i,c,o)),null;case 27:if(Pa(r),o=Me.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ms(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=fe.current,so(r)?kv(r):(i=sx(d,c,o),r.stateNode=i,ms(r))}return lt(r),null;case 5:if(Pa(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ms(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(g=fe.current,so(r))kv(r);else{var x=Oh(Me.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?x.createElement(d,{is:c.is}):x.createElement(d)}}g[At]=r,g[Ht]=c;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=g;e:switch(Zt(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ms(r)}}return lt(r),Hm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&ms(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Me.current,so(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=Xt,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[At]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||K_(i.nodeValue,o)),i||Qs(r,!0)}else i=Oh(i).createTextNode(c),i[At]=r,r.stateNode=i}return lt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=so(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[At]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),i=!1}else o=Zf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(kn(r),r):(kn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=so(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[At]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),d=!1}else d=Zf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(kn(r),r):(kn(r),null)}return kn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),_h(r,r.updateQueue),lt(r),null);case 4:return ut(),i===null&&hp(r.stateNode.containerInfo),lt(r),null;case 10:return us(r.type),lt(r),null;case 19:if(se(xt),c=r.memoizedState,c===null)return lt(r),null;if(d=(r.flags&128)!==0,g=c.rendering,g===null)if(d)ec(c,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=oh(i),g!==null){for(r.flags|=128,ec(c,!1),i=g.updateQueue,r.updateQueue=i,_h(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Sv(o,i),o=o.sibling;return ce(xt,xt.current&1|2),Fe&&ls(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&hn()>Sh&&(r.flags|=128,d=!0,ec(c,!1),r.lanes=4194304)}else{if(!d)if(i=oh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,_h(r,i),ec(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Fe)return lt(r),null}else 2*hn()-c.renderingStartTime>Sh&&o!==536870912&&(r.flags|=128,d=!0,ec(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=hn(),i.sibling=null,o=xt.current,ce(xt,d?o&1|2:o&1),Fe&&ls(r,c.treeForkCount),i):(lt(r),null);case 22:case 23:return kn(r),dm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),o=r.updateQueue,o!==null&&_h(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&se(aa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),us(Nt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function hR(i,r){switch(Wf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return us(Nt),ut(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Pa(r),null;case 31:if(r.memoizedState!==null){if(kn(r),r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(kn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return se(xt),null;case 4:return ut(),null;case 10:return us(r.type),null;case 22:case 23:return kn(r),dm(),i!==null&&se(aa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return us(Nt),null;case 25:return null;default:return null}}function Jb(i,r){switch(Wf(r),r.tag){case 3:us(Nt),ut();break;case 26:case 27:case 5:Pa(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&kn(r);break;case 13:kn(r);break;case 19:se(xt);break;case 10:us(r.type);break;case 22:case 23:kn(r),dm(),i!==null&&se(aa);break;case 24:us(Nt)}}function tc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var g=o.create,x=o.inst;c=g(),x.destroy=c}o=o.next}while(o!==d)}}catch(w){Ze(r,r.return,w)}}function nr(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var x=c.inst,w=x.destroy;if(w!==void 0){x.destroy=void 0,d=r;var P=o,$=w;try{$()}catch(Z){Ze(d,P,Z)}}}c=c.next}while(c!==g)}}catch(Z){Ze(r,r.return,Z)}}function Zb(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Hv(r,o)}catch(c){Ze(i,i.return,c)}}}function e_(i,r,o){o.props=ha(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Ze(i,r,c)}}function nc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){Ze(i,r,d)}}function Hi(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){Ze(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ze(i,r,d)}else o.current=null}function t_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){Ze(i,i.return,d)}}function qm(i,r,o){try{var c=i.stateNode;MR(c,i.type,o,r),c[Ht]=r}catch(d){Ze(i,i.return,d)}}function n_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&cr(i.type)||i.tag===4}function Gm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||n_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&cr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $m(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ri));else if(c!==4&&(c===27&&cr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for($m(i,r,o),i=i.sibling;i!==null;)$m(i,r,o),i=i.sibling}function xh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&cr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(xh(i,r,o),i=i.sibling;i!==null;)xh(i,r,o),i=i.sibling}function i_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Zt(r,c,o),r[At]=i,r[Ht]=o}catch(g){Ze(i,i.return,g)}}var ps=!1,Dt=!1,Km=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function dR(i,r){if(i=i.containerInfo,mp=Fh,i=gv(i),Bf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,w=-1,P=-1,$=0,Z=0,ne=i,Y=null;t:for(;;){for(var J;ne!==o||d!==0&&ne.nodeType!==3||(w=x+d),ne!==g||c!==0&&ne.nodeType!==3||(P=x+c),ne.nodeType===3&&(x+=ne.nodeValue.length),(J=ne.firstChild)!==null;)Y=ne,ne=J;for(;;){if(ne===i)break t;if(Y===o&&++$===d&&(w=x),Y===g&&++Z===c&&(P=x),(J=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=J}o=w===-1||P===-1?null:{start:w,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(pp={focusedElem:i,selectionRange:o},Fh=!1,Gt=r;Gt!==null;)if(r=Gt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Gt=i;else for(;Gt!==null;){switch(r=Gt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var me=ha(o.type,d);i=c.getSnapshotBeforeUpdate(me,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(xe){Ze(o,o.return,xe)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)vp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Gt=i;break}Gt=r.return}}function r_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ys(i,o),c&4&&tc(5,o);break;case 1:if(ys(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){Ze(o,o.return,x)}else{var d=ha(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Ze(o,o.return,x)}}c&64&&Zb(o),c&512&&nc(o,o.return);break;case 3:if(ys(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Hv(i,r)}catch(x){Ze(o,o.return,x)}}break;case 27:r===null&&c&4&&i_(o);case 26:case 5:ys(i,o),r===null&&c&4&&t_(o),c&512&&nc(o,o.return);break;case 12:ys(i,o);break;case 31:ys(i,o),c&4&&l_(i,o);break;case 13:ys(i,o),c&4&&c_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=xR.bind(null,o),zR(i,o))));break;case 22:if(c=o.memoizedState!==null||ps,!c){r=r!==null&&r.memoizedState!==null||Dt,d=ps;var g=Dt;ps=c,(Dt=r)&&!g?vs(i,o,(o.subtreeFlags&8772)!==0):ys(i,o),ps=d,Dt=g}break;case 30:break;default:ys(i,o)}}function a_(i){var r=i.alternate;r!==null&&(i.alternate=null,a_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&za(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var dt=null,bn=!1;function gs(i,r,o){for(o=o.child;o!==null;)o_(i,r,o),o=o.sibling}function o_(i,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ti,o)}catch{}switch(o.tag){case 26:Dt||Hi(o,r),gs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||Hi(o,r);var c=dt,d=bn;cr(o.type)&&(dt=o.stateNode,bn=!1),gs(i,r,o),hc(o.stateNode),dt=c,bn=d;break;case 5:Dt||Hi(o,r);case 6:if(c=dt,d=bn,dt=null,gs(i,r,o),dt=c,bn=d,dt!==null)if(bn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(g){Ze(o,r,g)}else try{dt.removeChild(o.stateNode)}catch(g){Ze(o,r,g)}break;case 18:dt!==null&&(bn?(i=dt,Z_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ao(i)):Z_(dt,o.stateNode));break;case 4:c=dt,d=bn,dt=o.stateNode.containerInfo,bn=!0,gs(i,r,o),dt=c,bn=d;break;case 0:case 11:case 14:case 15:nr(2,o,r),Dt||nr(4,o,r),gs(i,r,o);break;case 1:Dt||(Hi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&e_(o,r,c)),gs(i,r,o);break;case 21:gs(i,r,o);break;case 22:Dt=(c=Dt)||o.memoizedState!==null,gs(i,r,o),Dt=c;break;default:gs(i,r,o)}}function l_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ao(i)}catch(o){Ze(r,r.return,o)}}}function c_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ao(i)}catch(o){Ze(r,r.return,o)}}function fR(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new s_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new s_),r;default:throw Error(s(435,i.tag))}}function Th(i,r){var o=fR(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var d=TR.bind(null,i,c);c.then(d,d)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=i,x=r,w=x;e:for(;w!==null;){switch(w.tag){case 27:if(cr(w.type)){dt=w.stateNode,bn=!1;break e}break;case 5:dt=w.stateNode,bn=!1;break e;case 3:case 4:dt=w.stateNode.containerInfo,bn=!0;break e}w=w.return}if(dt===null)throw Error(s(160));o_(g,x,d),dt=null,bn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)u_(r,i),r=r.sibling}var hi=null;function u_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),xn(i),c&4&&(nr(3,i,i.return),tc(3,i),nr(5,i,i.return));break;case 1:_n(r,i),xn(i),c&512&&(Dt||o===null||Hi(o,o.return)),c&64&&ps&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=hi;if(_n(r,i),xn(i),c&512&&(Dt||o===null||Hi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ni]||g[At]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),Zt(g,c,o),g[At]=i,Ct(g),c=g;break e;case"link":var x=ux("link","href",d).get(c+(o.href||""));if(x){for(var w=0;w<x.length;w++)if(g=x[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(w,1);break t}}g=d.createElement(c),Zt(g,c,o),d.head.appendChild(g);break;case"meta":if(x=ux("meta","content",d).get(c+(o.content||""))){for(w=0;w<x.length;w++)if(g=x[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(w,1);break t}}g=d.createElement(c),Zt(g,c,o),d.head.appendChild(g);break;default:throw Error(s(468,c))}g[At]=i,Ct(g),c=g}i.stateNode=c}else hx(d,i.type,i.stateNode);else i.stateNode=cx(d,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?hx(d,i.type,i.stateNode):cx(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&qm(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),xn(i),c&512&&(Dt||o===null||Hi(o,o.return)),o!==null&&c&4&&qm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),xn(i),c&512&&(Dt||o===null||Hi(o,o.return)),i.flags&32){d=i.stateNode;try{vn(d,"")}catch(me){Ze(i,i.return,me)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,qm(i,d,o!==null?o.memoizedProps:d)),c&1024&&(Km=!0);break;case 6:if(_n(r,i),xn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(me){Ze(i,i.return,me)}}break;case 3:if(Lh=null,d=hi,hi=Ph(r.containerInfo),_n(r,i),hi=d,xn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ao(r.containerInfo)}catch(me){Ze(i,i.return,me)}Km&&(Km=!1,h_(i));break;case 4:c=hi,hi=Ph(i.stateNode.containerInfo),_n(r,i),xn(i),hi=c;break;case 12:_n(r,i),xn(i);break;case 31:_n(r,i),xn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Th(i,c)));break;case 13:_n(r,i),xn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wh=hn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Th(i,c)));break;case 22:d=i.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,$=ps,Z=Dt;if(ps=$||d,Dt=Z||P,_n(r,i),Dt=Z,ps=$,xn(i),c&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||P||ps||Dt||da(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){P=o=r;try{if(g=P.stateNode,d)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{w=P.stateNode;var ne=P.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){Ze(P,P.return,me)}}}else if(r.tag===6){if(o===null){P=r;try{P.stateNode.nodeValue=d?"":P.memoizedProps}catch(me){Ze(P,P.return,me)}}}else if(r.tag===18){if(o===null){P=r;try{var J=P.stateNode;d?ex(J,!0):ex(P.stateNode,!1)}catch(me){Ze(P,P.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Th(i,o))));break;case 19:_n(r,i),xn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Th(i,c)));break;case 30:break;case 21:break;default:_n(r,i),xn(i)}}function xn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(n_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=Gm(i);xh(i,g,d);break;case 5:var x=o.stateNode;o.flags&32&&(vn(x,""),o.flags&=-33);var w=Gm(i);xh(i,w,x);break;case 3:case 4:var P=o.stateNode.containerInfo,$=Gm(i);$m(i,$,P);break;default:throw Error(s(161))}}catch(Z){Ze(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function h_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;h_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ys(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)r_(i,r.alternate,r),r=r.sibling}function da(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return),da(r);break;case 1:Hi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&e_(r,r.return,o),da(r);break;case 27:hc(r.stateNode);case 26:case 5:Hi(r,r.return),da(r);break;case 22:r.memoizedState===null&&da(r);break;case 30:da(r);break;default:da(r)}i=i.sibling}}function vs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,g=r,x=g.flags;switch(g.tag){case 0:case 11:case 15:vs(d,g,o),tc(4,g);break;case 1:if(vs(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){Ze(c,c.return,$)}if(c=g,d=c.updateQueue,d!==null){var w=c.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)Fv(P[d],w)}catch($){Ze(c,c.return,$)}}o&&x&64&&Zb(g),nc(g,g.return);break;case 27:i_(g);case 26:case 5:vs(d,g,o),o&&c===null&&x&4&&t_(g),nc(g,g.return);break;case 12:vs(d,g,o);break;case 31:vs(d,g,o),o&&x&4&&l_(d,g);break;case 13:vs(d,g,o),o&&x&4&&c_(d,g);break;case 22:g.memoizedState===null&&vs(d,g,o),nc(g,g.return);break;case 30:break;default:vs(d,g,o)}r=r.sibling}}function Ym(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Fl(o))}function Qm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Fl(i))}function di(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)d_(i,r,o,c),r=r.sibling}function d_(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:di(i,r,o,c),d&2048&&tc(9,r);break;case 1:di(i,r,o,c);break;case 3:di(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Fl(i)));break;case 12:if(d&2048){di(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,x=g.id,w=g.onPostCommit;typeof w=="function"&&w(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Ze(r,r.return,P)}}else di(i,r,o,c);break;case 31:di(i,r,o,c);break;case 13:di(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,x=r.alternate,r.memoizedState!==null?g._visibility&2?di(i,r,o,c):ic(i,r):g._visibility&2?di(i,r,o,c):(g._visibility|=2,po(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Ym(x,r);break;case 24:di(i,r,o,c),d&2048&&Qm(r.alternate,r);break;default:di(i,r,o,c)}}function po(i,r,o,c,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,x=r,w=o,P=c,$=x.flags;switch(x.tag){case 0:case 11:case 15:po(g,x,w,P,d),tc(8,x);break;case 23:break;case 22:var Z=x.stateNode;x.memoizedState!==null?Z._visibility&2?po(g,x,w,P,d):ic(g,x):(Z._visibility|=2,po(g,x,w,P,d)),d&&$&2048&&Ym(x.alternate,x);break;case 24:po(g,x,w,P,d),d&&$&2048&&Qm(x.alternate,x);break;default:po(g,x,w,P,d)}r=r.sibling}}function ic(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:ic(o,c),d&2048&&Ym(c.alternate,c);break;case 24:ic(o,c),d&2048&&Qm(c.alternate,c);break;default:ic(o,c)}r=r.sibling}}var sc=8192;function go(i,r,o){if(i.subtreeFlags&sc)for(i=i.child;i!==null;)f_(i,r,o),i=i.sibling}function f_(i,r,o){switch(i.tag){case 26:go(i,r,o),i.flags&sc&&i.memoizedState!==null&&ZR(o,hi,i.memoizedState,i.memoizedProps);break;case 5:go(i,r,o);break;case 3:case 4:var c=hi;hi=Ph(i.stateNode.containerInfo),go(i,r,o),hi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=sc,sc=16777216,go(i,r,o),sc=c):go(i,r,o));break;default:go(i,r,o)}}function m_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function rc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Gt=c,g_(c,i)}m_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)p_(i),i=i.sibling}function p_(i){switch(i.tag){case 0:case 11:case 15:rc(i),i.flags&2048&&nr(9,i,i.return);break;case 3:rc(i);break;case 12:rc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Eh(i)):rc(i);break;default:rc(i)}}function Eh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Gt=c,g_(c,i)}m_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:nr(8,r,r.return),Eh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Eh(r));break;default:Eh(r)}i=i.sibling}}function g_(i,r){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Fl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Gt=c;else e:for(o=i;Gt!==null;){c=Gt;var d=c.sibling,g=c.return;if(a_(c),c===o){Gt=null;break e}if(d!==null){d.return=g,Gt=d;break e}Gt=g}}}var mR={getCacheForType:function(i){var r=Wt(Nt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Wt(Nt).controller.signal}},pR=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,Oe=null,je=0,Je=0,In=null,ir=!1,yo=!1,Xm=!1,bs=0,yt=0,sr=0,fa=0,Wm=0,Dn=0,vo=0,ac=null,Tn=null,Jm=!1,wh=0,y_=0,Sh=1/0,Ah=null,rr=null,Bt=0,ar=null,bo=null,_s=0,Zm=0,ep=null,v_=null,oc=0,tp=null;function Mn(){return(Qe&2)!==0&&je!==0?je&-je:X.T!==null?op():Cu()}function b_(){if(Dn===0)if((je&536870912)===0||Fe){var i=Br;Br<<=1,(Br&3932160)===0&&(Br=262144),Dn=i}else Dn=536870912;return i=Nn.current,i!==null&&(i.flags|=32),Dn}function En(i,r,o){(i===st&&(Je===2||Je===9)||i.cancelPendingCommit!==null)&&(_o(i,0),or(i,je,Dn,!1)),zr(i,o),((Qe&2)===0||i!==st)&&(i===st&&((Qe&2)===0&&(fa|=o),yt===4&&or(i,je,Dn,!1)),qi(i))}function __(i,r,o){if((Qe&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ni(i,r),d=c?vR(i,r):ip(i,r,!0),g=c;do{if(d===0){yo&&!c&&or(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!gR(o)){d=ip(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var w=i;d=ac;var P=w.current.memoizedState.isDehydrated;if(P&&(_o(w,x).flags|=256),x=ip(w,x,!1),x!==2){if(Xm&&!P){w.errorRecoveryDisabledLanes|=g,fa|=g,d=4;break e}g=Tn,Tn=d,g!==null&&(Tn===null?Tn=g:Tn.push.apply(Tn,g))}d=x}if(g=!1,d!==2)continue}}if(d===1){_o(i,0),or(i,r,0,!0);break}e:{switch(c=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:or(c,r,Dn,!ir);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=wh+300-hn(),10<d)){if(or(c,r,Dn,!ir),Ai(c,0,!0)!==0)break e;_s=r,c.timeoutHandle=W_(x_.bind(null,c,o,Tn,Ah,Jm,r,Dn,fa,vo,ir,g,"Throttled",-0,0),d);break e}x_(c,o,Tn,Ah,Jm,r,Dn,fa,vo,ir,g,null,-0,0)}}break}while(!0);qi(i)}function x_(i,r,o,c,d,g,x,w,P,$,Z,ne,Y,J){if(i.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},f_(r,g,ne);var me=(g&62914560)===g?wh-hn():(g&4194048)===g?y_-hn():0;if(me=eN(ne,me),me!==null){_s=g,i.cancelPendingCommit=me(N_.bind(null,i,r,g,o,c,d,x,w,P,Z,ne,null,Y,J)),or(i,g,x,!$);return}}N_(i,r,g,o,c,d,x,w,P)}function gR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!Cn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(i,r,o,c){r&=~Wm,r&=~fa,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var g=31-bt(d),x=1<<g;c[g]=-1,d&=~x}o!==0&&Fr(i,o,r)}function Ch(){return(Qe&6)===0?(lc(0),!1):!0}function np(){if(Oe!==null){if(Je===0)var i=Oe.return;else i=Oe,cs=sa=null,vm(i),co=null,ql=0,i=Oe;for(;i!==null;)Jb(i.alternate,i),i=i.return;Oe=null}}function _o(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,PR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),_s=0,np(),st=i,Oe=o=os(i.current,null),je=r,Je=0,In=null,ir=!1,yo=ni(i,r),Xm=!1,vo=Dn=Wm=fa=sr=yt=0,Tn=ac=null,Jm=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-bt(c),g=1<<d;r|=i[d],c&=~g}return bs=r,Yu(),o}function T_(i,r){Ie=null,X.H=Jl,r===lo||r===nh?(r=Lv(),Je=3):r===am?(r=Lv(),Je=4):Je=r===Vm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Oe===null&&(yt=1,gh(i,zn(r,i.current)))}function E_(){var i=Nn.current;return i===null?!0:(je&4194048)===je?Gn===null:(je&62914560)===je||(je&536870912)!==0?i===Gn:!1}function w_(){var i=X.H;return X.H=Jl,i===null?Jl:i}function S_(){var i=X.A;return X.A=mR,i}function Rh(){yt=4,ir||(je&4194048)!==je&&Nn.current!==null||(yo=!0),(sr&134217727)===0&&(fa&134217727)===0||st===null||or(st,je,Dn,!1)}function ip(i,r,o){var c=Qe;Qe|=2;var d=w_(),g=S_();(st!==i||je!==r)&&(Ah=null,_o(i,r)),r=!1;var x=yt;e:do try{if(Je!==0&&Oe!==null){var w=Oe,P=In;switch(Je){case 8:np(),x=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var $=Je;if(Je=0,In=null,xo(i,w,P,$),o&&yo){x=0;break e}break;default:$=Je,Je=0,In=null,xo(i,w,P,$)}}yR(),x=yt;break}catch(Z){T_(i,Z)}while(!0);return r&&i.shellSuspendCounter++,cs=sa=null,Qe=c,X.H=d,X.A=g,Oe===null&&(st=null,je=0,Yu()),x}function yR(){for(;Oe!==null;)A_(Oe)}function vR(i,r){var o=Qe;Qe|=2;var c=w_(),d=S_();st!==i||je!==r?(Ah=null,Sh=hn()+500,_o(i,r)):yo=ni(i,r);e:do try{if(Je!==0&&Oe!==null){r=Oe;var g=In;t:switch(Je){case 1:Je=0,In=null,xo(i,r,g,1);break;case 2:case 9:if(Pv(g)){Je=0,In=null,C_(r);break}r=function(){Je!==2&&Je!==9||st!==i||(Je=7),qi(i)},g.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Pv(g)?(Je=0,In=null,C_(r)):(Je=0,In=null,xo(i,r,g,7));break;case 5:var x=null;switch(Oe.tag){case 26:x=Oe.memoizedState;case 5:case 27:var w=Oe;if(x?dx(x):w.stateNode.complete){Je=0,In=null;var P=w.sibling;if(P!==null)Oe=P;else{var $=w.return;$!==null?(Oe=$,Nh($)):Oe=null}break t}}Je=0,In=null,xo(i,r,g,5);break;case 6:Je=0,In=null,xo(i,r,g,6);break;case 8:np(),yt=6;break e;default:throw Error(s(462))}}bR();break}catch(Z){T_(i,Z)}while(!0);return cs=sa=null,X.H=c,X.A=d,Qe=o,Oe!==null?0:(st=null,je=0,Yu(),yt)}function bR(){for(;Oe!==null&&!Mf();)A_(Oe)}function A_(i){var r=Xb(i.alternate,i,bs);i.memoizedProps=i.pendingProps,r===null?Nh(i):Oe=r}function C_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=qb(o,r,r.pendingProps,r.type,void 0,je);break;case 11:r=qb(o,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:vm(r);default:Jb(o,r),r=Oe=Sv(r,bs),r=Xb(o,r,bs)}i.memoizedProps=i.pendingProps,r===null?Nh(i):Oe=r}function xo(i,r,o,c){cs=sa=null,vm(r),co=null,ql=0;var d=r.return;try{if(oR(i,d,r,o,je)){yt=1,gh(i,zn(o,i.current)),Oe=null;return}}catch(g){if(d!==null)throw Oe=d,g;yt=1,gh(i,zn(o,i.current)),Oe=null;return}r.flags&32768?(Fe||c===1?i=!0:yo||(je&536870912)!==0?i=!1:(ir=i=!0,(c===2||c===9||c===3||c===6)&&(c=Nn.current,c!==null&&c.tag===13&&(c.flags|=16384))),R_(r,i)):Nh(r)}function Nh(i){var r=i;do{if((r.flags&32768)!==0){R_(r,ir);return}i=r.return;var o=uR(r.alternate,r,bs);if(o!==null){Oe=o;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=i}while(r!==null);yt===0&&(yt=5)}function R_(i,r){do{var o=hR(i.alternate,i);if(o!==null){o.flags&=32767,Oe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=o}while(i!==null);yt=6,Oe=null}function N_(i,r,o,c,d,g,x,w,P){i.cancelPendingCommit=null;do kh();while(Bt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Gf,Pf(i,o,g,x,w,P),i===st&&(Oe=st=null,je=0),bo=r,ar=i,_s=o,Zm=g,ep=d,v_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ER(js,function(){return V_(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,d=ae.p,ae.p=2,x=Qe,Qe|=4;try{dR(i,r,o)}finally{Qe=x,ae.p=d,X.T=c}}Bt=1,k_(),I_(),D_()}}function k_(){if(Bt===1){Bt=0;var i=ar,r=bo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var c=ae.p;ae.p=2;var d=Qe;Qe|=4;try{u_(r,i);var g=pp,x=gv(i.containerInfo),w=g.focusedElem,P=g.selectionRange;if(x!==w&&w&&w.ownerDocument&&pv(w.ownerDocument.documentElement,w)){if(P!==null&&Bf(w)){var $=P.start,Z=P.end;if(Z===void 0&&(Z=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(Z,w.value.length);else{var ne=w.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),me=w.textContent.length,xe=Math.min(P.start,me),it=P.end===void 0?xe:Math.min(P.end,me);!J.extend&&xe>it&&(x=it,it=xe,xe=x);var F=mv(w,xe),U=mv(w,it);if(F&&U&&(J.rangeCount!==1||J.anchorNode!==F.node||J.anchorOffset!==F.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var G=ne.createRange();G.setStart(F.node,F.offset),J.removeAllRanges(),xe>it?(J.addRange(G),J.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),J.addRange(G))}}}}for(ne=[],J=w;J=J.parentNode;)J.nodeType===1&&ne.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var te=ne[w];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Fh=!!mp,pp=mp=null}finally{Qe=d,ae.p=c,X.T=o}}i.current=r,Bt=2}}function I_(){if(Bt===2){Bt=0;var i=ar,r=bo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var c=ae.p;ae.p=2;var d=Qe;Qe|=4;try{r_(i,r.alternate,r)}finally{Qe=d,ae.p=c,X.T=o}}Bt=3}}function D_(){if(Bt===4||Bt===3){Bt=0,_u();var i=ar,r=bo,o=_s,c=v_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,bo=ar=null,M_(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(rr=null),is(o),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ti,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=X.T,d=ae.p,ae.p=2,X.T=null;try{for(var g=i.onRecoverableError,x=0;x<c.length;x++){var w=c[x];g(w.value,{componentStack:w.stack})}}finally{X.T=r,ae.p=d}}(_s&3)!==0&&kh(),qi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===tp?oc++:(oc=0,tp=i):oc=0,lc(0)}}function M_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Fl(r)))}function kh(){return k_(),I_(),D_(),V_()}function V_(){if(Bt!==5)return!1;var i=ar,r=Zm;Zm=0;var o=is(_s),c=X.T,d=ae.p;try{ae.p=32>o?32:o,X.T=null,o=ep,ep=null;var g=ar,x=_s;if(Bt=0,bo=ar=null,_s=0,(Qe&6)!==0)throw Error(s(331));var w=Qe;if(Qe|=4,p_(g.current),d_(g,g.current,x,o),Qe=w,lc(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ti,g)}catch{}return!0}finally{ae.p=d,X.T=c,M_(i,r)}}function O_(i,r,o){r=zn(o,r),r=Mm(i.stateNode,r,2),i=Zs(i,r,2),i!==null&&(zr(i,2),qi(i))}function Ze(i,r,o){if(i.tag===3)O_(i,i,o);else for(;r!==null;){if(r.tag===3){O_(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(rr===null||!rr.has(c))){i=zn(o,i),o=Pb(2),c=Zs(r,o,2),c!==null&&(jb(o,c,r,i),zr(c,2),qi(c));break}}r=r.return}}function sp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new pR;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(Xm=!0,d.add(o),i=_R.bind(null,i,r,o),r.then(i,i))}function _R(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,st===i&&(je&o)===o&&(yt===4||yt===3&&(je&62914560)===je&&300>hn()-wh?(Qe&2)===0&&_o(i,0):Wm|=o,vo===je&&(vo=0)),qi(i)}function P_(i,r){r===0&&(r=Au()),i=ta(i,r),i!==null&&(zr(i,r),qi(i))}function xR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),P_(i,o)}function TR(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),P_(i,o)}function ER(i,r){return Ut(i,r)}var Ih=null,To=null,rp=!1,Dh=!1,ap=!1,lr=0;function qi(i){i!==To&&i.next===null&&(To===null?Ih=To=i:To=To.next=i),Dh=!0,rp||(rp=!0,SR())}function lc(i,r){if(!ap&&Dh){ap=!0;do for(var o=!1,c=Ih;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var x=c.suspendedLanes,w=c.pingedLanes;g=(1<<31-bt(42|i)+1)-1,g&=d&~(x&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,B_(c,g))}else g=je,g=Ai(c,c===st?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ni(c,g)||(o=!0,B_(c,g));c=c.next}while(o);ap=!1}}function wR(){j_()}function j_(){Dh=rp=!1;var i=0;lr!==0&&OR()&&(i=lr);for(var r=hn(),o=null,c=Ih;c!==null;){var d=c.next,g=L_(c,r);g===0?(c.next=null,o===null?Ih=d:o.next=d,d===null&&(To=o)):(o=c,(i!==0||(g&3)!==0)&&(Dh=!0)),c=d}Bt!==0&&Bt!==5||lc(i),lr!==0&&(lr=0)}function L_(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var x=31-bt(g),w=1<<x,P=d[x];P===-1?((w&o)===0||(w&c)!==0)&&(d[x]=Of(w,r)):P<=r&&(i.expiredLanes|=w),g&=~w}if(r=st,o=je,o=Ai(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(Je===2||Je===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ps(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ni(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Ps(c),is(o)){case 2:case 8:o=vl;break;case 32:o=js;break;case 268435456:o=xu;break;default:o=js}return c=U_.bind(null,i),o=Ut(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Ps(c),i.callbackPriority=2,i.callbackNode=null,2}function U_(i,r){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(kh()&&i.callbackNode!==o)return null;var c=je;return c=Ai(i,i===st?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(__(i,c,r),L_(i,hn()),i.callbackNode!=null&&i.callbackNode===o?U_.bind(null,i):null)}function B_(i,r){if(kh())return null;__(i,r,!0)}function SR(){jR(function(){(Qe&6)!==0?Ut(yl,wR):j_()})}function op(){if(lr===0){var i=ao;i===0&&(i=wi,wi<<=1,(wi&261888)===0&&(wi=256)),lr=i}return lr}function z_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ga(""+i)}function F_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function AR(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var g=z_((d[Ht]||null).action),x=c.submitter;x&&(r=(r=x[Ht]||null)?z_(r.formAction):x.getAttribute("formAction"),r!==null&&(g=r,x=null));var w=new ji("action","action",null,c,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(lr!==0){var P=x?F_(d,x):new FormData(d);Cm(o,{pending:!0,data:P,method:d.method,action:g},null,P)}}else typeof g=="function"&&(w.preventDefault(),P=x?F_(d,x):new FormData(d),Cm(o,{pending:!0,data:P,method:d.method,action:g},g,P))},currentTarget:d}]})}}for(var lp=0;lp<qf.length;lp++){var cp=qf[lp],CR=cp.toLowerCase(),RR=cp[0].toUpperCase()+cp.slice(1);ui(CR,"on"+RR)}ui(bv,"onAnimationEnd"),ui(_v,"onAnimationIteration"),ui(xv,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(qC,"onTransitionRun"),ui(GC,"onTransitionStart"),ui($C,"onTransitionCancel"),ui(Tv,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function H_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var x=c.length-1;0<=x;x--){var w=c[x],P=w.instance,$=w.currentTarget;if(w=w.listener,P!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=$;try{g(d)}catch(Z){Ku(Z)}d.currentTarget=null,g=P}else for(x=0;x<c.length;x++){if(w=c[x],P=w.instance,$=w.currentTarget,w=w.listener,P!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=$;try{g(d)}catch(Z){Ku(Z)}d.currentTarget=null,g=P}}}}function Pe(i,r){var o=r[Ba];o===void 0&&(o=r[Ba]=new Set);var c=i+"__bubble";o.has(c)||(q_(r,i,2,!1),o.add(c))}function up(i,r,o){var c=0;r&&(c|=4),q_(o,i,c,r)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function hp(i){if(!i[Mh]){i[Mh]=!0,xl.forEach(function(o){o!=="selectionchange"&&(NR.has(o)||up(o,!1,i),up(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Mh]||(r[Mh]=!0,up("selectionchange",!1,r))}}function q_(i,r,o,c){switch(bx(r)){case 2:var d=iN;break;case 8:d=sN;break;default:d=Ap}o=d.bind(null,r,o,i),d=void 0,!Kr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function dp(i,r,o,c,d){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var w=c.stateNode.containerInfo;if(w===d)break;if(x===4)for(x=c.return;x!==null;){var P=x.tag;if((P===3||P===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;w!==null;){if(x=ki(w),x===null)return;if(P=x.tag,P===5||P===6||P===26||P===27){c=g=x;continue e}w=w.parentNode}}c=c.return}Hs(function(){var $=g,Z=jn(o),ne=[];e:{var Y=Ev.get(i);if(Y!==void 0){var J=ji,me=i;switch(i){case"keypress":if(Qr(o)===0)break e;case"keydown":case"keyup":J=qu;break;case"focusin":me="focus",J=Wr;break;case"focusout":me="blur",J=Wr;break;case"beforeblur":case"afterblur":J=Wr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=b;break;case bv:case _v:case xv:J=ju;break;case Tv:J=C;break;case"scroll":case"scrollend":J=Ml;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=as;break;case"toggle":case"beforetoggle":J=ke}var xe=(r&4)!==0,it=!xe&&(i==="scroll"||i==="scrollend"),F=xe?Y!==null?Y+"Capture":null:Y;xe=[];for(var U=$,G;U!==null;){var te=U;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||F===null||(te=ai(U,F),te!=null&&xe.push(uc(U,te,G))),it)break;U=U.return}0<xe.length&&(Y=new J(Y,me,null,o,Z),ne.push({event:Y,listeners:xe}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Y&&o!==kl&&(me=o.relatedTarget||o.fromElement)&&(ki(me)||me[Ri]))break e;if((J||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(me=o.relatedTarget||o.toElement,J=$,me=me?ki(me):null,me!==null&&(it=l(me),xe=me.tag,me!==it||xe!==5&&xe!==27&&xe!==6)&&(me=null)):(J=null,me=$),J!==me)){if(xe=Vl,te="onMouseLeave",F="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(xe=as,te="onPointerLeave",F="onPointerEnter",U="pointer"),it=J==null?Y:Sn(J),G=me==null?Y:Sn(me),Y=new xe(te,U+"leave",J,o,Z),Y.target=it,Y.relatedTarget=G,te=null,ki(Z)===$&&(xe=new xe(F,U+"enter",me,o,Z),xe.target=G,xe.relatedTarget=it,te=xe),it=te,J&&me)t:{for(xe=kR,F=J,U=me,G=0,te=F;te;te=xe(te))G++;te=0;for(var ve=U;ve;ve=xe(ve))te++;for(;0<G-te;)F=xe(F),G--;for(;0<te-G;)U=xe(U),te--;for(;G--;){if(F===U||U!==null&&F===U.alternate){xe=F;break t}F=xe(F),U=xe(U)}xe=null}else xe=null;J!==null&&G_(ne,Y,J,xe,!1),me!==null&&it!==null&&G_(ne,it,me,xe,!0)}}e:{if(Y=$?Sn($):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var $e=lv;else if(av(Y))if(cv)$e=zC;else{$e=UC;var ge=LC}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&qa($.elementType)&&($e=lv):$e=BC;if($e&&($e=$e(i,$))){ov(ne,$e,o,Z);break e}ge&&ge(i,Y,$),i==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Cl(Y,"number",Y.value)}switch(ge=$?Sn($):window,i){case"focusin":(av(ge)||ge.contentEditable==="true")&&(Ja=ge,zf=$,Ul=null);break;case"focusout":Ul=zf=Ja=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,yv(ne,o,Z);break;case"selectionchange":if(HC)break;case"keydown":case"keyup":yv(ne,o,Z)}var Ve;if(Ye)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Wa?Jr(i,o)&&(Le="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(Bi&&o.locale!=="ko"&&(Wa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Wa&&(Ve=Dl()):(Pi=Z,Il="value"in Pi?Pi.value:Pi.textContent,Wa=!0)),ge=Vh($,Le),0<ge.length&&(Le=new Ui(Le,i,null,o,Z),ne.push({event:Le,listeners:ge}),Ve?Le.data=Ve:(Ve=Xa(o),Ve!==null&&(Le.data=Ve)))),(Ve=Un?VC(i,o):OC(i,o))&&(Le=Vh($,"onBeforeInput"),0<Le.length&&(ge=new Ui("onBeforeInput","beforeinput",null,o,Z),ne.push({event:ge,listeners:Le}),ge.data=Ve)),AR(ne,i,$,o,Z)}H_(ne,r)})}function uc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Vh(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ai(i,o),d!=null&&c.unshift(uc(i,d,g)),d=ai(i,r),d!=null&&c.push(uc(i,d,g))),i.tag===3)return c;i=i.return}return[]}function kR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function G_(i,r,o,c,d){for(var g=r._reactName,x=[];o!==null&&o!==c;){var w=o,P=w.alternate,$=w.stateNode;if(w=w.tag,P!==null&&P===c)break;w!==5&&w!==26&&w!==27||$===null||(P=$,d?($=ai(o,g),$!=null&&x.unshift(uc(o,$,P))):d||($=ai(o,g),$!=null&&x.push(uc(o,$,P)))),o=o.return}x.length!==0&&i.push({event:r,listeners:x})}var IR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function $_(i){return(typeof i=="string"?i:""+i).replace(IR,`
`).replace(DR,"")}function K_(i,r){return r=$_(r),$_(i)===r}function nt(i,r,o,c,d,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||vn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&vn(i,""+c);break;case"className":An(i,"class",c);break;case"tabIndex":An(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,o,c);break;case"style":Nl(i,c,g);break;case"data":if(r!=="object"){An(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ga(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&nt(i,r,"name",d.name,d,null),nt(i,r,"formEncType",d.formEncType,d,null),nt(i,r,"formMethod",d.formMethod,d,null),nt(i,r,"formTarget",d.formTarget,d,null)):(nt(i,r,"encType",d.encType,d,null),nt(i,r,"method",d.method,d,null),nt(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ga(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=ri);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ga(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Fa(i,"popover",c);break;case"xlinkActuate":Rt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Rt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Rt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Rt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Rt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Rt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Fa(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Vu.get(o)||o,Fa(i,o,c))}}function fp(i,r,o,c,d,g){switch(o){case"style":Nl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?vn(i,c):(typeof c=="number"||typeof c=="bigint")&&vn(i,""+c);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Ht]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Fa(i,o,c)}}}function Zt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,g,x,o,null)}}d&&nt(i,r,"srcSet",o.srcSet,o,null),c&&nt(i,r,"src",o.src,o,null);return;case"input":Pe("invalid",i);var w=g=x=d=null,P=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":d=Z;break;case"type":x=Z;break;case"checked":P=Z;break;case"defaultChecked":$=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:nt(i,r,c,Z,o,null)}}Iu(i,g,w,P,$,x,d,!1);return;case"select":Pe("invalid",i),c=x=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":x=w;break;case"multiple":c=w;default:nt(i,r,d,w,o,null)}r=g,o=x,i.multiple=!!c,r!=null?Us(i,!!c,r,!1):o!=null&&Us(i,!!c,o,!0);return;case"textarea":Pe("invalid",i),g=d=c=null;for(x in o)if(o.hasOwnProperty(x)&&(w=o[x],w!=null))switch(x){case"value":c=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:nt(i,r,x,w,o,null)}Bs(i,c,d,g);return;case"option":for(P in o)o.hasOwnProperty(P)&&(c=o[P],c!=null)&&(P==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":nt(i,r,P,c,o,null));return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(c=0;c<cc.length;c++)Pe(cc[c],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,$,c,o,null)}return;default:if(qa(r)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&fp(i,r,Z,c,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(c=o[w],c!=null&&nt(i,r,w,c,o,null))}function MR(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,x=null,w=null,P=null,$=null,Z=null;for(J in o){var ne=o[J];if(o.hasOwnProperty(J)&&ne!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":P=ne;default:c.hasOwnProperty(J)||nt(i,r,J,null,c,ne)}}for(var Y in c){var J=c[Y];if(ne=o[Y],c.hasOwnProperty(Y)&&(J!=null||ne!=null))switch(Y){case"type":g=J;break;case"name":d=J;break;case"checked":$=J;break;case"defaultChecked":Z=J;break;case"value":x=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:J!==ne&&nt(i,r,Y,J,c,ne)}}Ha(i,x,w,P,$,Z,g,d);return;case"select":J=x=w=Y=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":J=P;default:c.hasOwnProperty(g)||nt(i,r,g,null,c,P)}for(d in c)if(g=c[d],P=o[d],c.hasOwnProperty(d)&&(g!=null||P!=null))switch(d){case"value":Y=g;break;case"defaultValue":w=g;break;case"multiple":x=g;default:g!==P&&nt(i,r,d,g,c,P)}r=w,o=x,c=J,Y!=null?Us(i,!!o,Y,!1):!!c!=!!o&&(r!=null?Us(i,!!o,r,!0):Us(i,!!o,o?[]:"",!1));return;case"textarea":J=Y=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:nt(i,r,w,null,c,d)}for(x in c)if(d=c[x],g=o[x],c.hasOwnProperty(x)&&(d!=null||g!=null))switch(x){case"value":Y=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&nt(i,r,x,d,c,g)}Du(i,Y,J);return;case"option":for(var me in o)Y=o[me],o.hasOwnProperty(me)&&Y!=null&&!c.hasOwnProperty(me)&&(me==="selected"?i.selected=!1:nt(i,r,me,null,c,Y));for(P in c)Y=c[P],J=o[P],c.hasOwnProperty(P)&&Y!==J&&(Y!=null||J!=null)&&(P==="selected"?i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":nt(i,r,P,Y,c,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)Y=o[xe],o.hasOwnProperty(xe)&&Y!=null&&!c.hasOwnProperty(xe)&&nt(i,r,xe,null,c,Y);for($ in c)if(Y=c[$],J=o[$],c.hasOwnProperty($)&&Y!==J&&(Y!=null||J!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:nt(i,r,$,Y,c,J)}return;default:if(qa(r)){for(var it in o)Y=o[it],o.hasOwnProperty(it)&&Y!==void 0&&!c.hasOwnProperty(it)&&fp(i,r,it,void 0,c,Y);for(Z in c)Y=c[Z],J=o[Z],!c.hasOwnProperty(Z)||Y===J||Y===void 0&&J===void 0||fp(i,r,Z,Y,c,J);return}}for(var F in o)Y=o[F],o.hasOwnProperty(F)&&Y!=null&&!c.hasOwnProperty(F)&&nt(i,r,F,null,c,Y);for(ne in c)Y=c[ne],J=o[ne],!c.hasOwnProperty(ne)||Y===J||Y==null&&J==null||nt(i,r,ne,Y,c,J)}function Y_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,x=d.initiatorType,w=d.duration;if(g&&w&&Y_(x)){for(x=0,w=d.responseEnd,c+=1;c<o.length;c++){var P=o[c],$=P.startTime;if($>w)break;var Z=P.transferSize,ne=P.initiatorType;Z&&Y_(ne)&&(P=P.responseEnd,x+=Z*(P<w?1:(w-$)/(P-$)))}if(--c,r+=8*(g+x)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var mp=null,pp=null;function Oh(i){return i.nodeType===9?i:i.ownerDocument}function Q_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function gp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yp=null;function OR(){var i=window.event;return i&&i.type==="popstate"?i===yp?!1:(yp=i,!0):(yp=null,!1)}var W_=typeof setTimeout=="function"?setTimeout:void 0,PR=typeof clearTimeout=="function"?clearTimeout:void 0,J_=typeof Promise=="function"?Promise:void 0,jR=typeof queueMicrotask=="function"?queueMicrotask:typeof J_<"u"?function(i){return J_.resolve(null).then(i).catch(LR)}:W_;function LR(i){setTimeout(function(){throw i})}function cr(i){return i==="head"}function Z_(i,r){var o=r,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),Ao(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")hc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,hc(o);for(var g=o.firstChild;g;){var x=g.nextSibling,w=g.nodeName;g[Ni]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&hc(i.ownerDocument.body);o=d}while(o);Ao(r)}function ex(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function vp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vp(o),za(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function UR(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ni])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=$n(i.nextSibling),i===null)break}return null}function BR(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=$n(i.nextSibling),i===null))return null;return i}function tx(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=$n(i.nextSibling),i===null))return null;return i}function bp(i){return i.data==="$?"||i.data==="$~"}function _p(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function zR(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function $n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var xp=null;function nx(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return $n(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function ix(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function sx(i,r,o){switch(r=Oh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function hc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);za(i)}var Kn=new Map,rx=new Set;function Ph(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xs=ae.d;ae.d={f:FR,r:HR,D:qR,C:GR,L:$R,m:KR,X:QR,S:YR,M:XR};function FR(){var i=xs.f(),r=Ch();return i||r}function HR(i){var r=Pn(i);r!==null&&r.tag===5&&r.type==="form"?Tb(r):xs.r(i)}var Eo=typeof document>"u"?null:document;function ax(i,r,o){var c=Eo;if(c&&typeof r=="string"&&r){var d=yn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),rx.has(d)||(rx.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),Zt(r,"link",i),Ct(r),c.head.appendChild(r)))}}function qR(i){xs.D(i),ax("dns-prefetch",i,null)}function GR(i,r){xs.C(i,r),ax("preconnect",i,r)}function $R(i,r,o){xs.L(i,r,o);var c=Eo;if(c&&i&&r){var d='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+yn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+yn(o.imageSizes)+'"]')):d+='[href="'+yn(i)+'"]';var g=d;switch(r){case"style":g=wo(i);break;case"script":g=So(i)}Kn.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Kn.set(g,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(dc(g))||r==="script"&&c.querySelector(fc(g))||(r=c.createElement("link"),Zt(r,"link",i),Ct(r),c.head.appendChild(r)))}}function KR(i,r){xs.m(i,r);var o=Eo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+yn(c)+'"][href="'+yn(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=So(i)}if(!Kn.has(g)&&(i=_({rel:"modulepreload",href:i},r),Kn.set(g,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(fc(g)))return}c=o.createElement("link"),Zt(c,"link",i),Ct(c),o.head.appendChild(c)}}}function YR(i,r,o){xs.S(i,r,o);var c=Eo;if(c&&i){var d=Ii(c).hoistableStyles,g=wo(i);r=r||"default";var x=d.get(g);if(!x){var w={loading:0,preload:null};if(x=c.querySelector(dc(g)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Kn.get(g))&&Tp(i,o);var P=x=c.createElement("link");Ct(P),Zt(P,"link",i),P._p=new Promise(function($,Z){P.onload=$,P.onerror=Z}),P.addEventListener("load",function(){w.loading|=1}),P.addEventListener("error",function(){w.loading|=2}),w.loading|=4,jh(x,r,c)}x={type:"stylesheet",instance:x,count:1,state:w},d.set(g,x)}}}function QR(i,r){xs.X(i,r);var o=Eo;if(o&&i){var c=Ii(o).hoistableScripts,d=So(i),g=c.get(d);g||(g=o.querySelector(fc(d)),g||(i=_({src:i,async:!0},r),(r=Kn.get(d))&&Ep(i,r),g=o.createElement("script"),Ct(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function XR(i,r){xs.M(i,r);var o=Eo;if(o&&i){var c=Ii(o).hoistableScripts,d=So(i),g=c.get(d);g||(g=o.querySelector(fc(d)),g||(i=_({src:i,async:!0,type:"module"},r),(r=Kn.get(d))&&Ep(i,r),g=o.createElement("script"),Ct(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function ox(i,r,o,c){var d=(d=Me.current)?Ph(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=wo(o.href),o=Ii(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=wo(o.href);var g=Ii(d).hoistableStyles,x=g.get(i);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,x),(g=d.querySelector(dc(i)))&&!g._p&&(x.instance=g,x.state.loading=5),Kn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Kn.set(i,o),g||WR(d,i,o,x.state))),r&&c===null)throw Error(s(528,""));return x}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=So(o),o=Ii(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function wo(i){return'href="'+yn(i)+'"'}function dc(i){return'link[rel="stylesheet"]['+i+"]"}function lx(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function WR(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Zt(r,"link",o),Ct(r),i.head.appendChild(r))}function So(i){return'[src="'+yn(i)+'"]'}function fc(i){return"script[async]"+i}function cx(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+yn(o.href)+'"]');if(c)return r.instance=c,Ct(c),c;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ct(c),Zt(c,"style",d),jh(c,o.precedence,i),r.instance=c;case"stylesheet":d=wo(o.href);var g=i.querySelector(dc(d));if(g)return r.state.loading|=4,r.instance=g,Ct(g),g;c=lx(o),(d=Kn.get(d))&&Tp(c,d),g=(i.ownerDocument||i).createElement("link"),Ct(g);var x=g;return x._p=new Promise(function(w,P){x.onload=w,x.onerror=P}),Zt(g,"link",c),r.state.loading|=4,jh(g,o.precedence,i),r.instance=g;case"script":return g=So(o.src),(d=i.querySelector(fc(g)))?(r.instance=d,Ct(d),d):(c=o,(d=Kn.get(g))&&(c=_({},o),Ep(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),Ct(d),Zt(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,jh(c,o.precedence,i));return r.instance}function jh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,x=0;x<c.length;x++){var w=c[x];if(w.dataset.precedence===r)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Tp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Ep(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Lh=null;function ux(i,r,o){if(Lh===null){var c=new Map,d=Lh=new Map;d.set(o,c)}else d=Lh,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Ni]||g[At]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(r)||"";x=i+x;var w=c.get(x);w?w.push(g):c.set(x,[g])}}return c}function hx(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function JR(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function dx(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ZR(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=wo(c.href),g=r.querySelector(dc(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Uh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ct(g);return}g=r.ownerDocument||r,c=lx(c),(d=Kn.get(d))&&Tp(c,d),g=g.createElement("link"),Ct(g);var x=g;x._p=new Promise(function(w,P){x.onload=w,x.onerror=P}),Zt(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Uh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var wp=0;function eN(i,r){return i.stylesheets&&i.count===0&&zh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&zh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&wp===0&&(wp=62500*VR());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&zh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>wp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Bh=null;function zh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Bh=new Map,r.forEach(tN,i),Bh=null,Uh.call(i))}function tN(i,r){if(!(r.state.loading&4)){var o=Bh.get(i);if(o)var c=o.get(null);else{o=new Map,Bh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var x=d[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}d=r.instance,x=d.getAttribute("data-precedence"),g=o.get(x)||c,g===c&&o.set(null,d),o.set(x,d),this.count++,c=Uh.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var mc={$$typeof:K,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function nN(i,r,o,c,d,g,x,w,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function fx(i,r,o,c,d,g,x,w,P,$,Z,ne){return i=new nN(i,r,o,x,P,$,Z,ne,w),r=1,g===!0&&(r|=24),g=Rn(3,null,null,r),i.current=g,g.stateNode=i,r=im(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},om(g),i}function mx(i){return i?(i=to,i):to}function px(i,r,o,c,d,g){d=mx(d),c.context===null?c.context=d:c.pendingContext=d,c=Js(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Zs(i,c,r),o!==null&&(En(o,i,r),$l(o,i,r))}function gx(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Sp(i,r){gx(i,r),(i=i.alternate)&&gx(i,r)}function yx(i){if(i.tag===13||i.tag===31){var r=ta(i,67108864);r!==null&&En(r,i,67108864),Sp(i,67108864)}}function vx(i){if(i.tag===13||i.tag===31){var r=Mn();r=Hr(r);var o=ta(i,r);o!==null&&En(o,i,r),Sp(i,r)}}var Fh=!0;function iN(i,r,o,c){var d=X.T;X.T=null;var g=ae.p;try{ae.p=2,Ap(i,r,o,c)}finally{ae.p=g,X.T=d}}function sN(i,r,o,c){var d=X.T;X.T=null;var g=ae.p;try{ae.p=8,Ap(i,r,o,c)}finally{ae.p=g,X.T=d}}function Ap(i,r,o,c){if(Fh){var d=Cp(c);if(d===null)dp(i,r,c,Hh,o),_x(i,c);else if(aN(d,i,r,o,c))c.stopPropagation();else if(_x(i,c),r&4&&-1<rN.indexOf(i)){for(;d!==null;){var g=Pn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Si(g.pendingLanes);if(x!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;x;){var P=1<<31-bt(x);w.entanglements[1]|=P,x&=~P}qi(g),(Qe&6)===0&&(Sh=hn()+500,lc(0))}}break;case 31:case 13:w=ta(g,2),w!==null&&En(w,g,2),Ch(),Sp(g,2)}if(g=Cp(c),g===null&&dp(i,r,c,Hh,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else dp(i,r,c,null,o)}}function Cp(i){return i=jn(i),Rp(i)}var Hh=null;function Rp(i){if(Hh=null,i=ki(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Hh=i,null}function bx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ur()){case yl:return 2;case vl:return 8;case js:case Vf:return 32;case xu:return 268435456;default:return 32}default:return 32}}var Np=!1,ur=null,hr=null,dr=null,pc=new Map,gc=new Map,fr=[],rN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _x(i,r){switch(i){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":pc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(r.pointerId)}}function yc(i,r,o,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Pn(r),r!==null&&yx(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function aN(i,r,o,c,d){switch(r){case"focusin":return ur=yc(ur,i,r,o,c,d),!0;case"dragenter":return hr=yc(hr,i,r,o,c,d),!0;case"mouseover":return dr=yc(dr,i,r,o,c,d),!0;case"pointerover":var g=d.pointerId;return pc.set(g,yc(pc.get(g)||null,i,r,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,gc.set(g,yc(gc.get(g)||null,i,r,o,c,d)),!0}return!1}function xx(i){var r=ki(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,ii(i.priority,function(){vx(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,ii(i.priority,function(){vx(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Cp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);kl=c,o.target.dispatchEvent(c),kl=null}else return r=Pn(o),r!==null&&yx(r),i.blockedOn=o,!1;r.shift()}return!0}function Tx(i,r,o){qh(i)&&o.delete(r)}function oN(){Np=!1,ur!==null&&qh(ur)&&(ur=null),hr!==null&&qh(hr)&&(hr=null),dr!==null&&qh(dr)&&(dr=null),pc.forEach(Tx),gc.forEach(Tx)}function Gh(i,r){i.blockedOn===r&&(i.blockedOn=null,Np||(Np=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oN)))}var $h=null;function Ex(i){$h!==i&&($h=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$h===i&&($h=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if(Rp(c||o)===null)continue;break}var g=Pn(o);g!==null&&(i.splice(r,3),r-=3,Cm(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Ao(i){function r(P){return Gh(P,i)}ur!==null&&Gh(ur,i),hr!==null&&Gh(hr,i),dr!==null&&Gh(dr,i),pc.forEach(r),gc.forEach(r);for(var o=0;o<fr.length;o++){var c=fr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<fr.length&&(o=fr[0],o.blockedOn===null);)xx(o),o.blockedOn===null&&fr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],x=d[Ht]||null;if(typeof g=="function")x||Ex(o);else if(x){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,x=g[Ht]||null)w=x.formAction;else if(Rp(d)!==null)continue}else w=x.action;typeof w=="function"?o[c+1]=w:(o.splice(c,3),c-=3),Ex(o)}}}function wx(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return d=x})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function kp(i){this._internalRoot=i}Kh.prototype.render=kp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Mn();px(o,c,i,r,null,null)},Kh.prototype.unmount=kp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;px(i.current,2,null,i,null,null),Ch(),r[Ri]=null}};function Kh(i){this._internalRoot=i}Kh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Cu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<fr.length&&r!==0&&r<fr[o].priority;o++);fr.splice(o,0,i),o===0&&xx(i)}};var Sx=e.version;if(Sx!=="19.2.4")throw Error(s(527,Sx,"19.2.4"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var lN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{ti=Yh.inject(lN),Yt=Yh}catch{}}return bc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=Db,g=Mb,x=Vb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=fx(i,1,!1,null,null,o,c,null,d,g,x,wx),i[Ri]=r.current,hp(i),new kp(r)},bc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",g=Db,x=Mb,w=Vb,P=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),r=fx(i,1,!0,r,o??null,c,d,P,g,x,w,wx),r.context=mx(null),o=r.current,c=Mn(),c=Hr(c),d=Js(c),d.callback=null,Zs(o,d,c),o=c,r.current.lanes=o,zr(r,o),qi(r),i[Ri]=r.current,hp(i),new Kh(r)},bc.version="19.2.4",bc}var Ox;function vN(){if(Ox)return Mp.exports;Ox=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mp.exports=yN(),Mp.exports}var bN=vN();const _N=UE(bN);var Px="popstate";function xN(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return _g("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Lc(a)}return EN(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TN(){return Math.random().toString(36).substring(2,10)}function jx(t,e){return{usr:t.state,key:t.key,idx:e}}function _g(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?el(e):e,state:n,key:e&&e.key||s||TN()}}function Lc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function el(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function EN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function _(){f="POP";let j=y(),z=j==null?null:j-p;p=j,m&&m({action:f,location:O.location,delta:z})}function T(j,z){f="PUSH";let H=_g(O.location,j,z);p=y()+1;let K=jx(H,p),oe=O.createHref(H);try{u.pushState(K,"",oe)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(oe)}l&&m&&m({action:f,location:O.location,delta:1})}function A(j,z){f="REPLACE";let H=_g(O.location,j,z);p=y();let K=jx(H,p),oe=O.createHref(H);u.replaceState(K,"",oe),l&&m&&m({action:f,location:O.location,delta:0})}function I(j){return wN(j)}let O={get action(){return f},get location(){return t(a,u)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Px,_),m=j,()=>{a.removeEventListener(Px,_),m=null}},createHref(j){return e(a,j)},createURL:I,encodeLocation(j){let z=I(j);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:A,go(j){return u.go(j)}};return O}function wN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Lc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function zE(t,e,n="/"){return SN(t,e,n,!1)}function SN(t,e,n,s){let a=typeof e=="string"?el(e):e,l=Cs(a.pathname||"/",n);if(l==null)return null;let u=FE(t);AN(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=jN(l);f=ON(u[m],p,s)}return f}function FE(t,e=[],n=[],s="",a=!1){let l=(u,f,m=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;ft(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Ss([s,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),FE(u.children,e,T,_,m)),!(u.path==null&&!u.index)&&e.push({path:_,score:MN(_,u.index),routesMeta:T})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of HE(u.path))l(u,f,!0,m)}),e}function HE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=HE(s.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function AN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var CN=/^:[\w-]+$/,RN=3,NN=2,kN=1,IN=10,DN=-2,Lx=t=>t==="*";function MN(t,e){let n=t.split("/"),s=n.length;return n.some(Lx)&&(s+=DN),e&&(s+=NN),n.filter(a=>!Lx(a)).reduce((a,l)=>a+(CN.test(l)?RN:l===""?kN:IN),s)}function VN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function ON(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Ad({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),T=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Ad({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Ss([l,_.pathname]),pathnameBase:zN(Ss([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=Ss([l,_.pathnameBase]))}return u}function Ad(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=PN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},T)=>{if(y==="*"){let I=f[T]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const A=f[T];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function PN(t,e=!1,n=!0){xi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function jN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var LN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function UN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?el(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=Ux(n.substring(1),"/"):l=Ux(n,e)):l=e,{pathname:l,search:FN(s),hash:HN(a)}}function Ux(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function jp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function E0(t){let e=BN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function w0(t,e,n,s=!1){let a;typeof t=="string"?a=el(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),jp("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),jp("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),jp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}f=_>=0?e[_]:"/"}let m=UN(a,f),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ss=t=>t.join("/").replace(/\/\/+/g,"/"),zN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,qN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function GN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function $N(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function GE(t,e){let n=t;if(typeof n!="string"||!LN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(qE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Cs(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{xi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $E=["POST","PUT","PATCH","DELETE"];new Set($E);var KN=["GET",...$E];new Set(KN);var tl=k.createContext(null);tl.displayName="DataRouter";var af=k.createContext(null);af.displayName="DataRouterState";var YN=k.createContext(!1),KE=k.createContext({isTransitioning:!1});KE.displayName="ViewTransition";var QN=k.createContext(new Map);QN.displayName="Fetchers";var XN=k.createContext(null);XN.displayName="Await";var Vn=k.createContext(null);Vn.displayName="Navigation";var tu=k.createContext(null);tu.displayName="Location";var Zn=k.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var S0=k.createContext(null);S0.displayName="RouteError";var YE="REACT_ROUTER_ERROR",WN="REDIRECT",JN="ROUTE_ERROR_RESPONSE";function ZN(t){if(t.startsWith(`${YE}:${WN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ek(t){if(t.startsWith(`${YE}:${JN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new qN(e.status,e.statusText,e.data)}catch{}}function tk(t,{relative:e}={}){ft(nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(Vn),{hash:a,pathname:l,search:u}=nu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Ss([n,l])),s.createHref({pathname:f,search:u,hash:a})}function nl(){return k.useContext(tu)!=null}function Ms(){return ft(nl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(tu).location}var QE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XE(t){k.useContext(Vn).static||k.useLayoutEffect(t)}function of(){let{isDataRoute:t}=k.useContext(Zn);return t?yk():nk()}function nk(){ft(nl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(tl),{basename:e,navigator:n}=k.useContext(Vn),{matches:s}=k.useContext(Zn),{pathname:a}=Ms(),l=JSON.stringify(E0(s)),u=k.useRef(!1);return XE(()=>{u.current=!0}),k.useCallback((m,p={})=>{if(xi(u.current,QE),!u.current)return;if(typeof m=="number"){n.go(m);return}let y=w0(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ss([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var ik=k.createContext(null);function sk(t){let e=k.useContext(Zn).outlet;return k.useMemo(()=>e&&k.createElement(ik.Provider,{value:t},e),[e,t])}function rk(){let{matches:t}=k.useContext(Zn),e=t[t.length-1];return e?e.params:{}}function nu(t,{relative:e}={}){let{matches:n}=k.useContext(Zn),{pathname:s}=Ms(),a=JSON.stringify(E0(n));return k.useMemo(()=>w0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function ak(t,e){return WE(t,e)}function WE(t,e,n,s,a){ft(nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(Vn),{matches:u}=k.useContext(Zn),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let H=_&&_.path||"";ZE(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=Ms(),A;if(e){let H=typeof e=="string"?el(e):e;ft(y==="/"||H.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=T;let I=A.pathname||"/",O=I;if(y!=="/"){let H=y.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let j=zE(t,{pathname:O});xi(_||j!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),xi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=hk(j&&j.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Ss([y,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Ss([y,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,n,s,a);return e&&z?k.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function ok(){let t=gk(),e=GN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,u)}var lk=k.createElement(ok,null),JE=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ek(t.digest);n&&(t=n)}let e=t!==void 0?k.createElement(Zn.Provider,{value:this.props.routeContext},k.createElement(S0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(ck,{error:t},e):e}};JE.contextType=YN;var Lp=new WeakMap;function ck({children:t,error:e}){let{basename:n}=k.useContext(Vn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ZN(e.digest);if(s){let a=Lp.get(e);if(a)throw a;let l=GE(s.location,n);if(qE&&!Lp.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Lp.set(e,u),u}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function uk({routeContext:t,match:e,children:n}){let s=k.useContext(tl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Zn.Provider,{value:t},n)}function hk(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);ft(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:T,errors:A}=n,I=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||I){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:$N(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,T)=>{let A,I=!1,O=null,j=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,O=_.route.errorElement||lk,f&&(m<0&&T===0?(ZE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,j=null):m===T&&(I=!0,j=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,T+1)),H=()=>{let K;return A?K=O:I?K=j:_.route.Component?K=k.createElement(_.route.Component,null):_.route.element?K=_.route.element:K=y,k.createElement(uk,{match:_,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:K})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?k.createElement(JE,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:H(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):H()},null)}function A0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dk(t){let e=k.useContext(tl);return ft(e,A0(t)),e}function fk(t){let e=k.useContext(af);return ft(e,A0(t)),e}function mk(t){let e=k.useContext(Zn);return ft(e,A0(t)),e}function C0(t){let e=mk(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pk(){return C0("useRouteId")}function gk(){let t=k.useContext(S0),e=fk("useRouteError"),n=C0("useRouteError");return t!==void 0?t:e.errors?.[n]}function yk(){let{router:t}=dk("useNavigate"),e=C0("useNavigate"),n=k.useRef(!1);return XE(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{xi(n.current,QE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Bx={};function ZE(t,e,n){!e&&!Bx[t]&&(Bx[t]=!0,xi(!1,n))}k.memo(vk);function vk({routes:t,future:e,state:n,onError:s}){return WE(t,void 0,n,s,e)}function bk({to:t,replace:e,state:n,relative:s}){ft(nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Vn);xi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(Zn),{pathname:u}=Ms(),f=of(),m=w0(t,E0(l),u,s==="path"),p=JSON.stringify(m);return k.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function Gi(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _k({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){ft(!nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=el(n));let{pathname:p="/",search:y="",hash:_="",state:T=null,key:A="default"}=n,I=k.useMemo(()=>{let O=Cs(p,f);return O==null?null:{location:{pathname:O,search:y,hash:_,state:T,key:A},navigationType:s}},[f,p,y,_,T,A,s]);return xi(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:k.createElement(Vn.Provider,{value:m},k.createElement(tu.Provider,{children:e,value:I}))}function xk({children:t,location:e}){return ak(xg(t),e)}function xg(t,e=[]){let n=[];return k.Children.forEach(t,(s,a)=>{if(!k.isValidElement(s))return;let l=[...e,a];if(s.type===k.Fragment){n.push.apply(n,xg(s.props.children,l));return}ft(s.type===Gi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=xg(s.props.children,l)),n.push(u)}),n}var od="get",ld="application/x-www-form-urlencoded";function lf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Tk(t){return lf(t)&&t.tagName.toLowerCase()==="button"}function Ek(t){return lf(t)&&t.tagName.toLowerCase()==="form"}function wk(t){return lf(t)&&t.tagName.toLowerCase()==="input"}function Sk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ak(t,e){return t.button===0&&(!e||e==="_self")&&!Sk(t)}var Qh=null;function Ck(){if(Qh===null)try{new FormData(document.createElement("form"),0),Qh=!1}catch{Qh=!0}return Qh}var Rk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Up(t){return t!=null&&!Rk.has(t)?(xi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ld}"`),null):t}function Nk(t,e){let n,s,a,l,u;if(Ek(t)){let f=t.getAttribute("action");s=f?Cs(f,e):null,n=t.getAttribute("method")||od,a=Up(t.getAttribute("enctype"))||ld,l=new FormData(t)}else if(Tk(t)||wk(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Cs(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||od,a=Up(t.getAttribute("formenctype"))||Up(f.getAttribute("enctype"))||ld,l=new FormData(f,t),!Ck()){let{name:p,type:y,value:_}=t;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,_)}}else{if(lf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=od,s=null,a=ld,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function R0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kk(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Cs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function Ik(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Mk(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await Ik(l,n);return u.links?u.links():[]}return[]}));return jk(s.flat(1).filter(Dk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function zx(t,e,n,s,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Vk(t,e,{includeHydrateFallback:n}={}){return Ok(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Ok(t){return[...new Set(t)]}function Pk(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function jk(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(Pk(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function ew(){let t=k.useContext(tl);return R0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Lk(){let t=k.useContext(af);return R0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var N0=k.createContext(void 0);N0.displayName="FrameworkContext";function tw(){let t=k.useContext(N0);return R0(t,"You must render this element inside a <HydratedRouter> element"),t}function Uk(t,e){let n=k.useContext(N0),[s,a]=k.useState(!1),[l,u]=k.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,T=k.useRef(null);k.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let O=z=>{z.forEach(H=>{u(H.isIntersecting)})},j=new IntersectionObserver(O,{threshold:.5});return T.current&&j.observe(T.current),()=>{j.disconnect()}}},[t]),k.useEffect(()=>{if(s){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[s]);let A=()=>{a(!0)},I=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:_c(f,A),onBlur:_c(m,I),onMouseEnter:_c(p,A),onMouseLeave:_c(y,I),onTouchStart:_c(_,A)}]:[!1,T,{}]}function _c(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Bk({page:t,...e}){let{router:n}=ew(),s=k.useMemo(()=>zE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?k.createElement(Fk,{page:t,matches:s,...e}):null}function zk(t){let{manifest:e,routeModules:n}=tw(),[s,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return Mk(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function Fk({page:t,matches:e,...n}){let s=Ms(),{future:a,manifest:l,routeModules:u}=tw(),{basename:f}=ew(),{loaderData:m,matches:p}=Lk(),y=k.useMemo(()=>zx(t,e,p,l,s,"data"),[t,e,p,l,s]),_=k.useMemo(()=>zx(t,e,p,l,s,"assets"),[t,e,p,l,s]),T=k.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let O=new Set,j=!1;if(e.forEach(H=>{let K=l.routes[H.route.id];!K||!K.hasLoader||(!y.some(oe=>oe.route.id===H.route.id)&&H.route.id in m&&u[H.route.id]?.shouldRevalidate||K.hasClientLoader?j=!0:O.add(H.route.id))}),O.size===0)return[];let z=kk(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return j&&O.size>0&&z.searchParams.set("_routes",e.filter(H=>O.has(H.route.id)).map(H=>H.route.id).join(",")),[z.pathname+z.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,e,t,u]),A=k.useMemo(()=>Vk(_,l),[_,l]),I=zk(_);return k.createElement(k.Fragment,null,T.map(O=>k.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),A.map(O=>k.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),I.map(({key:O,link:j})=>k.createElement("link",{key:O,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function Hk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qk&&(window.__reactRouterVersion="7.13.0")}catch{}function Gk({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=k.useRef();a.current==null&&(a.current=xN({window:s,v5Compat:!0}));let l=a.current,[u,f]=k.useState({action:l.action,location:l.location}),m=k.useCallback(p=>{n===!1?f(p):k.startTransition(()=>f(p))},[n]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.createElement(_k,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T,...A},I){let{basename:O,unstable_useTransitions:j}=k.useContext(Vn),z=typeof p=="string"&&nw.test(p),H=GE(p,O);p=H.to;let K=tk(p,{relative:a}),[oe,Q,ee]=Uk(s,A),N=Qk(p,{replace:u,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:T,unstable_useTransitions:j});function S(M){e&&e(M),M.defaultPrevented||N(M)}let R=k.createElement("a",{...A,...ee,href:H.absoluteURL||K,onClick:H.isExternal||l?e:S,ref:Hk(I,Q),target:m,"data-discover":!z&&n==="render"?"true":void 0});return oe&&!z?k.createElement(k.Fragment,null,R,k.createElement(Bk,{page:K})):R});$t.displayName="Link";var $k=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},y){let _=nu(u,{relative:p.relative}),T=Ms(),A=k.useContext(af),{navigator:I,basename:O}=k.useContext(Vn),j=A!=null&&eI(_)&&f===!0,z=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,H=T.pathname,K=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(H=H.toLowerCase(),K=K?K.toLowerCase():null,z=z.toLowerCase()),K&&O&&(K=Cs(K,O)||K);const oe=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let Q=H===z||!a&&H.startsWith(z)&&H.charAt(oe)==="/",ee=K!=null&&(K===z||!a&&K.startsWith(z)&&K.charAt(z.length)==="/"),N={isActive:Q,isPending:ee,isTransitioning:j},S=Q?e:void 0,R;typeof s=="function"?R=s(N):R=[s,Q?"active":null,ee?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(N):l;return k.createElement($t,{...p,"aria-current":S,className:R,ref:y,style:M,to:u,viewTransition:f},typeof m=="function"?m(N):m)});$k.displayName="NavLink";var Kk=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=od,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T,...A},I)=>{let{unstable_useTransitions:O}=k.useContext(Vn),j=Jk(),z=Zk(f,{relative:p}),H=u.toLowerCase()==="get"?"get":"post",K=typeof f=="string"&&nw.test(f),oe=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let ee=Q.nativeEvent.submitter,N=ee?.getAttribute("formmethod")||u,S=()=>j(ee||Q.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T});O&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:I,method:H,action:z,onSubmit:s?m:oe,...A,"data-discover":!K&&t==="render"?"true":void 0})});Kk.displayName="Form";function Yk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iw(t){let e=k.useContext(tl);return ft(e,Yk(t)),e}function Qk(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=of(),y=Ms(),_=nu(t,{relative:l});return k.useCallback(T=>{if(Ak(T,e)){T.preventDefault();let A=n!==void 0?n:Lc(y)===Lc(_),I=()=>p(t,{replace:A,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});m?k.startTransition(()=>I()):I()}},[y,p,_,n,s,e,t,a,l,u,f,m])}var Xk=0,Wk=()=>`__${String(++Xk)}__`;function Jk(){let{router:t}=iw("useSubmit"),{basename:e}=k.useContext(Vn),n=pk(),s=t.fetch,a=t.navigate;return k.useCallback(async(l,u={})=>{let{action:f,method:m,encType:p,formData:y,body:_}=Nk(l,e);if(u.navigate===!1){let T=u.fetcherKey||Wk();await s(T,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function Zk(t,{relative:e}={}){let{basename:n}=k.useContext(Vn),s=k.useContext(Zn);ft(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...nu(t||".",{relative:e})},u=Ms();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ss([n,l.pathname])),Lc(l)}function eI(t,{relative:e}={}){let n=k.useContext(KE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iw("useViewTransitionState"),a=nu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Cs(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Cs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ad(a.pathname,u)!=null||Ad(a.pathname,l)!=null}const k0=k.createContext({});function I0(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const sw=typeof window<"u",rw=sw?k.useLayoutEffect:k.useEffect,cf=k.createContext(null);function D0(t,e){t.indexOf(e)===-1&&t.push(e)}function Cd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const es=(t,e,n)=>n>e?e:n<t?t:n;let M0=()=>{};const Rs={},aw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ow(t){return typeof t=="object"&&t!==null}const lw=t=>/^0[^.\s]+$/u.test(t);function V0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Wn=t=>t,tI=(t,e)=>n=>e(t(n)),iu=(...t)=>t.reduce(tI),Uc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class O0{constructor(){this.subscriptions=[]}add(e){return D0(this.subscriptions,e),()=>Cd(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vi=t=>t*1e3,Xn=t=>t/1e3;function cw(t,e){return e?t*(1e3/e):0}const uw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,nI=1e-7,iI=12;function sI(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=uw(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>nI&&++f<iI);return u}function su(t,e,n,s){if(t===e&&n===s)return Wn;const a=l=>sI(l,0,1,t,n);return l=>l===0||l===1?l:uw(a(l),e,s)}const hw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dw=t=>e=>1-t(1-e),fw=su(.33,1.53,.69,.99),P0=dw(fw),mw=hw(P0),pw=t=>(t*=2)<1?.5*P0(t):.5*(2-Math.pow(2,-10*(t-1))),j0=t=>1-Math.sin(Math.acos(t)),gw=dw(j0),yw=hw(j0),rI=su(.42,0,1,1),aI=su(0,0,.58,1),vw=su(.42,0,.58,1),oI=t=>Array.isArray(t)&&typeof t[0]!="number",bw=t=>Array.isArray(t)&&typeof t[0]=="number",lI={linear:Wn,easeIn:rI,easeInOut:vw,easeOut:aI,circIn:j0,circInOut:yw,circOut:gw,backIn:P0,backInOut:mw,backOut:fw,anticipate:pw},cI=t=>typeof t=="string",Fx=t=>{if(bw(t)){M0(t.length===4);const[e,n,s,a]=t;return su(e,n,s,a)}else if(cI(t))return lI[t];return t},Xh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function uI(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,_=!1,T=!1)=>{const I=T&&a?n:s;return _&&u.add(y),I.has(y)||I.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const hI=40;function _w(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Xh.reduce((K,oe)=>(K[oe]=uI(l),K),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:T,render:A,postRender:I}=u,O=()=>{const K=Rs.useManualTiming?a.timestamp:performance.now();n=!1,Rs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,hI),1)),a.timestamp=K,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),T.process(a),A.process(a),I.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(O))},j=()=>{n=!0,s=!0,a.isProcessing||t(O)};return{schedule:Xh.reduce((K,oe)=>{const Q=u[oe];return K[oe]=(ee,N=!1,S=!1)=>(n||j(),Q.schedule(ee,N,S)),K},{}),cancel:K=>{for(let oe=0;oe<Xh.length;oe++)u[Xh[oe]].cancel(K)},state:a,steps:u}}const{schedule:at,cancel:Rr,state:en,steps:Bp}=_w(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let cd;function dI(){cd=void 0}const mn={now:()=>(cd===void 0&&mn.set(en.isProcessing||Rs.useManualTiming?en.timestamp:performance.now()),cd),set:t=>{cd=t,queueMicrotask(dI)}},xw=t=>e=>typeof e=="string"&&e.startsWith(t),Tw=xw("--"),fI=xw("var(--"),L0=t=>fI(t)?mI.test(t.split("/*")[0].trim()):!1,mI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Hx(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bc={...il,transform:t=>es(0,1,t)},Wh={...il,default:1},Rc=t=>Math.round(t*1e5)/1e5,U0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pI(t){return t==null}const gI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,B0=(t,e)=>n=>!!(typeof n=="string"&&gI.test(n)&&n.startsWith(t)||e&&!pI(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ew=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(U0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},yI=t=>es(0,255,t),zp={...il,transform:t=>Math.round(yI(t))},ya={test:B0("rgb","red"),parse:Ew("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+zp.transform(t)+", "+zp.transform(e)+", "+zp.transform(n)+", "+Rc(Bc.transform(s))+")"};function vI(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Tg={test:B0("#"),parse:vI,transform:ya.transform},ru=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gr=ru("deg"),Yi=ru("%"),pe=ru("px"),bI=ru("vh"),_I=ru("vw"),qx={...Yi,parse:t=>Yi.parse(t)/100,transform:t=>Yi.transform(t*100)},Do={test:B0("hsl","hue"),parse:Ew("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Yi.transform(Rc(e))+", "+Yi.transform(Rc(n))+", "+Rc(Bc.transform(s))+")"},Vt={test:t=>ya.test(t)||Tg.test(t)||Do.test(t),parse:t=>ya.test(t)?ya.parse(t):Do.test(t)?Do.parse(t):Tg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ya.transform(t):Do.transform(t),getAnimatableNone:t=>{const e=Vt.parse(t);return e.alpha=0,Vt.transform(e)}},xI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TI(t){return isNaN(t)&&typeof t=="string"&&(t.match(U0)?.length||0)+(t.match(xI)?.length||0)>0}const ww="number",Sw="color",EI="var",wI="var(",Gx="${}",SI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(SI,m=>(Vt.test(m)?(s.color.push(l),a.push(Sw),n.push(Vt.parse(m))):m.startsWith(wI)?(s.var.push(l),a.push(EI),n.push(m)):(s.number.push(l),a.push(ww),n.push(parseFloat(m))),++l,Gx)).split(Gx);return{values:n,split:f,indexes:s,types:a}}function Aw(t){return zc(t).values}function Cw(t){const{split:e,types:n}=zc(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===ww?l+=Rc(a[u]):f===Sw?l+=Vt.transform(a[u]):l+=a[u]}return l}}const AI=t=>typeof t=="number"?0:Vt.test(t)?Vt.getAnimatableNone(t):t;function CI(t){const e=Aw(t);return Cw(t)(e.map(AI))}const Nr={test:TI,parse:Aw,createTransformer:Cw,getAnimatableNone:CI};function Fp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RI({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Fp(m,f,t+1/3),l=Fp(m,f,t),u=Fp(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Rd(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,Hp=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},NI=[Tg,ya,Do],kI=t=>NI.find(e=>e.test(t));function $x(t){const e=kI(t);if(!e)return!1;let n=e.parse(t);return e===Do&&(n=RI(n)),n}const Kx=(t,e)=>{const n=$x(t),s=$x(e);if(!n||!s)return Rd(t,e);const a={...n};return l=>(a.red=Hp(n.red,s.red,l),a.green=Hp(n.green,s.green,l),a.blue=Hp(n.blue,s.blue,l),a.alpha=mt(n.alpha,s.alpha,l),ya.transform(a))},Eg=new Set(["none","hidden"]);function II(t,e){return Eg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DI(t,e){return n=>mt(t,e,n)}function z0(t){return typeof t=="number"?DI:typeof t=="string"?L0(t)?Rd:Vt.test(t)?Kx:OI:Array.isArray(t)?Rw:typeof t=="object"?Vt.test(t)?Kx:MI:Rd}function Rw(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>z0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function MI(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=z0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function VI(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const OI=(t,e)=>{const n=Nr.createTransformer(e),s=zc(t),a=zc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Eg.has(t)&&!a.values.length||Eg.has(e)&&!s.values.length?II(t,e):iu(Rw(VI(s,a),a.values),n):Rd(t,e)};function Nw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):z0(t)(t,e)}const PI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>at.update(e,n),stop:()=>Rr(e),now:()=>en.isProcessing?en.timestamp:mn.now()}},kw=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Nd=2e4;function F0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Nd;)e+=n,s=t.next(e);return e>=Nd?1/0:e}function jI(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(F0(s),Nd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Xn(a)}}const LI=5;function Iw(t,e,n){const s=Math.max(e-LI,0);return cw(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qp=.001;function UI({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let a,l,u=1-e;u=es(vt.minDamping,vt.maxDamping,u),t=es(vt.minDuration,vt.maxDuration,Xn(t)),u<1?(a=p=>{const y=p*u,_=y*t,T=y-n,A=wg(p,u),I=Math.exp(-_);return qp-T/A*I},l=p=>{const _=p*u*t,T=_*n+n,A=Math.pow(u,2)*Math.pow(p,2)*t,I=Math.exp(-_),O=wg(Math.pow(p,2),u);return(-a(p)+qp>0?-1:1)*((T-A)*I)/O}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-qp+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const f=5/t,m=zI(a,l,f);if(t=vi(t),isNaN(m))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const BI=12;function zI(t,e,n){let s=n;for(let a=1;a<BI;a++)s=s-t(s)/e(s);return s}function wg(t,e){return t*Math.sqrt(1-e*e)}const FI=["duration","bounce"],HI=["stiffness","damping","mass"];function Yx(t,e){return e.some(n=>t[n]!==void 0)}function qI(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!Yx(t,HI)&&Yx(t,FI))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*es(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=UI(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function kd(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:T,isResolvedFromDuration:A}=qI({...n,velocity:-Xn(n.velocity||0)}),I=T||0,O=p/(2*Math.sqrt(m*y)),j=u-l,z=Xn(Math.sqrt(m/y)),H=Math.abs(j)<5;s||(s=H?vt.restSpeed.granular:vt.restSpeed.default),a||(a=H?vt.restDelta.granular:vt.restDelta.default);let K;if(O<1){const Q=wg(z,O);K=ee=>{const N=Math.exp(-O*z*ee);return u-N*((I+O*z*j)/Q*Math.sin(Q*ee)+j*Math.cos(Q*ee))}}else if(O===1)K=Q=>u-Math.exp(-z*Q)*(j+(I+z*j)*Q);else{const Q=z*Math.sqrt(O*O-1);K=ee=>{const N=Math.exp(-O*z*ee),S=Math.min(Q*ee,300);return u-N*((I+O*z*j)*Math.sinh(S)+Q*j*Math.cosh(S))/Q}}const oe={calculatedDuration:A&&_||null,next:Q=>{const ee=K(Q);if(A)f.done=Q>=_;else{let N=Q===0?I:0;O<1&&(N=Q===0?vi(I):Iw(K,Q,ee));const S=Math.abs(N)<=s,R=Math.abs(u-ee)<=a;f.done=S&&R}return f.value=f.done?u:ee,f},toString:()=>{const Q=Math.min(F0(oe),Nd),ee=kw(N=>oe.next(Q*N).value,Q,30);return Q+"ms "+ee},toTransition:()=>{}};return oe}kd.applyToOptions=t=>{const e=jI(t,100,kd);return t.ease=e.ease,t.duration=vi(e.duration),t.type="keyframes",t};function Sg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],T={done:!1,value:_},A=S=>f!==void 0&&S<f||m!==void 0&&S>m,I=S=>f===void 0?m:m===void 0||Math.abs(f-S)<Math.abs(m-S)?f:m;let O=n*e;const j=_+O,z=u===void 0?j:u(j);z!==j&&(O=z-_);const H=S=>-O*Math.exp(-S/s),K=S=>z+H(S),oe=S=>{const R=H(S),M=K(S);T.done=Math.abs(R)<=p,T.value=T.done?z:M};let Q,ee;const N=S=>{A(T.value)&&(Q=S,ee=kd({keyframes:[T.value,I(T.value)],velocity:Iw(K,S,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:S=>{let R=!1;return!ee&&Q===void 0&&(R=!0,oe(S),N(S)),Q!==void 0&&S>=Q?ee.next(S-Q):(!R&&oe(S),T)}}}function GI(t,e,n){const s=[],a=n||Rs.mix||Nw,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||Wn:e;f=iu(m,f)}s.push(f)}return s}function $I(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(M0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=GI(e,s,a),m=f.length,p=y=>{if(u&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const T=Uc(t[_],t[_+1],y);return f[_](T)};return n?y=>p(es(t[0],t[l-1],y)):p}function KI(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Uc(0,e,s);t.push(mt(n,1,a))}}function YI(t){const e=[0];return KI(e,t.length-1),e}function QI(t,e){return t.map(n=>n*e)}function XI(t,e){return t.map(()=>e||vw).splice(0,t.length-1)}function Nc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=oI(s)?s.map(Fx):Fx(s),l={done:!1,value:e[0]},u=QI(n&&n.length===e.length?n:YI(e),t),f=$I(u,e,{ease:Array.isArray(a)?a:XI(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const WI=t=>t!==null;function H0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(WI),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const JI={decay:Sg,inertia:Sg,tween:Nc,keyframes:Nc,spring:kd};function Dw(t){typeof t.type=="string"&&(t.type=JI[t.type])}class q0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const ZI=t=>t/100;class G0 extends q0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Dw(e);const{type:n=Nc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||Nc;m!==Nc&&typeof f[0]!="number"&&(this.mixKeyframes=iu(ZI,Nw(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=F0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:T,repeatDelay:A,type:I,onUpdate:O,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,oe=s;if(_){const S=Math.min(this.currentTime,a)/f;let R=Math.floor(S),M=S%1;!M&&S>=1&&(M=1),M===1&&R--,R=Math.min(R,_+1),R%2&&(T==="reverse"?(M=1-M,A&&(M-=A/f)):T==="mirror"&&(oe=u)),K=es(0,1,M)*f}const Q=H?{done:!1,value:y[0]}:oe.next(K);l&&(Q.value=l(Q.value));let{done:ee}=Q;!H&&m!==null&&(ee=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ee);return N&&I!==Sg&&(Q.value=H0(y,this.options,j,this.speed)),O&&O(Q.value),N&&this.finish(),Q}then(e,n){return this.finished.then(e,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xn(e)}get time(){return Xn(this.currentTime)}set time(e){e=vi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(mn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=PI,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function eD(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const va=t=>t*180/Math.PI,Ag=t=>{const e=va(Math.atan2(t[1],t[0]));return Cg(e)},tD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ag,rotateZ:Ag,skewX:t=>va(Math.atan(t[1])),skewY:t=>va(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Cg=t=>(t=t%360,t<0&&(t+=360),t),Qx=Ag,Xx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Wx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),nD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xx,scaleY:Wx,scale:t=>(Xx(t)+Wx(t))/2,rotateX:t=>Cg(va(Math.atan2(t[6],t[5]))),rotateY:t=>Cg(va(Math.atan2(-t[2],t[0]))),rotateZ:Qx,rotate:Qx,skewX:t=>va(Math.atan(t[4])),skewY:t=>va(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Rg(t){return t.includes("scale")?1:0}function Ng(t,e){if(!t||t==="none")return Rg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=nD,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=tD,a=f}if(!a)return Rg(e);const l=s[e],u=a[1].split(",").map(sD);return typeof l=="function"?l(u):u[l]}const iD=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ng(n,e)};function sD(t){return parseFloat(t.trim())}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rl=new Set(sl),Jx=t=>t===il||t===pe,rD=new Set(["x","y","z"]),aD=sl.filter(t=>!rD.has(t));function oD(t){const e=[];return aD.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const _r={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ng(e,"x"),y:(t,{transform:e})=>Ng(e,"y")};_r.translateX=_r.x;_r.translateY=_r.y;const xa=new Set;let kg=!1,Ig=!1,Dg=!1;function Mw(){if(Ig){const t=Array.from(xa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=oD(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ig=!1,kg=!1,xa.forEach(t=>t.complete(Dg)),xa.clear()}function Vw(){xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ig=!0)})}function lD(){Dg=!0,Vw(),Mw(),Dg=!1}class $0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(xa.add(this),kg||(kg=!0,at.read(Vw),at.resolveKeyframes(Mw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}eD(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),xa.delete(this)}cancel(){this.state==="scheduled"&&(xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cD=t=>t.startsWith("--");function uD(t,e,n){cD(e)?t.style.setProperty(e,n):t.style[e]=n}const hD=V0(()=>window.ScrollTimeline!==void 0),dD={};function fD(t,e){const n=V0(t);return()=>dD[e]??n()}const Ow=fD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ec=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Zx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ec([0,.65,.55,1]),circOut:Ec([.55,0,1,.45]),backIn:Ec([.31,.01,.66,-.59]),backOut:Ec([.33,1.53,.69,.99])};function Pw(t,e){if(t)return typeof t=="function"?Ow()?kw(t,e):"ease-out":bw(t)?Ec(t):Array.isArray(t)?t.map(n=>Pw(n,e)||Zx.easeOut):Zx[t]}function mD(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const _=Pw(f,a);Array.isArray(_)&&(y.easing=_);const T={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(y,T)}function jw(t){return typeof t=="function"&&"applyToOptions"in t}function pD({type:t,...e}){return jw(t)&&Ow()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Lw extends q0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,M0(typeof e.type!="string");const p=pD(e);this.animation=mD(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=H0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):uD(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xn(e)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=vi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&hD()?(this.animation.timeline=e,Wn):n(this)}}const Uw={anticipate:pw,backInOut:mw,circInOut:yw};function gD(t){return t in Uw}function yD(t){typeof t.ease=="string"&&gD(t.ease)&&(t.ease=Uw[t.ease])}const Gp=10;class vD extends Lw{constructor(e){yD(e),Dw(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new G0({...u,autoplay:!1}),m=Math.max(Gp,mn.now()-this.startTime),p=es(0,Gp,m-Gp);n.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const e1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Nr.test(t)||t==="0")&&!t.startsWith("url("));function bD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function _D(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=e1(a,e),f=e1(l,e);return!u||!f?!1:bD(t)||(n==="spring"||jw(n))&&s}function Mg(t){t.duration=0,t.type="keyframes"}const xD=new Set(["opacity","clipPath","filter","transform"]),TD=V0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ED(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return TD()&&n&&xD.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const wD=40;class SD extends q0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,..._},A=y?.KeyframeResolver||$0;this.keyframeResolver=new A(f,(I,O,j)=>this.onKeyframesResolved(I,O,T,!j),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=mn.now(),_D(e,l,u,f)||((Rs.instantAnimations||!m)&&y?.(H0(e,s,n)),e[0]=e[e.length-1],Mg(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>wD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!p&&ED(T),I=T.motionValue?.owner?.current,O=A?new vD({...T,element:I}):new G0(T);O.finished.then(()=>{this.notifyFinished()}).catch(Wn),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),lD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Bw(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const AD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CD(t){const e=AD.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function zw(t,e,n=1){const[s,a]=CD(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return aw(u)?parseFloat(u):u}return L0(a)?zw(a,e,n+1):a}const RD={type:"spring",stiffness:500,damping:25,restSpeed:10},ND=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kD={type:"keyframes",duration:.8},ID={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DD=(t,{keyframes:e})=>e.length>2?kD:rl.has(t)?t.startsWith("scale")?ND(e[1]):RD:ID,MD=t=>t!==null;function VD(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(MD),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function Fw(t,e){if(t?.inherit&&e){const{inherit:n,...s}=t;return{...e,...s}}return t}function K0(t,e){const n=t?.[e]??t?.default??t;return n!==t?Fw(n,t):n}function OD({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Y0=(t,e,n,s={},a,l)=>u=>{const f=K0(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-vi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};OD(f)||Object.assign(y,DD(t,y)),y.duration&&(y.duration=vi(y.duration)),y.repeatDelay&&(y.repeatDelay=vi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Mg(y),y.delay===0&&(_=!0)),(Rs.instantAnimations||Rs.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,Mg(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const T=VD(y.keyframes,f);if(T!==void 0){at.update(()=>{y.onUpdate(T),y.onComplete()});return}}return f.isSync?new G0(y):new SD(y)};function t1(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Q0(t,e,n,s){if(typeof e=="function"){const[a,l]=t1(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=t1(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Lo(t,e,n){const s=t.getProps();return Q0(s,e,n!==void 0?n:s.custom,t)}const Hw=new Set(["width","height","top","left","right","bottom",...sl]),n1=30,PD=t=>!isNaN(parseFloat(t));class jD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=mn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new O0);const s=this.events[e].add(n);return e==="change"?()=>{s(),at.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>n1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,n1);return cw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Go(t,e){return new jD(t,e)}const Vg=t=>Array.isArray(t);function LD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Go(n))}function UD(t){return Vg(t)?t[t.length-1]||0:t}function BD(t,e){const n=Lo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=UD(l[u]);LD(t,u,f)}}const cn=t=>!!(t&&t.getVelocity);function zD(t){return!!(cn(t)&&t.add)}function Og(t,e){const n=t.getValue("willChange");if(zD(n))return n.add(e);if(!n&&Rs.WillChange){const s=new Rs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function X0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const FD="framerAppearId",qw="data-"+X0(FD);function Gw(t){return t.props[qw]}function HD({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function $w(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:u,...f}=e;const m=t.getDefaultTransition();l=l?Fw(l,m):m;const p=l?.reduceMotion;s&&(l=s);const y=[],_=a&&t.animationState&&t.animationState.getState()[a];for(const T in f){const A=t.getValue(T,t.latestValues[T]??null),I=f[T];if(I===void 0||_&&HD(_,T))continue;const O={delay:n,...K0(l||{},T)},j=A.get();if(j!==void 0&&!A.isAnimating&&!Array.isArray(I)&&I===j&&!O.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const oe=Gw(t);if(oe){const Q=window.MotionHandoffAnimation(oe,T,at);Q!==null&&(O.startTime=Q,z=!0)}}Og(t,T);const H=p??t.shouldReduceMotion;A.start(Y0(T,A,I,H&&Hw.has(T)?{type:!1}:O,t,z));const K=A.animation;K&&y.push(K)}if(u){const T=()=>at.update(()=>{u&&BD(t,u)});y.length?Promise.all(y).then(T):T()}return y}function Pg(t,e,n={}){const s=Lo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all($w(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return qD(t,e,m,p,y,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function qD(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Pg(m,e,{...u,delay:n+(typeof s=="function"?0:s)+Bw(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function GD(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Pg(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Pg(t,e,n);else{const a=typeof e=="function"?Lo(t,e,n.custom):e;s=Promise.all($w(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const $D={test:t=>t==="auto",parse:t=>t},Kw=t=>e=>e.test(t),Yw=[il,pe,Yi,gr,_I,bI,$D],i1=t=>Yw.find(Kw(t));function KD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lw(t):!0}const YD=new Set(["brightness","contrast","saturate","opacity"]);function QD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(U0)||[];if(!s)return t;const a=n.replace(s,"");let l=YD.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const XD=/\b([a-z-]*)\(.*?\)/gu,jg={...Nr,getAnimatableNone:t=>{const e=t.match(XD);return e?e.map(QD).join(" "):t}},s1={...il,transform:Math.round},WD={rotate:gr,rotateX:gr,rotateY:gr,rotateZ:gr,scale:Wh,scaleX:Wh,scaleY:Wh,scaleZ:Wh,skew:gr,skewX:gr,skewY:gr,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Bc,originX:qx,originY:qx,originZ:pe},W0={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,inset:pe,insetBlock:pe,insetBlockStart:pe,insetBlockEnd:pe,insetInline:pe,insetInlineStart:pe,insetInlineEnd:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,paddingBlock:pe,paddingBlockStart:pe,paddingBlockEnd:pe,paddingInline:pe,paddingInlineStart:pe,paddingInlineEnd:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,marginBlock:pe,marginBlockStart:pe,marginBlockEnd:pe,marginInline:pe,marginInlineStart:pe,marginInlineEnd:pe,fontSize:pe,backgroundPositionX:pe,backgroundPositionY:pe,...WD,zIndex:s1,fillOpacity:Bc,strokeOpacity:Bc,numOctaves:s1},JD={...W0,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:jg,WebkitFilter:jg},Qw=t=>JD[t];function Xw(t,e){let n=Qw(t);return n!==jg&&(n=Nr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ZD=new Set(["auto","none","0"]);function e4(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!ZD.has(l)&&zc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=Xw(n,a)}class t4 extends $0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let _=e[y];if(typeof _=="string"&&(_=_.trim(),L0(_))){const T=zw(_,n.current);T!==void 0&&(e[y]=T),y===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!Hw.has(s)||e.length!==2)return;const[a,l]=e,u=i1(a),f=i1(l),m=Hx(a),p=Hx(l);if(m!==p&&_r[s]){this.needsMeasurement=!0;return}if(u!==f)if(Jx(u)&&Jx(f))for(let y=0;y<e.length;y++){const _=e[y];typeof _=="string"&&(e[y]=parseFloat(_))}else _r[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||KD(e[a]))&&s.push(a);s.length&&e4(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_r[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=_r[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const n4=new Set(["opacity","clipPath","filter","transform"]);function Ww(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(s=>s!=null)}const Jw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Lg(t){return ow(t)&&"offsetHeight"in t}const{schedule:J0}=_w(queueMicrotask,!1),mi={x:!1,y:!1};function Zw(){return mi.x||mi.y}function i4(t){return t==="x"||t==="y"?mi[t]?null:(mi[t]=!0,()=>{mi[t]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function eS(t,e){const n=Ww(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function s4(t){return!(t.pointerType==="touch"||Zw())}function r4(t,e,n={}){const[s,a,l]=eS(t,n);return s.forEach(u=>{let f=!1,m=!1,p;const y=()=>{u.removeEventListener("pointerleave",I)},_=j=>{p&&(p(j),p=void 0),y()},T=j=>{f=!1,window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),m&&(m=!1,_(j))},A=()=>{f=!0,window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",T,a)},I=j=>{if(j.pointerType!=="touch"){if(f){m=!0;return}_(j)}},O=j=>{if(!s4(j))return;m=!1;const z=e(u,j);typeof z=="function"&&(p=z,u.addEventListener("pointerleave",I,a))};u.addEventListener("pointerenter",O,a),u.addEventListener("pointerdown",A,a)}),l}const tS=(t,e)=>e?t===e?!0:tS(t,e.parentElement):!1,Z0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,a4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function o4(t){return a4.has(t.tagName)||t.isContentEditable===!0}const l4=new Set(["INPUT","SELECT","TEXTAREA"]);function c4(t){return l4.has(t.tagName)||t.isContentEditable===!0}const ud=new WeakSet;function r1(t){return e=>{e.key==="Enter"&&t(e)}}function $p(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const u4=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=r1(()=>{if(ud.has(n))return;$p(n,"down");const a=r1(()=>{$p(n,"up")}),l=()=>$p(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function a1(t){return Z0(t)&&!Zw()}const o1=new WeakSet;function h4(t,e,n={}){const[s,a,l]=eS(t,n),u=f=>{const m=f.currentTarget;if(!a1(f)||o1.has(f))return;ud.add(m),n.stopPropagation&&o1.add(f);const p=e(m,f),y=(A,I)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),ud.has(m)&&ud.delete(m),a1(A)&&typeof p=="function"&&p(A,{success:I})},_=A=>{y(A,m===window||m===document||n.useGlobalTarget||tS(m,A.target))},T=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),Lg(f)&&(f.addEventListener("focus",p=>u4(p,a)),!o4(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function ey(t){return ow(t)&&"ownerSVGElement"in t}const hd=new WeakMap;let dd;const nS=(t,e,n)=>(s,a)=>a&&a[0]?a[0][t+"Size"]:ey(s)&&"getBBox"in s?s.getBBox()[e]:s[n],d4=nS("inline","width","offsetWidth"),f4=nS("block","height","offsetHeight");function m4({target:t,borderBoxSize:e}){hd.get(t)?.forEach(n=>{n(t,{get width(){return d4(t,e)},get height(){return f4(t,e)}})})}function p4(t){t.forEach(m4)}function g4(){typeof ResizeObserver>"u"||(dd=new ResizeObserver(p4))}function y4(t,e){dd||g4();const n=Ww(t);return n.forEach(s=>{let a=hd.get(s);a||(a=new Set,hd.set(s,a)),a.add(e),dd?.observe(s)}),()=>{n.forEach(s=>{const a=hd.get(s);a?.delete(e),a?.size||dd?.unobserve(s)})}}const fd=new Set;let Mo;function v4(){Mo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};fd.forEach(e=>e(t))},window.addEventListener("resize",Mo)}function b4(t){return fd.add(t),Mo||v4(),()=>{fd.delete(t),!fd.size&&typeof Mo=="function"&&(window.removeEventListener("resize",Mo),Mo=void 0)}}function l1(t,e){return typeof t=="function"?b4(t):y4(t,e)}function _4(t){return ey(t)&&t.tagName==="svg"}const x4=[...Yw,Vt,Nr],T4=t=>x4.find(Kw(t)),c1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vo=()=>({x:c1(),y:c1()}),u1=()=>({min:0,max:0}),zt=()=>({x:u1(),y:u1()}),E4=new WeakMap;function uf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Fc(t){return typeof t=="string"||Array.isArray(t)}const ty=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ny=["initial",...ty];function hf(t){return uf(t.animate)||ny.some(e=>Fc(t[e]))}function iS(t){return!!(hf(t)||t.variants)}function w4(t,e,n){for(const s in e){const a=e[s],l=n[s];if(cn(a))t.addValue(s,a);else if(cn(l))t.addValue(s,Go(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Go(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Ug={current:null},sS={current:!1},S4=typeof window<"u";function A4(){if(sS.current=!0,!!S4)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ug.current=t.matches;t.addEventListener("change",e),e()}else Ug.current=!1}const h1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Id={};function rS(t){Id=t}function C4(){return Id}class R4{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=$0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=mn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,at.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=y,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=hf(n),this.isVariantNode=iS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in T){const I=T[A];p[A]!==void 0&&cn(I)&&I.set(p[A])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,E4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(sS.current||A4(),this.shouldReduceMotion=Ug.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&n4.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:f,times:m,ease:p,duration:y}=n.accelerate,_=new Lw({element:this.current,name:e,keyframes:f,times:m,ease:p,duration:vi(y)}),T=u(_);this.valueSubscriptions.set(e,()=>{T(),_.cancel()});return}const s=rl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&at.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Id){const n=Id[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<h1.length;s++){const a=h1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=w4(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Go(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(aw(s)||lw(s))?s=parseFloat(s):!T4(s)&&Nr.test(n)&&(s=Xw(e,n)),this.setBaseTarget(e,cn(s)?s.get():s)),cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Q0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new O0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){J0.render(this.render)}}class aS extends R4{constructor(){super(...arguments),this.KeyframeResolver=t4}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Pr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function oS({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function N4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function k4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Kp(t){return t===void 0||t===1}function Bg({scale:t,scaleX:e,scaleY:n}){return!Kp(t)||!Kp(e)||!Kp(n)}function pa(t){return Bg(t)||lS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lS(t){return d1(t.x)||d1(t.y)}function d1(t){return t&&t!=="0%"}function Dd(t,e,n){const s=t-n,a=e*s;return n+a}function f1(t,e,n,s,a){return a!==void 0&&(t=Dd(t,a,s)),Dd(t,n,s)+e}function zg(t,e=0,n=1,s,a){t.min=f1(t.min,e,n,s,a),t.max=f1(t.max,e,n,s,a)}function cS(t,{x:e,y:n}){zg(t.x,e.translate,e.scale,e.originPoint),zg(t.y,n.translate,n.scale,n.originPoint)}const m1=.999999999999,p1=1.0000000000001;function I4(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Po(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,cS(t,u)),s&&pa(l.latestValues)&&Po(t,l.latestValues))}e.x<p1&&e.x>m1&&(e.x=1),e.y<p1&&e.y>m1&&(e.y=1)}function Oo(t,e){t.min=t.min+e,t.max=t.max+e}function g1(t,e,n,s,a=.5){const l=mt(t.min,t.max,a);zg(t,e,n,l,s)}function Po(t,e){g1(t.x,e.x,e.scaleX,e.scale,e.originX),g1(t.y,e.y,e.scaleY,e.scale,e.originY)}function uS(t,e){return oS(k4(t.getBoundingClientRect(),e))}function D4(t,e,n){const s=uS(t,n),{scroll:a}=e;return a&&(Oo(s.x,a.offset.x),Oo(s.y,a.offset.y)),s}const M4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V4=sl.length;function O4(t,e,n){let s="",a=!0;for(let l=0;l<V4;l++){const u=sl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number")m=f===(u.startsWith("scale")?1:0);else{const p=parseFloat(f);m=u.startsWith("scale")?p===1:p===0}if(!m||n){const p=Jw(f,W0[u]);if(!m){a=!1;const y=M4[u]||u;s+=`${y}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function iy(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const p=e[m];if(rl.has(m)){u=!0;continue}else if(Tw(m)){a[m]=p;continue}else{const y=Jw(p,W0[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(u||n?s.transform=O4(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function hS(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function y1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=y1(t,e.target.x),s=y1(t,e.target.y);return`${n}% ${s}%`}},P4={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Nr.parse(t);if(a.length>5)return s;const l=Nr.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const p=mt(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},Fg={borderRadius:{...xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xc,borderTopRightRadius:xc,borderBottomLeftRadius:xc,borderBottomRightRadius:xc,boxShadow:P4};function dS(t,{layout:e,layoutId:n}){return rl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fg[t]||t==="opacity")}function sy(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(cn(s[u])||a&&cn(a[u])||dS(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function j4(t){return window.getComputedStyle(t)}class L4 extends aS{constructor(){super(...arguments),this.type="html",this.renderInstance=hS}readValueFromInstance(e,n){if(rl.has(n))return this.projection?.isProjecting?Rg(n):iD(e,n);{const s=j4(e),a=(Tw(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uS(e,n)}build(e,n,s){iy(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return sy(e,n,s)}}const U4={offset:"stroke-dashoffset",array:"stroke-dasharray"},B4={offset:"strokeDashoffset",array:"strokeDasharray"};function z4(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?U4:B4;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const F4=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function fS(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,y){if(iy(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:T}=t;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const A of F4)_[A]!==void 0&&(T[A]=_[A],delete _[A]);e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&z4(_,a,l,u,!1)}const mS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),pS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function H4(t,e,n,s){hS(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(mS.has(a)?a:X0(a),e.attrs[a])}function gS(t,e,n){const s=sy(t,e,n);for(const a in t)if(cn(t[a])||cn(e[a])){const l=sl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class q4 extends aS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(rl.has(n)){const s=Qw(n);return s&&s.default||0}return n=mS.has(n)?n:X0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return gS(e,n,s)}build(e,n,s){fS(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){H4(e,n,s,a)}mount(e){this.isSVGTag=pS(e.tagName),super.mount(e)}}const G4=ny.length;function yS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?yS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<G4;n++){const s=ny[n],a=t.props[s];(Fc(a)||a===!1)&&(e[s]=a)}return e}function vS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const $4=[...ty].reverse(),K4=ty.length;function Y4(t){return e=>Promise.all(e.map(({animation:n,options:s})=>GD(t,n,s)))}function Q4(t){let e=Y4(t),n=v1(),s=!0;const a=m=>(p,y)=>{const _=Lo(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:T,transitionEnd:A,...I}=_;p={...p,...I,...A}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,y=yS(t.parent)||{},_=[],T=new Set;let A={},I=1/0;for(let j=0;j<K4;j++){const z=$4[j],H=n[z],K=p[z]!==void 0?p[z]:y[z],oe=Fc(K),Q=z===m?H.isActive:null;Q===!1&&(I=j);let ee=K===y[z]&&K!==p[z]&&oe;if(ee&&s&&t.manuallyAnimateOnMount&&(ee=!1),H.protectedKeys={...A},!H.isActive&&Q===null||!K&&!H.prevProp||uf(K)||typeof K=="boolean")continue;if(z==="exit"&&H.isActive&&Q!==!0){H.prevResolvedValues&&(A={...A,...H.prevResolvedValues});continue}const N=X4(H.prevProp,K);let S=N||z===m&&H.isActive&&!ee&&oe||j>I&&oe,R=!1;const M=Array.isArray(K)?K:[K];let V=M.reduce(a(z),{});Q===!1&&(V={});const{prevResolvedValues:B={}}=H,D={...B,...V},Ge=ae=>{S=!0,T.has(ae)&&(R=!0,T.delete(ae)),H.needsAnimating[ae]=!0;const ue=t.getValue(ae);ue&&(ue.liveStyle=!1)};for(const ae in D){const ue=V[ae],_e=B[ae];if(A.hasOwnProperty(ae))continue;let De=!1;Vg(ue)&&Vg(_e)?De=!vS(ue,_e):De=ue!==_e,De?ue!=null?Ge(ae):T.add(ae):ue!==void 0&&T.has(ae)?Ge(ae):H.protectedKeys[ae]=!0}H.prevProp=K,H.prevResolvedValues=V,H.isActive&&(A={...A,...V}),s&&t.blockInitialAnimation&&(S=!1);const ye=ee&&N;S&&(!ye||R)&&_.push(...M.map(ae=>{const ue={type:z};if(typeof ae=="string"&&s&&!ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:_e}=t,De=Lo(_e,ae);if(_e.enteringChildren&&De){const{delayChildren:L}=De.transition||{};ue.delay=Bw(_e.enteringChildren,t,L)}}return{animation:ae,options:ue}}))}if(T.size){const j={};if(typeof p.initial!="boolean"){const z=Lo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(j.transition=z.transition)}T.forEach(z=>{const H=t.getBaseTarget(z),K=t.getValue(z);K&&(K.liveStyle=!0),j[z]=H??null}),_.push({animation:j})}let O=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(_):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=u(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=v1()}}}function X4(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vS(e,t):!1}function ma(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function v1(){return{animate:ma(!0),whileInView:ma(),whileHover:ma(),whileTap:ma(),whileDrag:ma(),whileFocus:ma(),exit:ma()}}function b1(t,e){t.min=e.min,t.max=e.max}function fi(t,e){b1(t.x,e.x),b1(t.y,e.y)}function _1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const bS=1e-4,W4=1-bS,J4=1+bS,_S=.01,Z4=0-_S,eM=0+_S;function pn(t){return t.max-t.min}function tM(t,e,n){return Math.abs(t-e)<=n}function x1(t,e,n,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=pn(n)/pn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=W4&&t.scale<=J4||isNaN(t.scale))&&(t.scale=1),(t.translate>=Z4&&t.translate<=eM||isNaN(t.translate))&&(t.translate=0)}function kc(t,e,n,s){x1(t.x,e.x,n.x,s?s.originX:void 0),x1(t.y,e.y,n.y,s?s.originY:void 0)}function T1(t,e,n){t.min=n.min+e.min,t.max=t.min+pn(e)}function nM(t,e,n){T1(t.x,e.x,n.x),T1(t.y,e.y,n.y)}function E1(t,e,n){t.min=e.min-n.min,t.max=t.min+pn(e)}function Md(t,e,n){E1(t.x,e.x,n.x),E1(t.y,e.y,n.y)}function w1(t,e,n,s,a){return t-=e,t=Dd(t,1/n,s),a!==void 0&&(t=Dd(t,1/a,s)),t}function iM(t,e=0,n=1,s=.5,a,l=t,u=t){if(Yi.test(e)&&(e=parseFloat(e),e=mt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=mt(l.min,l.max,s);t===l&&(f-=e),t.min=w1(t.min,e,n,f,a),t.max=w1(t.max,e,n,f,a)}function S1(t,e,[n,s,a],l,u){iM(t,e[n],e[s],e[a],e.scale,l,u)}const sM=["x","scaleX","originX"],rM=["y","scaleY","originY"];function A1(t,e,n,s){S1(t.x,e,sM,n?n.x:void 0,s?s.x:void 0),S1(t.y,e,rM,n?n.y:void 0,s?s.y:void 0)}function C1(t){return t.translate===0&&t.scale===1}function xS(t){return C1(t.x)&&C1(t.y)}function R1(t,e){return t.min===e.min&&t.max===e.max}function aM(t,e){return R1(t.x,e.x)&&R1(t.y,e.y)}function N1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function TS(t,e){return N1(t.x,e.x)&&N1(t.y,e.y)}function k1(t){return pn(t.x)/pn(t.y)}function I1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function $i(t){return[t("x"),t("y")]}function oM(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:T,skewX:A,skewY:I}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),T&&(s+=`rotateY(${T}deg) `),A&&(s+=`skewX(${A}deg) `),I&&(s+=`skewY(${I}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const ES=["TopLeft","TopRight","BottomLeft","BottomRight"],lM=ES.length,D1=t=>typeof t=="string"?parseFloat(t):t,M1=t=>typeof t=="number"||pe.test(t);function cM(t,e,n,s,a,l){a?(t.opacity=mt(0,n.opacity??1,uM(s)),t.opacityExit=mt(e.opacity??1,0,hM(s))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,s));for(let u=0;u<lM;u++){const f=`border${ES[u]}Radius`;let m=V1(e,f),p=V1(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||M1(m)===M1(p)?(t[f]=Math.max(mt(D1(m),D1(p),s),0),(Yi.test(p)||Yi.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,s))}function V1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uM=wS(0,.5,gw),hM=wS(.5,.95,Wn);function wS(t,e,n){return s=>s<t?0:s>e?1:n(Uc(t,e,s))}function dM(t,e,n){const s=cn(t)?t:Go(t);return s.start(Y0("",s,e,n)),s.animation}function Hc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const fM=(t,e)=>t.depth-e.depth;class mM{constructor(){this.children=[],this.isDirty=!1}add(e){D0(this.children,e),this.isDirty=!0}remove(e){Cd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fM),this.isDirty=!1,this.children.forEach(e)}}function pM(t,e){const n=mn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Rr(s),t(l-e))};return at.setup(s,!0),()=>Rr(s)}function md(t){return cn(t)?t.get():t}class gM{constructor(){this.members=[]}add(e){D0(this.members,e);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===e||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&Cd(this.members,s)}e.scheduleRender()}remove(e){if(Cd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const a=s.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=s.instance;m&&m.isConnected===!1&&!s.snapshot||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:f}=e.options;f===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Yp=["","X","Y","Z"],yM=1e3;let vM=0;function Qp(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function SS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Gw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&SS(s)}function AS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=vM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xM),this.nodes.forEach(SM),this.nodes.forEach(AM),this.nodes.forEach(TM)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new mM)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new O0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ey(u)&&!_4(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,_=0;const T=()=>this.root.updateBlockedByResize=!1;at.read(()=>{_=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,y&&y(),y=pM(T,250),pd.hasAnimatedSinceResize&&(pd.hasAnimatedSinceResize=!1,this.nodes.forEach(j1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||IM,{onLayoutAnimationStart:O,onLayoutAnimationComplete:j}=p.getProps(),z=!this.targetLayout||!TS(this.targetLayout,A),H=!_&&T;if(this.options.layoutRoot||this.resumeFrom||H||_&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...K0(I,"layout"),onPlay:O,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,H)}else _||j1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CM),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(O1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(P1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wM),this.nodes.forEach(bM),this.nodes.forEach(_M)):this.nodes.forEach(P1),this.clearAllSnapshots();const f=mn.now();en.delta=es(0,1e3/60,f-en.timestamp),en.timestamp=f,en.isProcessing=!0,Bp.update.process(en),Bp.preRender.process(en),Bp.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,J0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(EM),this.sharedNodes.forEach(RM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!xS(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||pa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),DM(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return zt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(MM))){const{scroll:p}=this.root;p&&(Oo(f.x,p.offset.x),Oo(f.y,p.offset.y))}return f}removeElementScroll(u){const f=zt();if(fi(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&fi(f,u),Oo(f.x,y.offset.x),Oo(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=zt();fi(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Po(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),pa(y.latestValues)&&Po(m,y.latestValues)}return pa(this.latestValues)&&Po(m,this.latestValues),m}removeTransform(u){const f=zt();fi(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!pa(p.latestValues))continue;Bg(p.latestValues)&&p.updateSnapshot();const y=zt(),_=p.measurePageBox();fi(y,_),A1(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return pa(this.latestValues)&&A1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=en.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),cS(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Bg(this.parent.latestValues)||lS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Md(this.relativeTargetOrigin,f,m),fi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===en.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;fi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;I4(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=zt());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_1(this.prevProjectionDelta.x,this.projectionDelta.x),_1(this.prevProjectionDelta.y,this.projectionDelta.y)),kc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!I1(this.projectionDelta.x,this.prevProjectionDelta.x)||!I1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vo(),this.projectionDelta=Vo(),this.projectionDeltaWithTransform=Vo()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=zt(),A=m?m.source:void 0,I=this.layout?this.layout.source:void 0,O=A!==I,j=this.getStack(),z=!j||j.members.length<=1,H=!!(O&&!z&&this.options.crossfade===!0&&!this.path.some(kM));this.animationProgress=0;let K;this.mixTargetDelta=oe=>{const Q=oe/1e3;L1(_.x,u.x,Q),L1(_.y,u.y,Q),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Md(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NM(this.relativeTarget,this.relativeTargetOrigin,T,Q),K&&aM(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=zt()),fi(K,this.relativeTarget)),O&&(this.animationValues=y,cM(y,p,this.latestValues,Q,H,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{pd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Go(0)),this.currentAnimation=dM(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&CS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||zt();const _=pn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+_;const T=pn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}fi(f,m),Po(f,y),kc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gM),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Qp("z",u,p,this.animationValues);for(let y=0;y<Yp.length;y++)Qp(`rotate${Yp[y]}`,u,p,this.animationValues),Qp(`skew${Yp[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=md(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=md(f?.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=oM(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),u.transform=_;const{x:T,y:A}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const I in Fg){if(y[I]===void 0)continue;const{correct:O,applyTo:j,isCSSVariable:z}=Fg[I],H=_==="none"?y[I]:O(y[I],p);if(j){const K=j.length;for(let oe=0;oe<K;oe++)u[j[oe]]=H}else z?this.options.visualElement.renderState.vars[I]=H:u[I]=H}this.options.layoutId&&(u.pointerEvents=p===this?md(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(O1),this.root.sharedNodes.clear()}}}function bM(t){t.updateLayout()}function _M(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?$i(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],T=pn(_);_.min=n[y].min,_.max=_.min+T}):CS(a,e.layoutBox,n)&&$i(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],T=pn(n[y]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=Vo();kc(u,n,e.layoutBox);const f=Vo();l?kc(f,t.applyTransform(s,!0),e.measuredBox):kc(f,n,e.layoutBox);const m=!xS(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const A=zt();Md(A,e.layoutBox,_.layoutBox);const I=zt();Md(I,n,T.layoutBox),TS(A,I)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=A,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function xM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function EM(t){t.clearSnapshot()}function O1(t){t.clearMeasurements()}function P1(t){t.isLayoutDirty=!1}function wM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function j1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function SM(t){t.resolveTargetDelta()}function AM(t){t.calcProjection()}function CM(t){t.resetSkewAndRotation()}function RM(t){t.removeLeadSnapshot()}function L1(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function U1(t,e,n,s){t.min=mt(e.min,n.min,s),t.max=mt(e.max,n.max,s)}function NM(t,e,n,s){U1(t.x,e.x,n.x,s),U1(t.y,e.y,n.y,s)}function kM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const IM={duration:.45,ease:[.4,0,.1,1]},B1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),z1=B1("applewebkit/")&&!B1("chrome/")?Math.round:Wn;function F1(t){t.min=z1(t.min),t.max=z1(t.max)}function DM(t){F1(t.x),F1(t.y)}function CS(t,e,n){return t==="position"||t==="preserve-aspect"&&!tM(k1(e),k1(n),.2)}function MM(t){return t!==t.root&&t.scroll?.wasRoot}const VM=AS({attachResizeListener:(t,e)=>Hc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Xp={current:void 0},RS=AS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xp.current){const t=new VM({});t.mount(window),t.setOptions({layoutScroll:!0}),Xp.current=t}return Xp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ry=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function H1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function OM(...t){return e=>{let n=!1;const s=t.map(a=>{const l=H1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():H1(t[a],null)}}}}function PM(...t){return k.useCallback(OM(...t),t)}class jM extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,a=Lg(s)&&s.offsetWidth||0,l=Lg(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function LM({children:t,isPresent:e,anchorX:n,anchorY:s,root:a,pop:l}){const u=k.useId(),f=k.useRef(null),m=k.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=k.useContext(ry),y=t.props?.ref??t?.ref,_=PM(f,y);return k.useInsertionEffect(()=>{const{width:T,height:A,top:I,left:O,right:j,bottom:z}=m.current;if(e||l===!1||!f.current||!T||!A)return;const H=n==="left"?`left: ${O}`:`right: ${j}`,K=s==="bottom"?`bottom: ${z}`:`top: ${I}`;f.current.dataset.motionPopId=u;const oe=document.createElement("style");p&&(oe.nonce=p);const Q=a??document.head;return Q.appendChild(oe),oe.sheet&&oe.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${A}px !important;
            ${H}px !important;
            ${K}px !important;
          }
        `),()=>{Q.contains(oe)&&Q.removeChild(oe)}},[e]),v.jsx(jM,{isPresent:e,childRef:f,sizeRef:m,pop:l,children:l===!1?t:k.cloneElement(t,{ref:_})})}const UM=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,anchorY:m,root:p})=>{const y=I0(BM),_=k.useId();let T=!0,A=k.useMemo(()=>(T=!1,{id:_,initial:e,isPresent:n,custom:a,onExitComplete:I=>{y.set(I,!0);for(const O of y.values())if(!O)return;s&&s()},register:I=>(y.set(I,!1),()=>y.delete(I))}),[n,y,s]);return l&&T&&(A={...A}),k.useMemo(()=>{y.forEach((I,O)=>y.set(O,!1))},[n]),k.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),t=v.jsx(LM,{pop:u==="popLayout",isPresent:n,anchorX:f,anchorY:m,root:p,children:t}),v.jsx(cf.Provider,{value:A,children:t})};function BM(){return new Map}function NS(t=!0){const e=k.useContext(cf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const u=k.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Jh=t=>t.key||"";function q1(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const au=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",anchorY:m="top",root:p})=>{const[y,_]=NS(u),T=k.useMemo(()=>q1(t),[t]),A=u&&!y?[]:T.map(Jh),I=k.useRef(!0),O=k.useRef(T),j=I0(()=>new Map),z=k.useRef(new Set),[H,K]=k.useState(T),[oe,Q]=k.useState(T);rw(()=>{I.current=!1,O.current=T;for(let S=0;S<oe.length;S++){const R=Jh(oe[S]);A.includes(R)?(j.delete(R),z.current.delete(R)):j.get(R)!==!0&&j.set(R,!1)}},[oe,A.length,A.join("-")]);const ee=[];if(T!==H){let S=[...T];for(let R=0;R<oe.length;R++){const M=oe[R],V=Jh(M);A.includes(V)||(S.splice(R,0,M),ee.push(M))}return l==="wait"&&ee.length&&(S=ee),Q(q1(S)),K(T),null}const{forceRender:N}=k.useContext(k0);return v.jsx(v.Fragment,{children:oe.map(S=>{const R=Jh(S),M=u&&!y?!1:T===oe||A.includes(R),V=()=>{if(z.current.has(R))return;if(z.current.add(R),j.has(R))j.set(R,!0);else return;let B=!0;j.forEach(D=>{D||(B=!1)}),B&&(N?.(),Q(O.current),u&&_?.(),s&&s())};return v.jsx(UM,{isPresent:M,initial:!I.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:M?void 0:V,anchorX:f,anchorY:m,children:S},R)})})},kS=k.createContext({strict:!1}),G1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let $1=!1;function zM(){if($1)return;const t={};for(const e in G1)t[e]={isEnabled:n=>G1[e].some(s=>!!n[s])};rS(t),$1=!0}function IS(){return zM(),C4()}function FM(t){const e=IS();for(const n in t)e[n]={...e[n],...t[n]};rS(e)}const HM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Vd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||HM.has(t)}let DS=t=>!Vd(t);function qM(t){typeof t=="function"&&(DS=e=>e.startsWith("on")?!Vd(e):t(e))}try{qM(require("@emotion/is-prop-valid").default)}catch{}function GM(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(DS(a)||n===!0&&Vd(a)||!e&&!Vd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const df=k.createContext({});function $M(t,e){if(hf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Fc(n)?n:void 0,animate:Fc(s)?s:void 0}}return t.inherit!==!1?e:{}}function KM(t){const{initial:e,animate:n}=$M(t,k.useContext(df));return k.useMemo(()=>({initial:e,animate:n}),[K1(e),K1(n)])}function K1(t){return Array.isArray(t)?t.join(" "):t}const ay=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MS(t,e,n){for(const s in e)!cn(e[s])&&!dS(s,n)&&(t[s]=e[s])}function YM({transformTemplate:t},e){return k.useMemo(()=>{const n=ay();return iy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function QM(t,e){const n=t.style||{},s={};return MS(s,n,t),Object.assign(s,YM(t,e)),s}function XM(t,e){const n={},s=QM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const VS=()=>({...ay(),attrs:{}});function WM(t,e,n,s){const a=k.useMemo(()=>{const l=VS();return fS(l,e,pS(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};MS(l,t.style,t),a.style={...l,...a.style}}return a}const JM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oy(t){return typeof t!="string"||t.includes("-")?!1:!!(JM.indexOf(t)>-1||/[A-Z]/u.test(t))}function ZM(t,e,n,{latestValues:s},a,l=!1,u){const m=(u??oy(t)?WM:XM)(e,s,a,t),p=GM(e,typeof t=="string",l),y=t!==k.Fragment?{...p,...m,ref:n}:{},{children:_}=e,T=k.useMemo(()=>cn(_)?_.get():_,[_]);return k.createElement(t,{...y,children:T})}function eV({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:tV(n,s,a,t),renderState:e()}}function tV(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=md(l[T]);let{initial:u,animate:f}=t;const m=hf(t),p=iS(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const _=y?f:u;if(_&&typeof _!="boolean"&&!uf(_)){const T=Array.isArray(_)?_:[_];for(let A=0;A<T.length;A++){const I=Q0(t,T[A]);if(I){const{transitionEnd:O,transition:j,...z}=I;for(const H in z){let K=z[H];if(Array.isArray(K)){const oe=y?K.length-1:0;K=K[oe]}K!==null&&(a[H]=K)}for(const H in O)a[H]=O[H]}}}return a}const OS=t=>(e,n)=>{const s=k.useContext(df),a=k.useContext(cf),l=()=>eV(t,e,s,a);return n?l():I0(l)},nV=OS({scrapeMotionValuesFromProps:sy,createRenderState:ay}),iV=OS({scrapeMotionValuesFromProps:gS,createRenderState:VS}),sV=Symbol.for("motionComponentSymbol");function rV(t,e,n){const s=k.useRef(n);k.useInsertionEffect(()=>{s.current=n});const a=k.useRef(null);return k.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const PS=k.createContext({});function Co(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aV(t,e,n,s,a,l){const{visualElement:u}=k.useContext(df),f=k.useContext(kS),m=k.useContext(cf),p=k.useContext(ry),y=p.reducedMotion,_=p.skipAnimations,T=k.useRef(null),A=k.useRef(!1);s=s||f.renderer,!T.current&&s&&(T.current=s(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:l}),A.current&&T.current&&(T.current.manuallyAnimateOnMount=!0));const I=T.current,O=k.useContext(PS);I&&!I.projection&&a&&(I.type==="html"||I.type==="svg")&&oV(T.current,n,a,O);const j=k.useRef(!1);k.useInsertionEffect(()=>{I&&j.current&&I.update(n,m)});const z=n[qw],H=k.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return rw(()=>{A.current=!0,I&&(j.current=!0,window.MotionIsMounted=!0,I.updateFeatures(),I.scheduleRenderMicrotask(),H.current&&I.animationState&&I.animationState.animateChanges())}),k.useEffect(()=>{I&&(!H.current&&I.animationState&&I.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),H.current=!1),I.enteringChildren=void 0)}),I}function oV(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&Co(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function jS(t){if(t)return t.options.allowProjection!==!1?t.projection:jS(t.parent)}function Wp(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&FM(s);const l=n?n==="svg":oy(t),u=l?iV:nV;function f(p,y){let _;const T={...k.useContext(ry),...p,layoutId:lV(p)},{isStatic:A}=T,I=KM(p),O=u(p,A);if(!A&&sw){cV();const j=uV(T);_=j.MeasureLayout,I.visualElement=aV(t,O,T,a,j.ProjectionNode,l)}return v.jsxs(df.Provider,{value:I,children:[_&&I.visualElement?v.jsx(_,{visualElement:I.visualElement,...T}):null,ZM(t,p,rV(O,I.visualElement,y),O,A,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=k.forwardRef(f);return m[sV]=t,m}function lV({layoutId:t}){const e=k.useContext(k0).id;return e&&t!==void 0?e+"-"+t:t}function cV(t,e){k.useContext(kS).strict}function uV(t){const e=IS(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function hV(t,e){if(typeof Proxy>"u")return Wp;const n=new Map,s=(l,u)=>Wp(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Wp(u,void 0,t,e)),n.get(u))})}const dV=(t,e)=>e.isSVG??oy(t)?new q4(e):new L4(e,{allowProjection:t!==k.Fragment});class fV extends Pr{constructor(e){super(e),e.animationState||(e.animationState=Q4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();uf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let mV=0;class pV extends Pr{constructor(){super(...arguments),this.id=mV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gV={animation:{Feature:fV},exit:{Feature:pV}};function ou(t){return{point:{x:t.pageX,y:t.pageY}}}const yV=t=>e=>Z0(e)&&t(e,ou(e));function Ic(t,e,n,s){return Hc(t,e,yV(n),s)}const LS=({current:t})=>t?t.ownerDocument.defaultView:null,Y1=(t,e)=>Math.abs(t-e);function vV(t,e){const n=Y1(t.x,e.x),s=Y1(t.y,e.y);return Math.sqrt(n**2+s**2)}const Q1=new Set(["auto","scroll"]);class US{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Zp(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,O=vV(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!O)return;const{point:j}=A,{timestamp:z}=en;this.history.push({...j,timestamp:z});const{onStart:H,onMove:K}=this.handlers;I||(H&&H(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,A)},this.handlePointerMove=(A,I)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Jp(I,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(A,I)=>{this.end();const{onEnd:O,onSessionEnd:j,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Zp(A.type==="pointercancel"?this.lastMoveEventInfo:Jp(I,this.transformPagePoint),this.history);this.startEvent&&O&&O(A,H),j&&j(A,H)},!Z0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const m=ou(e),p=Jp(m,this.transformPagePoint),{point:y}=p,{timestamp:_}=en;this.history=[{...y,timestamp:_}];const{onSessionStart:T}=n;T&&T(e,Zp(p,this.history)),this.removeListeners=iu(Ic(this.contextWindow,"pointermove",this.handlePointerMove),Ic(this.contextWindow,"pointerup",this.handlePointerUp),Ic(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(Q1.has(s.overflowX)||Q1.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),at.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rr(this.updatePoint)}}function Jp(t,e){return e?{point:e(t.point)}:t}function X1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zp({point:t},e){return{point:t,delta:X1(t,BS(e)),offset:X1(t,bV(e)),velocity:_V(e,.1)}}function bV(t){return t[0]}function BS(t){return t[t.length-1]}function _V(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=BS(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>vi(e)));)n--;if(!s)return{x:0,y:0};s===t[0]&&t.length>2&&a.timestamp-s.timestamp>vi(e)*2&&(s=t[1]);const l=Xn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function xV(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mt(n,t,s.max):Math.min(t,n)),t}function W1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TV(t,{top:e,left:n,bottom:s,right:a}){return{x:W1(t.x,n,a),y:W1(t.y,e,s)}}function J1(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function EV(t,e){return{x:J1(t.x,e.x),y:J1(t.y,e.y)}}function wV(t,e){let n=.5;const s=pn(t),a=pn(e);return a>s?n=Uc(e.min,e.max-s,t.min):s>a&&(n=Uc(t.min,t.max-a,e.min)),es(0,1,n)}function SV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hg=.35;function AV(t=Hg){return t===!1?t=0:t===!0&&(t=Hg),{x:Z1(t,"left","right"),y:Z1(t,"top","bottom")}}function Z1(t,e,n){return{min:eT(t,e),max:eT(t,n)}}function eT(t,e){return typeof t=="number"?t:t[e]||0}const CV=new WeakMap;class RV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n&&this.snapToCursor(ou(_).point),this.stopAnimation()},u=(_,T)=>{const{drag:A,dragPropagation:I,onDragStart:O}=this.getProps();if(A&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=i4(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$i(z=>{let H=this.getAxisMotionValue(z).get()||0;if(Yi.test(H)){const{projection:K}=this.visualElement;if(K&&K.layout){const oe=K.layout.layoutBox[z];oe&&(H=pn(oe)*(parseFloat(H)/100))}}this.originPoint[z]=H}),O&&at.update(()=>O(_,T),!1,!0),Og(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},f=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T;const{dragPropagation:A,dragDirectionLock:I,onDirectionLock:O,onDrag:j}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:z}=T;if(I&&this.currentDirection===null){this.currentDirection=kV(z),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",T.point,z),this.updateAxis("y",T.point,z),this.visualElement.render(),j&&at.update(()=>j(_,T),!1,!0)},m=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T,this.stop(_,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new US(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:LS(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&at.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Zh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=xV(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Co(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=TV(s.layoutBox,e):this.constraints=!1,this.elastic=AV(n),a!==this.constraints&&!Co(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&$i(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=SV(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Co(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=D4(s,a.root,this.visualElement.getTransformPagePoint());let u=EV(a.layout.layoutBox,l);if(n){const f=n(N4(u));this.hasMutatedConstraints=!!f,f&&(u=oS(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=$i(y=>{if(!Zh(y,n,this.currentDirection))return;let _=m&&m[y]||{};u&&(_={min:0,max:0});const T=a?200:1e6,A=a?40:1e7,I={type:"inertia",velocity:s?e[y]:0,bounceStiffness:T,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,I)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Og(this.visualElement,e),s.start(Y0(e,s,0,n,this.visualElement,!1))}stopAnimation(){$i(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){$i(n=>{const{drag:s}=this.getProps();if(!Zh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-mt(u,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Co(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};$i(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=wV({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),$i(u=>{if(!Zh(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(mt(m,p,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;CV.set(this.visualElement,this);const e=this.visualElement.current,n=Ic(e,"pointerdown",p=>{const{drag:y,dragListener:_=!0}=this.getProps(),T=p.target,A=T!==e&&c4(T);y&&_&&!A&&this.start(p)});let s;const a=()=>{const{dragConstraints:p}=this.getProps();Co(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),s||(s=NV(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),at.read(a);const f=Hc(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&($i(_=>{const T=this.getAxisMotionValue(_);T&&(this.originPoint[_]+=p[_].translate,T.set(T.get()+p[_].translate))}),this.visualElement.render())}));return()=>{f(),n(),u(),m&&m(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Hg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function tT(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function NV(t,e,n){const s=l1(t,tT(n)),a=l1(e,tT(n));return()=>{s(),a()}}function Zh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function kV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class IV extends Pr{constructor(e){super(e),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new RV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const eg=t=>(e,n)=>{t&&at.update(()=>t(e,n),!1,!0)};class DV extends Pr{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(e){this.session=new US(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:eg(e),onStart:eg(n),onMove:eg(s),onEnd:(l,u)=>{delete this.session,a&&at.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Ic(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let tg=!1;class MV extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),tg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),tg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||at.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),J0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;tg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zS(t){const[e,n]=NS(),s=k.useContext(k0);return v.jsx(MV,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(PS),isPresent:e,safeToRemove:n})}const VV={pan:{Feature:DV},drag:{Feature:IV,ProjectionNode:RS,MeasureLayout:zS}};function nT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&at.postRender(()=>l(e,ou(e)))}class OV extends Pr{mount(){const{current:e}=this.node;e&&(this.unmount=r4(e,(n,s)=>(nT(this.node,s,"Start"),a=>nT(this.node,a,"End"))))}unmount(){}}class PV extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iu(Hc(this.node.current,"focus",()=>this.onFocus()),Hc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&at.postRender(()=>l(e,ou(e)))}class jV extends Pr{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=h4(e,(a,l)=>(iT(this.node,l,"Start"),(u,{success:f})=>iT(this.node,u,f?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const qg=new WeakMap,ng=new WeakMap,LV=t=>{const e=qg.get(t.target);e&&e(t)},UV=t=>{t.forEach(LV)};function BV({root:t,...e}){const n=t||document;ng.has(n)||ng.set(n,{});const s=ng.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(UV,{root:t,...e})),s[a]}function zV(t,e,n){const s=BV(e);return qg.set(t,n),s.observe(t),()=>{qg.delete(t),s.unobserve(t)}}const FV={some:0,all:1};class HV extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:FV[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),T=p?y:_;T&&T(m)};return zV(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qV(e,n))&&this.startObserver()}unmount(){}}function qV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GV={inView:{Feature:HV},tap:{Feature:jV},focus:{Feature:PV},hover:{Feature:OV}},$V={layout:{ProjectionNode:RS,MeasureLayout:zS}},KV={...gV,...GV,...VV,...$V},Ae=hV(KV,dV),YV=()=>{};var sT={};const FS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},QV=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},HS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let T=(f&15)<<2|p>>6,A=p&63;m||(A=64,u||(T=64)),s.push(n[y],n[_],n[T],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new XV;const T=l<<2|f>>4;if(s.push(T),p!==64){const A=f<<4&240|p>>2;if(s.push(A),_!==64){const I=p<<6&192|_;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WV=function(t){const e=FS(t);return HS.encodeByteArray(e,!0)},Od=function(t){return WV(t).replace(/\./g,"")},qS=function(t){try{return HS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ZV=()=>JV().__FIREBASE_DEFAULTS__,e5=()=>{if(typeof process>"u"||typeof sT>"u")return;const t=sT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qS(t[1]);return e&&JSON.parse(e)},ff=()=>{try{return YV()||ZV()||e5()||t5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GS=t=>ff()?.emulatorHosts?.[t],n5=t=>{const e=GS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$S=()=>ff()?.config,KS=t=>ff()?.[`_${t}`];class i5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YS(t){return(await fetch(t,{credentials:"include"})).ok}function s5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Od(JSON.stringify(n)),Od(JSON.stringify(u)),""].join(".")}const Dc={};function r5(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dc))Dc[e]?t.emulator.push(e):t.prod.push(e);return t}function a5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rT=!1;function QS(t,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Dc[t]===e||Dc[t]||rT)return;Dc[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=r5().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{rT=!0,u()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=a5(s),A=n("text"),I=document.getElementById(A)||document.createElement("span"),O=n("learnmore"),j=document.getElementById(O)||document.createElement("a"),z=n("preprendIcon"),H=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;f(K),y(j,O);const oe=p();m(H,z),K.append(H,I,j,oe),document.body.appendChild(K)}l?(I.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function l5(){const t=ff()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function h5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d5(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function f5(){return!l5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m5(){try{return typeof indexedDB=="object"}catch{return!1}}function p5(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const g5="FirebaseError";class Vs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=g5,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?y5(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Vs(a,f,s)}}function y5(t,e){return t.replace(v5,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const v5=/\{\$([^}]+)}/g;function b5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(aT(l)&&aT(u)){if(!Sa(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function aT(t){return t!==null&&typeof t=="object"}function cu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _5(t,e){const n=new x5(t,e);return n.subscribe.bind(n)}class x5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");T5(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=ig),a.error===void 0&&(a.error=ig),a.complete===void 0&&(a.complete=ig);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ig(){}function gn(t){return t&&t._delegate?t._delegate:t}class Aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ga="[DEFAULT]";class E5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new i5;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S5(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:w5(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w5(t){return t===ga?void 0:t}function S5(t){return t.instantiationMode==="EAGER"}class A5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const C5={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},R5=Ue.INFO,N5={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},k5=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=N5[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=R5,this._logHandler=k5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const I5=(t,e)=>e.some(n=>t instanceof n);let oT,lT;function D5(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M5(){return lT||(lT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,Gg=new WeakMap,WS=new WeakMap,sg=new WeakMap,cy=new WeakMap;function V5(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Tr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&XS.set(n,t)}).catch(()=>{}),cy.set(e,t),e}function O5(t){if(Gg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Gg.set(t,e)}let $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P5(t){$g=t($g)}function j5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(rg(this),e,...n);return WS.set(s,e.sort?e.sort():[e]),Tr(s)}:M5().includes(t)?function(...e){return t.apply(rg(this),e),Tr(XS.get(this))}:function(...e){return Tr(t.apply(rg(this),e))}}function L5(t){return typeof t=="function"?j5(t):(t instanceof IDBTransaction&&O5(t),I5(t,D5())?new Proxy(t,$g):t)}function Tr(t){if(t instanceof IDBRequest)return V5(t);if(sg.has(t))return sg.get(t);const e=L5(t);return e!==t&&(sg.set(t,e),cy.set(e,t)),e}const rg=t=>cy.get(t);function U5(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Tr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Tr(u.result),m.oldVersion,m.newVersion,Tr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const B5=["get","getKey","getAll","getAllKeys","count"],z5=["put","add","delete","clear"],ag=new Map;function cT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ag.get(e))return ag.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=z5.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||B5.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return ag.set(e,l),l}P5(t=>({...t,get:(e,n,s)=>cT(e,n)||t.get(e,n,s),has:(e,n)=>!!cT(e,n)||t.has(e,n)}));class F5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(H5(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function H5(t){return t.getComponent()?.type==="VERSION"}const Kg="@firebase/app",uT="0.14.8";const Ns=new ly("@firebase/app"),q5="@firebase/app-compat",G5="@firebase/analytics-compat",$5="@firebase/analytics",K5="@firebase/app-check-compat",Y5="@firebase/app-check",Q5="@firebase/auth",X5="@firebase/auth-compat",W5="@firebase/database",J5="@firebase/data-connect",Z5="@firebase/database-compat",e3="@firebase/functions",t3="@firebase/functions-compat",n3="@firebase/installations",i3="@firebase/installations-compat",s3="@firebase/messaging",r3="@firebase/messaging-compat",a3="@firebase/performance",o3="@firebase/performance-compat",l3="@firebase/remote-config",c3="@firebase/remote-config-compat",u3="@firebase/storage",h3="@firebase/storage-compat",d3="@firebase/firestore",f3="@firebase/ai",m3="@firebase/firestore-compat",p3="firebase",g3="12.9.0";const Yg="[DEFAULT]",y3={[Kg]:"fire-core",[q5]:"fire-core-compat",[$5]:"fire-analytics",[G5]:"fire-analytics-compat",[Y5]:"fire-app-check",[K5]:"fire-app-check-compat",[Q5]:"fire-auth",[X5]:"fire-auth-compat",[W5]:"fire-rtdb",[J5]:"fire-data-connect",[Z5]:"fire-rtdb-compat",[e3]:"fire-fn",[t3]:"fire-fn-compat",[n3]:"fire-iid",[i3]:"fire-iid-compat",[s3]:"fire-fcm",[r3]:"fire-fcm-compat",[a3]:"fire-perf",[o3]:"fire-perf-compat",[l3]:"fire-rc",[c3]:"fire-rc-compat",[u3]:"fire-gcs",[h3]:"fire-gcs-compat",[d3]:"fire-fst",[m3]:"fire-fst-compat",[f3]:"fire-vertex","fire-js":"fire-js",[p3]:"fire-js-all"};const Pd=new Map,v3=new Map,Qg=new Map;function hT(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(Qg.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,t);for(const n of Pd.values())hT(n,t);for(const n of v3.values())hT(n,t);return!0}function uy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pi(t){return t==null?!1:t.settings!==void 0}const b3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new lu("app","Firebase",b3);class _3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const ol=g3;function JS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Yg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Er.create("bad-app-name",{appName:String(a)});if(n||(n=$S()),!n)throw Er.create("no-options");const l=Pd.get(a);if(l){if(Sa(n,l.options)&&Sa(s,l.config))return l;throw Er.create("duplicate-app",{appName:a})}const u=new A5(a);for(const m of Qg.values())u.addComponent(m);const f=new _3(n,s,u);return Pd.set(a,f),f}function ZS(t=Yg){const e=Pd.get(t);if(!e&&t===Yg&&$S())return JS();if(!e)throw Er.create("no-app",{appName:t});return e}function wr(t,e,n){let s=y3[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(u.join(" "));return}$o(new Aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const x3="firebase-heartbeat-database",T3=1,qc="firebase-heartbeat-store";let og=null;function eA(){return og||(og=U5(x3,T3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),og}async function E3(t){try{const n=(await eA()).transaction(qc),s=await n.objectStore(qc).get(tA(t));return await n.done,s}catch(e){if(e instanceof Vs)Ns.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(n.message)}}}async function dT(t,e){try{const s=(await eA()).transaction(qc,"readwrite");await s.objectStore(qc).put(e,tA(t)),await s.done}catch(n){if(n instanceof Vs)Ns.warn(n.message);else{const s=Er.create("idb-set",{originalErrorMessage:n?.message});Ns.warn(s.message)}}}function tA(t){return`${t.name}!${t.options.appId}`}const w3=1024,S3=30;class A3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>S3){const a=N3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fT(),{heartbeatsToSend:n,unsentEntries:s}=C3(this._heartbeatsCache.heartbeats),a=Od(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ns.warn(e),""}}}function fT(){return new Date().toISOString().substring(0,10)}function C3(t,e=w3){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),mT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),mT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class R3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m5()?p5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mT(t){return Od(JSON.stringify({version:2,heartbeats:t})).length}function N3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function k3(t){$o(new Aa("platform-logger",e=>new F5(e),"PRIVATE")),$o(new Aa("heartbeat",e=>new A3(e),"PRIVATE")),wr(Kg,uT,t),wr(Kg,uT,"esm2020"),wr("fire-js","")}k3("");function nA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I3=nA,iA=new lu("auth","Firebase",nA());const jd=new ly("@firebase/auth");function D3(t,...e){jd.logLevel<=Ue.WARN&&jd.warn(`Auth (${ol}): ${t}`,...e)}function gd(t,...e){jd.logLevel<=Ue.ERROR&&jd.error(`Auth (${ol}): ${t}`,...e)}function ts(t,...e){throw dy(t,...e)}function bi(t,...e){return dy(t,...e)}function hy(t,e,n){const s={...I3(),[e]:n};return new lu("auth","Firebase",s).create(e,{appName:t.name})}function Ta(t){return hy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M3(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ts(t,"argument-error"),hy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return iA.create(t,...e)}function we(t,e,...n){if(!t)throw dy(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gd(e),new Error(e)}function ks(t,e){t||Es(e)}function Xg(){return typeof self<"u"&&self.location?.href||""}function V3(){return pT()==="http:"||pT()==="https:"}function pT(){return typeof self<"u"&&self.location?.protocol||null}function O3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V3()||u5()||"connection"in navigator)?navigator.onLine:!0}function P3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=o5()||h5()}get(){return O3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fy(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class sA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const L3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],U3=new uu(3e4,6e4);function my(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ll(t,e,n,s,a={}){return rA(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=cu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return c5()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&al(t.emulatorConfig.host)&&(p.credentials="include"),sA.fetch()(await aA(t,t.config.apiHost,n,f),p)})}async function rA(t,e,n){t._canInitEmulator=!1;const s={...j3,...e};try{const a=new z3(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ed(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw ed(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw ed(t,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw hy(t,y,p);ts(t,y)}}catch(a){if(a instanceof Vs)throw a;ts(t,"network-request-failed",{message:String(a)})}}async function B3(t,e,n,s,a={}){const l=await ll(t,e,n,s,a);return"mfaPendingCredential"in l&&ts(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function aA(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?fy(t.config,a):`${t.config.apiScheme}://${a}`;return L3.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class z3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),U3.get())})}}function ed(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=bi(t,e,s);return a.customData._tokenResponse=n,a}async function F3(t,e){return ll(t,"POST","/v1/accounts:delete",e)}async function Ld(t,e){return ll(t,"POST","/v1/accounts:lookup",e)}function Mc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H3(t,e=!1){const n=gn(t),s=await n.getIdToken(e),a=py(s);we(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Mc(lg(a.auth_time)),issuedAtTime:Mc(lg(a.iat)),expirationTime:Mc(lg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function lg(t){return Number(t)*1e3}function py(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{const a=qS(n);return a?JSON.parse(a):(gd("Failed to decode base64 JWT payload"),null)}catch(a){return gd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function gT(t){const e=py(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vs&&q3(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function q3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class G3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ud(t){const e=t.auth,n=await t.getIdToken(),s=await Gc(t,Ld(e,{idToken:n}));we(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?oA(a.providerUserInfo):[],u=K3(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Wg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function $3(t){const e=gn(t);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K3(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function oA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Y3(t,e){const n=await rA(t,{},async()=>{const s=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await aA(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&al(t.emulatorConfig.host)&&(m.credentials="include"),sA.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q3(t,e){return ll(t,"POST","/v2/accounts:revokeToken",my(t,e))}class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=gT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await Y3(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Uo;return s&&(we(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(we(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Es("not implemented")}}function pr(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new G3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Wg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Gc(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return H3(this,e)}reload(){return $3(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ud(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(Ta(this.auth));const e=await this.getIdToken();return await Gc(this,F3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:A,providerData:I,stsTokenManager:O}=n;we(_&&O,e,"internal-error");const j=Uo.fromJSON(this.name,O);we(typeof _=="string",e,"internal-error"),pr(s,e.name),pr(a,e.name),we(typeof T=="boolean",e,"internal-error"),we(typeof A=="boolean",e,"internal-error"),pr(l,e.name),pr(u,e.name),pr(f,e.name),pr(m,e.name),pr(p,e.name),pr(y,e.name);const z=new gi({uid:_,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:j,createdAt:p,lastLoginAt:y});return I&&Array.isArray(I)&&(z.providerData=I.map(H=>({...H}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,s=!1){const a=new Uo;a.updateFromServerResponse(n);const l=new gi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Ud(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?oA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new Uo;f.updateFromIdToken(s);const m=new gi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Wg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const yT=new Map;function ws(t){ks(t instanceof Function,"Expected a class definition");let e=yT.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yT.set(t,e),e)}class lA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lA.type="NONE";const vT=lA;function yd(t,e,n){return`firebase:${t}:${e}:${n}`}class Bo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=yd(this.userKey,a.apiKey,l),this.fullPersistenceKey=yd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ld(this.auth,{idToken:e}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Bo(ws(vT),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ws(vT);const u=yd(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(u);if(y){let _;if(typeof y=="string"){const T=await Ld(e,{idToken:y}).catch(()=>{});if(!T)break;_=await gi._fromGetAccountInfoResponse(e,T,y)}else _=gi._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Bo(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Bo(l,e,s))}}function bT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mA(e))return"Blackberry";if(pA(e))return"Webos";if(uA(e))return"Safari";if((e.includes("chrome/")||hA(e))&&!e.includes("edge/"))return"Chrome";if(fA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function cA(t=un()){return/firefox\//i.test(t)}function uA(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hA(t=un()){return/crios\//i.test(t)}function dA(t=un()){return/iemobile/i.test(t)}function fA(t=un()){return/android/i.test(t)}function mA(t=un()){return/blackberry/i.test(t)}function pA(t=un()){return/webos/i.test(t)}function gy(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function X3(t=un()){return gy(t)&&!!window.navigator?.standalone}function W3(){return d5()&&document.documentMode===10}function gA(t=un()){return gy(t)||fA(t)||pA(t)||mA(t)||/windows phone/i.test(t)||dA(t)}function yA(t,e=[]){let n;switch(t){case"Browser":n=bT(un());break;case"Worker":n=`${bT(un())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ol}/${s}`}class J3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Z3(t,e={}){return ll(t,"GET","/v2/passwordPolicy",my(t,e))}const eO=6;class tO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class nO{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _T(this),this.idTokenSubscription=new _T(this),this.beforeStateQueue=new J3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ld(this,{idToken:e}),s=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(Ta(this));const n=e?gn(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(Ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(Ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z3(this),n=new tO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Q3(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&D3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function mf(t){return gn(t)}class _T{constructor(e){this.auth=e,this.observer=null,this.addObserver=_5(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iO(t){yy=t}function sO(t){return yy.loadJS(t)}function rO(){return yy.gapiScript}function aO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function oO(t,e){const n=uy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Sa(l,e??{}))return a;ts(a,"already-initialized")}return n.initialize({options:e})}function lO(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ws);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function cO(t,e,n){const s=mf(t);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=vA(e),{host:u,port:f}=uO(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(Sa(p,s.config.emulator)&&Sa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,al(u)?(YS(`${l}//${u}${m}`),QS("Auth",!0)):hO()}function vA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uO(t){const e=vA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:xT(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:xT(u)}}}function xT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class bA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function zo(t,e){return B3(t,"POST","/v1/accounts:signInWithIdp",my(t,e))}const dO="http://localhost";class Ca extends bA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new Ca(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,zo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:dO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}class vy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hu extends vy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yr extends hu{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class Ts extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ca._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ts.credential(n,s)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";class vr extends hu{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";class br extends hu{constructor(){super("twitter.com")}static credential(e,n){return Ca._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return br.credential(n,s)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await gi._fromIdTokenResponse(e,s,a),u=TT(s);return new Ko({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=TT(s);return new Ko({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function TT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Bd extends Vs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Bd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Bd(e,n,s,a)}}function _A(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Bd._fromErrorAndOperation(t,l,e,s):l})}async function fO(t,e,n=!1){const s=await Gc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ko._forOperation(t,"link",s)}async function mO(t,e,n=!1){const{auth:s}=t;if(pi(s.app))return Promise.reject(Ta(s));const a="reauthenticate";try{const l=await Gc(t,_A(s,a,e,t),n);we(l.idToken,s,"internal-error");const u=py(l.idToken);we(u,s,"internal-error");const{sub:f}=u;return we(t.uid===f,s,"user-mismatch"),Ko._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ts(s,"user-mismatch"),l}}async function pO(t,e,n=!1){if(pi(t.app))return Promise.reject(Ta(t));const s="signIn",a=await _A(t,s,e),l=await Ko._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function gO(t,e,n,s){return gn(t).onIdTokenChanged(e,n,s)}function yO(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}function vO(t,e,n,s){return gn(t).onAuthStateChanged(e,n,s)}function bO(t){return gn(t).signOut()}const zd="__sak";class xA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _O=1e3,xO=10;class TA extends xA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);W3()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,xO):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TA.type="LOCAL";const TO=TA;class EA extends xA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}EA.type="SESSION";const wA=EA;function EO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new pf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await EO(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];function by(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class wO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=by("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Qi(){return window}function SO(t){Qi().location.href=t}function SA(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function AO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CO(){return navigator?.serviceWorker?.controller||null}function RO(){return SA()?self:null}const AA="firebaseLocalStorageDb",NO=1,Fd="firebaseLocalStorage",CA="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function kO(){const t=indexedDB.deleteDatabase(AA);return new du(t).toPromise()}function Jg(){const t=indexedDB.open(AA,NO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Fd,{keyPath:CA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Fd)?e(s):(s.close(),await kO(),e(await Jg()))})})}async function ET(t,e,n){const s=gf(t,!0).put({[CA]:e,value:n});return new du(s).toPromise()}async function IO(t,e){const n=gf(t,!1).get(e),s=await new du(n).toPromise();return s===void 0?null:s.value}function wT(t,e){const n=gf(t,!0).delete(e);return new du(n).toPromise()}const DO=800,MO=3;class RA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>MO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(RO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AO(),!this.activeServiceWorker)return;this.sender=new wO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await ET(e,zd,"1"),await wT(e,zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ET(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>IO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=gf(a,!1).getAll();return new du(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RA.type="LOCAL";const VO=RA;new uu(3e4,6e4);function NA(t,e){return e?ws(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class _y extends bA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OO(t){return pO(t.auth,new _y(t),t.bypassAuthState)}function PO(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),mO(n,new _y(t),t.bypassAuthState)}async function jO(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),fO(n,new _y(t),t.bypassAuthState)}class kA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OO;case"linkViaPopup":case"linkViaRedirect":return jO;case"reauthViaPopup":case"reauthViaRedirect":return PO;default:ts(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LO=new uu(2e3,1e4);async function UO(t,e,n){if(pi(t.app))return Promise.reject(bi(t,"operation-not-supported-in-this-environment"));const s=mf(t);M3(t,e,vy);const a=NA(s,n);return new ba(s,"signInViaPopup",e,a).executeNotNull()}class ba extends kA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ba.currentPopupAction&&ba.currentPopupAction.cancel(),ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=by();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LO.get())};e()}}ba.currentPopupAction=null;const BO="pendingRedirect",vd=new Map;class zO extends kA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const s=await FO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FO(t,e){const n=GO(e),s=qO(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function HO(t,e){vd.set(t._key(),e)}function qO(t){return ws(t._redirectPersistence)}function GO(t){return yd(BO,t.config.apiKey,t.name)}async function $O(t,e,n=!1){if(pi(t.app))return Promise.reject(Ta(t));const s=mf(t),a=NA(s,e),u=await new zO(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const KO=600*1e3;class YO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!IA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KO&&this.cachedEventUids.clear(),this.cachedEventUids.has(ST(e))}saveEventToCache(e){this.cachedEventUids.add(ST(e)),this.lastProcessedEventTime=Date.now()}}function ST(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function QO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IA(t);default:return!1}}async function XO(t,e={}){return ll(t,"GET","/v1/projects",e)}const WO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JO=/^https?/;async function ZO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XO(t);for(const n of e)try{if(e6(n))return}catch{}ts(t,"unauthorized-domain")}function e6(t){const e=Xg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!JO.test(n))return!1;if(WO.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const t6=new uu(3e4,6e4);function AT(){const t=Qi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n6(t){return new Promise((e,n)=>{function s(){AT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AT(),n(bi(t,"network-request-failed"))},timeout:t6.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)s();else{const a=aO("iframefcb");return Qi()[a]=()=>{gapi.load?s():n(bi(t,"network-request-failed"))},sO(`${rO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bd=null,e})}let bd=null;function i6(t){return bd=bd||n6(t),bd}const s6=new uu(5e3,15e3),r6="__/auth/iframe",a6="emulator/auth/iframe",o6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c6(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fy(e,a6):`https://${t.config.authDomain}/${r6}`,s={apiKey:e.apiKey,appName:t.name,v:ol},a=l6.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${cu(s).slice(1)}`}async function u6(t){const e=await i6(t),n=Qi().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:c6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o6,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=bi(t,"network-request-failed"),f=Qi().setTimeout(()=>{l(u)},s6.get());function m(){Qi().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const h6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d6=500,f6=600,m6="_blank",p6="http://localhost";class CT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g6(t,e,n,s=d6,a=f6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...h6,width:s.toString(),height:a.toString(),top:l,left:u},p=un().toLowerCase();n&&(f=hA(p)?m6:n),cA(p)&&(e=e||p6,m.scrollbars="yes");const y=Object.entries(m).reduce((T,[A,I])=>`${T}${A}=${I},`,"");if(X3(p)&&f!=="_self")return y6(e||"",f),new CT(null);const _=window.open(e||"",f,y);we(_,t,"popup-blocked");try{_.focus()}catch{}return new CT(_)}function y6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const v6="__/auth/handler",b6="emulator/auth/handler",_6=encodeURIComponent("fac");async function RT(t,e,n,s,a,l){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ol,eventId:a};if(e instanceof vy){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",b5(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof hu){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${_6}=${encodeURIComponent(m)}`:"";return`${x6(t)}?${cu(f).slice(1)}${p}`}function x6({config:t}){return t.emulator?fy(t,b6):`https://${t.authDomain}/${v6}`}const cg="webStorageSupport";class T6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wA,this._completeRedirectFn=$O,this._overrideRedirectResult=HO}async _openPopup(e,n,s,a){ks(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await RT(e,n,s,Xg(),a);return g6(e,l,by())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await RT(e,n,s,Xg(),a);return SO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ks(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await u6(e),s=new YO(e);return n.register("authEvent",a=>(we(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cg,{type:cg},a=>{const l=a?.[0]?.[cg];l!==void 0&&n(!!l),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gA()||uA()||gy()}}const E6=T6;var NT="@firebase/auth",kT="1.12.0";class w6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function S6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A6(t){$o(new Aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yA(t)},p=new nO(s,a,l,m);return lO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),$o(new Aa("auth-internal",e=>{const n=mf(e.getProvider("auth").getImmediate());return(s=>new w6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(NT,kT,S6(t)),wr(NT,kT,"esm2020")}const C6=300,R6=KS("authIdTokenMaxAge")||C6;let IT=null;const N6=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>R6)return;const a=n?.token;IT!==a&&(IT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function k6(t=ZS()){const e=uy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oO(t,{popupRedirectResolver:E6,persistence:[VO,TO,wA]}),s=KS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=N6(l.toString());yO(n,u,()=>u(n.currentUser)),gO(n,f=>u(f))}}const a=GS("auth");return a&&cO(n,`http://${a}`),n}function I6(){return document.getElementsByTagName("head")?.[0]??document}iO({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=bi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",I6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A6("Browser");var D6="firebase",M6="12.9.0";wr(D6,M6,"app");var DT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,DA;(function(){var t;function e(N,S){function R(){}R.prototype=S.prototype,N.F=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(M,V,B){for(var D=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)D[Ge-2]=arguments[Ge];return S.prototype[V].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)M[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;V<16;++V)M[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],V=N.g[2];let B=N.g[3],D;D=S+(B^R&(V^B))+M[0]+3614090360&4294967295,S=R+(D<<7&4294967295|D>>>25),D=B+(V^S&(R^V))+M[1]+3905402710&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(R^B&(S^R))+M[2]+606105819&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(S^V&(B^S))+M[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(B^R&(V^B))+M[4]+4118548399&4294967295,S=R+(D<<7&4294967295|D>>>25),D=B+(V^S&(R^V))+M[5]+1200080426&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(R^B&(S^R))+M[6]+2821735955&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(S^V&(B^S))+M[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(B^R&(V^B))+M[8]+1770035416&4294967295,S=R+(D<<7&4294967295|D>>>25),D=B+(V^S&(R^V))+M[9]+2336552879&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(R^B&(S^R))+M[10]+4294925233&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(S^V&(B^S))+M[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(B^R&(V^B))+M[12]+1804603682&4294967295,S=R+(D<<7&4294967295|D>>>25),D=B+(V^S&(R^V))+M[13]+4254626195&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(R^B&(S^R))+M[14]+2792965006&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(S^V&(B^S))+M[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(V^B&(R^V))+M[1]+4129170786&4294967295,S=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(S^R))+M[6]+3225465664&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(B^S))+M[11]+643717713&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^S&(V^B))+M[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(V^B&(R^V))+M[5]+3593408605&4294967295,S=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(S^R))+M[10]+38016083&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(B^S))+M[15]+3634488961&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^S&(V^B))+M[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(V^B&(R^V))+M[9]+568446438&4294967295,S=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(S^R))+M[14]+3275163606&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(B^S))+M[3]+4107603335&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^S&(V^B))+M[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(V^B&(R^V))+M[13]+2850285829&4294967295,S=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(S^R))+M[2]+4243563512&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(B^S))+M[7]+1735328473&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^S&(V^B))+M[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(R^V^B)+M[5]+4294588738&4294967295,S=R+(D<<4&4294967295|D>>>28),D=B+(S^R^V)+M[8]+2272392833&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^R)+M[11]+1839030562&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^S)+M[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(R^V^B)+M[1]+2763975236&4294967295,S=R+(D<<4&4294967295|D>>>28),D=B+(S^R^V)+M[4]+1272893353&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^R)+M[7]+4139469664&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^S)+M[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(R^V^B)+M[13]+681279174&4294967295,S=R+(D<<4&4294967295|D>>>28),D=B+(S^R^V)+M[0]+3936430074&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^R)+M[3]+3572445317&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^S)+M[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(R^V^B)+M[9]+3654602809&4294967295,S=R+(D<<4&4294967295|D>>>28),D=B+(S^R^V)+M[12]+3873151461&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^R)+M[15]+530742520&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^S)+M[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(V^(R|~B))+M[0]+4096336452&4294967295,S=R+(D<<6&4294967295|D>>>26),D=B+(R^(S|~V))+M[7]+1126891415&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~R))+M[14]+2878612391&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~S))+M[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=S+(V^(R|~B))+M[12]+1700485571&4294967295,S=R+(D<<6&4294967295|D>>>26),D=B+(R^(S|~V))+M[3]+2399980690&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~R))+M[10]+4293915773&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~S))+M[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=S+(V^(R|~B))+M[8]+1873313359&4294967295,S=R+(D<<6&4294967295|D>>>26),D=B+(R^(S|~V))+M[15]+4264355552&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~R))+M[6]+2734768916&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~S))+M[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=S+(V^(R|~B))+M[4]+4149444226&4294967295,S=R+(D<<6&4294967295|D>>>26),D=B+(R^(S|~V))+M[11]+3174756917&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~R))+M[2]+718787259&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~S))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const R=S-this.blockSize,M=this.C;let V=this.h,B=0;for(;B<S;){if(V==0)for(;B<=R;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<S;)if(M[V++]=N.charCodeAt(B++),V==this.blockSize){a(this,M),V=0;break}}else for(;B<S;)if(M[V++]=N[B++],V==this.blockSize){a(this,M),V=0;break}}this.h=V,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)N[S++]=this.g[R]>>>M&255;return N};function l(N,S){var R=f;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function u(N,S){this.h=S;const R=[];let M=!0;for(let V=N.length-1;V>=0;V--){const B=N[V]|0;M&&B==S||(R[V]=B,M=!1)}this.g=R}var f={};function m(N){return-128<=N&&N<128?l(N,function(S){return new u([S|0],S<0?-1:0)}):new u([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return j(p(-N));const S=[];let R=1;for(let M=0;N>=R;M++)S[M]=N/R|0,R*=4294967296;return new u(S,0)}function y(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return j(y(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(S,8));let M=_;for(let B=0;B<N.length;B+=8){var V=Math.min(8,N.length-B);const D=parseInt(N.substring(B,B+V),S);V<8?(V=p(Math.pow(S,V)),M=M.j(V).add(p(D))):(M=M.j(R),M=M.add(p(D)))}return M}var _=m(0),T=m(1),A=m(16777216);t=u.prototype,t.m=function(){if(O(this))return-j(this).m();let N=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);N+=(M>=0?M:4294967296+M)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(O(this))return"-"+j(this).toString(N);const S=p(Math.pow(N,6));var R=this;let M="";for(;;){const V=oe(R,S).g;R=z(R,V.j(S));let B=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=V,I(R))return B+M;for(;B.length<6;)B="0"+B;M=B+M}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function I(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function O(N){return N.h==-1}t.l=function(N){return N=z(this,N),O(N)?-1:I(N)?0:1};function j(N){const S=N.g.length,R=[];for(let M=0;M<S;M++)R[M]=~N.g[M];return new u(R,~N.h).add(T)}t.abs=function(){return O(this)?j(this):this},t.add=function(N){const S=Math.max(this.g.length,N.g.length),R=[];let M=0;for(let V=0;V<=S;V++){let B=M+(this.i(V)&65535)+(N.i(V)&65535),D=(B>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);M=D>>>16,B&=65535,D&=65535,R[V]=D<<16|B}return new u(R,R[R.length-1]&-2147483648?-1:0)};function z(N,S){return N.add(j(S))}t.j=function(N){if(I(this)||I(N))return _;if(O(this))return O(N)?j(this).j(j(N)):j(j(this).j(N));if(O(N))return j(this.j(j(N)));if(this.l(A)<0&&N.l(A)<0)return p(this.m()*N.m());const S=this.g.length+N.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<N.g.length;V++){const B=this.i(M)>>>16,D=this.i(M)&65535,Ge=N.i(V)>>>16,ye=N.i(V)&65535;R[2*M+2*V]+=D*ye,H(R,2*M+2*V),R[2*M+2*V+1]+=B*ye,H(R,2*M+2*V+1),R[2*M+2*V+1]+=D*Ge,H(R,2*M+2*V+1),R[2*M+2*V+2]+=B*Ge,H(R,2*M+2*V+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new u(R,0)};function H(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function K(N,S){this.g=N,this.h=S}function oe(N,S){if(I(S))throw Error("division by zero");if(I(N))return new K(_,_);if(O(N))return S=oe(j(N),S),new K(j(S.g),j(S.h));if(O(S))return S=oe(N,j(S)),new K(j(S.g),S.h);if(N.g.length>30){if(O(N)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,M=S;M.l(N)<=0;)R=Q(R),M=Q(M);var V=ee(R,1),B=ee(M,1);for(M=ee(M,2),R=ee(R,2);!I(M);){var D=B.add(M);D.l(N)<=0&&(V=V.add(R),B=D),M=ee(M,1),R=ee(R,1)}return S=z(N,V.j(S)),new K(V,S)}for(V=_;N.l(S)>=0;){for(R=Math.max(1,Math.floor(N.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),B=p(R),D=B.j(S);O(D)||D.l(N)>0;)R-=M,B=p(R),D=B.j(S);I(B)&&(B=T),V=V.add(B),N=z(N,D)}return new K(V,N)}t.B=function(N){return oe(this,N).h},t.and=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&N.i(M);return new u(R,this.h&N.h)},t.or=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|N.i(M);return new u(R,this.h|N.h)},t.xor=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^N.i(M);return new u(R,this.h^N.h)};function Q(N){const S=N.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new u(R,N.h)}function ee(N,S){const R=S>>5;S%=32;const M=N.g.length-R,V=[];for(let B=0;B<M;B++)V[B]=S>0?N.i(B+R)>>>S|N.i(B+R+1)<<32-S:N.i(B+R);return new u(V,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,DA=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Sr=u}).apply(typeof DT<"u"?DT:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var MA,wc,VA,_d,Zg,OA,PA,jA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var b=0;b<h.length;++b){var E=h[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,b){if(b)e:{var E=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var q=h[C];if(!(q in E))break e;E=E[q]}h=h[h.length-1],C=E[h],b=b(C),b!=C&&b!=null&&e(E,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var E=[],C;for(C in b)Object.prototype.hasOwnProperty.call(b,C)&&E.push([C,b[C]]);return E}});var l=l||{},u=this||self;function f(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,E){return h.call.apply(h.bind,arguments)}function p(h,b,E){return p=m,p.apply(null,arguments)}function y(h,b){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function _(h,b){function E(){}E.prototype=b.prototype,h.Z=b.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(C,q,W){for(var le=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)le[ke-2]=arguments[ke];return b.prototype[q].apply(C,le)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const b=h.length;if(b>0){const E=Array(b);for(let C=0;C<b;C++)E[C]=h[C];return E}return[]}function I(h,b){for(let C=1;C<arguments.length;C++){const q=arguments[C];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const W=q.length||0;h.length=E+W;for(let le=0;le<W;le++)h[E+le]=q[le]}else h.push(q)}}class O{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function j(h){u.setTimeout(()=>{throw h},0)}function z(){var h=N;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class H{constructor(){this.h=this.g=null}add(b,E){const C=K.get();C.set(b,E),this.h?this.h.next=C:this.g=C,this.h=C}}var K=new O(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ee=!1,N=new H,S=()=>{const h=Promise.resolve(void 0);Q=()=>{h.then(R)}};function R(){for(var h;h=z();){try{h.h.call(h.g)}catch(E){j(E)}var b=K;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}ee=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,b),u.removeEventListener("test",E,b)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Ge(h,b){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}_(Ge,V),Ge.prototype.init=function(h,b){const E=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(E=="mouseover"?b=h.fromElement:E=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(h,b,E,C,q){this.listener=h,this.proxy=null,this.src=b,this.type=E,this.capture=!!C,this.ha=q,this.key=++X,this.da=this.fa=!1}function ue(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function _e(h,b,E){for(const C in h)b.call(E,h[C],C,h)}function De(h,b){for(const E in h)b.call(void 0,h[E],E,h)}function L(h){const b={};for(const E in h)b[E]=h[E];return b}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,b){let E,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(E in C)h[E]=C[E];for(let W=0;W<se.length;W++)E=se[W],Object.prototype.hasOwnProperty.call(C,E)&&(h[E]=C[E])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,b,E,C,q){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const le=Me(h,b,C,q);return le>-1?(b=h[le],E||(b.fa=!1)):(b=new ae(b,this.src,W,!!C,q),b.fa=E,h.push(b)),b};function Se(h,b){const E=b.type;if(E in h.g){var C=h.g[E],q=Array.prototype.indexOf.call(C,b,void 0),W;(W=q>=0)&&Array.prototype.splice.call(C,q,1),W&&(ue(b),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Me(h,b,E,C){for(let q=0;q<h.length;++q){const W=h[q];if(!W.da&&W.listener==b&&W.capture==!!E&&W.ha==C)return q}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Lt={};function ut(h,b,E,C,q){if(Array.isArray(b)){for(let W=0;W<b.length;W++)ut(h,b[W],E,C,q);return null}return E=gl(E),h&&h[ye]?h.J(b,E,f(C)?!!C.capture:!1,q):jr(h,b,E,!1,C,q)}function jr(h,b,E,C,q,W){if(!b)throw Error("Invalid event type");const le=f(q)?!!q.capture:!!q;let ke=Lr(h);if(ke||(h[He]=ke=new fe(h)),E=ke.add(b,E,C,le,W),E.proxy)return E;if(C=Pa(),E.proxy=C,C.src=h,C.listener=E,h.addEventListener)B||(q=le),q===void 0&&(q=!1),h.addEventListener(b.toString(),C,q);else if(h.attachEvent)h.attachEvent(Ei(b.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Pa(){function h(E){return b.call(h.src,h.listener,E)}const b=ml;return h}function ja(h,b,E,C,q){if(Array.isArray(b))for(var W=0;W<b.length;W++)ja(h,b[W],E,C,q);else C=f(C)?!!C.capture:!!C,E=gl(E),h&&h[ye]?(h=h.i,W=String(b).toString(),W in h.g&&(b=h.g[W],E=Me(b,E,C,q),E>-1&&(ue(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete h.g[W],h.h--)))):h&&(h=Lr(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Me(b,E,C,q)),(E=h>-1?b[h]:null)&&La(E))}function La(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[ye])Se(b.i,h);else{var E=h.type,C=h.proxy;b.removeEventListener?b.removeEventListener(E,C,h.capture):b.detachEvent?b.detachEvent(Ei(E),C):b.addListener&&b.removeListener&&b.removeListener(C),(E=Lr(b))?(Se(E,h),E.h==0&&(E.src=null,b[He]=null)):ue(h)}}}function Ei(h){return h in Lt?Lt[h]:Lt[h]="on"+h}function ml(h,b){if(h.da)h=!0;else{b=new Ge(b,this);const E=h.listener,C=h.ha||h.src;h.fa&&La(h),h=E.call(C,b)}return h}function Lr(h){return h=h[He],h instanceof fe?h:null}var pl="__closure_events_fn_"+(Math.random()*1e9>>>0);function gl(h){return typeof h=="function"?h:(h[pl]||(h[pl]=function(b){return h.handleEvent(b)}),h[pl])}function wt(){M.call(this),this.i=new fe(this),this.M=this,this.G=null}_(wt,M),wt.prototype[ye]=!0,wt.prototype.removeEventListener=function(h,b,E,C){ja(this,h,b,E,C)};function Ut(h,b){var E,C=h.G;if(C)for(E=[];C;C=C.G)E.push(C);if(h=h.M,C=b.type||b,typeof b=="string")b=new V(b,h);else if(b instanceof V)b.target=b.target||h;else{var q=b;b=new V(C,h),ce(b,q)}q=!0;let W,le;if(E)for(le=E.length-1;le>=0;le--)W=b.g=E[le],q=Ps(W,C,!0,b)&&q;if(W=b.g=h,q=Ps(W,C,!0,b)&&q,q=Ps(W,C,!1,b)&&q,E)for(le=0;le<E.length;le++)W=b.g=E[le],q=Ps(W,C,!1,b)&&q}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const E=h.g[b];for(let C=0;C<E.length;C++)ue(E[C]);delete h.g[b],h.h--}}this.G=null},wt.prototype.J=function(h,b,E,C){return this.i.add(String(h),b,!1,E,C)},wt.prototype.K=function(h,b,E,C){return this.i.add(String(h),b,!0,E,C)};function Ps(h,b,E,C){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let W=0;W<b.length;++W){const le=b[W];if(le&&!le.da&&le.capture==E){const ke=le.listener,_t=le.ha||le.src;le.fa&&Se(h.i,le),q=ke.call(_t,C)!==!1&&q}}return q&&!C.defaultPrevented}function Mf(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(h,b||0)}function _u(h){h.g=Mf(()=>{h.g=null,h.i&&(h.i=!1,_u(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class hn extends M{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(h){M.call(this),this.h=h,this.g={}}_(Ur,M);var yl=[];function vl(h){_e(h.g,function(b,E){this.g.hasOwnProperty(E)&&La(b)},h),h.g={}}Ur.prototype.N=function(){Ur.Z.N.call(this),vl(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=u.JSON.stringify,Vf=u.JSON.parse,xu=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Tu(){}function Eu(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){V.call(this,"d")}_(Yt,V);function On(){V.call(this,"c")}_(On,V);var bt={},wu=null;function Ua(){return wu=wu||new wt}bt.Ia="serverreachability";function Su(h){V.call(this,bt.Ia,h)}_(Su,V);function wi(h){const b=Ua();Ut(b,new Su(b))}bt.STAT_EVENT="statevent";function Br(h,b){V.call(this,bt.STAT_EVENT,h),this.stat=b}_(Br,V);function St(h){const b=Ua();Ut(b,new Br(b,h))}bt.Ja="timingevent";function Si(h,b){V.call(this,bt.Ja,h),this.size=b}_(Si,V);function Ai(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},b)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function Of(h,b,E,C,q,W){h.info(function(){if(h.g)if(W){var le="",ke=W.split("&");for(let Ye=0;Ye<ke.length;Ye++){var _t=ke[Ye].split("=");if(_t.length>1){const ht=_t[0];_t=_t[1];const Un=ht.split("_");le=Un.length>=2&&Un[1]=="type"?le+(ht+"="+_t+"&"):le+(ht+"=redacted&")}}}else le=null;else le=W;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+b+`
`+E+`
`+le})}function Au(h,b,E,C,q,W,le){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+b+`
`+E+`
`+W+" "+le})}function Ci(h,b,E,C){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Pf(h,E)+(C?" "+C:"")})}function zr(h,b){h.info(function(){return"TIMEOUT: "+b})}ni.prototype.info=function(){};function Pf(h,b){if(!h.g)return b;if(!b)return null;try{const W=JSON.parse(b);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var E=W[h];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var q=C[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<C.length;le++)C[le]=""}}}}return js(W)}catch{return b}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function Hr(){}_(Hr,Tu),Hr.prototype.g=function(){return new XMLHttpRequest},_l=new Hr;function is(h){return encodeURIComponent(String(h))}function Cu(h){var b=1;h=h.split(":");const E=[];for(;b>0&&h.length;)E.push(h.shift()),b--;return h.length&&E.push(h.join(":")),E}function ii(h,b,E,C){this.j=h,this.i=b,this.l=E,this.S=C||1,this.V=new Ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var At={},Ht={};function Ri(h,b,E){h.M=1,h.A=qr(Rt(b)),h.u=E,h.R=!0,Ba(h,null)}function Ba(h,b){h.F=Date.now(),Ni(h),h.B=Rt(h.A);var E=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),qa(E.i,"t",C),h.C=0,E=h.j.L,h.h=new si,h.g=Fu(h.j,E?b:null,!h.u),h.P>0&&(h.O=new hn(p(h.Y,h,h.g),h.P)),b=h.V,E=h.g,C=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(yl[0]=q.toString()),q=yl);for(let W=0;W<q.length;W++){const le=ut(E,q[W],C||b.handleEvent,!1,b.h||b);if(!le)break;b.g[le.key]=le}b=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),wi(),Of(h.i,h.v,h.B,h.l,h.S,h.u)}ii.prototype.ba=function(h){h=h.target;const b=this.O;b&&oi(h)==3?b.j():this.Y(h)},ii.prototype.Y=function(h){try{if(h==this.g)e:{const ke=oi(this.g),_t=this.g.ya(),Ye=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||ke!=4||_t==7||(_t==8||Ye<=0?wi(3):wi(2)),ki(this);var b=this.g.ca();this.X=b;var E=jf(this);if(this.o=b==200,Au(this.i,this.v,this.B,this.l,this.S,ke,b),this.o){if(this.U&&!this.L){t:{if(this.g){var C,q=this.g;if((C=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(C)){var W=C;break t}}W=null}if(h=W)Ci(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,h);else{this.o=!1,this.m=3,St(12),Sn(this),Pn(this);break e}}if(this.R){h=!0;let ht;for(;!this.K&&this.C<E.length;)if(ht=Nu(this,E),ht==Ht){ke==4&&(this.m=4,St(14),h=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==At){this.m=4,St(15),Ci(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ci(this.i,this.l,ht,null),Ii(this,ht);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||E.length!=0||this.h.h||(this.m=1,St(16),h=!1),this.o=this.o&&h,!h)Ci(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),Pn(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ol(le),le.P=!0,St(11))}}else Ci(this.i,this.l,E,null),Ii(this,E);ke==4&&Sn(this),this.o&&!this.K&&(ke==4?Lu(this.j,this):(this.o=!1,Ni(this)))}else rs(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Sn(this),Pn(this)}}}catch{}};function jf(h){if(!Ru(h))return h.g.la();const b=Qt(h.g);if(b==="")return"";let E="";const C=b.length,q=oi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),Pn(h),"";h.h.i=new u.TextDecoder}for(let W=0;W<C;W++)h.h.h=!0,E+=h.h.i.decode(b[W],{stream:!(q&&W==C-1)});return b.length=0,h.h.g+=E,h.C=0,h.h.g}function Ru(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Nu(h,b){var E=h.C,C=b.indexOf(`
`,E);return C==-1?Ht:(E=Number(b.substring(E,C)),isNaN(E)?At:(C+=1,C+E>b.length?Ht:(b=b.slice(C,C+E),h.C=C+E,b)))}ii.prototype.cancel=function(){this.K=!0,Sn(this)};function Ni(h){h.T=Date.now()+h.H,za(h,h.H)}function za(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ai(p(h.aa,h),b)}function ki(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ii.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zr(this.i,this.B),this.M!=2&&(wi(),St(17)),Sn(this),this.m=2,Pn(this)):za(this,this.T-h)};function Pn(h){h.j.I==0||h.K||Lu(h.j,h)}function Sn(h){ki(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,vl(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Ii(h,b){try{var E=h.j;if(E.I!=0&&(E.g==h||Mi(E.h,h))){if(!h.L&&Mi(E.h,h)&&E.I==3){try{var C=E.Ba.g.parse(b)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Qa(E),Gs(E);else break e;Wr(E),St(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ai(p(E.Va,E),6e3));Di(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ui(E,11)}else if((h.L||E.g==h)&&Qa(E),!D(b))for(q=E.Ba.g.parse(b),b=0;b<q.length;b++){let Ye=q[b];const ht=Ye[0];if(!(ht<=E.K))if(E.K=ht,Ye=Ye[1],E.I==2)if(Ye[0]=="c"){E.M=Ye[1],E.ba=Ye[2];const Un=Ye[3];Un!=null&&(E.ka=Un,E.j.info("VER="+E.ka));const Bi=Ye[4];Bi!=null&&(E.za=Bi,E.j.info("SVER="+E.za));const li=Ye[5];li!=null&&typeof li=="number"&&li>0&&(C=1.5*li,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const ci=h.g;if(ci){const Jr=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var W=C.h;W.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(El(W,W.h),W.h=null))}if(C.G){const Xa=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(C.wa=Xa,We(C.J,C.G,Xa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var le=h;if(C.na=zu(C,C.L?C.ba:null,C.W),le.L){wl(C.h,le);var ke=le,_t=C.O;_t&&(ke.H=_t),ke.D&&(ki(ke),Ni(ke)),C.g=le}else Pu(C);E.i.length>0&&Li(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Ui(E,7);else E.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ui(E,7):Ml(E):Ye[0]!="noop"&&E.l&&E.l.qa(Ye),E.A=0)}}wi(4)}catch{}}var Ct=class{constructor(h,b){this.g=h,this.map=b}};function xl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Di(h){return h.h?1:h.g?h.g.size:0}function Mi(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function El(h,b){h.g?h.g.add(b):h.h=b}function wl(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}xl.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const E of h.g.values())b=b.concat(E.G);return b}return A(h.i)}var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fa(h,b){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const C=h[E].indexOf("=");let q,W=null;C>=0?(q=h[E].substring(0,C),W=h[E].substring(C+1)):q=h[E],b(q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof An?(this.l=h.l,qt(this,h.j),this.o=h.o,this.g=h.g,Ls(this,h.u),this.h=h.h,Al(this,Vu(h.i)),this.m=h.m):h&&(b=String(h).match(ku))?(this.l=!1,qt(this,b[1]||"",!0),this.o=Vi(b[2]||""),this.g=Vi(b[3]||"",!0),Ls(this,b[4]),this.h=Vi(b[5]||"",!0),Al(this,b[6]||"",!0),this.m=Vi(b[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}An.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(Gr(b,Ha,!0),":");var E=this.g;return(E||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Gr(b,Ha,!0),"@"),h.push(is(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Gr(E,E.charAt(0)=="/"?Cl:Iu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Gr(E,Du)),h.join("")},An.prototype.resolve=function(h){const b=Rt(this);let E=!!h.j;E?qt(b,h.j):E=!!h.o,E?b.o=h.o:E=!!h.g,E?b.g=h.g:E=h.u!=null;var C=h.h;if(E)Ls(b,h.u);else if(E=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var q=b.h.lastIndexOf("/");q!=-1&&(C=b.h.slice(0,q+1)+C)}if(q=C,q==".."||q==".")C="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){C=q.lastIndexOf("/",0)==0,q=q.split("/");const W=[];for(let le=0;le<q.length;){const ke=q[le++];ke=="."?C&&le==q.length&&W.push(""):ke==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),C&&le==q.length&&W.push("")):(W.push(ke),C=!0)}C=W.join("/")}else C=q}return E?b.h=C:E=h.i.toString()!=="",E?Al(b,Vu(h.i)):E=!!h.m,E&&(b.m=h.m),b};function Rt(h){return new An(h)}function qt(h,b,E){h.j=E?Vi(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Ls(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Al(h,b,E){b instanceof Bs?(h.i=b,Ga(h.i,h.l)):(E||(b=Gr(b,Us)),h.i=new Bs(b,h.l))}function We(h,b,E){h.i.set(b,E)}function qr(h){return We(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Vi(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Gr(h,b,E){return typeof h=="string"?(h=encodeURI(h).replace(b,yn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ha=/[#\/\?@]/g,Iu=/[#\?:]/g,Cl=/[#\?]/g,Us=/[#\?@]/g,Du=/#/g;function Bs(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function vn(h){h.g||(h.g=new Map,h.h=0,h.i&&Fa(h.i,function(b,E){h.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=Bs.prototype,t.add=function(h,b){vn(this),this.i=null,h=zs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(b),this.h+=1,this};function Mu(h,b){vn(h),b=zs(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function Rl(h,b){return vn(h),b=zs(h,b),h.g.has(b)}t.forEach=function(h,b){vn(this),this.g.forEach(function(E,C){E.forEach(function(q){h.call(b,q,C,this)},this)},this)};function Nl(h,b){vn(h);let E=[];if(typeof b=="string")Rl(h,b)&&(E=E.concat(h.g.get(zs(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)E=E.concat(h[b]);return E}t.set=function(h,b){return vn(this),this.i=null,h=zs(this,h),Rl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=Nl(this,h),h.length>0?String(h[0]):b):b};function qa(h,b,E){Mu(h,b),E.length>0&&(h.i=null,h.g.set(zs(h,b),A(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let C=0;C<b.length;C++){var E=b[C];const q=is(E);E=Nl(this,E);for(let W=0;W<E.length;W++){let le=q;E[W]!==""&&(le+="="+is(E[W])),h.push(le)}}return this.i=h.join("&")};function Vu(h){const b=new Bs;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function zs(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function Ga(h,b){b&&!h.j&&(vn(h),h.i=null,h.g.forEach(function(E,C){const q=C.toLowerCase();C!=q&&(Mu(this,C),qa(this,q,E))},h)),h.j=b}function ri(h,b){const E=new ni;if(u.Image){const C=new Image;C.onload=y(jn,E,"TestLoadImage: loaded",!0,b,C),C.onerror=y(jn,E,"TestLoadImage: error",!1,b,C),C.onabort=y(jn,E,"TestLoadImage: abort",!1,b,C),C.ontimeout=y(jn,E,"TestLoadImage: timeout",!1,b,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else b(!1)}function kl(h,b){const E=new ni,C=new AbortController,q=setTimeout(()=>{C.abort(),jn(E,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:C.signal}).then(W=>{clearTimeout(q),W.ok?jn(E,"TestPingServer: ok",!0,b):jn(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),jn(E,"TestPingServer: error",!1,b)})}function jn(h,b,E,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(E)}catch{}}function Fs(){this.g=new xu}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Oi,Tu),Oi.prototype.g=function(){return new $r(this.i,this.h)};function $r(h,b){wt.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_($r,wt),t=$r.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,ai(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$a(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function $a(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Hs(this):ai(this),this.readyState==3&&$a(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Hs(this))},t.Na=function(h){this.g&&(this.response=h,Hs(this))},t.ga=function(){this.g&&Hs(this)};function Hs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ai(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=b.next();return h.join(`\r
`)};function ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ln(h){let b="";return _e(h,function(E,C){b+=C,b+=":",b+=E,b+=`\r
`}),b}function Kr(h,b,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=Ln(E),typeof h=="string"?E!=null&&is(E):We(h,b,E))}function et(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(et,wt);var Pi=/^https?$/i,Il=["POST","PUT"];t=et.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(W){Yr(this,W);return}if(h=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)E.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const W of C.keys())E.set(W,C.get(W));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Il,b,void 0)>=0)||C||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,le]of E)this.g.setRequestHeader(W,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){Yr(this,W)}};function Yr(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Dl(h),ss(h)}function Dl(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},t.Xa=function(){Qr(this)};function Qr(h){if(h.h&&typeof l<"u"){if(h.v&&oi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),oi(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var C;if(C=W===0){let le=String(h.D).match(ku)[1]||null;!le&&u.self&&u.self.location&&(le=u.self.location.protocol.slice(0,-1)),C=!Pi.test(le?le.toLowerCase():"")}E=C}if(E)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var q=oi(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Dl(h)}}finally{ss(h)}}}}function ss(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,b||Ut(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function oi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Vf(b)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(h){const b={};h=(h.g&&oi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(D(h[C]))continue;var E=Cu(h[C]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=b[q]||[];b[q]=W,W.push(E)}De(b,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(h,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||b}function qs(h){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,h),this.Za=ji("retryDelaySeedMs",1e4,h),this.Ta=ji("forwardChannelMaxRetries",2,h),this.va=ji("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new xl(h&&h.concurrentRequestLimit),this.Ba=new Fs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qs.prototype,t.ka=8,t.I=1,t.connect=function(h,b,E,C){St(0),this.W=h,this.H=b||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=zu(this,null,this.W),Li(this)};function Ml(h){if(Ka(h),h.I==3){var b=h.V++,E=Rt(h.J);if(We(E,"SID",h.M),We(E,"RID",b),We(E,"TYPE","terminate"),Xr(h,E),b=new ii(h,h.j,b),b.M=2,b.A=qr(Rt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=b.A,E=!0),E||(b.g=Fu(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Ni(b)}Bu(h)}function Gs(h){h.g&&(Ol(h),h.g.cancel(),h.g=null)}function Ka(h){Gs(h),h.v&&(u.clearTimeout(h.v),h.v=null),Qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Li(h){if(!Tl(h.h)&&!h.m){h.m=!0;var b=h.Ea;Q||S(),ee||(Q(),ee=!0),N.add(b,h),h.D=0}}function Ya(h,b){return Di(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ai(p(h.Ea,h,b),Uu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ii(this,this.j,h);let W=this.o;if(this.U&&(W?(W=L(W),ce(W,this.U)):W=this.U),this.u!==null||this.R||(q.J=W,W=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(b+=C,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=Ou(this,q,b),E=Rt(this.J),We(E,"RID",h),We(E,"CVER",22),this.G&&We(E,"X-HTTP-Session-Id",this.G),Xr(this,E),W&&(this.R?b="headers="+is(Ln(W))+"&"+b:this.u&&Kr(E,this.u,W)),El(this.h,q),this.Ra&&We(E,"TYPE","init"),this.S?(We(E,"$req",b),We(E,"SID","null"),q.U=!0,Ri(q,E,null)):Ri(q,E,b),this.I=2}}else this.I==3&&(h?Vl(this,h):this.i.length==0||Tl(this.h)||Vl(this))};function Vl(h,b){var E;b?E=b.l:E=h.V++;const C=Rt(h.J);We(C,"SID",h.M),We(C,"RID",E),We(C,"AID",h.K),Xr(h,C),h.u&&h.o&&Kr(C,h.u,h.o),E=new ii(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),b&&(h.i=b.G.concat(h.i)),b=Ou(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),El(h.h,E),Ri(E,C,b)}function Xr(h,b){h.H&&_e(h.H,function(E,C){We(b,C,E)}),h.l&&_e({},function(E,C){We(b,C,E)})}function Ou(h,b,E){E=Math.min(h.i.length,E);const C=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let ke=-1;for(;;){const _t=["count="+E];ke==-1?E>0?(ke=q[0].g,_t.push("ofs="+ke)):ke=0:_t.push("ofs="+ke);let Ye=!0;for(let ht=0;ht<E;ht++){var W=q[ht].g;const Un=q[ht].map;if(W-=ke,W<0)ke=Math.max(0,q[ht].g-100),Ye=!1;else try{W="req"+W+"_"||"";try{var le=Un instanceof Map?Un:Object.entries(Un);for(const[Bi,li]of le){let ci=li;f(li)&&(ci=js(li)),_t.push(W+Bi+"="+encodeURIComponent(ci))}}catch(Bi){throw _t.push(W+"type="+encodeURIComponent("_badmap")),Bi}}catch{C&&C(Un)}}if(Ye){le=_t.join("&");break e}}le=void 0}return h=h.i.splice(0,E),b.G=h,le}function Pu(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;Q||S(),ee||(Q(),ee=!0),N.add(b,h),h.A=0}}function Wr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ai(p(h.Da,h),Uu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ai(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Gs(this),ju(this))};function Ol(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function ju(h){h.g=new ii(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Rt(h.na);We(b,"RID","rpc"),We(b,"SID",h.M),We(b,"AID",h.K),We(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&We(b,"TO",h.ia),We(b,"TYPE","xmlhttp"),Xr(h,b),h.u&&h.o&&Kr(b,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=qr(Rt(b)),E.u=null,E.R=!0,Ba(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Gs(this),Wr(this),St(19))};function Qa(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Lu(h,b){var E=null;if(h.g==b){Qa(h),Ol(h),h.g=null;var C=2}else if(Mi(h.h,b))E=b.G,wl(h.h,b),C=1;else return;if(h.I!=0){if(b.o)if(C==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var q=h.D;C=Ua(),Ut(C,new Si(C,E)),Li(h)}else Pu(h);else if(q=b.m,q==3||q==0&&b.X>0||!(C==1&&Ya(h,b)||C==2&&Wr(h)))switch(E&&E.length>0&&(b=h.h,b.i=b.i.concat(E)),q){case 1:Ui(h,5);break;case 4:Ui(h,10);break;case 3:Ui(h,6);break;default:Ui(h,2)}}}function Uu(h,b){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*b}function Ui(h,b){if(h.j.info("Error code "+b),b==2){var E=p(h.bb,h),C=h.Ua;const q=!C;C=new An(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||qt(C,"https"),qr(C),q?ri(C.toString(),E):kl(C.toString(),E)}else St(2);h.I=0,h.l&&h.l.pa(b),Bu(h),Ka(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Bu(h){if(h.I=0,h.ja=[],h.l){const b=Sl(h.h);(b.length!=0||h.i.length!=0)&&(I(h.ja,b),I(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function zu(h,b,E){var C=E instanceof An?Rt(E):new An(E);if(C.g!="")b&&(C.g=b+"."+C.g),Ls(C,C.u);else{var q=u.location;C=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const W=new An(null);C&&qt(W,C),b&&(W.g=b),q&&Ls(W,q),E&&(W.h=E),C=W}return E=h.G,b=h.wa,E&&b&&We(C,E,b),We(C,"VER",h.ka),Xr(h,C),C}function Fu(h,b,E){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new et(new Oi({ab:E})):new et(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}t=Hu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $s(){}$s.prototype.g=function(h,b){return new dn(h,b)};function dn(h,b){wt.call(this),this.g=new qs(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!D(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!D(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new as(this)}_(dn,wt),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ml(this.g)},dn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=js(h),h=E);b.i.push(new Ct(b.Ya++,h)),b.I==3&&Li(b)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,dn.Z.N.call(this)};function qu(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const E in b){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}_(qu,Yt);function Gu(){On.call(this),this.status=1}_(Gu,On);function as(h){this.g=h}_(as,Hu),as.prototype.ra=function(){Ut(this.g,"a")},as.prototype.qa=function(h){Ut(this.g,new qu(h))},as.prototype.pa=function(h){Ut(this.g,new Gu)},as.prototype.oa=function(){Ut(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,jA=function(){return new $s},PA=function(){return Ua()},OA=bt,Zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,_d=Fr,bl.COMPLETE="complete",VA=bl,Eu.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",wt.prototype.listen=wt.prototype.J,wc=Eu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,MA=et}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});let on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let cl="12.9.0";function V6(t){cl=t}const Ra=new ly("@firebase/firestore");function Ro(){return Ra.logLevel}function de(t,...e){if(Ra.logLevel<=Ue.DEBUG){const n=e.map(xy);Ra.debug(`Firestore (${cl}): ${t}`,...n)}}function Is(t,...e){if(Ra.logLevel<=Ue.ERROR){const n=e.map(xy);Ra.error(`Firestore (${cl}): ${t}`,...n)}}function Na(t,...e){if(Ra.logLevel<=Ue.WARN){const n=e.map(xy);Ra.warn(`Firestore (${cl}): ${t}`,...n)}}function xy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ee(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,LA(t,s,n)}function LA(t,e,n){let s=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Is(s),new Error(s)}function Xe(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||LA(e,a,s)}function Ne(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class UA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class P6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class j6{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ar,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ar)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new UA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class L6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class U6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new L6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class MT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new MT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new MT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function z6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Ty{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=z6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Be(t,e){return t<e?-1:t>e?1:0}function e0(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return ug(a)===ug(l)?Be(a,l):ug(a)?1:-1}return Be(t.length,e.length)}const F6=55296,H6=57343;function ug(t){const e=t.charCodeAt(0);return e>=F6&&e<=H6}function Yo(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const VT="__name__";class Ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ki.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Be(e.length,n.length)}static compareSegments(e,n){const s=Ki.isNumericId(e),a=Ki.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ki.extractNumericId(e).compare(Ki.extractNumericId(n)):e0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class rt extends Ki{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const q6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ki{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return q6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VT}static keyField(){return new nn([VT])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new he(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new he(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(rt.fromString(e))}static fromName(e){return new be(rt.fromString(e).popFirst(5))}static empty(){return new be(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new rt(e.slice()))}}function BA(t,e,n){if(!n)throw new he(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G6(t,e,n,s){if(e===!0&&s===!0)throw new he(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OT(t){if(!be.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PT(t){if(be.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function As(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(t);throw new he(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $6(t,e){if(e<=0)throw new he(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function fu(t,e){if(!zA(t))throw new he(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(ie.INVALID_ARGUMENT,n);return!0}const jT=-62135596800,LT=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*LT);return new ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jT)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LT}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Pt("string",ct._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ct(0,0))}static max(){return new Ce(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $c=-1;function K6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(s===1e9?new ct(n+1,0):new ct(n,s));return new kr(a,be.empty(),e)}function Y6(t){return new kr(t.readTime,t.key,$c)}class kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new kr(Ce.min(),be.empty(),$c)}static max(){return new kr(Ce.max(),be.empty(),$c)}}function Q6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}const X6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ul(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==X6)throw t;de("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((a=>a?re.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{u[p]=y,++f,f===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new re(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function J6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(t){return t.name==="IndexedDbTransactionError"}class vf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vf.ce=-1;const Ey=-1;function bf(t){return t==null}function Hd(t){return t===0&&1/t==-1/0}function Z6(t){return typeof t=="number"&&Number.isInteger(t)&&!Hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const FA="";function eP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UT(e)),e=tP(t.get(n),e);return UT(e)}function tP(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case FA:n+="";break;default:n+=l}}return n}function UT(t){return t+FA+""}function BT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new tn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zT(this.data.getIterator())}getIteratorFrom(e){return new zT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class zT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yi{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new yi([])}unionWith(e){let n=new Ft(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new yi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class qA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new qA("Invalid base64 string: "+l):l}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const nP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=nP.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}const GA="server_timestamp",$A="__type__",KA="__previous_value__",YA="__local_write_time__";function wy(t){return(t?.mapValue?.fields||{})[$A]?.stringValue===GA}function _f(t){const e=t.mapValue.fields[KA];return wy(e)?_f(e):e}function Kc(t){const e=Ir(t.mapValue.fields[YA].timestampValue);return new ct(e.seconds,e.nanos)}class iP{constructor(e,n,s,a,l,u,f,m,p,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=_}}const qd="(default)";class Yc{constructor(e,n){this.projectId=e,this.database=n||qd}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database===qd}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}function sP(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new he(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(t.options.projectId,e)}const QA="__type__",rP="__max__",id={mapValue:{}},XA="__vector__",Gd="value";function Mr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wy(t)?4:oP(t)?9007199254740991:aP(t)?10:11:Ee(28295,{value:t})}function ns(t,e){if(t===e)return!0;const n=Mr(t);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kc(t).isEqual(Kc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ir(a.timestampValue),f=Ir(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Dr(a.bytesValue).isEqual(Dr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Et(a.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Et(a.integerValue)===Et(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Et(a.doubleValue),f=Et(l.doubleValue);return u===f?Hd(u)===Hd(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Yo(t.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(BT(u)!==BT(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!ns(u[m],f[m])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function Qc(t,e){return(t.values||[]).find((n=>ns(n,e)))!==void 0}function Qo(t,e){if(t===e)return 0;const n=Mr(t),s=Mr(e);if(n!==s)return Be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Et(l.integerValue||l.doubleValue),m=Et(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return FT(t.timestampValue,e.timestampValue);case 4:return FT(Kc(t),Kc(e));case 5:return e0(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Dr(l),m=Dr(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Be(f[p],m[p]);if(y!==0)return y}return Be(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Be(Et(l.latitude),Et(u.latitude));return f!==0?f:Be(Et(l.longitude),Et(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return HT(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[Gd]?.arrayValue,y=m[Gd]?.arrayValue,_=Be(p?.values?.length||0,y?.values?.length||0);return _!==0?_:HT(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===id.mapValue&&u===id.mapValue)return 0;if(l===id.mapValue)return 1;if(u===id.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const T=e0(m[_],y[_]);if(T!==0)return T;const A=Qo(f[m[_]],p[y[_]]);if(A!==0)return A}return Be(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function FT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Ir(t),s=Ir(e),a=Be(n.seconds,s.seconds);return a!==0?a:Be(n.nanos,s.nanos)}function HT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Qo(n[a],s[a]);if(l)return l}return Be(n.length,s.length)}function Xo(t){return t0(t)}function t0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ir(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Dr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=t0(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${t0(n.fields[u])}`;return a+"}"})(t.mapValue):Ee(61005,{value:t})}function xd(t){switch(Mr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_f(t);return e?16+xd(e):16;case 5:return 2*t.stringValue.length;case 6:return Dr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+xd(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ia(s.fields,((l,u)=>{a+=l.length+xd(u)})),a})(t.mapValue);default:throw Ee(13486,{value:t})}}function qT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function n0(t){return!!t&&"integerValue"in t}function Sy(t){return!!t&&"arrayValue"in t}function GT(t){return!!t&&"nullValue"in t}function $T(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function aP(t){return(t?.mapValue?.fields||{})[QA]?.stringValue===XA}function Vc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ia(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Vc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vc(t.arrayValue.values[n]);return e}return{...t}}function oP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rP}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(n)}setAll(e){let n=nn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=Vc(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Td(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ia(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Yn(Vc(this.value))}}function WA(t){const e=[];return Ia(t.fields,((n,s)=>{const a=new nn([n]);if(Td(s)){const l=WA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new yi(e)}class ln{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new ln(e,0,Ce.min(),Ce.min(),Ce.min(),Yn.empty(),0)}static newFoundDocument(e,n,s,a){return new ln(e,1,n,Ce.min(),s,a,0)}static newNoDocument(e,n){return new ln(e,2,n,Ce.min(),Ce.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ce.min(),Ce.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $d{constructor(e,n){this.position=e,this.inclusive=n}}function KT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=be.comparator(be.fromName(u.referenceValue),n.key):s=Qo(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function YT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ns(t.position[n],e.position[n]))return!1;return!0}class Xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function lP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class JA{}class Ot extends JA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new uP(e,n,s):n==="array-contains"?new fP(e,s):n==="in"?new mP(e,s):n==="not-in"?new pP(e,s):n==="array-contains-any"?new gP(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new hP(e,s):new dP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qo(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends JA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ti(e,n)}matches(e){return ZA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZA(t){return t.op==="and"}function e2(t){return cP(t)&&ZA(t)}function cP(t){for(const e of t.filters)if(e instanceof Ti)return!1;return!0}function i0(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Xo(t.value);if(e2(t))return t.filters.map((e=>i0(e))).join(",");{const e=t.filters.map((n=>i0(n))).join(",");return`${t.op}(${e})`}}function t2(t,e){return t instanceof Ot?(function(s,a){return a instanceof Ot&&s.op===a.op&&s.field.isEqual(a.field)&&ns(s.value,a.value)})(t,e):t instanceof Ti?(function(s,a){return a instanceof Ti&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&t2(u,a.filters[f])),!0):!1})(t,e):void Ee(19439)}function n2(t){return t instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`})(t):t instanceof Ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(n2).join(" ,")+"}"})(t):"Filter"}class uP extends Ot{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class hP extends Ot{constructor(e,n){super(e,"in",n),this.keys=i2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class dP extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=i2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function i2(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class fP extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sy(n)&&Qc(n.arrayValue,this.value)}}class mP extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qc(this.value.arrayValue,n)}}class pP extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qc(this.value.arrayValue,n)}}class gP extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Qc(this.value.arrayValue,s)))}}class yP{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function QT(t,e=null,n=[],s=[],a=null,l=null,u=null){return new yP(t,e,n,s,a,l,u)}function Ay(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>i0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Xo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Xo(s))).join(",")),e.Te=n}return e.Te}function Cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YT(t.startAt,e.startAt)&&YT(t.endAt,e.endAt)}function s0(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class dl{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vP(t,e,n,s,a,l,u,f){return new dl(t,e,n,s,a,l,u,f)}function Ry(t){return new dl(t)}function XT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bP(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function s2(t){return t.collectionGroup!==null}function Oc(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ft(nn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Xc(l,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new Xc(nn.keyField(),s))}return e.Ie}function Xi(t){const e=Ne(t);return e.Ee||(e.Ee=_P(e,Oc(t))),e.Ee}function _P(t,e){if(t.limitType==="F")return QT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Xc(a.field,l)}));const n=t.endAt?new $d(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new $d(t.startAt.position,t.startAt.inclusive):null;return QT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function r0(t,e){const n=t.filters.concat([e]);return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xP(t,e){const n=t.explicitOrderBy.concat([e]);return new dl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Kd(t,e,n){return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xf(t,e){return Cy(Xi(t),Xi(e))&&t.limitType===e.limitType}function r2(t){return`${Ay(Xi(t))}|lt:${t.limitType}`}function No(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>n2(a))).join(", ")}]`),bf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Xo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Xo(a))).join(",")),`Target(${s})`})(Xi(t))}; limitType=${t.limitType})`}function Tf(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):be.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Oc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,m){const p=KT(u,f,m);return u.inclusive?p<=0:p<0})(s.startAt,Oc(s),a)||s.endAt&&!(function(u,f,m){const p=KT(u,f,m);return u.inclusive?p>=0:p>0})(s.endAt,Oc(s),a))})(t,e)}function TP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function a2(t){return(e,n)=>{let s=!1;for(const a of Oc(t)){const l=EP(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function EP(t,e,n){const s=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Qo(m,p):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:t.dir})}}class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return HA(this.inner)}size(){return this.innerSize}}const wP=new pt(be.comparator);function Ds(){return wP}const o2=new pt(be.comparator);function Sc(...t){let e=o2;for(const n of t)e=e.insert(n.key,n);return e}function l2(t){let e=o2;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function _a(){return Pc()}function c2(){return Pc()}function Pc(){return new Da((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SP=new pt(be.comparator),AP=new Ft(be.comparator);function ze(...t){let e=AP;for(const n of t)e=e.add(n);return e}const CP=new Ft(Be);function RP(){return CP}function Ny(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function u2(t){return{integerValue:""+t}}function NP(t,e){return Z6(e)?u2(e):Ny(t,e)}class Ef{constructor(){this._=void 0}}function kP(t,e,n){return t instanceof Wc?(function(a,l){const u={fields:{[$A]:{stringValue:GA},[YA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&wy(l)&&(l=_f(l)),l&&(u.fields[KA]=l),{mapValue:u}})(n,e):t instanceof Jc?d2(t,e):t instanceof Zc?f2(t,e):(function(a,l){const u=h2(a,l),f=WT(u)+WT(a.Ae);return n0(u)&&n0(a.Ae)?u2(f):Ny(a.serializer,f)})(t,e)}function IP(t,e,n){return t instanceof Jc?d2(t,e):t instanceof Zc?f2(t,e):n}function h2(t,e){return t instanceof Yd?(function(s){return n0(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Wc extends Ef{}class Jc extends Ef{constructor(e){super(),this.elements=e}}function d2(t,e){const n=m2(e);for(const s of t.elements)n.some((a=>ns(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Zc extends Ef{constructor(e){super(),this.elements=e}}function f2(t,e){let n=m2(e);for(const s of t.elements)n=n.filter((a=>!ns(a,s)));return{arrayValue:{values:n}}}class Yd extends Ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function WT(t){return Et(t.integerValue||t.doubleValue)}function m2(t){return Sy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class DP{constructor(e,n){this.field=e,this.transform=n}}function MP(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Jc&&a instanceof Jc||s instanceof Zc&&a instanceof Zc?Yo(s.elements,a.elements,ns):s instanceof Yd&&a instanceof Yd?ns(s.Ae,a.Ae):s instanceof Wc&&a instanceof Wc})(t.transform,e.transform)}class VP{constructor(e,n){this.version=e,this.transformResults=n}}class Wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function p2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new y2(t.key,Wi.none()):new mu(t.key,t.data,Wi.none());{const n=t.data,s=Yn.empty();let a=new Ft(nn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Ma(t.key,s,new yi(a.toArray()),Wi.none())}}function OP(t,e,n){t instanceof mu?(function(a,l,u){const f=a.value.clone(),m=ZT(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Ma?(function(a,l,u){if(!Ed(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=ZT(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(g2(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function jc(t,e,n,s){return t instanceof mu?(function(l,u,f,m){if(!Ed(l.precondition,u))return f;const p=l.value.clone(),y=eE(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ma?(function(l,u,f,m){if(!Ed(l.precondition,u))return f;const p=eE(l.fieldTransforms,m,u),y=u.data;return y.setAll(g2(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,u,f){return Ed(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function PP(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=h2(s.transform,a||null);l!=null&&(n===null&&(n=Yn.empty()),n.set(s.field,l))}return n||null}function JT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Yo(s,a,((l,u)=>MP(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mu extends wf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ma extends wf{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function g2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function ZT(t,e,n){const s=new Map;Xe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,IP(u,f,n[a]))}return s}function eE(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,kP(l,u,e))}return s}class y2 extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jP extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LP{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&OP(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=c2();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=p2(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((n,s)=>JT(n,s)))&&Yo(this.baseMutations,e.baseMutations,((n,s)=>JT(n,s)))}}class ky{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return SP})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new ky(e,n,s,a)}}class UP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BP{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mt,qe;function zP(t){switch(t){case ie.OK:return Ee(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function v2(t){if(t===void 0)return Is("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Mt.OK:return ie.OK;case Mt.CANCELLED:return ie.CANCELLED;case Mt.UNKNOWN:return ie.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ie.INTERNAL;case Mt.UNAVAILABLE:return ie.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ie.NOT_FOUND;case Mt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Mt.ABORTED:return ie.ABORTED;case Mt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Mt.DATA_LOSS:return ie.DATA_LOSS;default:return Ee(39323,{code:t})}}(qe=Mt||(Mt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function FP(){return new TextEncoder}const HP=new Sr([4294967295,4294967295],0);function tE(t){const e=FP().encode(t),n=new DA;return n.update(e),new Uint8Array(n.digest())}function nE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Sr([n,s],0),new Sr([a,l],0)]}class Iy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ac(`Invalid padding: ${n}`);if(s<0)throw new Ac(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Sr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Sr.fromNumber(s)));return a.compare(HP)===1&&(a=new Sr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tE(e),[s,a]=nE(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Iy(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=tE(e),[s,a]=nE(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sf{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Sf(Ce.min(),a,new pt(Be),Ds(),ze())}}class pu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,ze(),ze(),ze())}}class wd{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class b2{constructor(e,n){this.targetId=e,this.Ce=n}}class _2{constructor(e,n,s=sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class iE{constructor(){this.ve=0,this.Fe=sE(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ee(38017,{changeType:l})}})),new pu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=sE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class qP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.He=sd(),this.Je=sd(),this.Ze=new pt(Be)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(s0(l))if(s===0){const u=new be(l.path);this.et(n,u,ln.newNoDocument(u,Ce.min()))}else Xe(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Dr(s).toUint8Array()}catch(m){if(m instanceof qA)return Na("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Iy(u,a,l)}catch(m){return Na(m instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&s0(f.target)){const m=new be(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,ln.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=ze();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Sf(e,n,this.Ze,this.je,s);return this.je=Ds(),this.He=sd(),this.Je=sd(),this.Ze=new pt(Be),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new iE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ft(Be),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ft(Be),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sd(){return new pt(be.comparator)}function sE(){return new pt(be.comparator)}const GP={asc:"ASCENDING",desc:"DESCENDING"},$P={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KP={and:"AND",or:"OR"};class YP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function a0(t,e){return t.useProto3Json||bf(e)?e:{value:e}}function Qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QP(t,e){return Qd(t,e.toTimestamp())}function Ji(t){return Xe(!!t,49232),Ce.fromTimestamp((function(n){const s=Ir(n);return new ct(s.seconds,s.nanos)})(t))}function Dy(t,e){return o0(t,e).canonicalString()}function o0(t,e){const n=(function(a){return new rt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function T2(t){const e=rt.fromString(t);return Xe(C2(e),10190,{key:e.toString()}),e}function l0(t,e){return Dy(t.databaseId,e.path)}function hg(t,e){const n=T2(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(w2(n))}function E2(t,e){return Dy(t.databaseId,e)}function XP(t){const e=T2(t);return e.length===4?rt.emptyPath():w2(e)}function c0(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function w2(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rE(t,e,n){return{name:l0(t,e),fields:n.value.mapValue.fields}}function WP(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Xe(y===void 0||typeof y=="string",58123),sn.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),sn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const y=p.code===void 0?ie.UNKNOWN:v2(p.code);return new he(y,p.message||"")})(u);n=new _2(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=hg(t,s.document.name),l=Ji(s.document.updateTime),u=s.document.createTime?Ji(s.document.createTime):Ce.min(),f=new Yn({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(a,l,u,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new wd(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=hg(t,s.document),l=s.readTime?Ji(s.readTime):Ce.min(),u=ln.newNoDocument(a,l),f=s.removedTargetIds||[];n=new wd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=hg(t,s.document),l=s.removedTargetIds||[];n=new wd([],l,a,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new BP(a,l),f=s.targetId;n=new b2(f,u)}}return n}function JP(t,e){let n;if(e instanceof mu)n={update:rE(t,e.key,e.value)};else if(e instanceof y2)n={delete:l0(t,e.key)};else if(e instanceof Ma)n={update:rE(t,e.key,e.data),updateMask:oj(e.fieldMask)};else{if(!(e instanceof jP))return Ee(16599,{dt:e.type});n={verify:l0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof Wc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Jc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Zc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Yd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ee(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:QP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)})(t,e.precondition)),n}function ZP(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Ji(a.updateTime):Ji(l);return u.isEqual(Ce.min())&&(u=Ji(l)),new VP(u,a.transformResults||[])})(n,e)))):[]}function ej(t,e){return{documents:[E2(t,e.path)]}}function tj(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=E2(t,a);const l=(function(p){if(p.length!==0)return A2(Ti.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:ko(T.field),direction:sj(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=a0(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function nj(t){let e=XP(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Xe(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const T=S2(_);return T instanceof Ti&&e2(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((T=>(function(I){return new Xc(Io(I.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let T;return T=typeof _=="object"?_.value:_,bf(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(_){const T=!!_.before,A=_.values||[];return new $d(A,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const T=!_.before,A=_.values||[];return new $d(A,T)})(n.endAt)),vP(e,a,u,l,f,"F",m,p)}function ij(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function S2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Io(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Io(n.unaryFilter.field);return Ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Io(n.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Io(n.unaryFilter.field);return Ot.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ot.create(Io(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ti.create(n.compositeFilter.filters.map((s=>S2(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function sj(t){return GP[t]}function rj(t){return $P[t]}function aj(t){return KP[t]}function ko(t){return{fieldPath:t.canonicalString()}}function Io(t){return nn.fromServerFormat(t.fieldPath)}function A2(t){return t instanceof Ot?(function(n){if(n.op==="=="){if($T(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(GT(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($T(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(GT(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:rj(n.op),value:n.value}}})(t):t instanceof Ti?(function(n){const s=n.getFilters().map((a=>A2(a)));return s.length===1?s[0]:{compositeFilter:{op:aj(n.op),filters:s}}})(t):Ee(54877,{filter:t})}function oj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function C2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function R2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class xr{constructor(e,n,s,a,l=Ce.min(),u=Ce.min(),f=sn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lj{constructor(e){this.yt=e}}function cj(t){const e=nj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kd(e,e.limit,"L"):e}class uj{constructor(){this.Sn=new hj}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(kr.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class hj{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ft(rt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ft(rt.comparator)).toArray()}}const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N2=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(N2,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Wo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Wo(0)}static ar(){return new Wo(-1)}}const oE="LruGarbageCollector",dj=1048576;function lE([t,e],[n,s]){const a=Be(t,n);return a===0?Be(e,s):a}class fj{constructor(e){this.Pr=e,this.buffer=new Ft(lE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mj{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(oE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hl(n)?de(oE,"Ignoring IndexedDB error during garbage collection: ",n):await ul(n)}await this.Ar(3e5)}))}}class pj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(vf.ce);const s=new fj(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(aE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),Ro()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function gj(t,e){return new pj(t,e)}class yj{constructor(){this.changes=new Da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class bj{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&jc(s.mutation,a,yi.empty(),ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const a=_a();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Sc();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=_a();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=Ds();const u=Pc(),f=(function(){return Pc()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ma)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),jc(y.mutation,p,y.mutation.getFieldMask(),ct.now())):u.set(p.key,yi.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>f.set(p,new vj(y,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Pc();let a=new pt(((u,f)=>u-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||yi.empty();y=f.applyToLocalView(p,y),s.set(m,y);const _=(a.get(f.batchId)||ze()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=c2();y.forEach((T=>{if(!l.has(T)){const A=p2(n.get(T),s.get(T));A!==null&&_.set(T,A),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return re.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return bP(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):re.resolve(_a());let f=$c,m=l;return u.next((p=>re.forEach(p,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{m=m.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,ze()))).next((y=>({batchId:f,changes:l2(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let a=Sc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Sc();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(m=>{const p=(function(_,T){return new dl(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((_,T)=>{u=u.insert(_,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,ln.newInvalidDocument(y)))}));let f=Sc();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&jc(y.mutation,p,yi.empty(),ct.now()),Tf(n,p)&&(f=f.insert(m,p))})),f}))}}class _j{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ji(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:cj(a.bundledQuery),readTime:Ji(a.readTime)}})(n)),re.resolve()}}class xj{constructor(){this.overlays=new pt(be.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=_a();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const a=_a(),l=n.length+1,u=new be(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new pt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=_a(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=_a(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return re.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new UP(n,s));let l=this.Lr.get(n);l===void 0&&(l=ze(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class Tj{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class My{constructor(){this.kr=new Ft(Kt.Kr),this.qr=new Ft(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Kt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Kt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new be(new rt([])),s=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new rt([])),s=new Kt(n,e),a=new Kt(n,e+1);let l=ze();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Kt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||Be(e.Hr,n.Hr)}static Ur(e,n){return Be(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class Ej{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(Kt.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new LP(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new Kt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Ey:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Be);return n.forEach((a=>{const l=new Kt(a,0),u=new Kt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),re.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;be.isDocumentKey(l)||(l=l.child(""));const u=new Kt(new be(l),0);let f=new Ft(Be);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),u),re.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return re.forEach(n.mutations,(a=>{const l=new Kt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Kt(n,0),a=this.Jr.firstAfterOrEqual(s);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wj{constructor(e){this.ti=e,this.docs=(function(){return new pt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=Ds();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ds();const u=n.path,f=new be(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Q6(Y6(y),s)<=0||(a.has(y.key)||Tf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ee(9500)}ni(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Sj(this)}getSize(e){return re.resolve(this.size)}}class Sj extends yj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Aj{constructor(e){this.persistence=e,this.ri=new Da((n=>Ay(n)),Cy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ii=0,this.si=new My,this.targetCount=0,this.oi=Wo._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),re.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}class k2{constructor(e,n){this._i={},this.overlays={},this.ai=new vf(0),this.ui=!1,this.ui=!0,this.ci=new Tj,this.referenceDelegate=e(this),this.li=new Aj(this),this.indexManager=new uj,this.remoteDocumentCache=(function(a){return new wj(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new lj(n),this.Pi=new _j(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new Ej(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const a=new Cj(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return re.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class Cj extends W6{constructor(e){super(),this.currentSequenceNumber=e}}class Vy{constructor(e){this.persistence=e,this.Ri=new My,this.Ai=null}static Vi(e){return new Vy(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(s=>{const a=be.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ce.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Xd{constructor(e,n){this.persistence=e,this.fi=new Da((s=>eP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=gj(this,n)}static Vi(e,n){return new Xd(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Ce.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xd(e.data.value)),n}wr(e,n,s){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return re.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Oy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Oy(e,n.fromCache,s,a)}}class Rj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Nj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return f5()?8:J6(un())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new Rj;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(Ro()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(Ro()<=Ue.DEBUG&&de("QueryEngine","Query:",No(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Ro()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(n))):re.resolve())}gs(e,n){if(XT(n))return re.resolve(null);let s=Xi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Kd(n,null,"F"),s=Xi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=ze(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,f);return this.Ss(n,p,u,m.readTime)?this.gs(e,Kd(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return XT(n)||a.isEqual(Ce.min())?re.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?re.resolve(null):(Ro()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),No(n)),this.Ds(e,u,n,K6(a,$c)).next((f=>f)))}))}bs(e,n){let s=new Ft(a2(e));return n.forEach(((a,l)=>{Tf(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return Ro()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",No(n)),this.fs.getDocumentsMatchingQuery(e,n,kr.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Py="LocalStore",kj=3e8;class Ij{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new pt(Be),this.Fs=new Da((l=>Ay(l)),Cy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Dj(t,e,n,s){return new Ij(t,e,n,s)}async function I2(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let m=ze();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function Mj(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const _=p.batch,T=_.keys();let A=re.resolve();return T.forEach((I=>{A=A.next((()=>y.getEntry(m,I))).next((O=>{const j=p.docVersions.get(I);Xe(j!==null,48541),O.version.compareTo(j)<0&&(_.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),y.addEntry(O)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=ze();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function D2(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Vj(t,e){const n=Ne(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((y,_)=>{const T=a.get(_);if(!T)return;f.push(n.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,_))));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(sn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),a=a.insert(_,A),(function(O,j,z){return O.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=kj?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,A,y)&&f.push(n.li.updateTargetData(l,A))}));let m=Ds(),p=ze();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(Oj(l,u,e.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(Ce.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return re.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function Oj(t,e,n){let s=ze(),a=ze();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Ds();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):de(Py,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function Pj(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ey),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function jj(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,re.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new xr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function u0(t,e,n){const s=Ne(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!hl(u))throw u;de(Py,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function cE(t,e,n){const s=Ne(t);let a=Ce.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const _=Ne(m),T=_.Fs.get(y);return T!==void 0?re.resolve(_.vs.get(T)):_.li.getTargetData(p,y)})(s,u,Xi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?l:ze()))).next((f=>(Lj(s,TP(e),f),{documents:f,ks:l})))))}function Lj(t,e,n){let s=t.Ms.get(e)||Ce.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class uE{constructor(){this.activeTargetIds=RP()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uj{constructor(){this.vo=new uE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new uE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bj{Mo(e){}shutdown(){}}const hE="ConnectivityMonitor";class dE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(hE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(hE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rd=null;function h0(){return rd===null?rd=(function(){return 268435456+Math.round(2147483648*Math.random())})():rd++,"0x"+rd.toString(16)}const dg="RestConnection",zj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Fj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===qd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=h0(),f=this.Qo(e,n.toUriEncodedString());de(dg,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),y=al(p);return this.zo(e,f,m,s,y).then((_=>(de(dg,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Na(dg,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",s),_}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=zj[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class Hj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const an="WebChannelConnection",Tc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Fo extends Fj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Fo.c_){const e=PA();Tc(e,OA.STAT_EVENT,(n=>{n.stat===Zg.PROXY?de(an,"STAT_EVENT: detected buffering proxy"):n.stat===Zg.NOPROXY&&de(an,"STAT_EVENT: detected no buffering proxy")})),Fo.c_=!0}}zo(e,n,s,a,l){const u=h0();return new Promise(((f,m)=>{const p=new MA;p.setWithCredentials(!0),p.listenOnce(VA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case _d.NO_ERROR:const _=p.getResponseJson();de(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case _d.TIMEOUT:de(an,`RPC '${e}' ${u} timed out`),m(new he(ie.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const T=p.getStatus();if(de(an,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A?.error;if(I&&I.status&&I.message){const O=(function(z){const H=z.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(H)>=0?H:ie.UNKNOWN})(I.status);m(new he(O,I.message))}else m(new he(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(ie.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(an,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);de(an,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=h0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const p=l.join("");de(an,`Creating RPC '${e}' stream ${a}: ${p}`,f);const y=u.createWebChannel(p,f);this.I_(y);let _=!1,T=!1;const A=new Hj({Ho:I=>{T?de(an,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(_||(de(an,`Opening RPC '${e}' stream ${a} transport.`),y.open(),_=!0),de(an,`RPC '${e}' stream ${a} sending:`,I),y.send(I))},Jo:()=>y.close()});return Tc(y,wc.EventType.OPEN,(()=>{T||(de(an,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Tc(y,wc.EventType.CLOSE,(()=>{T||(T=!0,de(an,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(y))})),Tc(y,wc.EventType.ERROR,(I=>{T||(T=!0,Na(an,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),A.o_(new he(ie.UNAVAILABLE,"The operation could not be completed")))})),Tc(y,wc.EventType.MESSAGE,(I=>{if(!T){const O=I.data[0];Xe(!!O,16349);const j=O,z=j?.error||j[0]?.error;if(z){de(an,`RPC '${e}' stream ${a} received error:`,z);const H=z.status;let K=(function(ee){const N=Mt[ee];if(N!==void 0)return v2(N)})(H),oe=z.message;H==="NOT_FOUND"&&oe.includes("database")&&oe.includes("does not exist")&&oe.includes(this.databaseId.database)&&Na(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=ie.INTERNAL,oe="Unknown error status: "+H+" with message "+z.message),T=!0,A.o_(new he(K,oe)),y.close()}else de(an,`RPC '${e}' stream ${a} received:`,O),A.__(O)}})),Fo.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return jA()}}function qj(t){return new Fo(t)}function fg(){return typeof document<"u"?document:null}function Af(t){return new YP(t,!0)}Fo.c_=!1;class M2{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const fE="PersistentStream";class V2{constructor(e,n,s,a,l,u,f,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Is(n.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(fE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(fE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gj extends V2{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WP(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Ji(u.readTime):Ce.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=c0(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=s0(m)?{documents:ej(l,m)}:{query:tj(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=x2(l,u.resumeToken);const p=a0(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ce.min())>0){f.readTime=Qd(l,u.snapshotVersion.toTimestamp());const p=a0(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=ij(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=c0(this.serializer),n.removeTarget=e,this.K_(n)}}class $j extends V2{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZP(e.writeResults,e.commitTime),s=Ji(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=c0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>JP(this.serializer,s)))};this.K_(n)}}class Kj{}class Yj extends Kj{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,o0(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ie.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,o0(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Qj(t,e,n,s){return new Yj(t,e,n,s)}class Xj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ka="RemoteStore";class Wj{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Va(this)&&(de(ka,"Restarting streams for network reachability change."),await(async function(m){const p=Ne(m);p.Ea.add(4),await gu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Cf(p)})(this))}))})),this.Va=new Xj(s,a)}}async function Cf(t){if(Va(t))for(const e of t.Ra)await e(!0)}async function gu(t){for(const e of t.Ra)await e(!1)}function O2(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),By(n)?Uy(n):fl(n).O_()&&Ly(n,e))}function jy(t,e){const n=Ne(t),s=fl(n);n.Ia.delete(e),s.O_()&&P2(n,e),n.Ia.size===0&&(s.O_()?s.L_():Va(n)&&n.Va.set("Unknown"))}function Ly(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).Z_(e)}function P2(t,e){t.da.$e(e),fl(t).X_(e)}function Uy(t){t.da=new qP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.Va.ua()}function By(t){return Va(t)&&!fl(t).x_()&&t.Ia.size>0}function Va(t){return Ne(t).Ea.size===0}function j2(t){t.da=void 0}async function Jj(t){t.Va.set("Online")}async function Zj(t){t.Ia.forEach(((e,n)=>{Ly(t,e)}))}async function eL(t,e){j2(t),By(t)?(t.Va.ha(e),Uy(t)):t.Va.set("Unknown")}async function tL(t,e,n){if(t.Va.set("Online"),e instanceof _2&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){de(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wd(t,s)}else if(e instanceof wd?t.da.Xe(e):e instanceof b2?t.da.st(e):t.da.tt(e),!n.isEqual(Ce.min()))try{const s=await D2(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(sn.EMPTY_BYTE_STRING,y.snapshotVersion)),P2(l,m);const _=new xr(y.target,m,p,y.sequenceNumber);Ly(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){de(ka,"Failed to raise snapshot:",s),await Wd(t,s)}}async function Wd(t,e,n){if(!hl(e))throw e;t.Ea.add(1),await gu(t),t.Va.set("Offline"),n||(n=()=>D2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(ka,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cf(t)}))}function L2(t,e){return e().catch((n=>Wd(t,n,e)))}async function Rf(t){const e=Ne(t),n=Vr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ey;for(;nL(e);)try{const a=await Pj(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,iL(e,a)}catch(a){await Wd(e,a)}U2(e)&&B2(e)}function nL(t){return Va(t)&&t.Ta.length<10}function iL(t,e){t.Ta.push(e);const n=Vr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function U2(t){return Va(t)&&!Vr(t).x_()&&t.Ta.length>0}function B2(t){Vr(t).start()}async function sL(t){Vr(t).ra()}async function rL(t){const e=Vr(t);for(const n of t.Ta)e.ea(n.mutations)}async function aL(t,e,n){const s=t.Ta.shift(),a=ky.from(s,e,n);await L2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Rf(t)}async function oL(t,e){e&&Vr(t).Y_&&await(async function(s,a){if((function(u){return zP(u)&&u!==ie.ABORTED})(a.code)){const l=s.Ta.shift();Vr(s).B_(),await L2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Rf(s)}})(t,e),U2(t)&&B2(t)}async function mE(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),de(ka,"RemoteStore received new credentials");const s=Va(n);n.Ea.add(3),await gu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cf(n)}async function lL(t,e){const n=Ne(t);e?(n.Ea.delete(2),await Cf(n)):e||(n.Ea.add(2),await gu(n),n.Va.set("Unknown"))}function fl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ne(n);return l.sa(),new Gj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:Jj.bind(null,t),Yo:Zj.bind(null,t),t_:eL.bind(null,t),J_:tL.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),By(t)?Uy(t):t.Va.set("Unknown")):(await t.ma.stop(),j2(t))}))),t.ma}function Vr(t){return t.fa||(t.fa=(function(n,s,a){const l=Ne(n);return l.sa(),new $j(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:sL.bind(null,t),t_:oL.bind(null,t),ta:rL.bind(null,t),na:aL.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Rf(t)):(await t.fa.stop(),t.Ta.length>0&&(de(ka,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class zy{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new zy(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(t,e){if(Is("AsyncQueue",`${e}: ${t}`),hl(t))return new he(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Sc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class pE{constructor(){this.ga=new pt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Jo{constructor(e,n,s,a,l,u,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Jo(e,n,Ho.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class cL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class uL{constructor(){this.queries=gE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ne(n),l=a.queries;a.queries=gE(),l.forEach(((u,f)=>{for(const m of f.ba)m.onError(s)}))})(this,new he(ie.ABORTED,"Firestore shutting down"))}}function gE(){return new Da((t=>r2(t)),xf)}async function z2(t,e){const n=Ne(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new cL,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=Fy(u,`Initialization of query '${No(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Hy(n)}async function F2(t,e){const n=Ne(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hL(t,e){const n=Ne(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&Hy(n)}function dL(t,e,n){const s=Ne(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function Hy(t){t.Ca.forEach((e=>{e.next()}))}var d0,yE;(yE=d0||(d0={})).Ma="default",yE.Cache="cache";class H2{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==d0.Cache}}class q2{constructor(e){this.key=e}}class G2{constructor(e){this.key=e}}class fL{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=a2(e),this.tu=new Ho(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new pE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const T=a.get(y),A=Tf(this.query,_)?_:null,I=!!T&&this.mutatedKeys.has(T.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;T&&A?T.data.isEqual(A.data)?I!==O&&(s.track({type:3,doc:A}),j=!0):this.su(T,A)||(s.track({type:2,doc:A}),j=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(f=!0)):!T&&A?(s.track({type:0,doc:A}),j=!0):T&&!A&&(s.track({type:1,doc:T}),j=!0,(m||p)&&(f=!0)),j&&(A?(u=u.add(A),l=O?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(A,I){const O=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:j})}};return O(A)-O(I)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new Jo(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new G2(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new q2(s))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const qy="SyncEngine";class mL{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class pL{constructor(e){this.key=e,this.hu=!1}}class gL{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Da((f=>r2(f)),xf),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(be.comparator),this.Au=new Map,this.Vu=new My,this.du={},this.mu=new Map,this.fu=Wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yL(t,e,n=!0){const s=W2(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await $2(s,e,n,!0),a}async function vL(t,e){const n=W2(t);await $2(n,e,!0,!1)}async function $2(t,e,n,s){const a=await jj(t.localStore,Xi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await bL(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&O2(t.remoteStore,a),f}async function bL(t,e,n,s,a){t.pu=(_,T,A)=>(async function(O,j,z,H){let K=j.view.ru(z);K.Ss&&(K=await cE(O.localStore,j.query,!1).then((({documents:N})=>j.view.ru(N,K))));const oe=H&&H.targetChanges.get(j.targetId),Q=H&&H.targetMismatches.get(j.targetId)!=null,ee=j.view.applyChanges(K,O.isPrimaryClient,oe,Q);return bE(O,j.targetId,ee.au),ee.snapshot})(t,_,T,A);const l=await cE(t.localStore,e,!0),u=new fL(e,l.ks),f=u.ru(l.documents),m=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,m);bE(t,n,p.au);const y=new mL(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function _L(t,e,n){const s=Ne(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!xf(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await u0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&jy(s.remoteStore,a.targetId),f0(s,a.targetId)})).catch(ul)):(f0(s,a.targetId),await u0(s.localStore,a.targetId,!0))}async function xL(t,e){const n=Ne(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jy(n.remoteStore,s.targetId))}async function TL(t,e,n){const s=NL(t);try{const a=await(function(u,f){const m=Ne(u),p=ct.now(),y=f.reduce(((A,I)=>A.add(I.key)),ze());let _,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=Ds(),O=ze();return m.xs.getEntries(A,y).next((j=>{I=j,I.forEach(((z,H)=>{H.isValidDocument()||(O=O.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,I))).next((j=>{_=j;const z=[];for(const H of f){const K=PP(H,_.get(H.key).overlayedDocument);K!=null&&z.push(new Ma(H.key,K,WA(K.value.mapValue),Wi.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,z,f)})).next((j=>{T=j;const z=j.applyToLocalDocumentSet(_,O);return m.documentOverlayCache.saveOverlays(A,j.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:l2(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.du[u.currentUser.toKey()];p||(p=new pt(Be)),p=p.insert(f,m),u.du[u.currentUser.toKey()]=p})(s,a.batchId,n),await yu(s,a.changes),await Rf(s.remoteStore)}catch(a){const l=Fy(a,"Failed to persist write");n.reject(l)}}async function K2(t,e){const n=Ne(t);try{const s=await Vj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Xe(u.hu,14607):a.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await yu(n,s,e)}catch(s){await ul(s)}}function vE(t,e,n){const s=Ne(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Ne(u);m.onlineState=f;let p=!1;m.queries.forEach(((y,_)=>{for(const T of _.ba)T.va(f)&&(p=!0)})),p&&Hy(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EL(t,e,n){const s=Ne(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new pt(be.comparator);u=u.insert(l,ln.newNoDocument(l,Ce.min()));const f=ze().add(l),m=new Sf(Ce.min(),new Map,new pt(Be),u,f);await K2(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),Gy(s)}else await u0(s.localStore,e,!1).then((()=>f0(s,e,n))).catch(ul)}async function wL(t,e){const n=Ne(t),s=e.batch.batchId;try{const a=await Mj(n.localStore,e);Q2(n,s,null),Y2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,a)}catch(a){await ul(a)}}async function SL(t,e,n){const s=Ne(t);try{const a=await(function(u,f){const m=Ne(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(Xe(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);Q2(s,e,n),Y2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,a)}catch(a){await ul(a)}}function Y2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Q2(t,e,n){const s=Ne(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function f0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||X2(t,s)}))}function X2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(jy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Gy(t))}function bE(t,e,n){for(const s of n)s instanceof q2?(t.Vu.addReference(s.key,e),AL(t,s)):s instanceof G2?(de(qy,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||X2(t,s.key)):Ee(19791,{wu:s})}function AL(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(de(qy,"New document in limbo: "+n),t.Eu.add(s),Gy(t))}function Gy(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(rt.fromString(e)),s=t.fu.next();t.Au.set(s,new pL(n)),t.Ru=t.Ru.insert(n,s),O2(t.remoteStore,new xr(Xi(Ry(n.path)),s,"TargetPurposeLimboResolution",vf.ce))}}async function yu(t,e,n){const s=Ne(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Oy.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,p){const y=Ne(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>re.forEach(p,(T=>re.forEach(T.Ts,(A=>y.persistence.referenceDelegate.addReference(_,T.targetId,A))).next((()=>re.forEach(T.Is,(A=>y.persistence.referenceDelegate.removeReference(_,T.targetId,A)))))))))}catch(_){if(!hl(_))throw _;de(Py,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const A=y.vs.get(T),I=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(I);y.vs=y.vs.insert(T,O)}}})(s.localStore,l))}async function CL(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){de(qy,"User change. New user:",e.toKey());const s=await I2(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new he(ie.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ns)}}function RL(t,e){const n=Ne(t),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let a=ze();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function W2(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EL.bind(null,e),e.Pu.J_=hL.bind(null,e.eventManager),e.Pu.yu=dL.bind(null,e.eventManager),e}function NL(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SL.bind(null,e),e}class Jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Dj(this.persistence,new Nj,e.initialUser,this.serializer)}Cu(e){return new k2(Vy.Vi,this.serializer)}Du(e){return new Uj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jd.provider={build:()=>new Jd};class kL extends Jd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Xd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mj(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new k2((s=>Xd.Vi(s,n)),this.serializer)}}class m0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CL.bind(null,this.syncEngine),await lL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uL})()}createDatastore(e){const n=Af(e.databaseInfo.databaseId),s=qj(e.databaseInfo);return Qj(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new Wj(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>vE(this.syncEngine,n,0)),(function(){return dE.v()?new dE:new Bj})())}createSyncEngine(e,n){return(function(a,l,u,f,m,p,y){const _=new gL(a,l,u,f,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ne(n);de(ka,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}m0.provider={build:()=>new m0};class J2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Or="FirestoreClient";class IL{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=Ty.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{de(Or,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(de(Or,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fy(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function mg(t,e){t.asyncQueue.verifyOperationInProgress(),de(Or,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await I2(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function _E(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DL(t);de(Or,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>mE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>mE(e.remoteStore,a))),t._onlineComponents=e}async function DL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Or,"Using user provided OfflineComponentProvider");try{await mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await mg(t,new Jd)}}else de(Or,"Using default OfflineComponentProvider"),await mg(t,new kL(void 0));return t._offlineComponents}async function Z2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Or,"Using user provided OnlineComponentProvider"),await _E(t,t._uninitializedComponentsProvider._online)):(de(Or,"Using default OnlineComponentProvider"),await _E(t,new m0))),t._onlineComponents}function ML(t){return Z2(t).then((e=>e.syncEngine))}async function p0(t){const e=await Z2(t),n=e.eventManager;return n.onListen=yL.bind(null,e.syncEngine),n.onUnlisten=_L.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xL.bind(null,e.syncEngine),n}function VL(t,e,n,s){const a=new J2(s),l=new H2(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>z2(await p0(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>F2(await p0(t),l)))}}function OL(t,e,n={}){const s=new Ar;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const y=new J2({next:T=>{y.Nu(),u.enqueueAndForget((()=>F2(l,_))),T.fromCache&&m.source==="server"?p.reject(new he(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new H2(f,y,{includeMetadataChanges:!0,Ka:!0});return z2(l,_)})(await p0(t),t.asyncQueue,e,n,s))),s.promise}function PL(t,e){const n=new Ar;return t.asyncQueue.enqueueAndForget((async()=>TL(await ML(t),e,n))),n.promise}function eC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const jL="ComponentProvider",xE=new Map;function LL(t,e,n,s,a){return new iP(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,eC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const tC="firestore.googleapis.com",TE=!0;class EE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tC,this.ssl=TE}else this.host=e.host,this.ssl=e.ssl??TE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=N2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dj)throw new he(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eC(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new O6;switch(s.type){case"firstParty":return new U6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=xE.get(n);s&&(de(jL,"Removing Datastore"),xE.delete(n),s.terminate())})(this),Promise.resolve()}}function UL(t,e,n,s={}){t=As(t,Nf);const a=al(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(YS(`https://${f}`),QS("Firestore",!0)),l.host!==tC&&l.host!==f&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Sa(m,u)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=on.MOCK_USER;else{p=s5(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new he(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}t._authCredentials=new P6(new UA(p,y))}}class Os{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Os(this.firestore,e,this._query)}}class jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(fu(n,jt._jsonSchema))return new jt(e,s||null,new be(rt.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Pt("string",jt._jsonSchemaVersion),referencePath:Pt("string")};class Cr extends Os{constructor(e,n,s){super(e,n,Ry(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new be(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function Zd(t,e,...n){if(t=gn(t),BA("collection","path",e),t instanceof Nf){const s=rt.fromString(e,...n);return PT(s),new Cr(t,null,s)}{if(!(t instanceof jt||t instanceof Cr))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return PT(s),new Cr(t.firestore,null,s)}}function g0(t,e,...n){if(t=gn(t),arguments.length===1&&(e=Ty.newId()),BA("doc","path",e),t instanceof Nf){const s=rt.fromString(e,...n);return OT(s),new jt(t,null,new be(s))}{if(!(t instanceof jt||t instanceof Cr))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return OT(s),new jt(t.firestore,t instanceof Cr?t.converter:null,new be(s))}}const wE="AsyncQueue";class SE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M2(this,"async_queue_retry"),this._c=()=>{const s=fg();s&&de(wE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=fg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;de(wE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",AE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=zy.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ee(47125,{Pc:AE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function AE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Zo extends Nf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new SE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SE(e),this._firestoreClient=void 0,await e}}}function BL(t,e){const n=typeof t=="object"?t:ZS(),s=typeof t=="string"?t:qd,a=uy(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=n5("firestore");l&&UL(a,...l)}return a}function $y(t){if(t._terminated)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zL(t),t._firestoreClient}function zL(t){const e=t._freezeSettings(),n=LL(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new IL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(sn.fromBase64String(e))}catch(n){throw new he(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Pt("string",Qn._jsonSchemaVersion),bytes:Pt("string")};class nC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ky{constructor(e){this._methodName=e}}class Zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zi._jsonSchemaVersion}}static fromJSON(e){if(fu(e,Zi._jsonSchema))return new Zi(e.latitude,e.longitude)}}Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:Pt("string",Zi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class _i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,_i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _i(e.vectorValues);throw new he(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:Pt("string",_i._jsonSchemaVersion),vectorValues:Pt("object")};const FL=/^__.*__$/;class HL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}function iC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:t})}}class Yy{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Yy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ef(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(iC(this.dataSource)&&FL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Af(e)}createContext(e,n,s,a=!1){return new Yy({dataSource:e,methodName:n,targetDoc:s,path:nn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qy(t){const e=t._freezeSettings(),n=Af(t._databaseId);return new qL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sC(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);oC("Data must be an object, but it was:",u,s);const f=rC(s,u);let m,p;if(l.merge)m=new yi(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const T=kf(e,_,n);if(!u.contains(T))throw new he(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);YL(y,T)||y.push(T)}m=new yi(y),p=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=u.fieldTransforms;return new HL(new Yn(f),m,p)}class Xy extends Ky{_toFieldTransform(e){return new DP(e.path,new Wc)}isEqual(e){return e instanceof Xy}}function GL(t,e,n,s=!1){return Wy(n,t.createContext(s?4:3,e))}function Wy(t,e){if(aC(t=gn(t)))return oC("Unsupported field value:",e,t),rC(t,e);if(t instanceof Ky)return(function(s,a){if(!iC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let m=Wy(f,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NP(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ct.fromDate(s);return{timestampValue:Qd(a.serializer,l)}}if(s instanceof ct){const l=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qd(a.serializer,l)}}if(s instanceof Zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:x2(a.serializer,s._byteString)};if(s instanceof jt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Dy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof _i)return(function(u,f){const m=u instanceof _i?u.toArray():u;return{mapValue:{fields:{[QA]:{stringValue:XA},[Gd]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return Ny(f.serializer,y)}))}}}}}})(s,a);if(R2(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${yf(s)}`)})(t,e)}function rC(t,e){const n={};return HA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(t,((s,a)=>{const l=Wy(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function aC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof Zi||t instanceof Qn||t instanceof jt||t instanceof Ky||t instanceof _i||R2(t))}function oC(t,e,n){if(!aC(n)||!zA(n)){const s=yf(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function kf(t,e,n){if((e=gn(e))instanceof nC)return e._internalPath;if(typeof e=="string")return KL(t,e);throw ef("Field path arguments must be of type string or ",t,!1,void 0,n)}const $L=new RegExp("[~\\*/\\[\\]]");function KL(t,e,n){if(e.search($L)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nC(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ef(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new he(ie.INVALID_ARGUMENT,f+t+m)}function YL(t,e){return t.some((n=>n.isEqual(e)))}class QL{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ia(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Gd].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new _i(n)}convertGeoPoint(e){return new Zi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_f(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const n=Ir(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Xe(C2(s),9688,{name:e});const a=new Yc(s.get(1),s.get(3)),l=new be(s.popFirst(5));return a.isEqual(n)||Is(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Jy extends QL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function XL(){return new Xy("serverTimestamp")}const CE="@firebase/firestore",RE="4.11.0";function NE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class lC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(kf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WL extends lC{data(){return super.data()}}function cC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zy{}class ev extends Zy{}function uC(t,e,...n){let s=[];e instanceof Zy&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof nv)).length,f=l.filter((m=>m instanceof tv)).length;if(u>1||u>0&&f>0)throw new he(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class tv extends ev{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new tv(e,n,s)}_apply(e){const n=this._parse(e);return fC(e._query,n),new Os(e.firestore,e.converter,r0(e._query,n))}_parse(e){const n=Qy(e.firestore);return(function(l,u,f,m,p,y,_){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){IE(_,y);const I=[];for(const O of _)I.push(kE(m,l,O));T={arrayValue:{values:I}}}else T=kE(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||IE(_,y),T=GL(f,u,_,y==="in"||y==="not-in");return Ot.create(p,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class nv extends Zy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)fC(u,m),u=r0(u,m)})(e._query,n),new Os(e.firestore,e.converter,r0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iv extends ev{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iv(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new he(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(l,u)})(e._query,this._field,this._direction);return new Os(e.firestore,e.converter,xP(e._query,n))}}function hC(t,e="asc"){const n=e,s=kf("orderBy",t);return iv._create(s,n)}class sv extends ev{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new sv(e,n,s)}_apply(e){return new Os(e.firestore,e.converter,Kd(e._query,this._limit,this._limitType))}}function dC(t){return $6("limit",t),sv._create("limit",t,"F")}function kE(t,e,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new he(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s2(e)&&n.indexOf("/")!==-1)throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!be.isDocumentKey(s))throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qT(t,new be(s))}if(n instanceof jt)return qT(t,n._key);throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(n)}.`)}function IE(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fC(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function mC(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends lC{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(kf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Pt("string",Ea._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Sd extends Ea{data(e={}){return super.data(e)}}class wa{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Cc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Sd(this._firestore,this._userDataWriter,s.key,s,new Cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new Sd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Cc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Sd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Cc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:JL(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ty.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:Pt("string",wa._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};function ZL(t){t=As(t,Os);const e=As(t.firestore,Zo),n=$y(e),s=new Jy(e);return cC(t._query),OL(n,t._query).then((a=>new wa(e,s,t,a)))}function DE(t,e,n){t=As(t,jt);const s=As(t.firestore,Zo),a=mC(t.converter,e),l=Qy(s);return yC(s,[sC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Wi.none())])}function pC(t,e){const n=As(t.firestore,Zo),s=g0(t),a=mC(t.converter,e),l=Qy(t.firestore);return yC(n,[sC(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Wi.exists(!1))]).then((()=>s))}function gC(t,...e){t=gn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||NE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(NE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,u,f;if(t instanceof jt)u=As(t.firestore,Zo),f=Ry(t._key.path),l={next:p=>{e[s]&&e[s](e9(u,t,p))},error:e[s+1],complete:e[s+2]};else{const p=As(t,Os);u=As(p.firestore,Zo),f=p._query;const y=new Jy(u);l={next:_=>{e[s]&&e[s](new wa(u,y,p,_))},error:e[s+1],complete:e[s+2]},cC(t._query)}const m=$y(u);return VL(m,f,a,l)}function yC(t,e){const n=$y(t);return PL(n,e)}function e9(t,e,n){const s=n.docs.get(e._key),a=new Jy(t);return new Ea(t,a,e._key,s,new Cc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){V6(ol),$o(new Aa("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Zo(new j6(s.getProvider("auth-internal")),new B6(u,s.getProvider("app-check-internal")),sP(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),wr(CE,RE,e),wr(CE,RE,"esm2020")})();const t9={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},vC=JS(t9),pg=k6(vC),n9=new Ts,qo=BL(vC),bC=k.createContext(void 0);function i9({children:t}){const[e,n]=k.useState(null),[s,a]=k.useState(!0);k.useEffect(()=>{const f=vO(pg,m=>{n(m),a(!1)});return()=>f()},[]);const l=async()=>{try{await UO(pg,n9)}catch(f){console.error("Error signing in with Google",f)}},u=async()=>{try{await bO(pg)}catch(f){console.error("Error signing out",f)}};return v.jsx(bC.Provider,{value:{user:e,loading:s,signInWithGoogle:l,logout:u},children:!s&&t})}function Oa(){const t=k.useContext(bC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const gg={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0},ad="study-tracker-data",_C=k.createContext(void 0);function s9({children:t}){const{user:e}=Oa(),[n,s]=k.useState(()=>{try{const Q=localStorage.getItem(ad);if(Q){const ee=JSON.parse(Q);if(ee.userProfile)return ee.userProfile}}catch(Q){console.error("Failed to load user profile:",Q)}return gg}),[a,l]=k.useState(()=>{try{const Q=localStorage.getItem(ad);if(Q){const ee=JSON.parse(Q);if(ee.subjects)return ee.subjects.map(N=>({...N,chapters:N.chapters.map(S=>({...S,topics:S.topics||[]}))}))}}catch(Q){console.error("Failed to load subjects:",Q)}return[]});k.useEffect(()=>{if(e){const Q=g0(qo,"users",e.uid),ee=gC(Q,N=>{if(N.exists()){const S=N.data();S.userProfile&&s(S.userProfile),S.subjects&&l(S.subjects)}else{const S={userProfile:gg,subjects:[]};try{const R=localStorage.getItem(ad);if(R){const M=JSON.parse(R);M.userProfile&&(S.userProfile=M.userProfile),M.subjects&&(S.subjects=M.subjects.map(V=>({...V,chapters:V.chapters.map(B=>({...B,topics:B.topics||[]}))})))}}catch(R){console.error("Error reading local storage for migration:",R)}DE(Q,S).catch(R=>console.error("Migration failed",R))}},N=>{console.error("Firestore sync error:",N)});return()=>ee()}},[e]);const u=async(Q,ee)=>{if(s(Q),l(ee),e)try{await DE(g0(qo,"users",e.uid),{userProfile:Q,subjects:ee})}catch(N){console.error("Failed to save to cloud:",N)}else localStorage.setItem(ad,JSON.stringify({userProfile:Q,subjects:ee}))},f=Q=>{u({...n,...Q},a)},m=Q=>{const ee=crypto.randomUUID(),N={...Q,id:ee,chapters:[]};u(n,[...a,N])},p=Q=>{u(n,a.filter(ee=>ee.id!==Q))},y=(Q,ee)=>{const N=a.map(S=>S.id===Q?{...S,chapters:[...S.chapters,{id:crypto.randomUUID(),name:ee,isCompleted:!1,topics:[]}]}:S);u(n,N)},_=(Q,ee)=>{const N=a.map(S=>S.id===Q?{...S,chapters:S.chapters.map(R=>R.id===ee?{...R,isCompleted:!R.isCompleted,completedAt:R.isCompleted?null:new Date().toISOString()}:R)}:S);u(n,N)},T=(Q,ee)=>{const N=a.map(S=>S.id===Q?{...S,chapters:S.chapters.filter(R=>R.id!==ee)}:S);u(n,N)},A=(Q,ee,N)=>{const S=a.map(R=>R.id===Q?{...R,chapters:R.chapters.map(M=>M.id===ee?{...M,topics:[...M.topics,{id:crypto.randomUUID(),name:N,isCompleted:!1,completedAt:null}]}:M)}:R);u(n,S)},I=(Q,ee,N)=>{const S=a.map(R=>R.id===Q?{...R,chapters:R.chapters.map(M=>{if(M.id===ee){const V=M.topics.map(D=>D.id===N?{...D,isCompleted:!D.isCompleted,completedAt:D.isCompleted?null:new Date().toISOString()}:D),B=V.length>0&&V.every(D=>D.isCompleted);return{...M,topics:V,isCompleted:B,completedAt:B?new Date().toISOString():null}}return M})}:R);u(n,S)},O=(Q,ee,N)=>{const S=a.map(R=>R.id===Q?{...R,chapters:R.chapters.map(M=>M.id===ee?{...M,topics:M.topics.filter(V=>V.id!==N)}:M)}:R);u(n,S)},j=()=>{const Q={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},ee=new Blob([JSON.stringify(Q,null,2)],{type:"application/json"}),N=URL.createObjectURL(ee),S=document.createElement("a");S.href=N,S.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(N)},z=Q=>{try{const ee=JSON.parse(Q);return ee.userProfile&&Array.isArray(ee.subjects)?(u(ee.userProfile,ee.subjects),!0):(alert("Invalid backup file format."),!1)}catch(ee){return console.error("Import error:",ee),alert("Failed to parse backup file."),!1}},H=Q=>{const ee=Q.map(N=>({id:crypto.randomUUID(),name:N.name,color:N.color,icon:N.icon,chapters:N.chapters.map(R=>({id:crypto.randomUUID(),name:R.name,isCompleted:!1,completedAt:null,topics:R.topics.map(V=>({id:crypto.randomUUID(),name:V.name,isCompleted:!1,completedAt:null}))}))}));u(n,[...a,...ee])},K=()=>{confirm("Are you sure you want to reset all data?")&&u(gg,[])},oe=async(Q,ee)=>{const N=new Date,S=N.toISOString().split("T")[0],R=(n.totalStudyTime||0)+Q;let M=n.currentStreak||0,V=n.lastStudyDate;if(V!==S){const _e=new Date;_e.setDate(_e.getDate()-1);const De=_e.toISOString().split("T")[0];V===De?M+=1:M=1,V=S}const B=[...n.earnedBadges||[]],D=[],Ge=N.getHours(),ye=Ge>=22||Ge<4,X=B.some(_e=>_e.type==="night_owl");ye&&!X&&D.push({type:"night_owl",earnedAt:N.toISOString()});const ae=B.some(_e=>_e.type==="streak_master");M>=3&&!ae&&D.push({type:"streak_master",earnedAt:N.toISOString()});const ue={...n,totalStudyTime:R,currentStreak:M,lastStudyDate:V,earnedBadges:[...B,...D]};if(f(ue),e)try{await pC(Zd(qo,"study_sessions"),{userId:e.uid,userName:e.displayName||n.name,startTime:new Date(Date.now()-Q*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:Q,subjectId:ee||null,createdAt:new Date().toISOString()})}catch(_e){console.error("Error saving study session:",_e)}};return v.jsx(_C.Provider,{value:{userProfile:n,subjects:a,updateProfile:f,addSubject:m,deleteSubject:p,addChapter:y,toggleChapter:_,deleteChapter:T,addTopic:A,toggleTopic:I,deleteTopic:O,resetData:K,exportData:j,importData:z,importSyllabusData:H,saveStudySession:oe},children:t})}function ei(){const t=k.useContext(_C);if(t===void 0)throw new Error("useStudy must be used within a StudyProvider");return t}const xC=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const r9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const a9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const ME=t=>{const e=a9(t);return e.charAt(0).toUpperCase()+e.slice(1)};var o9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const l9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const c9=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},m)=>k.createElement("svg",{ref:m,...o9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:xC("lucide",a),...!l&&!l9(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,y])=>k.createElement(p,y)),...Array.isArray(l)?l:[l]]));const Te=(t,e)=>{const n=k.forwardRef(({className:s,...a},l)=>k.createElement(c9,{ref:l,iconNode:e,className:xC(`lucide-${r9(ME(t))}`,`lucide-${t}`,s),...a}));return n.displayName=ME(t),n};const u9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],h9=Te("arrow-left",u9);const d9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],TC=Te("arrow-right",d9);const f9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],EC=Te("award",f9);const m9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],p9=Te("bell-off",m9);const g9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],y9=Te("bell",g9);const v9=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],y0=Te("book-marked",v9);const b9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jn=Te("book-open",b9);const _9=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],x9=Te("book",_9);const T9=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],E9=Te("bug",T9);const w9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],S9=Te("chart-column",w9);const A9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],C9=Te("chart-pie",A9);const R9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],N9=Te("check",R9);const k9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],I9=Te("chevron-down",k9);const D9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],M9=Te("chevron-left",D9);const V9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],O9=Te("chevron-right",V9);const P9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vu=Te("circle-check",P9);const j9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],v0=Te("circle-user",j9);const L9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U9=Te("circle",L9);const B9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],z9=Te("clock",B9);const F9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],wC=Te("download",F9);const H9=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],q9=Te("flame",H9);const G9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$9=Te("globe",G9);const K9=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],SC=Te("graduation-cap",K9);const Y9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],VE=Te("layout-dashboard",Y9);const Q9=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],OE=Te("list",Q9);const X9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],AC=Te("log-out",X9);const W9=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],tf=Te("message-circle",W9);const J9=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Z9=Te("monitor",J9);const eU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nf=Te("moon",eU);const tU=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],nU=Te("pause",tU);const iU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],sU=Te("play",iU);const rU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eu=Te("plus",rU);const aU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],CC=Te("rotate-ccw",aU);const oU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sf=Te("save",oU);const lU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cU=Te("search",lU);const uU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hU=Te("send",uU);const dU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yg=Te("settings",dU);const fU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mU=Te("shield",fU);const pU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],PE=Te("square-pen",pU);const gU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],b0=Te("sun",gU);const yU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],vU=Te("target",yU);const bU=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],_0=Te("timer",bU);const _U=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],If=Te("trash-2",_U);const xU=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],x0=Te("trending-up",xU);const TU=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],rf=Te("trophy",TU);const EU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wU=Te("upload",EU);const SU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],AU=Te("user",SU);const CU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],RC=Te("volume-2",CU);const RU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],NC=Te("volume-x",RU);const NU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Df=Te("x",NU);const kU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],IU=Te("zap",kU),DU=Ae($t);function MU({subject:t,index:e=0}){const n=t.chapters.length,s=t.chapters.filter(u=>u.isCompleted).length;let a=0;t.chapters.forEach(u=>{u.topics&&u.topics.length>0?a+=u.topics.filter(f=>f.isCompleted).length/u.topics.length*100:a+=u.isCompleted?100:0});const l=n===0?0:Math.round(a/n);return v.jsxs(DU,{to:`/subject/${t.id}`,whileHover:{y:-5,transition:{duration:.2}},whileTap:{scale:.98},className:"group block bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-lg hover:border-blue-100 dark:hover:border-blue-900 transition-all",children:[v.jsxs("div",{className:"flex items-start justify-between mb-4",children:[v.jsx(Ae.div,{whileHover:{rotate:15,scale:1.1},className:`w-12 h-12 rounded-xl ${t.color} flex items-center justify-center text-white shadow-sm`,children:v.jsx(Jn,{className:"w-6 h-6"})}),v.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 px-2 py-1 rounded-lg text-xs font-semibold text-slate-600 dark:text-slate-300 transition-colors",children:[l,"%"]})]}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:t.name}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Jn,{className:"w-3.5 h-3.5"}),n," ",n===1?"Chapter":"Chapters"]}),s>0&&v.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400",children:[v.jsx(vu,{className:"w-3.5 h-3.5"}),s," Done"]})]}),v.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:v.jsx(Ae.div,{initial:{width:0},animate:{width:`${l}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color}`})}),v.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:["View Details ",v.jsx(TC,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})}function jo({title:t,value:e,icon:n,colorClass:s,bgClass:a,delay:l=0}){return v.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[v.jsx(n,{className:`w-4 h-4 ${s}`})," ",t]}),v.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),v.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:v.jsx(n,{className:`w-6 h-6 ${s}`})})]})}const jE=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function VU({onClose:t}){const{addSubject:e}=ei(),[n,s]=k.useState(""),[a,l]=k.useState(jE[0]),u=f=>{f.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[v.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[v.jsx(x9,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),v.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:v.jsx(Df,{className:"w-5 h-5"})})]}),v.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),v.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:f=>s(f.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:jE.map(f=>v.jsx("button",{type:"button",onClick:()=>l(f),className:`w-8 h-8 rounded-full ${f} transition-all ${a===f?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},f))})]}),v.jsx("div",{className:"pt-2",children:v.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[v.jsx(sf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const OU={start_strong:{icon:vu,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:q9,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:EC,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:nf,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function PU({type:t,isLocked:e=!1,dateEarned:n}){const s=OU[t],a=s.icon,[l,u]=k.useState(!1);return v.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>u(!l),children:[v.jsx(Ae.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${s.color} border-transparent`}`,children:v.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),v.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:s.label}),l&&v.jsxs(Ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[v.jsx("p",{className:"font-semibold",children:s.label}),v.jsx("p",{className:"text-slate-300",children:s.description}),!e&&n&&v.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function jU(){const{updateProfile:t}=ei(),[e,n]=k.useState(""),[s,a]=k.useState(""),l=u=>{if(u.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:s.trim()||"Not specified"})};return v.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:v.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[v.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[v.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),v.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),v.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[v.jsx(v0,{className:"w-4 h-4"}),"Your Name ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",value:e,onChange:u=>n(u.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[v.jsx(SC,{className:"w-4 h-4"}),"Class / Grade"]}),v.jsx("input",{type:"text",value:s,onChange:u=>a(u.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),v.jsx("div",{className:"pt-2",children:v.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}const LE={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},vg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function LU(){const{userProfile:t,subjects:e}=ei(),[n,s]=k.useState(!1),a=t.name==="Student",l=e.reduce((p,y)=>p+y.chapters.length,0),u=e.reduce((p,y)=>p+y.chapters.filter(_=>_.isCompleted).length,0);let f=0;e.forEach(p=>{p.chapters.forEach(y=>{y.topics&&y.topics.length>0?f+=y.topics.filter(_=>_.isCompleted).length/y.topics.length*100:f+=y.isCompleted?100:0})});const m=l===0?0:Math.round(f/l);return v.jsxs(Ae.div,{className:"space-y-8",variants:LE,initial:"hidden",animate:"show",exit:"exit",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:["Welcome back, ",v.jsx("span",{className:"bg-gradient-to-r from-blue-700 to-teal-600 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),"!"]}),v.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-1 transition-colors",children:["You're currently in ",v.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:t.grade}),". Let's make progress!"]})]}),v.jsxs(Ae.button,{id:"add-subject-btn",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-xl font-medium flex items-center justify-center gap-2 shadow-sm transition-colors",children:[v.jsx(eu,{className:"w-5 h-5"}),"Add Subject"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs(Ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"md:col-span-1 bg-gradient-to-br from-blue-600 to-blue-700 dark:from-blue-700 dark:to-blue-800 rounded-2xl p-6 text-white text-center md:text-left relative overflow-hidden shadow-lg shadow-blue-500/20",children:[v.jsxs("div",{className:"relative z-10",children:[v.jsxs("h3",{className:"text-blue-100 font-medium mb-1 flex items-center justify-center md:justify-start gap-2",children:[v.jsx(C9,{className:"w-4 h-4"})," Overall Syllabus"]}),v.jsxs("div",{className:"text-4xl font-bold mb-2",children:[m,"%"]}),v.jsxs("p",{className:"text-blue-100 text-sm",children:["Completed across ",e.length," subjects"]})]}),v.jsx("div",{className:"absolute -right-6 -bottom-6 w-32 h-32 bg-white/10 rounded-full blur-2xl"})]}),v.jsx(jo,{title:"Chapters Completed",value:u,icon:rf,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.1}),v.jsx(jo,{title:"Chapters Pending",value:l-u,icon:y0,colorClass:"text-violet-500",bgClass:"bg-violet-50 dark:bg-violet-900/20",delay:.2})]}),t.earnedBadges&&t.earnedBadges.length>0&&v.jsxs(Ae.div,{variants:vg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[v.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[v.jsx(rf,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),v.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,y)=>v.jsx(PU,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${y}`))})]}),v.jsxs("div",{children:[v.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",v.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?v.jsxs(Ae.div,{variants:LE,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((p,y)=>v.jsx(Ae.div,{variants:vg,children:v.jsx(MU,{subject:p,index:y})},p.id)),v.jsxs(Ae.button,{variants:vg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>s(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:v.jsx(eu,{className:"w-6 h-6"})}),v.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):v.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[v.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(y0,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),v.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),v.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&v.jsx(VU,{onClose:()=>s(!1)}),a&&v.jsx(jU,{})]})}function UU({subjectId:t,onClose:e}){const{addChapter:n}=ei(),[s,a]=k.useState(""),l=u=>{u.preventDefault(),s.trim()&&(n(t,s.trim()),a(""))};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[v.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[v.jsx(y0,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:v.jsx(Df,{className:"w-5 h-5"})})]}),v.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),v.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),v.jsx("input",{autoFocus:!0,type:"text",value:s,onChange:u=>a(u.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),v.jsxs("div",{className:"flex gap-3 pt-2",children:[v.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),v.jsxs("button",{type:"submit",disabled:!s.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[v.jsx(eu,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const BU={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function bu({children:t,className:e=""}){return v.jsx(Ae.div,{variants:BU,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const kC=k.createContext(void 0);function zU({children:t}){const[e,n]=k.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),s=k.useRef(null);k.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{s.current||(s.current=new(window.AudioContext||window.webkitAudioContext)),s.current.state==="suspended"&&s.current.resume()},l=p=>{if(e)return;s.current||(s.current=new(window.AudioContext||window.webkitAudioContext));const y=s.current,_=y.createOscillator(),T=y.createGain();_.connect(T),T.connect(y.destination);const A=y.currentTime;switch(p){case"pop":_.type="sine",_.frequency.setValueAtTime(800,A),_.frequency.exponentialRampToValueAtTime(1200,A+.1),T.gain.setValueAtTime(.1,A),T.gain.exponentialRampToValueAtTime(.01,A+.1),_.start(A),_.stop(A+.1);break;case"success":u(y,523.25,A,.1,"sine"),u(y,659.25,A+.1,.1,"sine"),u(y,783.99,A+.2,.2,"sine");break;case"complete":_.type="triangle",_.frequency.setValueAtTime(440,A),_.frequency.linearRampToValueAtTime(880,A+.5),T.gain.setValueAtTime(.1,A),T.gain.linearRampToValueAtTime(.3,A+.2),T.gain.linearRampToValueAtTime(0,A+1.5),_.start(A),_.stop(A+1.5);break;case"click":_.type="square",_.frequency.setValueAtTime(200,A),T.gain.setValueAtTime(.05,A),T.gain.exponentialRampToValueAtTime(.01,A+.05),_.start(A),_.stop(A+.05);break;case"error":_.type="sawtooth",_.frequency.setValueAtTime(150,A),_.frequency.linearRampToValueAtTime(100,A+.2),T.gain.setValueAtTime(.1,A),T.gain.linearRampToValueAtTime(0,A+.3),_.start(A),_.stop(A+.3);break}},u=(p,y,_,T,A="sine")=>{const I=p.createOscillator(),O=p.createGain();I.connect(O),O.connect(p.destination),I.type=A,I.frequency.setValueAtTime(y,_),O.gain.setValueAtTime(.1,_),O.gain.exponentialRampToValueAtTime(.01,_+T),I.start(_),I.stop(_+T)},f=p=>{s.current?.state==="suspended"&&s.current.resume().catch(()=>{}),l(p)},m=()=>{n(p=>!p),e&&a()};return v.jsx(kC.Provider,{value:{isMuted:e,toggleMute:m,playSound:f},children:t})}function rv(){const t=k.useContext(kC);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function FU({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:s,deleteTopic:a}=ei(),{playSound:l}=rv();return v.jsxs(Ae.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[v.jsx(Ae.button,{whileTap:{scale:.8},onClick:()=>{s(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:v.jsx(vu,{className:"w-3 h-3"})}),v.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),v.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"opacity-0 group-hover/topic:opacity-100 p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",children:v.jsx(If,{className:"w-3.5 h-3.5"})})]})}function IC({subjectId:t,chapter:e,isExpanded:n,onToggle:s}){const{deleteChapter:a,addTopic:l}=ei(),[u,f]=k.useState(!1),m=p=>{p.preventDefault();const y=p.target.elements.namedItem("topicName");y.value.trim()&&(l(t,e.id,y.value.trim()),y.value="",f(!1))};return v.jsxs("div",{className:"group transition-colors",children:[v.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:s,children:[v.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:v.jsx(Ae.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:v.jsx(I9,{className:"w-5 h-5"})})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),v.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[v.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(p=>p.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&v.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[v.jsx(vu,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&v.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:v.jsx(Ae.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(p=>p.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),v.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[v.jsx(Ae.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),f(!0),n||s()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:v.jsx(eu,{className:"w-4 h-4"})}),v.jsx(Ae.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:v.jsx(If,{className:"w-4 h-4"})})]})]}),v.jsx(au,{children:n&&v.jsx(Ae.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:v.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(p=>v.jsx(FU,{subjectId:t,chapterId:e.id,topic:p},p.id)):v.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),u&&v.jsxs(Ae.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:m,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[v.jsx(U9,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),v.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>f(!1),200)}),v.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})})]})}function HU(){const{id:t}=rk(),e=of(),{subjects:n,deleteSubject:s}=ei(),[a,l]=k.useState(!1),[u,f]=k.useState({}),m=n.find(O=>O.id===t);if(!m)return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[v.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(Jn,{className:"w-8 h-8 text-slate-300"})}),v.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),v.jsx($t,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const p=()=>{confirm(`Are you sure you want to delete ${m.name}? ALL progress will be lost.`)&&(s(m.id),e("/"))},y=O=>{f(j=>({...j,[O]:!j[O]}))},_=m.chapters.length,T=m.chapters.filter(O=>O.isCompleted).length;let A=0;m.chapters.forEach(O=>{O.topics&&O.topics.length>0?A+=O.topics.filter(j=>j.isCompleted).length/O.topics.length*100:A+=O.isCompleted?100:0});const I=_===0?0:Math.round(A/_);return v.jsxs(bu,{className:"max-w-3xl mx-auto pb-12",children:[v.jsxs("div",{className:"mb-8",children:[v.jsxs($t,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[v.jsx(h9,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),v.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${m.color}`,children:[v.jsx(Jn,{className:"w-3 h-3"}),m.name]}),v.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:m.name}),v.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[T," of ",_," chapters completed"]})]}),v.jsx("button",{onClick:p,className:"self-start text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:v.jsx(If,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"mt-6",children:[v.jsxs("div",{className:"flex justify-between items-end mb-2",children:[v.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[I,"%"]}),v.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),v.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:v.jsx(Ae.div,{initial:{width:0},animate:{width:`${I}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${m.color}`})})]})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[v.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[v.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),v.jsxs(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[v.jsx(eu,{className:"w-4 h-4"}),"Add Chapter"]})]}),v.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:m.chapters.length>0?m.chapters.map(O=>v.jsx(IC,{subjectId:m.id,chapter:O,isExpanded:!!u[O.id],onToggle:()=>y(O.id)},O.id)):v.jsxs("div",{className:"p-12 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:v.jsx(Jn,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),v.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&v.jsx(UU,{subjectId:m.id,onClose:()=>l(!1)})]})}const DC=k.createContext(void 0);function qU({children:t}){const[e,n]=k.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");k.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const s=()=>{n(a=>a==="light"?"dark":"light")};return v.jsx(DC.Provider,{value:{theme:e,toggleTheme:s},children:t})}function MC(){const t=k.useContext(DC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const bg=[{id:"hsc-science-2026",name:"HSC Science (2026)",subjects:[{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:"    "},{name:""},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"-"},{name:"   "},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:""}]},{name:"",topics:[]},{name:"",topics:[]}]},{name:"Physics 1st Paper",icon:"Zap",color:"text-violet-500",chapters:[{name:"Physical World and Measurement",topics:[{name:"Units"},{name:"Dimensions"}]},{name:"Vectors",topics:[{name:"Scalar & Vector"},{name:"Vector Addition"},{name:"Dot & Cross Product"}]},{name:"Dynamics",topics:[{name:"Newtons Laws"},{name:"Friction"},{name:"Banking of Roads"}]},{name:"Newtonian Mechanics",topics:[]},{name:"Work, Energy and Power",topics:[]},{name:"Gravitation and Gravity",topics:[]},{name:"Structural Properties of Matter",topics:[]},{name:"Periodic Motion",topics:[]},{name:"Ideal Gas and Kinetics of Gas",topics:[]}]},{name:"Physics 2nd Paper",icon:"Zap",color:"text-violet-500",chapters:[{name:"Thermodynamics",topics:[]},{name:"Static Electricity",topics:[]},{name:"Current Electricity",topics:[]},{name:"Magnetic Effects of Current",topics:[]},{name:"Electromagnetic Induction",topics:[]},{name:"Geometrical Optics",topics:[]},{name:"Physical Optics",topics:[]},{name:"Modern Physics",topics:[]},{name:"Atomic Model",topics:[]},{name:"Semiconductors",topics:[]}]},{name:"Chemistry 1st Paper",icon:"Beaker",color:"text-teal-500",chapters:[{name:"Qualitative Chemistry",topics:[]},{name:"Periodic Properties",topics:[]},{name:"Chemical Bonding",topics:[]},{name:"Chemical Changes",topics:[]},{name:"Work Oriented Chemistry",topics:[]}]},{name:"Chemistry 2nd Paper",icon:"Beaker",color:"text-teal-500",chapters:[{name:"Environmental Chemistry",topics:[]},{name:"Organic Chemistry",topics:[]},{name:"Quantitative Chemistry",topics:[]},{name:"Electrochemistry",topics:[]},{name:"Economic Chemistry",topics:[]}]},{name:"Higher Math 1st Paper",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Matrices and Determinants",topics:[]},{name:"Vectors",topics:[]},{name:"Straight Lines",topics:[]},{name:"Circle",topics:[]},{name:"Permutation and Combination",topics:[]},{name:"Trigonometry",topics:[]},{name:"Functions",topics:[]},{name:"Differentiation",topics:[]},{name:"Integration",topics:[]}]},{name:"Higher Math 2nd Paper",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Real Numbers",topics:[]},{name:"Linear Programming",topics:[]},{name:"Complex Numbers",topics:[]},{name:"Polynomials",topics:[]},{name:"Binomial Expansion",topics:[]},{name:"Conics",topics:[]},{name:"Inverse Trigonometry",topics:[]},{name:"Statics",topics:[]},{name:"Dynamics",topics:[]},{name:"Probability",topics:[]}]},{name:"Biology 1st Paper",icon:"Dna",color:"text-green-500",chapters:[{name:"Cell and its Structure",topics:[]},{name:"Cell Division",topics:[]},{name:"Cell Chemistry",topics:[]},{name:"Bioenergetics",topics:[]},{name:"Algae and Fungi",topics:[]},{name:"Bryophyta and Pteridophyta",topics:[]},{name:"Naked Seed and Covered Seed Plants",topics:[]},{name:"Tissue and Tissue System",topics:[]},{name:"Plant Physiology",topics:[]},{name:"Plant Reproduction",topics:[]},{name:"Biotechnology",topics:[]}]},{name:"Biology 2nd Paper",icon:"Dna",color:"text-green-500",chapters:[{name:"Animal Diversity and Classification",topics:[]},{name:"Introduction to Animal",topics:[]},{name:"Digestion and Absorption",topics:[]},{name:"Blood and Circulation",topics:[]},{name:"Breathing and Respiration",topics:[]},{name:"Excretion and Osmoregulation",topics:[]},{name:"Locomotion and Movement",topics:[]},{name:"Coordination and Control",topics:[]},{name:"Human Reproduction",topics:[]},{name:"Human Immunity",topics:[]},{name:"Genetics and Evolution",topics:[]},{name:"Animal Behavior",topics:[]}]},{name:"ICT",icon:"Cpu",color:"text-indigo-500",chapters:[{name:"Information and Communication Technology: World and Bangladesh",topics:[]},{name:"Communication Systems and Networking",topics:[]},{name:"Number Systems and Digital Devices",topics:[]},{name:"Web Design and HTML",topics:[]},{name:"Programming Language (C)",topics:[]},{name:"Database Management System",topics:[]}]},{name:"Bangla 2nd Paper",icon:"Book",color:"text-emerald-500",chapters:[{name:"Grammar",topics:[{name:"Pronunciation Rules"},{name:"Spelling Rules"},{name:"Word Formation"},{name:"Sentence"},{name:"Bangla Opoproyog"}]},{name:"Composition",topics:[{name:"Translation"},{name:"Protocol & Report"},{name:"Letter Writing"},{name:"Summary & Essence"},{name:"Dialogue & Short Story"},{name:"Essay"}]}]}]},{id:"ssc-science-2026",name:"SSC Science (2026)",subjects:[{name:"Bangla 1st Paper",icon:"Book",color:"text-emerald-500",chapters:[{name:"Guddo (Prose)",topics:[{name:"Shuva"},{name:"Boi Pora"},{name:"Abhagir Sorgo"},{name:"Am Aatir Bhepu"},{name:"Manush Muhammad (SM)"},{name:"Nim Gach"},{name:"Upekhito Shoktir Udhodon"},{name:"Shikhka O Manushotto"},{name:"Prabas Bondhu"},{name:"Momotadi"},{name:"Pohela Boishakh"},{name:"Ekattorer Dinguli"},{name:"Sahittyer Rup O Riti"}]},{name:"Poddo (Poetry)",topics:[{name:"Bongobani"},{name:"Kopotakkho Nod"},{name:"Jibon Sangeet"},{name:"Juta Abishkar"},{name:"Jharnaar Gaan"},{name:"Manush"},{name:"Sei Din Ei Math"},{name:"Polli Jononi"},{name:"Asha"},{name:"Amim Kono Agontuk Noi"},{name:"Ranar"},{name:"Tomake Pabar Jonno He Swadhinota"},{name:"Amar Porichoy"},{name:"Swadhinata Ei Sobdoti Kibhabe Amader Holo"}]},{name:"Sahopath (Novel & Drama)",topics:[{name:"Kak-tarua (Novel)"},{name:"Bohipir (Drama)"}]}]},{name:"Bangla 2nd Paper",icon:"Book",color:"text-emerald-500",chapters:[{name:"Grammar",topics:[{name:"Phonetics & Letters (Ch 5-8)"},{name:"Word Formation (Ch 9-12)"},{name:"Parts of Speech (Ch 17-25)"},{name:"Sentence (Ch 31-34)"},{name:"Semantics (Ch 39-43)"}]},{name:"Composition",topics:[{name:"Paragraph"},{name:"Summary & Essence"},{name:"Elaboration"},{name:"Letter Writing"},{name:"News Report"},{name:"Essay"}]}]},{name:"Bangladesh & Global Studies",icon:"Globe",color:"text-rose-500",chapters:[{name:"History",topics:[{name:"History of Bengal"},{name:"Independent Bangladesh"}]},{name:"Geography",topics:[{name:"Solar System & Earth"},{name:"Physiography of Bangladesh"},{name:"Rivers & Climate"}]},{name:"Civics",topics:[{name:"State & Government"},{name:"Constitution"},{name:"Democracy"}]},{name:"Economics",topics:[{name:"Economic Indicators"},{name:"Resources"}]},{name:"Sociology",topics:[{name:"Family & Socialization"},{name:"Social Problems"}]}]},{name:"Islam & Moral Education",icon:"Moon",color:"text-teal-600",chapters:[{name:"Aqaid & Moral Life",topics:[{name:"Islam"},{name:"Iman"},{name:"Tawhid"},{name:"Kufr"},{name:"Shirk"},{name:"Akhirat"}]},{name:"Shariahs Sources",topics:[{name:"Al-Quran"},{name:"Hadith"},{name:"IJma"},{name:"Qiyas"}]},{name:"Ibadat",topics:[{name:"Salat"},{name:"Sawm"},{name:"Hajj"},{name:"Zakat"}]},{name:"Akhlaq",topics:[{name:"Akhlaq-e-Hamidah"},{name:"Akhlaq-e-Sayyiah"}]},{name:"Ideal Lives",topics:[{name:"Prophet Muhammad (SM)"},{name:"Khulafa-e-Rashideen"},{name:"Muslim Scholars"}]}]},{name:"Physics",icon:"Zap",color:"text-violet-500",chapters:[{name:"Physical Quantities and Their Measurement",topics:[]},{name:"Motion",topics:[]},{name:"Force",topics:[]},{name:"Work, Power and Energy",topics:[]},{name:"State of Matter and Pressure",topics:[]},{name:"Effect of Heat on Matter",topics:[]},{name:"Waves and Sound",topics:[]},{name:"Reflection of Light",topics:[]},{name:"Refraction of Light",topics:[]},{name:"Static Electricity",topics:[]},{name:"Current Electricity",topics:[]},{name:"Magnetic Effect of Current",topics:[]},{name:"Modern Physics and Electronics",topics:[]},{name:"Previously Saved Lives",topics:[]}]},{name:"Chemistry",icon:"Beaker",color:"text-teal-500",chapters:[{name:"Concept of Chemistry",topics:[]},{name:"State of Matter",topics:[]},{name:"Structure of Matter",topics:[]},{name:"Periodic Table",topics:[]},{name:"Chemical Bond",topics:[]},{name:"Mole and Chemical Equation",topics:[]},{name:"Chemical Reaction",topics:[]},{name:"Chemistry and Energy",topics:[]},{name:"Acid-Base Balance",topics:[]},{name:"Mineral Resources: Metal-Nonmetal",topics:[]},{name:"Mineral Resources: Fossils",topics:[]},{name:"Chemistry in Our Lives",topics:[]}]},{name:"Higher Math",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Set And Function",topics:[]},{name:"Algebraic Expression",topics:[]},{name:"Geometry",topics:[]},{name:"Geometric Construction",topics:[]},{name:"Equation",topics:[]},{name:"Inequality",topics:[]},{name:"Infinite Series",topics:[]},{name:"Trigonometry",topics:[]},{name:"Exponent and Logarithm",topics:[]},{name:"Binomial Expansion",topics:[]},{name:"Coordinate Geometry",topics:[]},{name:"Planar Vector",topics:[]},{name:"Solid Geometry",topics:[]},{name:"Probability",topics:[]}]},{name:"General Math",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Real Number",topics:[]},{name:"Set and Function",topics:[]},{name:"Algebraic Expression",topics:[]},{name:"Exponents and Logarithms",topics:[]},{name:"Equation in One Variable",topics:[]},{name:"Lines, Angles, and Triangles",topics:[]},{name:"Practical Geometry",topics:[]},{name:"Circle",topics:[]},{name:"Trigonometric Ratio",topics:[]},{name:"Distance and Elevation",topics:[]},{name:"Algebraic Ratio and Proportion",topics:[]},{name:"Simple Simultaneous Equations in Two Variables",topics:[]},{name:"Finite Series",topics:[]},{name:"Ratio, Symmetry, and Rotation",topics:[]},{name:"Area Related Theorems and Constructions",topics:[]},{name:"Mensurement",topics:[]},{name:"Statistics",topics:[]}]},{name:"Biology",icon:"Dna",color:"text-green-500",chapters:[{name:"Lessons on Life",topics:[]},{name:"Cells and Tissues of Organisms",topics:[]},{name:"Cell Division",topics:[]},{name:"Bioenergetics",topics:[]},{name:"Food, Nutrition and Digestion",topics:[]},{name:"Transport in Organisms",topics:[]},{name:"Gas Exchange",topics:[]},{name:"Excretion",topics:[]},{name:"Firmness and Locomotion",topics:[]},{name:"Coordination",topics:[]},{name:"Reproduction in Organisms",topics:[]},{name:"Heredity in Organisms and Evolution",topics:[]},{name:"Environment of Organisms",topics:[]},{name:"Biotechnology",topics:[]}]}]},{id:"hsc-science-2026-bn",name:"HSC Science (Bangla Medium)",subjects:[{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:" "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "}]}]},{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Zap",color:"text-violet-500",chapters:[{name:"   ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:",   ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"    ",topics:[]}]},{name:"  ",icon:"Zap",color:"text-violet-500",chapters:[{name:"",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]}]},{name:"  ",icon:"Beaker",color:"text-teal-500",chapters:[{name:"  ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]},{name:"  ",icon:"Beaker",color:"text-teal-500",chapters:[{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]},{name:"   ",icon:"Calculator",color:"text-blue-500",chapters:[{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]}]},{name:"   ",icon:"Calculator",color:"text-blue-500",chapters:[{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"   ",topics:[]}]},{name:"  ",icon:"Dna",color:"text-green-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]}]},{name:"  ",icon:"Dna",color:"text-green-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]}]},{name:"   ",icon:"Cpu",color:"text-indigo-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]}]},{id:"ssc-science-2026-bn",name:"SSC Science (Bangla Medium)",subjects:[{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:" "},{name:" "},{name:"  "},{name:"  (.)"},{name:""},{name:"  "},{name:"  "},{name:" "},{name:""},{name:" "},{name:" "},{name:"   "}]},{name:"",topics:[{name:""},{name:" "},{name:"-"},{name:"-"},{name:" "},{name:""},{name:"  "},{name:""},{name:""},{name:"   "},{name:""},{name:"  ,  "},{name:" "},{name:",     "}]},{name:"",topics:[{name:" ()"},{name:" ()"}]}]},{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:"  "},{name:"   "},{name:"   "},{name:""},{name:" "},{name:"  "},{name:""},{name:""},{name:""},{name:"  "}]},{name:"",topics:[{name:""},{name:" / "},{name:""},{name:""},{name:""},{name:""}]}]},{name:"",icon:"Zap",color:"text-violet-500",chapters:[{name:"   ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:",   ",topics:[]},{name:"   ",topics:[]},{name:"   ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]}]},{name:"",icon:"Beaker",color:"text-teal-500",chapters:[{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"- ",topics:[]},{name:" : -",topics:[]},{name:" : ",topics:[]},{name:"  ",topics:[]}]},{name:" ",icon:"Calculator",color:"text-blue-500",chapters:[{name:"  ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]}]},{name:" ",icon:"Calculator",color:"text-blue-500",chapters:[{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:",   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"   ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:",   ",topics:[]},{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]}]},{name:"",icon:"Dna",color:"text-green-500",chapters:[{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:",   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"   ",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]}]},{name:"  ",icon:"Globe",color:"text-rose-500",chapters:[{name:"     ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"   ",topics:[]},{name:" -   ",topics:[]},{name:",   ",topics:[]},{name:"  ",topics:[]},{name:"   ",topics:[]},{name:"  ",topics:[]},{name:"   (SDG)",topics:[]},{name:"    ",topics:[]},{name:"  ",topics:[]},{name:"     ",topics:[]},{name:"    ",topics:[]},{name:"  ",topics:[]},{name:"     ",topics:[]}]},{name:"   ",icon:"Moon",color:"text-teal-600",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:" ",topics:[]}]}]}];function GU({onClose:t}){const[e,n]=k.useState(bg[0].id),[s,a]=k.useState(new Set),l=bg.find(m=>m.id===e),u=m=>{const p=new Set(s);p.has(m)?p.delete(m):p.add(m),a(p)},f=()=>{if(l)if(s.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(p=>p.name));a(m)}};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[v.jsx(Jn,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),v.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:v.jsx(Df,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[v.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[v.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),v.jsx("div",{className:"space-y-2",children:bg.map(m=>v.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),v.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),v.jsx("button",{onClick:f,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:s.size===l?.subjects.length?"Deselect All":"Select All"})]}),v.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>v.jsxs("div",{onClick:()=>u(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${s.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[v.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${s.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:s.has(m.name)&&v.jsx(N9,{className:"w-3.5 h-3.5 text-white"})}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("span",{className:`font-semibold ${s.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),v.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),v.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},m.name))})]})]}),v.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[v.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),v.jsx($U,{count:s.size,currentTemplate:l,selectedSubjects:s,onClose:t})]})]})})}function $U({count:t,currentTemplate:e,selectedSubjects:n,onClose:s}){const{importSyllabusData:a}=ei(),l=()=>{if(t===0||!e)return;const u=e.subjects.filter(f=>n.has(f.name));a(u),s()};return v.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[v.jsx(wC,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function KU(){const{user:t,logout:e}=Oa(),{userProfile:n,updateProfile:s,resetData:a,exportData:l,importData:u}=ei(),{isMuted:f,toggleMute:m}=rv(),{theme:p,toggleTheme:y}=MC(),_=k.useRef(null),T=k.useRef(null),[A,I]=k.useState(!1),[O,j]=k.useState(!1),[z,H]=k.useState("Notification"in window&&Notification.permission==="granted"),K=()=>{const N=_.current?.value.trim()||"",S=T.current?.value.trim()||"";if(!N){alert("Please enter your name");return}s({name:N,grade:S}),j(!1),alert(` Profile updated successfully!

You can update your profile anytime.`)},oe=()=>{const N=document.createElement("input");N.type="file",N.accept=".json",N.onchange=S=>{const R=S.target.files?.[0];if(R){const M=new FileReader;M.onload=V=>{const B=V.target?.result;u(B)&&alert("Data imported successfully!")},M.readAsText(R)}},N.click()},Q=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},ee=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")H(!z);else if(Notification.permission!=="denied"){const N=await Notification.requestPermission();H(N==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return v.jsxs(bu,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx(v0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),v.jsxs(Ae.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[v.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:v.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[v.jsx(v0,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),v.jsxs("div",{className:"p-6 space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),v.jsx("input",{ref:_,type:"text",defaultValue:n?.name||"",disabled:!O,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${O?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),v.jsx("input",{ref:T,type:"text",defaultValue:n?.grade||"",disabled:!O,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${O?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),v.jsx("div",{className:"pt-2 flex gap-3",children:O?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>j(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),v.jsxs("button",{onClick:K,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[v.jsx(sf,{className:"w-4 h-4"}),"Save Changes"]})]}):v.jsxs("button",{onClick:()=>j(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[v.jsx(PE,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),v.jsxs(Ae.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[v.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:v.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[v.jsx(Z9,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),v.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[v.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`p-2 rounded-lg ${p==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:p==="dark"?v.jsx(nf,{className:"w-5 h-5"}):v.jsx(b0,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),v.jsx("button",{onClick:y,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p==="dark"?"bg-blue-600":"bg-slate-200"}`,children:v.jsx("span",{className:`${p==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),v.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`p-2 rounded-lg ${f?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:f?v.jsx(NC,{className:"w-5 h-5"}):v.jsx(RC,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),v.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${f?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:v.jsx("span",{className:`${f?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),v.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`p-2 rounded-lg ${z?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:z?v.jsx(y9,{className:"w-5 h-5"}):v.jsx(p9,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),v.jsx("button",{onClick:ee,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${z?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:v.jsx("span",{className:`${z?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),v.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:v.jsx($9,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),v.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[v.jsx("option",{children:"English"}),v.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),v.jsxs(Ae.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[v.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:v.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[v.jsx(sf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),v.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[v.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>I(!0),children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:v.jsx(Jn,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),v.jsx("button",{className:"text-slate-400",children:v.jsx(PE,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[v.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[v.jsx(wC,{className:"w-4 h-4"}),"Export Data"]}),v.jsxs("button",{onClick:oe,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[v.jsx(wU,{className:"w-4 h-4"}),"Import Data"]})]}),v.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:v.jsx(If,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),v.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),v.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),v.jsxs(Ae.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[v.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:v.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[v.jsx(mU,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),v.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[v.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:Q,children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:v.jsx(CC,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),v.jsx("a",{href:"https://github.com/shahnewajsrabon/Study-Mate/issues/new?title=Bug%3A%20&body=%23%23%20Bug%20Description",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:v.jsx(E9,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Help us improve by reporting issues"})]})]})}),v.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:v.jsx(tf,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),v.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:v.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&v.jsxs(Ae.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[v.jsx(AC,{className:"w-5 h-5"}),"Sign Out"]}),v.jsx(au,{children:A&&v.jsx(GU,{onClose:()=>I(!1)})})]})}function YU(t){let e=0,n=0,s=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(u=>{u.isCompleted&&n++,u.topics&&(s+=u.topics.length,u.topics.forEach(f=>{f.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:s,completedTopics:a}}function QU(t){const e=new Date,s=Array.from({length:7},(l,u)=>{const f=new Date;return f.setDate(e.getDate()-(6-u)),f.toISOString().split("T")[0]}).map(l=>{let u=0;return t.forEach(f=>{f.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&u++})})}),{date:l,count:u}}),a=Math.max(...s.map(l=>l.count),1);return{activityData:s,maxCount:a}}function XU(t){const e=new Set;t.forEach(f=>f.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((f,m)=>new Date(m).getTime()-new Date(f).getTime());let s=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const u=l.toISOString().split("T")[0];if(n.length>0){const f=n[0];if(f===a||f===u){s=1;let m=new Date(f);for(let p=1;p<n.length;p++){const y=new Date(n[p]),_=Math.abs(m.getTime()-y.getTime());if(Math.round(_/(1e3*60*60*24))===1)s++,m=y;else break}}}return s}function WU(){const{subjects:t}=ei(),{totalChapters:e,completedChapters:n,totalTopics:s,completedTopics:a}=YU(t),{activityData:l,maxCount:u}=QU(t),f=XU(t),m=s>0?Math.round(a/s*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return v.jsxs(bu,{className:"max-w-4xl mx-auto pb-12",children:[v.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[v.jsx(x0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),v.jsxs(Ae.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[v.jsx("div",{className:"sm:col-span-1",children:v.jsx(jo,{title:"Total Streak",value:`${f} days`,icon:EC,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),v.jsx("div",{className:"sm:col-span-1",children:v.jsx(jo,{title:"Topics Done",value:`${a} / ${s}`,icon:Jn,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),v.jsx("div",{className:"sm:col-span-1",children:v.jsx(jo,{title:"Chapters Done",value:`${n} / ${e}`,icon:rf,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),v.jsx("div",{className:"sm:col-span-1",children:v.jsx(jo,{title:"Completion",value:`${m}%`,icon:vu,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[v.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[v.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[v.jsx(S9,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),v.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((y,_)=>v.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[v.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:v.jsx(Ae.div,{initial:{height:0},animate:{height:`${y.count/u*100}%`},transition:{duration:1,delay:_*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:v.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[y.count," Topics"]})})}),v.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(y.date).toLocaleDateString("en-US",{weekday:"short"})})]},y.date))})]}),v.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[v.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[v.jsx(Jn,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),v.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(y=>{const _=y.chapters.reduce((I,O)=>I+(O.topics?.length||0),0),T=y.chapters.reduce((I,O)=>I+(O.topics?.filter(j=>j.isCompleted).length||0),0),A=_>0?Math.round(T/_*100):0;return v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:y.name}),v.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[A,"%"]})]}),v.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:v.jsx(Ae.div,{initial:{width:0},animate:{width:`${A}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${y.color}`})})]},y.id)}),t.length===0&&v.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function JU(){const{subjects:t}=ei(),[e,n]=k.useState(""),[s,a]=k.useState("all"),[l,u]=k.useState("all"),[f,m]=k.useState({}),p=t.flatMap(T=>T.chapters.map(A=>({...A,subjectName:T.name,subjectColor:T.color,subjectId:T.id}))),y=p.filter(T=>{const A=T.name.toLowerCase().includes(e.toLowerCase())||T.subjectName.toLowerCase().includes(e.toLowerCase()),I=s==="all"||T.subjectId===s,O=l==="all"||(l==="completed"?T.isCompleted:!T.isCompleted);return A&&I&&O}),_=T=>{m(A=>({...A,[T]:!A[T]}))};return v.jsxs(bu,{className:"max-w-4xl mx-auto pb-12",children:[v.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[v.jsx(Jn,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"All Chapters Tracker"]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-8 transition-colors",children:[v.jsxs("div",{className:"flex justify-between items-end mb-2",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Overall Progress"}),v.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm transition-colors",children:[p.filter(T=>T.isCompleted).length," of ",p.length," chapters completed"]})]}),v.jsxs("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 transition-colors",children:[p.length>0?Math.round(p.filter(T=>T.isCompleted).length/p.length*100):0,"%"]})]}),v.jsx("div",{className:"h-4 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:v.jsx(Ae.div,{initial:{width:0},animate:{width:`${p.length>0?Math.round(p.filter(T=>T.isCompleted).length/p.length*100):0}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-600 dark:bg-blue-500"})})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-6 flex flex-col md:flex-row gap-4 transition-colors",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(cU,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),v.jsx("input",{type:"text",placeholder:"Search chapters or subjects...",value:e,onChange:T=>n(T.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-colors"})]}),v.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[v.jsxs("select",{value:s,onChange:T=>a(T.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[v.jsx("option",{value:"all",children:"All Subjects"}),t.map(T=>v.jsx("option",{value:T.id,children:T.name},T.id))]}),v.jsxs("select",{value:l,onChange:T=>u(T.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[v.jsx("option",{value:"all",children:"All Status"}),v.jsx("option",{value:"completed",children:"Completed"}),v.jsx("option",{value:"pending",children:"Pending"})]})]})]}),v.jsx("div",{className:"space-y-4",children:y.length>0?y.map(T=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[v.jsx("div",{className:"bg-slate-50/50 dark:bg-slate-700/30 px-4 py-1 text-xs font-semibold text-slate-500 dark:text-slate-400 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between transition-colors",children:v.jsx("span",{className:T.subjectColor,children:T.subjectName})}),v.jsx(IC,{subjectId:T.subjectId,chapter:T,isExpanded:!!f[T.id],onToggle:()=>_(T.id)})]},T.id)):v.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:v.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No chapters found matching your filters."})})})]})}function ZU(){const{saveStudySession:t,subjects:e}=ei(),{user:n}=Oa(),[s,a]=k.useState("stopwatch"),[l,u]=k.useState(!1),[f,m]=k.useState(0),[p,y]=k.useState(0),[_,T]=k.useState(30),[A,I]=k.useState(""),[O,j]=k.useState(!1),[z,H]=k.useState([]),[K,oe]=k.useState(!0),Q=k.useRef(null),{playSound:ee,isMuted:N,toggleMute:S}=rv();k.useEffect(()=>(l?Q.current=window.setInterval(()=>{m(ye=>s==="stopwatch"?ye+1:ye<=1?(u(!1),ee("complete"),0):ye-1)},1e3):Q.current&&clearInterval(Q.current),()=>{Q.current&&clearInterval(Q.current)}),[l,s,ee]),k.useEffect(()=>{if(u(!1),j(!1),s==="stopwatch")m(0),y(0);else if(s==="pomodoro"||s==="countdown"){const ye=_*60;m(ye),y(ye)}},[s,_]),k.useEffect(()=>{(async()=>{if(n)try{const X=Zd(qo,"users"),ae=uC(X,hC("userProfile.totalStudyTime","desc"),dC(10)),ue=await ZL(ae),_e=[];ue.forEach(De=>{const L=De.data();L.userProfile&&_e.push({userId:De.id,userName:L.userProfile.name||"Anonymous",totalStudyTime:L.userProfile.totalStudyTime||0})}),H(_e)}catch(X){console.error("Error fetching leaderboard:",X)}finally{oe(!1)}})()},[n]),k.useEffect(()=>(l?document.title=`${B(f)} - ${s==="pomodoro"?"Focus":"Timer"}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[l,f,s]);const R=()=>{u(!l),ee("click")},M=()=>{u(!1),j(!1),m(s==="stopwatch"?0:p),ee("click")},V=async()=>{if(!A){alert("Please select a subject to save session.");return}let ye=0;if(s==="stopwatch"?ye=f:ye=p-f,ye<60){alert("Session must be at least 1 minute to save.");return}await t(ye,A),j(!0),ee("success")},B=ye=>{const X=Math.floor(ye/3600),ae=Math.floor(ye%3600/60),ue=ye%60;return X>0?`${X}:${ae.toString().padStart(2,"0")}:${ue.toString().padStart(2,"0")}`:`${ae.toString().padStart(2,"0")}:${ue.toString().padStart(2,"0")}`},D=s==="stopwatch"?100:(p-f)/p*100,Ge=ye=>{const X=Math.floor(ye/3600),ae=Math.floor(ye%3600/60);return`${X}h ${ae}m`};return v.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[v.jsxs("header",{className:"flex items-center justify-between mb-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Study Timer"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 transition-colors",children:"Focus, track, and compete."})]}),v.jsx("button",{onClick:S,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:N?v.jsx(NC,{className:"w-6 h-6"}):v.jsx(RC,{className:"w-6 h-6"})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"flex flex-col space-y-6",children:[v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex transition-colors",children:[v.jsxs("button",{onClick:()=>{a("stopwatch"),T(0)},className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="stopwatch"?"bg-blue-600 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[v.jsx(_0,{className:"w-4 h-4"}),"Stopwatch"]}),v.jsxs("button",{onClick:()=>{a("pomodoro"),T(25)},className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="pomodoro"?"bg-rose-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[v.jsx(vU,{className:"w-4 h-4"}),"Pomodoro"]}),v.jsxs("button",{onClick:()=>{a("countdown"),T(30)},className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="countdown"?"bg-amber-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[v.jsx(IU,{className:"w-4 h-4"}),"Countdown"]})]}),v.jsxs(Ae.div,{layout:!0,className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center text-center relative overflow-hidden transition-colors",children:[v.jsx("div",{className:"w-full absolute top-6 left-0 px-8 z-10",children:v.jsxs("select",{className:"w-full p-2 bg-transparent text-center font-medium text-slate-600 dark:text-slate-300 border-none focus:ring-0 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors",value:A,onChange:ye=>I(ye.target.value),disabled:l,children:[v.jsx("option",{value:"",className:"dark:bg-slate-800",children:"Select Subject (Optional)"}),e.map(ye=>v.jsx("option",{value:ye.id,className:"dark:bg-slate-800",children:ye.name},ye.id))]})}),v.jsxs("div",{className:"flex flex-col items-center justify-center mt-12 mb-8 w-full max-w-md mx-auto",children:[v.jsx("div",{className:`text-8xl font-sans font-bold tracking-tight tabular-nums mb-2 ${l?s==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:B(f)}),!l&&(s==="countdown"||s==="pomodoro")?v.jsx("div",{className:"flex items-center gap-2 mb-8 animate-in fade-in slide-in-from-bottom-2",children:v.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-700/50 rounded-lg px-4 py-2 border border-slate-200 dark:border-slate-700",children:[v.jsx("span",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Set Minutes:"}),v.jsx("input",{type:"number",min:"1",max:"180",value:_,onChange:ye=>{const X=Number(ye.target.value);T(X)},className:"w-16 bg-transparent text-center font-bold text-xl text-slate-700 dark:text-slate-200 focus:outline-none"})]})}):v.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium text-lg capitalize tracking-wide mb-8",children:s}),v.jsx("div",{className:"w-full h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden relative",children:v.jsx(Ae.div,{className:`h-full rounded-full ${s==="pomodoro"?"bg-rose-500":"bg-blue-600"}`,initial:{width:"100%"},animate:{width:`${D}%`},transition:{ease:"linear",duration:.5}})})]}),v.jsxs("div",{className:"flex items-center gap-4 z-10",children:[v.jsx("button",{onClick:R,className:`p-4 rounded-full transition-all shadow-lg transform active:scale-95 ${l?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?v.jsx(nU,{className:"w-8 h-8 font-fill"}):v.jsx(sU,{className:"w-8 h-8 pl-1"})}),(f>0||s!=="stopwatch"&&f!==p)&&v.jsx("button",{onClick:M,className:"p-4 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-95",children:v.jsx(CC,{className:"w-6 h-6"})})]}),s==="pomodoro"&&!l&&v.jsxs("div",{className:"flex gap-2 mt-6",children:[v.jsx("button",{onClick:()=>{T(25)},className:`px-3 py-1 text-sm rounded-full border ${_===25?"bg-rose-50 border-rose-200 text-rose-600":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"Focus (25m)"}),v.jsx("button",{onClick:()=>{T(5)},className:`px-3 py-1 text-sm rounded-full border ${_===5?"bg-teal-50 border-teal-200 text-teal-600":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"Short Break (5m)"}),v.jsx("button",{onClick:()=>{T(15)},className:`px-3 py-1 text-sm rounded-full border ${_===15?"bg-blue-50 border-blue-200 text-blue-600":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"Long Break (15m)"})]}),!l&&(s==="stopwatch"&&f>0||s!=="stopwatch"&&f!==p)&&!O&&v.jsxs(Ae.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:V,className:"absolute bottom-6 flex items-center gap-2 px-6 py-2 bg-emerald-500 text-white rounded-full hover:bg-emerald-600 transition-colors shadow-md",children:[v.jsx(sf,{className:"w-4 h-4"}),"Save Session"]})]})]}),v.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 h-fit transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:[v.jsx(rf,{className:"w-6 h-6 text-yellow-500"}),v.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]}),K?v.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading rankings..."}):v.jsxs("div",{className:"space-y-4",children:[z.map((ye,X)=>v.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${ye.userId===n?.uid?"bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:`
                                            w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm
                                            ${X===0?"bg-yellow-100 text-yellow-700":X===1?"bg-slate-200 text-slate-700":X===2?"bg-orange-100 text-orange-700":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}
                                        `,children:X+1}),v.jsx("div",{children:v.jsxs("p",{className:`font-medium ${ye.userId===n?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-slate-200"}`,children:[ye.userName," ",ye.userId===n?.uid&&"(You)"]})})]}),v.jsxs("div",{className:"flex items-center gap-1 text-slate-500 dark:text-slate-400 text-sm font-medium",children:[v.jsx(z9,{className:"w-4 h-4"}),Ge(ye.totalStudyTime)]})]},ye.userId)),z.length===0&&v.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 dark:bg-slate-700 rounded-xl",children:"No records yet. Be the first!"})]})]})]})]})}function e8(){const{user:t}=Oa(),[e,n]=k.useState([]),[s,a]=k.useState(""),l=k.useRef(null),[u,f]=k.useState(!1);k.useEffect(()=>{const y=uC(Zd(qo,"messages"),hC("createdAt","asc"),dC(100)),_=gC(y,T=>{const A=[];T.forEach(I=>{A.push({id:I.id,...I.data()})}),n(A)});return()=>_()},[]),k.useEffect(()=>{l.current?.scrollIntoView({behavior:"smooth"})},[e]);const m=async y=>{if(y.preventDefault(),!(!s.trim()||!t)){f(!0);try{await pC(Zd(qo,"messages"),{text:s.trim(),uid:t.uid,displayName:t.displayName||"Anonymous",createdAt:XL()}),a("")}catch(_){console.error("Error sending message:",_),alert("Failed to send message. Please try again.")}finally{f(!1)}}},p=y=>y?y.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...";return v.jsxs(bu,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-shrink-0",children:[v.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg text-indigo-600 dark:text-indigo-400",children:v.jsx(tf,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Community Chat"}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Connect with fellow students"})]})]}),v.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col relative",children:[v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:[v.jsx(au,{initial:!1,children:e.map(y=>v.jsx(Ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex flex-col ${y.uid===t?.uid?"items-end":"items-start"}`,children:v.jsxs("div",{className:`flex items-end gap-2 max-w-[80%] md:max-w-[70%] ${y.uid===t?.uid?"flex-row-reverse":"flex-row"}`,children:[v.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 ${y.uid===t?.uid?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}`,children:y.uid===t?.uid?v.jsx(AU,{className:"w-4 h-4"}):y.displayName.charAt(0).toUpperCase()}),v.jsxs("div",{className:`px-4 py-2 rounded-2xl text-sm ${y.uid===t?.uid?"bg-blue-600 text-white rounded-tr-none":"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-none"}`,children:[!y.uid&&v.jsx("p",{className:"text-[10px] opacity-70 mb-1 font-bold",children:y.displayName}),y.uid!==t?.uid&&v.jsx("p",{className:"text-[10px] font-bold opacity-70 mb-0.5 text-indigo-500 dark:text-indigo-300",children:y.displayName}),v.jsx("p",{className:"leading-relaxed whitespace-pre-wrap",children:y.text})]}),v.jsx("span",{className:"text-[10px] text-slate-400 min-w-[35px] text-center mb-1",children:p(y.createdAt)})]})},y.id))}),v.jsx("div",{ref:l})]}),v.jsxs("form",{onSubmit:m,className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700 flex gap-2",children:[v.jsx("input",{type:"text",value:s,onChange:y=>a(y.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all"}),v.jsx("button",{type:"submit",disabled:!s.trim()||u,className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-sm",children:v.jsx(hU,{className:"w-5 h-5"})})]})]})]})}function t8({steps:t,onComplete:e,onSkip:n}){const[s,a]=k.useState(0),[l,u]=k.useState(null),f=t[s];k.useEffect(()=>{if(f.targetId){const y=document.getElementById(f.targetId);y?(u(y.getBoundingClientRect()),y.scrollIntoView({behavior:"smooth",block:"center"})):u(null)}else u(null)},[s,f,t]);const m=()=>{s<t.length-1?a(y=>y+1):e()},p=()=>{s>0&&a(y=>y-1)};return v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&v.jsx(Ae.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),v.jsx(au,{mode:"wait",children:v.jsxs(Ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&f.position!=="center"?{top:f.position==="bottom"?l.bottom+20:f.position==="top"?l.top-200:void 0,left:f.position==="right"?l.right+20:f.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(f.position==="bottom",0)}:{},children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",s+1," of ",t.length]}),v.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:v.jsx(Df,{className:"w-4 h-4"})})]}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:f.title}),v.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:f.description}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("button",{onClick:p,disabled:s===0,className:`flex items-center gap-1 text-sm font-medium ${s===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[v.jsx(M9,{className:"w-4 h-4"})," Back"]}),v.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[s===t.length-1?"Finish":"Next",s<t.length-1&&v.jsx(O9,{className:"w-4 h-4"})]})]})]},s)})]})}const n8=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function i8(){const{logout:t}=Oa(),{theme:e,toggleTheme:n}=MC(),s=Ms(),a=sk(),[l,u]=k.useState(!1);k.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true")},[]);const f=()=>{u(!1),localStorage.setItem("tracked_tour_completed","true")},m=p=>s.pathname===p;return v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[l&&v.jsx(t8,{steps:n8,onComplete:f,onSkip:f}),v.jsxs("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg",children:v.jsx(Jn,{className:"w-5 h-5 text-white"})}),v.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent",children:"TrackEd"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors","aria-label":"Toggle Theme",children:e==="light"?v.jsx(nf,{className:"w-5 h-5"}):v.jsx(b0,{className:"w-5 h-5"})}),v.jsx($t,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:v.jsx(yg,{className:"w-5 h-5"})})]})]}),v.jsxs("div",{className:"md:flex max-w-5xl mx-auto",children:[v.jsxs("aside",{className:"hidden md:flex flex-col w-64 h-screen sticky top-0 p-6 border-r border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 transition-colors duration-300",children:[v.jsxs("div",{className:"flex items-center justify-between mb-10",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:v.jsx(Jn,{className:"w-6 h-6 text-white"})}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"TrackEd"})]}),v.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors","aria-label":"Toggle Theme",children:e==="light"?v.jsx(nf,{className:"w-5 h-5"}):v.jsx(b0,{className:"w-5 h-5"})})]}),v.jsxs("nav",{className:"space-y-2 flex-1",children:[v.jsxs($t,{to:"/",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[v.jsx(VE,{className:"w-5 h-5"}),"Dashboard"]}),v.jsxs($t,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/analytics")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[v.jsx(x0,{className:"w-5 h-5"}),"Analytics"]}),v.jsxs($t,{to:"/chapters",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/chapters")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[v.jsx(OE,{className:"w-5 h-5"}),"Chapters"]}),v.jsxs($t,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s.pathname==="/timer"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-white"}`,children:[v.jsx(_0,{className:"w-5 h-5"}),"Timer"]}),v.jsxs($t,{to:"/chat",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/chat")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[v.jsx(tf,{className:"w-5 h-5"}),"Community"]}),v.jsxs($t,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/settings")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[v.jsx(yg,{className:"w-5 h-5"}),"Settings"]})]}),v.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-700",children:[v.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-400 transition-colors w-full text-left mb-4",children:[v.jsx(AC,{className:"w-5 h-5"}),"Sign Out"]}),v.jsxs("div",{className:"text-xs text-slate-400 dark:text-slate-500",children:[v.jsx("p",{children:"Empowering Students"}),v.jsx("p",{className:"mt-1",children:" 2026 TrackEd"})]})]})]}),v.jsx("main",{className:"flex-1 p-4 md:p-8",children:v.jsx(au,{mode:"wait",children:a&&k.cloneElement(a,{key:s.pathname})})})]}),v.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[v.jsxs($t,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${m("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[v.jsx(VE,{className:"w-6 h-6"}),v.jsx("span",{children:"Home"})]}),v.jsxs($t,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${m("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[v.jsx(x0,{className:"w-6 h-6"}),v.jsx("span",{children:"Stats"})]}),v.jsxs($t,{to:"/chapters",className:`flex flex-col items-center gap-1 text-xs ${m("/chapters")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[v.jsx(OE,{className:"w-6 h-6"}),v.jsx("span",{children:"Chapters"})]}),v.jsxs($t,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${m("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[v.jsx(_0,{className:"w-6 h-6"}),v.jsx("span",{children:"Timer"})]}),v.jsxs($t,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${m("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[v.jsx(tf,{className:"w-6 h-6"}),v.jsx("span",{children:"Comm.."})]}),v.jsxs($t,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${m("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[v.jsx(yg,{className:"w-6 h-6"}),v.jsx("span",{children:"Settings"})]})]})]})}function s8(){const{signInWithGoogle:t,user:e}=Oa(),n=of();return BE.useEffect(()=>{e&&n("/")},[e,n]),v.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[v.jsxs("div",{className:"absolute inset-0 z-0",children:[v.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),v.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),v.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),v.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[v.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[v.jsx("div",{className:"flex justify-center mb-8",children:v.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:v.jsx(SC,{className:"w-10 h-10 text-white"})})}),v.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",v.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),v.jsxs(Ae.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[v.jsx("div",{className:"bg-white p-1 rounded-full",children:v.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),v.jsx("span",{children:"Sign in with Google"}),v.jsx(TC,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),v.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),v.jsx("div",{className:"mt-8 text-center",children:v.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}function r8({children:t}){const{user:e,loading:n}=Oa();return n?v.jsx("div",{children:"Loading..."}):e?v.jsx(v.Fragment,{children:t}):v.jsx(bk,{to:"/login"})}function a8(){return v.jsx(Gk,{basename:"/Study-Mate/",children:v.jsxs(xk,{children:[v.jsx(Gi,{path:"/login",element:v.jsx(s8,{})}),v.jsxs(Gi,{path:"/",element:v.jsx(r8,{children:v.jsx(i8,{})}),children:[v.jsx(Gi,{index:!0,element:v.jsx(LU,{})}),v.jsx(Gi,{path:"subject/:id",element:v.jsx(HU,{})}),v.jsx(Gi,{path:"analytics",element:v.jsx(WU,{})}),v.jsx(Gi,{path:"chapters",element:v.jsx(JU,{})}),v.jsx(Gi,{path:"timer",element:v.jsx(ZU,{})}),v.jsx(Gi,{path:"chat",element:v.jsx(e8,{})}),v.jsx(Gi,{path:"settings",element:v.jsx(KU,{})})]})]})})}class o8 extends k.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:v.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[v.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),v.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),v.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),v.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");_N.createRoot(document.getElementById("root")).render(v.jsx(BE.StrictMode,{children:v.jsx(o8,{children:v.jsx(i9,{children:v.jsx(s9,{children:v.jsx(qU,{children:v.jsx(zU,{children:v.jsx(a8,{})})})})})})}));
