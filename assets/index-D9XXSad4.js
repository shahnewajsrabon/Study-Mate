(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Ox(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sp={exports:{}},yu={};var bT;function Z2(){if(bT)return yu;bT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return yu.Fragment=t,yu.jsx=n,yu.jsxs=n,yu}var TT;function tI(){return TT||(TT=1,Sp.exports=Z2()),Sp.exports}var T=tI(),Ap={exports:{}},St={};var ET;function eI(){if(ET)return St;ET=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,j={};function F(L,nt,ct){this.props=L,this.context=nt,this.refs=j,this.updater=ct||D}F.prototype.isReactComponent={},F.prototype.setState=function(L,nt){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,nt,"setState")},F.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function H(){}H.prototype=F.prototype;function Y(L,nt,ct){this.props=L,this.context=nt,this.refs=j,this.updater=ct||D}var J=Y.prototype=new H;J.constructor=Y,V(J,F.prototype),J.isPureReactComponent=!0;var X=Array.isArray;function ot(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(L,nt,ct){var ht=ct.ref;return{$$typeof:e,type:L,key:nt,ref:ht!==void 0?ht:null,props:ct}}function O(L,nt){return I(L.type,nt,L.props)}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function z(L){var nt={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ct){return nt[ct]})}var k=/\/+/g;function $t(L,nt){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):nt.toString(36)}function Zt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ot,ot):(L.status="pending",L.then(function(nt){L.status==="pending"&&(L.status="fulfilled",L.value=nt)},function(nt){L.status==="pending"&&(L.status="rejected",L.reason=nt)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Z(L,nt,ct,ht,xt){var Dt=typeof L;(Dt==="undefined"||Dt==="boolean")&&(L=null);var Ft=!1;if(L===null)Ft=!0;else switch(Dt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(L.$$typeof){case e:case t:Ft=!0;break;case y:return Ft=L._init,Z(Ft(L._payload),nt,ct,ht,xt)}}if(Ft)return xt=xt(L),Ft=ht===""?"."+$t(L,0):ht,X(xt)?(ct="",Ft!=null&&(ct=Ft.replace(k,"$&/")+"/"),Z(xt,nt,ct,"",function(jr){return jr})):xt!=null&&(P(xt)&&(xt=O(xt,ct+(xt.key==null||L&&L.key===xt.key?"":(""+xt.key).replace(k,"$&/")+"/")+Ft)),nt.push(xt)),1;Ft=0;var Le=ht===""?".":ht+":";if(X(L))for(var ce=0;ce<L.length;ce++)ht=L[ce],Dt=Le+$t(ht,ce),Ft+=Z(ht,nt,ct,Dt,xt);else if(ce=S(L),typeof ce=="function")for(L=ce.call(L),ce=0;!(ht=L.next()).done;)ht=ht.value,Dt=Le+$t(ht,ce++),Ft+=Z(ht,nt,ct,Dt,xt);else if(Dt==="object"){if(typeof L.then=="function")return Z(Zt(L),nt,ct,ht,xt);throw nt=String(L),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function lt(L,nt,ct){if(L==null)return L;var ht=[],xt=0;return Z(L,ht,"","",function(Dt){return nt.call(ct,Dt,xt++)}),ht}function rt(L){if(L._status===-1){var nt=L._result;nt=nt(),nt.then(function(ct){(L._status===0||L._status===-1)&&(L._status=1,L._result=ct)},function(ct){(L._status===0||L._status===-1)&&(L._status=2,L._result=ct)}),L._status===-1&&(L._status=0,L._result=nt)}if(L._status===1)return L._result.default;throw L._result}var yt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ct={map:lt,forEach:function(L,nt,ct){lt(L,function(){nt.apply(this,arguments)},ct)},count:function(L){var nt=0;return lt(L,function(){nt++}),nt},toArray:function(L){return lt(L,function(nt){return nt})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return St.Activity=_,St.Children=Ct,St.Component=F,St.Fragment=n,St.Profiler=a,St.PureComponent=Y,St.StrictMode=s,St.Suspense=m,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},St.cache=function(L){return function(){return L.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(L,nt,ct){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ht=V({},L.props),xt=L.key;if(nt!=null)for(Dt in nt.key!==void 0&&(xt=""+nt.key),nt)!A.call(nt,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&nt.ref===void 0||(ht[Dt]=nt[Dt]);var Dt=arguments.length-2;if(Dt===1)ht.children=ct;else if(1<Dt){for(var Ft=Array(Dt),Le=0;Le<Dt;Le++)Ft[Le]=arguments[Le+2];ht.children=Ft}return I(L.type,xt,ht)},St.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},St.createElement=function(L,nt,ct){var ht,xt={},Dt=null;if(nt!=null)for(ht in nt.key!==void 0&&(Dt=""+nt.key),nt)A.call(nt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(xt[ht]=nt[ht]);var Ft=arguments.length-2;if(Ft===1)xt.children=ct;else if(1<Ft){for(var Le=Array(Ft),ce=0;ce<Ft;ce++)Le[ce]=arguments[ce+2];xt.children=Le}if(L&&L.defaultProps)for(ht in Ft=L.defaultProps,Ft)xt[ht]===void 0&&(xt[ht]=Ft[ht]);return I(L,Dt,xt)},St.createRef=function(){return{current:null}},St.forwardRef=function(L){return{$$typeof:d,render:L}},St.isValidElement=P,St.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:rt}},St.memo=function(L,nt){return{$$typeof:p,type:L,compare:nt===void 0?null:nt}},St.startTransition=function(L){var nt=R.T,ct={};R.T=ct;try{var ht=L(),xt=R.S;xt!==null&&xt(ct,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(ot,yt)}catch(Dt){yt(Dt)}finally{nt!==null&&ct.types!==null&&(nt.types=ct.types),R.T=nt}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(L){return R.H.use(L)},St.useActionState=function(L,nt,ct){return R.H.useActionState(L,nt,ct)},St.useCallback=function(L,nt){return R.H.useCallback(L,nt)},St.useContext=function(L){return R.H.useContext(L)},St.useDebugValue=function(){},St.useDeferredValue=function(L,nt){return R.H.useDeferredValue(L,nt)},St.useEffect=function(L,nt){return R.H.useEffect(L,nt)},St.useEffectEvent=function(L){return R.H.useEffectEvent(L)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(L,nt,ct){return R.H.useImperativeHandle(L,nt,ct)},St.useInsertionEffect=function(L,nt){return R.H.useInsertionEffect(L,nt)},St.useLayoutEffect=function(L,nt){return R.H.useLayoutEffect(L,nt)},St.useMemo=function(L,nt){return R.H.useMemo(L,nt)},St.useOptimistic=function(L,nt){return R.H.useOptimistic(L,nt)},St.useReducer=function(L,nt,ct){return R.H.useReducer(L,nt,ct)},St.useRef=function(L){return R.H.useRef(L)},St.useState=function(L){return R.H.useState(L)},St.useSyncExternalStore=function(L,nt,ct){return R.H.useSyncExternalStore(L,nt,ct)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.4",St}var xT;function py(){return xT||(xT=1,Ap.exports=eI()),Ap.exports}var N=py();const Px=Ox(N);var Cp={exports:{}},vu={},Rp={exports:{}},Ip={};var wT;function nI(){return wT||(wT=1,(function(e){function t(Z,lt){var rt=Z.length;Z.push(lt);t:for(;0<rt;){var yt=rt-1>>>1,Ct=Z[yt];if(0<a(Ct,lt))Z[yt]=lt,Z[rt]=Ct,rt=yt;else break t}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var lt=Z[0],rt=Z.pop();if(rt!==lt){Z[0]=rt;t:for(var yt=0,Ct=Z.length,L=Ct>>>1;yt<L;){var nt=2*(yt+1)-1,ct=Z[nt],ht=nt+1,xt=Z[ht];if(0>a(ct,rt))ht<Ct&&0>a(xt,ct)?(Z[yt]=xt,Z[ht]=rt,yt=ht):(Z[yt]=ct,Z[nt]=rt,yt=nt);else if(ht<Ct&&0>a(xt,rt))Z[yt]=xt,Z[ht]=rt,yt=ht;else break t}}return lt}function a(Z,lt){var rt=Z.sortIndex-lt.sortIndex;return rt!==0?rt:Z.id-lt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,E=3,S=!1,D=!1,V=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function J(Z){for(var lt=n(p);lt!==null;){if(lt.callback===null)s(p);else if(lt.startTime<=Z)s(p),lt.sortIndex=lt.expirationTime,t(m,lt);else break;lt=n(p)}}function X(Z){if(V=!1,J(Z),!D)if(n(m)!==null)D=!0,ot||(ot=!0,z());else{var lt=n(p);lt!==null&&Zt(X,lt.startTime-Z)}}var ot=!1,R=-1,A=5,I=-1;function O(){return j?!0:!(e.unstable_now()-I<A)}function P(){if(j=!1,ot){var Z=e.unstable_now();I=Z;var lt=!0;try{t:{D=!1,V&&(V=!1,H(R),R=-1),S=!0;var rt=E;try{e:{for(J(Z),_=n(m);_!==null&&!(_.expirationTime>Z&&O());){var yt=_.callback;if(typeof yt=="function"){_.callback=null,E=_.priorityLevel;var Ct=yt(_.expirationTime<=Z);if(Z=e.unstable_now(),typeof Ct=="function"){_.callback=Ct,J(Z),lt=!0;break e}_===n(m)&&s(m),J(Z)}else s(m);_=n(m)}if(_!==null)lt=!0;else{var L=n(p);L!==null&&Zt(X,L.startTime-Z),lt=!1}}break t}finally{_=null,E=rt,S=!1}lt=void 0}}finally{lt?z():ot=!1}}}var z;if(typeof Y=="function")z=function(){Y(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,$t=k.port2;k.port1.onmessage=P,z=function(){$t.postMessage(null)}}else z=function(){F(P,0)};function Zt(Z,lt){R=F(function(){Z(e.unstable_now())},lt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var lt=3;break;default:lt=E}var rt=E;E=lt;try{return Z()}finally{E=rt}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(Z,lt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var rt=E;E=Z;try{return lt()}finally{E=rt}},e.unstable_scheduleCallback=function(Z,lt,rt){var yt=e.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?yt+rt:yt):rt=yt,Z){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=rt+Ct,Z={id:y++,callback:lt,priorityLevel:Z,startTime:rt,expirationTime:Ct,sortIndex:-1},rt>yt?(Z.sortIndex=rt,t(p,Z),n(m)===null&&Z===n(p)&&(V?(H(R),R=-1):V=!0,Zt(X,rt-yt))):(Z.sortIndex=Ct,t(m,Z),D||S||(D=!0,ot||(ot=!0,z()))),Z},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(Z){var lt=E;return function(){var rt=E;E=lt;try{return Z.apply(this,arguments)}finally{E=rt}}}})(Ip)),Ip}var ST;function iI(){return ST||(ST=1,Rp.exports=nI()),Rp.exports}var Np={exports:{}},sn={};var AT;function sI(){if(AT)return sn;AT=1;var e=py();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},sn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},sn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},sn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},sn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},sn.requestFormReset=function(m){s.d.r(m)},sn.unstable_batchedUpdates=function(m,p){return m(p)},sn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var CT;function rI(){if(CT)return Np.exports;CT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Np.exports=sI(),Np.exports}var RT;function aI(){if(RT)return vu;RT=1;var e=iI(),t=py(),n=rI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),i;if(g===u)return m(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,w=f.child;w;){if(w===o){b=!0,o=f,u=g;break}if(w===u){b=!0,u=f,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=f;break}if(w===u){b=!0,u=g,o=f;break}w=w.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function $t(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case F:return"Profiler";case j:return"StrictMode";case X:return"Suspense";case ot:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case Y:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case J:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:$t(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return $t(i(r))}catch{}}return null}var Zt=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},yt=[],Ct=-1;function L(i){return{current:i}}function nt(i){0>Ct||(i.current=yt[Ct],yt[Ct]=null,Ct--)}function ct(i,r){Ct++,yt[Ct]=i.current,i.current=r}var ht=L(null),xt=L(null),Dt=L(null),Ft=L(null);function Le(i,r){switch(ct(Dt,r),ct(xt,i),ct(ht,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Hb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Hb(r),i=qb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ht),ct(ht,i)}function ce(){nt(ht),nt(xt),nt(Dt)}function jr(i){i.memoizedState!==null&&ct(Ft,i);var r=ht.current,o=qb(r,i.type);r!==o&&(ct(xt,i),ct(ht,o))}function Oa(i){xt.current===i&&(nt(ht),nt(xt)),Ft.current===i&&(nt(Ft),du._currentValue=rt)}var Pa,ja;function Ti(i){if(Pa===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Pa=r&&r[1]||"",ja=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pa+i+ja}var dl=!1;function Lr(i,r){if(!i||dl)return"";dl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(W){var K=W}Reflect.construct(i,[],it)}else{try{it.call()}catch(W){K=W}i.call(it.prototype)}}else{try{throw Error()}catch(W){K=W}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var M=b.split(`
`),$=w.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===$.length)for(u=M.length-1,f=$.length-1;1<=u&&0<=f&&M[u]!==$[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==$[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==$[f]){var tt=`
`+M[u].replace(" at new "," at ");return i.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",i.displayName)),tt}while(1<=u&&0<=f);break}}}finally{dl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ti(o):""}function ml(i,r){switch(i.tag){case 26:case 27:case 5:return Ti(i.type);case 16:return Ti("Lazy");case 13:return i.child!==r&&r!==null?Ti("Suspense Fallback"):Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return Lr(i.type,!1);case 11:return Lr(i.type.render,!1);case 1:return Lr(i.type,!0);case 31:return Ti("Activity");default:return""}}function pl(i){try{var r="",o=null;do r+=ml(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var we=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,Ps=e.unstable_cancelCallback,Cd=e.unstable_shouldYield,gc=e.unstable_requestPaint,hn=e.unstable_now,Ur=e.unstable_getCurrentPriorityLevel,gl=e.unstable_ImmediatePriority,yl=e.unstable_UserBlockingPriority,js=e.unstable_NormalPriority,Rd=e.unstable_LowPriority,yc=e.unstable_IdlePriority,vc=e.log,_c=e.unstable_setDisableYieldValue,Zn=null,Ke=null;function On(i){if(typeof vc=="function"&&_c(i),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Zn,i)}catch{}}var _e=Math.clz32?Math.clz32:Tc,bc=Math.log,La=Math.LN2;function Tc(i){return i>>>=0,i===0?32:31-(bc(i)/La|0)|0}var Ei=256,zr=262144,Se=4194304;function xi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=xi(u):(b&=w,b!==0?f=xi(b):o||(o=w&~i,o!==0&&(f=xi(o))))):(w=u&~g,w!==0?f=xi(w):b!==0?f=xi(b):o||(o=u&~i,o!==0&&(f=xi(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function ti(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Id(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ec(){var i=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),i}function Si(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Br(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Nd(i,r,o,u,f,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,M=i.expirationTimes,$=i.hiddenUpdates;for(o=b&~o;0<o;){var tt=31-_e(o),it=1<<tt;w[tt]=0,M[tt]=-1;var K=$[tt];if(K!==null)for($[tt]=null,tt=0;tt<K.length;tt++){var W=K[tt];W!==null&&(W.lane&=-536870913)}o&=~it}u!==0&&Fr(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function Fr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-_e(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function vl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-_e(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function _l(i,r){var o=r&-r;return o=(o&42)!==0?1:Hr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Hr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ns(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function xc(){var i=lt.p;return i!==0?i:(i=window.event,i===void 0?32:dT(i.type))}function ei(i,r){var o=lt.p;try{return lt.p=i,r()}finally{lt.p=o}}var ni=Math.random().toString(36).slice(2),Ae="__reactFiber$"+ni,He="__reactProps$"+ni,Ai="__reactContainer$"+ni,Ua="__reactEvents$"+ni,Dd="__reactListeners$"+ni,wc="__reactHandles$"+ni,Sc="__reactResources$"+ni,Ci="__reactMarker$"+ni;function za(i){delete i[Ae],delete i[He],delete i[Ua],delete i[Dd],delete i[wc]}function Ri(i){var r=i[Ae];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ai]||o[Ae]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Wb(i);i!==null;){if(o=i[Ae])return o;i=Wb(i)}return r}i=o,o=i.parentNode}return null}function Pn(i){if(i=i[Ae]||i[Ai]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Sn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ii(i){var r=i[Sc];return r||(r=i[Sc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ce(i){i[Ci]=!0}var bl=new Set,Tl={};function Ni(i,r){Di(i,r),Di(i+"Capture",r)}function Di(i,r){for(Tl[i]=r,i=0;i<r.length;i++)bl.add(r[i])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},wl={};function Ac(i){return we.call(wl,i)?!0:we.call(xl,i)?!1:El.test(i)?wl[i]=!0:(xl[i]=!0,!1)}function Ba(i,r,o){if(Ac(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function An(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Re(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ls(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Sl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xt(i){if(!i._valueTracker){var r=Ls(i)?"checked":"value";i._valueTracker=Sl(i,r,""+i[r])}}function qr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Ls(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function ki(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Gr=/[\n"\\]/g;function yn(i){return i.replace(Gr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fa(i,r,o,u,f,g,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qe(r)):i.value!==""+qe(r)&&(i.value=""+qe(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Al(i,b,qe(r)):o!=null?Al(i,b,qe(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+qe(w):i.removeAttribute("name")}function Cc(i,r,o,u,f,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Xt(i);return}o=o!=null?""+qe(o):"",r=r!=null?""+qe(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Xt(i)}function Al(i,r,o){r==="number"&&ki(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Us(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+qe(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Rc(i,r,o){if(r!=null&&(r=""+qe(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+qe(o):""}function zs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Zt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=qe(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Xt(i)}function vn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Ic.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Rl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Cl(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Cl(i,g,r[g])}function Ha(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(i){return Bs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ii(){}var Il=null;function jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fs=null,Mi=null;function $r(i){var r=Pn(i);if(r&&(i=r.stateNode)){var o=i[He]||null;t:switch(i=r.stateNode,r.type){case"input":if(Fa(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[He]||null;if(!f)throw Error(s(90));Fa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&qr(u)}break t;case"textarea":Rc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Us(i,!!o.multiple,r,!1)}}}var Ga=!1;function Hs(i,r,o){if(Ga)return i(r,o);Ga=!0;try{var u=i(r);return u}finally{if(Ga=!1,(Fs!==null||Mi!==null)&&(xh(),Fs&&(r=Fs,i=Mi,Mi=Fs=null,$r(r),i)))for(r=0;r<i.length;r++)$r(i[r])}}function si(i,r){var o=i.stateNode;if(o===null)return null;var u=o[He]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kr=!1;if(Ln)try{var te={};Object.defineProperty(te,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Kr=!1}var Vi=null,Nl=null,Yr=null;function Dl(){if(Yr)return Yr;var i,r=Nl,o=r.length,u,f="value"in Vi?Vi.value:Vi.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===f[g-u];u++);return Yr=f.slice(i,1<u?1-u:void 0)}function Qr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function is(){return!0}function ri(){return!1}function Ye(i){function r(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?is:ri,this.isPropagationStopped=ri,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),r}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Ye(ss),qs=_({},ss,{view:0,detail:0}),kl=Ye(qs),Gs,$a,Pi,Ka=_({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pi&&(Pi&&i.type==="mousemove"?(Gs=i.screenX-Pi.screenX,$a=i.screenY-Pi.screenY):$a=Gs=0,Pi=i),Gs)},movementY:function(i){return"movementY"in i?i.movementY:$a}}),Ml=Ye(Ka),Xr=_({},Ka,{dataTransfer:0}),Dc=Ye(Xr),kc=_({},qs,{relatedTarget:0}),Wr=Ye(kc),Vl=_({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=Ye(Vl),Ya=_({},ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Vc=Ye(Ya),Oc=_({},ss,{data:0}),ji=Ye(Oc),Pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Lc[i])?!!r[i]:!1}function $s(){return Uc}var fn=_({},qs,{key:function(i){if(i.key){var r=Pc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Qr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?jc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(i){return i.type==="keypress"?Qr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zc=Ye(fn),Bc=_({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=Ye(Bc),h=_({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),v=Ye(h),x=_({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Ye(x),q=_({},Ka,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ye(q),ut=_({},ss,{newState:0,oldState:0}),It=Ye(ut),be=[9,13,27,32],Kt=Ln&&"CompositionEvent"in window,he=null;Ln&&"documentMode"in document&&(he=document.documentMode);var Un=Ln&&"TextEvent"in window&&!he,Li=Ln&&(!Kt||he&&8<he&&11>=he),ai=" ",oi=!1;function Jr(i,r){switch(i){case"keyup":return be.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xa=!1;function xR(i,r){switch(i){case"compositionend":return Qa(r);case"keypress":return r.which!==32?null:(oi=!0,ai);case"textInput":return i=r.data,i===ai&&oi?null:i;default:return null}}function wR(i,r){if(Xa)return i==="compositionend"||!Kt&&Jr(i,r)?(i=Dl(),Yr=Nl=Vi=null,Xa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Li&&r.locale!=="ko"?null:r.data;default:return null}}var SR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!SR[i.type]:r==="textarea"}function ev(i,r,o,u){Fs?Mi?Mi.push(u):Mi=[u]:Fs=u,r=Nh(r,"onChange"),0<r.length&&(o=new Oi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Ol=null,Pl=null;function AR(i){jb(i,0)}function Fc(i){var r=Sn(i);if(qr(r))return i}function nv(i,r){if(i==="change")return r}var iv=!1;if(Ln){var kd;if(Ln){var Md="oninput"in document;if(!Md){var sv=document.createElement("div");sv.setAttribute("oninput","return;"),Md=typeof sv.oninput=="function"}kd=Md}else kd=!1;iv=kd&&(!document.documentMode||9<document.documentMode)}function rv(){Ol&&(Ol.detachEvent("onpropertychange",av),Pl=Ol=null)}function av(i){if(i.propertyName==="value"&&Fc(Pl)){var r=[];ev(r,Pl,i,jn(i)),Hs(AR,r)}}function CR(i,r,o){i==="focusin"?(rv(),Ol=r,Pl=o,Ol.attachEvent("onpropertychange",av)):i==="focusout"&&rv()}function RR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fc(Pl)}function IR(i,r){if(i==="click")return Fc(r)}function NR(i,r){if(i==="input"||i==="change")return Fc(r)}function DR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Cn=typeof Object.is=="function"?Object.is:DR;function jl(i,r){if(Cn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!we.call(r,f)||!Cn(i[f],r[f]))return!1}return!0}function ov(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function lv(i,r){var o=ov(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=ov(o)}}function uv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?uv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function cv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ki(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ki(i.document)}return r}function Vd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var kR=Ln&&"documentMode"in document&&11>=document.documentMode,Wa=null,Od=null,Ll=null,Pd=!1;function hv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pd||Wa==null||Wa!==ki(u)||(u=Wa,"selectionStart"in u&&Vd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ll&&jl(Ll,u)||(Ll=u,u=Nh(Od,"onSelect"),0<u.length&&(r=new Oi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Wa)))}function Zr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ja={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},jd={},fv={};Ln&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ta(i){if(jd[i])return jd[i];if(!Ja[i])return i;var r=Ja[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in fv)return jd[i]=r[o];return i}var dv=ta("animationend"),mv=ta("animationiteration"),pv=ta("animationstart"),MR=ta("transitionrun"),VR=ta("transitionstart"),OR=ta("transitioncancel"),gv=ta("transitionend"),yv=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ld.push("scrollEnd");function li(i,r){yv.set(i,r),Ni(r,[i])}var Hc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},zn=[],Za=0,Ud=0;function qc(){for(var i=Za,r=Ud=Za=0;r<i;){var o=zn[r];zn[r++]=null;var u=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var g=zn[r];if(zn[r++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&vv(o,f,g)}}function Gc(i,r,o,u){zn[Za++]=i,zn[Za++]=r,zn[Za++]=o,zn[Za++]=u,Ud|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function zd(i,r,o,u){return Gc(i,r,o,u),$c(i)}function ea(i,r){return Gc(i,null,null,r),$c(i)}function vv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-_e(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function $c(i){if(50<au)throw au=0,Qm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var to={};function PR(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,r,o,u){return new PR(i,r,o,u)}function Bd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,r){var o=i.alternate;return o===null?(o=Rn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function _v(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Kc(i,r,o,u,f,g){var b=0;if(u=i,typeof i=="function")Bd(i)&&(b=1);else if(typeof i=="string")b=B2(i,o,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Rn(31,o,r,f),i.elementType=I,i.lanes=g,i;case V:return na(o.children,f,g,r);case j:b=8,f|=24;break;case F:return i=Rn(12,o,r,f|2),i.elementType=F,i.lanes=g,i;case X:return i=Rn(13,o,r,f),i.elementType=X,i.lanes=g,i;case ot:return i=Rn(19,o,r,f),i.elementType=ot,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:b=10;break t;case H:b=9;break t;case J:b=11;break t;case R:b=14;break t;case A:b=16,u=null;break t}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Rn(b,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function na(i,r,o,u){return i=Rn(7,i,u,r),i.lanes=o,i}function Fd(i,r,o){return i=Rn(6,i,null,r),i.lanes=o,i}function bv(i){var r=Rn(18,null,null,0);return r.stateNode=i,r}function Hd(i,r,o){return r=Rn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Tv=new WeakMap;function Bn(i,r){if(typeof i=="object"&&i!==null){var o=Tv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:pl(r)},Tv.set(i,r),r)}return{value:i,source:r,stack:pl(r)}}var eo=[],no=0,Yc=null,Ul=0,Fn=[],Hn=0,Ks=null,Ui=1,zi="";function os(i,r){eo[no++]=Ul,eo[no++]=Yc,Yc=i,Ul=r}function Ev(i,r,o){Fn[Hn++]=Ui,Fn[Hn++]=zi,Fn[Hn++]=Ks,Ks=i;var u=Ui;i=zi;var f=32-_e(u)-1;u&=~(1<<f),o+=1;var g=32-_e(r)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,Ui=1<<32-_e(r)+f|o<<f|u,zi=g+i}else Ui=1<<g|o<<f|u,zi=i}function qd(i){i.return!==null&&(os(i,1),Ev(i,1,0))}function Gd(i){for(;i===Yc;)Yc=eo[--no],eo[no]=null,Ul=eo[--no],eo[no]=null;for(;i===Ks;)Ks=Fn[--Hn],Fn[Hn]=null,zi=Fn[--Hn],Fn[Hn]=null,Ui=Fn[--Hn],Fn[Hn]=null}function xv(i,r){Fn[Hn++]=Ui,Fn[Hn++]=zi,Fn[Hn++]=Ks,Ui=r.id,zi=r.overflow,Ks=i}var Qe=null,oe=null,Bt=!1,Ys=null,qn=!1,$d=Error(s(519));function Qs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(Bn(r,i)),$d}function wv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ae]=i,r[He]=u,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<lu.length;o++)Ot(lu[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Cc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),zs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Bb(r.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),u.onScroll!=null&&Ot("scroll",r),u.onScrollEnd!=null&&Ot("scrollend",r),u.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||Qs(i,!0)}function Sv(i){for(Qe=i.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Qe=Qe.return}}function io(i){if(i!==Qe)return!1;if(!Bt)return Sv(i),Bt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||cp(i.type,i.memoizedProps)),o=!o),o&&oe&&Qs(i),Sv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));oe=Xb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));oe=Xb(i)}else r===27?(r=oe,ur(i.type)?(i=pp,pp=null,oe=i):oe=r):oe=Qe?$n(i.stateNode.nextSibling):null;return!0}function ia(){oe=Qe=null,Bt=!1}function Kd(){var i=Ys;return i!==null&&(En===null?En=i:En.push.apply(En,i),Ys=null),i}function zl(i){Ys===null?Ys=[i]:Ys.push(i)}var Yd=L(null),sa=null,ls=null;function Xs(i,r,o){ct(Yd,r._currentValue),r._currentValue=o}function us(i){i._currentValue=Yd.current,nt(Yd)}function Qd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Xd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=f;for(var M=0;M<r.length;M++)if(w.context===r[M]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Qd(g.return,o,i),u||(b=null);break t}g=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Qd(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function so(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=f.type;Cn(f.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(f===Ft.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(du):i=[du])}f=f.return}i!==null&&Xd(r,i,o,u),r.flags|=262144}function Qc(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ra(i){sa=i,ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xe(i){return Av(sa,i)}function Xc(i,r){return sa===null&&ra(i),Av(i,r)}function Av(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ls===null){if(i===null)throw Error(s(308));ls=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ls=ls.next=r;return o}var jR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},LR=e.unstable_scheduleCallback,UR=e.unstable_NormalPriority,Ie={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wd(){return{controller:new jR,data:new Map,refCount:0}}function Bl(i){i.refCount--,i.refCount===0&&LR(UR,function(){i.controller.abort()})}var Fl=null,Jd=0,ro=0,ao=null;function zR(i,r){if(Fl===null){var o=Fl=[];Jd=0,ro=ep(),ao={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Jd++,r.then(Cv,Cv),r}function Cv(){if(--Jd===0&&Fl!==null){ao!==null&&(ao.status="fulfilled");var i=Fl;Fl=null,ro=0,ao=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function BR(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Rv=Z.S;Z.S=function(i,r){hb=hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zR(i,r),Rv!==null&&Rv(i,r)};var aa=L(null);function Zd(){var i=aa.current;return i!==null?i:se.pooledCache}function Wc(i,r){r===null?ct(aa,aa.current):ct(aa,r.pool)}function Iv(){var i=Zd();return i===null?null:{parent:Ie._currentValue,pool:i}}var oo=Error(s(460)),tm=Error(s(474)),Jc=Error(s(542)),Zc={then:function(){}};function Nv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Dv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ii,ii),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Mv(i),i;default:if(typeof r.status=="string")r.then(ii,ii);else{if(i=se,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Mv(i),i}throw la=r,oo}}function oa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(la=o,oo):o}}var la=null;function kv(){if(la===null)throw Error(s(459));var i=la;return la=null,i}function Mv(i){if(i===oo||i===Jc)throw Error(s(483))}var lo=null,Hl=0;function th(i){var r=Hl;return Hl+=1,lo===null&&(lo=[]),Dv(lo,i,r)}function ql(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function eh(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Vv(i){function r(B,U){if(i){var G=B.deletions;G===null?(B.deletions=[U],B.flags|=16):G.push(U)}}function o(B,U){if(!i)return null;for(;U!==null;)r(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function f(B,U){return B=as(B,U),B.index=0,B.sibling=null,B}function g(B,U,G){return B.index=G,i?(G=B.alternate,G!==null?(G=G.index,G<U?(B.flags|=67108866,U):G):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function b(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function w(B,U,G,et){return U===null||U.tag!==6?(U=Fd(G,B.mode,et),U.return=B,U):(U=f(U,G),U.return=B,U)}function M(B,U,G,et){var vt=G.type;return vt===V?tt(B,U,G.props.children,et,G.key):U!==null&&(U.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&oa(vt)===U.type)?(U=f(U,G.props),ql(U,G),U.return=B,U):(U=Kc(G.type,G.key,G.props,null,B.mode,et),ql(U,G),U.return=B,U)}function $(B,U,G,et){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Hd(G,B.mode,et),U.return=B,U):(U=f(U,G.children||[]),U.return=B,U)}function tt(B,U,G,et,vt){return U===null||U.tag!==7?(U=na(G,B.mode,et,vt),U.return=B,U):(U=f(U,G),U.return=B,U)}function it(B,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Fd(""+U,B.mode,G),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return G=Kc(U.type,U.key,U.props,null,B.mode,G),ql(G,U),G.return=B,G;case D:return U=Hd(U,B.mode,G),U.return=B,U;case A:return U=oa(U),it(B,U,G)}if(Zt(U)||z(U))return U=na(U,B.mode,G,null),U.return=B,U;if(typeof U.then=="function")return it(B,th(U),G);if(U.$$typeof===Y)return it(B,Xc(B,U),G);eh(B,U)}return null}function K(B,U,G,et){var vt=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return vt!==null?null:w(B,U,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===vt?M(B,U,G,et):null;case D:return G.key===vt?$(B,U,G,et):null;case A:return G=oa(G),K(B,U,G,et)}if(Zt(G)||z(G))return vt!==null?null:tt(B,U,G,et,null);if(typeof G.then=="function")return K(B,U,th(G),et);if(G.$$typeof===Y)return K(B,U,Xc(B,G),et);eh(B,G)}return null}function W(B,U,G,et,vt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(G)||null,w(U,B,""+et,vt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case S:return B=B.get(et.key===null?G:et.key)||null,M(U,B,et,vt);case D:return B=B.get(et.key===null?G:et.key)||null,$(U,B,et,vt);case A:return et=oa(et),W(B,U,G,et,vt)}if(Zt(et)||z(et))return B=B.get(G)||null,tt(U,B,et,vt,null);if(typeof et.then=="function")return W(B,U,G,th(et),vt);if(et.$$typeof===Y)return W(B,U,G,Xc(U,et),vt);eh(U,et)}return null}function mt(B,U,G,et){for(var vt=null,qt=null,gt=U,kt=U=0,jt=null;gt!==null&&kt<G.length;kt++){gt.index>kt?(jt=gt,gt=null):jt=gt.sibling;var Gt=K(B,gt,G[kt],et);if(Gt===null){gt===null&&(gt=jt);break}i&&gt&&Gt.alternate===null&&r(B,gt),U=g(Gt,U,kt),qt===null?vt=Gt:qt.sibling=Gt,qt=Gt,gt=jt}if(kt===G.length)return o(B,gt),Bt&&os(B,kt),vt;if(gt===null){for(;kt<G.length;kt++)gt=it(B,G[kt],et),gt!==null&&(U=g(gt,U,kt),qt===null?vt=gt:qt.sibling=gt,qt=gt);return Bt&&os(B,kt),vt}for(gt=u(gt);kt<G.length;kt++)jt=W(gt,B,kt,G[kt],et),jt!==null&&(i&&jt.alternate!==null&&gt.delete(jt.key===null?kt:jt.key),U=g(jt,U,kt),qt===null?vt=jt:qt.sibling=jt,qt=jt);return i&&gt.forEach(function(mr){return r(B,mr)}),Bt&&os(B,kt),vt}function bt(B,U,G,et){if(G==null)throw Error(s(151));for(var vt=null,qt=null,gt=U,kt=U=0,jt=null,Gt=G.next();gt!==null&&!Gt.done;kt++,Gt=G.next()){gt.index>kt?(jt=gt,gt=null):jt=gt.sibling;var mr=K(B,gt,Gt.value,et);if(mr===null){gt===null&&(gt=jt);break}i&&gt&&mr.alternate===null&&r(B,gt),U=g(mr,U,kt),qt===null?vt=mr:qt.sibling=mr,qt=mr,gt=jt}if(Gt.done)return o(B,gt),Bt&&os(B,kt),vt;if(gt===null){for(;!Gt.done;kt++,Gt=G.next())Gt=it(B,Gt.value,et),Gt!==null&&(U=g(Gt,U,kt),qt===null?vt=Gt:qt.sibling=Gt,qt=Gt);return Bt&&os(B,kt),vt}for(gt=u(gt);!Gt.done;kt++,Gt=G.next())Gt=W(gt,B,kt,Gt.value,et),Gt!==null&&(i&&Gt.alternate!==null&&gt.delete(Gt.key===null?kt:Gt.key),U=g(Gt,U,kt),qt===null?vt=Gt:qt.sibling=Gt,qt=Gt);return i&&gt.forEach(function(J2){return r(B,J2)}),Bt&&os(B,kt),vt}function ie(B,U,G,et){if(typeof G=="object"&&G!==null&&G.type===V&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:t:{for(var vt=G.key;U!==null;){if(U.key===vt){if(vt=G.type,vt===V){if(U.tag===7){o(B,U.sibling),et=f(U,G.props.children),et.return=B,B=et;break t}}else if(U.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&oa(vt)===U.type){o(B,U.sibling),et=f(U,G.props),ql(et,G),et.return=B,B=et;break t}o(B,U);break}else r(B,U);U=U.sibling}G.type===V?(et=na(G.props.children,B.mode,et,G.key),et.return=B,B=et):(et=Kc(G.type,G.key,G.props,null,B.mode,et),ql(et,G),et.return=B,B=et)}return b(B);case D:t:{for(vt=G.key;U!==null;){if(U.key===vt)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){o(B,U.sibling),et=f(U,G.children||[]),et.return=B,B=et;break t}else{o(B,U);break}else r(B,U);U=U.sibling}et=Hd(G,B.mode,et),et.return=B,B=et}return b(B);case A:return G=oa(G),ie(B,U,G,et)}if(Zt(G))return mt(B,U,G,et);if(z(G)){if(vt=z(G),typeof vt!="function")throw Error(s(150));return G=vt.call(G),bt(B,U,G,et)}if(typeof G.then=="function")return ie(B,U,th(G),et);if(G.$$typeof===Y)return ie(B,U,Xc(B,G),et);eh(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(o(B,U.sibling),et=f(U,G),et.return=B,B=et):(o(B,U),et=Fd(G,B.mode,et),et.return=B,B=et),b(B)):o(B,U)}return function(B,U,G,et){try{Hl=0;var vt=ie(B,U,G,et);return lo=null,vt}catch(gt){if(gt===oo||gt===Jc)throw gt;var qt=Rn(29,gt,null,B.mode);return qt.lanes=et,qt.return=B,qt}}}var ua=Vv(!0),Ov=Vv(!1),Ws=!1;function em(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Yt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=$c(i),vv(i,null,o),r}return Gc(i,u,r,o),$c(i)}function Gl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,vl(i,o)}}function im(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var sm=!1;function $l(){if(sm){var i=ao;if(i!==null)throw i}}function Kl(i,r,o,u){sm=!1;var f=i.updateQueue;Ws=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var M=w,$=M.next;M.next=null,b===null?g=$:b.next=$,b=M;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,w=tt.lastBaseUpdate,w!==b&&(w===null?tt.firstBaseUpdate=$:w.next=$,tt.lastBaseUpdate=M))}if(g!==null){var it=f.baseState;b=0,tt=$=M=null,w=g;do{var K=w.lane&-536870913,W=K!==w.lane;if(W?(Pt&K)===K:(u&K)===K){K!==0&&K===ro&&(sm=!0),tt!==null&&(tt=tt.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var mt=i,bt=w;K=r;var ie=o;switch(bt.tag){case 1:if(mt=bt.payload,typeof mt=="function"){it=mt.call(ie,it,K);break t}it=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=bt.payload,K=typeof mt=="function"?mt.call(ie,it,K):mt,K==null)break t;it=_({},it,K);break t;case 2:Ws=!0}}K=w.callback,K!==null&&(i.flags|=64,W&&(i.flags|=8192),W=f.callbacks,W===null?f.callbacks=[K]:W.push(K))}else W={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},tt===null?($=tt=W,M=it):tt=tt.next=W,b|=K;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;W=w,w=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);tt===null&&(M=it),f.baseState=M,f.firstBaseUpdate=$,f.lastBaseUpdate=tt,g===null&&(f.shared.lanes=0),sr|=b,i.lanes=b,i.memoizedState=it}}function Pv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function jv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Pv(o[i],r)}var uo=L(null),nh=L(0);function Lv(i,r){i=vs,ct(nh,i),ct(uo,r),vs=i|r.baseLanes}function rm(){ct(nh,vs),ct(uo,uo.current)}function am(){vs=nh.current,nt(uo),nt(nh)}var In=L(null),Gn=null;function tr(i){var r=i.alternate;ct(Te,Te.current&1),ct(In,i),Gn===null&&(r===null||uo.current!==null||r.memoizedState!==null)&&(Gn=i)}function om(i){ct(Te,Te.current),ct(In,i),Gn===null&&(Gn=i)}function Uv(i){i.tag===22?(ct(Te,Te.current),ct(In,i),Gn===null&&(Gn=i)):er()}function er(){ct(Te,Te.current),ct(In,In.current)}function Nn(i){nt(In),Gn===i&&(Gn=null),nt(Te)}var Te=L(0);function ih(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||dp(o)||mp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cs=0,Nt=null,ee=null,Ne=null,sh=!1,co=!1,ca=!1,rh=0,Yl=0,ho=null,FR=0;function ge(){throw Error(s(321))}function lm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Cn(i[o],r[o]))return!1;return!0}function um(i,r,o,u,f,g){return cs=g,Nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?E_:wm,ca=!1,g=o(u,f),ca=!1,co&&(g=Bv(r,o,u,f)),zv(i),g}function zv(i){Z.H=Wl;var r=ee!==null&&ee.next!==null;if(cs=0,Ne=ee=Nt=null,sh=!1,Yl=0,ho=null,r)throw Error(s(300));i===null||De||(i=i.dependencies,i!==null&&Qc(i)&&(De=!0))}function Bv(i,r,o,u){Nt=i;var f=0;do{if(co&&(ho=null),Yl=0,co=!1,25<=f)throw Error(s(301));if(f+=1,Ne=ee=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=x_,g=r(o,u)}while(co);return g}function HR(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?Ql(r):r,i=i.useState()[0],(ee!==null?ee.memoizedState:null)!==i&&(Nt.flags|=1024),r}function cm(){var i=rh!==0;return rh=0,i}function hm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function fm(i){if(sh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}sh=!1}cs=0,Ne=ee=Nt=null,co=!1,Yl=rh=0,ho=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Nt.memoizedState=Ne=i:Ne=Ne.next=i,Ne}function Ee(){if(ee===null){var i=Nt.alternate;i=i!==null?i.memoizedState:null}else i=ee.next;var r=Ne===null?Nt.memoizedState:Ne.next;if(r!==null)Ne=r,ee=i;else{if(i===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));ee=i,i={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ne===null?Nt.memoizedState=Ne=i:Ne=Ne.next=i}return Ne}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(i){var r=Yl;return Yl+=1,ho===null&&(ho=[]),i=Dv(ho,i,r),r=Nt,(Ne===null?r.memoizedState:Ne.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?E_:wm),i}function oh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ql(i);if(i.$$typeof===Y)return Xe(i)}throw Error(s(438,String(i)))}function dm(i){var r=null,o=Nt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Nt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=ah(),Nt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=O;return r.index++,o}function hs(i,r){return typeof r=="function"?r(i):r}function lh(i){var r=Ee();return mm(r,ee,i)}function mm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var w=b=null,M=null,$=r,tt=!1;do{var it=$.lane&-536870913;if(it!==$.lane?(Pt&it)===it:(cs&it)===it){var K=$.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),it===ro&&(tt=!0);else if((cs&K)===K){$=$.next,K===ro&&(tt=!0);continue}else it={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(w=M=it,b=g):M=M.next=it,Nt.lanes|=K,sr|=K;it=$.action,ca&&o(g,it),g=$.hasEagerState?$.eagerState:o(g,it)}else K={lane:it,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(w=M=K,b=g):M=M.next=K,Nt.lanes|=it,sr|=it;$=$.next}while($!==null&&$!==r);if(M===null?b=g:M.next=w,!Cn(g,i.memoizedState)&&(De=!0,tt&&(o=ao,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=M,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function pm(i){var r=Ee(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=i(g,b.action),b=b.next;while(b!==f);Cn(g,r.memoizedState)||(De=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Fv(i,r,o){var u=Nt,f=Ee(),g=Bt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Cn((ee||f).memoizedState,o);if(b&&(f.memoizedState=o,De=!0),f=f.queue,vm(Gv.bind(null,u,f,i),[i]),f.getSnapshot!==r||b||Ne!==null&&Ne.memoizedState.tag&1){if(u.flags|=2048,fo(9,{destroy:void 0},qv.bind(null,u,f,o,r),null),se===null)throw Error(s(349));g||(cs&127)!==0||Hv(u,r,o)}return o}function Hv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Nt.updateQueue,r===null?(r=ah(),Nt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function qv(i,r,o,u){r.value=o,r.getSnapshot=u,$v(r)&&Kv(i)}function Gv(i,r,o){return o(function(){$v(r)&&Kv(i)})}function $v(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Cn(i,o)}catch{return!0}}function Kv(i){var r=ea(i,2);r!==null&&xn(r,i,2)}function gm(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),ca){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:i},r}function Yv(i,r,o,u){return i.baseState=o,mm(i,ee,typeof u=="function"?u:hs)}function qR(i,r,o,u,f){if(hh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Qv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Qv(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=Z.T,b={};Z.T=b;try{var w=o(f,u),M=Z.S;M!==null&&M(b,w),Xv(i,r,w)}catch($){ym(i,r,$)}finally{g!==null&&b.types!==null&&(g.types=b.types),Z.T=g}}else try{g=o(f,u),Xv(i,r,g)}catch($){ym(i,r,$)}}function Xv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Wv(i,r,u)},function(u){return ym(i,r,u)}):Wv(i,r,o)}function Wv(i,r,o){r.status="fulfilled",r.value=o,Jv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Qv(i,o)))}function ym(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Jv(r),r=r.next;while(r!==u)}i.action=null}function Jv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Zv(i,r){return r}function t_(i,r){if(Bt){var o=se.formState;if(o!==null){t:{var u=Nt;if(Bt){if(oe){e:{for(var f=oe,g=qn;f.nodeType!==8;){if(!g){f=null;break e}if(f=$n(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){oe=$n(f.nextSibling),u=f.data==="F!";break t}}Qs(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zv,lastRenderedState:r},o.queue=u,o=__.bind(null,Nt,u),u.dispatch=o,u=gm(!1),g=xm.bind(null,Nt,!1,u.queue),u=dn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=qR.bind(null,Nt,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function e_(i){var r=Ee();return n_(r,ee,i)}function n_(i,r,o){if(r=mm(i,r,Zv)[0],i=lh(hs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ql(r)}catch(b){throw b===oo?Jc:b}else u=r;r=Ee();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Nt.flags|=2048,fo(9,{destroy:void 0},GR.bind(null,f,o),null)),[u,g,i]}function GR(i,r){i.action=r}function i_(i){var r=Ee(),o=ee;if(o!==null)return n_(r,o,i);Ee(),r=r.memoizedState,o=Ee();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function fo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Nt.updateQueue,r===null&&(r=ah(),Nt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function s_(){return Ee().memoizedState}function uh(i,r,o,u){var f=dn();Nt.flags|=i,f.memoizedState=fo(1|r,{destroy:void 0},o,u===void 0?null:u)}function ch(i,r,o,u){var f=Ee();u=u===void 0?null:u;var g=f.memoizedState.inst;ee!==null&&u!==null&&lm(u,ee.memoizedState.deps)?f.memoizedState=fo(r,g,o,u):(Nt.flags|=i,f.memoizedState=fo(1|r,g,o,u))}function r_(i,r){uh(8390656,8,i,r)}function vm(i,r){ch(2048,8,i,r)}function $R(i){Nt.flags|=4;var r=Nt.updateQueue;if(r===null)r=ah(),Nt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function a_(i){var r=Ee().memoizedState;return $R({ref:r,nextImpl:i}),function(){if((Yt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function o_(i,r){return ch(4,2,i,r)}function l_(i,r){return ch(4,4,i,r)}function u_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function c_(i,r,o){o=o!=null?o.concat([i]):null,ch(4,4,u_.bind(null,r,i),o)}function _m(){}function h_(i,r){var o=Ee();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&lm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function f_(i,r){var o=Ee();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&lm(r,u[1]))return u[0];if(u=i(),ca){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u}function bm(i,r,o){return o===void 0||(cs&1073741824)!==0&&(Pt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=db(),Nt.lanes|=i,sr|=i,o)}function d_(i,r,o,u){return Cn(o,r)?o:uo.current!==null?(i=bm(i,o,u),Cn(i,r)||(De=!0),i):(cs&42)===0||(cs&1073741824)!==0&&(Pt&261930)===0?(De=!0,i.memoizedState=o):(i=db(),Nt.lanes|=i,sr|=i,r)}function m_(i,r,o,u,f){var g=lt.p;lt.p=g!==0&&8>g?g:8;var b=Z.T,w={};Z.T=w,xm(i,!1,r,o);try{var M=f(),$=Z.S;if($!==null&&$(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var tt=BR(M,u);Xl(i,r,tt,Mn(i))}else Xl(i,r,u,Mn(i))}catch(it){Xl(i,r,{then:function(){},status:"rejected",reason:it},Mn())}finally{lt.p=g,b!==null&&w.types!==null&&(b.types=w.types),Z.T=b}}function KR(){}function Tm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=p_(i).queue;m_(i,f,r,rt,o===null?KR:function(){return g_(i),o(u)})}function p_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:rt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function g_(i){var r=p_(i);r.next===null&&(r=i.alternate.memoizedState),Xl(i,r.next.queue,{},Mn())}function Em(){return Xe(du)}function y_(){return Ee().memoizedState}function v_(){return Ee().memoizedState}function YR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Mn();i=Js(o);var u=Zs(r,i,o);u!==null&&(xn(u,r,o),Gl(u,r,o)),r={cache:Wd()},i.payload=r;return}r=r.return}}function QR(i,r,o){var u=Mn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},hh(i)?b_(r,o):(o=zd(i,r,o,u),o!==null&&(xn(o,i,u),T_(o,r,u)))}function __(i,r,o){var u=Mn();Xl(i,r,o,u)}function Xl(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(hh(i))b_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,w=g(b,o);if(f.hasEagerState=!0,f.eagerState=w,Cn(w,b))return Gc(i,r,f,0),se===null&&qc(),!1}catch{}if(o=zd(i,r,f,u),o!==null)return xn(o,i,u),T_(o,r,u),!0}return!1}function xm(i,r,o,u){if(u={lane:2,revertLane:ep(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},hh(i)){if(r)throw Error(s(479))}else r=zd(i,o,u,2),r!==null&&xn(r,i,2)}function hh(i){var r=i.alternate;return i===Nt||r!==null&&r===Nt}function b_(i,r){co=sh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function T_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,vl(i,o)}}var Wl={readContext:Xe,use:oh,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};Wl.useEffectEvent=ge;var E_={readContext:Xe,use:oh,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Xe,useEffect:r_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,uh(4194308,4,u_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return uh(4194308,4,i,r)},useInsertionEffect:function(i,r){uh(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(ca){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var f=o(r);if(ca){On(!0);try{o(r)}finally{On(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=QR.bind(null,Nt,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=gm(i);var r=i.queue,o=__.bind(null,Nt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:_m,useDeferredValue:function(i,r){var o=dn();return bm(o,i,r)},useTransition:function(){var i=gm(!1);return i=m_.bind(null,Nt,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Nt,f=dn();if(Bt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),se===null)throw Error(s(349));(Pt&127)!==0||Hv(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,r_(Gv.bind(null,u,g,i),[i]),u.flags|=2048,fo(9,{destroy:void 0},qv.bind(null,u,g,o,r),null),o},useId:function(){var i=dn(),r=se.identifierPrefix;if(Bt){var o=zi,u=Ui;o=(u&~(1<<32-_e(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=rh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=FR++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Em,useFormState:t_,useActionState:t_,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=xm.bind(null,Nt,!0,o),o.dispatch=r,[i,r]},useMemoCache:dm,useCacheRefresh:function(){return dn().memoizedState=YR.bind(null,Nt)},useEffectEvent:function(i){var r=dn(),o={impl:i};return r.memoizedState=o,function(){if((Yt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},wm={readContext:Xe,use:oh,useCallback:h_,useContext:Xe,useEffect:vm,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:lh,useRef:s_,useState:function(){return lh(hs)},useDebugValue:_m,useDeferredValue:function(i,r){var o=Ee();return d_(o,ee.memoizedState,i,r)},useTransition:function(){var i=lh(hs)[0],r=Ee().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:Fv,useId:y_,useHostTransitionStatus:Em,useFormState:e_,useActionState:e_,useOptimistic:function(i,r){var o=Ee();return Yv(o,ee,i,r)},useMemoCache:dm,useCacheRefresh:v_};wm.useEffectEvent=a_;var x_={readContext:Xe,use:oh,useCallback:h_,useContext:Xe,useEffect:vm,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:pm,useRef:s_,useState:function(){return pm(hs)},useDebugValue:_m,useDeferredValue:function(i,r){var o=Ee();return ee===null?bm(o,i,r):d_(o,ee.memoizedState,i,r)},useTransition:function(){var i=pm(hs)[0],r=Ee().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:Fv,useId:y_,useHostTransitionStatus:Em,useFormState:i_,useActionState:i_,useOptimistic:function(i,r){var o=Ee();return ee!==null?Yv(o,ee,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:dm,useCacheRefresh:v_};x_.useEffectEvent=a_;function Sm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Am={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Mn(),f=Js(u);f.payload=r,o!=null&&(f.callback=o),r=Zs(i,f,u),r!==null&&(xn(r,i,u),Gl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Mn(),f=Js(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Zs(i,f,u),r!==null&&(xn(r,i,u),Gl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Mn(),u=Js(o);u.tag=2,r!=null&&(u.callback=r),r=Zs(i,u,o),r!==null&&(xn(r,i,o),Gl(r,i,o))}};function w_(i,r,o,u,f,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!jl(o,u)||!jl(f,g):!0}function S_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Am.enqueueReplaceState(r,r.state,null)}function ha(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function A_(i){Hc(i)}function C_(i){console.error(i)}function R_(i){Hc(i)}function fh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function I_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cm(i,r,o){return o=Js(o),o.tag=3,o.payload={element:null},o.callback=function(){fh(i,r)},o}function N_(i){return i=Js(i),i.tag=3,i}function D_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){I_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){I_(r,o,u),typeof f!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function XR(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&so(r,o,f,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?wh():o.alternate===null&&ye===0&&(ye=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Zc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Jm(i,u,f)),!1;case 22:return o.flags|=65536,u===Zc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Jm(i,u,f)),!1}throw Error(s(435,o.tag))}return Jm(i,u,f),wh(),!1}if(Bt)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==$d&&(i=Error(s(422),{cause:u}),zl(Bn(i,o)))):(u!==$d&&(r=Error(s(423),{cause:u}),zl(Bn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Bn(u,o),f=Cm(i.stateNode,u,f),im(i,f),ye!==4&&(ye=2)),!1;var g=Error(s(520),{cause:u});if(g=Bn(g,o),ru===null?ru=[g]:ru.push(g),ye!==4&&(ye=2),r===null)return!0;u=Bn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Cm(o.stateNode,u,i),im(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rr===null||!rr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=N_(f),D_(f,i,o,u),im(o,f),!1}o=o.return}while(o!==null);return!1}var Rm=Error(s(461)),De=!1;function We(i,r,o,u){r.child=i===null?Ov(r,null,o,u):ua(r,i.child,o,u)}function k_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return ra(r),u=um(i,r,o,b,g,f),w=cm(),i!==null&&!De?(hm(i,r,f),fs(i,r,f)):(Bt&&w&&qd(r),r.flags|=1,We(i,r,u,f),r.child)}function M_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!Bd(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,V_(i,r,g,u,f)):(i=Kc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Pm(i,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:jl,o(b,u)&&i.ref===r.ref)return fs(i,r,f)}return r.flags|=1,i=as(g,u),i.ref=r.ref,i.return=r,r.child=i}function V_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(jl(g,u)&&i.ref===r.ref)if(De=!1,r.pendingProps=u=g,Pm(i,f))(i.flags&131072)!==0&&(De=!0);else return r.lanes=i.lanes,fs(i,r,f)}return Im(i,r,o,u,f)}function O_(i,r,o,u){var f=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,r.child=null;return P_(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wc(r,g!==null?g.cachePool:null),g!==null?Lv(r,g):rm(),Uv(r);else return u=r.lanes=536870912,P_(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Wc(r,g.cachePool),Lv(r,g),er(),r.memoizedState=null):(i!==null&&Wc(r,null),rm(),er());return We(i,r,f,o),r.child}function Jl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function P_(i,r,o,u,f){var g=Zd();return g=g===null?null:{parent:Ie._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Wc(r,null),rm(),Uv(r),i!==null&&so(i,r,u,!0),r.childLanes=f,null}function dh(i,r){return r=ph({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function j_(i,r,o){return ua(r,i.child,null,o),i=dh(r,r.pendingProps),i.flags|=2,Nn(r),r.memoizedState=null,i}function WR(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Bt){if(u.mode==="hidden")return i=dh(r,u),r.lanes=536870912,Jl(null,i);if(om(r),(i=oe)?(i=Qb(i,qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=bv(i),o.return=r,r.child=o,Qe=r,oe=null)):i=null,i===null)throw Qs(r);return r.lanes=536870912,null}return dh(r,u)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(om(r),f)if(r.flags&256)r.flags&=-257,r=j_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(De||so(i,r,o,!1),f=(o&i.childLanes)!==0,De||f){if(u=se,u!==null&&(b=_l(u,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,ea(i,b),xn(u,i,b),Rm;wh(),r=j_(i,r,o)}else i=g.treeContext,oe=$n(b.nextSibling),Qe=r,Bt=!0,Ys=null,qn=!1,i!==null&&xv(r,i),r=dh(r,u),r.flags|=4096;return r}return i=as(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function mh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Im(i,r,o,u,f){return ra(r),o=um(i,r,o,u,void 0,f),u=cm(),i!==null&&!De?(hm(i,r,f),fs(i,r,f)):(Bt&&u&&qd(r),r.flags|=1,We(i,r,o,f),r.child)}function L_(i,r,o,u,f,g){return ra(r),r.updateQueue=null,o=Bv(r,u,o,f),zv(i),u=cm(),i!==null&&!De?(hm(i,r,g),fs(i,r,g)):(Bt&&u&&qd(r),r.flags|=1,We(i,r,o,g),r.child)}function U_(i,r,o,u,f){if(ra(r),r.stateNode===null){var g=to,b=o.contextType;typeof b=="object"&&b!==null&&(g=Xe(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Am,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},em(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?Xe(b):to,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Sm(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Am.enqueueReplaceState(g,g.state,null),Kl(r,u,g,f),$l(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,M=ha(o,w);g.props=M;var $=g.context,tt=o.contextType;b=to,typeof tt=="object"&&tt!==null&&(b=Xe(tt));var it=o.getDerivedStateFromProps;tt=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,tt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||$!==b)&&S_(r,g,u,b),Ws=!1;var K=r.memoizedState;g.state=K,Kl(r,u,g,f),$l(),$=r.memoizedState,w||K!==$||Ws?(typeof it=="function"&&(Sm(r,o,it,u),$=r.memoizedState),(M=Ws||w_(r,o,M,u,K,$,b))?(tt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),g.props=u,g.state=$,g.context=b,u=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,nm(i,r),b=r.memoizedProps,tt=ha(o,b),g.props=tt,it=r.pendingProps,K=g.context,$=o.contextType,M=to,typeof $=="object"&&$!==null&&(M=Xe($)),w=o.getDerivedStateFromProps,($=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==it||K!==M)&&S_(r,g,u,M),Ws=!1,K=r.memoizedState,g.state=K,Kl(r,u,g,f),$l();var W=r.memoizedState;b!==it||K!==W||Ws||i!==null&&i.dependencies!==null&&Qc(i.dependencies)?(typeof w=="function"&&(Sm(r,o,w,u),W=r.memoizedState),(tt=Ws||w_(r,o,tt,u,K,W,M)||i!==null&&i.dependencies!==null&&Qc(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),g.props=u,g.state=W,g.context=M,u=tt):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,mh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=ua(r,i.child,null,f),r.child=ua(r,null,o,f)):We(i,r,o,f),r.memoizedState=g.state,i=r.child):i=fs(i,r,f),i}function z_(i,r,o,u){return ia(),r.flags|=256,We(i,r,o,u),r.child}var Nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dm(i){return{baseLanes:i,cachePool:Iv()}}function km(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=kn),i}function B_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Te.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Bt){if(f?tr(r):er(),(i=oe)?(i=Qb(i,qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=bv(i),o.return=r,r.child=o,Qe=r,oe=null)):i=null,i===null)throw Qs(r);return mp(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,f?(er(),f=r.mode,w=ph({mode:"hidden",children:w},f),u=na(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=Dm(o),u.childLanes=km(i,b,o),r.memoizedState=Nm,Jl(null,u)):(tr(r),Mm(r,w))}var M=i.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(g)r.flags&256?(tr(r),r.flags&=-257,r=Vm(i,r,o)):r.memoizedState!==null?(er(),r.child=i.child,r.flags|=128,r=null):(er(),w=u.fallback,f=r.mode,u=ph({mode:"visible",children:u.children},f),w=na(w,f,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,ua(r,i.child,null,o),u=r.child,u.memoizedState=Dm(o),u.childLanes=km(i,b,o),r.memoizedState=Nm,r=Jl(null,u));else if(tr(r),mp(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var $=b.dgst;b=$,u=Error(s(419)),u.stack="",u.digest=b,zl({value:u,source:null,stack:null}),r=Vm(i,r,o)}else if(De||so(i,r,o,!1),b=(o&i.childLanes)!==0,De||b){if(b=se,b!==null&&(u=_l(b,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,ea(i,u),xn(b,i,u),Rm;dp(w)||wh(),r=Vm(i,r,o)}else dp(w)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,oe=$n(w.nextSibling),Qe=r,Bt=!0,Ys=null,qn=!1,i!==null&&xv(r,i),r=Mm(r,u.children),r.flags|=4096);return r}return f?(er(),w=u.fallback,f=r.mode,M=i.child,$=M.sibling,u=as(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,$!==null?w=as($,w):(w=na(w,f,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,Jl(null,u),u=r.child,w=i.child.memoizedState,w===null?w=Dm(o):(f=w.cachePool,f!==null?(M=Ie._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Iv(),w={baseLanes:w.baseLanes|o,cachePool:f}),u.memoizedState=w,u.childLanes=km(i,b,o),r.memoizedState=Nm,Jl(i.child,u)):(tr(r),o=i.child,i=o.sibling,o=as(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Mm(i,r){return r=ph({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ph(i,r){return i=Rn(22,i,null,r),i.lanes=0,i}function Vm(i,r,o){return ua(r,i.child,null,o),i=Mm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function F_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Qd(i.return,r,o)}function Om(i,r,o,u,f,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=f,b.treeForkCount=g)}function H_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var b=Te.current,w=(b&2)!==0;if(w?(b=b&1|2,r.flags|=128):b&=1,ct(Te,b),We(i,r,u,o),u=Bt?Ul:0,!w&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&F_(i,o,r);else if(i.tag===19)F_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&ih(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Om(r,!1,f,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&ih(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Om(r,!0,o,null,g,u);break;case"together":Om(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function fs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(so(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=as(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=as(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Pm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Qc(i)))}function JR(i,r,o){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),Xs(r,Ie,i.memoizedState.cache),ia();break;case 27:case 5:jr(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:Xs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,om(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?B_(i,r,o):(tr(r),i=fs(i,r,o),i!==null?i.sibling:null);tr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(so(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return H_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(Te,Te.current),u)break;return null;case 22:return r.lanes=0,O_(i,r,o,r.pendingProps);case 24:Xs(r,Ie,i.memoizedState.cache)}return fs(i,r,o)}function q_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)De=!0;else{if(!Pm(i,o)&&(r.flags&128)===0)return De=!1,JR(i,r,o);De=(i.flags&131072)!==0}else De=!1,Bt&&(r.flags&1048576)!==0&&Ev(r,Ul,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=oa(r.elementType),r.type=i,typeof i=="function")Bd(i)?(u=ha(i,u),r.tag=1,r=U_(null,r,i,u,o)):(r.tag=0,r=Im(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===J){r.tag=11,r=k_(null,r,i,u,o);break t}else if(f===R){r.tag=14,r=M_(null,r,i,u,o);break t}}throw r=$t(i)||i,Error(s(306,r,""))}}return r;case 0:return Im(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ha(u,r.pendingProps),U_(i,r,u,f,o);case 3:t:{if(Le(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,nm(i,r),Kl(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Xs(r,Ie,u),u!==g.cache&&Xd(r,[Ie],o,!0),$l(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=z_(i,r,u,o);break t}else if(u!==f){f=Bn(Error(s(424)),r),zl(f),r=z_(i,r,u,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,oe=$n(i.firstChild),Qe=r,Bt=!0,Ys=null,qn=!0,o=Ov(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ia(),u===f){r=fs(i,r,o);break t}We(i,r,u,o)}r=r.child}return r;case 26:return mh(i,r),i===null?(o=eT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Bt||(o=r.type,i=r.pendingProps,u=Dh(Dt.current).createElement(o),u[Ae]=r,u[He]=i,Je(u,o,i),Ce(u),r.stateNode=u):r.memoizedState=eT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return jr(r),i===null&&Bt&&(u=r.stateNode=Jb(r.type,r.pendingProps,Dt.current),Qe=r,qn=!0,f=oe,ur(r.type)?(pp=f,oe=$n(u.firstChild)):oe=f),We(i,r,r.pendingProps.children,o),mh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Bt&&((f=u=oe)&&(u=R2(u,r.type,r.pendingProps,qn),u!==null?(r.stateNode=u,Qe=r,oe=$n(u.firstChild),qn=!1,f=!0):f=!1),f||Qs(r)),jr(r),f=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,cp(f,g)?u=null:b!==null&&cp(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=um(i,r,HR,null,null,o),du._currentValue=f),mh(i,r),We(i,r,u,o),r.child;case 6:return i===null&&Bt&&((i=o=oe)&&(o=I2(o,r.pendingProps,qn),o!==null?(r.stateNode=o,Qe=r,oe=null,i=!0):i=!1),i||Qs(r)),null;case 13:return B_(i,r,o);case 4:return Le(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ua(r,null,u,o):We(i,r,u,o),r.child;case 11:return k_(i,r,r.type,r.pendingProps,o);case 7:return We(i,r,r.pendingProps,o),r.child;case 8:return We(i,r,r.pendingProps.children,o),r.child;case 12:return We(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Xs(r,r.type,u.value),We(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ra(r),f=Xe(f),u=u(f),r.flags|=1,We(i,r,u,o),r.child;case 14:return M_(i,r,r.type,r.pendingProps,o);case 15:return V_(i,r,r.type,r.pendingProps,o);case 19:return H_(i,r,o);case 31:return WR(i,r,o);case 22:return O_(i,r,o,r.pendingProps);case 24:return ra(r),u=Xe(Ie),i===null?(f=Zd(),f===null&&(f=se,g=Wd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},em(r),Xs(r,Ie,f)):((i.lanes&o)!==0&&(nm(i,r),Kl(r,null,null,o),$l()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Xs(r,Ie,u)):(u=g.cache,Xs(r,Ie,u),u!==f.cache&&Xd(r,[Ie],o,!0))),We(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ds(i){i.flags|=4}function jm(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(yb())i.flags|=8192;else throw la=Zc,tm}else i.flags&=-16777217}function G_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!aT(r))if(yb())i.flags|=8192;else throw la=Zc,tm}function gh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Ec():536870912,i.lanes|=r,yo|=r)}function Zl(i,r){if(!Bt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function le(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function ZR(i,r,o){var u=r.pendingProps;switch(Gd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(r),null;case 1:return le(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),us(Ie),ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(io(r)?ds(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kd())),le(r),null;case 26:var f=r.type,g=r.memoizedState;return i===null?(ds(r),g!==null?(le(r),G_(r,g)):(le(r),jm(r,f,null,u,o))):g?g!==i.memoizedState?(ds(r),le(r),G_(r,g)):(le(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&ds(r),le(r),jm(r,f,i,u,o)),null;case 27:if(Oa(r),o=Dt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return le(r),null}i=ht.current,io(r)?wv(r):(i=Jb(f,u,o),r.stateNode=i,ds(r))}return le(r),null;case 5:if(Oa(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return le(r),null}if(g=ht.current,io(r))wv(r);else{var b=Dh(Dt.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?b.createElement(f,{is:u.is}):b.createElement(f)}}g[Ae]=r,g[He]=u;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;t:switch(Je(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ds(r)}}return le(r),jm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Dt.current,io(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Qe,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ae]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Bb(i.nodeValue,o)),i||Qs(r,!0)}else i=Dh(i).createTextNode(u),i[Ae]=r,r.stateNode=i}return le(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=io(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ae]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),i=!1}else o=Kd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Nn(r),r):(Nn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return le(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=io(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ae]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),f=!1}else f=Kd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Nn(r),r):(Nn(r),null)}return Nn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),gh(r,r.updateQueue),le(r),null);case 4:return ce(),i===null&&rp(r.stateNode.containerInfo),le(r),null;case 10:return us(r.type),le(r),null;case 19:if(nt(Te),u=r.memoizedState,u===null)return le(r),null;if(f=(r.flags&128)!==0,g=u.rendering,g===null)if(f)Zl(u,!1);else{if(ye!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=ih(i),g!==null){for(r.flags|=128,Zl(u,!1),i=g.updateQueue,r.updateQueue=i,gh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)_v(o,i),o=o.sibling;return ct(Te,Te.current&1|2),Bt&&os(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&hn()>Th&&(r.flags|=128,f=!0,Zl(u,!1),r.lanes=4194304)}else{if(!f)if(i=ih(g),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,gh(r,i),Zl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Bt)return le(r),null}else 2*hn()-u.renderingStartTime>Th&&o!==536870912&&(r.flags|=128,f=!0,Zl(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=hn(),i.sibling=null,o=Te.current,ct(Te,f?o&1|2:o&1),Bt&&os(r,u.treeForkCount),i):(le(r),null);case 22:case 23:return Nn(r),am(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(le(r),r.subtreeFlags&6&&(r.flags|=8192)):le(r),o=r.updateQueue,o!==null&&gh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&nt(aa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),us(Ie),le(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function t2(i,r){switch(Gd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return us(Ie),ce(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Oa(r),null;case 31:if(r.memoizedState!==null){if(Nn(r),r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Nn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return nt(Te),null;case 4:return ce(),null;case 10:return us(r.type),null;case 22:case 23:return Nn(r),am(),i!==null&&nt(aa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return us(Ie),null;case 25:return null;default:return null}}function $_(i,r){switch(Gd(r),r.tag){case 3:us(Ie),ce();break;case 26:case 27:case 5:Oa(r);break;case 4:ce();break;case 31:r.memoizedState!==null&&Nn(r);break;case 13:Nn(r);break;case 19:nt(Te);break;case 10:us(r.type);break;case 22:case 23:Nn(r),am(),i!==null&&nt(aa);break;case 24:us(Ie)}}function tu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(w){Jt(r,r.return,w)}}function nr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=r;var M=o,$=w;try{$()}catch(tt){Jt(f,M,tt)}}}u=u.next}while(u!==g)}}catch(tt){Jt(r,r.return,tt)}}function K_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{jv(r,o)}catch(u){Jt(i,i.return,u)}}}function Y_(i,r,o){o.props=ha(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Jt(i,r,u)}}function eu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Jt(i,r,f)}}function Bi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Jt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Jt(i,r,f)}else o.current=null}function Q_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Jt(i,i.return,f)}}function Lm(i,r,o){try{var u=i.stateNode;E2(u,i.type,o,r),u[He]=r}catch(f){Jt(i,i.return,f)}}function X_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ur(i.type)||i.tag===4}function Um(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||X_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ur(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ii));else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(zm(i,r,o),i=i.sibling;i!==null;)zm(i,r,o),i=i.sibling}function yh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(yh(i,r,o),i=i.sibling;i!==null;)yh(i,r,o),i=i.sibling}function W_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Je(r,u,o),r[Ae]=i,r[He]=o}catch(g){Jt(i,i.return,g)}}var ms=!1,ke=!1,Bm=!1,J_=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function e2(i,r){if(i=i.containerInfo,lp=Lh,i=cv(i),Vd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,w=-1,M=-1,$=0,tt=0,it=i,K=null;e:for(;;){for(var W;it!==o||f!==0&&it.nodeType!==3||(w=b+f),it!==g||u!==0&&it.nodeType!==3||(M=b+u),it.nodeType===3&&(b+=it.nodeValue.length),(W=it.firstChild)!==null;)K=it,it=W;for(;;){if(it===i)break e;if(K===o&&++$===f&&(w=b),K===g&&++tt===u&&(M=b),(W=it.nextSibling)!==null)break;it=K,K=it.parentNode}it=W}o=w===-1||M===-1?null:{start:w,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(up={focusedElem:i,selectionRange:o},Lh=!1,Ge=r;Ge!==null;)if(r=Ge,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ge=i;else for(;Ge!==null;){switch(r=Ge,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var mt=ha(o.type,f);i=u.getSnapshotBeforeUpdate(mt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(bt){Jt(o,o.return,bt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)fp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":fp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ge=i;break}Ge=r.return}}function Z_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:gs(i,o),u&4&&tu(5,o);break;case 1:if(gs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){Jt(o,o.return,b)}else{var f=ha(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(o,o.return,b)}}u&64&&K_(o),u&512&&eu(o,o.return);break;case 3:if(gs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{jv(i,r)}catch(b){Jt(o,o.return,b)}}break;case 27:r===null&&u&4&&W_(o);case 26:case 5:gs(i,o),r===null&&u&4&&Q_(o),u&512&&eu(o,o.return);break;case 12:gs(i,o);break;case 31:gs(i,o),u&4&&nb(i,o);break;case 13:gs(i,o),u&4&&ib(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=c2.bind(null,o),N2(i,o))));break;case 22:if(u=o.memoizedState!==null||ms,!u){r=r!==null&&r.memoizedState!==null||ke,f=ms;var g=ke;ms=u,(ke=r)&&!g?ys(i,o,(o.subtreeFlags&8772)!==0):gs(i,o),ms=f,ke=g}break;case 30:break;default:gs(i,o)}}function tb(i){var r=i.alternate;r!==null&&(i.alternate=null,tb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&za(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var fe=null,_n=!1;function ps(i,r,o){for(o=o.child;o!==null;)eb(i,r,o),o=o.sibling}function eb(i,r,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Zn,o)}catch{}switch(o.tag){case 26:ke||Bi(o,r),ps(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ke||Bi(o,r);var u=fe,f=_n;ur(o.type)&&(fe=o.stateNode,_n=!1),ps(i,r,o),cu(o.stateNode),fe=u,_n=f;break;case 5:ke||Bi(o,r);case 6:if(u=fe,f=_n,fe=null,ps(i,r,o),fe=u,_n=f,fe!==null)if(_n)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(o.stateNode)}catch(g){Jt(o,r,g)}else try{fe.removeChild(o.stateNode)}catch(g){Jt(o,r,g)}break;case 18:fe!==null&&(_n?(i=fe,Kb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),So(i)):Kb(fe,o.stateNode));break;case 4:u=fe,f=_n,fe=o.stateNode.containerInfo,_n=!0,ps(i,r,o),fe=u,_n=f;break;case 0:case 11:case 14:case 15:nr(2,o,r),ke||nr(4,o,r),ps(i,r,o);break;case 1:ke||(Bi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Y_(o,r,u)),ps(i,r,o);break;case 21:ps(i,r,o);break;case 22:ke=(u=ke)||o.memoizedState!==null,ps(i,r,o),ke=u;break;default:ps(i,r,o)}}function nb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{So(i)}catch(o){Jt(r,r.return,o)}}}function ib(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{So(i)}catch(o){Jt(r,r.return,o)}}function n2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new J_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new J_),r;default:throw Error(s(435,i.tag))}}function vh(i,r){var o=n2(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=h2.bind(null,i,u);u.then(f,f)}})}function bn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,b=r,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(ur(w.type)){fe=w.stateNode,_n=!1;break t}break;case 5:fe=w.stateNode,_n=!1;break t;case 3:case 4:fe=w.stateNode.containerInfo,_n=!0;break t}w=w.return}if(fe===null)throw Error(s(160));eb(g,b,f),fe=null,_n=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)sb(r,i),r=r.sibling}var ui=null;function sb(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(r,i),Tn(i),u&4&&(nr(3,i,i.return),tu(3,i),nr(5,i,i.return));break;case 1:bn(r,i),Tn(i),u&512&&(ke||o===null||Bi(o,o.return)),u&64&&ms&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ui;if(bn(r,i),Tn(i),u&512&&(ke||o===null||Bi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ci]||g[Ae]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Je(g,u,o),g[Ae]=i,Ce(g),u=g;break t;case"link":var b=sT("link","href",f).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break e}}g=f.createElement(u),Je(g,u,o),f.head.appendChild(g);break;case"meta":if(b=sT("meta","content",f).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break e}}g=f.createElement(u),Je(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[Ae]=i,Ce(g),u=g}i.stateNode=u}else rT(f,i.type,i.stateNode);else i.stateNode=iT(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?rT(f,i.type,i.stateNode):iT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Lm(i,i.memoizedProps,o.memoizedProps)}break;case 27:bn(r,i),Tn(i),u&512&&(ke||o===null||Bi(o,o.return)),o!==null&&u&4&&Lm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(bn(r,i),Tn(i),u&512&&(ke||o===null||Bi(o,o.return)),i.flags&32){f=i.stateNode;try{vn(f,"")}catch(mt){Jt(i,i.return,mt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Lm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Bm=!0);break;case 6:if(bn(r,i),Tn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(mt){Jt(i,i.return,mt)}}break;case 3:if(Vh=null,f=ui,ui=kh(r.containerInfo),bn(r,i),ui=f,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{So(r.containerInfo)}catch(mt){Jt(i,i.return,mt)}Bm&&(Bm=!1,rb(i));break;case 4:u=ui,ui=kh(i.stateNode.containerInfo),bn(r,i),Tn(i),ui=u;break;case 12:bn(r,i),Tn(i);break;case 31:bn(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,vh(i,u)));break;case 13:bn(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(bh=hn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,vh(i,u)));break;case 22:f=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,$=ms,tt=ke;if(ms=$||f,ke=tt||M,bn(r,i),ke=tt,ms=$,Tn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||M||ms||ke||fa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=M.stateNode;var it=M.memoizedProps.style,K=it!=null&&it.hasOwnProperty("display")?it.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(mt){Jt(M,M.return,mt)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(mt){Jt(M,M.return,mt)}}}else if(r.tag===18){if(o===null){M=r;try{var W=M.stateNode;f?Yb(W,!0):Yb(M.stateNode,!1)}catch(mt){Jt(M,M.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,vh(i,o))));break;case 19:bn(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,vh(i,u)));break;case 30:break;case 21:break;default:bn(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(X_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Um(i);yh(i,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(vn(b,""),o.flags&=-33);var w=Um(i);yh(i,w,b);break;case 3:case 4:var M=o.stateNode.containerInfo,$=Um(i);zm(i,$,M);break;default:throw Error(s(161))}}catch(tt){Jt(i,i.return,tt)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function rb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;rb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function gs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Z_(i,r.alternate,r),r=r.sibling}function fa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return),fa(r);break;case 1:Bi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Y_(r,r.return,o),fa(r);break;case 27:cu(r.stateNode);case 26:case 5:Bi(r,r.return),fa(r);break;case 22:r.memoizedState===null&&fa(r);break;case 30:fa(r);break;default:fa(r)}i=i.sibling}}function ys(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:ys(f,g,o),tu(4,g);break;case 1:if(ys(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){Jt(u,u.return,$)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Pv(M[f],w)}catch($){Jt(u,u.return,$)}}o&&b&64&&K_(g),eu(g,g.return);break;case 27:W_(g);case 26:case 5:ys(f,g,o),o&&u===null&&b&4&&Q_(g),eu(g,g.return);break;case 12:ys(f,g,o);break;case 31:ys(f,g,o),o&&b&4&&nb(f,g);break;case 13:ys(f,g,o),o&&b&4&&ib(f,g);break;case 22:g.memoizedState===null&&ys(f,g,o),eu(g,g.return);break;case 30:break;default:ys(f,g,o)}r=r.sibling}}function Fm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Bl(o))}function Hm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bl(i))}function ci(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ab(i,r,o,u),r=r.sibling}function ab(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ci(i,r,o,u),f&2048&&tu(9,r);break;case 1:ci(i,r,o,u);break;case 3:ci(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bl(i)));break;case 12:if(f&2048){ci(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Jt(r,r.return,M)}}else ci(i,r,o,u);break;case 31:ci(i,r,o,u);break;case 13:ci(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?ci(i,r,o,u):nu(i,r):g._visibility&2?ci(i,r,o,u):(g._visibility|=2,mo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Fm(b,r);break;case 24:ci(i,r,o,u),f&2048&&Hm(r.alternate,r);break;default:ci(i,r,o,u)}}function mo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,b=r,w=o,M=u,$=b.flags;switch(b.tag){case 0:case 11:case 15:mo(g,b,w,M,f),tu(8,b);break;case 23:break;case 22:var tt=b.stateNode;b.memoizedState!==null?tt._visibility&2?mo(g,b,w,M,f):nu(g,b):(tt._visibility|=2,mo(g,b,w,M,f)),f&&$&2048&&Fm(b.alternate,b);break;case 24:mo(g,b,w,M,f),f&&$&2048&&Hm(b.alternate,b);break;default:mo(g,b,w,M,f)}r=r.sibling}}function nu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:nu(o,u),f&2048&&Fm(u.alternate,u);break;case 24:nu(o,u),f&2048&&Hm(u.alternate,u);break;default:nu(o,u)}r=r.sibling}}var iu=8192;function po(i,r,o){if(i.subtreeFlags&iu)for(i=i.child;i!==null;)ob(i,r,o),i=i.sibling}function ob(i,r,o){switch(i.tag){case 26:po(i,r,o),i.flags&iu&&i.memoizedState!==null&&F2(o,ui,i.memoizedState,i.memoizedProps);break;case 5:po(i,r,o);break;case 3:case 4:var u=ui;ui=kh(i.stateNode.containerInfo),po(i,r,o),ui=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=iu,iu=16777216,po(i,r,o),iu=u):po(i,r,o));break;default:po(i,r,o)}}function lb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function su(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,cb(u,i)}lb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ub(i),i=i.sibling}function ub(i){switch(i.tag){case 0:case 11:case 15:su(i),i.flags&2048&&nr(9,i,i.return);break;case 3:su(i);break;case 12:su(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,_h(i)):su(i);break;default:su(i)}}function _h(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,cb(u,i)}lb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:nr(8,r,r.return),_h(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,_h(r));break;default:_h(r)}i=i.sibling}}function cb(i,r){for(;Ge!==null;){var o=Ge;switch(o.tag){case 0:case 11:case 15:nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ge=u;else t:for(o=i;Ge!==null;){u=Ge;var f=u.sibling,g=u.return;if(tb(u),u===o){Ge=null;break t}if(f!==null){f.return=g,Ge=f;break t}Ge=g}}}var i2={getCacheForType:function(i){var r=Xe(Ie),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Xe(Ie).controller.signal}},s2=typeof WeakMap=="function"?WeakMap:Map,Yt=0,se=null,Vt=null,Pt=0,Wt=0,Dn=null,ir=!1,go=!1,qm=!1,vs=0,ye=0,sr=0,da=0,Gm=0,kn=0,yo=0,ru=null,En=null,$m=!1,bh=0,hb=0,Th=1/0,Eh=null,rr=null,ze=0,ar=null,vo=null,_s=0,Km=0,Ym=null,fb=null,au=0,Qm=null;function Mn(){return(Yt&2)!==0&&Pt!==0?Pt&-Pt:Z.T!==null?ep():xc()}function db(){if(kn===0)if((Pt&536870912)===0||Bt){var i=zr;zr<<=1,(zr&3932160)===0&&(zr=262144),kn=i}else kn=536870912;return i=In.current,i!==null&&(i.flags|=32),kn}function xn(i,r,o){(i===se&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(_o(i,0),or(i,Pt,kn,!1)),Br(i,o),((Yt&2)===0||i!==se)&&(i===se&&((Yt&2)===0&&(da|=o),ye===4&&or(i,Pt,kn,!1)),Fi(i))}function mb(i,r,o){if((Yt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ti(i,r),f=u?o2(i,r):Wm(i,r,!0),g=u;do{if(f===0){go&&!u&&or(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!r2(o)){f=Wm(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var w=i;f=ru;var M=w.current.memoizedState.isDehydrated;if(M&&(_o(w,b).flags|=256),b=Wm(w,b,!1),b!==2){if(qm&&!M){w.errorRecoveryDisabledLanes|=g,da|=g,f=4;break t}g=En,En=f,g!==null&&(En===null?En=g:En.push.apply(En,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){_o(i,0),or(i,r,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:or(u,r,kn,!ir);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=bh+300-hn(),10<f)){if(or(u,r,kn,!ir),wi(u,0,!0)!==0)break t;_s=r,u.timeoutHandle=Gb(pb.bind(null,u,o,En,Eh,$m,r,kn,da,yo,ir,g,"Throttled",-0,0),f);break t}pb(u,o,En,Eh,$m,r,kn,da,yo,ir,g,null,-0,0)}}break}while(!0);Fi(i)}function pb(i,r,o,u,f,g,b,w,M,$,tt,it,K,W){if(i.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},ob(r,g,it);var mt=(g&62914560)===g?bh-hn():(g&4194048)===g?hb-hn():0;if(mt=H2(it,mt),mt!==null){_s=g,i.cancelPendingCommit=mt(xb.bind(null,i,r,g,o,u,f,b,w,M,tt,it,null,K,W)),or(i,g,b,!$);return}}xb(i,r,g,o,u,f,b,w,M)}function r2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Cn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(i,r,o,u){r&=~Gm,r&=~da,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-_e(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&Fr(i,o,r)}function xh(){return(Yt&6)===0?(ou(0),!1):!0}function Xm(){if(Vt!==null){if(Wt===0)var i=Vt.return;else i=Vt,ls=sa=null,fm(i),lo=null,Hl=0,i=Vt;for(;i!==null;)$_(i.alternate,i),i=i.return;Vt=null}}function _o(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,S2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),_s=0,Xm(),se=i,Vt=o=as(i.current,null),Pt=r,Wt=0,Dn=null,ir=!1,go=ti(i,r),qm=!1,yo=kn=Gm=da=sr=ye=0,En=ru=null,$m=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-_e(u),g=1<<f;r|=i[f],u&=~g}return vs=r,qc(),o}function gb(i,r){Nt=null,Z.H=Wl,r===oo||r===Jc?(r=kv(),Wt=3):r===tm?(r=kv(),Wt=4):Wt=r===Rm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Vt===null&&(ye=1,fh(i,Bn(r,i.current)))}function yb(){var i=In.current;return i===null?!0:(Pt&4194048)===Pt?Gn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?i===Gn:!1}function vb(){var i=Z.H;return Z.H=Wl,i===null?Wl:i}function _b(){var i=Z.A;return Z.A=i2,i}function wh(){ye=4,ir||(Pt&4194048)!==Pt&&In.current!==null||(go=!0),(sr&134217727)===0&&(da&134217727)===0||se===null||or(se,Pt,kn,!1)}function Wm(i,r,o){var u=Yt;Yt|=2;var f=vb(),g=_b();(se!==i||Pt!==r)&&(Eh=null,_o(i,r)),r=!1;var b=ye;t:do try{if(Wt!==0&&Vt!==null){var w=Vt,M=Dn;switch(Wt){case 8:Xm(),b=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var $=Wt;if(Wt=0,Dn=null,bo(i,w,M,$),o&&go){b=0;break t}break;default:$=Wt,Wt=0,Dn=null,bo(i,w,M,$)}}a2(),b=ye;break}catch(tt){gb(i,tt)}while(!0);return r&&i.shellSuspendCounter++,ls=sa=null,Yt=u,Z.H=f,Z.A=g,Vt===null&&(se=null,Pt=0,qc()),b}function a2(){for(;Vt!==null;)bb(Vt)}function o2(i,r){var o=Yt;Yt|=2;var u=vb(),f=_b();se!==i||Pt!==r?(Eh=null,Th=hn()+500,_o(i,r)):go=ti(i,r);t:do try{if(Wt!==0&&Vt!==null){r=Vt;var g=Dn;e:switch(Wt){case 1:Wt=0,Dn=null,bo(i,r,g,1);break;case 2:case 9:if(Nv(g)){Wt=0,Dn=null,Tb(r);break}r=function(){Wt!==2&&Wt!==9||se!==i||(Wt=7),Fi(i)},g.then(r,r);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Nv(g)?(Wt=0,Dn=null,Tb(r)):(Wt=0,Dn=null,bo(i,r,g,7));break;case 5:var b=null;switch(Vt.tag){case 26:b=Vt.memoizedState;case 5:case 27:var w=Vt;if(b?aT(b):w.stateNode.complete){Wt=0,Dn=null;var M=w.sibling;if(M!==null)Vt=M;else{var $=w.return;$!==null?(Vt=$,Sh($)):Vt=null}break e}}Wt=0,Dn=null,bo(i,r,g,5);break;case 6:Wt=0,Dn=null,bo(i,r,g,6);break;case 8:Xm(),ye=6;break t;default:throw Error(s(462))}}l2();break}catch(tt){gb(i,tt)}while(!0);return ls=sa=null,Z.H=u,Z.A=f,Yt=o,Vt!==null?0:(se=null,Pt=0,qc(),ye)}function l2(){for(;Vt!==null&&!Cd();)bb(Vt)}function bb(i){var r=q_(i.alternate,i,vs);i.memoizedProps=i.pendingProps,r===null?Sh(i):Vt=r}function Tb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=L_(o,r,r.pendingProps,r.type,void 0,Pt);break;case 11:r=L_(o,r,r.pendingProps,r.type.render,r.ref,Pt);break;case 5:fm(r);default:$_(o,r),r=Vt=_v(r,vs),r=q_(o,r,vs)}i.memoizedProps=i.pendingProps,r===null?Sh(i):Vt=r}function bo(i,r,o,u){ls=sa=null,fm(r),lo=null,Hl=0;var f=r.return;try{if(XR(i,f,r,o,Pt)){ye=1,fh(i,Bn(o,i.current)),Vt=null;return}}catch(g){if(f!==null)throw Vt=f,g;ye=1,fh(i,Bn(o,i.current)),Vt=null;return}r.flags&32768?(Bt||u===1?i=!0:go||(Pt&536870912)!==0?i=!1:(ir=i=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),Eb(r,i)):Sh(r)}function Sh(i){var r=i;do{if((r.flags&32768)!==0){Eb(r,ir);return}i=r.return;var o=ZR(r.alternate,r,vs);if(o!==null){Vt=o;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=i}while(r!==null);ye===0&&(ye=5)}function Eb(i,r){do{var o=t2(i.alternate,i);if(o!==null){o.flags&=32767,Vt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=o}while(i!==null);ye=6,Vt=null}function xb(i,r,o,u,f,g,b,w,M){i.cancelPendingCommit=null;do Ah();while(ze!==0);if((Yt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Ud,Nd(i,o,g,b,w,M),i===se&&(Vt=se=null,Pt=0),vo=r,ar=i,_s=o,Km=g,Ym=f,fb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,f2(js,function(){return Rb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=lt.p,lt.p=2,b=Yt,Yt|=4;try{e2(i,r,o)}finally{Yt=b,lt.p=f,Z.T=u}}ze=1,wb(),Sb(),Ab()}}function wb(){if(ze===1){ze=0;var i=ar,r=vo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=lt.p;lt.p=2;var f=Yt;Yt|=4;try{sb(r,i);var g=up,b=cv(i.containerInfo),w=g.focusedElem,M=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&uv(w.ownerDocument.documentElement,w)){if(M!==null&&Vd(w)){var $=M.start,tt=M.end;if(tt===void 0&&(tt=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(tt,w.value.length);else{var it=w.ownerDocument||document,K=it&&it.defaultView||window;if(K.getSelection){var W=K.getSelection(),mt=w.textContent.length,bt=Math.min(M.start,mt),ie=M.end===void 0?bt:Math.min(M.end,mt);!W.extend&&bt>ie&&(b=ie,ie=bt,bt=b);var B=lv(w,bt),U=lv(w,ie);if(B&&U&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var G=it.createRange();G.setStart(B.node,B.offset),W.removeAllRanges(),bt>ie?(W.addRange(G),W.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),W.addRange(G))}}}}for(it=[],W=w;W=W.parentNode;)W.nodeType===1&&it.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<it.length;w++){var et=it[w];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Lh=!!lp,up=lp=null}finally{Yt=f,lt.p=u,Z.T=o}}i.current=r,ze=2}}function Sb(){if(ze===2){ze=0;var i=ar,r=vo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=lt.p;lt.p=2;var f=Yt;Yt|=4;try{Z_(i,r.alternate,r)}finally{Yt=f,lt.p=u,Z.T=o}}ze=3}}function Ab(){if(ze===4||ze===3){ze=0,gc();var i=ar,r=vo,o=_s,u=fb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ze=5:(ze=0,vo=ar=null,Cb(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(rr=null),ns(o),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,f=lt.p,lt.p=2,Z.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{Z.T=r,lt.p=f}}(_s&3)!==0&&Ah(),Fi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Qm?au++:(au=0,Qm=i):au=0,ou(0)}}function Cb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Bl(r)))}function Ah(){return wb(),Sb(),Ab(),Rb()}function Rb(){if(ze!==5)return!1;var i=ar,r=Km;Km=0;var o=ns(_s),u=Z.T,f=lt.p;try{lt.p=32>o?32:o,Z.T=null,o=Ym,Ym=null;var g=ar,b=_s;if(ze=0,vo=ar=null,_s=0,(Yt&6)!==0)throw Error(s(331));var w=Yt;if(Yt|=4,ub(g.current),ab(g,g.current,b,o),Yt=w,ou(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Zn,g)}catch{}return!0}finally{lt.p=f,Z.T=u,Cb(i,r)}}function Ib(i,r,o){r=Bn(o,r),r=Cm(i.stateNode,r,2),i=Zs(i,r,2),i!==null&&(Br(i,2),Fi(i))}function Jt(i,r,o){if(i.tag===3)Ib(i,i,o);else for(;r!==null;){if(r.tag===3){Ib(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rr===null||!rr.has(u))){i=Bn(o,i),o=N_(2),u=Zs(r,o,2),u!==null&&(D_(o,u,r,i),Br(u,2),Fi(u));break}}r=r.return}}function Jm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new s2;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(qm=!0,f.add(o),i=u2.bind(null,i,r,o),r.then(i,i))}function u2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,se===i&&(Pt&o)===o&&(ye===4||ye===3&&(Pt&62914560)===Pt&&300>hn()-bh?(Yt&2)===0&&_o(i,0):Gm|=o,yo===Pt&&(yo=0)),Fi(i)}function Nb(i,r){r===0&&(r=Ec()),i=ea(i,r),i!==null&&(Br(i,r),Fi(i))}function c2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Nb(i,o)}function h2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Nb(i,o)}function f2(i,r){return Ue(i,r)}var Ch=null,To=null,Zm=!1,Rh=!1,tp=!1,lr=0;function Fi(i){i!==To&&i.next===null&&(To===null?Ch=To=i:To=To.next=i),Rh=!0,Zm||(Zm=!0,m2())}function ou(i,r){if(!tp&&Rh){tp=!0;do for(var o=!1,u=Ch;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-_e(42|i)+1)-1,g&=f&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Vb(u,g))}else g=Pt,g=wi(u,u===se?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ti(u,g)||(o=!0,Vb(u,g));u=u.next}while(o);tp=!1}}function d2(){Db()}function Db(){Rh=Zm=!1;var i=0;lr!==0&&w2()&&(i=lr);for(var r=hn(),o=null,u=Ch;u!==null;){var f=u.next,g=kb(u,r);g===0?(u.next=null,o===null?Ch=f:o.next=f,f===null&&(To=o)):(o=u,(i!==0||(g&3)!==0)&&(Rh=!0)),u=f}ze!==0&&ze!==5||ou(i),lr!==0&&(lr=0)}function kb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-_e(g),w=1<<b,M=f[b];M===-1?((w&o)===0||(w&u)!==0)&&(f[b]=Id(w,r)):M<=r&&(i.expiredLanes|=w),g&=~w}if(r=se,o=Pt,o=wi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ps(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ti(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Ps(u),ns(o)){case 2:case 8:o=yl;break;case 32:o=js;break;case 268435456:o=yc;break;default:o=js}return u=Mb.bind(null,i),o=Ue(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Ps(u),i.callbackPriority=2,i.callbackNode=null,2}function Mb(i,r){if(ze!==0&&ze!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ah()&&i.callbackNode!==o)return null;var u=Pt;return u=wi(i,i===se?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(mb(i,u,r),kb(i,hn()),i.callbackNode!=null&&i.callbackNode===o?Mb.bind(null,i):null)}function Vb(i,r){if(Ah())return null;mb(i,r,!0)}function m2(){A2(function(){(Yt&6)!==0?Ue(gl,d2):Db()})}function ep(){if(lr===0){var i=ro;i===0&&(i=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),lr=i}return lr}function Ob(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qa(""+i)}function Pb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function p2(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=Ob((f[He]||null).action),b=u.submitter;b&&(r=(r=b[He]||null)?Ob(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var w=new Oi("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lr!==0){var M=b?Pb(f,b):new FormData(f);Tm(o,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(w.preventDefault(),M=b?Pb(f,b):new FormData(f),Tm(o,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var np=0;np<Ld.length;np++){var ip=Ld[np],g2=ip.toLowerCase(),y2=ip[0].toUpperCase()+ip.slice(1);li(g2,"on"+y2)}li(dv,"onAnimationEnd"),li(mv,"onAnimationIteration"),li(pv,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(MR,"onTransitionRun"),li(VR,"onTransitionStart"),li(OR,"onTransitionCancel"),li(gv,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function jb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var w=u[b],M=w.instance,$=w.currentTarget;if(w=w.listener,M!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=$;try{g(f)}catch(tt){Hc(tt)}f.currentTarget=null,g=M}else for(b=0;b<u.length;b++){if(w=u[b],M=w.instance,$=w.currentTarget,w=w.listener,M!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=$;try{g(f)}catch(tt){Hc(tt)}f.currentTarget=null,g=M}}}}function Ot(i,r){var o=r[Ua];o===void 0&&(o=r[Ua]=new Set);var u=i+"__bubble";o.has(u)||(Lb(r,i,2,!1),o.add(u))}function sp(i,r,o){var u=0;r&&(u|=4),Lb(o,i,u,r)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function rp(i){if(!i[Ih]){i[Ih]=!0,bl.forEach(function(o){o!=="selectionchange"&&(v2.has(o)||sp(o,!1,i),sp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ih]||(r[Ih]=!0,sp("selectionchange",!1,r))}}function Lb(i,r,o,u){switch(dT(r)){case 2:var f=$2;break;case 8:f=K2;break;default:f=bp}o=f.bind(null,r,o,i),f=void 0,!Kr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function ap(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=u.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=Ri(w),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){u=g=b;continue t}w=w.parentNode}}u=u.return}Hs(function(){var $=g,tt=jn(o),it=[];t:{var K=yv.get(i);if(K!==void 0){var W=Oi,mt=i;switch(i){case"keypress":if(Qr(o)===0)break t;case"keydown":case"keyup":W=zc;break;case"focusin":mt="focus",W=Wr;break;case"focusout":mt="blur",W=Wr;break;case"beforeblur":case"afterblur":W=Wr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case dv:case mv:case pv:W=Mc;break;case gv:W=C;break;case"scroll":case"scrollend":W=kl;break;case"wheel":W=Q;break;case"copy":case"cut":case"paste":W=Vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=rs;break;case"toggle":case"beforetoggle":W=It}var bt=(r&4)!==0,ie=!bt&&(i==="scroll"||i==="scrollend"),B=bt?K!==null?K+"Capture":null:K;bt=[];for(var U=$,G;U!==null;){var et=U;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||B===null||(et=si(U,B),et!=null&&bt.push(uu(U,et,G))),ie)break;U=U.return}0<bt.length&&(K=new W(K,mt,null,o,tt),it.push({event:K,listeners:bt}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",K&&o!==Il&&(mt=o.relatedTarget||o.fromElement)&&(Ri(mt)||mt[Ai]))break t;if((W||K)&&(K=tt.window===tt?tt:(K=tt.ownerDocument)?K.defaultView||K.parentWindow:window,W?(mt=o.relatedTarget||o.toElement,W=$,mt=mt?Ri(mt):null,mt!==null&&(ie=l(mt),bt=mt.tag,mt!==ie||bt!==5&&bt!==27&&bt!==6)&&(mt=null)):(W=null,mt=$),W!==mt)){if(bt=Ml,et="onMouseLeave",B="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(bt=rs,et="onPointerLeave",B="onPointerEnter",U="pointer"),ie=W==null?K:Sn(W),G=mt==null?K:Sn(mt),K=new bt(et,U+"leave",W,o,tt),K.target=ie,K.relatedTarget=G,et=null,Ri(tt)===$&&(bt=new bt(B,U+"enter",mt,o,tt),bt.target=G,bt.relatedTarget=ie,et=bt),ie=et,W&&mt)e:{for(bt=_2,B=W,U=mt,G=0,et=B;et;et=bt(et))G++;et=0;for(var vt=U;vt;vt=bt(vt))et++;for(;0<G-et;)B=bt(B),G--;for(;0<et-G;)U=bt(U),et--;for(;G--;){if(B===U||U!==null&&B===U.alternate){bt=B;break e}B=bt(B),U=bt(U)}bt=null}else bt=null;W!==null&&Ub(it,K,W,bt,!1),mt!==null&&ie!==null&&Ub(it,ie,mt,bt,!0)}}t:{if(K=$?Sn($):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var qt=nv;else if(tv(K))if(iv)qt=NR;else{qt=RR;var gt=CR}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&Ha($.elementType)&&(qt=nv):qt=IR;if(qt&&(qt=qt(i,$))){ev(it,qt,o,tt);break t}gt&&gt(i,K,$),i==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&Al(K,"number",K.value)}switch(gt=$?Sn($):window,i){case"focusin":(tv(gt)||gt.contentEditable==="true")&&(Wa=gt,Od=$,Ll=null);break;case"focusout":Ll=Od=Wa=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,hv(it,o,tt);break;case"selectionchange":if(kR)break;case"keydown":case"keyup":hv(it,o,tt)}var kt;if(Kt)t:{switch(i){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Xa?Jr(i,o)&&(jt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(jt="onCompositionStart");jt&&(Li&&o.locale!=="ko"&&(Xa||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Xa&&(kt=Dl()):(Vi=tt,Nl="value"in Vi?Vi.value:Vi.textContent,Xa=!0)),gt=Nh($,jt),0<gt.length&&(jt=new ji(jt,i,null,o,tt),it.push({event:jt,listeners:gt}),kt?jt.data=kt:(kt=Qa(o),kt!==null&&(jt.data=kt)))),(kt=Un?xR(i,o):wR(i,o))&&(jt=Nh($,"onBeforeInput"),0<jt.length&&(gt=new ji("onBeforeInput","beforeinput",null,o,tt),it.push({event:gt,listeners:jt}),gt.data=kt)),p2(it,i,$,o,tt)}jb(it,r)})}function uu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Nh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=si(i,o),f!=null&&u.unshift(uu(i,f,g)),f=si(i,r),f!=null&&u.push(uu(i,f,g))),i.tag===3)return u;i=i.return}return[]}function _2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ub(i,r,o,u,f){for(var g=r._reactName,b=[];o!==null&&o!==u;){var w=o,M=w.alternate,$=w.stateNode;if(w=w.tag,M!==null&&M===u)break;w!==5&&w!==26&&w!==27||$===null||(M=$,f?($=si(o,g),$!=null&&b.unshift(uu(o,$,M))):f||($=si(o,g),$!=null&&b.push(uu(o,$,M)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var b2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function zb(i){return(typeof i=="string"?i:""+i).replace(b2,`
`).replace(T2,"")}function Bb(i,r){return r=zb(r),zb(i)===r}function ne(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||vn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&vn(i,""+u);break;case"className":An(i,"class",u);break;case"tabIndex":An(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,o,u);break;case"style":Rl(i,u,g);break;case"data":if(r!=="object"){An(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=qa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&ne(i,r,"name",f.name,f,null),ne(i,r,"formEncType",f.formEncType,f,null),ne(i,r,"formMethod",f.formMethod,f,null),ne(i,r,"formTarget",f.formTarget,f,null)):(ne(i,r,"encType",f.encType,f,null),ne(i,r,"method",f.method,f,null),ne(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=qa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ii);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=qa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),Ba(i,"popover",u);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ba(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Nc.get(o)||o,Ba(i,o,u))}}function op(i,r,o,u,f,g){switch(o){case"style":Rl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?vn(i,u):(typeof u=="number"||typeof u=="bigint")&&vn(i,""+u);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[He]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ba(i,o,u)}}}function Je(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ne(i,r,g,b,o,null)}}f&&ne(i,r,"srcSet",o.srcSet,o,null),u&&ne(i,r,"src",o.src,o,null);return;case"input":Ot("invalid",i);var w=g=b=f=null,M=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var tt=o[u];if(tt!=null)switch(u){case"name":f=tt;break;case"type":b=tt;break;case"checked":M=tt;break;case"defaultChecked":$=tt;break;case"value":g=tt;break;case"defaultValue":w=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,r));break;default:ne(i,r,u,tt,o,null)}}Cc(i,g,w,M,$,b,f,!1);return;case"select":Ot("invalid",i),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:ne(i,r,f,w,o,null)}r=g,o=b,i.multiple=!!u,r!=null?Us(i,!!u,r,!1):o!=null&&Us(i,!!u,o,!0);return;case"textarea":Ot("invalid",i),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ne(i,r,b,w,o,null)}zs(i,u,f,g);return;case"option":for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null)&&(M==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ne(i,r,M,u,o,null));return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(u=0;u<lu.length;u++)Ot(lu[u],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ne(i,r,$,u,o,null)}return;default:if(Ha(r)){for(tt in o)o.hasOwnProperty(tt)&&(u=o[tt],u!==void 0&&op(i,r,tt,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ne(i,r,w,u,o,null))}function E2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,w=null,M=null,$=null,tt=null;for(W in o){var it=o[W];if(o.hasOwnProperty(W)&&it!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":M=it;default:u.hasOwnProperty(W)||ne(i,r,W,null,u,it)}}for(var K in u){var W=u[K];if(it=o[K],u.hasOwnProperty(K)&&(W!=null||it!=null))switch(K){case"type":g=W;break;case"name":f=W;break;case"checked":$=W;break;case"defaultChecked":tt=W;break;case"value":b=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==it&&ne(i,r,K,W,u,it)}}Fa(i,b,w,M,$,tt,g,f);return;case"select":W=b=w=K=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":W=M;default:u.hasOwnProperty(g)||ne(i,r,g,null,u,M)}for(f in u)if(g=u[f],M=o[f],u.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":K=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==M&&ne(i,r,f,g,u,M)}r=w,o=b,u=W,K!=null?Us(i,!!o,K,!1):!!u!=!!o&&(r!=null?Us(i,!!o,r,!0):Us(i,!!o,o?[]:"",!1));return;case"textarea":W=K=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ne(i,r,w,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":K=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&ne(i,r,b,f,u,g)}Rc(i,K,W);return;case"option":for(var mt in o)K=o[mt],o.hasOwnProperty(mt)&&K!=null&&!u.hasOwnProperty(mt)&&(mt==="selected"?i.selected=!1:ne(i,r,mt,null,u,K));for(M in u)K=u[M],W=o[M],u.hasOwnProperty(M)&&K!==W&&(K!=null||W!=null)&&(M==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":ne(i,r,M,K,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)K=o[bt],o.hasOwnProperty(bt)&&K!=null&&!u.hasOwnProperty(bt)&&ne(i,r,bt,null,u,K);for($ in u)if(K=u[$],W=o[$],u.hasOwnProperty($)&&K!==W&&(K!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:ne(i,r,$,K,u,W)}return;default:if(Ha(r)){for(var ie in o)K=o[ie],o.hasOwnProperty(ie)&&K!==void 0&&!u.hasOwnProperty(ie)&&op(i,r,ie,void 0,u,K);for(tt in u)K=u[tt],W=o[tt],!u.hasOwnProperty(tt)||K===W||K===void 0&&W===void 0||op(i,r,tt,K,u,W);return}}for(var B in o)K=o[B],o.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&ne(i,r,B,null,u,K);for(it in u)K=u[it],W=o[it],!u.hasOwnProperty(it)||K===W||K==null&&W==null||ne(i,r,it,K,u,W)}function Fb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],g=f.transferSize,b=f.initiatorType,w=f.duration;if(g&&w&&Fb(b)){for(b=0,w=f.responseEnd,u+=1;u<o.length;u++){var M=o[u],$=M.startTime;if($>w)break;var tt=M.transferSize,it=M.initiatorType;tt&&Fb(it)&&(M=M.responseEnd,b+=tt*(M<w?1:(w-$)/(M-$)))}if(--u,r+=8*(g+b)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var lp=null,up=null;function Dh(i){return i.nodeType===9?i:i.ownerDocument}function Hb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function cp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hp=null;function w2(){var i=window.event;return i&&i.type==="popstate"?i===hp?!1:(hp=i,!0):(hp=null,!1)}var Gb=typeof setTimeout=="function"?setTimeout:void 0,S2=typeof clearTimeout=="function"?clearTimeout:void 0,$b=typeof Promise=="function"?Promise:void 0,A2=typeof queueMicrotask=="function"?queueMicrotask:typeof $b<"u"?function(i){return $b.resolve(null).then(i).catch(C2)}:Gb;function C2(i){setTimeout(function(){throw i})}function ur(i){return i==="head"}function Kb(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),So(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")cu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,cu(o);for(var g=o.firstChild;g;){var b=g.nextSibling,w=g.nodeName;g[Ci]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&cu(i.ownerDocument.body);o=f}while(o);So(r)}function Yb(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function fp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":fp(o),za(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function R2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ci])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=$n(i.nextSibling),i===null)break}return null}function I2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=$n(i.nextSibling),i===null))return null;return i}function Qb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=$n(i.nextSibling),i===null))return null;return i}function dp(i){return i.data==="$?"||i.data==="$~"}function mp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function N2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function $n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var pp=null;function Xb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return $n(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Wb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Jb(i,r,o){switch(r=Dh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function cu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);za(i)}var Kn=new Map,Zb=new Set;function kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bs=lt.d;lt.d={f:D2,r:k2,D:M2,C:V2,L:O2,m:P2,X:L2,S:j2,M:U2};function D2(){var i=bs.f(),r=xh();return i||r}function k2(i){var r=Pn(i);r!==null&&r.tag===5&&r.type==="form"?g_(r):bs.r(i)}var Eo=typeof document>"u"?null:document;function tT(i,r,o){var u=Eo;if(u&&typeof r=="string"&&r){var f=yn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Zb.has(f)||(Zb.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function M2(i){bs.D(i),tT("dns-prefetch",i,null)}function V2(i,r){bs.C(i,r),tT("preconnect",i,r)}function O2(i,r,o){bs.L(i,r,o);var u=Eo;if(u&&i&&r){var f='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+yn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+yn(o.imageSizes)+'"]')):f+='[href="'+yn(i)+'"]';var g=f;switch(r){case"style":g=xo(i);break;case"script":g=wo(i)}Kn.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Kn.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(hu(g))||r==="script"&&u.querySelector(fu(g))||(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function P2(i,r){bs.m(i,r);var o=Eo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=wo(i)}if(!Kn.has(g)&&(i=_({rel:"modulepreload",href:i},r),Kn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(fu(g)))return}u=o.createElement("link"),Je(u,"link",i),Ce(u),o.head.appendChild(u)}}}function j2(i,r,o){bs.S(i,r,o);var u=Eo;if(u&&i){var f=Ii(u).hoistableStyles,g=xo(i);r=r||"default";var b=f.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(hu(g)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Kn.get(g))&&gp(i,o);var M=b=u.createElement("link");Ce(M),Je(M,"link",i),M._p=new Promise(function($,tt){M.onload=$,M.onerror=tt}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Mh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(g,b)}}}function L2(i,r){bs.X(i,r);var o=Eo;if(o&&i){var u=Ii(o).hoistableScripts,f=wo(i),g=u.get(f);g||(g=o.querySelector(fu(f)),g||(i=_({src:i,async:!0},r),(r=Kn.get(f))&&yp(i,r),g=o.createElement("script"),Ce(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function U2(i,r){bs.M(i,r);var o=Eo;if(o&&i){var u=Ii(o).hoistableScripts,f=wo(i),g=u.get(f);g||(g=o.querySelector(fu(f)),g||(i=_({src:i,async:!0,type:"module"},r),(r=Kn.get(f))&&yp(i,r),g=o.createElement("script"),Ce(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function eT(i,r,o,u){var f=(f=Dt.current)?kh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=xo(o.href),o=Ii(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=xo(o.href);var g=Ii(f).hoistableStyles,b=g.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=f.querySelector(hu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Kn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Kn.set(i,o),g||z2(f,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=wo(o),o=Ii(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function xo(i){return'href="'+yn(i)+'"'}function hu(i){return'link[rel="stylesheet"]['+i+"]"}function nT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function z2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Je(r,"link",o),Ce(r),i.head.appendChild(r))}function wo(i){return'[src="'+yn(i)+'"]'}function fu(i){return"script[async]"+i}function iT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+yn(o.href)+'"]');if(u)return r.instance=u,Ce(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ce(u),Je(u,"style",f),Mh(u,o.precedence,i),r.instance=u;case"stylesheet":f=xo(o.href);var g=i.querySelector(hu(f));if(g)return r.state.loading|=4,r.instance=g,Ce(g),g;u=nT(o),(f=Kn.get(f))&&gp(u,f),g=(i.ownerDocument||i).createElement("link"),Ce(g);var b=g;return b._p=new Promise(function(w,M){b.onload=w,b.onerror=M}),Je(g,"link",u),r.state.loading|=4,Mh(g,o.precedence,i),r.instance=g;case"script":return g=wo(o.src),(f=i.querySelector(fu(g)))?(r.instance=f,Ce(f),f):(u=o,(f=Kn.get(g))&&(u=_({},o),yp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ce(f),Je(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Mh(u,o.precedence,i));return r.instance}function Mh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===r)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function gp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function yp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Vh=null;function sT(i,r,o){if(Vh===null){var u=new Map,f=Vh=new Map;f.set(o,u)}else f=Vh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ci]||g[Ae]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function rT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function B2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function aT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function F2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=xo(u.href),g=r.querySelector(hu(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Oh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ce(g);return}g=r.ownerDocument||r,u=nT(u),(f=Kn.get(f))&&gp(u,f),g=g.createElement("link"),Ce(g);var b=g;b._p=new Promise(function(w,M){b.onload=w,b.onerror=M}),Je(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Oh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var vp=0;function H2(i,r){return i.stylesheets&&i.count===0&&jh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&jh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&vp===0&&(vp=62500*x2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&jh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>vp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ph=null;function jh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ph=new Map,r.forEach(q2,i),Ph=null,Oh.call(i))}function q2(i,r){if(!(r.state.loading&4)){var o=Ph.get(i);if(o)var u=o.get(null);else{o=new Map,Ph.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=r.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=Oh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var du={$$typeof:Y,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function G2(i,r,o,u,f,g,b,w,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function oT(i,r,o,u,f,g,b,w,M,$,tt,it){return i=new G2(i,r,o,b,M,$,tt,it,w),r=1,g===!0&&(r|=24),g=Rn(3,null,null,r),i.current=g,g.stateNode=i,r=Wd(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},em(g),i}function lT(i){return i?(i=to,i):to}function uT(i,r,o,u,f,g){f=lT(f),u.context===null?u.context=f:u.pendingContext=f,u=Js(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Zs(i,u,r),o!==null&&(xn(o,i,r),Gl(o,i,r))}function cT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function _p(i,r){cT(i,r),(i=i.alternate)&&cT(i,r)}function hT(i){if(i.tag===13||i.tag===31){var r=ea(i,67108864);r!==null&&xn(r,i,67108864),_p(i,67108864)}}function fT(i){if(i.tag===13||i.tag===31){var r=Mn();r=Hr(r);var o=ea(i,r);o!==null&&xn(o,i,r),_p(i,r)}}var Lh=!0;function $2(i,r,o,u){var f=Z.T;Z.T=null;var g=lt.p;try{lt.p=2,bp(i,r,o,u)}finally{lt.p=g,Z.T=f}}function K2(i,r,o,u){var f=Z.T;Z.T=null;var g=lt.p;try{lt.p=8,bp(i,r,o,u)}finally{lt.p=g,Z.T=f}}function bp(i,r,o,u){if(Lh){var f=Tp(u);if(f===null)ap(i,r,u,Uh,o),mT(i,u);else if(Q2(f,i,r,o,u))u.stopPropagation();else if(mT(i,u),r&4&&-1<Y2.indexOf(i)){for(;f!==null;){var g=Pn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=xi(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var M=1<<31-_e(b);w.entanglements[1]|=M,b&=~M}Fi(g),(Yt&6)===0&&(Th=hn()+500,ou(0))}}break;case 31:case 13:w=ea(g,2),w!==null&&xn(w,g,2),xh(),_p(g,2)}if(g=Tp(u),g===null&&ap(i,r,u,Uh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else ap(i,r,u,null,o)}}function Tp(i){return i=jn(i),Ep(i)}var Uh=null;function Ep(i){if(Uh=null,i=Ri(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Uh=i,null}function dT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ur()){case gl:return 2;case yl:return 8;case js:case Rd:return 32;case yc:return 268435456;default:return 32}default:return 32}}var xp=!1,cr=null,hr=null,fr=null,mu=new Map,pu=new Map,dr=[],Y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mT(i,r){switch(i){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":mu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(r.pointerId)}}function gu(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Pn(r),r!==null&&hT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function Q2(i,r,o,u,f){switch(r){case"focusin":return cr=gu(cr,i,r,o,u,f),!0;case"dragenter":return hr=gu(hr,i,r,o,u,f),!0;case"mouseover":return fr=gu(fr,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return mu.set(g,gu(mu.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,pu.set(g,gu(pu.get(g)||null,i,r,o,u,f)),!0}return!1}function pT(i){var r=Ri(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ei(i.priority,function(){fT(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,ei(i.priority,function(){fT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Tp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Il=u,o.target.dispatchEvent(u),Il=null}else return r=Pn(o),r!==null&&hT(r),i.blockedOn=o,!1;r.shift()}return!0}function gT(i,r,o){zh(i)&&o.delete(r)}function X2(){xp=!1,cr!==null&&zh(cr)&&(cr=null),hr!==null&&zh(hr)&&(hr=null),fr!==null&&zh(fr)&&(fr=null),mu.forEach(gT),pu.forEach(gT)}function Bh(i,r){i.blockedOn===r&&(i.blockedOn=null,xp||(xp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,X2)))}var Fh=null;function yT(i){Fh!==i&&(Fh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Fh===i&&(Fh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Ep(u||o)===null)continue;break}var g=Pn(o);g!==null&&(i.splice(r,3),r-=3,Tm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function So(i){function r(M){return Bh(M,i)}cr!==null&&Bh(cr,i),hr!==null&&Bh(hr,i),fr!==null&&Bh(fr,i),mu.forEach(r),pu.forEach(r);for(var o=0;o<dr.length;o++){var u=dr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<dr.length&&(o=dr[0],o.blockedOn===null);)pT(o),o.blockedOn===null&&dr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[He]||null;if(typeof g=="function")b||yT(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[He]||null)w=b.formAction;else if(Ep(f)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),yT(o)}}}function vT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function wp(i){this._internalRoot=i}Hh.prototype.render=wp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Mn();uT(o,u,i,r,null,null)},Hh.prototype.unmount=wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;uT(i.current,2,null,i,null,null),xh(),r[Ai]=null}};function Hh(i){this._internalRoot=i}Hh.prototype.unstable_scheduleHydration=function(i){if(i){var r=xc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<dr.length&&r!==0&&r<dr[o].priority;o++);dr.splice(o,0,i),o===0&&pT(i)}};var _T=t.version;if(_T!=="19.2.4")throw Error(s(527,_T,"19.2.4"));lt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var W2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{Zn=qh.inject(W2),Ke=qh}catch{}}return vu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=A_,g=C_,b=R_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=oT(i,1,!1,null,null,o,u,null,f,g,b,vT),i[Ai]=r.current,rp(i),new wp(r)},vu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=A_,b=C_,w=R_,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=oT(i,1,!0,r,o??null,u,f,M,g,b,w,vT),r.context=lT(null),o=r.current,u=Mn(),u=Hr(u),f=Js(u),f.callback=null,Zs(o,f,u),o=u,r.current.lanes=o,Br(r,o),Fi(r),i[Ai]=r.current,rp(i),new Hh(r)},vu.version="19.2.4",vu}var IT;function oI(){if(IT)return Cp.exports;IT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cp.exports=aI(),Cp.exports}var lI=oI();const uI=Ox(lI);var NT="popstate";function cI(e={}){function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return mg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ju(a)}return fI(t,n,null,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _i(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hI(){return Math.random().toString(36).substring(2,10)}function DT(e,t){return{usr:e.state,key:e.key,idx:t}}function mg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Jo(t):t,state:n,key:t&&t.key||s||hI()}}function ju({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Jo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function fI(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let j=y(),F=j==null?null:j-p;p=j,m&&m({action:d,location:V.location,delta:F})}function E(j,F){d="PUSH";let H=mg(V.location,j,F);p=y()+1;let Y=DT(H,p),J=V.createHref(H);try{c.pushState(Y,"",J)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(J)}l&&m&&m({action:d,location:V.location,delta:1})}function S(j,F){d="REPLACE";let H=mg(V.location,j,F);p=y();let Y=DT(H,p),J=V.createHref(H);c.replaceState(Y,"",J),l&&m&&m({action:d,location:V.location,delta:0})}function D(j){return dI(j)}let V={get action(){return d},get location(){return e(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(NT,_),m=j,()=>{a.removeEventListener(NT,_),m=null}},createHref(j){return t(a,j)},createURL:D,encodeLocation(j){let F=D(j);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:S,go(j){return c.go(j)}};return V}function dI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),de(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:ju(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function jx(e,t,n="/"){return mI(e,t,n,!1)}function mI(e,t,n,s){let a=typeof t=="string"?Jo(t):t,l=Cs(a.pathname||"/",n);if(l==null)return null;let c=Lx(e);pI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=AI(l);d=wI(c[m],p,s)}return d}function Lx(e,t=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;de(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Ss([s,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(de(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Lx(c.children,t,E,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:EI(_,c.index),routesMeta:E})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of Ux(c.path))l(c,d,!0,m)}),t}function Ux(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Ux(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function pI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var gI=/^:[\w-]+$/,yI=3,vI=2,_I=1,bI=10,TI=-2,kT=e=>e==="*";function EI(e,t){let n=e.split("/"),s=n.length;return n.some(kT)&&(s+=TI),t&&(s+=vI),n.filter(a=>!kT(a)).reduce((a,l)=>a+(gI.test(l)?yI:l===""?_I:bI),s)}function xI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function wI(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=wf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=wf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ss([l,_.pathname]),pathnameBase:NI(Ss([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Ss([l,_.pathnameBase]))}return c}function wf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=SI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let D=d[E]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const S=d[E];return _&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function SI(e,t=!1,n=!0){_i(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function AI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _i(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var CI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function RI(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Jo(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=MT(n.substring(1),"/"):l=MT(n,t)):l=t,{pathname:l,search:DI(s),hash:kI(a)}}function MT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Dp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function II(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gy(e){let t=II(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function yy(e,t,n,s=!1){let a;typeof e=="string"?a=Jo(e):(a={...e},de(!a.pathname||!a.pathname.includes("?"),Dp("?","pathname","search",a)),de(!a.pathname||!a.pathname.includes("#"),Dp("#","pathname","hash",a)),de(!a.search||!a.search.includes("#"),Dp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}d=_>=0?t[_]:"/"}let m=RI(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ss=e=>e.join("/").replace(/\/\/+/g,"/"),NI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,MI=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function VI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function OI(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bx(e,t){let n=e;if(typeof n!="string"||!CI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(zx)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Cs(c.pathname,t);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{_i(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fx=["POST","PUT","PATCH","DELETE"];new Set(Fx);var PI=["GET",...Fx];new Set(PI);var Zo=N.createContext(null);Zo.displayName="DataRouter";var td=N.createContext(null);td.displayName="DataRouterState";var jI=N.createContext(!1),Hx=N.createContext({isTransitioning:!1});Hx.displayName="ViewTransition";var LI=N.createContext(new Map);LI.displayName="Fetchers";var UI=N.createContext(null);UI.displayName="Await";var Vn=N.createContext(null);Vn.displayName="Navigation";var Zu=N.createContext(null);Zu.displayName="Location";var Jn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var vy=N.createContext(null);vy.displayName="RouteError";var qx="REACT_ROUTER_ERROR",zI="REDIRECT",BI="ROUTE_ERROR_RESPONSE";function FI(e){if(e.startsWith(`${qx}:${zI}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function HI(e){if(e.startsWith(`${qx}:${BI}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new MI(t.status,t.statusText,t.data)}catch{}}function qI(e,{relative:t}={}){de(tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(Vn),{hash:a,pathname:l,search:c}=tc(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Ss([n,l])),s.createHref({pathname:d,search:c,hash:a})}function tl(){return N.useContext(Zu)!=null}function Ms(){return de(tl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Zu).location}var Gx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $x(e){N.useContext(Vn).static||N.useLayoutEffect(e)}function ed(){let{isDataRoute:e}=N.useContext(Jn);return e?aN():GI()}function GI(){de(tl(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Zo),{basename:t,navigator:n}=N.useContext(Vn),{matches:s}=N.useContext(Jn),{pathname:a}=Ms(),l=JSON.stringify(gy(s)),c=N.useRef(!1);return $x(()=>{c.current=!0}),N.useCallback((m,p={})=>{if(_i(c.current,Gx),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=yy(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Ss([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}var $I=N.createContext(null);function KI(e){let t=N.useContext(Jn).outlet;return N.useMemo(()=>t&&N.createElement($I.Provider,{value:e},t),[t,e])}function YI(){let{matches:e}=N.useContext(Jn),t=e[e.length-1];return t?t.params:{}}function tc(e,{relative:t}={}){let{matches:n}=N.useContext(Jn),{pathname:s}=Ms(),a=JSON.stringify(gy(n));return N.useMemo(()=>yy(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function QI(e,t){return Kx(e,t)}function Kx(e,t,n,s,a){de(tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Vn),{matches:c}=N.useContext(Jn),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let H=_&&_.path||"";Qx(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let E=Ms(),S;if(t){let H=typeof t=="string"?Jo(t):t;de(y==="/"||H.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),S=H}else S=E;let D=S.pathname||"/",V=D;if(y!=="/"){let H=y.replace(/^\//,"").split("/");V="/"+D.replace(/^\//,"").split("/").slice(H.length).join("/")}let j=jx(e,{pathname:V});_i(_||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),_i(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=tN(j&&j.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Ss([y,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Ss([y,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,s,a);return t&&F?N.createElement(Zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function XI(){let e=rN(),t=VI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,c)}var WI=N.createElement(XI,null),Yx=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=HI(e.digest);n&&(e=n)}let t=e!==void 0?N.createElement(Jn.Provider,{value:this.props.routeContext},N.createElement(vy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?N.createElement(JI,{error:e},t):t}};Yx.contextType=jI;var kp=new WeakMap;function JI({children:e,error:t}){let{basename:n}=N.useContext(Vn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=FI(t.digest);if(s){let a=kp.get(t);if(a)throw a;let l=Bx(s.location,n);if(zx&&!kp.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw kp.set(t,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function ZI({routeContext:e,match:t,children:n}){let s=N.useContext(Zo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Jn.Provider,{value:e},n)}function tN(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);de(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:E,errors:S}=n,D=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||D){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:OI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,E)=>{let S,D=!1,V=null,j=null;n&&(S=c&&_.route.id?c[_.route.id]:void 0,V=_.route.errorElement||WI,d&&(m<0&&E===0?(Qx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,j=null):m===E&&(D=!0,j=_.route.hydrateFallbackElement||null)));let F=t.concat(l.slice(0,E+1)),H=()=>{let Y;return S?Y=V:D?Y=j:_.route.Component?Y=N.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=y,N.createElement(ZI,{match:_,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:Y})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?N.createElement(Yx,{location:n.location,revalidation:n.revalidation,component:V,error:S,children:H(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):H()},null)}function _y(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eN(e){let t=N.useContext(Zo);return de(t,_y(e)),t}function nN(e){let t=N.useContext(td);return de(t,_y(e)),t}function iN(e){let t=N.useContext(Jn);return de(t,_y(e)),t}function by(e){let t=iN(e),n=t.matches[t.matches.length-1];return de(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function sN(){return by("useRouteId")}function rN(){let e=N.useContext(vy),t=nN("useRouteError"),n=by("useRouteError");return e!==void 0?e:t.errors?.[n]}function aN(){let{router:e}=eN("useNavigate"),t=by("useNavigate"),n=N.useRef(!1);return $x(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{_i(n.current,Gx),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var VT={};function Qx(e,t,n){!t&&!VT[e]&&(VT[e]=!0,_i(!1,n))}N.memo(oN);function oN({routes:e,future:t,state:n,onError:s}){return Kx(e,void 0,n,s,t)}function lN({to:e,replace:t,state:n,relative:s}){de(tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(Vn);_i(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Jn),{pathname:c}=Ms(),d=ed(),m=yy(e,gy(l),c,s==="path"),p=JSON.stringify(m);return N.useEffect(()=>{d(JSON.parse(p),{replace:t,state:n,relative:s})},[d,p,s,t,n]),null}function Ts(e){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uN({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){de(!tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=Jo(n));let{pathname:p="/",search:y="",hash:_="",state:E=null,key:S="default"}=n,D=N.useMemo(()=>{let V=Cs(p,d);return V==null?null:{location:{pathname:V,search:y,hash:_,state:E,key:S},navigationType:s}},[d,p,y,_,E,S,s]);return _i(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:N.createElement(Vn.Provider,{value:m},N.createElement(Zu.Provider,{children:t,value:D}))}function cN({children:e,location:t}){return QI(pg(e),t)}function pg(e,t=[]){let n=[];return N.Children.forEach(e,(s,a)=>{if(!N.isValidElement(s))return;let l=[...t,a];if(s.type===N.Fragment){n.push.apply(n,pg(s.props.children,l));return}de(s.type===Ts,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=pg(s.props.children,l)),n.push(c)}),n}var sf="get",rf="application/x-www-form-urlencoded";function nd(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function hN(e){return nd(e)&&e.tagName.toLowerCase()==="button"}function fN(e){return nd(e)&&e.tagName.toLowerCase()==="form"}function dN(e){return nd(e)&&e.tagName.toLowerCase()==="input"}function mN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pN(e,t){return e.button===0&&(!t||t==="_self")&&!mN(e)}var Gh=null;function gN(){if(Gh===null)try{new FormData(document.createElement("form"),0),Gh=!1}catch{Gh=!0}return Gh}var yN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mp(e){return e!=null&&!yN.has(e)?(_i(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rf}"`),null):e}function vN(e,t){let n,s,a,l,c;if(fN(e)){let d=e.getAttribute("action");s=d?Cs(d,t):null,n=e.getAttribute("method")||sf,a=Mp(e.getAttribute("enctype"))||rf,l=new FormData(e)}else if(hN(e)||dN(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?Cs(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||sf,a=Mp(e.getAttribute("formenctype"))||Mp(d.getAttribute("enctype"))||rf,l=new FormData(d,e),!gN()){let{name:p,type:y,value:_}=e;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(nd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sf,s=null,a=rf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ty(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _N(e,t,n,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:t&&Cs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function bN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function EN(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await bN(l,n);return c.links?c.links():[]}return[]}));return AN(s.flat(1).filter(TN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function OT(e,t,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function xN(e,t,{includeHydrateFallback:n}={}){return wN(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function wN(e){return[...new Set(e)]}function SN(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function AN(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(SN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Xx(){let e=N.useContext(Zo);return Ty(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function CN(){let e=N.useContext(td);return Ty(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ey=N.createContext(void 0);Ey.displayName="FrameworkContext";function Wx(){let e=N.useContext(Ey);return Ty(e,"You must render this element inside a <HydratedRouter> element"),e}function RN(e,t){let n=N.useContext(Ey),[s,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,E=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let V=F=>{F.forEach(H=>{c(H.isIntersecting)})},j=new IntersectionObserver(V,{threshold:.5});return E.current&&j.observe(E.current),()=>{j.disconnect()}}},[e]),N.useEffect(()=>{if(s){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[s]);let S=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:_u(d,S),onBlur:_u(m,D),onMouseEnter:_u(p,S),onMouseLeave:_u(y,D),onTouchStart:_u(_,S)}]:[!1,E,{}]}function _u(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function IN({page:e,...t}){let{router:n}=Xx(),s=N.useMemo(()=>jx(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?N.createElement(DN,{page:e,matches:s,...t}):null}function NN(e){let{manifest:t,routeModules:n}=Wx(),[s,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return EN(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function DN({page:e,matches:t,...n}){let s=Ms(),{future:a,manifest:l,routeModules:c}=Wx(),{basename:d}=Xx(),{loaderData:m,matches:p}=CN(),y=N.useMemo(()=>OT(e,t,p,l,s,"data"),[e,t,p,l,s]),_=N.useMemo(()=>OT(e,t,p,l,s,"assets"),[e,t,p,l,s]),E=N.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let V=new Set,j=!1;if(t.forEach(H=>{let Y=l.routes[H.route.id];!Y||!Y.hasLoader||(!y.some(J=>J.route.id===H.route.id)&&H.route.id in m&&c[H.route.id]?.shouldRevalidate||Y.hasClientLoader?j=!0:V.add(H.route.id))}),V.size===0)return[];let F=_N(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return j&&V.size>0&&F.searchParams.set("_routes",t.filter(H=>V.has(H.route.id)).map(H=>H.route.id).join(",")),[F.pathname+F.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,t,e,c]),S=N.useMemo(()=>xN(_,l),[_,l]),D=NN(_);return N.createElement(N.Fragment,null,E.map(V=>N.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),S.map(V=>N.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),D.map(({key:V,link:j})=>N.createElement("link",{key:V,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function kN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var MN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MN&&(window.__reactRouterVersion="7.13.0")}catch{}function VN({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=N.useRef();a.current==null&&(a.current=cI({window:s,v5Compat:!0}));let l=a.current,[c,d]=N.useState({action:l.action,location:l.location}),m=N.useCallback(p=>{n===!1?d(p):N.startTransition(()=>d(p))},[n]);return N.useLayoutEffect(()=>l.listen(m),[l,m]),N.createElement(uN,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var Jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=N.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...S},D){let{basename:V,unstable_useTransitions:j}=N.useContext(Vn),F=typeof p=="string"&&Jx.test(p),H=Bx(p,V);p=H.to;let Y=qI(p,{relative:a}),[J,X,ot]=RN(s,S),R=LN(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:j});function A(O){t&&t(O),O.defaultPrevented||R(O)}let I=N.createElement("a",{...S,...ot,href:H.absoluteURL||Y,onClick:H.isExternal||l?t:A,ref:kN(D,X),target:m,"data-discover":!F&&n==="render"?"true":void 0});return J&&!F?N.createElement(N.Fragment,null,I,N.createElement(IN,{page:Y})):I});an.displayName="Link";var ON=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=tc(c,{relative:p.relative}),E=Ms(),S=N.useContext(td),{navigator:D,basename:V}=N.useContext(Vn),j=S!=null&&HN(_)&&d===!0,F=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,H=E.pathname,Y=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(H=H.toLowerCase(),Y=Y?Y.toLowerCase():null,F=F.toLowerCase()),Y&&V&&(Y=Cs(Y,V)||Y);const J=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let X=H===F||!a&&H.startsWith(F)&&H.charAt(J)==="/",ot=Y!=null&&(Y===F||!a&&Y.startsWith(F)&&Y.charAt(F.length)==="/"),R={isActive:X,isPending:ot,isTransitioning:j},A=X?t:void 0,I;typeof s=="function"?I=s(R):I=[s,X?"active":null,ot?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(R):l;return N.createElement(an,{...p,"aria-current":A,className:I,ref:y,style:O,to:c,viewTransition:d},typeof m=="function"?m(R):m)});ON.displayName="NavLink";var PN=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=sf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...S},D)=>{let{unstable_useTransitions:V}=N.useContext(Vn),j=BN(),F=FN(d,{relative:p}),H=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&Jx.test(d),J=X=>{if(m&&m(X),X.defaultPrevented)return;X.preventDefault();let ot=X.nativeEvent.submitter,R=ot?.getAttribute("formmethod")||c,A=()=>j(ot||X.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E});V&&n!==!1?N.startTransition(()=>A()):A()};return N.createElement("form",{ref:D,method:H,action:F,onSubmit:s?m:J,...S,"data-discover":!Y&&e==="render"?"true":void 0})});PN.displayName="Form";function jN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zx(e){let t=N.useContext(Zo);return de(t,jN(e)),t}function LN(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=ed(),y=Ms(),_=tc(e,{relative:l});return N.useCallback(E=>{if(pN(E,t)){E.preventDefault();let S=n!==void 0?n:ju(y)===ju(_),D=()=>p(e,{replace:S,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?N.startTransition(()=>D()):D()}},[y,p,_,n,s,t,e,a,l,c,d,m])}var UN=0,zN=()=>`__${String(++UN)}__`;function BN(){let{router:e}=Zx("useSubmit"),{basename:t}=N.useContext(Vn),n=sN(),s=e.fetch,a=e.navigate;return N.useCallback(async(l,c={})=>{let{action:d,method:m,encType:p,formData:y,body:_}=vN(l,t);if(c.navigate===!1){let E=c.fetcherKey||zN();await s(E,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function FN(e,{relative:t}={}){let{basename:n}=N.useContext(Vn),s=N.useContext(Jn);de(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...tc(e||".",{relative:t})},c=Ms();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ss([n,l.pathname])),ju(l)}function HN(e,{relative:t}={}){let n=N.useContext(Hx);de(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Zx("useViewTransitionState"),a=tc(e,{relative:t});if(!n.isTransitioning)return!1;let l=Cs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Cs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wf(a.pathname,c)!=null||wf(a.pathname,l)!=null}const xy=N.createContext({});function wy(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const tw=typeof window<"u",ew=tw?N.useLayoutEffect:N.useEffect,id=N.createContext(null);function Sy(e,t){e.indexOf(t)===-1&&e.push(t)}function Sf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ji=(e,t,n)=>n>t?t:n<e?e:n;let Ay=()=>{};const Rs={},nw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function iw(e){return typeof e=="object"&&e!==null}const sw=e=>/^0[^.\s]+$/u.test(e);function Cy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wn=e=>e,qN=(e,t)=>n=>t(e(n)),ec=(...e)=>e.reduce(qN),Lu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Ry{constructor(){this.subscriptions=[]}add(t){return Sy(this.subscriptions,t),()=>Sf(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gi=e=>e*1e3,Xn=e=>e/1e3;function rw(e,t){return t?e*(1e3/t):0}const aw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,GN=1e-7,$N=12;function KN(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=aw(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>GN&&++d<$N);return c}function nc(e,t,n,s){if(e===t&&n===s)return Wn;const a=l=>KN(l,0,1,e,n);return l=>l===0||l===1?l:aw(a(l),t,s)}const ow=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lw=e=>t=>1-e(1-t),uw=nc(.33,1.53,.69,.99),Iy=lw(uw),cw=ow(Iy),hw=e=>(e*=2)<1?.5*Iy(e):.5*(2-Math.pow(2,-10*(e-1))),Ny=e=>1-Math.sin(Math.acos(e)),fw=lw(Ny),dw=ow(Ny),YN=nc(.42,0,1,1),QN=nc(0,0,.58,1),mw=nc(.42,0,.58,1),XN=e=>Array.isArray(e)&&typeof e[0]!="number",pw=e=>Array.isArray(e)&&typeof e[0]=="number",WN={linear:Wn,easeIn:YN,easeInOut:mw,easeOut:QN,circIn:Ny,circInOut:dw,circOut:fw,backIn:Iy,backInOut:cw,backOut:uw,anticipate:hw},JN=e=>typeof e=="string",PT=e=>{if(pw(e)){Ay(e.length===4);const[t,n,s,a]=e;return nc(t,n,s,a)}else if(JN(e))return WN[e];return e},$h=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ZN(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(d)}const p={schedule:(y,_=!1,E=!1)=>{const D=E&&a?n:s;return _&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const tD=40;function gw(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=$h.reduce((Y,J)=>(Y[J]=ZN(l),Y),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:S,postRender:D}=c,V=()=>{const Y=Rs.useManualTiming?a.timestamp:performance.now();n=!1,Rs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,tD),1)),a.timestamp=Y,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),S.process(a),D.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(V))},j=()=>{n=!0,s=!0,a.isProcessing||e(V)};return{schedule:$h.reduce((Y,J)=>{const X=c[J];return Y[J]=(ot,R=!1,A=!1)=>(n||j(),X.schedule(ot,R,A)),Y},{}),cancel:Y=>{for(let J=0;J<$h.length;J++)c[$h[J]].cancel(Y)},state:a,steps:c}}const{schedule:ae,cancel:Rr,state:Ze,steps:Vp}=gw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let af;function eD(){af=void 0}const mn={now:()=>(af===void 0&&mn.set(Ze.isProcessing||Rs.useManualTiming?Ze.timestamp:performance.now()),af),set:e=>{af=e,queueMicrotask(eD)}},yw=e=>t=>typeof t=="string"&&t.startsWith(e),vw=yw("--"),nD=yw("var(--"),Dy=e=>nD(e)?iD.test(e.split("/*")[0].trim()):!1,iD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function jT(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const el={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Uu={...el,transform:e=>Ji(0,1,e)},Kh={...el,default:1},Cu=e=>Math.round(e*1e5)/1e5,ky=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sD(e){return e==null}const rD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,My=(e,t)=>n=>!!(typeof n=="string"&&rD.test(n)&&n.startsWith(e)||t&&!sD(n)&&Object.prototype.hasOwnProperty.call(n,t)),_w=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(ky);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},aD=e=>Ji(0,255,e),Op={...el,transform:e=>Math.round(aD(e))},ya={test:My("rgb","red"),parse:_w("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Op.transform(e)+", "+Op.transform(t)+", "+Op.transform(n)+", "+Cu(Uu.transform(s))+")"};function oD(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const gg={test:My("#"),parse:oD,transform:ya.transform},ic=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),gr=ic("deg"),Gi=ic("%"),pt=ic("px"),lD=ic("vh"),uD=ic("vw"),LT={...Gi,parse:e=>Gi.parse(e)/100,transform:e=>Gi.transform(e*100)},Do={test:My("hsl","hue"),parse:_w("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Gi.transform(Cu(t))+", "+Gi.transform(Cu(n))+", "+Cu(Uu.transform(s))+")"},Ve={test:e=>ya.test(e)||gg.test(e)||Do.test(e),parse:e=>ya.test(e)?ya.parse(e):Do.test(e)?Do.parse(e):gg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ya.transform(e):Do.transform(e),getAnimatableNone:e=>{const t=Ve.parse(e);return t.alpha=0,Ve.transform(t)}},cD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hD(e){return isNaN(e)&&typeof e=="string"&&(e.match(ky)?.length||0)+(e.match(cD)?.length||0)>0}const bw="number",Tw="color",fD="var",dD="var(",UT="${}",mD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(mD,m=>(Ve.test(m)?(s.color.push(l),a.push(Tw),n.push(Ve.parse(m))):m.startsWith(dD)?(s.var.push(l),a.push(fD),n.push(m)):(s.number.push(l),a.push(bw),n.push(parseFloat(m))),++l,UT)).split(UT);return{values:n,split:d,indexes:s,types:a}}function Ew(e){return zu(e).values}function xw(e){const{split:t,types:n}=zu(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===bw?l+=Cu(a[c]):d===Tw?l+=Ve.transform(a[c]):l+=a[c]}return l}}const pD=e=>typeof e=="number"?0:Ve.test(e)?Ve.getAnimatableNone(e):e;function gD(e){const t=Ew(e);return xw(e)(t.map(pD))}const Ir={test:hD,parse:Ew,createTransformer:xw,getAnimatableNone:gD};function Pp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yD({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Pp(m,d,e+1/3),l=Pp(m,d,e),c=Pp(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Af(e,t){return n=>n>0?t:e}const me=(e,t,n)=>e+(t-e)*n,jp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},vD=[gg,ya,Do],_D=e=>vD.find(t=>t.test(e));function zT(e){const t=_D(e);if(!t)return!1;let n=t.parse(e);return t===Do&&(n=yD(n)),n}const BT=(e,t)=>{const n=zT(e),s=zT(t);if(!n||!s)return Af(e,t);const a={...n};return l=>(a.red=jp(n.red,s.red,l),a.green=jp(n.green,s.green,l),a.blue=jp(n.blue,s.blue,l),a.alpha=me(n.alpha,s.alpha,l),ya.transform(a))},yg=new Set(["none","hidden"]);function bD(e,t){return yg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function TD(e,t){return n=>me(e,t,n)}function Vy(e){return typeof e=="number"?TD:typeof e=="string"?Dy(e)?Af:Ve.test(e)?BT:wD:Array.isArray(e)?ww:typeof e=="object"?Ve.test(e)?BT:ED:Af}function ww(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Vy(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function ED(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Vy(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function xD(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const wD=(e,t)=>{const n=Ir.createTransformer(t),s=zu(e),a=zu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?yg.has(e)&&!a.values.length||yg.has(t)&&!s.values.length?bD(e,t):ec(ww(xD(s,a),a.values),n):Af(e,t)};function Sw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?me(e,t,n):Vy(e)(e,t)}const SD=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ae.update(t,n),stop:()=>Rr(t),now:()=>Ze.isProcessing?Ze.timestamp:mn.now()}},Aw=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Cf=2e4;function Oy(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Cf;)t+=n,s=e.next(t);return t>=Cf?1/0:t}function AD(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(Oy(s),Cf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Xn(a)}}const CD=5;function Cw(e,t,n){const s=Math.max(t-CD,0);return rw(n-e(s),t-s)}const ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lp=.001;function RD({duration:e=ve.duration,bounce:t=ve.bounce,velocity:n=ve.velocity,mass:s=ve.mass}){let a,l,c=1-t;c=Ji(ve.minDamping,ve.maxDamping,c),e=Ji(ve.minDuration,ve.maxDuration,Xn(e)),c<1?(a=p=>{const y=p*c,_=y*e,E=y-n,S=vg(p,c),D=Math.exp(-_);return Lp-E/S*D},l=p=>{const _=p*c*e,E=_*n+n,S=Math.pow(c,2)*Math.pow(p,2)*e,D=Math.exp(-_),V=vg(Math.pow(p,2),c);return(-a(p)+Lp>0?-1:1)*((E-S)*D)/V}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-Lp+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const d=5/e,m=ND(a,l,d);if(e=gi(e),isNaN(m))return{stiffness:ve.stiffness,damping:ve.damping,duration:e};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const ID=12;function ND(e,t,n){let s=n;for(let a=1;a<ID;a++)s=s-e(s)/t(s);return s}function vg(e,t){return e*Math.sqrt(1-t*t)}const DD=["duration","bounce"],kD=["stiffness","damping","mass"];function FT(e,t){return t.some(n=>e[n]!==void 0)}function MD(e){let t={velocity:ve.velocity,stiffness:ve.stiffness,damping:ve.damping,mass:ve.mass,isResolvedFromDuration:!1,...e};if(!FT(e,kD)&&FT(e,DD))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ji(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ve.mass,stiffness:a,damping:l}}else{const n=RD(e);t={...t,...n,mass:ve.mass},t.isResolvedFromDuration=!0}return t}function Rf(e=ve.visualDuration,t=ve.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:S}=MD({...n,velocity:-Xn(n.velocity||0)}),D=E||0,V=p/(2*Math.sqrt(m*y)),j=c-l,F=Xn(Math.sqrt(m/y)),H=Math.abs(j)<5;s||(s=H?ve.restSpeed.granular:ve.restSpeed.default),a||(a=H?ve.restDelta.granular:ve.restDelta.default);let Y;if(V<1){const X=vg(F,V);Y=ot=>{const R=Math.exp(-V*F*ot);return c-R*((D+V*F*j)/X*Math.sin(X*ot)+j*Math.cos(X*ot))}}else if(V===1)Y=X=>c-Math.exp(-F*X)*(j+(D+F*j)*X);else{const X=F*Math.sqrt(V*V-1);Y=ot=>{const R=Math.exp(-V*F*ot),A=Math.min(X*ot,300);return c-R*((D+V*F*j)*Math.sinh(A)+X*j*Math.cosh(A))/X}}const J={calculatedDuration:S&&_||null,next:X=>{const ot=Y(X);if(S)d.done=X>=_;else{let R=X===0?D:0;V<1&&(R=X===0?gi(D):Cw(Y,X,ot));const A=Math.abs(R)<=s,I=Math.abs(c-ot)<=a;d.done=A&&I}return d.value=d.done?c:ot,d},toString:()=>{const X=Math.min(Oy(J),Cf),ot=Aw(R=>J.next(X*R).value,X,30);return X+"ms "+ot},toTransition:()=>{}};return J}Rf.applyToOptions=e=>{const t=AD(e,100,Rf);return e.ease=t.ease,e.duration=gi(t.duration),e.type="keyframes",e};function _g({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],E={done:!1,value:_},S=A=>d!==void 0&&A<d||m!==void 0&&A>m,D=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let V=n*t;const j=_+V,F=c===void 0?j:c(j);F!==j&&(V=F-_);const H=A=>-V*Math.exp(-A/s),Y=A=>F+H(A),J=A=>{const I=H(A),O=Y(A);E.done=Math.abs(I)<=p,E.value=E.done?F:O};let X,ot;const R=A=>{S(E.value)&&(X=A,ot=Rf({keyframes:[E.value,D(E.value)],velocity:Cw(Y,A,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:A=>{let I=!1;return!ot&&X===void 0&&(I=!0,J(A),R(A)),X!==void 0&&A>=X?ot.next(A-X):(!I&&J(A),E)}}}function VD(e,t,n){const s=[],a=n||Rs.mix||Sw,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Wn:t;d=ec(m,d)}s.push(d)}return s}function OD(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(Ay(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=VD(t,s,a),m=d.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const E=Lu(e[_],e[_+1],y);return d[_](E)};return n?y=>p(Ji(e[0],e[l-1],y)):p}function PD(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Lu(0,t,s);e.push(me(n,1,a))}}function jD(e){const t=[0];return PD(t,e.length-1),t}function LD(e,t){return e.map(n=>n*t)}function UD(e,t){return e.map(()=>t||mw).splice(0,e.length-1)}function Ru({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=XN(s)?s.map(PT):PT(s),l={done:!1,value:t[0]},c=LD(n&&n.length===t.length?n:jD(t),e),d=OD(c,t,{ease:Array.isArray(a)?a:UD(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const zD=e=>e!==null;function Py(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(zD),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const BD={decay:_g,inertia:_g,tween:Ru,keyframes:Ru,spring:Rf};function Rw(e){typeof e.type=="string"&&(e.type=BD[e.type])}class jy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const FD=e=>e/100;class Ly extends jy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Rw(t);const{type:n=Ru,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Ru;m!==Ru&&typeof d[0]!="number"&&(this.mixKeyframes=ec(FD,Sw(d[0],d[1])),d=[0,100]);const p=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Oy(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:S,type:D,onUpdate:V,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,J=s;if(_){const A=Math.min(this.currentTime,a)/d;let I=Math.floor(A),O=A%1;!O&&A>=1&&(O=1),O===1&&I--,I=Math.min(I,_+1),I%2&&(E==="reverse"?(O=1-O,S&&(O-=S/d)):E==="mirror"&&(J=c)),Y=Ji(0,1,O)*d}const X=H?{done:!1,value:y[0]}:J.next(Y);l&&(X.value=l(X.value));let{done:ot}=X;!H&&m!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return R&&D!==_g&&(X.value=Py(y,this.options,j,this.speed)),V&&V(X.value),R&&this.finish(),X}then(t,n){return this.finished.then(t,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(this.currentTime)}set time(t){t=gi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=SD,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function HD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const va=e=>e*180/Math.PI,bg=e=>{const t=va(Math.atan2(e[1],e[0]));return Tg(t)},qD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:bg,rotateZ:bg,skewX:e=>va(Math.atan(e[1])),skewY:e=>va(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Tg=e=>(e=e%360,e<0&&(e+=360),e),HT=bg,qT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),GT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),GD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qT,scaleY:GT,scale:e=>(qT(e)+GT(e))/2,rotateX:e=>Tg(va(Math.atan2(e[6],e[5]))),rotateY:e=>Tg(va(Math.atan2(-e[2],e[0]))),rotateZ:HT,rotate:HT,skewX:e=>va(Math.atan(e[4])),skewY:e=>va(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Eg(e){return e.includes("scale")?1:0}function xg(e,t){if(!e||e==="none")return Eg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=GD,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=qD,a=d}if(!a)return Eg(t);const l=s[t],c=a[1].split(",").map(KD);return typeof l=="function"?l(c):c[l]}const $D=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return xg(n,t)};function KD(e){return parseFloat(e.trim())}const nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(nl),$T=e=>e===el||e===pt,YD=new Set(["x","y","z"]),QD=nl.filter(e=>!YD.has(e));function XD(e){const t=[];return QD.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const br={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>xg(t,"x"),y:(e,{transform:t})=>xg(t,"y")};br.translateX=br.x;br.translateY=br.y;const Ta=new Set;let wg=!1,Sg=!1,Ag=!1;function Iw(){if(Sg){const e=Array.from(Ta).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=XD(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Sg=!1,wg=!1,Ta.forEach(e=>e.complete(Ag)),Ta.clear()}function Nw(){Ta.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sg=!0)})}function WD(){Ag=!0,Nw(),Iw(),Ag=!1}class Uy{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ta.add(this),wg||(wg=!0,ae.read(Nw),ae.resolveKeyframes(Iw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}HD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ta.delete(this)}cancel(){this.state==="scheduled"&&(Ta.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const JD=e=>e.startsWith("--");function ZD(e,t,n){JD(t)?e.style.setProperty(t,n):e.style[t]=n}const tk=Cy(()=>window.ScrollTimeline!==void 0),ek={};function nk(e,t){const n=Cy(e);return()=>ek[t]??n()}const Dw=nk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Eu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,KT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Eu([0,.65,.55,1]),circOut:Eu([.55,0,1,.45]),backIn:Eu([.31,.01,.66,-.59]),backOut:Eu([.33,1.53,.69,.99])};function kw(e,t){if(e)return typeof e=="function"?Dw()?Aw(e,t):"ease-out":pw(e)?Eu(e):Array.isArray(e)?e.map(n=>kw(n,t)||KT.easeOut):KT[e]}function ik(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=kw(d,a);Array.isArray(_)&&(y.easing=_);const E={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),e.animate(y,E)}function Mw(e){return typeof e=="function"&&"applyToOptions"in e}function sk({type:e,...t}){return Mw(e)&&Dw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Vw extends jy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Ay(typeof t.type!="string");const p=sk(t);this.animation=ik(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Py(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):ZD(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=gi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&tk()?(this.animation.timeline=t,Wn):n(this)}}const Ow={anticipate:hw,backInOut:cw,circInOut:dw};function rk(e){return e in Ow}function ak(e){typeof e.ease=="string"&&rk(e.ease)&&(e.ease=Ow[e.ease])}const Up=10;class ok extends Vw{constructor(t){ak(t),Rw(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Ly({...c,autoplay:!1}),m=Math.max(Up,mn.now()-this.startTime),p=Ji(0,Up,m-Up);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const YT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ir.test(e)||e==="0")&&!e.startsWith("url("));function lk(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function uk(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=YT(a,t),d=YT(l,t);return!c||!d?!1:lk(e)||(n==="spring"||Mw(n))&&s}function Cg(e){e.duration=0,e.type="keyframes"}const ck=new Set(["opacity","clipPath","filter","transform"]),hk=Cy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fk(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return hk()&&n&&ck.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const dk=40;class mk extends jy{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mn.now();const E={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},S=y?.KeyframeResolver||Uy;this.keyframeResolver=new S(d,(D,V,j)=>this.onKeyframesResolved(D,V,E,!j),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=mn.now(),uk(t,l,c,d)||((Rs.instantAnimations||!m)&&y?.(Py(t,s,n)),t[0]=t[t.length-1],Cg(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>dk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},S=!p&&fk(E),D=E.motionValue?.owner?.current,V=S?new ok({...E,element:D}):new Ly(E);V.finished.then(()=>{this.notifyFinished()}).catch(Wn),this.pendingTimeline&&(this.stopTimeline=V.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=V}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),WD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Pw(e,t,n,s=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}const pk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gk(e){const t=pk.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function jw(e,t,n=1){const[s,a]=gk(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return nw(c)?parseFloat(c):c}return Dy(a)?jw(a,t,n+1):a}const yk={type:"spring",stiffness:500,damping:25,restSpeed:10},vk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_k={type:"keyframes",duration:.8},bk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tk=(e,{keyframes:t})=>t.length>2?_k:il.has(e)?e.startsWith("scale")?vk(t[1]):yk:bk,Ek=e=>e!==null;function xk(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(Ek),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}function Lw(e,t){if(e?.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function zy(e,t){const n=e?.[t]??e?.default??e;return n!==e?Lw(n,e):n}function wk({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const By=(e,t,n,s={},a,l)=>c=>{const d=zy(s,e)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-gi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:E=>{t.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};wk(d)||Object.assign(y,Tk(e,y)),y.duration&&(y.duration=gi(y.duration)),y.repeatDelay&&(y.repeatDelay=gi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Cg(y),y.delay===0&&(_=!0)),(Rs.instantAnimations||Rs.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,Cg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const E=xk(y.keyframes,d);if(E!==void 0){ae.update(()=>{y.onUpdate(E),y.onComplete()});return}}return d.isSync?new Ly(y):new mk(y)};function QT(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Fy(e,t,n,s){if(typeof t=="function"){const[a,l]=QT(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=QT(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function jo(e,t,n){const s=e.getProps();return Fy(s,t,n!==void 0?n:s.custom,e)}const Uw=new Set(["width","height","top","left","right","bottom",...nl]),XT=30,Sk=e=>!isNaN(parseFloat(e));class Ak{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=mn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Sk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ry);const s=this.events[t].add(n);return t==="change"?()=>{s(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>XT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,XT);return rw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(e,t){return new Ak(e,t)}const Rg=e=>Array.isArray(e);function Ck(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ho(n))}function Rk(e){return Rg(e)?e[e.length-1]||0:e}function Ik(e,t){const n=jo(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=Rk(l[c]);Ck(e,c,d)}}const un=e=>!!(e&&e.getVelocity);function Nk(e){return!!(un(e)&&e.add)}function Ig(e,t){const n=e.getValue("willChange");if(Nk(n))return n.add(t);if(!n&&Rs.WillChange){const s=new Rs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Hy(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Dk="framerAppearId",zw="data-"+Hy(Dk);function Bw(e){return e.props[zw]}function kk({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Fw(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:c,...d}=t;const m=e.getDefaultTransition();l=l?Lw(l,m):m;const p=l?.reduceMotion;s&&(l=s);const y=[],_=a&&e.animationState&&e.animationState.getState()[a];for(const E in d){const S=e.getValue(E,e.latestValues[E]??null),D=d[E];if(D===void 0||_&&kk(_,E))continue;const V={delay:n,...zy(l||{},E)},j=S.get();if(j!==void 0&&!S.isAnimating&&!Array.isArray(D)&&D===j&&!V.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const J=Bw(e);if(J){const X=window.MotionHandoffAnimation(J,E,ae);X!==null&&(V.startTime=X,F=!0)}}Ig(e,E);const H=p??e.shouldReduceMotion;S.start(By(E,S,D,H&&Uw.has(E)?{type:!1}:V,e,F));const Y=S.animation;Y&&y.push(Y)}if(c){const E=()=>ae.update(()=>{c&&Ik(e,c)});y.length?Promise.all(y).then(E):E()}return y}function Ng(e,t,n={}){const s=jo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(Fw(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return Mk(e,t,m,p,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function Mk(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Ng(m,t,{...c,delay:n+(typeof s=="function"?0:s)+Pw(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function Vk(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Ng(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Ng(e,t,n);else{const a=typeof t=="function"?jo(e,t,n.custom):t;s=Promise.all(Fw(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const Ok={test:e=>e==="auto",parse:e=>e},Hw=e=>t=>t.test(e),qw=[el,pt,Gi,gr,uD,lD,Ok],WT=e=>qw.find(Hw(e));function Pk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||sw(e):!0}const jk=new Set(["brightness","contrast","saturate","opacity"]);function Lk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(ky)||[];if(!s)return e;const a=n.replace(s,"");let l=jk.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const Uk=/\b([a-z-]*)\(.*?\)/gu,Dg={...Ir,getAnimatableNone:e=>{const t=e.match(Uk);return t?t.map(Lk).join(" "):e}},JT={...el,transform:Math.round},zk={rotate:gr,rotateX:gr,rotateY:gr,rotateZ:gr,scale:Kh,scaleX:Kh,scaleY:Kh,scaleZ:Kh,skew:gr,skewX:gr,skewY:gr,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:Uu,originX:LT,originY:LT,originZ:pt},qy={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,inset:pt,insetBlock:pt,insetBlockStart:pt,insetBlockEnd:pt,insetInline:pt,insetInlineStart:pt,insetInlineEnd:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,paddingBlock:pt,paddingBlockStart:pt,paddingBlockEnd:pt,paddingInline:pt,paddingInlineStart:pt,paddingInlineEnd:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,marginBlock:pt,marginBlockStart:pt,marginBlockEnd:pt,marginInline:pt,marginInlineStart:pt,marginInlineEnd:pt,fontSize:pt,backgroundPositionX:pt,backgroundPositionY:pt,...zk,zIndex:JT,fillOpacity:Uu,strokeOpacity:Uu,numOctaves:JT},Bk={...qy,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:Dg,WebkitFilter:Dg},Gw=e=>Bk[e];function $w(e,t){let n=Gw(e);return n!==Dg&&(n=Ir),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Fk=new Set(["auto","none","0"]);function Hk(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!Fk.has(l)&&zu(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=$w(n,a)}class qk extends Uy{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),Dy(_))){const E=jw(_,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!Uw.has(s)||t.length!==2)return;const[a,l]=t,c=WT(a),d=WT(l),m=jT(a),p=jT(l);if(m!==p&&br[s]){this.needsMeasurement=!0;return}if(c!==d)if($T(c)&&$T(d))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else br[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||Pk(t[a]))&&s.push(a);s.length&&Hk(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=br[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=br[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const Gk=new Set(["opacity","clipPath","filter","transform"]);function Kw(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(s=>s!=null)}const Yw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function kg(e){return iw(e)&&"offsetHeight"in e}const{schedule:Gy}=gw(queueMicrotask,!1),fi={x:!1,y:!1};function Qw(){return fi.x||fi.y}function $k(e){return e==="x"||e==="y"?fi[e]?null:(fi[e]=!0,()=>{fi[e]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}function Xw(e,t){const n=Kw(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function Kk(e){return!(e.pointerType==="touch"||Qw())}function Yk(e,t,n={}){const[s,a,l]=Xw(e,n);return s.forEach(c=>{let d=!1,m=!1,p;const y=()=>{c.removeEventListener("pointerleave",D)},_=j=>{p&&(p(j),p=void 0),y()},E=j=>{d=!1,window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",E),m&&(m=!1,_(j))},S=()=>{d=!0,window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",E,a)},D=j=>{if(j.pointerType!=="touch"){if(d){m=!0;return}_(j)}},V=j=>{if(!Kk(j))return;m=!1;const F=t(c,j);typeof F=="function"&&(p=F,c.addEventListener("pointerleave",D,a))};c.addEventListener("pointerenter",V,a),c.addEventListener("pointerdown",S,a)}),l}const Ww=(e,t)=>t?e===t?!0:Ww(e,t.parentElement):!1,$y=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Qk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Xk(e){return Qk.has(e.tagName)||e.isContentEditable===!0}const Wk=new Set(["INPUT","SELECT","TEXTAREA"]);function Jk(e){return Wk.has(e.tagName)||e.isContentEditable===!0}const of=new WeakSet;function ZT(e){return t=>{t.key==="Enter"&&e(t)}}function zp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Zk=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=ZT(()=>{if(of.has(n))return;zp(n,"down");const a=ZT(()=>{zp(n,"up")}),l=()=>zp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function t1(e){return $y(e)&&!Qw()}const e1=new WeakSet;function tM(e,t,n={}){const[s,a,l]=Xw(e,n),c=d=>{const m=d.currentTarget;if(!t1(d)||e1.has(d))return;of.add(m),n.stopPropagation&&e1.add(d);const p=t(m,d),y=(S,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),of.has(m)&&of.delete(m),t1(S)&&typeof p=="function"&&p(S,{success:D})},_=S=>{y(S,m===window||m===document||n.useGlobalTarget||Ww(m,S.target))},E=S=>{y(S,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),kg(d)&&(d.addEventListener("focus",p=>Zk(p,a)),!Xk(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Ky(e){return iw(e)&&"ownerSVGElement"in e}const lf=new WeakMap;let uf;const Jw=(e,t,n)=>(s,a)=>a&&a[0]?a[0][e+"Size"]:Ky(s)&&"getBBox"in s?s.getBBox()[t]:s[n],eM=Jw("inline","width","offsetWidth"),nM=Jw("block","height","offsetHeight");function iM({target:e,borderBoxSize:t}){lf.get(e)?.forEach(n=>{n(e,{get width(){return eM(e,t)},get height(){return nM(e,t)}})})}function sM(e){e.forEach(iM)}function rM(){typeof ResizeObserver>"u"||(uf=new ResizeObserver(sM))}function aM(e,t){uf||rM();const n=Kw(e);return n.forEach(s=>{let a=lf.get(s);a||(a=new Set,lf.set(s,a)),a.add(t),uf?.observe(s)}),()=>{n.forEach(s=>{const a=lf.get(s);a?.delete(t),a?.size||uf?.unobserve(s)})}}const cf=new Set;let ko;function oM(){ko=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};cf.forEach(t=>t(e))},window.addEventListener("resize",ko)}function lM(e){return cf.add(e),ko||oM(),()=>{cf.delete(e),!cf.size&&typeof ko=="function"&&(window.removeEventListener("resize",ko),ko=void 0)}}function n1(e,t){return typeof e=="function"?lM(e):aM(e,t)}function uM(e){return Ky(e)&&e.tagName==="svg"}const cM=[...qw,Ve,Ir],hM=e=>cM.find(Hw(e)),i1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mo=()=>({x:i1(),y:i1()}),s1=()=>({min:0,max:0}),Be=()=>({x:s1(),y:s1()}),fM=new WeakMap;function sd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bu(e){return typeof e=="string"||Array.isArray(e)}const Yy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qy=["initial",...Yy];function rd(e){return sd(e.animate)||Qy.some(t=>Bu(e[t]))}function Zw(e){return!!(rd(e)||e.variants)}function dM(e,t,n){for(const s in t){const a=t[s],l=n[s];if(un(a))e.addValue(s,a);else if(un(l))e.addValue(s,Ho(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,Ho(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Mg={current:null},tS={current:!1},mM=typeof window<"u";function pM(){if(tS.current=!0,!!mM)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mg.current=e.matches;e.addEventListener("change",t),t()}else Mg.current=!1}const r1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let If={};function eS(e){If=e}function gM(){return If}class yM{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Uy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=mn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=y,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=rd(n),this.isVariantNode=Zw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in E){const D=E[S];p[S]!==void 0&&un(D)&&D.set(p[S])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,fM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(tS.current||pM(),this.shouldReduceMotion=Mg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&Gk.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:d,times:m,ease:p,duration:y}=n.accelerate,_=new Vw({element:this.current,name:t,keyframes:d,times:m,ease:p,duration:gi(y)}),E=c(_);this.valueSubscriptions.set(t,()=>{E(),_.cancel()});return}const s=il.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in If){const n=If[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<r1.length;s++){const a=r1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=dM(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ho(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(nw(s)||sw(s))?s=parseFloat(s):!hM(s)&&Ir.test(n)&&(s=$w(t,n)),this.setBaseTarget(t,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Fy(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!un(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ry),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Gy.render(this.render)}}class nS extends yM{constructor(){super(...arguments),this.KeyframeResolver=qk}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Pr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function iS({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function vM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _M(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Bp(e){return e===void 0||e===1}function Vg({scale:e,scaleX:t,scaleY:n}){return!Bp(e)||!Bp(t)||!Bp(n)}function pa(e){return Vg(e)||sS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sS(e){return a1(e.x)||a1(e.y)}function a1(e){return e&&e!=="0%"}function Nf(e,t,n){const s=e-n,a=t*s;return n+a}function o1(e,t,n,s,a){return a!==void 0&&(e=Nf(e,a,s)),Nf(e,n,s)+t}function Og(e,t=0,n=1,s,a){e.min=o1(e.min,t,n,s,a),e.max=o1(e.max,t,n,s,a)}function rS(e,{x:t,y:n}){Og(e.x,t.translate,t.scale,t.originPoint),Og(e.y,n.translate,n.scale,n.originPoint)}const l1=.999999999999,u1=1.0000000000001;function bM(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Oo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,rS(e,c)),s&&pa(l.latestValues)&&Oo(e,l.latestValues))}t.x<u1&&t.x>l1&&(t.x=1),t.y<u1&&t.y>l1&&(t.y=1)}function Vo(e,t){e.min=e.min+t,e.max=e.max+t}function c1(e,t,n,s,a=.5){const l=me(e.min,e.max,a);Og(e,t,n,l,s)}function Oo(e,t){c1(e.x,t.x,t.scaleX,t.scale,t.originX),c1(e.y,t.y,t.scaleY,t.scale,t.originY)}function aS(e,t){return iS(_M(e.getBoundingClientRect(),t))}function TM(e,t,n){const s=aS(e,n),{scroll:a}=t;return a&&(Vo(s.x,a.offset.x),Vo(s.y,a.offset.y)),s}const EM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xM=nl.length;function wM(e,t,n){let s="",a=!0;for(let l=0;l<xM;l++){const c=nl[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(c.startsWith("scale")?1:0);else{const p=parseFloat(d);m=c.startsWith("scale")?p===1:p===0}if(!m||n){const p=Yw(d,qy[c]);if(!m){a=!1;const y=EM[c]||c;s+=`${y}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function Xy(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(il.has(m)){c=!0;continue}else if(vw(m)){a[m]=p;continue}else{const y=Yw(p,qy[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=wM(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function oS(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function h1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pt.test(e))e=parseFloat(e);else return e;const n=h1(e,t.target.x),s=h1(e,t.target.y);return`${n}% ${s}%`}},SM={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Ir.parse(e);if(a.length>5)return s;const l=Ir.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=me(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Pg={borderRadius:{...bu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bu,borderTopRightRadius:bu,borderBottomLeftRadius:bu,borderBottomRightRadius:bu,boxShadow:SM};function lS(e,{layout:t,layoutId:n}){return il.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Pg[e]||e==="opacity")}function Wy(e,t,n){const s=e.style,a=t?.style,l={};if(!s)return l;for(const c in s)(un(s[c])||a&&un(a[c])||lS(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function AM(e){return window.getComputedStyle(e)}class CM extends nS{constructor(){super(...arguments),this.type="html",this.renderInstance=oS}readValueFromInstance(t,n){if(il.has(n))return this.projection?.isProjecting?Eg(n):$D(t,n);{const s=AM(t),a=(vw(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return aS(t,n)}build(t,n,s){Xy(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Wy(t,n,s)}}const RM={offset:"stroke-dashoffset",array:"stroke-dasharray"},IM={offset:"strokeDashoffset",array:"strokeDasharray"};function NM(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?RM:IM;e[l.offset]=`${-s}`,e[l.array]=`${t} ${n}`}const DM=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function uS(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(Xy(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:E}=e;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const S of DM)_[S]!==void 0&&(E[S]=_[S],delete _[S]);t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&NM(_,a,l,c,!1)}const cS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),hS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kM(e,t,n,s){oS(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(cS.has(a)?a:Hy(a),t.attrs[a])}function fS(e,t,n){const s=Wy(e,t,n);for(const a in e)if(un(e[a])||un(t[a])){const l=nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}class MM extends nS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Be}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(il.has(n)){const s=Gw(n);return s&&s.default||0}return n=cS.has(n)?n:Hy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return fS(t,n,s)}build(t,n,s){uS(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){kM(t,n,s,a)}mount(t){this.isSVGTag=hS(t.tagName),super.mount(t)}}const VM=Qy.length;function dS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?dS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<VM;n++){const s=Qy[n],a=e.props[s];(Bu(a)||a===!1)&&(t[s]=a)}return t}function mS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const OM=[...Yy].reverse(),PM=Yy.length;function jM(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Vk(e,n,s)))}function LM(e){let t=jM(e),n=f1(),s=!0;const a=m=>(p,y)=>{const _=jo(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:S,...D}=_;p={...p,...D,...S}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=dS(e.parent)||{},_=[],E=new Set;let S={},D=1/0;for(let j=0;j<PM;j++){const F=OM[j],H=n[F],Y=p[F]!==void 0?p[F]:y[F],J=Bu(Y),X=F===m?H.isActive:null;X===!1&&(D=j);let ot=Y===y[F]&&Y!==p[F]&&J;if(ot&&s&&e.manuallyAnimateOnMount&&(ot=!1),H.protectedKeys={...S},!H.isActive&&X===null||!Y&&!H.prevProp||sd(Y)||typeof Y=="boolean")continue;if(F==="exit"&&H.isActive&&X!==!0){H.prevResolvedValues&&(S={...S,...H.prevResolvedValues});continue}const R=UM(H.prevProp,Y);let A=R||F===m&&H.isActive&&!ot&&J||j>D&&J,I=!1;const O=Array.isArray(Y)?Y:[Y];let P=O.reduce(a(F),{});X===!1&&(P={});const{prevResolvedValues:z={}}=H,k={...z,...P},$t=lt=>{A=!0,E.has(lt)&&(I=!0,E.delete(lt)),H.needsAnimating[lt]=!0;const rt=e.getValue(lt);rt&&(rt.liveStyle=!1)};for(const lt in k){const rt=P[lt],yt=z[lt];if(S.hasOwnProperty(lt))continue;let Ct=!1;Rg(rt)&&Rg(yt)?Ct=!mS(rt,yt):Ct=rt!==yt,Ct?rt!=null?$t(lt):E.add(lt):rt!==void 0&&E.has(lt)?$t(lt):H.protectedKeys[lt]=!0}H.prevProp=Y,H.prevResolvedValues=P,H.isActive&&(S={...S,...P}),s&&e.blockInitialAnimation&&(A=!1);const Zt=ot&&R;A&&(!Zt||I)&&_.push(...O.map(lt=>{const rt={type:F};if(typeof lt=="string"&&s&&!Zt&&e.manuallyAnimateOnMount&&e.parent){const{parent:yt}=e,Ct=jo(yt,lt);if(yt.enteringChildren&&Ct){const{delayChildren:L}=Ct.transition||{};rt.delay=Pw(yt.enteringChildren,e,L)}}return{animation:lt,options:rt}}))}if(E.size){const j={};if(typeof p.initial!="boolean"){const F=jo(e,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(j.transition=F.transition)}E.forEach(F=>{const H=e.getBaseTarget(F),Y=e.getValue(F);Y&&(Y.liveStyle=!0),j[F]=H??null}),_.push({animation:j})}let V=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(V=!1),s=!1,V?t(_):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=f1()}}}function UM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mS(t,e):!1}function ma(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function f1(){return{animate:ma(!0),whileInView:ma(),whileHover:ma(),whileTap:ma(),whileDrag:ma(),whileFocus:ma(),exit:ma()}}function d1(e,t){e.min=t.min,e.max=t.max}function hi(e,t){d1(e.x,t.x),d1(e.y,t.y)}function m1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const pS=1e-4,zM=1-pS,BM=1+pS,gS=.01,FM=0-gS,HM=0+gS;function pn(e){return e.max-e.min}function qM(e,t,n){return Math.abs(e-t)<=n}function p1(e,t,n,s=.5){e.origin=s,e.originPoint=me(t.min,t.max,e.origin),e.scale=pn(n)/pn(t),e.translate=me(n.min,n.max,e.origin)-e.originPoint,(e.scale>=zM&&e.scale<=BM||isNaN(e.scale))&&(e.scale=1),(e.translate>=FM&&e.translate<=HM||isNaN(e.translate))&&(e.translate=0)}function Iu(e,t,n,s){p1(e.x,t.x,n.x,s?s.originX:void 0),p1(e.y,t.y,n.y,s?s.originY:void 0)}function g1(e,t,n){e.min=n.min+t.min,e.max=e.min+pn(t)}function GM(e,t,n){g1(e.x,t.x,n.x),g1(e.y,t.y,n.y)}function y1(e,t,n){e.min=t.min-n.min,e.max=e.min+pn(t)}function Df(e,t,n){y1(e.x,t.x,n.x),y1(e.y,t.y,n.y)}function v1(e,t,n,s,a){return e-=t,e=Nf(e,1/n,s),a!==void 0&&(e=Nf(e,1/a,s)),e}function $M(e,t=0,n=1,s=.5,a,l=e,c=e){if(Gi.test(t)&&(t=parseFloat(t),t=me(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=me(l.min,l.max,s);e===l&&(d-=t),e.min=v1(e.min,t,n,d,a),e.max=v1(e.max,t,n,d,a)}function _1(e,t,[n,s,a],l,c){$M(e,t[n],t[s],t[a],t.scale,l,c)}const KM=["x","scaleX","originX"],YM=["y","scaleY","originY"];function b1(e,t,n,s){_1(e.x,t,KM,n?n.x:void 0,s?s.x:void 0),_1(e.y,t,YM,n?n.y:void 0,s?s.y:void 0)}function T1(e){return e.translate===0&&e.scale===1}function yS(e){return T1(e.x)&&T1(e.y)}function E1(e,t){return e.min===t.min&&e.max===t.max}function QM(e,t){return E1(e.x,t.x)&&E1(e.y,t.y)}function x1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vS(e,t){return x1(e.x,t.x)&&x1(e.y,t.y)}function w1(e){return pn(e.x)/pn(e.y)}function S1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Hi(e){return[e("x"),e("y")]}function XM(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:S,skewY:D}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),E&&(s+=`rotateY(${E}deg) `),S&&(s+=`skewX(${S}deg) `),D&&(s+=`skewY(${D}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const _S=["TopLeft","TopRight","BottomLeft","BottomRight"],WM=_S.length,A1=e=>typeof e=="string"?parseFloat(e):e,C1=e=>typeof e=="number"||pt.test(e);function JM(e,t,n,s,a,l){a?(e.opacity=me(0,n.opacity??1,ZM(s)),e.opacityExit=me(t.opacity??1,0,tV(s))):l&&(e.opacity=me(t.opacity??1,n.opacity??1,s));for(let c=0;c<WM;c++){const d=`border${_S[c]}Radius`;let m=R1(t,d),p=R1(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||C1(m)===C1(p)?(e[d]=Math.max(me(A1(m),A1(p),s),0),(Gi.test(p)||Gi.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=me(t.rotate||0,n.rotate||0,s))}function R1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ZM=bS(0,.5,fw),tV=bS(.5,.95,Wn);function bS(e,t,n){return s=>s<e?0:s>t?1:n(Lu(e,t,s))}function eV(e,t,n){const s=un(e)?e:Ho(e);return s.start(By("",s,t,n)),s.animation}function Fu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const nV=(e,t)=>e.depth-t.depth;class iV{constructor(){this.children=[],this.isDirty=!1}add(t){Sy(this.children,t),this.isDirty=!0}remove(t){Sf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(nV),this.isDirty=!1,this.children.forEach(t)}}function sV(e,t){const n=mn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(Rr(s),e(l-t))};return ae.setup(s,!0),()=>Rr(s)}function hf(e){return un(e)?e.get():e}class rV{constructor(){this.members=[]}add(t){Sy(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&Sf(this.members,s)}t.scheduleRender()}remove(t){if(Sf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=s.instance;m&&m.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:d}=t.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Fp=["","X","Y","Z"],aV=1e3;let oV=0;function Hp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function TS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Bw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&TS(s)}function ES({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=oV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cV),this.nodes.forEach(mV),this.nodes.forEach(pV),this.nodes.forEach(hV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new iV)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ry),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Ky(c)&&!uM(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{_=window.innerWidth}),e(c,()=>{const S=window.innerWidth;S!==_&&(_=S,this.root.updateBlockedByResize=!0,y&&y(),y=sV(E,250),ff.hasAnimatedSinceResize&&(ff.hasAnimatedSinceResize=!1,this.nodes.forEach(D1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||bV,{onLayoutAnimationStart:V,onLayoutAnimationComplete:j}=p.getProps(),F=!this.targetLayout||!vS(this.targetLayout,S),H=!_&&E;if(this.options.layoutRoot||this.resumeFrom||H||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...zy(D,"layout"),onPlay:V,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,H)}else _||D1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(N1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dV),this.nodes.forEach(lV),this.nodes.forEach(uV)):this.nodes.forEach(N1),this.clearAllSnapshots();const d=mn.now();Ze.delta=Ji(0,1e3/60,d-Ze.timestamp),Ze.timestamp=d,Ze.isProcessing=!0,Vp.update.process(Ze),Vp.preRender.process(Ze),Vp.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fV),this.sharedNodes.forEach(yV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!yS(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||pa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),TV(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Be();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(EV))){const{scroll:p}=this.root;p&&(Vo(d.x,p.offset.x),Vo(d.y,p.offset.y))}return d}removeElementScroll(c){const d=Be();if(hi(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&hi(d,c),Vo(d.x,y.offset.x),Vo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=Be();hi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Oo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),pa(y.latestValues)&&Oo(m,y.latestValues)}return pa(this.latestValues)&&Oo(m,this.latestValues),m}removeTransform(c){const d=Be();hi(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!pa(p.latestValues))continue;Vg(p.latestValues)&&p.updateSnapshot();const y=Be(),_=p.measurePageBox();hi(y,_),b1(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return pa(this.latestValues)&&b1(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Ze.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Be(),this.targetWithTransforms=Be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),rS(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Vg(this.parent.latestValues)||sS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),Df(this.relativeTargetOrigin,d,m),hi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;hi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;bM(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Be());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m1(this.prevProjectionDelta.x,this.projectionDelta.x),m1(this.prevProjectionDelta.y,this.projectionDelta.y)),Iu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!S1(this.projectionDelta.x,this.prevProjectionDelta.x)||!S1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mo(),this.projectionDelta=Mo(),this.projectionDeltaWithTransform=Mo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Mo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=Be(),S=m?m.source:void 0,D=this.layout?this.layout.source:void 0,V=S!==D,j=this.getStack(),F=!j||j.members.length<=1,H=!!(V&&!F&&this.options.crossfade===!0&&!this.path.some(_V));this.animationProgress=0;let Y;this.mixTargetDelta=J=>{const X=J/1e3;k1(_.x,c.x,X),k1(_.y,c.y,X),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Df(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vV(this.relativeTarget,this.relativeTargetOrigin,E,X),Y&&QM(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=Be()),hi(Y,this.relativeTarget)),V&&(this.animationValues=y,JM(y,p,this.latestValues,X,H,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{ff.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ho(0)),this.currentAnimation=eV(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&xS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Be();const _=pn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=pn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}hi(d,m),Oo(d,y),Iu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new rV),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Hp("z",c,p,this.animationValues);for(let y=0;y<Fp.length;y++)Hp(`rotate${Fp[y]}`,c,p,this.animationValues),Hp(`skew${Fp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=hf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=hf(d?.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=XM(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:E,y:S}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Pg){if(y[D]===void 0)continue;const{correct:V,applyTo:j,isCSSVariable:F}=Pg[D],H=_==="none"?y[D]:V(y[D],p);if(j){const Y=j.length;for(let J=0;J<Y;J++)c[j[J]]=H}else F?this.options.visualElement.renderState.vars[D]=H:c[D]=H}this.options.layoutId&&(c.pointerEvents=p===this?hf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(I1),this.root.sharedNodes.clear()}}}function lV(e){e.updateLayout()}function uV(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Hi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],E=pn(_);_.min=n[y].min,_.max=_.min+E}):xS(a,t.layoutBox,n)&&Hi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],E=pn(n[y]);_.max=_.min+E,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+E)});const c=Mo();Iu(c,n,t.layoutBox);const d=Mo();l?Iu(d,e.applyTransform(s,!0),t.measuredBox):Iu(d,n,t.layoutBox);const m=!yS(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const S=Be();Df(S,t.layoutBox,_.layoutBox);const D=Be();Df(D,n,E.layoutBox),vS(S,D)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function cV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fV(e){e.clearSnapshot()}function I1(e){e.clearMeasurements()}function N1(e){e.isLayoutDirty=!1}function dV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function D1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mV(e){e.resolveTargetDelta()}function pV(e){e.calcProjection()}function gV(e){e.resetSkewAndRotation()}function yV(e){e.removeLeadSnapshot()}function k1(e,t,n){e.translate=me(t.translate,0,n),e.scale=me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function M1(e,t,n,s){e.min=me(t.min,n.min,s),e.max=me(t.max,n.max,s)}function vV(e,t,n,s){M1(e.x,t.x,n.x,s),M1(e.y,t.y,n.y,s)}function _V(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bV={duration:.45,ease:[.4,0,.1,1]},V1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),O1=V1("applewebkit/")&&!V1("chrome/")?Math.round:Wn;function P1(e){e.min=O1(e.min),e.max=O1(e.max)}function TV(e){P1(e.x),P1(e.y)}function xS(e,t,n){return e==="position"||e==="preserve-aspect"&&!qM(w1(t),w1(n),.2)}function EV(e){return e!==e.root&&e.scroll?.wasRoot}const xV=ES({attachResizeListener:(e,t)=>Fu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),qp={current:void 0},wS=ES({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!qp.current){const e=new xV({});e.mount(window),e.setOptions({layoutScroll:!0}),qp.current=e}return qp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Jy=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function j1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wV(...e){return t=>{let n=!1;const s=e.map(a=>{const l=j1(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():j1(e[a],null)}}}}function SV(...e){return N.useCallback(wV(...e),e)}class AV extends N.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,a=kg(s)&&s.offsetWidth||0,l=kg(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function CV({children:e,isPresent:t,anchorX:n,anchorY:s,root:a,pop:l}){const c=N.useId(),d=N.useRef(null),m=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=N.useContext(Jy),y=e.props?.ref??e?.ref,_=SV(d,y);return N.useInsertionEffect(()=>{const{width:E,height:S,top:D,left:V,right:j,bottom:F}=m.current;if(t||l===!1||!d.current||!E||!S)return;const H=n==="left"?`left: ${V}`:`right: ${j}`,Y=s==="bottom"?`bottom: ${F}`:`top: ${D}`;d.current.dataset.motionPopId=c;const J=document.createElement("style");p&&(J.nonce=p);const X=a??document.head;return X.appendChild(J),J.sheet&&J.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${S}px !important;
            ${H}px !important;
            ${Y}px !important;
          }
        `),()=>{X.contains(J)&&X.removeChild(J)}},[t]),T.jsx(AV,{isPresent:t,childRef:d,sizeRef:m,pop:l,children:l===!1?e:N.cloneElement(e,{ref:_})})}const RV=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:m,root:p})=>{const y=wy(IV),_=N.useId();let E=!0,S=N.useMemo(()=>(E=!1,{id:_,initial:t,isPresent:n,custom:a,onExitComplete:D=>{y.set(D,!0);for(const V of y.values())if(!V)return;s&&s()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[n,y,s]);return l&&E&&(S={...S}),N.useMemo(()=>{y.forEach((D,V)=>y.set(V,!1))},[n]),N.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),e=T.jsx(CV,{pop:c==="popLayout",isPresent:n,anchorX:d,anchorY:m,root:p,children:e}),T.jsx(id.Provider,{value:S,children:e})};function IV(){return new Map}function SS(e=!0){const t=N.useContext(id);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=N.useId();N.useEffect(()=>{if(e)return a(l)},[e]);const c=N.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const Yh=e=>e.key||"";function L1(e){const t=[];return N.Children.forEach(e,n=>{N.isValidElement(n)&&t.push(n)}),t}const Zy=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:m="top",root:p})=>{const[y,_]=SS(c),E=N.useMemo(()=>L1(e),[e]),S=c&&!y?[]:E.map(Yh),D=N.useRef(!0),V=N.useRef(E),j=wy(()=>new Map),F=N.useRef(new Set),[H,Y]=N.useState(E),[J,X]=N.useState(E);ew(()=>{D.current=!1,V.current=E;for(let A=0;A<J.length;A++){const I=Yh(J[A]);S.includes(I)?(j.delete(I),F.current.delete(I)):j.get(I)!==!0&&j.set(I,!1)}},[J,S.length,S.join("-")]);const ot=[];if(E!==H){let A=[...E];for(let I=0;I<J.length;I++){const O=J[I],P=Yh(O);S.includes(P)||(A.splice(I,0,O),ot.push(O))}return l==="wait"&&ot.length&&(A=ot),X(L1(A)),Y(E),null}const{forceRender:R}=N.useContext(xy);return T.jsx(T.Fragment,{children:J.map(A=>{const I=Yh(A),O=c&&!y?!1:E===J||S.includes(I),P=()=>{if(F.current.has(I))return;if(F.current.add(I),j.has(I))j.set(I,!0);else return;let z=!0;j.forEach(k=>{k||(z=!1)}),z&&(R?.(),X(V.current),c&&_?.(),s&&s())};return T.jsx(RV,{isPresent:O,initial:!D.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:O?void 0:P,anchorX:d,anchorY:m,children:A},I)})})},AS=N.createContext({strict:!1}),U1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let z1=!1;function NV(){if(z1)return;const e={};for(const t in U1)e[t]={isEnabled:n=>U1[t].some(s=>!!n[s])};eS(e),z1=!0}function CS(){return NV(),gM()}function DV(e){const t=CS();for(const n in e)t[n]={...t[n],...e[n]};eS(t)}const kV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function kf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kV.has(e)}let RS=e=>!kf(e);function MV(e){typeof e=="function"&&(RS=t=>t.startsWith("on")?!kf(t):e(t))}try{MV(require("@emotion/is-prop-valid").default)}catch{}function VV(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(RS(a)||n===!0&&kf(a)||!t&&!kf(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const ad=N.createContext({});function OV(e,t){if(rd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Bu(n)?n:void 0,animate:Bu(s)?s:void 0}}return e.inherit!==!1?t:{}}function PV(e){const{initial:t,animate:n}=OV(e,N.useContext(ad));return N.useMemo(()=>({initial:t,animate:n}),[B1(t),B1(n)])}function B1(e){return Array.isArray(e)?e.join(" "):e}const t0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IS(e,t,n){for(const s in t)!un(t[s])&&!lS(s,n)&&(e[s]=t[s])}function jV({transformTemplate:e},t){return N.useMemo(()=>{const n=t0();return Xy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function LV(e,t){const n=e.style||{},s={};return IS(s,n,e),Object.assign(s,jV(e,t)),s}function UV(e,t){const n={},s=LV(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const NS=()=>({...t0(),attrs:{}});function zV(e,t,n,s){const a=N.useMemo(()=>{const l=NS();return uS(l,t,hS(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};IS(l,e.style,e),a.style={...l,...a.style}}return a}const BV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function e0(e){return typeof e!="string"||e.includes("-")?!1:!!(BV.indexOf(e)>-1||/[A-Z]/u.test(e))}function FV(e,t,n,{latestValues:s},a,l=!1,c){const m=(c??e0(e)?zV:UV)(t,s,a,e),p=VV(t,typeof e=="string",l),y=e!==N.Fragment?{...p,...m,ref:n}:{},{children:_}=t,E=N.useMemo(()=>un(_)?_.get():_,[_]);return N.createElement(e,{...y,children:E})}function HV({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:qV(n,s,a,e),renderState:t()}}function qV(e,t,n,s){const a={},l=s(e,{});for(const E in l)a[E]=hf(l[E]);let{initial:c,animate:d}=e;const m=rd(e),p=Zw(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!sd(_)){const E=Array.isArray(_)?_:[_];for(let S=0;S<E.length;S++){const D=Fy(e,E[S]);if(D){const{transitionEnd:V,transition:j,...F}=D;for(const H in F){let Y=F[H];if(Array.isArray(Y)){const J=y?Y.length-1:0;Y=Y[J]}Y!==null&&(a[H]=Y)}for(const H in V)a[H]=V[H]}}}return a}const DS=e=>(t,n)=>{const s=N.useContext(ad),a=N.useContext(id),l=()=>HV(e,t,s,a);return n?l():wy(l)},GV=DS({scrapeMotionValuesFromProps:Wy,createRenderState:t0}),$V=DS({scrapeMotionValuesFromProps:fS,createRenderState:NS}),KV=Symbol.for("motionComponentSymbol");function YV(e,t,n){const s=N.useRef(n);N.useInsertionEffect(()=>{s.current=n});const a=N.useRef(null);return N.useCallback(l=>{l&&e.onMount?.(l),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const kS=N.createContext({});function Ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function QV(e,t,n,s,a,l){const{visualElement:c}=N.useContext(ad),d=N.useContext(AS),m=N.useContext(id),p=N.useContext(Jy),y=p.reducedMotion,_=p.skipAnimations,E=N.useRef(null),S=N.useRef(!1);s=s||d.renderer,!E.current&&s&&(E.current=s(e,{visualState:t,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:l}),S.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const D=E.current,V=N.useContext(kS);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&XV(E.current,n,a,V);const j=N.useRef(!1);N.useInsertionEffect(()=>{D&&j.current&&D.update(n,m)});const F=n[zw],H=N.useRef(!!F&&!window.MotionHandoffIsComplete?.(F)&&window.MotionHasOptimisedAnimation?.(F));return ew(()=>{S.current=!0,D&&(j.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),H.current&&D.animationState&&D.animationState.animateChanges())}),N.useEffect(()=>{D&&(!H.current&&D.animationState&&D.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(F)}),H.current=!1),D.enteringChildren=void 0)}),D}function XV(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:MS(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Ao(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function MS(e){if(e)return e.options.allowProjection!==!1?e.projection:MS(e.parent)}function Gp(e,{forwardMotionProps:t=!1,type:n}={},s,a){s&&DV(s);const l=n?n==="svg":e0(e),c=l?$V:GV;function d(p,y){let _;const E={...N.useContext(Jy),...p,layoutId:WV(p)},{isStatic:S}=E,D=PV(p),V=c(p,S);if(!S&&tw){JV();const j=ZV(E);_=j.MeasureLayout,D.visualElement=QV(e,V,E,a,j.ProjectionNode,l)}return T.jsxs(ad.Provider,{value:D,children:[_&&D.visualElement?T.jsx(_,{visualElement:D.visualElement,...E}):null,FV(e,p,YV(V,D.visualElement,y),V,S,t,l)]})}d.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const m=N.forwardRef(d);return m[KV]=e,m}function WV({layoutId:e}){const t=N.useContext(xy).id;return t&&e!==void 0?t+"-"+e:e}function JV(e,t){N.useContext(AS).strict}function ZV(e){const t=CS(),{drag:n,layout:s}=t;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function t4(e,t){if(typeof Proxy>"u")return Gp;const n=new Map,s=(l,c)=>Gp(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Gp(c,void 0,e,t)),n.get(c))})}const e4=(e,t)=>t.isSVG??e0(e)?new MM(t):new CM(t,{allowProjection:e!==N.Fragment});class n4 extends Pr{constructor(t){super(t),t.animationState||(t.animationState=LM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();sd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let i4=0;class s4 extends Pr{constructor(){super(...arguments),this.id=i4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const r4={animation:{Feature:n4},exit:{Feature:s4}};function sc(e){return{point:{x:e.pageX,y:e.pageY}}}const a4=e=>t=>$y(t)&&e(t,sc(t));function Nu(e,t,n,s){return Fu(e,t,a4(n),s)}const VS=({current:e})=>e?e.ownerDocument.defaultView:null,F1=(e,t)=>Math.abs(e-t);function o4(e,t){const n=F1(e.x,t.x),s=F1(e.y,t.y);return Math.sqrt(n**2+s**2)}const H1=new Set(["auto","scroll"]);class OS{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Kp(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,V=o4(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!V)return;const{point:j}=S,{timestamp:F}=Ze;this.history.push({...j,timestamp:F});const{onStart:H,onMove:Y}=this.handlers;D||(H&&H(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,S)},this.handlePointerMove=(S,D)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=$p(D,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(S,D)=>{this.end();const{onEnd:V,onSessionEnd:j,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Kp(S.type==="pointercancel"?this.lastMoveEventInfo:$p(D,this.transformPagePoint),this.history);this.startEvent&&V&&V(S,H),j&&j(S,H)},!$y(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const m=sc(t),p=$p(m,this.transformPagePoint),{point:y}=p,{timestamp:_}=Ze;this.history=[{...y,timestamp:_}];const{onSessionStart:E}=n;E&&E(t,Kp(p,this.history)),this.removeListeners=ec(Nu(this.contextWindow,"pointermove",this.handlePointerMove),Nu(this.contextWindow,"pointerup",this.handlePointerUp),Nu(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(H1.has(s.overflowX)||H1.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),ae.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rr(this.updatePoint)}}function $p(e,t){return t?{point:t(e.point)}:e}function q1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kp({point:e},t){return{point:e,delta:q1(e,PS(t)),offset:q1(e,l4(t)),velocity:u4(t,.1)}}function l4(e){return e[0]}function PS(e){return e[e.length-1]}function u4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=PS(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>gi(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&a.timestamp-s.timestamp>gi(t)*2&&(s=e[1]);const l=Xn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function c4(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?me(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?me(n,e,s.max):Math.min(e,n)),e}function G1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function h4(e,{top:t,left:n,bottom:s,right:a}){return{x:G1(e.x,n,a),y:G1(e.y,t,s)}}function $1(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function f4(e,t){return{x:$1(e.x,t.x),y:$1(e.y,t.y)}}function d4(e,t){let n=.5;const s=pn(e),a=pn(t);return a>s?n=Lu(t.min,t.max-s,e.min):s>a&&(n=Lu(e.min,e.max-a,t.min)),Ji(0,1,n)}function m4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const jg=.35;function p4(e=jg){return e===!1?e=0:e===!0&&(e=jg),{x:K1(e,"left","right"),y:K1(e,"top","bottom")}}function K1(e,t,n){return{min:Y1(e,t),max:Y1(e,n)}}function Y1(e,t){return typeof e=="number"?e:e[t]||0}const g4=new WeakMap;class y4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Be(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n&&this.snapToCursor(sc(_).point),this.stopAnimation()},c=(_,E)=>{const{drag:S,dragPropagation:D,onDragStart:V}=this.getProps();if(S&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$k(S),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hi(F=>{let H=this.getAxisMotionValue(F).get()||0;if(Gi.test(H)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const J=Y.layout.layoutBox[F];J&&(H=pn(J)*(parseFloat(H)/100))}}this.originPoint[F]=H}),V&&ae.update(()=>V(_,E),!1,!0),Ig(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:S,dragDirectionLock:D,onDirectionLock:V,onDrag:j}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:F}=E;if(D&&this.currentDirection===null){this.currentDirection=_4(F),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),j&&ae.update(()=>j(_,E),!1,!0)},m=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new OS(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:VS(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Qh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=c4(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=h4(s.layoutBox,t):this.constraints=!1,this.elastic=p4(n),a!==this.constraints&&!Ao(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&Hi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=m4(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ao(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=TM(s,a.root,this.visualElement.getTransformPagePoint());let c=f4(a.layout.layoutBox,l);if(n){const d=n(vM(c));this.hasMutatedConstraints=!!d,d&&(c=iS(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Hi(y=>{if(!Qh(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,S=a?40:1e7,D={type:"inertia",velocity:s?t[y]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Ig(this.visualElement,t),s.start(By(t,s,0,n,this.visualElement,!1))}stopAnimation(){Hi(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Hi(n=>{const{drag:s}=this.getProps();if(!Qh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(t[n]-me(c,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ao(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=d4({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Hi(c=>{if(!Qh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(me(m,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;g4.set(this.visualElement,this);const t=this.visualElement.current,n=Nu(t,"pointerdown",p=>{const{drag:y,dragListener:_=!0}=this.getProps(),E=p.target,S=E!==t&&Jk(E);y&&_&&!S&&this.start(p)});let s;const a=()=>{const{dragConstraints:p}=this.getProps();Ao(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),s||(s=v4(t,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ae.read(a);const d=Fu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(Hi(_=>{const E=this.getAxisMotionValue(_);E&&(this.originPoint[_]+=p[_].translate,E.set(E.get()+p[_].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),m&&m(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=jg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Q1(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function v4(e,t,n){const s=n1(e,Q1(n)),a=n1(t,Q1(n));return()=>{s(),a()}}function Qh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class b4 extends Pr{constructor(t){super(t),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new y4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Yp=e=>(t,n)=>{e&&ae.update(()=>e(t,n),!1,!0)};class T4 extends Pr{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(t){this.session=new OS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Yp(t),onStart:Yp(n),onMove:Yp(s),onEnd:(l,c)=>{delete this.session,a&&ae.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Nu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Qp=!1;class E4 extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Qp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,t.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Qp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Gy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Qp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jS(e){const[t,n]=SS(),s=N.useContext(xy);return T.jsx(E4,{...e,layoutGroup:s,switchLayoutGroup:N.useContext(kS),isPresent:t,safeToRemove:n})}const x4={pan:{Feature:T4},drag:{Feature:b4,ProjectionNode:wS,MeasureLayout:jS}};function X1(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ae.postRender(()=>l(t,sc(t)))}class w4 extends Pr{mount(){const{current:t}=this.node;t&&(this.unmount=Yk(t,(n,s)=>(X1(this.node,s,"Start"),a=>X1(this.node,a,"End"))))}unmount(){}}class S4 extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ec(Fu(this.node.current,"focus",()=>this.onFocus()),Fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function W1(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ae.postRender(()=>l(t,sc(t)))}class A4 extends Pr{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=tM(t,(a,l)=>(W1(this.node,l,"Start"),(c,{success:d})=>W1(this.node,c,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const Lg=new WeakMap,Xp=new WeakMap,C4=e=>{const t=Lg.get(e.target);t&&t(e)},R4=e=>{e.forEach(C4)};function I4({root:e,...t}){const n=e||document;Xp.has(n)||Xp.set(n,{});const s=Xp.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(R4,{root:e,...t})),s[a]}function N4(e,t,n){const s=I4(t);return Lg.set(e,n),s.observe(e),()=>{Lg.delete(e),s.unobserve(e)}}const D4={some:0,all:1};class k4 extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:D4[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return N4(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(M4(t,n))&&this.startObserver()}unmount(){}}function M4({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const V4={inView:{Feature:k4},tap:{Feature:A4},focus:{Feature:S4},hover:{Feature:w4}},O4={layout:{ProjectionNode:wS,MeasureLayout:jS}},P4={...r4,...V4,...x4,...O4},Rt=t4(P4,e4),j4=()=>{};var J1={};const LS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},L4=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,S=p&63;m||(S=64,c||(E=64)),s.push(n[y],n[_],n[E],n[S])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(LS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):L4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new U4;const E=l<<2|d>>4;if(s.push(E),p!==64){const S=d<<4&240|p>>2;if(s.push(S),_!==64){const D=p<<6&192|_;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class U4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z4=function(e){const t=LS(e);return US.encodeByteArray(t,!0)},Mf=function(e){return z4(e).replace(/\./g,"")},zS=function(e){try{return US.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function B4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F4=()=>B4().__FIREBASE_DEFAULTS__,H4=()=>{if(typeof process>"u"||typeof J1>"u")return;const e=J1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},q4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&zS(e[1]);return t&&JSON.parse(t)},od=()=>{try{return j4()||F4()||H4()||q4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},BS=e=>od()?.emulatorHosts?.[e],G4=e=>{const t=BS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},FS=()=>od()?.config,HS=e=>od()?.[`_${e}`];class $4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function sl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qS(e){return(await fetch(e,{credentials:"include"})).ok}function K4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Mf(JSON.stringify(n)),Mf(JSON.stringify(c)),""].join(".")}const Du={};function Y4(){const e={prod:[],emulator:[]};for(const t of Object.keys(Du))Du[t]?e.emulator.push(t):e.prod.push(t);return e}function Q4(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Z1=!1;function GS(e,t){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||Du[e]===t||Du[e]||Z1)return;Du[e]=t;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=Y4().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Z1=!0,c()},E}function y(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=Q4(s),S=n("text"),D=document.getElementById(S)||document.createElement("span"),V=n("learnmore"),j=document.getElementById(V)||document.createElement("a"),F=n("preprendIcon"),H=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Y=E.element;d(Y),y(j,V);const J=p();m(H,F),Y.append(H,D,j,J),document.body.appendChild(Y)}l?(D.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function W4(){const e=od()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z4(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function tO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eO(){const e=cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function nO(){return!W4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iO(){try{return typeof indexedDB=="object"}catch{return!1}}function sO(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const rO="FirebaseError";class Vs extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=rO,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rc.prototype.create)}}class rc{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?aO(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Vs(a,d,s)}}function aO(e,t){return e.replace(oO,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const oO=/\{\$([^}]+)}/g;function lO(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Sa(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(tE(l)&&tE(c)){if(!Sa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function tE(e){return e!==null&&typeof e=="object"}function ac(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function uO(e,t){const n=new cO(e,t);return n.subscribe.bind(n)}class cO{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hO(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=Wp),a.error===void 0&&(a.error=Wp),a.complete===void 0&&(a.complete=Wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hO(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Wp(){}function gn(e){return e&&e._delegate?e._delegate:e}class Aa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ga="[DEFAULT]";class fO{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new $4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mO(t))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ga){return this.instances.has(t)}getOptions(t=ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dO(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ga){return this.component?this.component.multipleInstances?t:ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dO(e){return e===ga?void 0:e}function mO(e){return e.instantiationMode==="EAGER"}class pO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fO(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const gO={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},yO=Lt.INFO,vO={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},_O=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=vO[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class n0{constructor(t){this.name=t,this._logLevel=yO,this._logHandler=_O,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const bO=(e,t)=>t.some(n=>e instanceof n);let eE,nE;function TO(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EO(){return nE||(nE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $S=new WeakMap,Ug=new WeakMap,KS=new WeakMap,Jp=new WeakMap,i0=new WeakMap;function xO(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Er(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&$S.set(n,e)}).catch(()=>{}),i0.set(t,e),t}function wO(e){if(Ug.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Ug.set(e,t)}let zg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ug.get(e);if(t==="objectStoreNames")return e.objectStoreNames||KS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function SO(e){zg=e(zg)}function AO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Zp(this),t,...n);return KS.set(s,t.sort?t.sort():[t]),Er(s)}:EO().includes(e)?function(...t){return e.apply(Zp(this),t),Er($S.get(this))}:function(...t){return Er(e.apply(Zp(this),t))}}function CO(e){return typeof e=="function"?AO(e):(e instanceof IDBTransaction&&wO(e),bO(e,TO())?new Proxy(e,zg):e)}function Er(e){if(e instanceof IDBRequest)return xO(e);if(Jp.has(e))return Jp.get(e);const t=CO(e);return t!==e&&(Jp.set(e,t),i0.set(t,e)),t}const Zp=e=>i0.get(e);function RO(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=Er(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Er(c.result),m.oldVersion,m.newVersion,Er(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const IO=["get","getKey","getAll","getAllKeys","count"],NO=["put","add","delete","clear"],tg=new Map;function iE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(tg.get(t))return tg.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=NO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||IO.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return tg.set(t,l),l}SO(e=>({...e,get:(t,n,s)=>iE(t,n)||e.get(t,n,s),has:(t,n)=>!!iE(t,n)||e.has(t,n)}));class DO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kO(e){return e.getComponent()?.type==="VERSION"}const Bg="@firebase/app",sE="0.14.8";const Is=new n0("@firebase/app"),MO="@firebase/app-compat",VO="@firebase/analytics-compat",OO="@firebase/analytics",PO="@firebase/app-check-compat",jO="@firebase/app-check",LO="@firebase/auth",UO="@firebase/auth-compat",zO="@firebase/database",BO="@firebase/data-connect",FO="@firebase/database-compat",HO="@firebase/functions",qO="@firebase/functions-compat",GO="@firebase/installations",$O="@firebase/installations-compat",KO="@firebase/messaging",YO="@firebase/messaging-compat",QO="@firebase/performance",XO="@firebase/performance-compat",WO="@firebase/remote-config",JO="@firebase/remote-config-compat",ZO="@firebase/storage",tP="@firebase/storage-compat",eP="@firebase/firestore",nP="@firebase/ai",iP="@firebase/firestore-compat",sP="firebase",rP="12.9.0";const Fg="[DEFAULT]",aP={[Bg]:"fire-core",[MO]:"fire-core-compat",[OO]:"fire-analytics",[VO]:"fire-analytics-compat",[jO]:"fire-app-check",[PO]:"fire-app-check-compat",[LO]:"fire-auth",[UO]:"fire-auth-compat",[zO]:"fire-rtdb",[BO]:"fire-data-connect",[FO]:"fire-rtdb-compat",[HO]:"fire-fn",[qO]:"fire-fn-compat",[GO]:"fire-iid",[$O]:"fire-iid-compat",[KO]:"fire-fcm",[YO]:"fire-fcm-compat",[QO]:"fire-perf",[XO]:"fire-perf-compat",[WO]:"fire-rc",[JO]:"fire-rc-compat",[ZO]:"fire-gcs",[tP]:"fire-gcs-compat",[eP]:"fire-fst",[iP]:"fire-fst-compat",[nP]:"fire-vertex","fire-js":"fire-js",[sP]:"fire-js-all"};const Vf=new Map,oP=new Map,Hg=new Map;function rE(e,t){try{e.container.addComponent(t)}catch(n){Is.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function qo(e){const t=e.name;if(Hg.has(t))return Is.debug(`There were multiple attempts to register component ${t}.`),!1;Hg.set(t,e);for(const n of Vf.values())rE(n,e);for(const n of oP.values())rE(n,e);return!0}function s0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function di(e){return e==null?!1:e.settings!==void 0}const lP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new rc("app","Firebase",lP);class uP{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const rl=rP;function YS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Fg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw xr.create("bad-app-name",{appName:String(a)});if(n||(n=FS()),!n)throw xr.create("no-options");const l=Vf.get(a);if(l){if(Sa(n,l.options)&&Sa(s,l.config))return l;throw xr.create("duplicate-app",{appName:a})}const c=new pO(a);for(const m of Hg.values())c.addComponent(m);const d=new uP(n,s,c);return Vf.set(a,d),d}function QS(e=Fg){const t=Vf.get(e);if(!t&&e===Fg&&FS())return YS();if(!t)throw xr.create("no-app",{appName:e});return t}function wr(e,t,n){let s=aP[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}qo(new Aa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const cP="firebase-heartbeat-database",hP=1,Hu="firebase-heartbeat-store";let eg=null;function XS(){return eg||(eg=RO(cP,hP,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(e=>{throw xr.create("idb-open",{originalErrorMessage:e.message})})),eg}async function fP(e){try{const n=(await XS()).transaction(Hu),s=await n.objectStore(Hu).get(WS(e));return await n.done,s}catch(t){if(t instanceof Vs)Is.warn(t.message);else{const n=xr.create("idb-get",{originalErrorMessage:t?.message});Is.warn(n.message)}}}async function aE(e,t){try{const s=(await XS()).transaction(Hu,"readwrite");await s.objectStore(Hu).put(t,WS(e)),await s.done}catch(n){if(n instanceof Vs)Is.warn(n.message);else{const s=xr.create("idb-set",{originalErrorMessage:n?.message});Is.warn(s.message)}}}function WS(e){return`${e.name}!${e.options.appId}`}const dP=1024,mP=30;class pP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>mP){const a=vP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=oE(),{heartbeatsToSend:n,unsentEntries:s}=gP(this._heartbeatsCache.heartbeats),a=Mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Is.warn(t),""}}}function oE(){return new Date().toISOString().substring(0,10)}function gP(e,t=dP){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),lE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),lE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iO()?sO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return aE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return aE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function lE(e){return Mf(JSON.stringify({version:2,heartbeats:e})).length}function vP(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function _P(e){qo(new Aa("platform-logger",t=>new DO(t),"PRIVATE")),qo(new Aa("heartbeat",t=>new pP(t),"PRIVATE")),wr(Bg,sE,e),wr(Bg,sE,"esm2020"),wr("fire-js","")}_P("");function JS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bP=JS,ZS=new rc("auth","Firebase",JS());const Of=new n0("@firebase/auth");function TP(e,...t){Of.logLevel<=Lt.WARN&&Of.warn(`Auth (${rl}): ${e}`,...t)}function df(e,...t){Of.logLevel<=Lt.ERROR&&Of.error(`Auth (${rl}): ${e}`,...t)}function Zi(e,...t){throw a0(e,...t)}function yi(e,...t){return a0(e,...t)}function r0(e,t,n){const s={...bP(),[t]:n};return new rc("auth","Firebase",s).create(t,{appName:e.name})}function Ea(e){return r0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EP(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Zi(e,"argument-error"),r0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function a0(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return ZS.create(e,...t)}function Et(e,t,...n){if(!e)throw a0(t,...n)}function xs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw df(t),new Error(t)}function Ns(e,t){e||xs(t)}function qg(){return typeof self<"u"&&self.location?.href||""}function xP(){return uE()==="http:"||uE()==="https:"}function uE(){return typeof self<"u"&&self.location?.protocol||null}function wP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xP()||Z4()||"connection"in navigator)?navigator.onLine:!0}function SP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class oc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ns(n>t,"Short delay should be less than long delay!"),this.isMobile=X4()||tO()}get(){return wP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function o0(e,t){Ns(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class tA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RP=new oc(3e4,6e4);function l0(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function al(e,t,n,s,a={}){return eA(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=ac({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return J4()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&sl(e.emulatorConfig.host)&&(p.credentials="include"),tA.fetch()(await nA(e,e.config.apiHost,n,d),p)})}async function eA(e,t,n){e._canInitEmulator=!1;const s={...AP,...t};try{const a=new NP(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Xh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Xh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Xh(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw r0(e,y,p);Zi(e,y)}}catch(a){if(a instanceof Vs)throw a;Zi(e,"network-request-failed",{message:String(a)})}}async function IP(e,t,n,s,a={}){const l=await al(e,t,n,s,a);return"mfaPendingCredential"in l&&Zi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function nA(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?o0(e.config,a):`${e.config.apiScheme}://${a}`;return CP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class NP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yi(this.auth,"network-request-failed")),RP.get())})}}function Xh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=yi(e,t,s);return a.customData._tokenResponse=n,a}async function DP(e,t){return al(e,"POST","/v1/accounts:delete",t)}async function Pf(e,t){return al(e,"POST","/v1/accounts:lookup",t)}function ku(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kP(e,t=!1){const n=gn(e),s=await n.getIdToken(t),a=u0(s);Et(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:ku(ng(a.auth_time)),issuedAtTime:ku(ng(a.iat)),expirationTime:ku(ng(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ng(e){return Number(e)*1e3}function u0(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const a=zS(n);return a?JSON.parse(a):(df("Failed to decode base64 JWT payload"),null)}catch(a){return df("Caught error parsing JWT payload as JSON",a?.toString()),null}}function cE(e){const t=u0(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function qu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Vs&&MP(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function MP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class VP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jf(e){const t=e.auth,n=await e.getIdToken(),s=await qu(e,Pf(t,{idToken:n}));Et(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?iA(a.providerUserInfo):[],c=PP(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function OP(e){const t=gn(e);await jf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PP(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function iA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jP(e,t){const n=await eA(e,{},async()=>{const s=ac({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await nA(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&sl(e.emulatorConfig.host)&&(m.credentials="include"),tA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LP(e,t){return al(e,"POST","/v2/accounts:revokeToken",l0(e,t))}class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=cE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await jP(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Lo;return s&&(Et(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Et(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Et(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return xs("not implemented")}}function pr(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class mi{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new VP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await qu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return kP(this,t)}reload(){return OP(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new mi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await jf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Ea(this.auth));const t=await this.getIdToken();return await qu(this,DP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:D,stsTokenManager:V}=n;Et(_&&V,t,"internal-error");const j=Lo.fromJSON(this.name,V);Et(typeof _=="string",t,"internal-error"),pr(s,t.name),pr(a,t.name),Et(typeof E=="boolean",t,"internal-error"),Et(typeof S=="boolean",t,"internal-error"),pr(l,t.name),pr(c,t.name),pr(d,t.name),pr(m,t.name),pr(p,t.name),pr(y,t.name);const F=new mi({uid:_,auth:t,email:a,emailVerified:E,displayName:s,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(F.providerData=D.map(H=>({...H}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(t,n,s=!1){const a=new Lo;a.updateFromServerResponse(n);const l=new mi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await jf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Et(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?iA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Lo;d.updateFromIdToken(s);const m=new mi({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const hE=new Map;function ws(e){Ns(e instanceof Function,"Expected a class definition");let t=hE.get(e);return t?(Ns(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hE.set(e,t),t)}class sA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}sA.type="NONE";const fE=sA;function mf(e,t,n){return`firebase:${e}:${t}:${n}`}class Uo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=mf(this.userKey,a.apiKey,l),this.fullPersistenceKey=mf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Pf(this.auth,{idToken:t}).catch(()=>{});return n?mi._fromGetAccountInfoResponse(this.auth,n,t):null}return mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Uo(ws(fE),t,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ws(fE);const c=mf(s,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await Pf(t,{idToken:y}).catch(()=>{});if(!E)break;_=await mi._fromGetAccountInfoResponse(t,E,y)}else _=mi._fromJSON(t,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Uo(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Uo(l,t,s))}}function dE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cA(t))return"Blackberry";if(hA(t))return"Webos";if(aA(t))return"Safari";if((t.includes("chrome/")||oA(t))&&!t.includes("edge/"))return"Chrome";if(uA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function rA(e=cn()){return/firefox\//i.test(e)}function aA(e=cn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oA(e=cn()){return/crios\//i.test(e)}function lA(e=cn()){return/iemobile/i.test(e)}function uA(e=cn()){return/android/i.test(e)}function cA(e=cn()){return/blackberry/i.test(e)}function hA(e=cn()){return/webos/i.test(e)}function c0(e=cn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function UP(e=cn()){return c0(e)&&!!window.navigator?.standalone}function zP(){return eO()&&document.documentMode===10}function fA(e=cn()){return c0(e)||uA(e)||hA(e)||cA(e)||/windows phone/i.test(e)||lA(e)}function dA(e,t=[]){let n;switch(e){case"Browser":n=dE(cn());break;case"Worker":n=`${dE(cn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${s}`}class BP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function FP(e,t={}){return al(e,"GET","/v2/passwordPolicy",l0(e,t))}const HP=6;class qP{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class GP{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new BP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Pf(this,{idToken:t}),s=await mi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(di(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await jf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=SP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(di(this.app))return Promise.reject(Ea(this));const n=t?gn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return di(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await FP(this),n=new qP(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new rc("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await LP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ws(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&TP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ld(e){return gn(e)}class mE{constructor(t){this.auth=t,this.observer=null,this.addObserver=uO(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let h0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $P(e){h0=e}function KP(e){return h0.loadJS(e)}function YP(){return h0.gapiScript}function QP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function XP(e,t){const n=s0(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Sa(l,t??{}))return a;Zi(a,"already-initialized")}return n.initialize({options:t})}function WP(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ws);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function JP(e,t,n){const s=ld(e);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=mA(t),{host:c,port:d}=ZP(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Sa(p,s.config.emulator)&&Sa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,sl(c)?(qS(`${l}//${c}${m}`),GS("Auth",!0)):t3()}function mA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ZP(e){const t=mA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:pE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:pE(c)}}}function pE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function t3(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class pA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(t){return xs("not implemented")}_linkToIdToken(t,n){return xs("not implemented")}_getReauthenticationResolver(t){return xs("not implemented")}}async function zo(e,t){return IP(e,"POST","/v1/accounts:signInWithIdp",l0(e,t))}const e3="http://localhost";class Ca extends pA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ca(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return zo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,zo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,zo(t,n)}buildRequest(){const t={requestUri:e3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ac(n)}return t}}class f0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class lc extends f0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class yr extends lc{constructor(){super("facebook.com")}static credential(t){return Ca._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class Es extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ca._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";class vr extends lc{constructor(){super("github.com")}static credential(t){return Ca._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";class _r extends lc{constructor(){super("twitter.com")}static credential(t,n){return Ca._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return _r.credential(n,s)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";class Go{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await mi._fromIdTokenResponse(t,s,a),c=gE(s);return new Go({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=gE(s);return new Go({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function gE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Lf extends Vs{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Lf(t,n,s,a)}}function gA(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(e,l,t,s):l})}async function n3(e,t,n=!1){const s=await qu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Go._forOperation(e,"link",s)}async function i3(e,t,n=!1){const{auth:s}=e;if(di(s.app))return Promise.reject(Ea(s));const a="reauthenticate";try{const l=await qu(e,gA(s,a,t,e),n);Et(l.idToken,s,"internal-error");const c=u0(l.idToken);Et(c,s,"internal-error");const{sub:d}=c;return Et(e.uid===d,s,"user-mismatch"),Go._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zi(s,"user-mismatch"),l}}async function s3(e,t,n=!1){if(di(e.app))return Promise.reject(Ea(e));const s="signIn",a=await gA(e,s,t),l=await Go._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}function r3(e,t,n,s){return gn(e).onIdTokenChanged(t,n,s)}function a3(e,t,n){return gn(e).beforeAuthStateChanged(t,n)}function o3(e,t,n,s){return gn(e).onAuthStateChanged(t,n,s)}function l3(e){return gn(e).signOut()}const Uf="__sak";class yA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const u3=1e3,c3=10;class vA extends yA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);zP()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,c3):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},u3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}vA.type="LOCAL";const h3=vA;class _A extends yA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}_A.type="SESSION";const bA=_A;function f3(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class ud{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new ud(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await f3(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ud.receivers=[];function d0(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class d3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=d0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function $i(){return window}function m3(e){$i().location.href=e}function TA(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function p3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g3(){return navigator?.serviceWorker?.controller||null}function y3(){return TA()?self:null}const EA="firebaseLocalStorageDb",v3=1,zf="firebaseLocalStorage",xA="fbase_key";class uc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cd(e,t){return e.transaction([zf],t?"readwrite":"readonly").objectStore(zf)}function _3(){const e=indexedDB.deleteDatabase(EA);return new uc(e).toPromise()}function $g(){const e=indexedDB.open(EA,v3);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(zf,{keyPath:xA})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(zf)?t(s):(s.close(),await _3(),t(await $g()))})})}async function yE(e,t,n){const s=cd(e,!0).put({[xA]:t,value:n});return new uc(s).toPromise()}async function b3(e,t){const n=cd(e,!1).get(t),s=await new uc(n).toPromise();return s===void 0?null:s.value}function vE(e,t){const n=cd(e,!0).delete(t);return new uc(n).toPromise()}const T3=800,E3=3;class wA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $g(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>E3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ud._getInstance(y3()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await p3(),!this.activeServiceWorker)return;this.sender=new d3(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||g3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $g();return await yE(t,Uf,"1"),await vE(t,Uf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>yE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>b3(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>vE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=cd(a,!1).getAll();return new uc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wA.type="LOCAL";const x3=wA;new oc(3e4,6e4);function SA(e,t){return t?ws(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class m0 extends pA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return zo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function w3(e){return s3(e.auth,new m0(e),e.bypassAuthState)}function S3(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),i3(n,new m0(e),e.bypassAuthState)}async function A3(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),n3(n,new m0(e),e.bypassAuthState)}class AA{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return w3;case"linkViaPopup":case"linkViaRedirect":return A3;case"reauthViaPopup":case"reauthViaRedirect":return S3;default:Zi(this.auth,"internal-error")}}resolve(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const C3=new oc(2e3,1e4);async function R3(e,t,n){if(di(e.app))return Promise.reject(yi(e,"operation-not-supported-in-this-environment"));const s=ld(e);EP(e,t,f0);const a=SA(s,n);return new _a(s,"signInViaPopup",t,a).executeNotNull()}class _a extends AA{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const t=d0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,C3.get())};t()}}_a.currentPopupAction=null;const I3="pendingRedirect",pf=new Map;class N3 extends AA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=pf.get(this.auth._key());if(!t){try{const s=await D3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}pf.set(this.auth._key(),t)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D3(e,t){const n=V3(t),s=M3(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function k3(e,t){pf.set(e._key(),t)}function M3(e){return ws(e._redirectPersistence)}function V3(e){return mf(I3,e.config.apiKey,e.name)}async function O3(e,t,n=!1){if(di(e.app))return Promise.reject(Ea(e));const s=ld(e),a=SA(s,t),c=await new N3(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const P3=600*1e3;class j3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!L3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!CA(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(yi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=P3&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(t))}saveEventToCache(t){this.cachedEventUids.add(_E(t)),this.lastProcessedEventTime=Date.now()}}function _E(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function CA({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function L3(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CA(e);default:return!1}}async function U3(e,t={}){return al(e,"GET","/v1/projects",t)}const z3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B3=/^https?/;async function F3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await U3(e);for(const n of t)try{if(H3(n))return}catch{}Zi(e,"unauthorized-domain")}function H3(e){const t=qg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!B3.test(n))return!1;if(z3.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const q3=new oc(3e4,6e4);function bE(){const e=$i().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function G3(e){return new Promise((t,n)=>{function s(){bE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bE(),n(yi(e,"network-request-failed"))},timeout:q3.get()})}if($i().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if($i().gapi?.load)s();else{const a=QP("iframefcb");return $i()[a]=()=>{gapi.load?s():n(yi(e,"network-request-failed"))},KP(`${YP()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw gf=null,t})}let gf=null;function $3(e){return gf=gf||G3(e),gf}const K3=new oc(5e3,15e3),Y3="__/auth/iframe",Q3="emulator/auth/iframe",X3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J3(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?o0(t,Q3):`https://${e.config.authDomain}/${Y3}`,s={apiKey:t.apiKey,appName:e.name,v:rl},a=W3.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ac(s).slice(1)}`}async function Z3(e){const t=await $3(e),n=$i().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:J3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X3,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=yi(e,"network-request-failed"),d=$i().setTimeout(()=>{l(c)},K3.get());function m(){$i().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const t6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e6=500,n6=600,i6="_blank",s6="http://localhost";class TE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r6(e,t,n,s=e6,a=n6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...t6,width:s.toString(),height:a.toString(),top:l,left:c},p=cn().toLowerCase();n&&(d=oA(p)?i6:n),rA(p)&&(t=t||s6,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[S,D])=>`${E}${S}=${D},`,"");if(UP(p)&&d!=="_self")return a6(t||"",d),new TE(null);const _=window.open(t||"",d,y);Et(_,e,"popup-blocked");try{_.focus()}catch{}return new TE(_)}function a6(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const o6="__/auth/handler",l6="emulator/auth/handler",u6=encodeURIComponent("fac");async function EE(e,t,n,s,a,l){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:rl,eventId:a};if(t instanceof f0){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",lO(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof lc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),p=m?`#${u6}=${encodeURIComponent(m)}`:"";return`${c6(e)}?${ac(d).slice(1)}${p}`}function c6({config:e}){return e.emulator?o0(e,l6):`https://${e.authDomain}/${o6}`}const ig="webStorageSupport";class h6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bA,this._completeRedirectFn=O3,this._overrideRedirectResult=k3}async _openPopup(t,n,s,a){Ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await EE(t,n,s,qg(),a);return r6(t,l,d0())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await EE(t,n,s,qg(),a);return m3(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ns(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Z3(t),s=new j3(t);return n.register("authEvent",a=>(Et(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ig,{type:ig},a=>{const l=a?.[0]?.[ig];l!==void 0&&n(!!l),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return fA()||aA()||c0()}}const f6=h6;var xE="@firebase/auth",wE="1.12.0";class d6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function m6(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p6(e){qo(new Aa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dA(e)},p=new GP(s,a,l,m);return WP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),qo(new Aa("auth-internal",t=>{const n=ld(t.getProvider("auth").getImmediate());return(s=>new d6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(xE,wE,m6(e)),wr(xE,wE,"esm2020")}const g6=300,y6=HS("authIdTokenMaxAge")||g6;let SE=null;const v6=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>y6)return;const a=n?.token;SE!==a&&(SE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function _6(e=QS()){const t=s0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=XP(e,{popupRedirectResolver:f6,persistence:[x3,h3,bA]}),s=HS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=v6(l.toString());a3(n,c,()=>c(n.currentUser)),r3(n,d=>c(d))}}const a=BS("auth");return a&&JP(n,`http://${a}`),n}function b6(){return document.getElementsByTagName("head")?.[0]??document}$P({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=yi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",b6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p6("Browser");var T6="firebase",E6="12.9.0";wr(T6,E6,"app");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,RA;(function(){var e;function t(R,A){function I(){}I.prototype=A.prototype,R.F=A.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(O,P,z){for(var k=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)k[$t-2]=arguments[$t];return A.prototype[P].apply(O,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,I){I||(I=0);const O=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)O[P]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(P=0;P<16;++P)O[P]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=R.g[0],I=R.g[1],P=R.g[2];let z=R.g[3],k;k=A+(z^I&(P^z))+O[0]+3614090360&4294967295,A=I+(k<<7&4294967295|k>>>25),k=z+(P^A&(I^P))+O[1]+3905402710&4294967295,z=A+(k<<12&4294967295|k>>>20),k=P+(I^z&(A^I))+O[2]+606105819&4294967295,P=z+(k<<17&4294967295|k>>>15),k=I+(A^P&(z^A))+O[3]+3250441966&4294967295,I=P+(k<<22&4294967295|k>>>10),k=A+(z^I&(P^z))+O[4]+4118548399&4294967295,A=I+(k<<7&4294967295|k>>>25),k=z+(P^A&(I^P))+O[5]+1200080426&4294967295,z=A+(k<<12&4294967295|k>>>20),k=P+(I^z&(A^I))+O[6]+2821735955&4294967295,P=z+(k<<17&4294967295|k>>>15),k=I+(A^P&(z^A))+O[7]+4249261313&4294967295,I=P+(k<<22&4294967295|k>>>10),k=A+(z^I&(P^z))+O[8]+1770035416&4294967295,A=I+(k<<7&4294967295|k>>>25),k=z+(P^A&(I^P))+O[9]+2336552879&4294967295,z=A+(k<<12&4294967295|k>>>20),k=P+(I^z&(A^I))+O[10]+4294925233&4294967295,P=z+(k<<17&4294967295|k>>>15),k=I+(A^P&(z^A))+O[11]+2304563134&4294967295,I=P+(k<<22&4294967295|k>>>10),k=A+(z^I&(P^z))+O[12]+1804603682&4294967295,A=I+(k<<7&4294967295|k>>>25),k=z+(P^A&(I^P))+O[13]+4254626195&4294967295,z=A+(k<<12&4294967295|k>>>20),k=P+(I^z&(A^I))+O[14]+2792965006&4294967295,P=z+(k<<17&4294967295|k>>>15),k=I+(A^P&(z^A))+O[15]+1236535329&4294967295,I=P+(k<<22&4294967295|k>>>10),k=A+(P^z&(I^P))+O[1]+4129170786&4294967295,A=I+(k<<5&4294967295|k>>>27),k=z+(I^P&(A^I))+O[6]+3225465664&4294967295,z=A+(k<<9&4294967295|k>>>23),k=P+(A^I&(z^A))+O[11]+643717713&4294967295,P=z+(k<<14&4294967295|k>>>18),k=I+(z^A&(P^z))+O[0]+3921069994&4294967295,I=P+(k<<20&4294967295|k>>>12),k=A+(P^z&(I^P))+O[5]+3593408605&4294967295,A=I+(k<<5&4294967295|k>>>27),k=z+(I^P&(A^I))+O[10]+38016083&4294967295,z=A+(k<<9&4294967295|k>>>23),k=P+(A^I&(z^A))+O[15]+3634488961&4294967295,P=z+(k<<14&4294967295|k>>>18),k=I+(z^A&(P^z))+O[4]+3889429448&4294967295,I=P+(k<<20&4294967295|k>>>12),k=A+(P^z&(I^P))+O[9]+568446438&4294967295,A=I+(k<<5&4294967295|k>>>27),k=z+(I^P&(A^I))+O[14]+3275163606&4294967295,z=A+(k<<9&4294967295|k>>>23),k=P+(A^I&(z^A))+O[3]+4107603335&4294967295,P=z+(k<<14&4294967295|k>>>18),k=I+(z^A&(P^z))+O[8]+1163531501&4294967295,I=P+(k<<20&4294967295|k>>>12),k=A+(P^z&(I^P))+O[13]+2850285829&4294967295,A=I+(k<<5&4294967295|k>>>27),k=z+(I^P&(A^I))+O[2]+4243563512&4294967295,z=A+(k<<9&4294967295|k>>>23),k=P+(A^I&(z^A))+O[7]+1735328473&4294967295,P=z+(k<<14&4294967295|k>>>18),k=I+(z^A&(P^z))+O[12]+2368359562&4294967295,I=P+(k<<20&4294967295|k>>>12),k=A+(I^P^z)+O[5]+4294588738&4294967295,A=I+(k<<4&4294967295|k>>>28),k=z+(A^I^P)+O[8]+2272392833&4294967295,z=A+(k<<11&4294967295|k>>>21),k=P+(z^A^I)+O[11]+1839030562&4294967295,P=z+(k<<16&4294967295|k>>>16),k=I+(P^z^A)+O[14]+4259657740&4294967295,I=P+(k<<23&4294967295|k>>>9),k=A+(I^P^z)+O[1]+2763975236&4294967295,A=I+(k<<4&4294967295|k>>>28),k=z+(A^I^P)+O[4]+1272893353&4294967295,z=A+(k<<11&4294967295|k>>>21),k=P+(z^A^I)+O[7]+4139469664&4294967295,P=z+(k<<16&4294967295|k>>>16),k=I+(P^z^A)+O[10]+3200236656&4294967295,I=P+(k<<23&4294967295|k>>>9),k=A+(I^P^z)+O[13]+681279174&4294967295,A=I+(k<<4&4294967295|k>>>28),k=z+(A^I^P)+O[0]+3936430074&4294967295,z=A+(k<<11&4294967295|k>>>21),k=P+(z^A^I)+O[3]+3572445317&4294967295,P=z+(k<<16&4294967295|k>>>16),k=I+(P^z^A)+O[6]+76029189&4294967295,I=P+(k<<23&4294967295|k>>>9),k=A+(I^P^z)+O[9]+3654602809&4294967295,A=I+(k<<4&4294967295|k>>>28),k=z+(A^I^P)+O[12]+3873151461&4294967295,z=A+(k<<11&4294967295|k>>>21),k=P+(z^A^I)+O[15]+530742520&4294967295,P=z+(k<<16&4294967295|k>>>16),k=I+(P^z^A)+O[2]+3299628645&4294967295,I=P+(k<<23&4294967295|k>>>9),k=A+(P^(I|~z))+O[0]+4096336452&4294967295,A=I+(k<<6&4294967295|k>>>26),k=z+(I^(A|~P))+O[7]+1126891415&4294967295,z=A+(k<<10&4294967295|k>>>22),k=P+(A^(z|~I))+O[14]+2878612391&4294967295,P=z+(k<<15&4294967295|k>>>17),k=I+(z^(P|~A))+O[5]+4237533241&4294967295,I=P+(k<<21&4294967295|k>>>11),k=A+(P^(I|~z))+O[12]+1700485571&4294967295,A=I+(k<<6&4294967295|k>>>26),k=z+(I^(A|~P))+O[3]+2399980690&4294967295,z=A+(k<<10&4294967295|k>>>22),k=P+(A^(z|~I))+O[10]+4293915773&4294967295,P=z+(k<<15&4294967295|k>>>17),k=I+(z^(P|~A))+O[1]+2240044497&4294967295,I=P+(k<<21&4294967295|k>>>11),k=A+(P^(I|~z))+O[8]+1873313359&4294967295,A=I+(k<<6&4294967295|k>>>26),k=z+(I^(A|~P))+O[15]+4264355552&4294967295,z=A+(k<<10&4294967295|k>>>22),k=P+(A^(z|~I))+O[6]+2734768916&4294967295,P=z+(k<<15&4294967295|k>>>17),k=I+(z^(P|~A))+O[13]+1309151649&4294967295,I=P+(k<<21&4294967295|k>>>11),k=A+(P^(I|~z))+O[4]+4149444226&4294967295,A=I+(k<<6&4294967295|k>>>26),k=z+(I^(A|~P))+O[11]+3174756917&4294967295,z=A+(k<<10&4294967295|k>>>22),k=P+(A^(z|~I))+O[2]+718787259&4294967295,P=z+(k<<15&4294967295|k>>>17),k=I+(z^(P|~A))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+z&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const I=A-this.blockSize,O=this.C;let P=this.h,z=0;for(;z<A;){if(P==0)for(;z<=I;)a(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<A;)if(O[P++]=R.charCodeAt(z++),P==this.blockSize){a(this,O),P=0;break}}else for(;z<A;)if(O[P++]=R[z++],P==this.blockSize){a(this,O),P=0;break}}this.h=P,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)R[A++]=this.g[I]>>>O&255;return R};function l(R,A){var I=d;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=A(R)}function c(R,A){this.h=A;const I=[];let O=!0;for(let P=R.length-1;P>=0;P--){const z=R[P]|0;O&&z==A||(I[P]=z,O=!1)}this.g=I}var d={};function m(R){return-128<=R&&R<128?l(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return j(p(-R));const A=[];let I=1;for(let O=0;R>=I;O++)A[O]=R/I|0,I*=4294967296;return new c(A,0)}function y(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return j(y(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(A,8));let O=_;for(let z=0;z<R.length;z+=8){var P=Math.min(8,R.length-z);const k=parseInt(R.substring(z,z+P),A);P<8?(P=p(Math.pow(A,P)),O=O.j(P).add(p(k))):(O=O.j(I),O=O.add(p(k)))}return O}var _=m(0),E=m(1),S=m(16777216);e=c.prototype,e.m=function(){if(V(this))return-j(this).m();let R=0,A=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);R+=(O>=0?O:4294967296+O)*A,A*=4294967296}return R},e.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(V(this))return"-"+j(this).toString(R);const A=p(Math.pow(R,6));var I=this;let O="";for(;;){const P=J(I,A).g;I=F(I,P.j(A));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=P,D(I))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},e.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function V(R){return R.h==-1}e.l=function(R){return R=F(this,R),V(R)?-1:D(R)?0:1};function j(R){const A=R.g.length,I=[];for(let O=0;O<A;O++)I[O]=~R.g[O];return new c(I,~R.h).add(E)}e.abs=function(){return V(this)?j(this):this},e.add=function(R){const A=Math.max(this.g.length,R.g.length),I=[];let O=0;for(let P=0;P<=A;P++){let z=O+(this.i(P)&65535)+(R.i(P)&65535),k=(z>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);O=k>>>16,z&=65535,k&=65535,I[P]=k<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(R,A){return R.add(j(A))}e.j=function(R){if(D(this)||D(R))return _;if(V(this))return V(R)?j(this).j(j(R)):j(j(this).j(R));if(V(R))return j(this.j(j(R)));if(this.l(S)<0&&R.l(S)<0)return p(this.m()*R.m());const A=this.g.length+R.g.length,I=[];for(var O=0;O<2*A;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let P=0;P<R.g.length;P++){const z=this.i(O)>>>16,k=this.i(O)&65535,$t=R.i(P)>>>16,Zt=R.i(P)&65535;I[2*O+2*P]+=k*Zt,H(I,2*O+2*P),I[2*O+2*P+1]+=z*Zt,H(I,2*O+2*P+1),I[2*O+2*P+1]+=k*$t,H(I,2*O+2*P+1),I[2*O+2*P+2]+=z*$t,H(I,2*O+2*P+2)}for(R=0;R<A;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=A;R<2*A;R++)I[R]=0;return new c(I,0)};function H(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function Y(R,A){this.g=R,this.h=A}function J(R,A){if(D(A))throw Error("division by zero");if(D(R))return new Y(_,_);if(V(R))return A=J(j(R),A),new Y(j(A.g),j(A.h));if(V(A))return A=J(R,j(A)),new Y(j(A.g),A.h);if(R.g.length>30){if(V(R)||V(A))throw Error("slowDivide_ only works with positive integers.");for(var I=E,O=A;O.l(R)<=0;)I=X(I),O=X(O);var P=ot(I,1),z=ot(O,1);for(O=ot(O,2),I=ot(I,2);!D(O);){var k=z.add(O);k.l(R)<=0&&(P=P.add(I),z=k),O=ot(O,1),I=ot(I,1)}return A=F(R,P.j(A)),new Y(P,A)}for(P=_;R.l(A)>=0;){for(I=Math.max(1,Math.floor(R.m()/A.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=p(I),k=z.j(A);V(k)||k.l(R)>0;)I-=O,z=p(I),k=z.j(A);D(z)&&(z=E),P=P.add(z),R=F(R,k)}return new Y(P,R)}e.B=function(R){return J(this,R).h},e.and=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let O=0;O<A;O++)I[O]=this.i(O)&R.i(O);return new c(I,this.h&R.h)},e.or=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let O=0;O<A;O++)I[O]=this.i(O)|R.i(O);return new c(I,this.h|R.h)},e.xor=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let O=0;O<A;O++)I[O]=this.i(O)^R.i(O);return new c(I,this.h^R.h)};function X(R){const A=R.g.length+1,I=[];for(let O=0;O<A;O++)I[O]=R.i(O)<<1|R.i(O-1)>>>31;return new c(I,R.h)}function ot(R,A){const I=A>>5;A%=32;const O=R.g.length-I,P=[];for(let z=0;z<O;z++)P[z]=A>0?R.i(z+I)>>>A|R.i(z+I+1)<<32-A:R.i(z+I);return new c(P,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,RA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Sr=c}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var IA,xu,NA,yf,Kg,DA,kA,MA;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var v=0;v<h.length;++v){var x=h[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var x=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var q=h[C];if(!(q in x))break t;x=x[q]}h=h[h.length-1],C=x[h],v=v(C),v!=C&&v!=null&&t(x,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var x=[],C;for(C in v)Object.prototype.hasOwnProperty.call(v,C)&&x.push([C,v[C]]);return x}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,x){return h.call.apply(h.bind,arguments)}function p(h,v,x){return p=m,p.apply(null,arguments)}function y(h,v){var x=Array.prototype.slice.call(arguments,1);return function(){var C=x.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function _(h,v){function x(){}x.prototype=v.prototype,h.Z=v.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(C,q,Q){for(var ut=Array(arguments.length-2),It=2;It<arguments.length;It++)ut[It-2]=arguments[It];return v.prototype[q].apply(C,ut)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const v=h.length;if(v>0){const x=Array(v);for(let C=0;C<v;C++)x[C]=h[C];return x}return[]}function D(h,v){for(let C=1;C<arguments.length;C++){const q=arguments[C];var x=typeof q;if(x=x!="object"?x:q?Array.isArray(q)?"array":x:"null",x=="array"||x=="object"&&typeof q.length=="number"){x=h.length||0;const Q=q.length||0;h.length=x+Q;for(let ut=0;ut<Q;ut++)h[x+ut]=q[ut]}else h.push(q)}}class V{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function j(h){c.setTimeout(()=>{throw h},0)}function F(){var h=R;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class H{constructor(){this.h=this.g=null}add(v,x){const C=Y.get();C.set(v,x),this.h?this.h.next=C:this.g=C,this.h=C}}var Y=new V(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ot=!1,R=new H,A=()=>{const h=Promise.resolve(void 0);X=()=>{h.then(I)}};function I(){for(var h;h=F();){try{h.h.call(h.g)}catch(x){j(x)}var v=Y;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ot=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};c.addEventListener("test",x,v),c.removeEventListener("test",x,v)}catch{}return h})();function k(h){return/^[\s\xa0]*$/.test(h)}function $t(h,v){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_($t,P),$t.prototype.init=function(h,v){const x=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(x=="mouseover"?v=h.fromElement:x=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Zt="closure_listenable_"+(Math.random()*1e6|0),Z=0;function lt(h,v,x,C,q){this.listener=h,this.proxy=null,this.src=v,this.type=x,this.capture=!!C,this.ha=q,this.key=++Z,this.da=this.fa=!1}function rt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function yt(h,v,x){for(const C in h)v.call(x,h[C],C,h)}function Ct(h,v){for(const x in h)v.call(void 0,h[x],x,h)}function L(h){const v={};for(const x in h)v[x]=h[x];return v}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,v){let x,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(x in C)h[x]=C[x];for(let Q=0;Q<nt.length;Q++)x=nt[Q],Object.prototype.hasOwnProperty.call(C,x)&&(h[x]=C[x])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,v,x,C,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ut=Dt(h,v,C,q);return ut>-1?(v=h[ut],x||(v.fa=!1)):(v=new lt(v,this.src,Q,!!C,q),v.fa=x,h.push(v)),v};function xt(h,v){const x=v.type;if(x in h.g){var C=h.g[x],q=Array.prototype.indexOf.call(C,v,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(C,q,1),Q&&(rt(v),h.g[x].length==0&&(delete h.g[x],h.h--))}}function Dt(h,v,x,C){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!x&&Q.ha==C)return q}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Le={};function ce(h,v,x,C,q){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)ce(h,v[Q],x,C,q);return null}return x=pl(x),h&&h[Zt]?h.J(v,x,d(C)?!!C.capture:!1,q):jr(h,v,x,!1,C,q)}function jr(h,v,x,C,q,Q){if(!v)throw Error("Invalid event type");const ut=d(q)?!!q.capture:!!q;let It=Lr(h);if(It||(h[Ft]=It=new ht(h)),x=It.add(v,x,C,ut,Q),x.proxy)return x;if(C=Oa(),x.proxy=C,C.src=h,C.listener=x,h.addEventListener)z||(q=ut),q===void 0&&(q=!1),h.addEventListener(v.toString(),C,q);else if(h.attachEvent)h.attachEvent(Ti(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Oa(){function h(x){return v.call(h.src,h.listener,x)}const v=dl;return h}function Pa(h,v,x,C,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Pa(h,v[Q],x,C,q);else C=d(C)?!!C.capture:!!C,x=pl(x),h&&h[Zt]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],x=Dt(v,x,C,q),x>-1&&(rt(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Lr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Dt(v,x,C,q)),(x=h>-1?v[h]:null)&&ja(x))}function ja(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Zt])xt(v.i,h);else{var x=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(x,C,h.capture):v.detachEvent?v.detachEvent(Ti(x),C):v.addListener&&v.removeListener&&v.removeListener(C),(x=Lr(v))?(xt(x,h),x.h==0&&(x.src=null,v[Ft]=null)):rt(h)}}}function Ti(h){return h in Le?Le[h]:Le[h]="on"+h}function dl(h,v){if(h.da)h=!0;else{v=new $t(v,this);const x=h.listener,C=h.ha||h.src;h.fa&&ja(h),h=x.call(C,v)}return h}function Lr(h){return h=h[Ft],h instanceof ht?h:null}var ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function pl(h){return typeof h=="function"?h:(h[ml]||(h[ml]=function(v){return h.handleEvent(v)}),h[ml])}function we(){O.call(this),this.i=new ht(this),this.M=this,this.G=null}_(we,O),we.prototype[Zt]=!0,we.prototype.removeEventListener=function(h,v,x,C){Pa(this,h,v,x,C)};function Ue(h,v){var x,C=h.G;if(C)for(x=[];C;C=C.G)x.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new P(v,h);else if(v instanceof P)v.target=v.target||h;else{var q=v;v=new P(C,h),ct(v,q)}q=!0;let Q,ut;if(x)for(ut=x.length-1;ut>=0;ut--)Q=v.g=x[ut],q=Ps(Q,C,!0,v)&&q;if(Q=v.g=h,q=Ps(Q,C,!0,v)&&q,q=Ps(Q,C,!1,v)&&q,x)for(ut=0;ut<x.length;ut++)Q=v.g=x[ut],q=Ps(Q,C,!1,v)&&q}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const x=h.g[v];for(let C=0;C<x.length;C++)rt(x[C]);delete h.g[v],h.h--}}this.G=null},we.prototype.J=function(h,v,x,C){return this.i.add(String(h),v,!1,x,C)},we.prototype.K=function(h,v,x,C){return this.i.add(String(h),v,!0,x,C)};function Ps(h,v,x,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Q=0;Q<v.length;++Q){const ut=v[Q];if(ut&&!ut.da&&ut.capture==x){const It=ut.listener,be=ut.ha||ut.src;ut.fa&&xt(h.i,ut),q=It.call(be,C)!==!1&&q}}return q&&!C.defaultPrevented}function Cd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function gc(h){h.g=Cd(()=>{h.g=null,h.i&&(h.i=!1,gc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class hn extends O{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:gc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(h){O.call(this),this.h=h,this.g={}}_(Ur,O);var gl=[];function yl(h){yt(h.g,function(v,x){this.g.hasOwnProperty(x)&&ja(v)},h),h.g={}}Ur.prototype.N=function(){Ur.Z.N.call(this),yl(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=c.JSON.stringify,Rd=c.JSON.parse,yc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function vc(){}function _c(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){P.call(this,"d")}_(Ke,P);function On(){P.call(this,"c")}_(On,P);var _e={},bc=null;function La(){return bc=bc||new we}_e.Ia="serverreachability";function Tc(h){P.call(this,_e.Ia,h)}_(Tc,P);function Ei(h){const v=La();Ue(v,new Tc(v))}_e.STAT_EVENT="statevent";function zr(h,v){P.call(this,_e.STAT_EVENT,h),this.stat=v}_(zr,P);function Se(h){const v=La();Ue(v,new zr(v,h))}_e.Ja="timingevent";function xi(h,v){P.call(this,_e.Ja,h),this.size=v}_(xi,P);function wi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Id(h,v,x,C,q,Q){h.info(function(){if(h.g)if(Q){var ut="",It=Q.split("&");for(let Kt=0;Kt<It.length;Kt++){var be=It[Kt].split("=");if(be.length>1){const he=be[0];be=be[1];const Un=he.split("_");ut=Un.length>=2&&Un[1]=="type"?ut+(he+"="+be+"&"):ut+(he+"=redacted&")}}}else ut=null;else ut=Q;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+v+`
`+x+`
`+ut})}function Ec(h,v,x,C,q,Q,ut){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+v+`
`+x+`
`+Q+" "+ut})}function Si(h,v,x,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Nd(h,x)+(C?" "+C:"")})}function Br(h,v){h.info(function(){return"TIMEOUT: "+v})}ti.prototype.info=function(){};function Nd(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var x=Q[h];if(!(x.length<2)){var C=x[1];if(Array.isArray(C)&&!(C.length<1)){var q=C[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ut=1;ut<C.length;ut++)C[ut]=""}}}}return js(Q)}catch{return v}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function Hr(){}_(Hr,vc),Hr.prototype.g=function(){return new XMLHttpRequest},_l=new Hr;function ns(h){return encodeURIComponent(String(h))}function xc(h){var v=1;h=h.split(":");const x=[];for(;v>0&&h.length;)x.push(h.shift()),v--;return h.length&&x.push(h.join(":")),x}function ei(h,v,x,C){this.j=h,this.i=v,this.l=x,this.S=C||1,this.V=new Ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Ae={},He={};function Ai(h,v,x){h.M=1,h.A=qr(Re(v)),h.u=x,h.R=!0,Ua(h,null)}function Ua(h,v){h.F=Date.now(),Ci(h),h.B=Re(h.A);var x=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Ha(x.i,"t",C),h.C=0,x=h.j.L,h.h=new ni,h.g=Lc(h.j,x?v:null,!h.u),h.P>0&&(h.O=new hn(p(h.Y,h,h.g),h.P)),v=h.V,x=h.g,C=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(gl[0]=q.toString()),q=gl);for(let Q=0;Q<q.length;Q++){const ut=ce(x,q[Q],C||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ei(),Id(h.i,h.v,h.B,h.l,h.S,h.u)}ei.prototype.ba=function(h){h=h.target;const v=this.O;v&&ri(h)==3?v.j():this.Y(h)},ei.prototype.Y=function(h){try{if(h==this.g)t:{const It=ri(this.g),be=this.g.ya(),Kt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||It!=4||be==7||(be==8||Kt<=0?Ei(3):Ei(2)),Ri(this);var v=this.g.ca();this.X=v;var x=Dd(this);if(this.o=v==200,Ec(this.i,this.v,this.B,this.l,this.S,It,v),this.o){if(this.U&&!this.L){e:{if(this.g){var C,q=this.g;if((C=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(C)){var Q=C;break e}}Q=null}if(h=Q)Si(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,h);else{this.o=!1,this.m=3,Se(12),Sn(this),Pn(this);break t}}if(this.R){h=!0;let he;for(;!this.K&&this.C<x.length;)if(he=Sc(this,x),he==He){It==4&&(this.m=4,Se(14),h=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Ae){this.m=4,Se(15),Si(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Si(this.i,this.l,he,null),Ii(this,he);if(wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||x.length!=0||this.h.h||(this.m=1,Se(16),h=!1),this.o=this.o&&h,!h)Si(this.i,this.l,x,"[Invalid Chunked Response]"),Sn(this),Pn(this);else if(x.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Vl(ut),ut.P=!0,Se(11))}}else Si(this.i,this.l,x,null),Ii(this,x);It==4&&Sn(this),this.o&&!this.K&&(It==4?Vc(this.j,this):(this.o=!1,Ci(this)))}else ss(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),Sn(this),Pn(this)}}}catch{}};function Dd(h){if(!wc(h))return h.g.la();const v=Ye(h.g);if(v==="")return"";let x="";const C=v.length,q=ri(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),Pn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<C;Q++)h.h.h=!0,x+=h.h.i.decode(v[Q],{stream:!(q&&Q==C-1)});return v.length=0,h.h.g+=x,h.C=0,h.h.g}function wc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Sc(h,v){var x=h.C,C=v.indexOf(`
`,x);return C==-1?He:(x=Number(v.substring(x,C)),isNaN(x)?Ae:(C+=1,C+x>v.length?He:(v=v.slice(C,C+x),h.C=C+x,v)))}ei.prototype.cancel=function(){this.K=!0,Sn(this)};function Ci(h){h.T=Date.now()+h.H,za(h,h.H)}function za(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wi(p(h.aa,h),v)}function Ri(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ei.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Br(this.i,this.B),this.M!=2&&(Ei(),Se(17)),Sn(this),this.m=2,Pn(this)):za(this,this.T-h)};function Pn(h){h.j.I==0||h.K||Vc(h.j,h)}function Sn(h){Ri(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,yl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ii(h,v){try{var x=h.j;if(x.I!=0&&(x.g==h||Di(x.h,h))){if(!h.L&&Di(x.h,h)&&x.I==3){try{var C=x.Ba.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){t:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)Ya(x),Gs(x);else break t;Wr(x),Se(18)}}else x.xa=q[1],0<x.xa-x.K&&q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=wi(p(x.Va,x),6e3));Ni(x.h)<=1&&x.ta&&(x.ta=void 0)}else ji(x,11)}else if((h.L||x.g==h)&&Ya(x),!k(v))for(q=x.Ba.g.parse(v),v=0;v<q.length;v++){let Kt=q[v];const he=Kt[0];if(!(he<=x.K))if(x.K=he,Kt=Kt[1],x.I==2)if(Kt[0]=="c"){x.M=Kt[1],x.ba=Kt[2];const Un=Kt[3];Un!=null&&(x.ka=Un,x.j.info("VER="+x.ka));const Li=Kt[4];Li!=null&&(x.za=Li,x.j.info("SVER="+x.za));const ai=Kt[5];ai!=null&&typeof ai=="number"&&ai>0&&(C=1.5*ai,x.O=C,x.j.info("backChannelRequestTimeoutMs_="+C)),C=x;const oi=h.g;if(oi){const Jr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var Q=C.h;Q.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(El(Q,Q.h),Q.h=null))}if(C.G){const Qa=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(C.wa=Qa,Xt(C.J,C.G,Qa))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),C=x;var ut=h;if(C.na=jc(C,C.L?C.ba:null,C.W),ut.L){xl(C.h,ut);var It=ut,be=C.O;be&&(It.H=be),It.D&&(Ri(It),Ci(It)),C.g=ut}else kc(C);x.i.length>0&&Pi(x)}else Kt[0]!="stop"&&Kt[0]!="close"||ji(x,7);else x.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?ji(x,7):kl(x):Kt[0]!="noop"&&x.l&&x.l.qa(Kt),x.A=0)}}Ei(4)}catch{}}var Ce=class{constructor(h,v){this.g=h,this.map=v}};function bl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ni(h){return h.h?1:h.g?h.g.size:0}function Di(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function El(h,v){h.g?h.g.add(v):h.h=v}function xl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}bl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const x of h.g.values())v=v.concat(x.G);return v}return S(h.i)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(h,v){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const C=h[x].indexOf("=");let q,Q=null;C>=0?(q=h[x].substring(0,C),Q=h[x].substring(C+1)):q=h[x],v(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,qe(this,h.j),this.o=h.o,this.g=h.g,Ls(this,h.u),this.h=h.h,Sl(this,Nc(h.i)),this.m=h.m):h&&(v=String(h).match(Ac))?(this.l=!1,qe(this,v[1]||"",!0),this.o=ki(v[2]||""),this.g=ki(v[3]||"",!0),Ls(this,v[4]),this.h=ki(v[5]||"",!0),Sl(this,v[6]||"",!0),this.m=ki(v[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Gr(v,Fa,!0),":");var x=this.g;return(x||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Gr(v,Fa,!0),"@"),h.push(ns(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Gr(x,x.charAt(0)=="/"?Al:Cc,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Gr(x,Rc)),h.join("")},An.prototype.resolve=function(h){const v=Re(this);let x=!!h.j;x?qe(v,h.j):x=!!h.o,x?v.o=h.o:x=!!h.g,x?v.g=h.g:x=h.u!=null;var C=h.h;if(x)Ls(v,h.u);else if(x=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var q=v.h.lastIndexOf("/");q!=-1&&(C=v.h.slice(0,q+1)+C)}if(q=C,q==".."||q==".")C="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){C=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ut=0;ut<q.length;){const It=q[ut++];It=="."?C&&ut==q.length&&Q.push(""):It==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),C&&ut==q.length&&Q.push("")):(Q.push(It),C=!0)}C=Q.join("/")}else C=q}return x?v.h=C:x=h.i.toString()!=="",x?Sl(v,Nc(h.i)):x=!!h.m,x&&(v.m=h.m),v};function Re(h){return new An(h)}function qe(h,v,x){h.j=x?ki(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ls(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Sl(h,v,x){v instanceof zs?(h.i=v,qa(h.i,h.l)):(x||(v=Gr(v,Us)),h.i=new zs(v,h.l))}function Xt(h,v,x){h.i.set(v,x)}function qr(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ki(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Gr(h,v,x){return typeof h=="string"?(h=encodeURI(h).replace(v,yn),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fa=/[#\/\?@]/g,Cc=/[#\?:]/g,Al=/[#\?]/g,Us=/[#\?@]/g,Rc=/#/g;function zs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function vn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ba(h.i,function(v,x){h.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}e=zs.prototype,e.add=function(h,v){vn(this),this.i=null,h=Bs(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(v),this.h+=1,this};function Ic(h,v){vn(h),v=Bs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Cl(h,v){return vn(h),v=Bs(h,v),h.g.has(v)}e.forEach=function(h,v){vn(this),this.g.forEach(function(x,C){x.forEach(function(q){h.call(v,q,C,this)},this)},this)};function Rl(h,v){vn(h);let x=[];if(typeof v=="string")Cl(h,v)&&(x=x.concat(h.g.get(Bs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)x=x.concat(h[v]);return x}e.set=function(h,v){return vn(this),this.i=null,h=Bs(this,h),Cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=Rl(this,h),h.length>0?String(h[0]):v):v};function Ha(h,v,x){Ic(h,v),x.length>0&&(h.i=null,h.g.set(Bs(h,v),S(x)),h.h+=x.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let C=0;C<v.length;C++){var x=v[C];const q=ns(x);x=Rl(this,x);for(let Q=0;Q<x.length;Q++){let ut=q;x[Q]!==""&&(ut+="="+ns(x[Q])),h.push(ut)}}return this.i=h.join("&")};function Nc(h){const v=new zs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Bs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function qa(h,v){v&&!h.j&&(vn(h),h.i=null,h.g.forEach(function(x,C){const q=C.toLowerCase();C!=q&&(Ic(this,C),Ha(this,q,x))},h)),h.j=v}function ii(h,v){const x=new ti;if(c.Image){const C=new Image;C.onload=y(jn,x,"TestLoadImage: loaded",!0,v,C),C.onerror=y(jn,x,"TestLoadImage: error",!1,v,C),C.onabort=y(jn,x,"TestLoadImage: abort",!1,v,C),C.ontimeout=y(jn,x,"TestLoadImage: timeout",!1,v,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function Il(h,v){const x=new ti,C=new AbortController,q=setTimeout(()=>{C.abort(),jn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(Q=>{clearTimeout(q),Q.ok?jn(x,"TestPingServer: ok",!0,v):jn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),jn(x,"TestPingServer: error",!1,v)})}function jn(h,v,x,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(x)}catch{}}function Fs(){this.g=new yc}function Mi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Mi,vc),Mi.prototype.g=function(){return new $r(this.i,this.h)};function $r(h,v){we.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_($r,we),e=$r.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,si(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Hs(this):si(this),this.readyState==3&&Ga(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Hs(this))},e.Na=function(h){this.g&&(this.response=h,Hs(this))},e.ga=function(){this.g&&Hs(this)};function Hs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,si(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ln(h){let v="";return yt(h,function(x,C){v+=C,v+=":",v+=x,v+=`\r
`}),v}function Kr(h,v,x){t:{for(C in x){var C=!1;break t}C=!0}C||(x=Ln(x),typeof h=="string"?x!=null&&ns(x):Xt(h,v,x))}function te(h){we.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(te,we);var Vi=/^https?$/i,Nl=["POST","PUT"];e=te.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,x,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Yr(this,Q);return}if(h=x||"",x=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)x.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Q of C.keys())x.set(Q,C.get(Q));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(x.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Nl,v,void 0)>=0)||C||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ut]of x)this.g.setRequestHeader(Q,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Yr(this,Q)}};function Yr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Dl(h),is(h)}function Dl(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ue(this,"complete"),Ue(this,"abort"),is(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),te.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},e.Xa=function(){Qr(this)};function Qr(h){if(h.h&&typeof l<"u"){if(h.v&&ri(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ue(h,"readystatechange"),ri(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var x;if(!(x=v)){var C;if(C=Q===0){let ut=String(h.D).match(Ac)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),C=!Vi.test(ut?ut.toLowerCase():"")}x=C}if(x)Ue(h,"complete"),Ue(h,"success");else{h.o=6;try{var q=ri(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Dl(h)}}finally{is(h)}}}}function is(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,v||Ue(h,"ready");try{x.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ri(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Rd(v)}};function Ye(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(h){const v={};h=(h.g&&ri(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(k(h[C]))continue;var x=xc(h[C]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Q=v[q]||[];v[q]=Q,Q.push(x)}Ct(v,function(C){return C.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(h,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||v}function qs(h){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,h),this.Za=Oi("retryDelaySeedMs",1e4,h),this.Ta=Oi("forwardChannelMaxRetries",2,h),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new bl(h&&h.concurrentRequestLimit),this.Ba=new Fs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=qs.prototype,e.ka=8,e.I=1,e.connect=function(h,v,x,C){Se(0),this.W=h,this.H=v||{},x&&C!==void 0&&(this.H.OSID=x,this.H.OAID=C),this.F=this.X,this.J=jc(this,null,this.W),Pi(this)};function kl(h){if($a(h),h.I==3){var v=h.V++,x=Re(h.J);if(Xt(x,"SID",h.M),Xt(x,"RID",v),Xt(x,"TYPE","terminate"),Xr(h,x),v=new ei(h,h.j,v),v.M=2,v.A=qr(Re(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&c.Image&&(new Image().src=v.A,x=!0),x||(v.g=Lc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ci(v)}Pc(h)}function Gs(h){h.g&&(Vl(h),h.g.cancel(),h.g=null)}function $a(h){Gs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ya(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Pi(h){if(!Tl(h.h)&&!h.m){h.m=!0;var v=h.Ea;X||A(),ot||(X(),ot=!0),R.add(v,h),h.D=0}}function Ka(h,v){return Ni(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wi(p(h.Ea,h,v),Oc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ei(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=L(Q),ct(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)t:{for(var v=0,x=0;x<this.i.length;x++){e:{var C=this.i[x];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(v+=C,v>4096){v=x;break t}if(v===4096||x===this.i.length-1){v=x+1;break t}}v=1e3}else v=1e3;v=Dc(this,q,v),x=Re(this.J),Xt(x,"RID",h),Xt(x,"CVER",22),this.G&&Xt(x,"X-HTTP-Session-Id",this.G),Xr(this,x),Q&&(this.R?v="headers="+ns(Ln(Q))+"&"+v:this.u&&Kr(x,this.u,Q)),El(this.h,q),this.Ra&&Xt(x,"TYPE","init"),this.S?(Xt(x,"$req",v),Xt(x,"SID","null"),q.U=!0,Ai(q,x,null)):Ai(q,x,v),this.I=2}}else this.I==3&&(h?Ml(this,h):this.i.length==0||Tl(this.h)||Ml(this))};function Ml(h,v){var x;v?x=v.l:x=h.V++;const C=Re(h.J);Xt(C,"SID",h.M),Xt(C,"RID",x),Xt(C,"AID",h.K),Xr(h,C),h.u&&h.o&&Kr(C,h.u,h.o),x=new ei(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Dc(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),El(h.h,x),Ai(x,C,v)}function Xr(h,v){h.H&&yt(h.H,function(x,C){Xt(v,C,x)}),h.l&&yt({},function(x,C){Xt(v,C,x)})}function Dc(h,v,x){x=Math.min(h.i.length,x);const C=h.l?p(h.l.Ka,h.l,h):null;t:{var q=h.i;let It=-1;for(;;){const be=["count="+x];It==-1?x>0?(It=q[0].g,be.push("ofs="+It)):It=0:be.push("ofs="+It);let Kt=!0;for(let he=0;he<x;he++){var Q=q[he].g;const Un=q[he].map;if(Q-=It,Q<0)It=Math.max(0,q[he].g-100),Kt=!1;else try{Q="req"+Q+"_"||"";try{var ut=Un instanceof Map?Un:Object.entries(Un);for(const[Li,ai]of ut){let oi=ai;d(ai)&&(oi=js(ai)),be.push(Q+Li+"="+encodeURIComponent(oi))}}catch(Li){throw be.push(Q+"type="+encodeURIComponent("_badmap")),Li}}catch{C&&C(Un)}}if(Kt){ut=be.join("&");break t}}ut=void 0}return h=h.i.splice(0,x),v.G=h,ut}function kc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;X||A(),ot||(X(),ot=!0),R.add(v,h),h.A=0}}function Wr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wi(p(h.Da,h),Oc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wi(p(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Gs(this),Mc(this))};function Vl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Mc(h){h.g=new ei(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Re(h.na);Xt(v,"RID","rpc"),Xt(v,"SID",h.M),Xt(v,"AID",h.K),Xt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(v,"TO",h.ia),Xt(v,"TYPE","xmlhttp"),Xr(h,v),h.u&&h.o&&Kr(v,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=qr(Re(v)),x.u=null,x.R=!0,Ua(x,h)}e.Va=function(){this.C!=null&&(this.C=null,Gs(this),Wr(this),Se(19))};function Ya(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Vc(h,v){var x=null;if(h.g==v){Ya(h),Vl(h),h.g=null;var C=2}else if(Di(h.h,v))x=v.G,xl(h.h,v),C=1;else return;if(h.I!=0){if(v.o)if(C==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;C=La(),Ue(C,new xi(C,x)),Pi(h)}else kc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(C==1&&Ka(h,v)||C==2&&Wr(h)))switch(x&&x.length>0&&(v=h.h,v.i=v.i.concat(x)),q){case 1:ji(h,5);break;case 4:ji(h,10);break;case 3:ji(h,6);break;default:ji(h,2)}}}function Oc(h,v){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*v}function ji(h,v){if(h.j.info("Error code "+v),v==2){var x=p(h.bb,h),C=h.Ua;const q=!C;C=new An(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(C,"https"),qr(C),q?ii(C.toString(),x):Il(C.toString(),x)}else Se(2);h.I=0,h.l&&h.l.pa(v),Pc(h),$a(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Pc(h){if(h.I=0,h.ja=[],h.l){const v=wl(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ja,v),D(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function jc(h,v,x){var C=x instanceof An?Re(x):new An(x);if(C.g!="")v&&(C.g=v+"."+C.g),Ls(C,C.u);else{var q=c.location;C=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Q=new An(null);C&&qe(Q,C),v&&(Q.g=v),q&&Ls(Q,q),x&&(Q.h=x),C=Q}return x=h.G,v=h.wa,x&&v&&Xt(C,x,v),Xt(C,"VER",h.ka),Xr(h,C),C}function Lc(h,v,x){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new te(new Mi({ab:x})):new te(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uc(){}e=Uc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function $s(){}$s.prototype.g=function(h,v){return new fn(h,v)};function fn(h,v){we.call(this),this.g=new qs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!k(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new rs(this)}_(fn,we),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){kl(this.g)},fn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=js(h),h=x);v.i.push(new Ce(v.Ya++,h)),v.I==3&&Pi(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,fn.Z.N.call(this)};function zc(h){Ke.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const x in v){h=x;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(zc,Ke);function Bc(){On.call(this),this.status=1}_(Bc,On);function rs(h){this.g=h}_(rs,Uc),rs.prototype.ra=function(){Ue(this.g,"a")},rs.prototype.qa=function(h){Ue(this.g,new zc(h))},rs.prototype.pa=function(h){Ue(this.g,new Bc)},rs.prototype.oa=function(){Ue(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,MA=function(){return new $s},kA=function(){return La()},DA=_e,Kg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,yf=Fr,vl.COMPLETE="complete",NA=vl,_c.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",we.prototype.listen=we.prototype.J,xu=_c,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,IA=te}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let ol="12.9.0";function x6(e){ol=e}const Ra=new n0("@firebase/firestore");function Co(){return Ra.logLevel}function dt(e,...t){if(Ra.logLevel<=Lt.DEBUG){const n=t.map(p0);Ra.debug(`Firestore (${ol}): ${e}`,...n)}}function Ds(e,...t){if(Ra.logLevel<=Lt.ERROR){const n=t.map(p0);Ra.error(`Firestore (${ol}): ${e}`,...n)}}function Ia(e,...t){if(Ra.logLevel<=Lt.WARN){const n=t.map(p0);Ra.warn(`Firestore (${ol}): ${e}`,...n)}}function p0(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function Tt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,VA(e,s,n)}function VA(e,t,n){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ds(s),new Error(s)}function Qt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||VA(t,a,s)}function At(e,t){return e}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Vs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class OA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class w6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class S6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class A6{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ar,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ar)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new OA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class C6{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class R6{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new C6(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I6{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const s=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function N6(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class g0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=N6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Ut(e,t){return e<t?-1:e>t?1:0}function Yg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return sg(a)===sg(l)?Ut(a,l):sg(a)?1:-1}return Ut(e.length,t.length)}const D6=55296,k6=57343;function sg(e){const t=e.charCodeAt(0);return t>=D6&&t<=k6}function $o(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const RE="__name__";class qi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=qi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Ut(t.length,n.length)}static compareSegments(t,n){const s=qi.isNumericId(t),a=qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qi.extractNumericId(t).compare(qi.extractNumericId(n)):Yg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Sr.fromString(t.substring(4,t.length-2))}}class re extends qi{construct(t,n,s){return new re(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new re(n)}static emptyPath(){return new re([])}}const M6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends qi{construct(t,n,s){return new en(t,n,s)}static isValidIdentifier(t){return M6.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RE}static keyField(){return new en([RE])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ft(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ft(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ft(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ft(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(n)}static emptyPath(){return new en([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(re.fromString(t))}static fromName(t){return new _t(re.fromString(t).popFirst(5))}static empty(){return new _t(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new re(t.slice()))}}function PA(e,t,n){if(!n)throw new ft(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function V6(e,t,n,s){if(t===!0&&s===!0)throw new ft(st.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function IE(e){if(!_t.isDocumentKey(e))throw new ft(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function NE(e){if(_t.isDocumentKey(e))throw new ft(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function jA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function hd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function As(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ft(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hd(e);throw new ft(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Pe(e,t){const n={typeString:e};return t&&(n.value=t),n}function cc(e,t){if(!jA(e))throw new ft(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ft(st.INVALID_ARGUMENT,n);return!0}const DE=-62135596800,kE=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*kE);return new ue(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<DE)throw new ft(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kE}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(cc(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-DE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Pe("string",ue._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ue(0,0))}static max(){return new wt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gu=-1;function O6(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(s===1e9?new ue(n+1,0):new ue(n,s));return new Nr(a,_t.empty(),t)}function P6(e){return new Nr(e.readTime,e.key,Gu)}class Nr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Nr(wt.min(),_t.empty(),Gu)}static max(){return new Nr(wt.max(),_t.empty(),Gu)}}function j6(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(e.documentKey,t.documentKey),n!==0?n:Ut(e.largestBatchId,t.largestBatchId))}const L6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==L6)throw e;dt("LocalStore","Unexpectedly lost primary lease")}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new at(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof at?n:at.resolve(n)}catch(n){return at.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):at.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):at.reject(n)}static resolve(t){return new at(((n,s)=>{n(t)}))}static reject(t){return new at(((n,s)=>{s(t)}))}static waitFor(t){return new at(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=at.resolve(!1);for(const s of t)n=n.next((a=>a?at.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new at(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new at(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function z6(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(e){return e.name==="IndexedDbTransactionError"}class fd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fd.ce=-1;const y0=-1;function dd(e){return e==null}function Bf(e){return e===0&&1/e==-1/0}function B6(e){return typeof e=="number"&&Number.isInteger(e)&&!Bf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const LA="";function F6(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ME(t)),t=H6(e.get(n),t);return ME(t)}function H6(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case LA:n+="";break;default:n+=l}}return n}function ME(e){return e+LA+""}function VE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Da(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function UA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class pe{constructor(t,n){this.comparator=t,this.root=n||tn.EMPTY}insert(t,n){return new pe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jh(this.root,t,this.comparator,!0)}}class Jh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new tn(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new tn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(t){return new OE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class OE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pi{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new pi([])}unionWith(t){let n=new Fe(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new pi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return $o(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class zA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new zA("Invalid base64 string: "+l):l}})(t);return new nn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const q6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(e){if(Qt(!!e,39018),typeof e=="string"){let t=0;const n=q6.exec(e);if(Qt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:xe(e.seconds),nanos:xe(e.nanos)}}function xe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function kr(e){return typeof e=="string"?nn.fromBase64String(e):nn.fromUint8Array(e)}const BA="server_timestamp",FA="__type__",HA="__previous_value__",qA="__local_write_time__";function v0(e){return(e?.mapValue?.fields||{})[FA]?.stringValue===BA}function md(e){const t=e.mapValue.fields[HA];return v0(t)?md(t):t}function $u(e){const t=Dr(e.mapValue.fields[qA].timestampValue);return new ue(t.seconds,t.nanos)}class G6{constructor(t,n,s,a,l,c,d,m,p,y,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=_}}const Ff="(default)";class Ku{constructor(t,n){this.projectId=t,this.database=n||Ff}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(t){return t instanceof Ku&&t.projectId===this.projectId&&t.database===this.database}}function $6(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ft(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(e.options.projectId,t)}const GA="__type__",K6="__max__",Zh={mapValue:{}},$A="__vector__",Hf="value";function Mr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?v0(e)?4:Q6(e)?9007199254740991:Y6(e)?10:11:Tt(28295,{value:e})}function ts(e,t){if(e===t)return!0;const n=Mr(e);if(n!==Mr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $u(e).isEqual($u(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Dr(a.timestampValue),d=Dr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return kr(a.bytesValue).isEqual(kr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return xe(a.geoPointValue.latitude)===xe(l.geoPointValue.latitude)&&xe(a.geoPointValue.longitude)===xe(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return xe(a.integerValue)===xe(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=xe(a.doubleValue),d=xe(l.doubleValue);return c===d?Bf(c)===Bf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return $o(e.arrayValue.values||[],t.arrayValue.values||[],ts);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(VE(c)!==VE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ts(c[m],d[m])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function Yu(e,t){return(e.values||[]).find((n=>ts(n,t)))!==void 0}function Ko(e,t){if(e===t)return 0;const n=Mr(e),s=Mr(t);if(n!==s)return Ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=xe(l.integerValue||l.doubleValue),m=xe(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return PE(e.timestampValue,t.timestampValue);case 4:return PE($u(e),$u(t));case 5:return Yg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=kr(l),m=kr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Ut(d[p],m[p]);if(y!==0)return y}return Ut(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Ut(xe(l.latitude),xe(c.latitude));return d!==0?d:Ut(xe(l.longitude),xe(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return jE(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Hf]?.arrayValue,y=m[Hf]?.arrayValue,_=Ut(p?.values?.length||0,y?.values?.length||0);return _!==0?_:jE(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Zh.mapValue&&c===Zh.mapValue)return 0;if(l===Zh.mapValue)return 1;if(c===Zh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=Yg(m[_],y[_]);if(E!==0)return E;const S=Ko(d[m[_]],p[y[_]]);if(S!==0)return S}return Ut(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function PE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ut(e,t);const n=Dr(e),s=Dr(t),a=Ut(n.seconds,s.seconds);return a!==0?a:Ut(n.nanos,s.nanos)}function jE(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Ko(n[a],s[a]);if(l)return l}return Ut(n.length,s.length)}function Yo(e){return Qg(e)}function Qg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Dr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return kr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return _t.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Qg(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Qg(n.fields[c])}`;return a+"}"})(e.mapValue):Tt(61005,{value:e})}function vf(e){switch(Mr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=md(e);return t?16+vf(t):16;case 5:return 2*e.stringValue.length;case 6:return kr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+vf(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return Da(s.fields,((l,c)=>{a+=l.length+vf(c)})),a})(e.mapValue);default:throw Tt(13486,{value:e})}}function LE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Xg(e){return!!e&&"integerValue"in e}function _0(e){return!!e&&"arrayValue"in e}function UE(e){return!!e&&"nullValue"in e}function zE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _f(e){return!!e&&"mapValue"in e}function Y6(e){return(e?.mapValue?.fields||{})[GA]?.stringValue===$A}function Mu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Da(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Mu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Mu(e.arrayValue.values[n]);return t}return{...e}}function Q6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===K6}class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!_f(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mu(n)}setAll(t){let n=en.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Mu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());_f(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ts(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];_f(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Da(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Yn(Mu(this.value))}}function KA(e){const t=[];return Da(e.fields,((n,s)=>{const a=new en([n]);if(_f(s)){const l=KA(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new pi(t)}class ln{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new ln(t,0,wt.min(),wt.min(),wt.min(),Yn.empty(),0)}static newFoundDocument(t,n,s,a){return new ln(t,1,n,wt.min(),s,a,0)}static newNoDocument(t,n){return new ln(t,2,n,wt.min(),wt.min(),Yn.empty(),0)}static newUnknownDocument(t,n){return new ln(t,3,n,wt.min(),wt.min(),Yn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qf{constructor(t,n){this.position=t,this.inclusive=n}}function BE(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=_t.comparator(_t.fromName(c.referenceValue),n.key):s=Ko(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function FE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ts(e.position[n],t.position[n]))return!1;return!0}class Qu{constructor(t,n="asc"){this.field=t,this.dir=n}}function X6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class YA{}class Oe extends YA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new J6(t,n,s):n==="array-contains"?new e5(t,s):n==="in"?new n5(t,s):n==="not-in"?new i5(t,s):n==="array-contains-any"?new s5(t,s):new Oe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Z6(t,s):new t5(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ko(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends YA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new bi(t,n)}matches(t){return QA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QA(e){return e.op==="and"}function XA(e){return W6(e)&&QA(e)}function W6(e){for(const t of e.filters)if(t instanceof bi)return!1;return!0}function Wg(e){if(e instanceof Oe)return e.field.canonicalString()+e.op.toString()+Yo(e.value);if(XA(e))return e.filters.map((t=>Wg(t))).join(",");{const t=e.filters.map((n=>Wg(n))).join(",");return`${e.op}(${t})`}}function WA(e,t){return e instanceof Oe?(function(s,a){return a instanceof Oe&&s.op===a.op&&s.field.isEqual(a.field)&&ts(s.value,a.value)})(e,t):e instanceof bi?(function(s,a){return a instanceof bi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&WA(c,a.filters[d])),!0):!1})(e,t):void Tt(19439)}function JA(e){return e instanceof Oe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`})(e):e instanceof bi?(function(n){return n.op.toString()+" {"+n.getFilters().map(JA).join(" ,")+"}"})(e):"Filter"}class J6 extends Oe{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class Z6 extends Oe{constructor(t,n){super(t,"in",n),this.keys=ZA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class t5 extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=ZA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function ZA(e,t){return(t.arrayValue?.values||[]).map((n=>_t.fromName(n.referenceValue)))}class e5 extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _0(n)&&Yu(n.arrayValue,this.value)}}class n5 extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class i5 extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class s5 extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Yu(this.value.arrayValue,s)))}}class r5{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function HE(e,t=null,n=[],s=[],a=null,l=null,c=null){return new r5(e,t,n,s,a,l,c)}function b0(e){const t=At(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Wg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),dd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Yo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Yo(s))).join(",")),t.Te=n}return t.Te}function T0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!X6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!WA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!FE(e.startAt,t.startAt)&&FE(e.endAt,t.endAt)}function Jg(e){return _t.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class cl{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function a5(e,t,n,s,a,l,c,d){return new cl(e,t,n,s,a,l,c,d)}function E0(e){return new cl(e)}function qE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function o5(e){return _t.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function tC(e){return e.collectionGroup!==null}function Vu(e){const t=At(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Fe(en.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Qu(l,s))})),n.has(en.keyField().canonicalString())||t.Ie.push(new Qu(en.keyField(),s))}return t.Ie}function Ki(e){const t=At(e);return t.Ee||(t.Ee=l5(t,Vu(e))),t.Ee}function l5(e,t){if(e.limitType==="F")return HE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qu(a.field,l)}));const n=e.endAt?new qf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new qf(e.startAt.position,e.startAt.inclusive):null;return HE(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Zg(e,t){const n=e.filters.concat([t]);return new cl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function u5(e,t){const n=e.explicitOrderBy.concat([t]);return new cl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function Gf(e,t,n){return new cl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pd(e,t){return T0(Ki(e),Ki(t))&&e.limitType===t.limitType}function eC(e){return`${b0(Ki(e))}|lt:${e.limitType}`}function Ro(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>JA(a))).join(", ")}]`),dd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Yo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Yo(a))).join(",")),`Target(${s})`})(Ki(e))}; limitType=${e.limitType})`}function gd(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_t.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Vu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=BE(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,Vu(s),a)||s.endAt&&!(function(c,d,m){const p=BE(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,Vu(s),a))})(e,t)}function c5(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nC(e){return(t,n)=>{let s=!1;for(const a of Vu(e)){const l=h5(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function h5(e,t,n){const s=e.field.isKeyField()?_t.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Ko(m,p):Tt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:e.dir})}}class ka{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Da(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return UA(this.inner)}size(){return this.innerSize}}const f5=new pe(_t.comparator);function ks(){return f5}const iC=new pe(_t.comparator);function wu(...e){let t=iC;for(const n of e)t=t.insert(n.key,n);return t}function sC(e){let t=iC;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ba(){return Ou()}function rC(){return Ou()}function Ou(){return new ka((e=>e.toString()),((e,t)=>e.isEqual(t)))}const d5=new pe(_t.comparator),m5=new Fe(_t.comparator);function zt(...e){let t=m5;for(const n of e)t=t.add(n);return t}const p5=new Fe(Ut);function g5(){return p5}function x0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(t)?"-0":t}}function aC(e){return{integerValue:""+e}}function y5(e,t){return B6(t)?aC(t):x0(e,t)}class yd{constructor(){this._=void 0}}function v5(e,t,n){return e instanceof $f?(function(a,l){const c={fields:{[FA]:{stringValue:BA},[qA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&v0(l)&&(l=md(l)),l&&(c.fields[HA]=l),{mapValue:c}})(n,t):e instanceof Xu?lC(e,t):e instanceof Wu?uC(e,t):(function(a,l){const c=oC(a,l),d=GE(c)+GE(a.Ae);return Xg(c)&&Xg(a.Ae)?aC(d):x0(a.serializer,d)})(e,t)}function _5(e,t,n){return e instanceof Xu?lC(e,t):e instanceof Wu?uC(e,t):n}function oC(e,t){return e instanceof Kf?(function(s){return Xg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class $f extends yd{}class Xu extends yd{constructor(t){super(),this.elements=t}}function lC(e,t){const n=cC(t);for(const s of e.elements)n.some((a=>ts(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Wu extends yd{constructor(t){super(),this.elements=t}}function uC(e,t){let n=cC(t);for(const s of e.elements)n=n.filter((a=>!ts(a,s)));return{arrayValue:{values:n}}}class Kf extends yd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function GE(e){return xe(e.integerValue||e.doubleValue)}function cC(e){return _0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function b5(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof Xu&&a instanceof Xu||s instanceof Wu&&a instanceof Wu?$o(s.elements,a.elements,ts):s instanceof Kf&&a instanceof Kf?ts(s.Ae,a.Ae):s instanceof $f&&a instanceof $f})(e.transform,t.transform)}class T5{constructor(t,n){this.version=t,this.transformResults=n}}class Yi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Yi}static exists(t){return new Yi(void 0,t)}static updateTime(t){return new Yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class vd{}function hC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new dC(e.key,Yi.none()):new hc(e.key,e.data,Yi.none());{const n=e.data,s=Yn.empty();let a=new Fe(en.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ma(e.key,s,new pi(a.toArray()),Yi.none())}}function E5(e,t,n){e instanceof hc?(function(a,l,c){const d=a.value.clone(),m=KE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Ma?(function(a,l,c){if(!bf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=KE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(fC(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Pu(e,t,n,s){return e instanceof hc?(function(l,c,d,m){if(!bf(l.precondition,c))return d;const p=l.value.clone(),y=YE(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,s):e instanceof Ma?(function(l,c,d,m){if(!bf(l.precondition,c))return d;const p=YE(l.fieldTransforms,m,c),y=c.data;return y.setAll(fC(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,d){return bf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function x5(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=oC(s.transform,a||null);l!=null&&(n===null&&(n=Yn.empty()),n.set(s.field,l))}return n||null}function $E(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&$o(s,a,((l,c)=>b5(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class hc extends vd{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ma extends vd{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function fC(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function KE(e,t,n){const s=new Map;Qt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,_5(c,d,n[a]))}return s}function YE(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,v5(l,c,t))}return s}class dC extends vd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w5 extends vd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class S5{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&E5(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Pu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Pu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=rC();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=hC(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&$o(this.mutations,t.mutations,((n,s)=>$E(n,s)))&&$o(this.baseMutations,t.baseMutations,((n,s)=>$E(n,s)))}}class w0{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return d5})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new w0(t,n,s,a)}}class A5{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class C5{constructor(t,n){this.count=t,this.unchangedNames=n}}var Me,Ht;function R5(e){switch(e){case st.OK:return Tt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function mC(e){if(e===void 0)return Ds("GRPC error has no .code"),st.UNKNOWN;switch(e){case Me.OK:return st.OK;case Me.CANCELLED:return st.CANCELLED;case Me.UNKNOWN:return st.UNKNOWN;case Me.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Me.INTERNAL:return st.INTERNAL;case Me.UNAVAILABLE:return st.UNAVAILABLE;case Me.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Me.NOT_FOUND:return st.NOT_FOUND;case Me.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Me.ABORTED:return st.ABORTED;case Me.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Me.DATA_LOSS:return st.DATA_LOSS;default:return Tt(39323,{code:e})}}(Ht=Me||(Me={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function I5(){return new TextEncoder}const N5=new Sr([4294967295,4294967295],0);function QE(e){const t=I5().encode(e),n=new RA;return n.update(t),new Uint8Array(n.digest())}function XE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Sr([n,s],0),new Sr([a,l],0)]}class S0{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Su(`Invalid padding: ${n}`);if(s<0)throw new Su(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Sr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(Sr.fromNumber(s)));return a.compare(N5)===1&&(a=new Sr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=QE(t),[s,a]=XE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new S0(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=QE(t),[s,a]=XE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _d{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,fc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new _d(wt.min(),a,new pe(Ut),ks(),zt())}}class fc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new fc(s,n,zt(),zt(),zt())}}class Tf{constructor(t,n,s,a){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=a}}class pC{constructor(t,n){this.targetId=t,this.Ce=n}}class gC{constructor(t,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class WE{constructor(){this.ve=0,this.Fe=JE(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),s=zt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Tt(38017,{changeType:l})}})),new fc(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=JE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class D5{constructor(t){this.Ge=t,this.ze=new Map,this.je=ks(),this.He=tf(),this.Je=tf(),this.Ze=new pe(Ut)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Jg(l))if(s===0){const c=new _t(l.path);this.et(n,c,ln.newNoDocument(c,wt.min()))}else Qt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=kr(s).toUint8Array()}catch(m){if(m instanceof zA)return Ia("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new S0(c,a,l)}catch(m){return Ia(m instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Jg(d.target)){const m=new _t(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ln.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=zt();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new _d(t,n,this.Ze,this.je,s);return this.je=ks(),this.He=tf(),this.Je=tf(),this.Ze=new pe(Ut),a}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new WE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Fe(Ut),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Fe(Ut),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new WE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function tf(){return new pe(_t.comparator)}function JE(){return new pe(_t.comparator)}const k5={asc:"ASCENDING",desc:"DESCENDING"},M5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V5={and:"AND",or:"OR"};class O5{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ty(e,t){return e.useProto3Json||dd(t)?t:{value:t}}function Yf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function P5(e,t){return Yf(e,t.toTimestamp())}function Qi(e){return Qt(!!e,49232),wt.fromTimestamp((function(n){const s=Dr(n);return new ue(s.seconds,s.nanos)})(e))}function A0(e,t){return ey(e,t).canonicalString()}function ey(e,t){const n=(function(a){return new re(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function vC(e){const t=re.fromString(e);return Qt(xC(t),10190,{key:t.toString()}),t}function ny(e,t){return A0(e.databaseId,t.path)}function rg(e,t){const n=vC(t);if(n.get(1)!==e.databaseId.projectId)throw new ft(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ft(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _t(bC(n))}function _C(e,t){return A0(e.databaseId,t)}function j5(e){const t=vC(e);return t.length===4?re.emptyPath():bC(t)}function iy(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bC(e){return Qt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function ZE(e,t,n){return{name:ny(e,t),fields:n.value.mapValue.fields}}function L5(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Tt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?st.UNKNOWN:mC(p.code);return new ft(y,p.message||"")})(c);n=new gC(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=rg(e,s.document.name),l=Qi(s.document.updateTime),c=s.document.createTime?Qi(s.document.createTime):wt.min(),d=new Yn({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Tf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=rg(e,s.document),l=s.readTime?Qi(s.readTime):wt.min(),c=ln.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Tf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=rg(e,s.document),l=s.removedTargetIds||[];n=new Tf([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new C5(a,l),d=s.targetId;n=new pC(d,c)}}return n}function U5(e,t){let n;if(t instanceof hc)n={update:ZE(e,t.key,t.value)};else if(t instanceof dC)n={delete:ny(e,t.key)};else if(t instanceof Ma)n={update:ZE(e,t.key,t.data),updateMask:Y5(t.fieldMask)};else{if(!(t instanceof w5))return Tt(16599,{dt:t.type});n={verify:ny(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof $f)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:P5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(e,t.precondition)),n}function z5(e,t){return e&&e.length>0?(Qt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Qi(a.updateTime):Qi(l);return c.isEqual(wt.min())&&(c=Qi(l)),new T5(c,a.transformResults||[])})(n,t)))):[]}function B5(e,t){return{documents:[_C(e,t.path)]}}function F5(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=_C(e,a);const l=(function(p){if(p.length!==0)return EC(bi.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:Io(E.field),direction:G5(E.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=ty(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function H5(e){let t=j5(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Qt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const E=TC(_);return E instanceof bi&&XA(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(D){return new Qu(No(D.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let E;return E=typeof _=="object"?_.value:_,dd(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(_){const E=!!_.before,S=_.values||[];return new qf(S,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,S=_.values||[];return new qf(S,E)})(n.endAt)),a5(t,a,c,l,d,"F",m,p)}function q5(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function TC(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=No(n.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=No(n.unaryFilter.field);return Oe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(n.unaryFilter.field);return Oe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=No(n.unaryFilter.field);return Oe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Oe.create(No(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return bi.create(n.compositeFilter.filters.map((s=>TC(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(e):Tt(30097,{filter:e})}function G5(e){return k5[e]}function $5(e){return M5[e]}function K5(e){return V5[e]}function Io(e){return{fieldPath:e.canonicalString()}}function No(e){return en.fromServerFormat(e.fieldPath)}function EC(e){return e instanceof Oe?(function(n){if(n.op==="=="){if(zE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(UE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(UE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:$5(n.op),value:n.value}}})(e):e instanceof bi?(function(n){const s=n.getFilters().map((a=>EC(a)));return s.length===1?s[0]:{compositeFilter:{op:K5(n.op),filters:s}}})(e):Tt(54877,{filter:e})}function Y5(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function xC(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function wC(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class Tr{constructor(t,n,s,a,l=wt.min(),c=wt.min(),d=nn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Q5{constructor(t){this.yt=t}}function X5(e){const t=H5({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Gf(t,t.limit,"L"):t}class W5{constructor(){this.Sn=new J5}addToCollectionParentIndex(t,n){return this.Sn.add(n),at.resolve()}getCollectionParents(t,n){return at.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return at.resolve()}deleteFieldIndex(t,n){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,n){return at.resolve()}getDocumentsMatchingTarget(t,n){return at.resolve(null)}getIndexType(t,n){return at.resolve(0)}getFieldIndexes(t,n){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,n){return at.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,n){return at.resolve(Nr.min())}updateCollectionGroup(t,n,s){return at.resolve()}updateIndexEntries(t,n){return at.resolve()}}class J5{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Fe(re.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Fe(re.comparator)).toArray()}}const tx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SC=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(SC,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Qo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Qo(0)}static ar(){return new Qo(-1)}}const ex="LruGarbageCollector",Z5=1048576;function nx([e,t],[n,s]){const a=Ut(e,n);return a===0?Ut(t,s):a}class tj{constructor(t){this.Pr=t,this.buffer=new Fe(nx),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nx(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ej{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){dt(ex,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?dt(ex,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Ar(3e5)}))}}class nj{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return at.resolve(fd.ce);const s=new tj(n);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(tx)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tx):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(p=Date.now(),Co()<=Lt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function ij(e,t){return new nj(e,t)}class sj{constructor(){this.changes=new ka((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?at.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class rj{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class aj{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Pu(s.mutation,a,pi.empty(),ue.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,zt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=zt()){const a=ba();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=wu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ba();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,zt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=ks();const c=Ou(),d=(function(){return Ou()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ma)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Pu(y.mutation,p,y.mutation.getFieldMask(),ue.now())):c.set(p.key,pi.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new rj(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Ou();let a=new pe(((c,d)=>c-d)),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||pi.empty();y=d.applyToLocalView(p,y),s.set(m,y);const _=(a.get(d.batchId)||zt()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=rC();y.forEach((E=>{if(!l.has(E)){const S=hC(n.get(E),s.get(E));S!==null&&_.set(E,S),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return at.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return o5(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):tC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):at.resolve(ba());let d=Gu,m=l;return c.next((p=>at.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?at.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,zt()))).next((y=>({batchId:d,changes:sC(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next((s=>{let a=wu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=wu();return this.indexManager.getCollectionParents(t,l).next((d=>at.forEach(d,(m=>{const p=(function(_,E){return new cl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))}));let d=wu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Pu(y.mutation,p,pi.empty(),ue.now()),gd(n,p)&&(d=d.insert(m,p))})),d}))}}class oj{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return at.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Qi(a.createTime)}})(n)),at.resolve()}getNamedQuery(t,n){return at.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:X5(a.bundledQuery),readTime:Qi(a.readTime)}})(n)),at.resolve()}}class lj{constructor(){this.overlays=new pe(_t.comparator),this.Lr=new Map}getOverlay(t,n){return at.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ba();return at.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.bt(t,n,l)})),at.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),at.resolve()}getOverlaysForCollection(t,n,s){const a=ba(),l=n.length+1,c=new _t(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return at.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new pe(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=ba(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ba(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return at.resolve(d)}bt(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new A5(n,s));let l=this.Lr.get(n);l===void 0&&(l=zt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class uj{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,at.resolve()}}class C0{constructor(){this.kr=new Fe($e.Kr),this.qr=new Fe($e.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new $e(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new $e(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new _t(new re([])),s=new $e(n,t),a=new $e(n,t+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new _t(new re([])),s=new $e(n,t),a=new $e(n,t+1);let l=zt();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new $e(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class $e{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return _t.comparator(t.key,n.key)||Ut(t.Hr,n.Hr)}static Ur(t,n){return Ut(t.Hr,n.Hr)||_t.comparator(t.key,n.key)}}class cj{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe($e.Kr)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new S5(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new $e(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return at.resolve(c)}lookupMutationBatch(t,n){return at.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return at.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?y0:this.Yn-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new $e(n,0),a=new $e(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),at.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(Ut);return n.forEach((a=>{const l=new $e(a,0),c=new $e(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{s=s.add(d.Hr)}))})),at.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;_t.isDocumentKey(l)||(l=l.child(""));const c=new $e(new _t(l),0);let d=new Fe(Ut);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),c),at.resolve(this.Yr(d))}Yr(t){const n=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Qt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return at.forEach(n.mutations,(a=>{const l=new $e(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new $e(n,0),a=this.Jr.firstAfterOrEqual(s);return at.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class hj{constructor(t){this.ti=t,this.docs=(function(){return new pe(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return at.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(t,n){let s=ks();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),at.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=ks();const c=n.path,d=new _t(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||j6(P6(y),s)<=0||(a.has(y.key)||gd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return at.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Tt(9500)}ni(t,n){return at.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new fj(this)}getSize(t){return at.resolve(this.size)}}class fj extends sj{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),at.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class dj{constructor(t){this.persistence=t,this.ri=new ka((n=>b0(n)),T0),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.ii=0,this.si=new C0,this.targetCount=0,this.oi=Qo._r()}forEachTarget(t,n){return this.ri.forEach(((s,a)=>n(a))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),at.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Qo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,at.resolve()}updateTargetData(t,n){return this.lr(n),at.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),at.waitFor(l).next((()=>a))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return at.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),at.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),at.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),at.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return at.resolve(s)}containsKey(t,n){return at.resolve(this.si.containsKey(n))}}class AC{constructor(t,n){this._i={},this.overlays={},this.ai=new fd(0),this.ui=!1,this.ui=!0,this.ci=new uj,this.referenceDelegate=t(this),this.li=new dj(this),this.indexManager=new W5,this.remoteDocumentCache=(function(a){return new hj(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Q5(n),this.Pi=new oj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new lj,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new cj(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){dt("MemoryPersistence","Starting transaction:",t);const a=new mj(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,n){return at.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class mj extends U6{constructor(t){super(),this.currentSequenceNumber=t}}class R0{constructor(t){this.persistence=t,this.Ri=new C0,this.Ai=null}static Vi(t){return new R0(t)}get di(){if(this.Ai)return this.Ai;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),at.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),at.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),at.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.di,(s=>{const a=_t.fromPath(s);return this.mi(t,a).next((l=>{l||n.removeEntry(a,wt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return at.or([()=>at.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Qf{constructor(t,n){this.persistence=t,this.fi=new ka((s=>F6(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=ij(this,n)}static Vi(t,n){return new Qf(t,n)}Ti(){}Ii(t){return at.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return at.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?at.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,n).next((d=>{d||(s++,l.removeEntry(c,wt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),at.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),at.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),at.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vf(t.data.value)),n}wr(t,n,s){return at.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return at.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class I0{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=a}static Es(t,n){let s=zt(),a=zt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new I0(t,n.fromCache,s,a)}}class pj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class gj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return nO()?8:z6(cn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new pj;return this.ys(t,n,c).next((d=>{if(l.result=d,this.As)return this.ws(t,n,c,d.size)}))})).next((()=>l.result))}ws(t,n,s,a){return s.documentReadCount<this.Vs?(Co()<=Lt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),at.resolve()):(Co()<=Lt.DEBUG&&dt("QueryEngine","Query:",Ro(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Co()<=Lt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ki(n))):at.resolve())}gs(t,n){if(qE(n))return at.resolve(null);let s=Ki(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Gf(n,null,"F"),s=Ki(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=zt(...l);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,c,m.readTime)?this.gs(t,Gf(n,null,"F")):this.Ds(t,p,n,m)}))))})))))}ps(t,n,s,a){return qE(n)||a.isEqual(wt.min())?at.resolve(null):this.fs.getDocuments(t,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?at.resolve(null):(Co()<=Lt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ro(n)),this.Ds(t,c,n,O6(a,Gu)).next((d=>d)))}))}bs(t,n){let s=new Fe(nC(t));return n.forEach(((a,l)=>{gd(t,l)&&(s=s.add(l))})),s}Ss(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,n,s){return Co()<=Lt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.fs.getDocumentsMatchingQuery(t,n,Nr.min(),s)}Ds(t,n,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const N0="LocalStore",yj=3e8;class vj{constructor(t,n,s,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new pe(Ut),this.Fs=new ka((l=>b0(l)),T0),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new aj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function _j(e,t,n,s){return new vj(e,t,n,s)}async function CC(e,t){const n=At(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=zt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function bj(e,t){const n=At(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const _=p.batch,E=_.keys();let S=at.resolve();return E.forEach((D=>{S=S.next((()=>y.getEntry(m,D))).next((V=>{const j=p.docVersions.get(D);Qt(j!==null,48541),V.version.compareTo(j)<0&&(_.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=zt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function RC(e){const t=At(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function Tj(e,t){const n=At(e),s=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];t.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,_))));let S=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?S=S.withResumeToken(nn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,s)),a=a.insert(_,S),(function(V,j,F){return V.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=yj?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(E,S,y)&&d.push(n.li.updateTargetData(l,S))}));let m=ks(),p=zt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(Ej(l,c,t.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(wt.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return at.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function Ej(e,t,n){let s=zt(),a=zt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=ks();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(wt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):dt(N0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function xj(e,t){const n=At(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=y0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function wj(e,t){const n=At(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,t).next((l=>l?(a=l,at.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Tr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function sy(e,t,n){const s=At(e),a=s.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ul(c))throw c;dt(N0,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function ix(e,t,n){const s=At(e);let a=wt.min(),l=zt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=At(m),E=_.Fs.get(y);return E!==void 0?at.resolve(_.vs.get(E)):_.li.getTargetData(p,y)})(s,c,Ki(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,n?a:wt.min(),n?l:zt()))).next((d=>(Sj(s,c5(t),d),{documents:d,ks:l})))))}function Sj(e,t,n){let s=e.Ms.get(t)||wt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Ms.set(t,s)}class sx{constructor(){this.activeTargetIds=g5()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Aj{constructor(){this.vo=new sx,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new sx,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Cj{Mo(t){}shutdown(){}}const rx="ConnectivityMonitor";class ax{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){dt(rx,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){dt(rx,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ef=null;function ry(){return ef===null?ef=(function(){return 268435456+Math.round(2147483648*Math.random())})():ef++,"0x"+ef.toString(16)}const ag="RestConnection",Rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Ij{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Ff?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,n,s,a,l){const c=ry(),d=this.Qo(t,n.toUriEncodedString());dt(ag,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),y=sl(p);return this.zo(t,d,m,s,y).then((_=>(dt(ag,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Ia(ag,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}jo(t,n,s,a,l,c){return this.Wo(t,n,s,a,l)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,n){const s=Rj[t];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class Nj{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const rn="WebChannelConnection",Tu=(e,t,n)=>{e.listen(t,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Bo extends Ij{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Bo.c_){const t=kA();Tu(t,DA.STAT_EVENT,(n=>{n.stat===Kg.PROXY?dt(rn,"STAT_EVENT: detected buffering proxy"):n.stat===Kg.NOPROXY&&dt(rn,"STAT_EVENT: detected no buffering proxy")})),Bo.c_=!0}}zo(t,n,s,a,l){const c=ry();return new Promise(((d,m)=>{const p=new IA;p.setWithCredentials(!0),p.listenOnce(NA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case yf.NO_ERROR:const _=p.getResponseJson();dt(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case yf.TIMEOUT:dt(rn,`RPC '${t}' ${c} timed out`),m(new ft(st.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const E=p.getStatus();if(dt(rn,`RPC '${t}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S?.error;if(D&&D.status&&D.message){const V=(function(F){const H=F.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(H)>=0?H:st.UNKNOWN})(D.status);m(new ft(V,D.message))}else m(new ft(st.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ft(st.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{dt(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);dt(rn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=ry(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const p=l.join("");dt(rn,`Creating RPC '${t}' stream ${a}: ${p}`,d);const y=c.createWebChannel(p,d);this.I_(y);let _=!1,E=!1;const S=new Nj({Ho:D=>{E?dt(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(_||(dt(rn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),_=!0),dt(rn,`RPC '${t}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return Tu(y,xu.EventType.OPEN,(()=>{E||(dt(rn,`RPC '${t}' stream ${a} transport opened.`),S.i_())})),Tu(y,xu.EventType.CLOSE,(()=>{E||(E=!0,dt(rn,`RPC '${t}' stream ${a} transport closed`),S.o_(),this.E_(y))})),Tu(y,xu.EventType.ERROR,(D=>{E||(E=!0,Ia(rn,`RPC '${t}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),S.o_(new ft(st.UNAVAILABLE,"The operation could not be completed")))})),Tu(y,xu.EventType.MESSAGE,(D=>{if(!E){const V=D.data[0];Qt(!!V,16349);const j=V,F=j?.error||j[0]?.error;if(F){dt(rn,`RPC '${t}' stream ${a} received error:`,F);const H=F.status;let Y=(function(ot){const R=Me[ot];if(R!==void 0)return mC(R)})(H),J=F.message;H==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&Ia(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Y===void 0&&(Y=st.INTERNAL,J="Unknown error status: "+H+" with message "+F.message),E=!0,S.o_(new ft(Y,J)),y.close()}else dt(rn,`RPC '${t}' stream ${a} received:`,V),S.__(V)}})),Bo.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return MA()}}function Dj(e){return new Bo(e)}function og(){return typeof document<"u"?document:null}function bd(e){return new O5(e,!0)}Bo.c_=!1;class IC{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ox="PersistentStream";class NC{constructor(t,n,s,a,l,c,d,m){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IC(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ft(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(ox,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(dt(ox,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kj extends NC{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=L5(this.serializer,t),s=(function(l){if(!("targetChange"in l))return wt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Qi(c.readTime):wt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=iy(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Jg(m)?{documents:B5(l,m)}:{query:F5(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=yC(l,c.resumeToken);const p=ty(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(wt.min())>0){d.readTime=Yf(l,c.snapshotVersion.toTimestamp());const p=ty(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const s=q5(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=iy(this.serializer),n.removeTarget=t,this.K_(n)}}class Mj extends NC{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=z5(t.writeResults,t.commitTime),s=Qi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=iy(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>U5(this.serializer,s)))};this.K_(n)}}class Vj{}class Oj extends Vj{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ft(st.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,ey(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ft(st.UNKNOWN,l.toString())}))}jo(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,ey(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Pj(e,t,n,s){return new Oj(e,t,n,s)}class jj{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(n),this.aa=!1):dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Na="RemoteStore";class Lj{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Va(this)&&(dt(Na,"Restarting streams for network reachability change."),await(async function(m){const p=At(m);p.Ea.add(4),await dc(p),p.Va.set("Unknown"),p.Ea.delete(4),await Td(p)})(this))}))})),this.Va=new jj(s,a)}}async function Td(e){if(Va(e))for(const t of e.Ra)await t(!0)}async function dc(e){for(const t of e.Ra)await t(!1)}function DC(e,t){const n=At(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),V0(n)?M0(n):hl(n).O_()&&k0(n,t))}function D0(e,t){const n=At(e),s=hl(n);n.Ia.delete(t),s.O_()&&kC(n,t),n.Ia.size===0&&(s.O_()?s.L_():Va(n)&&n.Va.set("Unknown"))}function k0(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hl(e).Z_(t)}function kC(e,t){e.da.$e(t),hl(e).X_(t)}function M0(e){e.da=new D5({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),hl(e).start(),e.Va.ua()}function V0(e){return Va(e)&&!hl(e).x_()&&e.Ia.size>0}function Va(e){return At(e).Ea.size===0}function MC(e){e.da=void 0}async function Uj(e){e.Va.set("Online")}async function zj(e){e.Ia.forEach(((t,n)=>{k0(e,t)}))}async function Bj(e,t){MC(e),V0(e)?(e.Va.ha(t),M0(e)):e.Va.set("Unknown")}async function Fj(e,t,n){if(e.Va.set("Online"),t instanceof gC&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(e,t)}catch(s){dt(Na,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Xf(e,s)}else if(t instanceof Tf?e.da.Xe(t):t instanceof pC?e.da.st(t):e.da.tt(t),!n.isEqual(wt.min()))try{const s=await RC(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),kC(l,m);const _=new Tr(y.target,m,p,y.sequenceNumber);k0(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){dt(Na,"Failed to raise snapshot:",s),await Xf(e,s)}}async function Xf(e,t,n){if(!ul(t))throw t;e.Ea.add(1),await dc(e),e.Va.set("Offline"),n||(n=()=>RC(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{dt(Na,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Td(e)}))}function VC(e,t){return t().catch((n=>Xf(e,n,t)))}async function Ed(e){const t=At(e),n=Vr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:y0;for(;Hj(t);)try{const a=await xj(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,qj(t,a)}catch(a){await Xf(t,a)}OC(t)&&PC(t)}function Hj(e){return Va(e)&&e.Ta.length<10}function qj(e,t){e.Ta.push(t);const n=Vr(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function OC(e){return Va(e)&&!Vr(e).x_()&&e.Ta.length>0}function PC(e){Vr(e).start()}async function Gj(e){Vr(e).ra()}async function $j(e){const t=Vr(e);for(const n of e.Ta)t.ea(n.mutations)}async function Kj(e,t,n){const s=e.Ta.shift(),a=w0.from(s,t,n);await VC(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Ed(e)}async function Yj(e,t){t&&Vr(e).Y_&&await(async function(s,a){if((function(c){return R5(c)&&c!==st.ABORTED})(a.code)){const l=s.Ta.shift();Vr(s).B_(),await VC(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ed(s)}})(e,t),OC(e)&&PC(e)}async function lx(e,t){const n=At(e);n.asyncQueue.verifyOperationInProgress(),dt(Na,"RemoteStore received new credentials");const s=Va(n);n.Ea.add(3),await dc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Td(n)}async function Qj(e,t){const n=At(e);t?(n.Ea.delete(2),await Td(n)):t||(n.Ea.add(2),await dc(n),n.Va.set("Unknown"))}function hl(e){return e.ma||(e.ma=(function(n,s,a){const l=At(n);return l.sa(),new kj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:Uj.bind(null,e),Yo:zj.bind(null,e),t_:Bj.bind(null,e),J_:Fj.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),V0(e)?M0(e):e.Va.set("Unknown")):(await e.ma.stop(),MC(e))}))),e.ma}function Vr(e){return e.fa||(e.fa=(function(n,s,a){const l=At(n);return l.sa(),new Mj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Gj.bind(null,e),t_:Yj.bind(null,e),ta:$j.bind(null,e),na:Kj.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await Ed(e)):(await e.fa.stop(),e.Ta.length>0&&(dt(Na,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class O0{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new O0(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P0(e,t){if(Ds("AsyncQueue",`${t}: ${e}`),ul(e))return new ft(st.UNAVAILABLE,`${t}: ${e}`);throw e}class Fo{static emptySet(t){return new Fo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=wu(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Fo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class ux{constructor(){this.ga=new pe(_t.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Xo{constructor(t,n,s,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Xo(t,n,Fo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class Xj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class Wj{constructor(){this.queries=cx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=At(n),l=a.queries;a.queries=cx(),l.forEach(((c,d)=>{for(const m of d.ba)m.onError(s)}))})(this,new ft(st.ABORTED,"Firestore shutting down"))}}function cx(){return new ka((e=>eC(e)),pd)}async function jC(e,t){const n=At(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new Xj,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=P0(c,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&j0(n)}async function LC(e,t){const n=At(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Jj(e,t){const n=At(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(s=!0);c.wa=a}}s&&j0(n)}function Zj(e,t,n){const s=At(e),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(t)}function j0(e){e.Ca.forEach((t=>{t.next()}))}var ay,hx;(hx=ay||(ay={})).Ma="default",hx.Cache="cache";class UC{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Xo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ay.Cache}}class zC{constructor(t){this.key=t}}class BC{constructor(t){this.key=t}}class tL{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=nC(t),this.tu=new Fo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new ux,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const E=a.get(y),S=gd(this.query,_)?_:null,D=!!E&&this.mutatedKeys.has(E.key),V=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let j=!1;E&&S?E.data.isEqual(S.data)?D!==V&&(s.track({type:3,doc:S}),j=!0):this.su(E,S)||(s.track({type:2,doc:S}),j=!0,(m&&this.eu(S,m)>0||p&&this.eu(S,p)<0)&&(d=!0)):!E&&S?(s.track({type:0,doc:S}),j=!0):E&&!S&&(s.track({type:1,doc:E}),j=!0,(m||p)&&(d=!0)),j&&(S?(c=c.add(S),l=V?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(S,D){const V=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:j})}};return V(S)-V(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new Xo(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ux,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new BC(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new zC(s))})),n}cu(t){this.Za=t.ks,this.Ya=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const L0="SyncEngine";class eL{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class nL{constructor(t){this.key=t,this.hu=!1}}class iL{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ka((d=>eC(d)),pd),this.Iu=new Map,this.Eu=new Set,this.Ru=new pe(_t.comparator),this.Au=new Map,this.Vu=new C0,this.du={},this.mu=new Map,this.fu=Qo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sL(e,t,n=!0){const s=KC(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await FC(s,t,n,!0),a}async function rL(e,t){const n=KC(e);await FC(n,t,!0,!1)}async function FC(e,t,n,s){const a=await wj(e.localStore,Ki(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await aL(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&DC(e.remoteStore,a),d}async function aL(e,t,n,s,a){e.pu=(_,E,S)=>(async function(V,j,F,H){let Y=j.view.ru(F);Y.Ss&&(Y=await ix(V.localStore,j.query,!1).then((({documents:R})=>j.view.ru(R,Y))));const J=H&&H.targetChanges.get(j.targetId),X=H&&H.targetMismatches.get(j.targetId)!=null,ot=j.view.applyChanges(Y,V.isPrimaryClient,J,X);return dx(V,j.targetId,ot.au),ot.snapshot})(e,_,E,S);const l=await ix(e.localStore,t,!0),c=new tL(t,l.ks),d=c.ru(l.documents),m=fc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);dx(e,n,p.au);const y=new eL(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function oL(e,t,n){const s=At(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!pd(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await sy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&D0(s.remoteStore,a.targetId),oy(s,a.targetId)})).catch(ll)):(oy(s,a.targetId),await sy(s.localStore,a.targetId,!0))}async function lL(e,t){const n=At(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),D0(n.remoteStore,s.targetId))}async function uL(e,t,n){const s=gL(e);try{const a=await(function(c,d){const m=At(c),p=ue.now(),y=d.reduce(((S,D)=>S.add(D.key)),zt());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let D=ks(),V=zt();return m.xs.getEntries(S,y).next((j=>{D=j,D.forEach(((F,H)=>{H.isValidDocument()||(V=V.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,D))).next((j=>{_=j;const F=[];for(const H of d){const Y=x5(H,_.get(H.key).overlayedDocument);Y!=null&&F.push(new Ma(H.key,Y,KA(Y.value.mapValue),Yi.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,F,d)})).next((j=>{E=j;const F=j.applyToLocalDocumentSet(_,V);return m.documentOverlayCache.saveOverlays(S,j.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:sC(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.du[c.currentUser.toKey()];p||(p=new pe(Ut)),p=p.insert(d,m),c.du[c.currentUser.toKey()]=p})(s,a.batchId,n),await mc(s,a.changes),await Ed(s.remoteStore)}catch(a){const l=P0(a,"Failed to persist write");n.reject(l)}}async function HC(e,t){const n=At(e);try{const s=await Tj(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Qt(c.hu,14607):a.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await mc(n,s,t)}catch(s){await ll(s)}}function fx(e,t,n){const s=At(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=At(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,_)=>{for(const E of _.ba)E.va(d)&&(p=!0)})),p&&j0(m)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function cL(e,t,n){const s=At(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new pe(_t.comparator);c=c.insert(l,ln.newNoDocument(l,wt.min()));const d=zt().add(l),m=new _d(wt.min(),new Map,new pe(Ut),c,d);await HC(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(t),U0(s)}else await sy(s.localStore,t,!1).then((()=>oy(s,t,n))).catch(ll)}async function hL(e,t){const n=At(e),s=t.batch.batchId;try{const a=await bj(n.localStore,t);GC(n,s,null),qC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mc(n,a)}catch(a){await ll(a)}}async function fL(e,t,n){const s=At(e);try{const a=await(function(c,d){const m=At(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((_=>(Qt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);GC(s,t,n),qC(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await mc(s,a)}catch(a){await ll(a)}}function qC(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function GC(e,t,n){const s=At(e);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function oy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((s=>{e.Vu.containsKey(s)||$C(e,s)}))}function $C(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(D0(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),U0(e))}function dx(e,t,n){for(const s of n)s instanceof zC?(e.Vu.addReference(s.key,t),dL(e,s)):s instanceof BC?(dt(L0,"Document no longer in limbo: "+s.key),e.Vu.removeReference(s.key,t),e.Vu.containsKey(s.key)||$C(e,s.key)):Tt(19791,{wu:s})}function dL(e,t){const n=t.key,s=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(s)||(dt(L0,"New document in limbo: "+n),e.Eu.add(s),U0(e))}function U0(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new _t(re.fromString(t)),s=e.fu.next();e.Au.set(s,new nL(n)),e.Ru=e.Ru.insert(n,s),DC(e.remoteStore,new Tr(Ki(E0(n.path)),s,"TargetPurposeLimboResolution",fd.ce))}}async function mc(e,t,n){const s=At(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=I0.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(m,p){const y=At(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>at.forEach(p,(E=>at.forEach(E.Ts,(S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S))).next((()=>at.forEach(E.Is,(S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))))))}catch(_){if(!ul(_))throw _;dt(N0,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const S=y.vs.get(E),D=S.snapshotVersion,V=S.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(E,V)}}})(s.localStore,l))}async function mL(e,t){const n=At(e);if(!n.currentUser.isEqual(t)){dt(L0,"User change. New user:",t.toKey());const s=await CC(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ft(st.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await mc(n,s.Ns)}}function pL(e,t){const n=At(e),s=n.Au.get(t);if(s&&s.hu)return zt().add(s.key);{let a=zt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function KC(e){const t=At(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=HC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cL.bind(null,t),t.Pu.J_=Jj.bind(null,t.eventManager),t.Pu.yu=Zj.bind(null,t.eventManager),t}function gL(e){const t=At(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fL.bind(null,t),t}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return _j(this.persistence,new gj,t.initialUser,this.serializer)}Cu(t){return new AC(R0.Vi,this.serializer)}Du(t){return new Aj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class yL extends Wf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Qt(this.persistence.referenceDelegate instanceof Qf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ej(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new AC((s=>Qf.Vi(s,n)),this.serializer)}}class ly{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fx(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mL.bind(null,this.syncEngine),await Qj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Wj})()}createDatastore(t){const n=bd(t.databaseInfo.databaseId),s=Dj(t.databaseInfo);return Pj(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new Lj(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>fx(this.syncEngine,n,0)),(function(){return ax.v()?new ax:new Cj})())}createSyncEngine(t,n){return(function(a,l,c,d,m,p,y){const _=new iL(a,l,c,d,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);dt(Na,"RemoteStore shutting down."),s.Ea.add(5),await dc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ly.provider={build:()=>new ly};class YC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Or="FirestoreClient";class vL{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=g0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{dt(Or,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(dt(Or,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=P0(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function lg(e,t){e.asyncQueue.verifyOperationInProgress(),dt(Or,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await CC(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function mx(e,t){e.asyncQueue.verifyOperationInProgress();const n=await _L(e);dt(Or,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>lx(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>lx(t.remoteStore,a))),e._onlineComponents=t}async function _L(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(Or,"Using user provided OfflineComponentProvider");try{await lg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ia("Error using user provided cache. Falling back to memory cache: "+n),await lg(e,new Wf)}}else dt(Or,"Using default OfflineComponentProvider"),await lg(e,new yL(void 0));return e._offlineComponents}async function QC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(Or,"Using user provided OnlineComponentProvider"),await mx(e,e._uninitializedComponentsProvider._online)):(dt(Or,"Using default OnlineComponentProvider"),await mx(e,new ly))),e._onlineComponents}function bL(e){return QC(e).then((t=>t.syncEngine))}async function uy(e){const t=await QC(e),n=t.eventManager;return n.onListen=sL.bind(null,t.syncEngine),n.onUnlisten=oL.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=rL.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=lL.bind(null,t.syncEngine),n}function TL(e,t,n,s){const a=new YC(s),l=new UC(t,a,n);return e.asyncQueue.enqueueAndForget((async()=>jC(await uy(e),l))),()=>{a.Nu(),e.asyncQueue.enqueueAndForget((async()=>LC(await uy(e),l)))}}function EL(e,t,n={}){const s=new Ar;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new YC({next:E=>{y.Nu(),c.enqueueAndForget((()=>LC(l,_))),E.fromCache&&m.source==="server"?p.reject(new ft(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new UC(d,y,{includeMetadataChanges:!0,Ka:!0});return jC(l,_)})(await uy(e),e.asyncQueue,t,n,s))),s.promise}function xL(e,t){const n=new Ar;return e.asyncQueue.enqueueAndForget((async()=>uL(await bL(e),t,n))),n.promise}function XC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const wL="ComponentProvider",px=new Map;function SL(e,t,n,s,a){return new G6(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,XC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const WC="firestore.googleapis.com",gx=!0;class yx{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WC,this.ssl=gx}else this.host=t.host,this.ssl=t.ssl??gx;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Z5)throw new ft(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}V6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XC(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xd{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yx(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new w6;switch(s.type){case"firstParty":return new R6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=px.get(n);s&&(dt(wL,"Removing Datastore"),px.delete(n),s.terminate())})(this),Promise.resolve()}}function AL(e,t,n,s={}){e=As(e,xd);const a=sl(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(qS(`https://${d}`),GS("Firestore",!0)),l.host!==WC&&l.host!==d&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Sa(m,c)&&(e._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=on.MOCK_USER;else{p=K4(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ft(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}e._authCredentials=new S6(new OA(p,y))}}class Os{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Os(this.firestore,t,this._query)}}class je{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(cc(n,je._jsonSchema))return new je(t,s||null,new _t(re.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Pe("string",je._jsonSchemaVersion),referencePath:Pe("string")};class Cr extends Os{constructor(t,n,s){super(t,n,E0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new _t(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function JC(e,t,...n){if(e=gn(e),PA("collection","path",t),e instanceof xd){const s=re.fromString(t,...n);return NE(s),new Cr(e,null,s)}{if(!(e instanceof je||e instanceof Cr))throw new ft(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(re.fromString(t,...n));return NE(s),new Cr(e.firestore,null,s)}}function cy(e,t,...n){if(e=gn(e),arguments.length===1&&(t=g0.newId()),PA("doc","path",t),e instanceof xd){const s=re.fromString(t,...n);return IE(s),new je(e,null,new _t(s))}{if(!(e instanceof je||e instanceof Cr))throw new ft(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(re.fromString(t,...n));return IE(s),new je(e.firestore,e instanceof Cr?e.converter:null,new _t(s))}}const vx="AsyncQueue";class _x{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IC(this,"async_queue_retry"),this._c=()=>{const s=og();s&&dt(vx,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=og();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;dt(vx,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",bx(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=O0.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Tt(47125,{Pc:bx(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function bx(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Wo extends xd{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new _x,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _x(t),this._firestoreClient=void 0,await t}}}function CL(e,t){const n=typeof e=="object"?e:QS(),s=typeof e=="string"?e:Ff,a=s0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=G4("firestore");l&&AL(a,...l)}return a}function z0(e){if(e._terminated)throw new ft(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||RL(e),e._firestoreClient}function RL(e){const t=e._freezeSettings(),n=SL(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new vL(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(nn.fromBase64String(t))}catch(n){throw new ft(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(cc(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Pe("string",Qn._jsonSchemaVersion),bytes:Pe("string")};class ZC{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class tR{constructor(t){this._methodName=t}}class Xi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(t){if(cc(t,Xi._jsonSchema))return new Xi(t.latitude,t.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Pe("string",Xi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(cc(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new vi(t.vectorValues);throw new ft(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Pe("string",vi._jsonSchemaVersion),vectorValues:Pe("object")};const IL=/^__.*__$/;class NL{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ma(t,this.data,this.fieldMask,n,this.fieldTransforms):new hc(t,this.data,n,this.fieldTransforms)}}function eR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{dataSource:e})}}class B0{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new B0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Jf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(eR(this.dataSource)&&IL.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class DL{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||bd(t)}createContext(t,n,s,a=!1){return new B0({dataSource:t,methodName:n,targetDoc:s,path:en.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F0(e){const t=e._freezeSettings(),n=bd(e._databaseId);return new DL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nR(e,t,n,s,a,l={}){const c=e.createContext(l.merge||l.mergeFields?2:0,t,n,a);rR("Data must be an object, but it was:",c,s);const d=iR(s,c);let m,p;if(l.merge)m=new pi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=wd(t,_,n);if(!c.contains(E))throw new ft(st.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);OL(y,E)||y.push(E)}m=new pi(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new NL(new Yn(d),m,p)}function kL(e,t,n,s=!1){return H0(n,e.createContext(s?4:3,t))}function H0(e,t){if(sR(e=gn(e)))return rR("Unsupported field value:",t,e),iR(e,t);if(e instanceof tR)return(function(s,a){if(!eR(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=H0(d,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return y5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ue.fromDate(s);return{timestampValue:Yf(a.serializer,l)}}if(s instanceof ue){const l=new ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yf(a.serializer,l)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:yC(a.serializer,s._byteString)};if(s instanceof je){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:A0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vi)return(function(c,d){const m=c instanceof vi?c.toArray():c;return{mapValue:{fields:{[GA]:{stringValue:$A},[Hf]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return x0(d.serializer,y)}))}}}}}})(s,a);if(wC(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${hd(s)}`)})(e,t)}function iR(e,t){const n={};return UA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Da(e,((s,a)=>{const l=H0(a,t.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function sR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ue||e instanceof Xi||e instanceof Qn||e instanceof je||e instanceof tR||e instanceof vi||wC(e))}function rR(e,t,n){if(!sR(n)||!jA(n)){const s=hd(n);throw s==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+s)}}function wd(e,t,n){if((t=gn(t))instanceof ZC)return t._internalPath;if(typeof t=="string")return VL(e,t);throw Jf("Field path arguments must be of type string or ",e,!1,void 0,n)}const ML=new RegExp("[~\\*/\\[\\]]");function VL(e,t,n){if(t.search(ML)>=0)throw Jf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ZC(...t.split("."))._internalPath}catch{throw Jf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Jf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ft(st.INVALID_ARGUMENT,d+e+m)}function OL(e,t){return e.some((n=>n.isEqual(t)))}class PL{convertValue(t,n="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Da(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[Hf].arrayValue?.values?.map((s=>xe(s.doubleValue)));return new vi(n)}convertGeoPoint(t){return new Xi(xe(t.latitude),xe(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=md(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($u(t));default:return null}}convertTimestamp(t){const n=Dr(t);return new ue(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=re.fromString(t);Qt(xC(s),9688,{name:t});const a=new Ku(s.get(1),s.get(3)),l=new _t(s.popFirst(5));return a.isEqual(n)||Ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class q0 extends PL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}const Tx="@firebase/firestore",Ex="4.11.0";function xx(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class aR{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(wd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jL extends aR{data(){return super.data()}}function oR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ft(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G0{}class $0 extends G0{}function LL(e,t,...n){let s=[];t instanceof G0&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Y0)).length,d=l.filter((m=>m instanceof K0)).length;if(c>1||c>0&&d>0)throw new ft(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class K0 extends $0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new K0(t,n,s)}_apply(t){const n=this._parse(t);return lR(t._query,n),new Os(t.firestore,t.converter,Zg(t._query,n))}_parse(t){const n=F0(t.firestore);return(function(l,c,d,m,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ft(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Sx(_,y);const D=[];for(const V of _)D.push(wx(m,l,V));E={arrayValue:{values:D}}}else E=wx(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Sx(_,y),E=kL(d,c,_,y==="in"||y==="not-in");return Oe.create(p,y,E)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Y0 extends G0{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Y0(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:bi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)lR(c,m),c=Zg(c,m)})(t._query,n),new Os(t.firestore,t.converter,Zg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Q0 extends $0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Q0(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ft(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ft(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(l,c)})(t._query,this._field,this._direction);return new Os(t.firestore,t.converter,u5(t._query,n))}}function UL(e,t="asc"){const n=t,s=wd("orderBy",e);return Q0._create(s,n)}class X0 extends $0{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new X0(t,n,s)}_apply(t){return new Os(t.firestore,t.converter,Gf(t._query,this._limit,this._limitType))}}function zL(e){return X0._create("limit",e,"F")}function wx(e,t,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new ft(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tC(t)&&n.indexOf("/")!==-1)throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(re.fromString(n));if(!_t.isDocumentKey(s))throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return LE(e,new _t(s))}if(n instanceof je)return LE(e,n._key);throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(n)}.`)}function Sx(e,t){if(!Array.isArray(e)||e.length===0)throw new ft(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lR(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ft(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function uR(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class Au{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xa extends aR{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(wd("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:Pe("string",xa._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Ef extends xa{data(t={}){return super.data(t)}}class wa{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Au(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Ef(this._firestore,this._userDataWriter,s.key,s,new Au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Ef(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Ef(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:BL(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=g0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:Pe("string",wa._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};function FL(e){e=As(e,Os);const t=As(e.firestore,Wo),n=z0(t),s=new q0(t);return oR(e._query),EL(n,e._query).then((a=>new wa(t,s,e,a)))}function Ax(e,t,n){e=As(e,je);const s=As(e.firestore,Wo),a=uR(e.converter,t),l=F0(s);return cR(s,[nR(l,"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Yi.none())])}function HL(e,t){const n=As(e.firestore,Wo),s=cy(e),a=uR(e.converter,t),l=F0(e.firestore);return cR(n,[nR(l,"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,Yi.exists(!1))]).then((()=>s))}function qL(e,...t){e=gn(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||xx(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xx(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let l,c,d;if(e instanceof je)c=As(e.firestore,Wo),d=E0(e._key.path),l={next:p=>{t[s]&&t[s](GL(c,e,p))},error:t[s+1],complete:t[s+2]};else{const p=As(e,Os);c=As(p.firestore,Wo),d=p._query;const y=new q0(c);l={next:_=>{t[s]&&t[s](new wa(c,y,p,_))},error:t[s+1],complete:t[s+2]},oR(e._query)}const m=z0(c);return TL(m,d,a,l)}function cR(e,t){const n=z0(e);return xL(n,t)}function GL(e,t,n){const s=n.docs.get(t._key),a=new q0(e);return new xa(e,a,t._key,s,new Au(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){x6(rl),qo(new Aa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Wo(new A6(s.getProvider("auth-internal")),new I6(c,s.getProvider("app-check-internal")),$6(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),wr(Tx,Ex,t),wr(Tx,Ex,"esm2020")})();const $L={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},hR=YS($L),ug=_6(hR),KL=new Es,xf=CL(hR),fR=N.createContext(void 0);function YL({children:e}){const[t,n]=N.useState(null),[s,a]=N.useState(!0);N.useEffect(()=>{const d=o3(ug,m=>{n(m),a(!1)});return()=>d()},[]);const l=async()=>{try{await R3(ug,KL)}catch(d){console.error("Error signing in with Google",d)}},c=async()=>{try{await l3(ug)}catch(d){console.error("Error signing out",d)}};return T.jsx(fR.Provider,{value:{user:t,loading:s,signInWithGoogle:l,logout:c},children:!s&&e})}function fl(){const e=N.useContext(fR);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const cg={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0},nf="study-tracker-data",dR=N.createContext(void 0);function QL({children:e}){const{user:t}=fl(),[n,s]=N.useState(()=>{try{const J=localStorage.getItem(nf);if(J){const X=JSON.parse(J);if(X.userProfile)return X.userProfile}}catch(J){console.error("Failed to load user profile:",J)}return cg}),[a,l]=N.useState(()=>{try{const J=localStorage.getItem(nf);if(J){const X=JSON.parse(J);if(X.subjects)return X.subjects.map(ot=>({...ot,chapters:ot.chapters.map(R=>({...R,topics:R.topics||[]}))}))}}catch(J){console.error("Failed to load subjects:",J)}return[]});N.useEffect(()=>{if(t){const J=cy(xf,"users",t.uid),X=qL(J,ot=>{if(ot.exists()){const R=ot.data();R.userProfile&&s(R.userProfile),R.subjects&&l(R.subjects)}else{const R={userProfile:cg,subjects:[]};try{const A=localStorage.getItem(nf);if(A){const I=JSON.parse(A);I.userProfile&&(R.userProfile=I.userProfile),I.subjects&&(R.subjects=I.subjects.map(O=>({...O,chapters:O.chapters.map(P=>({...P,topics:P.topics||[]}))})))}}catch(A){console.error("Error reading local storage for migration:",A)}Ax(J,R).catch(A=>console.error("Migration failed",A))}},ot=>{console.error("Firestore sync error:",ot)});return()=>X()}},[t]);const c=async(J,X)=>{if(s(J),l(X),t)try{await Ax(cy(xf,"users",t.uid),{userProfile:J,subjects:X})}catch(ot){console.error("Failed to save to cloud:",ot)}else localStorage.setItem(nf,JSON.stringify({userProfile:J,subjects:X}))},d=J=>{c({...n,...J},a)},m=J=>{const X=crypto.randomUUID(),ot={...J,id:X,chapters:[]};c(n,[...a,ot])},p=J=>{c(n,a.filter(X=>X.id!==J))},y=(J,X)=>{const ot=a.map(R=>R.id===J?{...R,chapters:[...R.chapters,{id:crypto.randomUUID(),name:X,isCompleted:!1,topics:[]}]}:R);c(n,ot)},_=(J,X)=>{const ot=a.map(R=>R.id===J?{...R,chapters:R.chapters.map(A=>A.id===X?{...A,isCompleted:!A.isCompleted,completedAt:A.isCompleted?null:new Date().toISOString()}:A)}:R);c(n,ot)},E=(J,X)=>{const ot=a.map(R=>R.id===J?{...R,chapters:R.chapters.filter(A=>A.id!==X)}:R);c(n,ot)},S=(J,X,ot)=>{const R=a.map(A=>A.id===J?{...A,chapters:A.chapters.map(I=>I.id===X?{...I,topics:[...I.topics,{id:crypto.randomUUID(),name:ot,isCompleted:!1,completedAt:null}]}:I)}:A);c(n,R)},D=(J,X,ot)=>{const R=a.map(A=>A.id===J?{...A,chapters:A.chapters.map(I=>{if(I.id===X){const O=I.topics.map(z=>z.id===ot?{...z,isCompleted:!z.isCompleted,completedAt:z.isCompleted?null:new Date().toISOString()}:z),P=O.length>0&&O.every(z=>z.isCompleted);return{...I,topics:O,isCompleted:P,completedAt:P?new Date().toISOString():null}}return I})}:A);c(n,R)},V=(J,X,ot)=>{const R=a.map(A=>A.id===J?{...A,chapters:A.chapters.map(I=>I.id===X?{...I,topics:I.topics.filter(O=>O.id!==ot)}:I)}:A);c(n,R)},j=()=>{const J={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},X=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),ot=URL.createObjectURL(X),R=document.createElement("a");R.href=ot,R.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(ot)},F=J=>{try{const X=JSON.parse(J);return X.userProfile&&Array.isArray(X.subjects)?(c(X.userProfile,X.subjects),!0):(alert("Invalid backup file format."),!1)}catch(X){return console.error("Import error:",X),alert("Failed to parse backup file."),!1}},H=()=>{confirm("Are you sure you want to reset all data?")&&c(cg,[])},Y=async(J,X)=>{const ot=new Date,R=ot.toISOString().split("T")[0],A=(n.totalStudyTime||0)+J;let I=n.currentStreak||0,O=n.lastStudyDate;if(O!==R){const rt=new Date;rt.setDate(rt.getDate()-1);const yt=rt.toISOString().split("T")[0];O===yt?I+=1:I=1,O=R}const P=[...n.earnedBadges||[]],z=[],k=ot.getHours(),$t=k>=22||k<4,Zt=P.some(rt=>rt.type==="night_owl");$t&&!Zt&&z.push({type:"night_owl",earnedAt:ot.toISOString()});const Z=P.some(rt=>rt.type==="streak_master");I>=3&&!Z&&z.push({type:"streak_master",earnedAt:ot.toISOString()});const lt={...n,totalStudyTime:A,currentStreak:I,lastStudyDate:O,earnedBadges:[...P,...z]};if(d(lt),t)try{await HL(JC(xf,"study_sessions"),{userId:t.uid,userName:t.displayName||n.name,startTime:new Date(Date.now()-J*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:J,subjectId:X||null,createdAt:new Date().toISOString()})}catch(rt){console.error("Error saving study session:",rt)}};return T.jsx(dR.Provider,{value:{userProfile:n,subjects:a,updateProfile:d,addSubject:m,deleteSubject:p,addChapter:y,toggleChapter:_,deleteChapter:E,addTopic:S,toggleTopic:D,deleteTopic:V,resetData:H,exportData:j,importData:F,saveStudySession:Y},children:e})}function es(){const e=N.useContext(dR);if(e===void 0)throw new Error("useStudy must be used within a StudyProvider");return e}const mR=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();const XL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const WL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());const Cx=e=>{const t=WL(e);return t.charAt(0).toUpperCase()+t.slice(1)};var JL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const t9=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>N.createElement("svg",{ref:m,...JL,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:mR("lucide",a),...!l&&!ZL(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>N.createElement(p,y)),...Array.isArray(l)?l:[l]]));const Mt=(e,t)=>{const n=N.forwardRef(({className:s,...a},l)=>N.createElement(t9,{ref:l,iconNode:t,className:mR(`lucide-${XL(Cx(e))}`,`lucide-${e}`,s),...a}));return n.displayName=Cx(e),n};const e9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],n9=Mt("arrow-left",e9);const i9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pR=Mt("arrow-right",i9);const s9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],gR=Mt("award",s9);const r9=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],hy=Mt("book-marked",r9);const a9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wi=Mt("book-open",a9);const o9=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],l9=Mt("book",o9);const u9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],c9=Mt("chart-column",u9);const h9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],f9=Mt("chart-pie",h9);const d9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],m9=Mt("chevron-down",d9);const p9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],g9=Mt("chevron-left",p9);const y9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],v9=Mt("chevron-right",y9);const _9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pc=Mt("circle-check",_9);const b9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Rx=Mt("circle-user",b9);const T9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],E9=Mt("circle",T9);const x9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],w9=Mt("clock",x9);const S9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ix=Mt("download",S9);const A9=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],C9=Mt("flame",A9);const R9=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],I9=Mt("graduation-cap",R9);const N9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Nx=Mt("layout-dashboard",N9);const D9=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Dx=Mt("list",D9);const k9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yR=Mt("log-out",k9);const M9=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],fy=Mt("moon",M9);const V9=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],O9=Mt("pause",V9);const P9=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],j9=Mt("play",P9);const L9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ju=Mt("plus",L9);const U9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],z9=Mt("rotate-ccw",U9);const B9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],W0=Mt("save",B9);const F9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],H9=Mt("search",F9);const q9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hg=Mt("settings",q9);const G9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kx=Mt("sun",G9);const $9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],K9=Mt("target",$9);const Y9=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],dy=Mt("timer",Y9);const Q9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sd=Mt("trash-2",Q9);const X9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],my=Mt("trending-up",X9);const W9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zf=Mt("trophy",W9);const J9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Z9=Mt("upload",J9);const tU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],vR=Mt("volume-2",tU);const eU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],_R=Mt("volume-x",eU);const nU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],J0=Mt("x",nU);const iU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sU=Mt("zap",iU),rU=Rt(an);function aU({subject:e,index:t=0}){const n=e.chapters.length,s=e.chapters.filter(c=>c.isCompleted).length;let a=0;e.chapters.forEach(c=>{c.topics&&c.topics.length>0?a+=c.topics.filter(d=>d.isCompleted).length/c.topics.length*100:a+=c.isCompleted?100:0});const l=n===0?0:Math.round(a/n);return T.jsxs(rU,{to:`/subject/${e.id}`,whileHover:{y:-5,transition:{duration:.2}},whileTap:{scale:.98},className:"group block bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-lg hover:border-blue-100 dark:hover:border-blue-900 transition-all",children:[T.jsxs("div",{className:"flex items-start justify-between mb-4",children:[T.jsx(Rt.div,{whileHover:{rotate:15,scale:1.1},className:`w-12 h-12 rounded-xl ${e.color} flex items-center justify-center text-white shadow-sm`,children:T.jsx(Wi,{className:"w-6 h-6"})}),T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 px-2 py-1 rounded-lg text-xs font-semibold text-slate-600 dark:text-slate-300 transition-colors",children:[l,"%"]})]}),T.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:e.name}),T.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:[T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx(Wi,{className:"w-3.5 h-3.5"}),n," ",n===1?"Chapter":"Chapters"]}),s>0&&T.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400",children:[T.jsx(pc,{className:"w-3.5 h-3.5"}),s," Done"]})]}),T.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:T.jsx(Rt.div,{initial:{width:0},animate:{width:`${l}%`},transition:{duration:1,delay:.5+t*.1,ease:"easeOut"},className:`h-full ${e.color}`})}),T.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:["View Details ",T.jsx(pR,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})}function Po({title:e,value:t,icon:n,colorClass:s,bgClass:a,delay:l=0}){return T.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[T.jsx(n,{className:`w-4 h-4 ${s}`})," ",e]}),T.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:t})]}),T.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:T.jsx(n,{className:`w-6 h-6 ${s}`})})]})}const Mx=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function oU({onClose:e}){const{addSubject:t}=es(),[n,s]=N.useState(""),[a,l]=N.useState(Mx[0]),c=d=>{d.preventDefault(),n.trim()&&(t({name:n.trim(),color:a,icon:"book"}),e())};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[T.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[T.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[T.jsx(l9,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),T.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:T.jsx(J0,{className:"w-5 h-5"})})]}),T.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),T.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>s(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:Mx.map(d=>T.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),T.jsx("div",{className:"pt-2",children:T.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[T.jsx(W0,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const lU={start_strong:{icon:pc,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:C9,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:gR,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:fy,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function uU({type:e,isLocked:t=!1,dateEarned:n}){const s=lU[e],a=s.icon,[l,c]=N.useState(!1);return T.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[T.jsx(Rt.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${t?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${s.color} border-transparent`}`,children:T.jsx(a,{className:`w-8 h-8 ${t?"text-slate-400":""}`})}),T.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${t?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:s.label}),l&&T.jsxs(Rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[T.jsx("p",{className:"font-semibold",children:s.label}),T.jsx("p",{className:"text-slate-300",children:s.description}),!t&&n&&T.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}const Vx={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},fg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function cU(){const{userProfile:e,subjects:t}=es(),[n,s]=N.useState(!1),a=t.reduce((m,p)=>m+p.chapters.length,0),l=t.reduce((m,p)=>m+p.chapters.filter(y=>y.isCompleted).length,0);let c=0;t.forEach(m=>{m.chapters.forEach(p=>{p.topics&&p.topics.length>0?c+=p.topics.filter(y=>y.isCompleted).length/p.topics.length*100:c+=p.isCompleted?100:0})});const d=a===0?0:Math.round(c/a);return T.jsxs(Rt.div,{className:"space-y-8",variants:Vx,initial:"hidden",animate:"show",exit:"exit",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[T.jsxs("div",{children:[T.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:["Welcome back, ",T.jsx("span",{className:"bg-gradient-to-r from-blue-700 to-teal-600 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:e.name}),"!"]}),T.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-1 transition-colors",children:["You're currently in ",T.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:e.grade}),". Let's make progress!"]})]}),T.jsxs(Rt.button,{id:"add-subject-btn",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-xl font-medium flex items-center justify-center gap-2 shadow-sm transition-colors",children:[T.jsx(Ju,{className:"w-5 h-5"}),"Add Subject"]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsxs(Rt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"md:col-span-1 bg-gradient-to-br from-blue-600 to-blue-700 dark:from-blue-700 dark:to-blue-800 rounded-2xl p-6 text-white text-center md:text-left relative overflow-hidden shadow-lg shadow-blue-500/20",children:[T.jsxs("div",{className:"relative z-10",children:[T.jsxs("h3",{className:"text-blue-100 font-medium mb-1 flex items-center justify-center md:justify-start gap-2",children:[T.jsx(f9,{className:"w-4 h-4"})," Overall Syllabus"]}),T.jsxs("div",{className:"text-4xl font-bold mb-2",children:[d,"%"]}),T.jsxs("p",{className:"text-blue-100 text-sm",children:["Completed across ",t.length," subjects"]})]}),T.jsx("div",{className:"absolute -right-6 -bottom-6 w-32 h-32 bg-white/10 rounded-full blur-2xl"})]}),T.jsx(Po,{title:"Chapters Completed",value:l,icon:Zf,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.1}),T.jsx(Po,{title:"Chapters Pending",value:a-l,icon:hy,colorClass:"text-violet-500",bgClass:"bg-violet-50 dark:bg-violet-900/20",delay:.2})]}),e.earnedBadges&&e.earnedBadges.length>0&&T.jsxs(Rt.div,{variants:fg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[T.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[T.jsx(Zf,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),T.jsx("div",{className:"flex flex-wrap gap-4",children:e.earnedBadges.map((m,p)=>T.jsx(uU,{type:m.type,dateEarned:m.earnedAt},`${m.type}-${p}`))})]}),T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",T.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:t.length})]}),t.length>0?T.jsxs(Rt.div,{variants:Vx,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map((m,p)=>T.jsx(Rt.div,{variants:fg,children:T.jsx(aU,{subject:m,index:p})},m.id)),T.jsxs(Rt.button,{variants:fg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>s(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[T.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:T.jsx(Ju,{className:"w-6 h-6"})}),T.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):T.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[T.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(hy,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),T.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),T.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),T.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&T.jsx(oU,{onClose:()=>s(!1)})]})}function hU({subjectId:e,onClose:t}){const{addChapter:n}=es(),[s,a]=N.useState(""),l=c=>{c.preventDefault(),s.trim()&&(n(e,s.trim()),a(""))};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[T.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[T.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[T.jsx(hy,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),T.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:T.jsx(J0,{className:"w-5 h-5"})})]}),T.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-center mb-1",children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),T.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),T.jsx("input",{autoFocus:!0,type:"text",value:s,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),T.jsxs("div",{className:"flex gap-3 pt-2",children:[T.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),T.jsxs("button",{type:"submit",disabled:!s.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[T.jsx(Ju,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const fU={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function Ad({children:e,className:t=""}){return T.jsx(Rt.div,{variants:fU,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:t,children:e})}const bR=N.createContext(void 0);function dU({children:e}){const[t,n]=N.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),s=N.useRef(null);N.useEffect(()=>{localStorage.setItem("sound-muted",String(t))},[t]);const a=()=>{s.current||(s.current=new(window.AudioContext||window.webkitAudioContext)),s.current.state==="suspended"&&s.current.resume()},l=p=>{if(t)return;s.current||(s.current=new(window.AudioContext||window.webkitAudioContext));const y=s.current,_=y.createOscillator(),E=y.createGain();_.connect(E),E.connect(y.destination);const S=y.currentTime;switch(p){case"pop":_.type="sine",_.frequency.setValueAtTime(800,S),_.frequency.exponentialRampToValueAtTime(1200,S+.1),E.gain.setValueAtTime(.1,S),E.gain.exponentialRampToValueAtTime(.01,S+.1),_.start(S),_.stop(S+.1);break;case"success":c(y,523.25,S,.1,"sine"),c(y,659.25,S+.1,.1,"sine"),c(y,783.99,S+.2,.2,"sine");break;case"complete":_.type="triangle",_.frequency.setValueAtTime(440,S),_.frequency.linearRampToValueAtTime(880,S+.5),E.gain.setValueAtTime(.1,S),E.gain.linearRampToValueAtTime(.3,S+.2),E.gain.linearRampToValueAtTime(0,S+1.5),_.start(S),_.stop(S+1.5);break;case"click":_.type="square",_.frequency.setValueAtTime(200,S),E.gain.setValueAtTime(.05,S),E.gain.exponentialRampToValueAtTime(.01,S+.05),_.start(S),_.stop(S+.05);break;case"error":_.type="sawtooth",_.frequency.setValueAtTime(150,S),_.frequency.linearRampToValueAtTime(100,S+.2),E.gain.setValueAtTime(.1,S),E.gain.linearRampToValueAtTime(0,S+.3),_.start(S),_.stop(S+.3);break}},c=(p,y,_,E,S="sine")=>{const D=p.createOscillator(),V=p.createGain();D.connect(V),V.connect(p.destination),D.type=S,D.frequency.setValueAtTime(y,_),V.gain.setValueAtTime(.1,_),V.gain.exponentialRampToValueAtTime(.01,_+E),D.start(_),D.stop(_+E)},d=p=>{s.current?.state==="suspended"&&s.current.resume().catch(()=>{}),l(p)},m=()=>{n(p=>!p),t&&a()};return T.jsx(bR.Provider,{value:{isMuted:t,toggleMute:m,playSound:d},children:e})}function Z0(){const e=N.useContext(bR);if(e===void 0)throw new Error("useSound must be used within a SoundProvider");return e}function mU({subjectId:e,chapterId:t,topic:n}){const{toggleTopic:s,deleteTopic:a}=es(),{playSound:l}=Z0();return T.jsxs(Rt.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[T.jsx(Rt.button,{whileTap:{scale:.8},onClick:()=>{s(e,t,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:T.jsx(pc,{className:"w-3 h-3"})}),T.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),T.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(e,t,n.id),className:"opacity-0 group-hover/topic:opacity-100 p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",children:T.jsx(Sd,{className:"w-3.5 h-3.5"})})]})}function TR({subjectId:e,chapter:t,isExpanded:n,onToggle:s}){const{deleteChapter:a,addTopic:l}=es(),[c,d]=N.useState(!1),m=p=>{p.preventDefault();const y=p.target.elements.namedItem("topicName");y.value.trim()&&(l(e,t.id,y.value.trim()),y.value="",d(!1))};return T.jsxs("div",{className:"group transition-colors",children:[T.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${t.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:s,children:[T.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:T.jsx(Rt.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:T.jsx(m9,{className:"w-5 h-5"})})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("span",{className:`block font-bold text-lg transition-all ${t.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:t.name}),T.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[T.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[t.topics?.filter(p=>p.isCompleted).length||0,"/",t.topics?.length||0," Topics",t.isCompleted&&T.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[T.jsx(pc,{className:"w-3 h-3"})," Done"]})]}),t.topics&&t.topics.length>0&&T.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:T.jsx(Rt.div,{initial:{width:0},animate:{width:`${Math.round(t.topics.filter(p=>p.isCompleted).length/t.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${t.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),T.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[T.jsx(Rt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),d(!0),n||s()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:T.jsx(Ju,{className:"w-4 h-4"})}),T.jsx(Rt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),confirm("Delete this chapter?")&&a(e,t.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:T.jsx(Sd,{className:"w-4 h-4"})})]})]}),T.jsx(Zy,{children:n&&T.jsx(Rt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:T.jsxs("div",{className:"pb-2",children:[t.topics&&t.topics.length>0?t.topics.map(p=>T.jsx(mU,{subjectId:e,chapterId:t.id,topic:p},p.id)):T.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&T.jsxs(Rt.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:m,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[T.jsx(E9,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),T.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>d(!1),200)}),T.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})})]})}function pU(){const{id:e}=YI(),t=ed(),{subjects:n,deleteSubject:s}=es(),[a,l]=N.useState(!1),[c,d]=N.useState({}),m=n.find(V=>V.id===e);if(!m)return T.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[T.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:T.jsx(Wi,{className:"w-8 h-8 text-slate-300"})}),T.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),T.jsx(an,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const p=()=>{confirm(`Are you sure you want to delete ${m.name}? ALL progress will be lost.`)&&(s(m.id),t("/"))},y=V=>{d(j=>({...j,[V]:!j[V]}))},_=m.chapters.length,E=m.chapters.filter(V=>V.isCompleted).length;let S=0;m.chapters.forEach(V=>{V.topics&&V.topics.length>0?S+=V.topics.filter(j=>j.isCompleted).length/V.topics.length*100:S+=V.isCompleted?100:0});const D=_===0?0:Math.round(S/_);return T.jsxs(Ad,{className:"max-w-3xl mx-auto pb-12",children:[T.jsxs("div",{className:"mb-8",children:[T.jsxs(an,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[T.jsx(n9,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),T.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[T.jsxs("div",{children:[T.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${m.color}`,children:[T.jsx(Wi,{className:"w-3 h-3"}),m.name]}),T.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:m.name}),T.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[E," of ",_," chapters completed"]})]}),T.jsx("button",{onClick:p,className:"self-start text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:T.jsx(Sd,{className:"w-5 h-5"})})]}),T.jsxs("div",{className:"mt-6",children:[T.jsxs("div",{className:"flex justify-between items-end mb-2",children:[T.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[D,"%"]}),T.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),T.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:T.jsx(Rt.div,{initial:{width:0},animate:{width:`${D}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${m.color}`})})]})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[T.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[T.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),T.jsxs(Rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[T.jsx(Ju,{className:"w-4 h-4"}),"Add Chapter"]})]}),T.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:m.chapters.length>0?m.chapters.map(V=>T.jsx(TR,{subjectId:m.id,chapter:V,isExpanded:!!c[V.id],onToggle:()=>y(V.id)},V.id)):T.jsxs("div",{className:"p-12 text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:T.jsx(Wi,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),T.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),T.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&T.jsx(hU,{subjectId:m.id,onClose:()=>l(!1)})]})}function gU(){const{user:e,logout:t}=fl(),{userProfile:n,updateProfile:s,resetData:a,exportData:l,importData:c}=es(),{isMuted:d,toggleMute:m}=Z0(),[p,y]=N.useState(""),[_,E]=N.useState("");N.useEffect(()=>{n&&(y(n.name||""),E(n.grade||""))},[n]);const S=()=>{s({name:p,grade:_}),alert("Profile updated successfully!")};return T.jsxs(Ad,{className:"max-w-xl mx-auto space-y-6",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[T.jsx(Rx,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),T.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"My Profile Settings"})]}),T.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6 space-y-4 transition-colors",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),T.jsx("input",{type:"text",value:p,onChange:D=>y(D.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),T.jsx("input",{type:"text",value:_,onChange:D=>E(D.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g. HSC 2026"})]}),T.jsx("div",{className:"pt-4",children:T.jsxs("button",{onClick:S,className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[T.jsx(W0,{className:"w-5 h-5"}),"Save Profile"]})})]}),T.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6 space-y-4 transition-colors",children:[T.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[T.jsx(Ix,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"}),"Data Management"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-xl border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-600 hover:border-slate-300 dark:hover:border-slate-500 transition-all",children:[T.jsx(Ix,{className:"w-4 h-4"}),"Export Backup"]}),T.jsxs("label",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-xl border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-600 hover:border-slate-300 dark:hover:border-slate-500 transition-all cursor-pointer",children:[T.jsx(Z9,{className:"w-4 h-4"}),"Import Backup",T.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:D=>{const V=D.target.files?.[0];if(V){const j=new FileReader;j.onload=F=>{const H=F.target?.result;c(H)&&alert("Data imported successfully!")},j.readAsText(V)}}})]})]})]}),T.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-6 mt-8 space-y-4 transition-colors",children:[T.jsxs("h3",{className:"text-slate-800 dark:text-white font-semibold mb-2 flex items-center gap-2 transition-colors",children:[T.jsx(Rx,{className:"w-5 h-5"}),"Account"]}),T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e?.photoURL?T.jsx("img",{src:e.photoURL,alt:e.displayName||"User",className:"w-12 h-12 rounded-full"}):T.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center text-blue-600 dark:text-blue-400 font-bold text-xl",children:e?.displayName?e.displayName[0]:e?.email?e.email[0].toUpperCase():"U"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium text-slate-900 dark:text-white transition-colors",children:e?.displayName||"User"}),T.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 transition-colors",children:e?.email})]})]}),T.jsxs("button",{onClick:t,className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-100 dark:hover:bg-slate-600 hover:text-slate-900 dark:hover:text-white transition-colors text-sm flex items-center justify-center gap-2",children:[T.jsx(yR,{className:"w-4 h-4"}),"Sign Out"]})]}),T.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-red-50 dark:bg-red-900/10 rounded-2xl border border-red-100 dark:border-red-900/30 p-6 transition-colors",children:[T.jsxs("h3",{className:"text-red-700 dark:text-red-400 font-semibold mb-2 flex items-center gap-2 transition-colors",children:[T.jsx(Sd,{className:"w-5 h-5"}),"Danger Zone"]}),T.jsx("p",{className:"text-red-600/80 dark:text-red-400/80 text-sm mb-4 transition-colors",children:"This will permanently delete all your subjects, chapters, and progress data. This action cannot be undone."}),T.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-300 transition-colors text-sm",children:"Reset All Data"})]}),T.jsx(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-6 transition-colors",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`p-2 rounded-lg ${d?"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:d?T.jsx(_R,{className:"w-6 h-6"}):T.jsx(vR,{className:"w-6 h-6"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-slate-800 dark:text-white font-semibold transition-colors",children:"Sound Effects"}),T.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 transition-colors",children:"Play sounds for actions and timer."})]})]}),T.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${d?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:T.jsx("span",{className:`${d?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]})})]})}function yU(e){let t=0,n=0,s=0,a=0;return e.forEach(l=>{t+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(s+=c.topics.length,c.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:t,completedChapters:n,totalTopics:s,completedTopics:a}}function vU(e){const t=new Date,s=Array.from({length:7},(l,c)=>{const d=new Date;return d.setDate(t.getDate()-(6-c)),d.toISOString().split("T")[0]}).map(l=>{let c=0;return e.forEach(d=>{d.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...s.map(l=>l.count),1);return{activityData:s,maxCount:a}}function _U(e){const t=new Set;e.forEach(d=>d.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&t.add(p.completedAt.split("T")[0])})));const n=Array.from(t).sort((d,m)=>new Date(m).getTime()-new Date(d).getTime());let s=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===c){s=1;let m=new Date(d);for(let p=1;p<n.length;p++){const y=new Date(n[p]),_=Math.abs(m.getTime()-y.getTime());if(Math.round(_/(1e3*60*60*24))===1)s++,m=y;else break}}}return s}function bU(){const{subjects:e}=es(),{totalChapters:t,completedChapters:n,totalTopics:s,completedTopics:a}=yU(e),{activityData:l,maxCount:c}=vU(e),d=_U(e),m=s>0?Math.round(a/s*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return T.jsxs(Ad,{className:"max-w-4xl mx-auto pb-12",children:[T.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[T.jsx(my,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),T.jsxs(Rt.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[T.jsx("div",{className:"sm:col-span-1",children:T.jsx(Po,{title:"Total Streak",value:`${d} days`,icon:gR,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),T.jsx("div",{className:"sm:col-span-1",children:T.jsx(Po,{title:"Topics Done",value:`${a} / ${s}`,icon:Wi,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),T.jsx("div",{className:"sm:col-span-1",children:T.jsx(Po,{title:"Chapters Done",value:`${n} / ${t}`,icon:Zf,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),T.jsx("div",{className:"sm:col-span-1",children:T.jsx(Po,{title:"Completion",value:`${m}%`,icon:pc,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[T.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[T.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[T.jsx(c9,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),T.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((y,_)=>T.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[T.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:T.jsx(Rt.div,{initial:{height:0},animate:{height:`${y.count/c*100}%`},transition:{duration:1,delay:_*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:T.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[y.count," Topics"]})})}),T.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(y.date).toLocaleDateString("en-US",{weekday:"short"})})]},y.date))})]}),T.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[T.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[T.jsx(Wi,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),T.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[e.map(y=>{const _=y.chapters.reduce((D,V)=>D+(V.topics?.length||0),0),E=y.chapters.reduce((D,V)=>D+(V.topics?.filter(j=>j.isCompleted).length||0),0),S=_>0?Math.round(E/_*100):0;return T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-center mb-1",children:[T.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:y.name}),T.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[S,"%"]})]}),T.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:T.jsx(Rt.div,{initial:{width:0},animate:{width:`${S}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${y.color}`})})]},y.id)}),e.length===0&&T.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function TU(){const{subjects:e}=es(),[t,n]=N.useState(""),[s,a]=N.useState("all"),[l,c]=N.useState("all"),[d,m]=N.useState({}),p=e.flatMap(E=>E.chapters.map(S=>({...S,subjectName:E.name,subjectColor:E.color,subjectId:E.id}))),y=p.filter(E=>{const S=E.name.toLowerCase().includes(t.toLowerCase())||E.subjectName.toLowerCase().includes(t.toLowerCase()),D=s==="all"||E.subjectId===s,V=l==="all"||(l==="completed"?E.isCompleted:!E.isCompleted);return S&&D&&V}),_=E=>{m(S=>({...S,[E]:!S[E]}))};return T.jsxs(Ad,{className:"max-w-4xl mx-auto pb-12",children:[T.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[T.jsx(Wi,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"All Chapters Tracker"]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-8 transition-colors",children:[T.jsxs("div",{className:"flex justify-between items-end mb-2",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Overall Progress"}),T.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm transition-colors",children:[p.filter(E=>E.isCompleted).length," of ",p.length," chapters completed"]})]}),T.jsxs("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 transition-colors",children:[p.length>0?Math.round(p.filter(E=>E.isCompleted).length/p.length*100):0,"%"]})]}),T.jsx("div",{className:"h-4 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:T.jsx(Rt.div,{initial:{width:0},animate:{width:`${p.length>0?Math.round(p.filter(E=>E.isCompleted).length/p.length*100):0}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-600 dark:bg-blue-500"})})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-6 flex flex-col md:flex-row gap-4 transition-colors",children:[T.jsxs("div",{className:"relative flex-1",children:[T.jsx(H9,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),T.jsx("input",{type:"text",placeholder:"Search chapters or subjects...",value:t,onChange:E=>n(E.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-colors"})]}),T.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[T.jsxs("select",{value:s,onChange:E=>a(E.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[T.jsx("option",{value:"all",children:"All Subjects"}),e.map(E=>T.jsx("option",{value:E.id,children:E.name},E.id))]}),T.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[T.jsx("option",{value:"all",children:"All Status"}),T.jsx("option",{value:"completed",children:"Completed"}),T.jsx("option",{value:"pending",children:"Pending"})]})]})]}),T.jsx("div",{className:"space-y-4",children:y.length>0?y.map(E=>T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[T.jsx("div",{className:"bg-slate-50/50 dark:bg-slate-700/30 px-4 py-1 text-xs font-semibold text-slate-500 dark:text-slate-400 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between transition-colors",children:T.jsx("span",{className:E.subjectColor,children:E.subjectName})}),T.jsx(TR,{subjectId:E.subjectId,chapter:E,isExpanded:!!d[E.id],onToggle:()=>_(E.id)})]},E.id)):T.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:T.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No chapters found matching your filters."})})})]})}const dg=1500;function EU(){const{saveStudySession:e,subjects:t}=es(),{user:n}=fl(),[s,a]=N.useState("stopwatch"),[l,c]=N.useState(!1),[d,m]=N.useState(0),[p,y]=N.useState(0),[_,E]=N.useState(30),[S,D]=N.useState(""),[V,j]=N.useState(!1),[F,H]=N.useState([]),[Y,J]=N.useState(!0),X=N.useRef(null),{playSound:ot,isMuted:R,toggleMute:A}=Z0();N.useEffect(()=>(l?X.current=window.setInterval(()=>{m(rt=>s==="stopwatch"?rt+1:rt<=1?(c(!1),ot("complete"),0):rt-1)},1e3):X.current&&clearInterval(X.current),()=>{X.current&&clearInterval(X.current)}),[l,s,ot]),N.useEffect(()=>{if(c(!1),j(!1),s==="stopwatch")m(0),y(0);else if(s==="pomodoro")m(dg),y(dg);else if(s==="countdown"){const rt=_*60;m(rt),y(rt)}},[s,_]),N.useEffect(()=>{(async()=>{if(n)try{const yt=JC(xf,"users"),Ct=LL(yt,UL("userProfile.totalStudyTime","desc"),zL(10)),L=await FL(Ct),nt=[];L.forEach(ct=>{const ht=ct.data();ht.userProfile&&nt.push({userId:ct.id,userName:ht.userProfile.name,totalStudyTime:ht.userProfile.totalStudyTime||0})}),H(nt)}catch(yt){console.error("Error fetching leaderboard:",yt)}finally{J(!1)}})()},[n,V]);const I=()=>{c(!l),j(!1)},O=()=>{c(!1),j(!1),s==="stopwatch"?m(0):s==="pomodoro"?m(dg):s==="countdown"&&m(_*60)},P=async()=>{let rt=0;if(s==="stopwatch"?rt=d:rt=p-d,rt<60){alert("Session must be at least 1 minute to save.");return}await e(rt,S||void 0),j(!0),s==="stopwatch"&&m(0),alert("Session saved successfully!")},z=rt=>{const yt=Math.floor(rt/3600),Ct=Math.floor(rt%3600/60),L=rt%60;return`${yt.toString().padStart(2,"0")}:${Ct.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`},k=rt=>{const yt=Math.floor(rt/3600),Ct=Math.floor(rt%3600/60);return yt>0?`${yt}h ${Ct}m`:`${Ct}m`},$t=s==="stopwatch"?100:(p-d)/p*100,Zt=120,Z=2*Math.PI*Zt,lt=Z-$t/100*Z;return T.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[T.jsxs("header",{className:"flex items-center justify-between mb-8",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Study Timer"}),T.jsx("p",{className:"text-slate-500 dark:text-slate-400 transition-colors",children:"Focus, track, and compete."})]}),T.jsx("button",{onClick:A,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:R?T.jsx(_R,{className:"w-6 h-6"}):T.jsx(vR,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsxs("div",{className:"flex flex-col space-y-6",children:[T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex transition-colors",children:[T.jsxs("button",{onClick:()=>a("stopwatch"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="stopwatch"?"bg-blue-600 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[T.jsx(dy,{className:"w-4 h-4"}),"Stopwatch"]}),T.jsxs("button",{onClick:()=>a("pomodoro"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="pomodoro"?"bg-rose-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[T.jsx(K9,{className:"w-4 h-4"}),"Pomodoro"]}),T.jsxs("button",{onClick:()=>a("countdown"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="countdown"?"bg-amber-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[T.jsx(sU,{className:"w-4 h-4"}),"Countdown"]})]}),T.jsxs(Rt.div,{layout:!0,className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center text-center relative overflow-hidden transition-colors",children:[T.jsx("div",{className:"w-full absolute top-6 left-0 px-8 z-10",children:T.jsxs("select",{className:"w-full p-2 bg-transparent text-center font-medium text-slate-600 dark:text-slate-300 border-none focus:ring-0 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors",value:S,onChange:rt=>D(rt.target.value),disabled:l,children:[T.jsx("option",{value:"",className:"dark:bg-slate-800",children:"Select Subject (Optional)"}),t.map(rt=>T.jsx("option",{value:rt.id,className:"dark:bg-slate-800",children:rt.name},rt.id))]})}),T.jsxs("div",{className:"relative mt-12 mb-8",children:[T.jsxs("svg",{className:"w-full max-w-[18rem] aspect-square transform -rotate-90",viewBox:"0 0 288 288",children:[T.jsx("circle",{cx:"144",cy:"144",r:Zt,strokeWidth:"12",fill:"transparent",className:"stroke-slate-100 dark:stroke-slate-700 transition-colors"}),T.jsx("circle",{cx:"144",cy:"144",r:Zt,stroke:s==="pomodoro"?"#f43f5e":"#3b82f6",strokeWidth:"12",fill:"transparent",strokeDasharray:Z,strokeDashoffset:s==="stopwatch"?0:lt,strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]}),T.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-20",children:[T.jsx("div",{className:`text-6xl font-mono font-bold tracking-wider ${l?s==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:z(d)}),T.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium mt-2 capitalize",children:s})]})]}),s==="countdown"&&!l&&d===0&&T.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[T.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Minutes:"}),T.jsx("input",{type:"number",min:"1",max:"180",value:_,onChange:rt=>E(Number(rt.target.value)),className:"w-20 p-2 border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white rounded-lg text-center"})]}),T.jsxs("div",{className:"flex items-center gap-4 z-10",children:[T.jsx("button",{onClick:I,className:`p-4 rounded-full transition-all shadow-lg transform active:scale-95 ${l?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?T.jsx(O9,{className:"w-8 h-8 font-fill"}):T.jsx(j9,{className:"w-8 h-8 pl-1"})}),(d>0||s!=="stopwatch"&&d!==p)&&T.jsx("button",{onClick:O,className:"p-4 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-95",children:T.jsx(z9,{className:"w-6 h-6"})})]}),!l&&(s==="stopwatch"&&d>0||s!=="stopwatch"&&d!==p)&&!V&&T.jsxs(Rt.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:P,className:"absolute bottom-6 flex items-center gap-2 px-6 py-2 bg-emerald-500 text-white rounded-full hover:bg-emerald-600 transition-colors shadow-md",children:[T.jsx(W0,{className:"w-4 h-4"}),"Save Session"]})]})]}),T.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 h-fit transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:[T.jsx(Zf,{className:"w-6 h-6 text-yellow-500"}),T.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]}),Y?T.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading rankings..."}):T.jsxs("div",{className:"space-y-4",children:[F.map((rt,yt)=>T.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${rt.userId===n?.uid?"bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:`
                                            w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm
                                            ${yt===0?"bg-yellow-100 text-yellow-700":yt===1?"bg-slate-200 text-slate-700":yt===2?"bg-orange-100 text-orange-700":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}
                                        `,children:yt+1}),T.jsx("div",{children:T.jsxs("p",{className:`font-medium ${rt.userId===n?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-slate-200"}`,children:[rt.userName," ",rt.userId===n?.uid&&"(You)"]})})]}),T.jsxs("div",{className:"flex items-center gap-1 text-slate-500 dark:text-slate-400 text-sm font-medium",children:[T.jsx(w9,{className:"w-4 h-4"}),k(rt.totalStudyTime)]})]},rt.userId)),F.length===0&&T.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 dark:bg-slate-700 rounded-xl",children:"No records yet. Be the first!"})]})]})]})]})}const ER=N.createContext(void 0);function xU({children:e}){const[t,n]=N.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");N.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(t),localStorage.setItem("theme",t)},[t]);const s=()=>{n(a=>a==="light"?"dark":"light")};return T.jsx(ER.Provider,{value:{theme:t,toggleTheme:s},children:e})}function wU(){const e=N.useContext(ER);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function SU({steps:e,onComplete:t,onSkip:n}){const[s,a]=N.useState(0),[l,c]=N.useState(null),d=e[s];N.useEffect(()=>{if(d.targetId){const y=document.getElementById(d.targetId);y?(c(y.getBoundingClientRect()),y.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[s,d]);const m=()=>{s<e.length-1?a(y=>y+1):t()},p=()=>{s>0&&a(y=>y-1)};return T.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-auto"}),l&&T.jsx(Rt.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),T.jsx(Zy,{mode:"wait",children:T.jsxs(Rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&d.position!=="center"?{top:d.position==="bottom"?l.bottom+20:d.position==="top"?l.top-200:void 0,left:d.position==="right"?l.right+20:d.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(d.position==="bottom",0)}:{},children:[T.jsxs("div",{className:"flex justify-between items-start mb-2",children:[T.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",s+1," of ",e.length]}),T.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:T.jsx(J0,{className:"w-4 h-4"})})]}),T.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:d.title}),T.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:d.description}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("button",{onClick:p,disabled:s===0,className:`flex items-center gap-1 text-sm font-medium ${s===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[T.jsx(g9,{className:"w-4 h-4"})," Back"]}),T.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[s===e.length-1?"Finish":"Next",s<e.length-1&&T.jsx(v9,{className:"w-4 h-4"})]})]})]},s)})]})}const AU=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function CU(){const{logout:e}=fl(),{theme:t,toggleTheme:n}=wU(),s=Ms(),a=KI(),[l,c]=N.useState(!1);N.useEffect(()=>{localStorage.getItem("tracked_tour_completed")||setTimeout(()=>c(!0),1e3)},[]);const d=()=>{c(!1),localStorage.setItem("tracked_tour_completed","true")},m=p=>s.pathname===p;return T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[l&&T.jsx(SU,{steps:AU,onComplete:d,onSkip:d}),T.jsxs("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg",children:T.jsx(Wi,{className:"w-5 h-5 text-white"})}),T.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent",children:"TrackEd"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors","aria-label":"Toggle Theme",children:t==="light"?T.jsx(fy,{className:"w-5 h-5"}):T.jsx(kx,{className:"w-5 h-5"})}),T.jsx(an,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:T.jsx(hg,{className:"w-5 h-5"})})]})]}),T.jsxs("div",{className:"md:flex max-w-5xl mx-auto",children:[T.jsxs("aside",{className:"hidden md:flex flex-col w-64 h-screen sticky top-0 p-6 border-r border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 transition-colors duration-300",children:[T.jsxs("div",{className:"flex items-center justify-between mb-10",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:T.jsx(Wi,{className:"w-6 h-6 text-white"})}),T.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"TrackEd"})]}),T.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors","aria-label":"Toggle Theme",children:t==="light"?T.jsx(fy,{className:"w-5 h-5"}):T.jsx(kx,{className:"w-5 h-5"})})]}),T.jsxs("nav",{className:"space-y-2 flex-1",children:[T.jsxs(an,{to:"/",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[T.jsx(Nx,{className:"w-5 h-5"}),"Dashboard"]}),T.jsxs(an,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/analytics")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[T.jsx(my,{className:"w-5 h-5"}),"Analytics"]}),T.jsxs(an,{to:"/chapters",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/chapters")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[T.jsx(Dx,{className:"w-5 h-5"}),"Chapters"]}),T.jsxs(an,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s.pathname==="/timer"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-white"}`,children:[T.jsx(dy,{className:"w-5 h-5"}),"Timer"]}),T.jsxs(an,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/settings")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[T.jsx(hg,{className:"w-5 h-5"}),"Settings"]})]}),T.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-700",children:[T.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-400 transition-colors w-full text-left mb-4",children:[T.jsx(yR,{className:"w-5 h-5"}),"Sign Out"]}),T.jsxs("div",{className:"text-xs text-slate-400 dark:text-slate-500",children:[T.jsx("p",{children:"Empowering Students"}),T.jsx("p",{className:"mt-1",children:" 2026 TrackEd"})]})]})]}),T.jsx("main",{className:"flex-1 p-4 md:p-8",children:T.jsx(Zy,{mode:"wait",children:a&&N.cloneElement(a,{key:s.pathname})})})]}),T.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[T.jsxs(an,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${m("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[T.jsx(Nx,{className:"w-6 h-6"}),T.jsx("span",{children:"Home"})]}),T.jsxs(an,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${m("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[T.jsx(my,{className:"w-6 h-6"}),T.jsx("span",{children:"Stats"})]}),T.jsxs(an,{to:"/chapters",className:`flex flex-col items-center gap-1 text-xs ${m("/chapters")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[T.jsx(Dx,{className:"w-6 h-6"}),T.jsx("span",{children:"Chapters"})]}),T.jsxs(an,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${m("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[T.jsx(dy,{className:"w-6 h-6"}),T.jsx("span",{children:"Timer"})]}),T.jsxs(an,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${m("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[T.jsx(hg,{className:"w-6 h-6"}),T.jsx("span",{children:"Settings"})]})]})]})}function RU(){const{signInWithGoogle:e,user:t}=fl(),n=ed();return Px.useEffect(()=>{t&&n("/")},[t,n]),T.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[T.jsxs("div",{className:"absolute inset-0 z-0",children:[T.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),T.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),T.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),T.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[T.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[T.jsx("div",{className:"flex justify-center mb-8",children:T.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:T.jsx(I9,{className:"w-10 h-10 text-white"})})}),T.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",T.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),T.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),T.jsxs(Rt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[T.jsx("div",{className:"bg-white p-1 rounded-full",children:T.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),T.jsx("span",{children:"Sign in with Google"}),T.jsx(pR,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),T.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),T.jsx("div",{className:"mt-8 text-center",children:T.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}function IU({children:e}){const{user:t,loading:n}=fl();return n?T.jsx("div",{children:"Loading..."}):t?T.jsx(T.Fragment,{children:e}):T.jsx(lN,{to:"/login"})}function NU(){return T.jsx(VN,{basename:"/Study-Mate/",children:T.jsxs(cN,{children:[T.jsx(Ts,{path:"/login",element:T.jsx(RU,{})}),T.jsxs(Ts,{path:"/",element:T.jsx(IU,{children:T.jsx(CU,{})}),children:[T.jsx(Ts,{index:!0,element:T.jsx(cU,{})}),T.jsx(Ts,{path:"subject/:id",element:T.jsx(pU,{})}),T.jsx(Ts,{path:"analytics",element:T.jsx(bU,{})}),T.jsx(Ts,{path:"chapters",element:T.jsx(TU,{})}),T.jsx(Ts,{path:"timer",element:T.jsx(EU,{})}),T.jsx(Ts,{path:"settings",element:T.jsx(gU,{})})]})]})})}class DU extends N.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:T.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[T.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),T.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),T.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),T.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");uI.createRoot(document.getElementById("root")).render(T.jsx(Px.StrictMode,{children:T.jsx(DU,{children:T.jsx(YL,{children:T.jsx(QL,{children:T.jsx(xU,{children:T.jsx(dU,{children:T.jsx(NU,{})})})})})})}));
