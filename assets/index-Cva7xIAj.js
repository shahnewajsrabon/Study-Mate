(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function NS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wp={exports:{}},yu={};var pE;function G2(){if(pE)return yu;pE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return yu.Fragment=t,yu.jsx=n,yu.jsxs=n,yu}var gE;function K2(){return gE||(gE=1,wp.exports=G2()),wp.exports}var S=K2(),Ap={exports:{}},xt={};var yE;function $2(){if(yE)return xt;yE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function C(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,L={};function F(j,nt,ct){this.props=j,this.context=nt,this.refs=L,this.updater=ct||N}F.prototype.isReactComponent={},F.prototype.setState=function(j,nt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,nt,"setState")},F.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function H(){}H.prototype=F.prototype;function $(j,nt,ct){this.props=j,this.context=nt,this.refs=L,this.updater=ct||N}var W=$.prototype=new H;W.constructor=$,P(W,F.prototype),W.isPureReactComponent=!0;var J=Array.isArray;function at(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(j,nt,ct){var ht=ct.ref;return{$$typeof:e,type:j,key:nt,ref:ht!==void 0?ht:null,props:ct}}function O(j,nt){return I(j.type,nt,j.props)}function k(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function z(j){var nt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ct){return nt[ct]})}var M=/\/+/g;function Qt(j,nt){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):nt.toString(36)}function ue(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(at,at):(j.status="pending",j.then(function(nt){j.status==="pending"&&(j.status="fulfilled",j.value=nt)},function(nt){j.status==="pending"&&(j.status="rejected",j.reason=nt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Z(j,nt,ct,ht,bt){var Nt=typeof j;(Nt==="undefined"||Nt==="boolean")&&(j=null);var Ft=!1;if(j===null)Ft=!0;else switch(Nt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(j.$$typeof){case e:case t:Ft=!0;break;case y:return Ft=j._init,Z(Ft(j._payload),nt,ct,ht,bt)}}if(Ft)return bt=bt(j),Ft=ht===""?"."+Qt(j,0):ht,J(bt)?(ct="",Ft!=null&&(ct=Ft.replace(M,"$&/")+"/"),Z(bt,nt,ct,"",function(Lr){return Lr})):bt!=null&&(k(bt)&&(bt=O(bt,ct+(bt.key==null||j&&j.key===bt.key?"":(""+bt.key).replace(M,"$&/")+"/")+Ft)),nt.push(bt)),1;Ft=0;var je=ht===""?".":ht+":";if(J(j))for(var ce=0;ce<j.length;ce++)ht=j[ce],Nt=je+Qt(ht,ce),Ft+=Z(ht,nt,ct,Nt,bt);else if(ce=C(j),typeof ce=="function")for(j=ce.call(j),ce=0;!(ht=j.next()).done;)ht=ht.value,Nt=je+Qt(ht,ce++),Ft+=Z(ht,nt,ct,Nt,bt);else if(Nt==="object"){if(typeof j.then=="function")return Z(ue(j),nt,ct,ht,bt);throw nt=String(j),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function ot(j,nt,ct){if(j==null)return j;var ht=[],bt=0;return Z(j,ht,"","",function(Nt){return nt.call(ct,Nt,bt++)}),ht}function dt(j){if(j._status===-1){var nt=j._result;nt=nt(),nt.then(function(ct){(j._status===0||j._status===-1)&&(j._status=1,j._result=ct)},function(ct){(j._status===0||j._status===-1)&&(j._status=2,j._result=ct)}),j._status===-1&&(j._status=0,j._result=nt)}if(j._status===1)return j._result.default;throw j._result}var lt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},vt={map:ot,forEach:function(j,nt,ct){ot(j,function(){nt.apply(this,arguments)},ct)},count:function(j){var nt=0;return ot(j,function(){nt++}),nt},toArray:function(j){return ot(j,function(nt){return nt})||[]},only:function(j){if(!k(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return xt.Activity=_,xt.Children=vt,xt.Component=F,xt.Fragment=n,xt.Profiler=a,xt.PureComponent=$,xt.StrictMode=s,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,xt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},xt.cache=function(j){return function(){return j.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(j,nt,ct){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ht=P({},j.props),bt=j.key;if(nt!=null)for(Nt in nt.key!==void 0&&(bt=""+nt.key),nt)!A.call(nt,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&nt.ref===void 0||(ht[Nt]=nt[Nt]);var Nt=arguments.length-2;if(Nt===1)ht.children=ct;else if(1<Nt){for(var Ft=Array(Nt),je=0;je<Nt;je++)Ft[je]=arguments[je+2];ht.children=Ft}return I(j.type,bt,ht)},xt.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},xt.createElement=function(j,nt,ct){var ht,bt={},Nt=null;if(nt!=null)for(ht in nt.key!==void 0&&(Nt=""+nt.key),nt)A.call(nt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(bt[ht]=nt[ht]);var Ft=arguments.length-2;if(Ft===1)bt.children=ct;else if(1<Ft){for(var je=Array(Ft),ce=0;ce<Ft;ce++)je[ce]=arguments[ce+2];bt.children=je}if(j&&j.defaultProps)for(ht in Ft=j.defaultProps,Ft)bt[ht]===void 0&&(bt[ht]=Ft[ht]);return I(j,Nt,bt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(j){return{$$typeof:d,render:j}},xt.isValidElement=k,xt.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:dt}},xt.memo=function(j,nt){return{$$typeof:p,type:j,compare:nt===void 0?null:nt}},xt.startTransition=function(j){var nt=R.T,ct={};R.T=ct;try{var ht=j(),bt=R.S;bt!==null&&bt(ct,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(at,lt)}catch(Nt){lt(Nt)}finally{nt!==null&&ct.types!==null&&(nt.types=ct.types),R.T=nt}},xt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},xt.use=function(j){return R.H.use(j)},xt.useActionState=function(j,nt,ct){return R.H.useActionState(j,nt,ct)},xt.useCallback=function(j,nt){return R.H.useCallback(j,nt)},xt.useContext=function(j){return R.H.useContext(j)},xt.useDebugValue=function(){},xt.useDeferredValue=function(j,nt){return R.H.useDeferredValue(j,nt)},xt.useEffect=function(j,nt){return R.H.useEffect(j,nt)},xt.useEffectEvent=function(j){return R.H.useEffectEvent(j)},xt.useId=function(){return R.H.useId()},xt.useImperativeHandle=function(j,nt,ct){return R.H.useImperativeHandle(j,nt,ct)},xt.useInsertionEffect=function(j,nt){return R.H.useInsertionEffect(j,nt)},xt.useLayoutEffect=function(j,nt){return R.H.useLayoutEffect(j,nt)},xt.useMemo=function(j,nt){return R.H.useMemo(j,nt)},xt.useOptimistic=function(j,nt){return R.H.useOptimistic(j,nt)},xt.useReducer=function(j,nt,ct){return R.H.useReducer(j,nt,ct)},xt.useRef=function(j){return R.H.useRef(j)},xt.useState=function(j){return R.H.useState(j)},xt.useSyncExternalStore=function(j,nt,ct){return R.H.useSyncExternalStore(j,nt,ct)},xt.useTransition=function(){return R.H.useTransition()},xt.version="19.2.4",xt}var vE;function fy(){return vE||(vE=1,Ap.exports=$2()),Ap.exports}var D=fy();const DS=NS(D);var xp={exports:{}},vu={},Cp={exports:{}},Rp={};var _E;function Y2(){return _E||(_E=1,(function(e){function t(Z,ot){var dt=Z.length;Z.push(ot);t:for(;0<dt;){var lt=dt-1>>>1,vt=Z[lt];if(0<a(vt,ot))Z[lt]=ot,Z[dt]=vt,dt=lt;else break t}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ot=Z[0],dt=Z.pop();if(dt!==ot){Z[0]=dt;t:for(var lt=0,vt=Z.length,j=vt>>>1;lt<j;){var nt=2*(lt+1)-1,ct=Z[nt],ht=nt+1,bt=Z[ht];if(0>a(ct,dt))ht<vt&&0>a(bt,ct)?(Z[lt]=bt,Z[ht]=dt,lt=ht):(Z[lt]=ct,Z[nt]=dt,lt=nt);else if(ht<vt&&0>a(bt,dt))Z[lt]=bt,Z[ht]=dt,lt=ht;else break t}}return ot}function a(Z,ot){var dt=Z.sortIndex-ot.sortIndex;return dt!==0?dt:Z.id-ot.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,E=3,C=!1,N=!1,P=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function W(Z){for(var ot=n(p);ot!==null;){if(ot.callback===null)s(p);else if(ot.startTime<=Z)s(p),ot.sortIndex=ot.expirationTime,t(m,ot);else break;ot=n(p)}}function J(Z){if(P=!1,W(Z),!N)if(n(m)!==null)N=!0,at||(at=!0,z());else{var ot=n(p);ot!==null&&ue(J,ot.startTime-Z)}}var at=!1,R=-1,A=5,I=-1;function O(){return L?!0:!(e.unstable_now()-I<A)}function k(){if(L=!1,at){var Z=e.unstable_now();I=Z;var ot=!0;try{t:{N=!1,P&&(P=!1,H(R),R=-1),C=!0;var dt=E;try{e:{for(W(Z),_=n(m);_!==null&&!(_.expirationTime>Z&&O());){var lt=_.callback;if(typeof lt=="function"){_.callback=null,E=_.priorityLevel;var vt=lt(_.expirationTime<=Z);if(Z=e.unstable_now(),typeof vt=="function"){_.callback=vt,W(Z),ot=!0;break e}_===n(m)&&s(m),W(Z)}else s(m);_=n(m)}if(_!==null)ot=!0;else{var j=n(p);j!==null&&ue(J,j.startTime-Z),ot=!1}}break t}finally{_=null,E=dt,C=!1}ot=void 0}}finally{ot?z():at=!1}}}var z;if(typeof $=="function")z=function(){$(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Qt=M.port2;M.port1.onmessage=k,z=function(){Qt.postMessage(null)}}else z=function(){F(k,0)};function ue(Z,ot){R=F(function(){Z(e.unstable_now())},ot)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var ot=3;break;default:ot=E}var dt=E;E=ot;try{return Z()}finally{E=dt}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function(Z,ot){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var dt=E;E=Z;try{return ot()}finally{E=dt}},e.unstable_scheduleCallback=function(Z,ot,dt){var lt=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?lt+dt:lt):dt=lt,Z){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=dt+vt,Z={id:y++,callback:ot,priorityLevel:Z,startTime:dt,expirationTime:vt,sortIndex:-1},dt>lt?(Z.sortIndex=dt,t(p,Z),n(m)===null&&Z===n(p)&&(P?(H(R),R=-1):P=!0,ue(J,dt-lt))):(Z.sortIndex=vt,t(m,Z),N||C||(N=!0,at||(at=!0,z()))),Z},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(Z){var ot=E;return function(){var dt=E;E=ot;try{return Z.apply(this,arguments)}finally{E=dt}}}})(Rp)),Rp}var TE;function Q2(){return TE||(TE=1,Cp.exports=Y2()),Cp.exports}var Ip={exports:{}},sn={};var EE;function X2(){if(EE)return sn;EE=1;var e=fy();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},sn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},sn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},sn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},sn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},sn.requestFormReset=function(m){s.d.r(m)},sn.unstable_batchedUpdates=function(m,p){return m(p)},sn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var bE;function W2(){if(bE)return Ip.exports;bE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ip.exports=X2(),Ip.exports}var SE;function J2(){if(SE)return vu;SE=1;var e=Q2(),t=fy(),n=W2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),i;if(g===u)return m(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var T=!1,w=f.child;w;){if(w===o){T=!0,o=f,u=g;break}if(w===u){T=!0,u=f,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,u=f;break}if(w===u){T=!0,u=g,o=f;break}w=w.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),$=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Qt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case F:return"Profiler";case L:return"StrictMode";case J:return"Suspense";case at:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case $:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case W:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:Qt(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Qt(i(r))}catch{}}return null}var ue=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},lt=[],vt=-1;function j(i){return{current:i}}function nt(i){0>vt||(i.current=lt[vt],lt[vt]=null,vt--)}function ct(i,r){vt++,lt[vt]=i.current,i.current=r}var ht=j(null),bt=j(null),Nt=j(null),Ft=j(null);function je(i,r){switch(ct(Nt,r),ct(bt,i),ct(ht,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?jT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=jT(r),i=UT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ht),ct(ht,i)}function ce(){nt(ht),nt(bt),nt(Nt)}function Lr(i){i.memoizedState!==null&&ct(Ft,i);var r=ht.current,o=UT(r,i.type);r!==o&&(ct(bt,i),ct(ht,o))}function Pa(i){bt.current===i&&(nt(ht),nt(bt)),Ft.current===i&&(nt(Ft),du._currentValue=dt)}var ka,La;function Ei(i){if(ka===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ka=r&&r[1]||"",La=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+i+La}var dl=!1;function jr(i,r){if(!i||dl)return"";dl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var Y=X}Reflect.construct(i,[],it)}else{try{it.call()}catch(X){Y=X}i.call(it.prototype)}}else{try{throw Error()}catch(X){Y=X}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var V=T.split(`
`),K=w.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===K.length)for(u=V.length-1,f=K.length-1;1<=u&&0<=f&&V[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==K[f]){var tt=`
`+V[u].replace(" at new "," at ");return i.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",i.displayName)),tt}while(1<=u&&0<=f);break}}}finally{dl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ei(o):""}function ml(i,r){switch(i.tag){case 26:case 27:case 5:return Ei(i.type);case 16:return Ei("Lazy");case 13:return i.child!==r&&r!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return jr(i.type,!1);case 11:return jr(i.type.render,!1);case 1:return jr(i.type,!0);case 31:return Ei("Activity");default:return""}}function pl(i){try{var r="",o=null;do r+=ml(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var we=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,ks=e.unstable_cancelCallback,xd=e.unstable_shouldYield,pc=e.unstable_requestPaint,hn=e.unstable_now,Ur=e.unstable_getCurrentPriorityLevel,gl=e.unstable_ImmediatePriority,yl=e.unstable_UserBlockingPriority,Ls=e.unstable_NormalPriority,Cd=e.unstable_LowPriority,gc=e.unstable_IdlePriority,yc=e.log,vc=e.unstable_setDisableYieldValue,Zn=null,$e=null;function Pn(i){if(typeof yc=="function"&&vc(i),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Zn,i)}catch{}}var _e=Math.clz32?Math.clz32:Tc,_c=Math.log,ja=Math.LN2;function Tc(i){return i>>>=0,i===0?32:31-(_c(i)/ja|0)|0}var bi=256,zr=262144,Ae=4194304;function Si(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=Si(u):(T&=w,T!==0?f=Si(T):o||(o=w&~i,o!==0&&(f=Si(o))))):(w=u&~g,w!==0?f=Si(w):T!==0?f=Si(T):o||(o=u&~i,o!==0&&(f=Si(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function ti(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Rd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ec(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function Ai(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Br(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Id(i,r,o,u,f,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,V=i.expirationTimes,K=i.hiddenUpdates;for(o=T&~o;0<o;){var tt=31-_e(o),it=1<<tt;w[tt]=0,V[tt]=-1;var Y=K[tt];if(Y!==null)for(K[tt]=null,tt=0;tt<Y.length;tt++){var X=Y[tt];X!==null&&(X.lane&=-536870913)}o&=~it}u!==0&&Fr(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function Fr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-_e(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function vl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-_e(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function _l(i,r){var o=r&-r;return o=(o&42)!==0?1:Hr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Hr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ns(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function bc(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:lE(i.type))}function ei(i,r){var o=ot.p;try{return ot.p=i,r()}finally{ot.p=o}}var ni=Math.random().toString(36).slice(2),xe="__reactFiber$"+ni,He="__reactProps$"+ni,xi="__reactContainer$"+ni,Ua="__reactEvents$"+ni,Nd="__reactListeners$"+ni,Sc="__reactHandles$"+ni,wc="__reactResources$"+ni,Ci="__reactMarker$"+ni;function za(i){delete i[xe],delete i[He],delete i[Ua],delete i[Nd],delete i[Sc]}function Ri(i){var r=i[xe];if(r)return r;for(var o=i.parentNode;o;){if(r=o[xi]||o[xe]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=KT(i);i!==null;){if(o=i[xe])return o;i=KT(i)}return r}i=o,o=i.parentNode}return null}function kn(i){if(i=i[xe]||i[xi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function An(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ii(i){var r=i[wc];return r||(r=i[wc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ce(i){i[Ci]=!0}var Tl=new Set,El={};function Ni(i,r){Di(i,r),Di(i+"Capture",r)}function Di(i,r){for(El[i]=r,i=0;i<r.length;i++)Tl.add(r[i])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},wl={};function Ac(i){return we.call(wl,i)?!0:we.call(Sl,i)?!1:bl.test(i)?wl[i]=!0:(Sl[i]=!0,!1)}function Ba(i,r,o){if(Ac(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function xn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Re(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function js(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Al(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xt(i){if(!i._valueTracker){var r=js(i)?"checked":"value";i._valueTracker=Al(i,r,""+i[r])}}function qr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=js(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Mi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Gr=/[\n"\\]/g;function yn(i){return i.replace(Gr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fa(i,r,o,u,f,g,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qe(r)):i.value!==""+qe(r)&&(i.value=""+qe(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?xl(i,T,qe(r)):o!=null?xl(i,T,qe(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+qe(w):i.removeAttribute("name")}function xc(i,r,o,u,f,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Xt(i);return}o=o!=null?""+qe(o):"",r=r!=null?""+qe(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Xt(i)}function xl(i,r,o){r==="number"&&Mi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Us(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+qe(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Cc(i,r,o){if(r!=null&&(r=""+qe(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+qe(o):""}function zs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ue(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=qe(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Xt(i)}function vn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Rc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Rl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Cl(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Cl(i,g,r[g])}function Ha(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(i){return Bs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ii(){}var Il=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fs=null,Vi=null;function Kr(i){var r=kn(i);if(r&&(i=r.stateNode)){var o=i[He]||null;t:switch(i=r.stateNode,r.type){case"input":if(Fa(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[He]||null;if(!f)throw Error(s(90));Fa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&qr(u)}break t;case"textarea":Cc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Us(i,!!o.multiple,r,!1)}}}var Ga=!1;function Hs(i,r,o){if(Ga)return i(r,o);Ga=!0;try{var u=i(r);return u}finally{if(Ga=!1,(Fs!==null||Vi!==null)&&(bh(),Fs&&(r=Fs,i=Vi,Vi=Fs=null,Kr(r),i)))for(r=0;r<i.length;r++)Kr(i[r])}}function si(i,r){var o=i.stateNode;if(o===null)return null;var u=o[He]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(jn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){$r=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{$r=!1}var Oi=null,Nl=null,Yr=null;function Dl(){if(Yr)return Yr;var i,r=Nl,o=r.length,u,f="value"in Oi?Oi.value:Oi.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===f[g-u];u++);return Yr=f.slice(i,1<u?1-u:void 0)}function Qr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function is(){return!0}function ri(){return!1}function Ye(i){function r(o,u,f,g,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?is:ri,this.isPropagationStopped=ri,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),r}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Ye(ss),qs=_({},ss,{view:0,detail:0}),Ml=Ye(qs),Gs,Ka,ki,$a=_({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ki&&(ki&&i.type==="mousemove"?(Gs=i.screenX-ki.screenX,Ka=i.screenY-ki.screenY):Ka=Gs=0,ki=i),Gs)},movementY:function(i){return"movementY"in i?i.movementY:Ka}}),Vl=Ye($a),Xr=_({},$a,{dataTransfer:0}),Nc=Ye(Xr),Dc=_({},qs,{relatedTarget:0}),Wr=Ye(Dc),Ol=_({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=Ye(Ol),Ya=_({},ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Vc=Ye(Ya),Oc=_({},ss,{data:0}),Li=Ye(Oc),Pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Lc[i])?!!r[i]:!1}function Ks(){return jc}var fn=_({},qs,{key:function(i){if(i.key){var r=Pc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Qr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(i){return i.type==="keypress"?Qr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Uc=Ye(fn),zc=_({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=Ye(zc),h=_({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),v=Ye(h),b=_({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Ye(b),q=_({},$a,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ye(q),ut=_({},ss,{newState:0,oldState:0}),Rt=Ye(ut),Te=[9,13,27,32],Kt=jn&&"CompositionEvent"in window,he=null;jn&&"documentMode"in document&&(he=document.documentMode);var Un=jn&&"TextEvent"in window&&!he,ji=jn&&(!Kt||he&&8<he&&11>=he),ai=" ",oi=!1;function Jr(i,r){switch(i){case"keyup":return Te.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xa=!1;function pR(i,r){switch(i){case"compositionend":return Qa(r);case"keypress":return r.which!==32?null:(oi=!0,ai);case"textInput":return i=r.data,i===ai&&oi?null:i;default:return null}}function gR(i,r){if(Xa)return i==="compositionend"||!Kt&&Jr(i,r)?(i=Dl(),Yr=Nl=Oi=null,Xa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ji&&r.locale!=="ko"?null:r.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!yR[i.type]:r==="textarea"}function X0(i,r,o,u){Fs?Vi?Vi.push(u):Vi=[u]:Fs=u,r=Ih(r,"onChange"),0<r.length&&(o=new Pi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Pl=null,kl=null;function vR(i){MT(i,0)}function Bc(i){var r=An(i);if(qr(r))return i}function W0(i,r){if(i==="change")return r}var J0=!1;if(jn){var Dd;if(jn){var Md="oninput"in document;if(!Md){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),Md=typeof Z0.oninput=="function"}Dd=Md}else Dd=!1;J0=Dd&&(!document.documentMode||9<document.documentMode)}function tv(){Pl&&(Pl.detachEvent("onpropertychange",ev),kl=Pl=null)}function ev(i){if(i.propertyName==="value"&&Bc(kl)){var r=[];X0(r,kl,i,Ln(i)),Hs(vR,r)}}function _R(i,r,o){i==="focusin"?(tv(),Pl=r,kl=o,Pl.attachEvent("onpropertychange",ev)):i==="focusout"&&tv()}function TR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bc(kl)}function ER(i,r){if(i==="click")return Bc(r)}function bR(i,r){if(i==="input"||i==="change")return Bc(r)}function SR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Cn=typeof Object.is=="function"?Object.is:SR;function Ll(i,r){if(Cn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!we.call(r,f)||!Cn(i[f],r[f]))return!1}return!0}function nv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iv(i,r){var o=nv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=nv(o)}}function sv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?sv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function rv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Mi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Mi(i.document)}return r}function Vd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var wR=jn&&"documentMode"in document&&11>=document.documentMode,Wa=null,Od=null,jl=null,Pd=!1;function av(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pd||Wa==null||Wa!==Mi(u)||(u=Wa,"selectionStart"in u&&Vd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Ll(jl,u)||(jl=u,u=Ih(Od,"onSelect"),0<u.length&&(r=new Pi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Wa)))}function Zr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ja={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},kd={},ov={};jn&&(ov=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ta(i){if(kd[i])return kd[i];if(!Ja[i])return i;var r=Ja[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in ov)return kd[i]=r[o];return i}var lv=ta("animationend"),uv=ta("animationiteration"),cv=ta("animationstart"),AR=ta("transitionrun"),xR=ta("transitionstart"),CR=ta("transitioncancel"),hv=ta("transitionend"),fv=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ld.push("scrollEnd");function li(i,r){fv.set(i,r),Ni(r,[i])}var Fc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},zn=[],Za=0,jd=0;function Hc(){for(var i=Za,r=jd=Za=0;r<i;){var o=zn[r];zn[r++]=null;var u=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var g=zn[r];if(zn[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}g!==0&&dv(o,f,g)}}function qc(i,r,o,u){zn[Za++]=i,zn[Za++]=r,zn[Za++]=o,zn[Za++]=u,jd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ud(i,r,o,u){return qc(i,r,o,u),Gc(i)}function ea(i,r){return qc(i,null,null,r),Gc(i)}function dv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-_e(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function Gc(i){if(50<au)throw au=0,Ym=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var to={};function RR(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,r,o,u){return new RR(i,r,o,u)}function zd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,r){var o=i.alternate;return o===null?(o=Rn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function mv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Kc(i,r,o,u,f,g){var T=0;if(u=i,typeof i=="function")zd(i)&&(T=1);else if(typeof i=="string")T=V2(i,o,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Rn(31,o,r,f),i.elementType=I,i.lanes=g,i;case P:return na(o.children,f,g,r);case L:T=8,f|=24;break;case F:return i=Rn(12,o,r,f|2),i.elementType=F,i.lanes=g,i;case J:return i=Rn(13,o,r,f),i.elementType=J,i.lanes=g,i;case at:return i=Rn(19,o,r,f),i.elementType=at,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:T=10;break t;case H:T=9;break t;case W:T=11;break t;case R:T=14;break t;case A:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Rn(T,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function na(i,r,o,u){return i=Rn(7,i,u,r),i.lanes=o,i}function Bd(i,r,o){return i=Rn(6,i,null,r),i.lanes=o,i}function pv(i){var r=Rn(18,null,null,0);return r.stateNode=i,r}function Fd(i,r,o){return r=Rn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var gv=new WeakMap;function Bn(i,r){if(typeof i=="object"&&i!==null){var o=gv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:pl(r)},gv.set(i,r),r)}return{value:i,source:r,stack:pl(r)}}var eo=[],no=0,$c=null,Ul=0,Fn=[],Hn=0,$s=null,Ui=1,zi="";function os(i,r){eo[no++]=Ul,eo[no++]=$c,$c=i,Ul=r}function yv(i,r,o){Fn[Hn++]=Ui,Fn[Hn++]=zi,Fn[Hn++]=$s,$s=i;var u=Ui;i=zi;var f=32-_e(u)-1;u&=~(1<<f),o+=1;var g=32-_e(r)+f;if(30<g){var T=f-f%5;g=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Ui=1<<32-_e(r)+f|o<<f|u,zi=g+i}else Ui=1<<g|o<<f|u,zi=i}function Hd(i){i.return!==null&&(os(i,1),yv(i,1,0))}function qd(i){for(;i===$c;)$c=eo[--no],eo[no]=null,Ul=eo[--no],eo[no]=null;for(;i===$s;)$s=Fn[--Hn],Fn[Hn]=null,zi=Fn[--Hn],Fn[Hn]=null,Ui=Fn[--Hn],Fn[Hn]=null}function vv(i,r){Fn[Hn++]=Ui,Fn[Hn++]=zi,Fn[Hn++]=$s,Ui=r.id,zi=r.overflow,$s=i}var Qe=null,ae=null,zt=!1,Ys=null,qn=!1,Gd=Error(s(519));function Qs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(Bn(r,i)),Gd}function _v(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[xe]=i,r[He]=u,o){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(o=0;o<lu.length;o++)Vt(lu[o],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Vt("invalid",r),xc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Vt("invalid",r);break;case"textarea":Vt("invalid",r),zs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||kT(r.textContent,o)?(u.popover!=null&&(Vt("beforetoggle",r),Vt("toggle",r)),u.onScroll!=null&&Vt("scroll",r),u.onScrollEnd!=null&&Vt("scrollend",r),u.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||Qs(i,!0)}function Tv(i){for(Qe=i.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Qe=Qe.return}}function io(i){if(i!==Qe)return!1;if(!zt)return Tv(i),zt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||up(i.type,i.memoizedProps)),o=!o),o&&ae&&Qs(i),Tv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=GT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=GT(i)}else r===27?(r=ae,ur(i.type)?(i=mp,mp=null,ae=i):ae=r):ae=Qe?Kn(i.stateNode.nextSibling):null;return!0}function ia(){ae=Qe=null,zt=!1}function Kd(){var i=Ys;return i!==null&&(bn===null?bn=i:bn.push.apply(bn,i),Ys=null),i}function zl(i){Ys===null?Ys=[i]:Ys.push(i)}var $d=j(null),sa=null,ls=null;function Xs(i,r,o){ct($d,r._currentValue),r._currentValue=o}function us(i){i._currentValue=$d.current,nt($d)}function Yd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Qd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=f;for(var V=0;V<r.length;V++)if(w.context===r[V]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Yd(g.return,o,i),u||(T=null);break t}g=w.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Yd(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function so(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=f.type;Cn(f.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(f===Ft.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(du):i=[du])}f=f.return}i!==null&&Qd(r,i,o,u),r.flags|=262144}function Yc(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ra(i){sa=i,ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xe(i){return Ev(sa,i)}function Qc(i,r){return sa===null&&ra(i),Ev(i,r)}function Ev(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ls===null){if(i===null)throw Error(s(308));ls=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ls=ls.next=r;return o}var IR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},NR=e.unstable_scheduleCallback,DR=e.unstable_NormalPriority,Ie={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new IR,data:new Map,refCount:0}}function Bl(i){i.refCount--,i.refCount===0&&NR(DR,function(){i.controller.abort()})}var Fl=null,Wd=0,ro=0,ao=null;function MR(i,r){if(Fl===null){var o=Fl=[];Wd=0,ro=tp(),ao={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Wd++,r.then(bv,bv),r}function bv(){if(--Wd===0&&Fl!==null){ao!==null&&(ao.status="fulfilled");var i=Fl;Fl=null,ro=0,ao=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function VR(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Sv=Z.S;Z.S=function(i,r){aT=hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&MR(i,r),Sv!==null&&Sv(i,r)};var aa=j(null);function Jd(){var i=aa.current;return i!==null?i:ie.pooledCache}function Xc(i,r){r===null?ct(aa,aa.current):ct(aa,r.pool)}function wv(){var i=Jd();return i===null?null:{parent:Ie._currentValue,pool:i}}var oo=Error(s(460)),Zd=Error(s(474)),Wc=Error(s(542)),Jc={then:function(){}};function Av(i){return i=i.status,i==="fulfilled"||i==="rejected"}function xv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ii,ii),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Rv(i),i;default:if(typeof r.status=="string")r.then(ii,ii);else{if(i=ie,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Rv(i),i}throw la=r,oo}}function oa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(la=o,oo):o}}var la=null;function Cv(){if(la===null)throw Error(s(459));var i=la;return la=null,i}function Rv(i){if(i===oo||i===Wc)throw Error(s(483))}var lo=null,Hl=0;function Zc(i){var r=Hl;return Hl+=1,lo===null&&(lo=[]),xv(lo,i,r)}function ql(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function th(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Iv(i){function r(B,U){if(i){var G=B.deletions;G===null?(B.deletions=[U],B.flags|=16):G.push(U)}}function o(B,U){if(!i)return null;for(;U!==null;)r(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function f(B,U){return B=as(B,U),B.index=0,B.sibling=null,B}function g(B,U,G){return B.index=G,i?(G=B.alternate,G!==null?(G=G.index,G<U?(B.flags|=67108866,U):G):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function T(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function w(B,U,G,et){return U===null||U.tag!==6?(U=Bd(G,B.mode,et),U.return=B,U):(U=f(U,G),U.return=B,U)}function V(B,U,G,et){var _t=G.type;return _t===P?tt(B,U,G.props.children,et,G.key):U!==null&&(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&oa(_t)===U.type)?(U=f(U,G.props),ql(U,G),U.return=B,U):(U=Kc(G.type,G.key,G.props,null,B.mode,et),ql(U,G),U.return=B,U)}function K(B,U,G,et){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Fd(G,B.mode,et),U.return=B,U):(U=f(U,G.children||[]),U.return=B,U)}function tt(B,U,G,et,_t){return U===null||U.tag!==7?(U=na(G,B.mode,et,_t),U.return=B,U):(U=f(U,G),U.return=B,U)}function it(B,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Bd(""+U,B.mode,G),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return G=Kc(U.type,U.key,U.props,null,B.mode,G),ql(G,U),G.return=B,G;case N:return U=Fd(U,B.mode,G),U.return=B,U;case A:return U=oa(U),it(B,U,G)}if(ue(U)||z(U))return U=na(U,B.mode,G,null),U.return=B,U;if(typeof U.then=="function")return it(B,Zc(U),G);if(U.$$typeof===$)return it(B,Qc(B,U),G);th(B,U)}return null}function Y(B,U,G,et){var _t=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _t!==null?null:w(B,U,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return G.key===_t?V(B,U,G,et):null;case N:return G.key===_t?K(B,U,G,et):null;case A:return G=oa(G),Y(B,U,G,et)}if(ue(G)||z(G))return _t!==null?null:tt(B,U,G,et,null);if(typeof G.then=="function")return Y(B,U,Zc(G),et);if(G.$$typeof===$)return Y(B,U,Qc(B,G),et);th(B,G)}return null}function X(B,U,G,et,_t){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(G)||null,w(U,B,""+et,_t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case C:return B=B.get(et.key===null?G:et.key)||null,V(U,B,et,_t);case N:return B=B.get(et.key===null?G:et.key)||null,K(U,B,et,_t);case A:return et=oa(et),X(B,U,G,et,_t)}if(ue(et)||z(et))return B=B.get(G)||null,tt(U,B,et,_t,null);if(typeof et.then=="function")return X(B,U,G,Zc(et),_t);if(et.$$typeof===$)return X(B,U,G,Qc(U,et),_t);th(U,et)}return null}function pt(B,U,G,et){for(var _t=null,qt=null,yt=U,Dt=U=0,kt=null;yt!==null&&Dt<G.length;Dt++){yt.index>Dt?(kt=yt,yt=null):kt=yt.sibling;var Gt=Y(B,yt,G[Dt],et);if(Gt===null){yt===null&&(yt=kt);break}i&&yt&&Gt.alternate===null&&r(B,yt),U=g(Gt,U,Dt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt,yt=kt}if(Dt===G.length)return o(B,yt),zt&&os(B,Dt),_t;if(yt===null){for(;Dt<G.length;Dt++)yt=it(B,G[Dt],et),yt!==null&&(U=g(yt,U,Dt),qt===null?_t=yt:qt.sibling=yt,qt=yt);return zt&&os(B,Dt),_t}for(yt=u(yt);Dt<G.length;Dt++)kt=X(yt,B,Dt,G[Dt],et),kt!==null&&(i&&kt.alternate!==null&&yt.delete(kt.key===null?Dt:kt.key),U=g(kt,U,Dt),qt===null?_t=kt:qt.sibling=kt,qt=kt);return i&&yt.forEach(function(mr){return r(B,mr)}),zt&&os(B,Dt),_t}function Et(B,U,G,et){if(G==null)throw Error(s(151));for(var _t=null,qt=null,yt=U,Dt=U=0,kt=null,Gt=G.next();yt!==null&&!Gt.done;Dt++,Gt=G.next()){yt.index>Dt?(kt=yt,yt=null):kt=yt.sibling;var mr=Y(B,yt,Gt.value,et);if(mr===null){yt===null&&(yt=kt);break}i&&yt&&mr.alternate===null&&r(B,yt),U=g(mr,U,Dt),qt===null?_t=mr:qt.sibling=mr,qt=mr,yt=kt}if(Gt.done)return o(B,yt),zt&&os(B,Dt),_t;if(yt===null){for(;!Gt.done;Dt++,Gt=G.next())Gt=it(B,Gt.value,et),Gt!==null&&(U=g(Gt,U,Dt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return zt&&os(B,Dt),_t}for(yt=u(yt);!Gt.done;Dt++,Gt=G.next())Gt=X(yt,B,Dt,Gt.value,et),Gt!==null&&(i&&Gt.alternate!==null&&yt.delete(Gt.key===null?Dt:Gt.key),U=g(Gt,U,Dt),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return i&&yt.forEach(function(q2){return r(B,q2)}),zt&&os(B,Dt),_t}function ne(B,U,G,et){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case C:t:{for(var _t=G.key;U!==null;){if(U.key===_t){if(_t=G.type,_t===P){if(U.tag===7){o(B,U.sibling),et=f(U,G.props.children),et.return=B,B=et;break t}}else if(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&oa(_t)===U.type){o(B,U.sibling),et=f(U,G.props),ql(et,G),et.return=B,B=et;break t}o(B,U);break}else r(B,U);U=U.sibling}G.type===P?(et=na(G.props.children,B.mode,et,G.key),et.return=B,B=et):(et=Kc(G.type,G.key,G.props,null,B.mode,et),ql(et,G),et.return=B,B=et)}return T(B);case N:t:{for(_t=G.key;U!==null;){if(U.key===_t)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){o(B,U.sibling),et=f(U,G.children||[]),et.return=B,B=et;break t}else{o(B,U);break}else r(B,U);U=U.sibling}et=Fd(G,B.mode,et),et.return=B,B=et}return T(B);case A:return G=oa(G),ne(B,U,G,et)}if(ue(G))return pt(B,U,G,et);if(z(G)){if(_t=z(G),typeof _t!="function")throw Error(s(150));return G=_t.call(G),Et(B,U,G,et)}if(typeof G.then=="function")return ne(B,U,Zc(G),et);if(G.$$typeof===$)return ne(B,U,Qc(B,G),et);th(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(o(B,U.sibling),et=f(U,G),et.return=B,B=et):(o(B,U),et=Bd(G,B.mode,et),et.return=B,B=et),T(B)):o(B,U)}return function(B,U,G,et){try{Hl=0;var _t=ne(B,U,G,et);return lo=null,_t}catch(yt){if(yt===oo||yt===Wc)throw yt;var qt=Rn(29,yt,null,B.mode);return qt.lanes=et,qt.return=B,qt}}}var ua=Iv(!0),Nv=Iv(!1),Ws=!1;function tm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function em(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Gc(i),dv(i,null,o),r}return qc(i,u,r,o),Gc(i)}function Gl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,vl(i,o)}}function nm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var im=!1;function Kl(){if(im){var i=ao;if(i!==null)throw i}}function $l(i,r,o,u){im=!1;var f=i.updateQueue;Ws=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var V=w,K=V.next;V.next=null,T===null?g=K:T.next=K,T=V;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,w=tt.lastBaseUpdate,w!==T&&(w===null?tt.firstBaseUpdate=K:w.next=K,tt.lastBaseUpdate=V))}if(g!==null){var it=f.baseState;T=0,tt=K=V=null,w=g;do{var Y=w.lane&-536870913,X=Y!==w.lane;if(X?(Pt&Y)===Y:(u&Y)===Y){Y!==0&&Y===ro&&(im=!0),tt!==null&&(tt=tt.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var pt=i,Et=w;Y=r;var ne=o;switch(Et.tag){case 1:if(pt=Et.payload,typeof pt=="function"){it=pt.call(ne,it,Y);break t}it=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Et.payload,Y=typeof pt=="function"?pt.call(ne,it,Y):pt,Y==null)break t;it=_({},it,Y);break t;case 2:Ws=!0}}Y=w.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},tt===null?(K=tt=X,V=it):tt=tt.next=X,T|=Y;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);tt===null&&(V=it),f.baseState=V,f.firstBaseUpdate=K,f.lastBaseUpdate=tt,g===null&&(f.shared.lanes=0),sr|=T,i.lanes=T,i.memoizedState=it}}function Dv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Mv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Dv(o[i],r)}var uo=j(null),eh=j(0);function Vv(i,r){i=vs,ct(eh,i),ct(uo,r),vs=i|r.baseLanes}function sm(){ct(eh,vs),ct(uo,uo.current)}function rm(){vs=eh.current,nt(uo),nt(eh)}var In=j(null),Gn=null;function tr(i){var r=i.alternate;ct(Ee,Ee.current&1),ct(In,i),Gn===null&&(r===null||uo.current!==null||r.memoizedState!==null)&&(Gn=i)}function am(i){ct(Ee,Ee.current),ct(In,i),Gn===null&&(Gn=i)}function Ov(i){i.tag===22?(ct(Ee,Ee.current),ct(In,i),Gn===null&&(Gn=i)):er()}function er(){ct(Ee,Ee.current),ct(In,In.current)}function Nn(i){nt(In),Gn===i&&(Gn=null),nt(Ee)}var Ee=j(0);function nh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||fp(o)||dp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cs=0,It=null,te=null,Ne=null,ih=!1,co=!1,ca=!1,sh=0,Yl=0,ho=null,OR=0;function ge(){throw Error(s(321))}function om(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Cn(i[o],r[o]))return!1;return!0}function lm(i,r,o,u,f,g){return cs=g,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?y_:Sm,ca=!1,g=o(u,f),ca=!1,co&&(g=kv(r,o,u,f)),Pv(i),g}function Pv(i){Z.H=Wl;var r=te!==null&&te.next!==null;if(cs=0,Ne=te=It=null,ih=!1,Yl=0,ho=null,r)throw Error(s(300));i===null||De||(i=i.dependencies,i!==null&&Yc(i)&&(De=!0))}function kv(i,r,o,u){It=i;var f=0;do{if(co&&(ho=null),Yl=0,co=!1,25<=f)throw Error(s(301));if(f+=1,Ne=te=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=v_,g=r(o,u)}while(co);return g}function PR(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?Ql(r):r,i=i.useState()[0],(te!==null?te.memoizedState:null)!==i&&(It.flags|=1024),r}function um(){var i=sh!==0;return sh=0,i}function cm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function hm(i){if(ih){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ih=!1}cs=0,Ne=te=It=null,co=!1,Yl=sh=0,ho=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?It.memoizedState=Ne=i:Ne=Ne.next=i,Ne}function be(){if(te===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=te.next;var r=Ne===null?It.memoizedState:Ne.next;if(r!==null)Ne=r,te=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));te=i,i={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ne===null?It.memoizedState=Ne=i:Ne=Ne.next=i}return Ne}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(i){var r=Yl;return Yl+=1,ho===null&&(ho=[]),i=xv(ho,i,r),r=It,(Ne===null?r.memoizedState:Ne.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?y_:Sm),i}function ah(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ql(i);if(i.$$typeof===$)return Xe(i)}throw Error(s(438,String(i)))}function fm(i){var r=null,o=It.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=rh(),It.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=O;return r.index++,o}function hs(i,r){return typeof r=="function"?r(i):r}function oh(i){var r=be();return dm(r,te,i)}function dm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var w=T=null,V=null,K=r,tt=!1;do{var it=K.lane&-536870913;if(it!==K.lane?(Pt&it)===it:(cs&it)===it){var Y=K.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),it===ro&&(tt=!0);else if((cs&Y)===Y){K=K.next,Y===ro&&(tt=!0);continue}else it={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=it,T=g):V=V.next=it,It.lanes|=Y,sr|=Y;it=K.action,ca&&o(g,it),g=K.hasEagerState?K.eagerState:o(g,it)}else Y={lane:it,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=Y,T=g):V=V.next=Y,It.lanes|=it,sr|=it;K=K.next}while(K!==null&&K!==r);if(V===null?T=g:V.next=w,!Cn(g,i.memoizedState)&&(De=!0,tt&&(o=ao,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=V,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function mm(i){var r=be(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do g=i(g,T.action),T=T.next;while(T!==f);Cn(g,r.memoizedState)||(De=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Lv(i,r,o){var u=It,f=be(),g=zt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Cn((te||f).memoizedState,o);if(T&&(f.memoizedState=o,De=!0),f=f.queue,ym(zv.bind(null,u,f,i),[i]),f.getSnapshot!==r||T||Ne!==null&&Ne.memoizedState.tag&1){if(u.flags|=2048,fo(9,{destroy:void 0},Uv.bind(null,u,f,o,r),null),ie===null)throw Error(s(349));g||(cs&127)!==0||jv(u,r,o)}return o}function jv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=It.updateQueue,r===null?(r=rh(),It.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Uv(i,r,o,u){r.value=o,r.getSnapshot=u,Bv(r)&&Fv(i)}function zv(i,r,o){return o(function(){Bv(r)&&Fv(i)})}function Bv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Cn(i,o)}catch{return!0}}function Fv(i){var r=ea(i,2);r!==null&&Sn(r,i,2)}function pm(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),ca){Pn(!0);try{o()}finally{Pn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:i},r}function Hv(i,r,o,u){return i.baseState=o,dm(i,te,typeof u=="function"?u:hs)}function kR(i,r,o,u,f){if(ch(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,qv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function qv(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=Z.T,T={};Z.T=T;try{var w=o(f,u),V=Z.S;V!==null&&V(T,w),Gv(i,r,w)}catch(K){gm(i,r,K)}finally{g!==null&&T.types!==null&&(g.types=T.types),Z.T=g}}else try{g=o(f,u),Gv(i,r,g)}catch(K){gm(i,r,K)}}function Gv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Kv(i,r,u)},function(u){return gm(i,r,u)}):Kv(i,r,o)}function Kv(i,r,o){r.status="fulfilled",r.value=o,$v(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,qv(i,o)))}function gm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,$v(r),r=r.next;while(r!==u)}i.action=null}function $v(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Yv(i,r){return r}function Qv(i,r){if(zt){var o=ie.formState;if(o!==null){t:{var u=It;if(zt){if(ae){e:{for(var f=ae,g=qn;f.nodeType!==8;){if(!g){f=null;break e}if(f=Kn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ae=Kn(f.nextSibling),u=f.data==="F!";break t}}Qs(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yv,lastRenderedState:r},o.queue=u,o=m_.bind(null,It,u),u.dispatch=o,u=pm(!1),g=bm.bind(null,It,!1,u.queue),u=dn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=kR.bind(null,It,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function Xv(i){var r=be();return Wv(r,te,i)}function Wv(i,r,o){if(r=dm(i,r,Yv)[0],i=oh(hs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ql(r)}catch(T){throw T===oo?Wc:T}else u=r;r=be();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(It.flags|=2048,fo(9,{destroy:void 0},LR.bind(null,f,o),null)),[u,g,i]}function LR(i,r){i.action=r}function Jv(i){var r=be(),o=te;if(o!==null)return Wv(r,o,i);be(),r=r.memoizedState,o=be();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function fo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=It.updateQueue,r===null&&(r=rh(),It.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Zv(){return be().memoizedState}function lh(i,r,o,u){var f=dn();It.flags|=i,f.memoizedState=fo(1|r,{destroy:void 0},o,u===void 0?null:u)}function uh(i,r,o,u){var f=be();u=u===void 0?null:u;var g=f.memoizedState.inst;te!==null&&u!==null&&om(u,te.memoizedState.deps)?f.memoizedState=fo(r,g,o,u):(It.flags|=i,f.memoizedState=fo(1|r,g,o,u))}function t_(i,r){lh(8390656,8,i,r)}function ym(i,r){uh(2048,8,i,r)}function jR(i){It.flags|=4;var r=It.updateQueue;if(r===null)r=rh(),It.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function e_(i){var r=be().memoizedState;return jR({ref:r,nextImpl:i}),function(){if(($t&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function n_(i,r){return uh(4,2,i,r)}function i_(i,r){return uh(4,4,i,r)}function s_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function r_(i,r,o){o=o!=null?o.concat([i]):null,uh(4,4,s_.bind(null,r,i),o)}function vm(){}function a_(i,r){var o=be();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&om(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function o_(i,r){var o=be();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&om(r,u[1]))return u[0];if(u=i(),ca){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[u,r],u}function _m(i,r,o){return o===void 0||(cs&1073741824)!==0&&(Pt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=lT(),It.lanes|=i,sr|=i,o)}function l_(i,r,o,u){return Cn(o,r)?o:uo.current!==null?(i=_m(i,o,u),Cn(i,r)||(De=!0),i):(cs&42)===0||(cs&1073741824)!==0&&(Pt&261930)===0?(De=!0,i.memoizedState=o):(i=lT(),It.lanes|=i,sr|=i,r)}function u_(i,r,o,u,f){var g=ot.p;ot.p=g!==0&&8>g?g:8;var T=Z.T,w={};Z.T=w,bm(i,!1,r,o);try{var V=f(),K=Z.S;if(K!==null&&K(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var tt=VR(V,u);Xl(i,r,tt,Vn(i))}else Xl(i,r,u,Vn(i))}catch(it){Xl(i,r,{then:function(){},status:"rejected",reason:it},Vn())}finally{ot.p=g,T!==null&&w.types!==null&&(T.types=w.types),Z.T=T}}function UR(){}function Tm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=c_(i).queue;u_(i,f,r,dt,o===null?UR:function(){return h_(i),o(u)})}function c_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function h_(i){var r=c_(i);r.next===null&&(r=i.alternate.memoizedState),Xl(i,r.next.queue,{},Vn())}function Em(){return Xe(du)}function f_(){return be().memoizedState}function d_(){return be().memoizedState}function zR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Vn();i=Js(o);var u=Zs(r,i,o);u!==null&&(Sn(u,r,o),Gl(u,r,o)),r={cache:Xd()},i.payload=r;return}r=r.return}}function BR(i,r,o){var u=Vn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ch(i)?p_(r,o):(o=Ud(i,r,o,u),o!==null&&(Sn(o,i,u),g_(o,r,u)))}function m_(i,r,o){var u=Vn();Xl(i,r,o,u)}function Xl(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ch(i))p_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,w=g(T,o);if(f.hasEagerState=!0,f.eagerState=w,Cn(w,T))return qc(i,r,f,0),ie===null&&Hc(),!1}catch{}if(o=Ud(i,r,f,u),o!==null)return Sn(o,i,u),g_(o,r,u),!0}return!1}function bm(i,r,o,u){if(u={lane:2,revertLane:tp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ch(i)){if(r)throw Error(s(479))}else r=Ud(i,o,u,2),r!==null&&Sn(r,i,2)}function ch(i){var r=i.alternate;return i===It||r!==null&&r===It}function p_(i,r){co=ih=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function g_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,vl(i,o)}}var Wl={readContext:Xe,use:ah,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};Wl.useEffectEvent=ge;var y_={readContext:Xe,use:ah,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Xe,useEffect:t_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,lh(4194308,4,s_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return lh(4194308,4,i,r)},useInsertionEffect:function(i,r){lh(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(ca){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var f=o(r);if(ca){Pn(!0);try{o(r)}finally{Pn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=BR.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=pm(i);var r=i.queue,o=m_.bind(null,It,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:vm,useDeferredValue:function(i,r){var o=dn();return _m(o,i,r)},useTransition:function(){var i=pm(!1);return i=u_.bind(null,It,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=It,f=dn();if(zt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ie===null)throw Error(s(349));(Pt&127)!==0||jv(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,t_(zv.bind(null,u,g,i),[i]),u.flags|=2048,fo(9,{destroy:void 0},Uv.bind(null,u,g,o,r),null),o},useId:function(){var i=dn(),r=ie.identifierPrefix;if(zt){var o=zi,u=Ui;o=(u&~(1<<32-_e(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=sh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=OR++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Em,useFormState:Qv,useActionState:Qv,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=bm.bind(null,It,!0,o),o.dispatch=r,[i,r]},useMemoCache:fm,useCacheRefresh:function(){return dn().memoizedState=zR.bind(null,It)},useEffectEvent:function(i){var r=dn(),o={impl:i};return r.memoizedState=o,function(){if(($t&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Sm={readContext:Xe,use:ah,useCallback:a_,useContext:Xe,useEffect:ym,useImperativeHandle:r_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:oh,useRef:Zv,useState:function(){return oh(hs)},useDebugValue:vm,useDeferredValue:function(i,r){var o=be();return l_(o,te.memoizedState,i,r)},useTransition:function(){var i=oh(hs)[0],r=be().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:Lv,useId:f_,useHostTransitionStatus:Em,useFormState:Xv,useActionState:Xv,useOptimistic:function(i,r){var o=be();return Hv(o,te,i,r)},useMemoCache:fm,useCacheRefresh:d_};Sm.useEffectEvent=e_;var v_={readContext:Xe,use:ah,useCallback:a_,useContext:Xe,useEffect:ym,useImperativeHandle:r_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:mm,useRef:Zv,useState:function(){return mm(hs)},useDebugValue:vm,useDeferredValue:function(i,r){var o=be();return te===null?_m(o,i,r):l_(o,te.memoizedState,i,r)},useTransition:function(){var i=mm(hs)[0],r=be().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:Lv,useId:f_,useHostTransitionStatus:Em,useFormState:Jv,useActionState:Jv,useOptimistic:function(i,r){var o=be();return te!==null?Hv(o,te,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:fm,useCacheRefresh:d_};v_.useEffectEvent=e_;function wm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Am={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Vn(),f=Js(u);f.payload=r,o!=null&&(f.callback=o),r=Zs(i,f,u),r!==null&&(Sn(r,i,u),Gl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Vn(),f=Js(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Zs(i,f,u),r!==null&&(Sn(r,i,u),Gl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Vn(),u=Js(o);u.tag=2,r!=null&&(u.callback=r),r=Zs(i,u,o),r!==null&&(Sn(r,i,o),Gl(r,i,o))}};function __(i,r,o,u,f,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!Ll(o,u)||!Ll(f,g):!0}function T_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Am.enqueueReplaceState(r,r.state,null)}function ha(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function E_(i){Fc(i)}function b_(i){console.error(i)}function S_(i){Fc(i)}function hh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function w_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xm(i,r,o){return o=Js(o),o.tag=3,o.payload={element:null},o.callback=function(){hh(i,r)},o}function A_(i){return i=Js(i),i.tag=3,i}function x_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){w_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){w_(r,o,u),typeof f!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function FR(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&so(r,o,f,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?Sh():o.alternate===null&&ye===0&&(ye=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Jc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Wm(i,u,f)),!1;case 22:return o.flags|=65536,u===Jc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Wm(i,u,f)),!1}throw Error(s(435,o.tag))}return Wm(i,u,f),Sh(),!1}if(zt)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Gd&&(i=Error(s(422),{cause:u}),zl(Bn(i,o)))):(u!==Gd&&(r=Error(s(423),{cause:u}),zl(Bn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Bn(u,o),f=xm(i.stateNode,u,f),nm(i,f),ye!==4&&(ye=2)),!1;var g=Error(s(520),{cause:u});if(g=Bn(g,o),ru===null?ru=[g]:ru.push(g),ye!==4&&(ye=2),r===null)return!0;u=Bn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=xm(o.stateNode,u,i),nm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rr===null||!rr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=A_(f),x_(f,i,o,u),nm(o,f),!1}o=o.return}while(o!==null);return!1}var Cm=Error(s(461)),De=!1;function We(i,r,o,u){r.child=i===null?Nv(r,null,o,u):ua(r,i.child,o,u)}function C_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ra(r),u=lm(i,r,o,T,g,f),w=um(),i!==null&&!De?(cm(i,r,f),fs(i,r,f)):(zt&&w&&Hd(r),r.flags|=1,We(i,r,u,f),r.child)}function R_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!zd(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,I_(i,r,g,u,f)):(i=Kc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Pm(i,f)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ll,o(T,u)&&i.ref===r.ref)return fs(i,r,f)}return r.flags|=1,i=as(g,u),i.ref=r.ref,i.return=r,r.child=i}function I_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(Ll(g,u)&&i.ref===r.ref)if(De=!1,r.pendingProps=u=g,Pm(i,f))(i.flags&131072)!==0&&(De=!0);else return r.lanes=i.lanes,fs(i,r,f)}return Rm(i,r,o,u,f)}function N_(i,r,o,u){var f=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,r.child=null;return D_(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xc(r,g!==null?g.cachePool:null),g!==null?Vv(r,g):sm(),Ov(r);else return u=r.lanes=536870912,D_(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Xc(r,g.cachePool),Vv(r,g),er(),r.memoizedState=null):(i!==null&&Xc(r,null),sm(),er());return We(i,r,f,o),r.child}function Jl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function D_(i,r,o,u,f){var g=Jd();return g=g===null?null:{parent:Ie._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Xc(r,null),sm(),Ov(r),i!==null&&so(i,r,u,!0),r.childLanes=f,null}function fh(i,r){return r=mh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function M_(i,r,o){return ua(r,i.child,null,o),i=fh(r,r.pendingProps),i.flags|=2,Nn(r),r.memoizedState=null,i}function HR(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(zt){if(u.mode==="hidden")return i=fh(r,u),r.lanes=536870912,Jl(null,i);if(am(r),(i=ae)?(i=qT(i,qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:$s!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=pv(i),o.return=r,r.child=o,Qe=r,ae=null)):i=null,i===null)throw Qs(r);return r.lanes=536870912,null}return fh(r,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(am(r),f)if(r.flags&256)r.flags&=-257,r=M_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(De||so(i,r,o,!1),f=(o&i.childLanes)!==0,De||f){if(u=ie,u!==null&&(T=_l(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ea(i,T),Sn(u,i,T),Cm;Sh(),r=M_(i,r,o)}else i=g.treeContext,ae=Kn(T.nextSibling),Qe=r,zt=!0,Ys=null,qn=!1,i!==null&&vv(r,i),r=fh(r,u),r.flags|=4096;return r}return i=as(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function dh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Rm(i,r,o,u,f){return ra(r),o=lm(i,r,o,u,void 0,f),u=um(),i!==null&&!De?(cm(i,r,f),fs(i,r,f)):(zt&&u&&Hd(r),r.flags|=1,We(i,r,o,f),r.child)}function V_(i,r,o,u,f,g){return ra(r),r.updateQueue=null,o=kv(r,u,o,f),Pv(i),u=um(),i!==null&&!De?(cm(i,r,g),fs(i,r,g)):(zt&&u&&Hd(r),r.flags|=1,We(i,r,o,g),r.child)}function O_(i,r,o,u,f){if(ra(r),r.stateNode===null){var g=to,T=o.contextType;typeof T=="object"&&T!==null&&(g=Xe(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Am,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},tm(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?Xe(T):to,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(wm(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Am.enqueueReplaceState(g,g.state,null),$l(r,u,g,f),Kl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,V=ha(o,w);g.props=V;var K=g.context,tt=o.contextType;T=to,typeof tt=="object"&&tt!==null&&(T=Xe(tt));var it=o.getDerivedStateFromProps;tt=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,tt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||K!==T)&&T_(r,g,u,T),Ws=!1;var Y=r.memoizedState;g.state=Y,$l(r,u,g,f),Kl(),K=r.memoizedState,w||Y!==K||Ws?(typeof it=="function"&&(wm(r,o,it,u),K=r.memoizedState),(V=Ws||__(r,o,V,u,Y,K,T))?(tt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=T,u=V):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,em(i,r),T=r.memoizedProps,tt=ha(o,T),g.props=tt,it=r.pendingProps,Y=g.context,K=o.contextType,V=to,typeof K=="object"&&K!==null&&(V=Xe(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==it||Y!==V)&&T_(r,g,u,V),Ws=!1,Y=r.memoizedState,g.state=Y,$l(r,u,g,f),Kl();var X=r.memoizedState;T!==it||Y!==X||Ws||i!==null&&i.dependencies!==null&&Yc(i.dependencies)?(typeof w=="function"&&(wm(r,o,w,u),X=r.memoizedState),(tt=Ws||__(r,o,tt,u,Y,X,V)||i!==null&&i.dependencies!==null&&Yc(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,V)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=V,u=tt):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,dh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=ua(r,i.child,null,f),r.child=ua(r,null,o,f)):We(i,r,o,f),r.memoizedState=g.state,i=r.child):i=fs(i,r,f),i}function P_(i,r,o,u){return ia(),r.flags|=256,We(i,r,o,u),r.child}var Im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nm(i){return{baseLanes:i,cachePool:wv()}}function Dm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Mn),i}function k_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Ee.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(zt){if(f?tr(r):er(),(i=ae)?(i=qT(i,qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:$s!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=pv(i),o.return=r,r.child=o,Qe=r,ae=null)):i=null,i===null)throw Qs(r);return dp(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,f?(er(),f=r.mode,w=mh({mode:"hidden",children:w},f),u=na(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=Nm(o),u.childLanes=Dm(i,T,o),r.memoizedState=Im,Jl(null,u)):(tr(r),Mm(r,w))}var V=i.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(g)r.flags&256?(tr(r),r.flags&=-257,r=Vm(i,r,o)):r.memoizedState!==null?(er(),r.child=i.child,r.flags|=128,r=null):(er(),w=u.fallback,f=r.mode,u=mh({mode:"visible",children:u.children},f),w=na(w,f,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,ua(r,i.child,null,o),u=r.child,u.memoizedState=Nm(o),u.childLanes=Dm(i,T,o),r.memoizedState=Im,r=Jl(null,u));else if(tr(r),dp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(s(419)),u.stack="",u.digest=T,zl({value:u,source:null,stack:null}),r=Vm(i,r,o)}else if(De||so(i,r,o,!1),T=(o&i.childLanes)!==0,De||T){if(T=ie,T!==null&&(u=_l(T,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,ea(i,u),Sn(T,i,u),Cm;fp(w)||Sh(),r=Vm(i,r,o)}else fp(w)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,ae=Kn(w.nextSibling),Qe=r,zt=!0,Ys=null,qn=!1,i!==null&&vv(r,i),r=Mm(r,u.children),r.flags|=4096);return r}return f?(er(),w=u.fallback,f=r.mode,V=i.child,K=V.sibling,u=as(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,K!==null?w=as(K,w):(w=na(w,f,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,Jl(null,u),u=r.child,w=i.child.memoizedState,w===null?w=Nm(o):(f=w.cachePool,f!==null?(V=Ie._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=wv(),w={baseLanes:w.baseLanes|o,cachePool:f}),u.memoizedState=w,u.childLanes=Dm(i,T,o),r.memoizedState=Im,Jl(i.child,u)):(tr(r),o=i.child,i=o.sibling,o=as(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Mm(i,r){return r=mh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function mh(i,r){return i=Rn(22,i,null,r),i.lanes=0,i}function Vm(i,r,o){return ua(r,i.child,null,o),i=Mm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function L_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Yd(i.return,r,o)}function Om(i,r,o,u,f,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=g)}function j_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var T=Ee.current,w=(T&2)!==0;if(w?(T=T&1|2,r.flags|=128):T&=1,ct(Ee,T),We(i,r,u,o),u=zt?Ul:0,!w&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&L_(i,o,r);else if(i.tag===19)L_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&nh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Om(r,!1,f,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&nh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Om(r,!0,o,null,g,u);break;case"together":Om(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function fs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(so(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=as(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=as(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Pm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Yc(i)))}function qR(i,r,o){switch(r.tag){case 3:je(r,r.stateNode.containerInfo),Xs(r,Ie,i.memoizedState.cache),ia();break;case 27:case 5:Lr(r);break;case 4:je(r,r.stateNode.containerInfo);break;case 10:Xs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,am(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?k_(i,r,o):(tr(r),i=fs(i,r,o),i!==null?i.sibling:null);tr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(so(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return j_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(Ee,Ee.current),u)break;return null;case 22:return r.lanes=0,N_(i,r,o,r.pendingProps);case 24:Xs(r,Ie,i.memoizedState.cache)}return fs(i,r,o)}function U_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)De=!0;else{if(!Pm(i,o)&&(r.flags&128)===0)return De=!1,qR(i,r,o);De=(i.flags&131072)!==0}else De=!1,zt&&(r.flags&1048576)!==0&&yv(r,Ul,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=oa(r.elementType),r.type=i,typeof i=="function")zd(i)?(u=ha(i,u),r.tag=1,r=O_(null,r,i,u,o)):(r.tag=0,r=Rm(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===W){r.tag=11,r=C_(null,r,i,u,o);break t}else if(f===R){r.tag=14,r=R_(null,r,i,u,o);break t}}throw r=Qt(i)||i,Error(s(306,r,""))}}return r;case 0:return Rm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ha(u,r.pendingProps),O_(i,r,u,f,o);case 3:t:{if(je(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,em(i,r),$l(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Xs(r,Ie,u),u!==g.cache&&Qd(r,[Ie],o,!0),Kl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=P_(i,r,u,o);break t}else if(u!==f){f=Bn(Error(s(424)),r),zl(f),r=P_(i,r,u,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ae=Kn(i.firstChild),Qe=r,zt=!0,Ys=null,qn=!0,o=Nv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ia(),u===f){r=fs(i,r,o);break t}We(i,r,u,o)}r=r.child}return r;case 26:return dh(i,r),i===null?(o=XT(r.type,null,r.pendingProps,null))?r.memoizedState=o:zt||(o=r.type,i=r.pendingProps,u=Nh(Nt.current).createElement(o),u[xe]=r,u[He]=i,Je(u,o,i),Ce(u),r.stateNode=u):r.memoizedState=XT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Lr(r),i===null&&zt&&(u=r.stateNode=$T(r.type,r.pendingProps,Nt.current),Qe=r,qn=!0,f=ae,ur(r.type)?(mp=f,ae=Kn(u.firstChild)):ae=f),We(i,r,r.pendingProps.children,o),dh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&zt&&((f=u=ae)&&(u=T2(u,r.type,r.pendingProps,qn),u!==null?(r.stateNode=u,Qe=r,ae=Kn(u.firstChild),qn=!1,f=!0):f=!1),f||Qs(r)),Lr(r),f=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,up(f,g)?u=null:T!==null&&up(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=lm(i,r,PR,null,null,o),du._currentValue=f),dh(i,r),We(i,r,u,o),r.child;case 6:return i===null&&zt&&((i=o=ae)&&(o=E2(o,r.pendingProps,qn),o!==null?(r.stateNode=o,Qe=r,ae=null,i=!0):i=!1),i||Qs(r)),null;case 13:return k_(i,r,o);case 4:return je(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ua(r,null,u,o):We(i,r,u,o),r.child;case 11:return C_(i,r,r.type,r.pendingProps,o);case 7:return We(i,r,r.pendingProps,o),r.child;case 8:return We(i,r,r.pendingProps.children,o),r.child;case 12:return We(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Xs(r,r.type,u.value),We(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ra(r),f=Xe(f),u=u(f),r.flags|=1,We(i,r,u,o),r.child;case 14:return R_(i,r,r.type,r.pendingProps,o);case 15:return I_(i,r,r.type,r.pendingProps,o);case 19:return j_(i,r,o);case 31:return HR(i,r,o);case 22:return N_(i,r,o,r.pendingProps);case 24:return ra(r),u=Xe(Ie),i===null?(f=Jd(),f===null&&(f=ie,g=Xd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},tm(r),Xs(r,Ie,f)):((i.lanes&o)!==0&&(em(i,r),$l(r,null,null,o),Kl()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Xs(r,Ie,u)):(u=g.cache,Xs(r,Ie,u),u!==f.cache&&Qd(r,[Ie],o,!0))),We(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ds(i){i.flags|=4}function km(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(fT())i.flags|=8192;else throw la=Jc,Zd}else i.flags&=-16777217}function z_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!eE(r))if(fT())i.flags|=8192;else throw la=Jc,Zd}function ph(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Ec():536870912,i.lanes|=r,yo|=r)}function Zl(i,r){if(!zt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function GR(i,r,o){var u=r.pendingProps;switch(qd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),us(Ie),ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(io(r)?ds(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kd())),oe(r),null;case 26:var f=r.type,g=r.memoizedState;return i===null?(ds(r),g!==null?(oe(r),z_(r,g)):(oe(r),km(r,f,null,u,o))):g?g!==i.memoizedState?(ds(r),oe(r),z_(r,g)):(oe(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&ds(r),oe(r),km(r,f,i,u,o)),null;case 27:if(Pa(r),o=Nt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=ht.current,io(r)?_v(r):(i=$T(f,u,o),r.stateNode=i,ds(r))}return oe(r),null;case 5:if(Pa(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(g=ht.current,io(r))_v(r);else{var T=Nh(Nt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}g[xe]=r,g[He]=u;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;t:switch(Je(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ds(r)}}return oe(r),km(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Nt.current,io(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Qe,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[xe]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||kT(i.nodeValue,o)),i||Qs(r,!0)}else i=Nh(i).createTextNode(u),i[xe]=r,r.stateNode=i}return oe(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=io(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[xe]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),i=!1}else o=Kd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Nn(r),r):(Nn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return oe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=io(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xe]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=Kd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Nn(r),r):(Nn(r),null)}return Nn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),ph(r,r.updateQueue),oe(r),null);case 4:return ce(),i===null&&sp(r.stateNode.containerInfo),oe(r),null;case 10:return us(r.type),oe(r),null;case 19:if(nt(Ee),u=r.memoizedState,u===null)return oe(r),null;if(f=(r.flags&128)!==0,g=u.rendering,g===null)if(f)Zl(u,!1);else{if(ye!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=nh(i),g!==null){for(r.flags|=128,Zl(u,!1),i=g.updateQueue,r.updateQueue=i,ph(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)mv(o,i),o=o.sibling;return ct(Ee,Ee.current&1|2),zt&&os(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&hn()>Th&&(r.flags|=128,f=!0,Zl(u,!1),r.lanes=4194304)}else{if(!f)if(i=nh(g),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,ph(r,i),Zl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!zt)return oe(r),null}else 2*hn()-u.renderingStartTime>Th&&o!==536870912&&(r.flags|=128,f=!0,Zl(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=hn(),i.sibling=null,o=Ee.current,ct(Ee,f?o&1|2:o&1),zt&&os(r,u.treeForkCount),i):(oe(r),null);case 22:case 23:return Nn(r),rm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&ph(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&nt(aa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),us(Ie),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function KR(i,r){switch(qd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return us(Ie),ce(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Pa(r),null;case 31:if(r.memoizedState!==null){if(Nn(r),r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Nn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return nt(Ee),null;case 4:return ce(),null;case 10:return us(r.type),null;case 22:case 23:return Nn(r),rm(),i!==null&&nt(aa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return us(Ie),null;case 25:return null;default:return null}}function B_(i,r){switch(qd(r),r.tag){case 3:us(Ie),ce();break;case 26:case 27:case 5:Pa(r);break;case 4:ce();break;case 31:r.memoizedState!==null&&Nn(r);break;case 13:Nn(r);break;case 19:nt(Ee);break;case 10:us(r.type);break;case 22:case 23:Nn(r),rm(),i!==null&&nt(aa);break;case 24:us(Ie)}}function tu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==f)}}catch(w){Jt(r,r.return,w)}}function nr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,f=r;var V=o,K=w;try{K()}catch(tt){Jt(f,V,tt)}}}u=u.next}while(u!==g)}}catch(tt){Jt(r,r.return,tt)}}function F_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Mv(r,o)}catch(u){Jt(i,i.return,u)}}}function H_(i,r,o){o.props=ha(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Jt(i,r,u)}}function eu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Jt(i,r,f)}}function Bi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Jt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Jt(i,r,f)}else o.current=null}function q_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Jt(i,i.return,f)}}function Lm(i,r,o){try{var u=i.stateNode;m2(u,i.type,o,r),u[He]=r}catch(f){Jt(i,i.return,f)}}function G_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ur(i.type)||i.tag===4}function jm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||G_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ur(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Um(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ii));else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Um(i,r,o),i=i.sibling;i!==null;)Um(i,r,o),i=i.sibling}function gh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(gh(i,r,o),i=i.sibling;i!==null;)gh(i,r,o),i=i.sibling}function K_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Je(r,u,o),r[xe]=i,r[He]=o}catch(g){Jt(i,i.return,g)}}var ms=!1,Me=!1,zm=!1,$_=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function $R(i,r){if(i=i.containerInfo,op=Lh,i=rv(i),Vd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,w=-1,V=-1,K=0,tt=0,it=i,Y=null;e:for(;;){for(var X;it!==o||f!==0&&it.nodeType!==3||(w=T+f),it!==g||u!==0&&it.nodeType!==3||(V=T+u),it.nodeType===3&&(T+=it.nodeValue.length),(X=it.firstChild)!==null;)Y=it,it=X;for(;;){if(it===i)break e;if(Y===o&&++K===f&&(w=T),Y===g&&++tt===u&&(V=T),(X=it.nextSibling)!==null)break;it=Y,Y=it.parentNode}it=X}o=w===-1||V===-1?null:{start:w,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(lp={focusedElem:i,selectionRange:o},Lh=!1,Ge=r;Ge!==null;)if(r=Ge,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ge=i;else for(;Ge!==null;){switch(r=Ge,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var pt=ha(o.type,f);i=u.getSnapshotBeforeUpdate(pt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Et){Jt(o,o.return,Et)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)hp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ge=i;break}Ge=r.return}}function Y_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:gs(i,o),u&4&&tu(5,o);break;case 1:if(gs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Jt(o,o.return,T)}else{var f=ha(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Jt(o,o.return,T)}}u&64&&F_(o),u&512&&eu(o,o.return);break;case 3:if(gs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Mv(i,r)}catch(T){Jt(o,o.return,T)}}break;case 27:r===null&&u&4&&K_(o);case 26:case 5:gs(i,o),r===null&&u&4&&q_(o),u&512&&eu(o,o.return);break;case 12:gs(i,o);break;case 31:gs(i,o),u&4&&W_(i,o);break;case 13:gs(i,o),u&4&&J_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=n2.bind(null,o),b2(i,o))));break;case 22:if(u=o.memoizedState!==null||ms,!u){r=r!==null&&r.memoizedState!==null||Me,f=ms;var g=Me;ms=u,(Me=r)&&!g?ys(i,o,(o.subtreeFlags&8772)!==0):gs(i,o),ms=f,Me=g}break;case 30:break;default:gs(i,o)}}function Q_(i){var r=i.alternate;r!==null&&(i.alternate=null,Q_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&za(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var fe=null,_n=!1;function ps(i,r,o){for(o=o.child;o!==null;)X_(i,r,o),o=o.sibling}function X_(i,r,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Zn,o)}catch{}switch(o.tag){case 26:Me||Bi(o,r),ps(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Me||Bi(o,r);var u=fe,f=_n;ur(o.type)&&(fe=o.stateNode,_n=!1),ps(i,r,o),cu(o.stateNode),fe=u,_n=f;break;case 5:Me||Bi(o,r);case 6:if(u=fe,f=_n,fe=null,ps(i,r,o),fe=u,_n=f,fe!==null)if(_n)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(o.stateNode)}catch(g){Jt(o,r,g)}else try{fe.removeChild(o.stateNode)}catch(g){Jt(o,r,g)}break;case 18:fe!==null&&(_n?(i=fe,FT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ao(i)):FT(fe,o.stateNode));break;case 4:u=fe,f=_n,fe=o.stateNode.containerInfo,_n=!0,ps(i,r,o),fe=u,_n=f;break;case 0:case 11:case 14:case 15:nr(2,o,r),Me||nr(4,o,r),ps(i,r,o);break;case 1:Me||(Bi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&H_(o,r,u)),ps(i,r,o);break;case 21:ps(i,r,o);break;case 22:Me=(u=Me)||o.memoizedState!==null,ps(i,r,o),Me=u;break;default:ps(i,r,o)}}function W_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ao(i)}catch(o){Jt(r,r.return,o)}}}function J_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ao(i)}catch(o){Jt(r,r.return,o)}}function YR(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new $_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new $_),r;default:throw Error(s(435,i.tag))}}function yh(i,r){var o=YR(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=i2.bind(null,i,u);u.then(f,f)}})}function Tn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,T=r,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(ur(w.type)){fe=w.stateNode,_n=!1;break t}break;case 5:fe=w.stateNode,_n=!1;break t;case 3:case 4:fe=w.stateNode.containerInfo,_n=!0;break t}w=w.return}if(fe===null)throw Error(s(160));X_(g,T,f),fe=null,_n=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Z_(r,i),r=r.sibling}var ui=null;function Z_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tn(r,i),En(i),u&4&&(nr(3,i,i.return),tu(3,i),nr(5,i,i.return));break;case 1:Tn(r,i),En(i),u&512&&(Me||o===null||Bi(o,o.return)),u&64&&ms&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ui;if(Tn(r,i),En(i),u&512&&(Me||o===null||Bi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ci]||g[xe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Je(g,u,o),g[xe]=i,Ce(g),u=g;break t;case"link":var T=ZT("link","href",f).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break e}}g=f.createElement(u),Je(g,u,o),f.head.appendChild(g);break;case"meta":if(T=ZT("meta","content",f).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break e}}g=f.createElement(u),Je(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[xe]=i,Ce(g),u=g}i.stateNode=u}else tE(f,i.type,i.stateNode);else i.stateNode=JT(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?tE(f,i.type,i.stateNode):JT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Lm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Tn(r,i),En(i),u&512&&(Me||o===null||Bi(o,o.return)),o!==null&&u&4&&Lm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Tn(r,i),En(i),u&512&&(Me||o===null||Bi(o,o.return)),i.flags&32){f=i.stateNode;try{vn(f,"")}catch(pt){Jt(i,i.return,pt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Lm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(zm=!0);break;case 6:if(Tn(r,i),En(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(pt){Jt(i,i.return,pt)}}break;case 3:if(Vh=null,f=ui,ui=Dh(r.containerInfo),Tn(r,i),ui=f,En(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ao(r.containerInfo)}catch(pt){Jt(i,i.return,pt)}zm&&(zm=!1,tT(i));break;case 4:u=ui,ui=Dh(i.stateNode.containerInfo),Tn(r,i),En(i),ui=u;break;case 12:Tn(r,i),En(i);break;case 31:Tn(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,yh(i,u)));break;case 13:Tn(r,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(_h=hn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,yh(i,u)));break;case 22:f=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=ms,tt=Me;if(ms=K||f,Me=tt||V,Tn(r,i),Me=tt,ms=K,En(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||V||ms||Me||fa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(g=V.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=V.stateNode;var it=V.memoizedProps.style,Y=it!=null&&it.hasOwnProperty("display")?it.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pt){Jt(V,V.return,pt)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(pt){Jt(V,V.return,pt)}}}else if(r.tag===18){if(o===null){V=r;try{var X=V.stateNode;f?HT(X,!0):HT(V.stateNode,!1)}catch(pt){Jt(V,V.return,pt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,yh(i,o))));break;case 19:Tn(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,yh(i,u)));break;case 30:break;case 21:break;default:Tn(r,i),En(i)}}function En(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(G_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=jm(i);gh(i,g,f);break;case 5:var T=o.stateNode;o.flags&32&&(vn(T,""),o.flags&=-33);var w=jm(i);gh(i,w,T);break;case 3:case 4:var V=o.stateNode.containerInfo,K=jm(i);Um(i,K,V);break;default:throw Error(s(161))}}catch(tt){Jt(i,i.return,tt)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function tT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;tT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function gs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Y_(i,r.alternate,r),r=r.sibling}function fa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return),fa(r);break;case 1:Bi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&H_(r,r.return,o),fa(r);break;case 27:cu(r.stateNode);case 26:case 5:Bi(r,r.return),fa(r);break;case 22:r.memoizedState===null&&fa(r);break;case 30:fa(r);break;default:fa(r)}i=i.sibling}}function ys(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:ys(f,g,o),tu(4,g);break;case 1:if(ys(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Jt(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)Dv(V[f],w)}catch(K){Jt(u,u.return,K)}}o&&T&64&&F_(g),eu(g,g.return);break;case 27:K_(g);case 26:case 5:ys(f,g,o),o&&u===null&&T&4&&q_(g),eu(g,g.return);break;case 12:ys(f,g,o);break;case 31:ys(f,g,o),o&&T&4&&W_(f,g);break;case 13:ys(f,g,o),o&&T&4&&J_(f,g);break;case 22:g.memoizedState===null&&ys(f,g,o),eu(g,g.return);break;case 30:break;default:ys(f,g,o)}r=r.sibling}}function Bm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Bl(o))}function Fm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bl(i))}function ci(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)eT(i,r,o,u),r=r.sibling}function eT(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ci(i,r,o,u),f&2048&&tu(9,r);break;case 1:ci(i,r,o,u);break;case 3:ci(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bl(i)));break;case 12:if(f&2048){ci(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Jt(r,r.return,V)}}else ci(i,r,o,u);break;case 31:ci(i,r,o,u);break;case 13:ci(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?ci(i,r,o,u):nu(i,r):g._visibility&2?ci(i,r,o,u):(g._visibility|=2,mo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Bm(T,r);break;case 24:ci(i,r,o,u),f&2048&&Fm(r.alternate,r);break;default:ci(i,r,o,u)}}function mo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,w=o,V=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:mo(g,T,w,V,f),tu(8,T);break;case 23:break;case 22:var tt=T.stateNode;T.memoizedState!==null?tt._visibility&2?mo(g,T,w,V,f):nu(g,T):(tt._visibility|=2,mo(g,T,w,V,f)),f&&K&2048&&Bm(T.alternate,T);break;case 24:mo(g,T,w,V,f),f&&K&2048&&Fm(T.alternate,T);break;default:mo(g,T,w,V,f)}r=r.sibling}}function nu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:nu(o,u),f&2048&&Bm(u.alternate,u);break;case 24:nu(o,u),f&2048&&Fm(u.alternate,u);break;default:nu(o,u)}r=r.sibling}}var iu=8192;function po(i,r,o){if(i.subtreeFlags&iu)for(i=i.child;i!==null;)nT(i,r,o),i=i.sibling}function nT(i,r,o){switch(i.tag){case 26:po(i,r,o),i.flags&iu&&i.memoizedState!==null&&O2(o,ui,i.memoizedState,i.memoizedProps);break;case 5:po(i,r,o);break;case 3:case 4:var u=ui;ui=Dh(i.stateNode.containerInfo),po(i,r,o),ui=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=iu,iu=16777216,po(i,r,o),iu=u):po(i,r,o));break;default:po(i,r,o)}}function iT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function su(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,rT(u,i)}iT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sT(i),i=i.sibling}function sT(i){switch(i.tag){case 0:case 11:case 15:su(i),i.flags&2048&&nr(9,i,i.return);break;case 3:su(i);break;case 12:su(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,vh(i)):su(i);break;default:su(i)}}function vh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,rT(u,i)}iT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:nr(8,r,r.return),vh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,vh(r));break;default:vh(r)}i=i.sibling}}function rT(i,r){for(;Ge!==null;){var o=Ge;switch(o.tag){case 0:case 11:case 15:nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ge=u;else t:for(o=i;Ge!==null;){u=Ge;var f=u.sibling,g=u.return;if(Q_(u),u===o){Ge=null;break t}if(f!==null){f.return=g,Ge=f;break t}Ge=g}}}var QR={getCacheForType:function(i){var r=Xe(Ie),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Xe(Ie).controller.signal}},XR=typeof WeakMap=="function"?WeakMap:Map,$t=0,ie=null,Mt=null,Pt=0,Wt=0,Dn=null,ir=!1,go=!1,Hm=!1,vs=0,ye=0,sr=0,da=0,qm=0,Mn=0,yo=0,ru=null,bn=null,Gm=!1,_h=0,aT=0,Th=1/0,Eh=null,rr=null,ze=0,ar=null,vo=null,_s=0,Km=0,$m=null,oT=null,au=0,Ym=null;function Vn(){return($t&2)!==0&&Pt!==0?Pt&-Pt:Z.T!==null?tp():bc()}function lT(){if(Mn===0)if((Pt&536870912)===0||zt){var i=zr;zr<<=1,(zr&3932160)===0&&(zr=262144),Mn=i}else Mn=536870912;return i=In.current,i!==null&&(i.flags|=32),Mn}function Sn(i,r,o){(i===ie&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(_o(i,0),or(i,Pt,Mn,!1)),Br(i,o),(($t&2)===0||i!==ie)&&(i===ie&&(($t&2)===0&&(da|=o),ye===4&&or(i,Pt,Mn,!1)),Fi(i))}function uT(i,r,o){if(($t&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ti(i,r),f=u?ZR(i,r):Xm(i,r,!0),g=u;do{if(f===0){go&&!u&&or(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!WR(o)){f=Xm(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var w=i;f=ru;var V=w.current.memoizedState.isDehydrated;if(V&&(_o(w,T).flags|=256),T=Xm(w,T,!1),T!==2){if(Hm&&!V){w.errorRecoveryDisabledLanes|=g,da|=g,f=4;break t}g=bn,bn=f,g!==null&&(bn===null?bn=g:bn.push.apply(bn,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){_o(i,0),or(i,r,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:or(u,r,Mn,!ir);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=_h+300-hn(),10<f)){if(or(u,r,Mn,!ir),wi(u,0,!0)!==0)break t;_s=r,u.timeoutHandle=zT(cT.bind(null,u,o,bn,Eh,Gm,r,Mn,da,yo,ir,g,"Throttled",-0,0),f);break t}cT(u,o,bn,Eh,Gm,r,Mn,da,yo,ir,g,null,-0,0)}}break}while(!0);Fi(i)}function cT(i,r,o,u,f,g,T,w,V,K,tt,it,Y,X){if(i.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},nT(r,g,it);var pt=(g&62914560)===g?_h-hn():(g&4194048)===g?aT-hn():0;if(pt=P2(it,pt),pt!==null){_s=g,i.cancelPendingCommit=pt(vT.bind(null,i,r,g,o,u,f,T,w,V,tt,it,null,Y,X)),or(i,g,T,!K);return}}vT(i,r,g,o,u,f,T,w,V)}function WR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Cn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(i,r,o,u){r&=~qm,r&=~da,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-_e(f),T=1<<g;u[g]=-1,f&=~T}o!==0&&Fr(i,o,r)}function bh(){return($t&6)===0?(ou(0),!1):!0}function Qm(){if(Mt!==null){if(Wt===0)var i=Mt.return;else i=Mt,ls=sa=null,hm(i),lo=null,Hl=0,i=Mt;for(;i!==null;)B_(i.alternate,i),i=i.return;Mt=null}}function _o(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,y2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),_s=0,Qm(),ie=i,Mt=o=as(i.current,null),Pt=r,Wt=0,Dn=null,ir=!1,go=ti(i,r),Hm=!1,yo=Mn=qm=da=sr=ye=0,bn=ru=null,Gm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-_e(u),g=1<<f;r|=i[f],u&=~g}return vs=r,Hc(),o}function hT(i,r){It=null,Z.H=Wl,r===oo||r===Wc?(r=Cv(),Wt=3):r===Zd?(r=Cv(),Wt=4):Wt=r===Cm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Mt===null&&(ye=1,hh(i,Bn(r,i.current)))}function fT(){var i=In.current;return i===null?!0:(Pt&4194048)===Pt?Gn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?i===Gn:!1}function dT(){var i=Z.H;return Z.H=Wl,i===null?Wl:i}function mT(){var i=Z.A;return Z.A=QR,i}function Sh(){ye=4,ir||(Pt&4194048)!==Pt&&In.current!==null||(go=!0),(sr&134217727)===0&&(da&134217727)===0||ie===null||or(ie,Pt,Mn,!1)}function Xm(i,r,o){var u=$t;$t|=2;var f=dT(),g=mT();(ie!==i||Pt!==r)&&(Eh=null,_o(i,r)),r=!1;var T=ye;t:do try{if(Wt!==0&&Mt!==null){var w=Mt,V=Dn;switch(Wt){case 8:Qm(),T=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var K=Wt;if(Wt=0,Dn=null,To(i,w,V,K),o&&go){T=0;break t}break;default:K=Wt,Wt=0,Dn=null,To(i,w,V,K)}}JR(),T=ye;break}catch(tt){hT(i,tt)}while(!0);return r&&i.shellSuspendCounter++,ls=sa=null,$t=u,Z.H=f,Z.A=g,Mt===null&&(ie=null,Pt=0,Hc()),T}function JR(){for(;Mt!==null;)pT(Mt)}function ZR(i,r){var o=$t;$t|=2;var u=dT(),f=mT();ie!==i||Pt!==r?(Eh=null,Th=hn()+500,_o(i,r)):go=ti(i,r);t:do try{if(Wt!==0&&Mt!==null){r=Mt;var g=Dn;e:switch(Wt){case 1:Wt=0,Dn=null,To(i,r,g,1);break;case 2:case 9:if(Av(g)){Wt=0,Dn=null,gT(r);break}r=function(){Wt!==2&&Wt!==9||ie!==i||(Wt=7),Fi(i)},g.then(r,r);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Av(g)?(Wt=0,Dn=null,gT(r)):(Wt=0,Dn=null,To(i,r,g,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var w=Mt;if(T?eE(T):w.stateNode.complete){Wt=0,Dn=null;var V=w.sibling;if(V!==null)Mt=V;else{var K=w.return;K!==null?(Mt=K,wh(K)):Mt=null}break e}}Wt=0,Dn=null,To(i,r,g,5);break;case 6:Wt=0,Dn=null,To(i,r,g,6);break;case 8:Qm(),ye=6;break t;default:throw Error(s(462))}}t2();break}catch(tt){hT(i,tt)}while(!0);return ls=sa=null,Z.H=u,Z.A=f,$t=o,Mt!==null?0:(ie=null,Pt=0,Hc(),ye)}function t2(){for(;Mt!==null&&!xd();)pT(Mt)}function pT(i){var r=U_(i.alternate,i,vs);i.memoizedProps=i.pendingProps,r===null?wh(i):Mt=r}function gT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=V_(o,r,r.pendingProps,r.type,void 0,Pt);break;case 11:r=V_(o,r,r.pendingProps,r.type.render,r.ref,Pt);break;case 5:hm(r);default:B_(o,r),r=Mt=mv(r,vs),r=U_(o,r,vs)}i.memoizedProps=i.pendingProps,r===null?wh(i):Mt=r}function To(i,r,o,u){ls=sa=null,hm(r),lo=null,Hl=0;var f=r.return;try{if(FR(i,f,r,o,Pt)){ye=1,hh(i,Bn(o,i.current)),Mt=null;return}}catch(g){if(f!==null)throw Mt=f,g;ye=1,hh(i,Bn(o,i.current)),Mt=null;return}r.flags&32768?(zt||u===1?i=!0:go||(Pt&536870912)!==0?i=!1:(ir=i=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),yT(r,i)):wh(r)}function wh(i){var r=i;do{if((r.flags&32768)!==0){yT(r,ir);return}i=r.return;var o=GR(r.alternate,r,vs);if(o!==null){Mt=o;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=i}while(r!==null);ye===0&&(ye=5)}function yT(i,r){do{var o=KR(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);ye=6,Mt=null}function vT(i,r,o,u,f,g,T,w,V){i.cancelPendingCommit=null;do Ah();while(ze!==0);if(($t&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=jd,Id(i,o,g,T,w,V),i===ie&&(Mt=ie=null,Pt=0),vo=r,ar=i,_s=o,Km=g,$m=f,oT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,s2(Ls,function(){return ST(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=ot.p,ot.p=2,T=$t,$t|=4;try{$R(i,r,o)}finally{$t=T,ot.p=f,Z.T=u}}ze=1,_T(),TT(),ET()}}function _T(){if(ze===1){ze=0;var i=ar,r=vo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=ot.p;ot.p=2;var f=$t;$t|=4;try{Z_(r,i);var g=lp,T=rv(i.containerInfo),w=g.focusedElem,V=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&sv(w.ownerDocument.documentElement,w)){if(V!==null&&Vd(w)){var K=V.start,tt=V.end;if(tt===void 0&&(tt=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(tt,w.value.length);else{var it=w.ownerDocument||document,Y=it&&it.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),pt=w.textContent.length,Et=Math.min(V.start,pt),ne=V.end===void 0?Et:Math.min(V.end,pt);!X.extend&&Et>ne&&(T=ne,ne=Et,Et=T);var B=iv(w,Et),U=iv(w,ne);if(B&&U&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var G=it.createRange();G.setStart(B.node,B.offset),X.removeAllRanges(),Et>ne?(X.addRange(G),X.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),X.addRange(G))}}}}for(it=[],X=w;X=X.parentNode;)X.nodeType===1&&it.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<it.length;w++){var et=it[w];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Lh=!!op,lp=op=null}finally{$t=f,ot.p=u,Z.T=o}}i.current=r,ze=2}}function TT(){if(ze===2){ze=0;var i=ar,r=vo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=ot.p;ot.p=2;var f=$t;$t|=4;try{Y_(i,r.alternate,r)}finally{$t=f,ot.p=u,Z.T=o}}ze=3}}function ET(){if(ze===4||ze===3){ze=0,pc();var i=ar,r=vo,o=_s,u=oT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ze=5:(ze=0,vo=ar=null,bT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(rr=null),ns(o),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,f=ot.p,ot.p=2,Z.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];g(w.value,{componentStack:w.stack})}}finally{Z.T=r,ot.p=f}}(_s&3)!==0&&Ah(),Fi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Ym?au++:(au=0,Ym=i):au=0,ou(0)}}function bT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Bl(r)))}function Ah(){return _T(),TT(),ET(),ST()}function ST(){if(ze!==5)return!1;var i=ar,r=Km;Km=0;var o=ns(_s),u=Z.T,f=ot.p;try{ot.p=32>o?32:o,Z.T=null,o=$m,$m=null;var g=ar,T=_s;if(ze=0,vo=ar=null,_s=0,($t&6)!==0)throw Error(s(331));var w=$t;if($t|=4,sT(g.current),eT(g,g.current,T,o),$t=w,ou(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Zn,g)}catch{}return!0}finally{ot.p=f,Z.T=u,bT(i,r)}}function wT(i,r,o){r=Bn(o,r),r=xm(i.stateNode,r,2),i=Zs(i,r,2),i!==null&&(Br(i,2),Fi(i))}function Jt(i,r,o){if(i.tag===3)wT(i,i,o);else for(;r!==null;){if(r.tag===3){wT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rr===null||!rr.has(u))){i=Bn(o,i),o=A_(2),u=Zs(r,o,2),u!==null&&(x_(o,u,r,i),Br(u,2),Fi(u));break}}r=r.return}}function Wm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new XR;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Hm=!0,f.add(o),i=e2.bind(null,i,r,o),r.then(i,i))}function e2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ie===i&&(Pt&o)===o&&(ye===4||ye===3&&(Pt&62914560)===Pt&&300>hn()-_h?($t&2)===0&&_o(i,0):qm|=o,yo===Pt&&(yo=0)),Fi(i)}function AT(i,r){r===0&&(r=Ec()),i=ea(i,r),i!==null&&(Br(i,r),Fi(i))}function n2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),AT(i,o)}function i2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),AT(i,o)}function s2(i,r){return Ue(i,r)}var xh=null,Eo=null,Jm=!1,Ch=!1,Zm=!1,lr=0;function Fi(i){i!==Eo&&i.next===null&&(Eo===null?xh=Eo=i:Eo=Eo.next=i),Ch=!0,Jm||(Jm=!0,a2())}function ou(i,r){if(!Zm&&Ch){Zm=!0;do for(var o=!1,u=xh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var T=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-_e(42|i)+1)-1,g&=f&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,IT(u,g))}else g=Pt,g=wi(u,u===ie?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ti(u,g)||(o=!0,IT(u,g));u=u.next}while(o);Zm=!1}}function r2(){xT()}function xT(){Ch=Jm=!1;var i=0;lr!==0&&g2()&&(i=lr);for(var r=hn(),o=null,u=xh;u!==null;){var f=u.next,g=CT(u,r);g===0?(u.next=null,o===null?xh=f:o.next=f,f===null&&(Eo=o)):(o=u,(i!==0||(g&3)!==0)&&(Ch=!0)),u=f}ze!==0&&ze!==5||ou(i),lr!==0&&(lr=0)}function CT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-_e(g),w=1<<T,V=f[T];V===-1?((w&o)===0||(w&u)!==0)&&(f[T]=Rd(w,r)):V<=r&&(i.expiredLanes|=w),g&=~w}if(r=ie,o=Pt,o=wi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ks(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ti(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&ks(u),ns(o)){case 2:case 8:o=yl;break;case 32:o=Ls;break;case 268435456:o=gc;break;default:o=Ls}return u=RT.bind(null,i),o=Ue(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&ks(u),i.callbackPriority=2,i.callbackNode=null,2}function RT(i,r){if(ze!==0&&ze!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ah()&&i.callbackNode!==o)return null;var u=Pt;return u=wi(i,i===ie?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(uT(i,u,r),CT(i,hn()),i.callbackNode!=null&&i.callbackNode===o?RT.bind(null,i):null)}function IT(i,r){if(Ah())return null;uT(i,r,!0)}function a2(){v2(function(){($t&6)!==0?Ue(gl,r2):xT()})}function tp(){if(lr===0){var i=ro;i===0&&(i=bi,bi<<=1,(bi&261888)===0&&(bi=256)),lr=i}return lr}function NT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qa(""+i)}function DT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function o2(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=NT((f[He]||null).action),T=u.submitter;T&&(r=(r=T[He]||null)?NT(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var w=new Pi("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lr!==0){var V=T?DT(f,T):new FormData(f);Tm(o,{pending:!0,data:V,method:f.method,action:g},null,V)}}else typeof g=="function"&&(w.preventDefault(),V=T?DT(f,T):new FormData(f),Tm(o,{pending:!0,data:V,method:f.method,action:g},g,V))},currentTarget:f}]})}}for(var ep=0;ep<Ld.length;ep++){var np=Ld[ep],l2=np.toLowerCase(),u2=np[0].toUpperCase()+np.slice(1);li(l2,"on"+u2)}li(lv,"onAnimationEnd"),li(uv,"onAnimationIteration"),li(cv,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(AR,"onTransitionRun"),li(xR,"onTransitionStart"),li(CR,"onTransitionCancel"),li(hv,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function MT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var w=u[T],V=w.instance,K=w.currentTarget;if(w=w.listener,V!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=K;try{g(f)}catch(tt){Fc(tt)}f.currentTarget=null,g=V}else for(T=0;T<u.length;T++){if(w=u[T],V=w.instance,K=w.currentTarget,w=w.listener,V!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=K;try{g(f)}catch(tt){Fc(tt)}f.currentTarget=null,g=V}}}}function Vt(i,r){var o=r[Ua];o===void 0&&(o=r[Ua]=new Set);var u=i+"__bubble";o.has(u)||(VT(r,i,2,!1),o.add(u))}function ip(i,r,o){var u=0;r&&(u|=4),VT(o,i,u,r)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function sp(i){if(!i[Rh]){i[Rh]=!0,Tl.forEach(function(o){o!=="selectionchange"&&(c2.has(o)||ip(o,!1,i),ip(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Rh]||(r[Rh]=!0,ip("selectionchange",!1,r))}}function VT(i,r,o,u){switch(lE(r)){case 2:var f=j2;break;case 8:f=U2;break;default:f=_p}o=f.bind(null,r,o,i),f=void 0,!$r||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function rp(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===f)break;if(T===4)for(T=u.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;w!==null;){if(T=Ri(w),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){u=g=T;continue t}w=w.parentNode}}u=u.return}Hs(function(){var K=g,tt=Ln(o),it=[];t:{var Y=fv.get(i);if(Y!==void 0){var X=Pi,pt=i;switch(i){case"keypress":if(Qr(o)===0)break t;case"keydown":case"keyup":X=Uc;break;case"focusin":pt="focus",X=Wr;break;case"focusout":pt="blur",X=Wr;break;case"beforeblur":case"afterblur":X=Wr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case lv:case uv:case cv:X=Mc;break;case hv:X=x;break;case"scroll":case"scrollend":X=Ml;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=rs;break;case"toggle":case"beforetoggle":X=Rt}var Et=(r&4)!==0,ne=!Et&&(i==="scroll"||i==="scrollend"),B=Et?Y!==null?Y+"Capture":null:Y;Et=[];for(var U=K,G;U!==null;){var et=U;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||B===null||(et=si(U,B),et!=null&&Et.push(uu(U,et,G))),ne)break;U=U.return}0<Et.length&&(Y=new X(Y,pt,null,o,tt),it.push({event:Y,listeners:Et}))}}if((r&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==Il&&(pt=o.relatedTarget||o.fromElement)&&(Ri(pt)||pt[xi]))break t;if((X||Y)&&(Y=tt.window===tt?tt:(Y=tt.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(pt=o.relatedTarget||o.toElement,X=K,pt=pt?Ri(pt):null,pt!==null&&(ne=l(pt),Et=pt.tag,pt!==ne||Et!==5&&Et!==27&&Et!==6)&&(pt=null)):(X=null,pt=K),X!==pt)){if(Et=Vl,et="onMouseLeave",B="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Et=rs,et="onPointerLeave",B="onPointerEnter",U="pointer"),ne=X==null?Y:An(X),G=pt==null?Y:An(pt),Y=new Et(et,U+"leave",X,o,tt),Y.target=ne,Y.relatedTarget=G,et=null,Ri(tt)===K&&(Et=new Et(B,U+"enter",pt,o,tt),Et.target=G,Et.relatedTarget=ne,et=Et),ne=et,X&&pt)e:{for(Et=h2,B=X,U=pt,G=0,et=B;et;et=Et(et))G++;et=0;for(var _t=U;_t;_t=Et(_t))et++;for(;0<G-et;)B=Et(B),G--;for(;0<et-G;)U=Et(U),et--;for(;G--;){if(B===U||U!==null&&B===U.alternate){Et=B;break e}B=Et(B),U=Et(U)}Et=null}else Et=null;X!==null&&OT(it,Y,X,Et,!1),pt!==null&&ne!==null&&OT(it,ne,pt,Et,!0)}}t:{if(Y=K?An(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var qt=W0;else if(Q0(Y))if(J0)qt=bR;else{qt=TR;var yt=_R}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Ha(K.elementType)&&(qt=W0):qt=ER;if(qt&&(qt=qt(i,K))){X0(it,qt,o,tt);break t}yt&&yt(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&xl(Y,"number",Y.value)}switch(yt=K?An(K):window,i){case"focusin":(Q0(yt)||yt.contentEditable==="true")&&(Wa=yt,Od=K,jl=null);break;case"focusout":jl=Od=Wa=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,av(it,o,tt);break;case"selectionchange":if(wR)break;case"keydown":case"keyup":av(it,o,tt)}var Dt;if(Kt)t:{switch(i){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Xa?Jr(i,o)&&(kt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(ji&&o.locale!=="ko"&&(Xa||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Xa&&(Dt=Dl()):(Oi=tt,Nl="value"in Oi?Oi.value:Oi.textContent,Xa=!0)),yt=Ih(K,kt),0<yt.length&&(kt=new Li(kt,i,null,o,tt),it.push({event:kt,listeners:yt}),Dt?kt.data=Dt:(Dt=Qa(o),Dt!==null&&(kt.data=Dt)))),(Dt=Un?pR(i,o):gR(i,o))&&(kt=Ih(K,"onBeforeInput"),0<kt.length&&(yt=new Li("onBeforeInput","beforeinput",null,o,tt),it.push({event:yt,listeners:kt}),yt.data=Dt)),o2(it,i,K,o,tt)}MT(it,r)})}function uu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Ih(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=si(i,o),f!=null&&u.unshift(uu(i,f,g)),f=si(i,r),f!=null&&u.push(uu(i,f,g))),i.tag===3)return u;i=i.return}return[]}function h2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function OT(i,r,o,u,f){for(var g=r._reactName,T=[];o!==null&&o!==u;){var w=o,V=w.alternate,K=w.stateNode;if(w=w.tag,V!==null&&V===u)break;w!==5&&w!==26&&w!==27||K===null||(V=K,f?(K=si(o,g),K!=null&&T.unshift(uu(o,K,V))):f||(K=si(o,g),K!=null&&T.push(uu(o,K,V)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var f2=/\r\n?/g,d2=/\u0000|\uFFFD/g;function PT(i){return(typeof i=="string"?i:""+i).replace(f2,`
`).replace(d2,"")}function kT(i,r){return r=PT(r),PT(i)===r}function ee(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||vn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&vn(i,""+u);break;case"className":xn(i,"class",u);break;case"tabIndex":xn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(i,o,u);break;case"style":Rl(i,u,g);break;case"data":if(r!=="object"){xn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=qa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&ee(i,r,"name",f.name,f,null),ee(i,r,"formEncType",f.formEncType,f,null),ee(i,r,"formMethod",f.formMethod,f,null),ee(i,r,"formTarget",f.formTarget,f,null)):(ee(i,r,"encType",f.encType,f,null),ee(i,r,"method",f.method,f,null),ee(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=qa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ii);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=qa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Vt("beforetoggle",i),Vt("toggle",i),Ba(i,"popover",u);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ba(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ic.get(o)||o,Ba(i,o,u))}}function ap(i,r,o,u,f,g){switch(o){case"style":Rl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?vn(i,u):(typeof u=="number"||typeof u=="bigint")&&vn(i,""+u);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!El.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[He]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ba(i,o,u)}}}function Je(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",i),Vt("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(i,r,g,T,o,null)}}f&&ee(i,r,"srcSet",o.srcSet,o,null),u&&ee(i,r,"src",o.src,o,null);return;case"input":Vt("invalid",i);var w=g=T=f=null,V=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var tt=o[u];if(tt!=null)switch(u){case"name":f=tt;break;case"type":T=tt;break;case"checked":V=tt;break;case"defaultChecked":K=tt;break;case"value":g=tt;break;case"defaultValue":w=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,r));break;default:ee(i,r,u,tt,o,null)}}xc(i,g,w,V,K,T,f,!1);return;case"select":Vt("invalid",i),u=T=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:ee(i,r,f,w,o,null)}r=g,o=T,i.multiple=!!u,r!=null?Us(i,!!u,r,!1):o!=null&&Us(i,!!u,o,!0);return;case"textarea":Vt("invalid",i),g=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ee(i,r,T,w,o,null)}zs(i,u,f,g);return;case"option":for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null)&&(V==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ee(i,r,V,u,o,null));return;case"dialog":Vt("beforetoggle",i),Vt("toggle",i),Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":Vt("load",i);break;case"video":case"audio":for(u=0;u<lu.length;u++)Vt(lu[u],i);break;case"image":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"embed":case"source":case"link":Vt("error",i),Vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(i,r,K,u,o,null)}return;default:if(Ha(r)){for(tt in o)o.hasOwnProperty(tt)&&(u=o[tt],u!==void 0&&ap(i,r,tt,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ee(i,r,w,u,o,null))}function m2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,w=null,V=null,K=null,tt=null;for(X in o){var it=o[X];if(o.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=it;default:u.hasOwnProperty(X)||ee(i,r,X,null,u,it)}}for(var Y in u){var X=u[Y];if(it=o[Y],u.hasOwnProperty(Y)&&(X!=null||it!=null))switch(Y){case"type":g=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":tt=X;break;case"value":T=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==it&&ee(i,r,Y,X,u,it)}}Fa(i,T,w,V,K,tt,g,f);return;case"select":X=T=w=Y=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":X=V;default:u.hasOwnProperty(g)||ee(i,r,g,null,u,V)}for(f in u)if(g=u[f],V=o[f],u.hasOwnProperty(f)&&(g!=null||V!=null))switch(f){case"value":Y=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==V&&ee(i,r,f,g,u,V)}r=w,o=T,u=X,Y!=null?Us(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Us(i,!!o,r,!0):Us(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ee(i,r,w,null,u,f)}for(T in u)if(f=u[T],g=o[T],u.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&ee(i,r,T,f,u,g)}Cc(i,Y,X);return;case"option":for(var pt in o)Y=o[pt],o.hasOwnProperty(pt)&&Y!=null&&!u.hasOwnProperty(pt)&&(pt==="selected"?i.selected=!1:ee(i,r,pt,null,u,Y));for(V in u)Y=u[V],X=o[V],u.hasOwnProperty(V)&&Y!==X&&(Y!=null||X!=null)&&(V==="selected"?i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":ee(i,r,V,Y,u,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in o)Y=o[Et],o.hasOwnProperty(Et)&&Y!=null&&!u.hasOwnProperty(Et)&&ee(i,r,Et,null,u,Y);for(K in u)if(Y=u[K],X=o[K],u.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:ee(i,r,K,Y,u,X)}return;default:if(Ha(r)){for(var ne in o)Y=o[ne],o.hasOwnProperty(ne)&&Y!==void 0&&!u.hasOwnProperty(ne)&&ap(i,r,ne,void 0,u,Y);for(tt in u)Y=u[tt],X=o[tt],!u.hasOwnProperty(tt)||Y===X||Y===void 0&&X===void 0||ap(i,r,tt,Y,u,X);return}}for(var B in o)Y=o[B],o.hasOwnProperty(B)&&Y!=null&&!u.hasOwnProperty(B)&&ee(i,r,B,null,u,Y);for(it in u)Y=u[it],X=o[it],!u.hasOwnProperty(it)||Y===X||Y==null&&X==null||ee(i,r,it,Y,u,X)}function LT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],g=f.transferSize,T=f.initiatorType,w=f.duration;if(g&&w&&LT(T)){for(T=0,w=f.responseEnd,u+=1;u<o.length;u++){var V=o[u],K=V.startTime;if(K>w)break;var tt=V.transferSize,it=V.initiatorType;tt&&LT(it)&&(V=V.responseEnd,T+=tt*(V<w?1:(w-K)/(V-K)))}if(--u,r+=8*(g+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var op=null,lp=null;function Nh(i){return i.nodeType===9?i:i.ownerDocument}function jT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function up(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cp=null;function g2(){var i=window.event;return i&&i.type==="popstate"?i===cp?!1:(cp=i,!0):(cp=null,!1)}var zT=typeof setTimeout=="function"?setTimeout:void 0,y2=typeof clearTimeout=="function"?clearTimeout:void 0,BT=typeof Promise=="function"?Promise:void 0,v2=typeof queueMicrotask=="function"?queueMicrotask:typeof BT<"u"?function(i){return BT.resolve(null).then(i).catch(_2)}:zT;function _2(i){setTimeout(function(){throw i})}function ur(i){return i==="head"}function FT(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Ao(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")cu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,cu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[Ci]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&cu(i.ownerDocument.body);o=f}while(o);Ao(r)}function HT(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function hp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hp(o),za(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function T2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ci])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Kn(i.nextSibling),i===null)break}return null}function E2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Kn(i.nextSibling),i===null))return null;return i}function qT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Kn(i.nextSibling),i===null))return null;return i}function fp(i){return i.data==="$?"||i.data==="$~"}function dp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function b2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Kn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var mp=null;function GT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Kn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function KT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function $T(i,r,o){switch(r=Nh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function cu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);za(i)}var $n=new Map,YT=new Set;function Dh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ts=ot.d;ot.d={f:S2,r:w2,D:A2,C:x2,L:C2,m:R2,X:N2,S:I2,M:D2};function S2(){var i=Ts.f(),r=bh();return i||r}function w2(i){var r=kn(i);r!==null&&r.tag===5&&r.type==="form"?h_(r):Ts.r(i)}var bo=typeof document>"u"?null:document;function QT(i,r,o){var u=bo;if(u&&typeof r=="string"&&r){var f=yn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),YT.has(f)||(YT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function A2(i){Ts.D(i),QT("dns-prefetch",i,null)}function x2(i,r){Ts.C(i,r),QT("preconnect",i,r)}function C2(i,r,o){Ts.L(i,r,o);var u=bo;if(u&&i&&r){var f='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+yn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+yn(o.imageSizes)+'"]')):f+='[href="'+yn(i)+'"]';var g=f;switch(r){case"style":g=So(i);break;case"script":g=wo(i)}$n.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),$n.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(hu(g))||r==="script"&&u.querySelector(fu(g))||(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function R2(i,r){Ts.m(i,r);var o=bo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=wo(i)}if(!$n.has(g)&&(i=_({rel:"modulepreload",href:i},r),$n.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(fu(g)))return}u=o.createElement("link"),Je(u,"link",i),Ce(u),o.head.appendChild(u)}}}function I2(i,r,o){Ts.S(i,r,o);var u=bo;if(u&&i){var f=Ii(u).hoistableStyles,g=So(i);r=r||"default";var T=f.get(g);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(hu(g)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=$n.get(g))&&pp(i,o);var V=T=u.createElement("link");Ce(V),Je(V,"link",i),V._p=new Promise(function(K,tt){V.onload=K,V.onerror=tt}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Mh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:w},f.set(g,T)}}}function N2(i,r){Ts.X(i,r);var o=bo;if(o&&i){var u=Ii(o).hoistableScripts,f=wo(i),g=u.get(f);g||(g=o.querySelector(fu(f)),g||(i=_({src:i,async:!0},r),(r=$n.get(f))&&gp(i,r),g=o.createElement("script"),Ce(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function D2(i,r){Ts.M(i,r);var o=bo;if(o&&i){var u=Ii(o).hoistableScripts,f=wo(i),g=u.get(f);g||(g=o.querySelector(fu(f)),g||(i=_({src:i,async:!0,type:"module"},r),(r=$n.get(f))&&gp(i,r),g=o.createElement("script"),Ce(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function XT(i,r,o,u){var f=(f=Nt.current)?Dh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=So(o.href),o=Ii(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=So(o.href);var g=Ii(f).hoistableStyles,T=g.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=f.querySelector(hu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),$n.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$n.set(i,o),g||M2(f,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=wo(o),o=Ii(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function So(i){return'href="'+yn(i)+'"'}function hu(i){return'link[rel="stylesheet"]['+i+"]"}function WT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function M2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Je(r,"link",o),Ce(r),i.head.appendChild(r))}function wo(i){return'[src="'+yn(i)+'"]'}function fu(i){return"script[async]"+i}function JT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+yn(o.href)+'"]');if(u)return r.instance=u,Ce(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ce(u),Je(u,"style",f),Mh(u,o.precedence,i),r.instance=u;case"stylesheet":f=So(o.href);var g=i.querySelector(hu(f));if(g)return r.state.loading|=4,r.instance=g,Ce(g),g;u=WT(o),(f=$n.get(f))&&pp(u,f),g=(i.ownerDocument||i).createElement("link"),Ce(g);var T=g;return T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),Je(g,"link",u),r.state.loading|=4,Mh(g,o.precedence,i),r.instance=g;case"script":return g=wo(o.src),(f=i.querySelector(fu(g)))?(r.instance=f,Ce(f),f):(u=o,(f=$n.get(g))&&(u=_({},o),gp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ce(f),Je(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Mh(u,o.precedence,i));return r.instance}function Mh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===r)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function pp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function gp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Vh=null;function ZT(i,r,o){if(Vh===null){var u=new Map,f=Vh=new Map;f.set(o,u)}else f=Vh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ci]||g[xe]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var w=u.get(T);w?w.push(g):u.set(T,[g])}}return u}function tE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function V2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function eE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function O2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=So(u.href),g=r.querySelector(hu(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Oh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ce(g);return}g=r.ownerDocument||r,u=WT(u),(f=$n.get(f))&&pp(u,f),g=g.createElement("link"),Ce(g);var T=g;T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),Je(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Oh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var yp=0;function P2(i,r){return i.stylesheets&&i.count===0&&kh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&kh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&yp===0&&(yp=62500*p2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&kh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>yp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ph=null;function kh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ph=new Map,r.forEach(k2,i),Ph=null,Oh.call(i))}function k2(i,r){if(!(r.state.loading&4)){var o=Ph.get(i);if(o)var u=o.get(null);else{o=new Map,Ph.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,f),o.set(T,f),this.count++,u=Oh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var du={$$typeof:$,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function L2(i,r,o,u,f,g,T,w,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function nE(i,r,o,u,f,g,T,w,V,K,tt,it){return i=new L2(i,r,o,T,V,K,tt,it,w),r=1,g===!0&&(r|=24),g=Rn(3,null,null,r),i.current=g,g.stateNode=i,r=Xd(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},tm(g),i}function iE(i){return i?(i=to,i):to}function sE(i,r,o,u,f,g){f=iE(f),u.context===null?u.context=f:u.pendingContext=f,u=Js(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Zs(i,u,r),o!==null&&(Sn(o,i,r),Gl(o,i,r))}function rE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function vp(i,r){rE(i,r),(i=i.alternate)&&rE(i,r)}function aE(i){if(i.tag===13||i.tag===31){var r=ea(i,67108864);r!==null&&Sn(r,i,67108864),vp(i,67108864)}}function oE(i){if(i.tag===13||i.tag===31){var r=Vn();r=Hr(r);var o=ea(i,r);o!==null&&Sn(o,i,r),vp(i,r)}}var Lh=!0;function j2(i,r,o,u){var f=Z.T;Z.T=null;var g=ot.p;try{ot.p=2,_p(i,r,o,u)}finally{ot.p=g,Z.T=f}}function U2(i,r,o,u){var f=Z.T;Z.T=null;var g=ot.p;try{ot.p=8,_p(i,r,o,u)}finally{ot.p=g,Z.T=f}}function _p(i,r,o,u){if(Lh){var f=Tp(u);if(f===null)rp(i,r,u,jh,o),uE(i,u);else if(B2(f,i,r,o,u))u.stopPropagation();else if(uE(i,u),r&4&&-1<z2.indexOf(i)){for(;f!==null;){var g=kn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Si(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var V=1<<31-_e(T);w.entanglements[1]|=V,T&=~V}Fi(g),($t&6)===0&&(Th=hn()+500,ou(0))}}break;case 31:case 13:w=ea(g,2),w!==null&&Sn(w,g,2),bh(),vp(g,2)}if(g=Tp(u),g===null&&rp(i,r,u,jh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else rp(i,r,u,null,o)}}function Tp(i){return i=Ln(i),Ep(i)}var jh=null;function Ep(i){if(jh=null,i=Ri(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return jh=i,null}function lE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ur()){case gl:return 2;case yl:return 8;case Ls:case Cd:return 32;case gc:return 268435456;default:return 32}default:return 32}}var bp=!1,cr=null,hr=null,fr=null,mu=new Map,pu=new Map,dr=[],z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uE(i,r){switch(i){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":mu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(r.pointerId)}}function gu(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=kn(r),r!==null&&aE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function B2(i,r,o,u,f){switch(r){case"focusin":return cr=gu(cr,i,r,o,u,f),!0;case"dragenter":return hr=gu(hr,i,r,o,u,f),!0;case"mouseover":return fr=gu(fr,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return mu.set(g,gu(mu.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,pu.set(g,gu(pu.get(g)||null,i,r,o,u,f)),!0}return!1}function cE(i){var r=Ri(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ei(i.priority,function(){oE(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,ei(i.priority,function(){oE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Uh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Tp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Il=u,o.target.dispatchEvent(u),Il=null}else return r=kn(o),r!==null&&aE(r),i.blockedOn=o,!1;r.shift()}return!0}function hE(i,r,o){Uh(i)&&o.delete(r)}function F2(){bp=!1,cr!==null&&Uh(cr)&&(cr=null),hr!==null&&Uh(hr)&&(hr=null),fr!==null&&Uh(fr)&&(fr=null),mu.forEach(hE),pu.forEach(hE)}function zh(i,r){i.blockedOn===r&&(i.blockedOn=null,bp||(bp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,F2)))}var Bh=null;function fE(i){Bh!==i&&(Bh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Bh===i&&(Bh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Ep(u||o)===null)continue;break}var g=kn(o);g!==null&&(i.splice(r,3),r-=3,Tm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ao(i){function r(V){return zh(V,i)}cr!==null&&zh(cr,i),hr!==null&&zh(hr,i),fr!==null&&zh(fr,i),mu.forEach(r),pu.forEach(r);for(var o=0;o<dr.length;o++){var u=dr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<dr.length&&(o=dr[0],o.blockedOn===null);)cE(o),o.blockedOn===null&&dr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],T=f[He]||null;if(typeof g=="function")T||fE(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[He]||null)w=T.formAction;else if(Ep(f)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),fE(o)}}}function dE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Sp(i){this._internalRoot=i}Fh.prototype.render=Sp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Vn();sE(o,u,i,r,null,null)},Fh.prototype.unmount=Sp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;sE(i.current,2,null,i,null,null),bh(),r[xi]=null}};function Fh(i){this._internalRoot=i}Fh.prototype.unstable_scheduleHydration=function(i){if(i){var r=bc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<dr.length&&r!==0&&r<dr[o].priority;o++);dr.splice(o,0,i),o===0&&cE(i)}};var mE=t.version;if(mE!=="19.2.4")throw Error(s(527,mE,"19.2.4"));ot.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var H2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{Zn=Hh.inject(H2),$e=Hh}catch{}}return vu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=E_,g=b_,T=S_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=nE(i,1,!1,null,null,o,u,null,f,g,T,dE),i[xi]=r.current,sp(i),new Sp(r)},vu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=E_,T=b_,w=S_,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=nE(i,1,!0,r,o??null,u,f,V,g,T,w,dE),r.context=iE(null),o=r.current,u=Vn(),u=Hr(u),f=Js(u),f.callback=null,Zs(o,f,u),o=u,r.current.lanes=o,Br(r,o),Fi(r),i[xi]=r.current,sp(i),new Fh(r)},vu.version="19.2.4",vu}var wE;function Z2(){if(wE)return xp.exports;wE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xp.exports=J2(),xp.exports}var tI=Z2();const eI=NS(tI);var AE="popstate";function nI(e={}){function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return fg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Lu(a)}return sI(t,n,null,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _i(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iI(){return Math.random().toString(36).substring(2,10)}function xE(e,t){return{usr:e.state,key:e.key,idx:t}}function fg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Jo(t):t,state:n,key:t&&t.key||s||iI()}}function Lu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Jo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function sI(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let L=y(),F=L==null?null:L-p;p=L,m&&m({action:d,location:P.location,delta:F})}function E(L,F){d="PUSH";let H=fg(P.location,L,F);p=y()+1;let $=xE(H,p),W=P.createHref(H);try{c.pushState($,"",W)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(W)}l&&m&&m({action:d,location:P.location,delta:1})}function C(L,F){d="REPLACE";let H=fg(P.location,L,F);p=y();let $=xE(H,p),W=P.createHref(H);c.replaceState($,"",W),l&&m&&m({action:d,location:P.location,delta:0})}function N(L){return rI(L)}let P={get action(){return d},get location(){return e(a,c)},listen(L){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(AE,_),m=L,()=>{a.removeEventListener(AE,_),m=null}},createHref(L){return t(a,L)},createURL:N,encodeLocation(L){let F=N(L);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:C,go(L){return c.go(L)}};return P}function rI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),de(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Lu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function MS(e,t,n="/"){return aI(e,t,n,!1)}function aI(e,t,n,s){let a=typeof t=="string"?Jo(t):t,l=Cs(a.pathname||"/",n);if(l==null)return null;let c=VS(e);oI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=vI(l);d=gI(c[m],p,s)}return d}function VS(e,t=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;de(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=As([s,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(de(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),VS(c.children,t,E,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:mI(_,c.index),routesMeta:E})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of OS(c.path))l(c,d,!0,m)}),t}function OS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=OS(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function oI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var lI=/^:[\w-]+$/,uI=3,cI=2,hI=1,fI=10,dI=-2,CE=e=>e==="*";function mI(e,t){let n=e.split("/"),s=n.length;return n.some(CE)&&(s+=dI),t&&(s+=cI),n.filter(a=>!CE(a)).reduce((a,l)=>a+(lI.test(l)?uI:l===""?hI:fI),s)}function pI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function gI(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:As([l,_.pathname]),pathnameBase:bI(As([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=As([l,_.pathnameBase]))}return c}function Sf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=yI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let N=d[E]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const C=d[E];return _&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function yI(e,t=!1,n=!0){_i(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function vI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _i(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var _I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function TI(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Jo(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=RE(n.substring(1),"/"):l=RE(n,t)):l=t,{pathname:l,search:SI(s),hash:wI(a)}}function RE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Np(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dy(e){let t=EI(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function my(e,t,n,s=!1){let a;typeof e=="string"?a=Jo(e):(a={...e},de(!a.pathname||!a.pathname.includes("?"),Np("?","pathname","search",a)),de(!a.pathname||!a.pathname.includes("#"),Np("#","pathname","hash",a)),de(!a.search||!a.search.includes("#"),Np("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}d=_>=0?t[_]:"/"}let m=TI(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var As=e=>e.join("/").replace(/\/\/+/g,"/"),bI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,AI=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function CI(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var PS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kS(e,t){let n=e;if(typeof n!="string"||!_I.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(PS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Cs(c.pathname,t);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{_i(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LS=["POST","PUT","PATCH","DELETE"];new Set(LS);var RI=["GET",...LS];new Set(RI);var Zo=D.createContext(null);Zo.displayName="DataRouter";var Jf=D.createContext(null);Jf.displayName="DataRouterState";var II=D.createContext(!1),jS=D.createContext({isTransitioning:!1});jS.displayName="ViewTransition";var NI=D.createContext(new Map);NI.displayName="Fetchers";var DI=D.createContext(null);DI.displayName="Await";var On=D.createContext(null);On.displayName="Navigation";var Zu=D.createContext(null);Zu.displayName="Location";var Jn=D.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var py=D.createContext(null);py.displayName="RouteError";var US="REACT_ROUTER_ERROR",MI="REDIRECT",VI="ROUTE_ERROR_RESPONSE";function OI(e){if(e.startsWith(`${US}:${MI}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function PI(e){if(e.startsWith(`${US}:${VI}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new AI(t.status,t.statusText,t.data)}catch{}}function kI(e,{relative:t}={}){de(tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(On),{hash:a,pathname:l,search:c}=tc(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:As([n,l])),s.createHref({pathname:d,search:c,hash:a})}function tl(){return D.useContext(Zu)!=null}function Vs(){return de(tl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Zu).location}var zS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BS(e){D.useContext(On).static||D.useLayoutEffect(e)}function Zf(){let{isDataRoute:e}=D.useContext(Jn);return e?JI():LI()}function LI(){de(tl(),"useNavigate() may be used only in the context of a <Router> component.");let e=D.useContext(Zo),{basename:t,navigator:n}=D.useContext(On),{matches:s}=D.useContext(Jn),{pathname:a}=Vs(),l=JSON.stringify(dy(s)),c=D.useRef(!1);return BS(()=>{c.current=!0}),D.useCallback((m,p={})=>{if(_i(c.current,zS),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=my(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:As([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}var jI=D.createContext(null);function UI(e){let t=D.useContext(Jn).outlet;return D.useMemo(()=>t&&D.createElement(jI.Provider,{value:e},t),[t,e])}function zI(){let{matches:e}=D.useContext(Jn),t=e[e.length-1];return t?t.params:{}}function tc(e,{relative:t}={}){let{matches:n}=D.useContext(Jn),{pathname:s}=Vs(),a=JSON.stringify(dy(n));return D.useMemo(()=>my(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function BI(e,t){return FS(e,t)}function FS(e,t,n,s,a){de(tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(On),{matches:c}=D.useContext(Jn),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let H=_&&_.path||"";qS(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let E=Vs(),C;if(t){let H=typeof t=="string"?Jo(t):t;de(y==="/"||H.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),C=H}else C=E;let N=C.pathname||"/",P=N;if(y!=="/"){let H=y.replace(/^\//,"").split("/");P="/"+N.replace(/^\//,"").split("/").slice(H.length).join("/")}let L=MS(e,{pathname:P});_i(_||L!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),_i(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=KI(L&&L.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:As([y,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:As([y,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,s,a);return t&&F?D.createElement(Zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},F):F}function FI(){let e=WI(),t=xI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:a},n):null,c)}var HI=D.createElement(FI,null),HS=class extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=PI(e.digest);n&&(e=n)}let t=e!==void 0?D.createElement(Jn.Provider,{value:this.props.routeContext},D.createElement(py.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?D.createElement(qI,{error:e},t):t}};HS.contextType=II;var Dp=new WeakMap;function qI({children:e,error:t}){let{basename:n}=D.useContext(On);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=OI(t.digest);if(s){let a=Dp.get(t);if(a)throw a;let l=kS(s.location,n);if(PS&&!Dp.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Dp.set(t,c),c}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function GI({routeContext:e,match:t,children:n}){let s=D.useContext(Zo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Jn.Provider,{value:e},n)}function KI(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);de(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:E,errors:C}=n,N=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!C||C[_.route.id]===void 0);if(_.route.lazy||N){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:CI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,E)=>{let C,N=!1,P=null,L=null;n&&(C=c&&_.route.id?c[_.route.id]:void 0,P=_.route.errorElement||HI,d&&(m<0&&E===0?(qS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,L=null):m===E&&(N=!0,L=_.route.hydrateFallbackElement||null)));let F=t.concat(l.slice(0,E+1)),H=()=>{let $;return C?$=P:N?$=L:_.route.Component?$=D.createElement(_.route.Component,null):_.route.element?$=_.route.element:$=y,D.createElement(GI,{match:_,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:$})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?D.createElement(HS,{location:n.location,revalidation:n.revalidation,component:P,error:C,children:H(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):H()},null)}function gy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $I(e){let t=D.useContext(Zo);return de(t,gy(e)),t}function YI(e){let t=D.useContext(Jf);return de(t,gy(e)),t}function QI(e){let t=D.useContext(Jn);return de(t,gy(e)),t}function yy(e){let t=QI(e),n=t.matches[t.matches.length-1];return de(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function XI(){return yy("useRouteId")}function WI(){let e=D.useContext(py),t=YI("useRouteError"),n=yy("useRouteError");return e!==void 0?e:t.errors?.[n]}function JI(){let{router:e}=$I("useNavigate"),t=yy("useNavigate"),n=D.useRef(!1);return BS(()=>{n.current=!0}),D.useCallback(async(a,l={})=>{_i(n.current,zS),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var IE={};function qS(e,t,n){!t&&!IE[e]&&(IE[e]=!0,_i(!1,n))}D.memo(ZI);function ZI({routes:e,future:t,state:n,onError:s}){return FS(e,void 0,n,s,t)}function tN({to:e,replace:t,state:n,relative:s}){de(tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(On);_i(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(Jn),{pathname:c}=Vs(),d=Zf(),m=my(e,dy(l),c,s==="path"),p=JSON.stringify(m);return D.useEffect(()=>{d(JSON.parse(p),{replace:t,state:n,relative:s})},[d,p,s,t,n]),null}function Es(e){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eN({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){de(!tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=Jo(n));let{pathname:p="/",search:y="",hash:_="",state:E=null,key:C="default"}=n,N=D.useMemo(()=>{let P=Cs(p,d);return P==null?null:{location:{pathname:P,search:y,hash:_,state:E,key:C},navigationType:s}},[d,p,y,_,E,C,s]);return _i(N!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:D.createElement(On.Provider,{value:m},D.createElement(Zu.Provider,{children:t,value:N}))}function nN({children:e,location:t}){return BI(dg(e),t)}function dg(e,t=[]){let n=[];return D.Children.forEach(e,(s,a)=>{if(!D.isValidElement(s))return;let l=[...t,a];if(s.type===D.Fragment){n.push.apply(n,dg(s.props.children,l));return}de(s.type===Es,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=dg(s.props.children,l)),n.push(c)}),n}var nf="get",sf="application/x-www-form-urlencoded";function td(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function iN(e){return td(e)&&e.tagName.toLowerCase()==="button"}function sN(e){return td(e)&&e.tagName.toLowerCase()==="form"}function rN(e){return td(e)&&e.tagName.toLowerCase()==="input"}function aN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oN(e,t){return e.button===0&&(!t||t==="_self")&&!aN(e)}var qh=null;function lN(){if(qh===null)try{new FormData(document.createElement("form"),0),qh=!1}catch{qh=!0}return qh}var uN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mp(e){return e!=null&&!uN.has(e)?(_i(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):e}function cN(e,t){let n,s,a,l,c;if(sN(e)){let d=e.getAttribute("action");s=d?Cs(d,t):null,n=e.getAttribute("method")||nf,a=Mp(e.getAttribute("enctype"))||sf,l=new FormData(e)}else if(iN(e)||rN(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?Cs(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||nf,a=Mp(e.getAttribute("formenctype"))||Mp(d.getAttribute("enctype"))||sf,l=new FormData(d,e),!lN()){let{name:p,type:y,value:_}=e;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(td(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nf,s=null,a=sf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hN(e,t,n,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:t&&Cs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function fN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function mN(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await fN(l,n);return c.links?c.links():[]}return[]}));return vN(s.flat(1).filter(dN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function NE(e,t,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function pN(e,t,{includeHydrateFallback:n}={}){return gN(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function gN(e){return[...new Set(e)]}function yN(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function vN(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(yN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function GS(){let e=D.useContext(Zo);return vy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _N(){let e=D.useContext(Jf);return vy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _y=D.createContext(void 0);_y.displayName="FrameworkContext";function KS(){let e=D.useContext(_y);return vy(e,"You must render this element inside a <HydratedRouter> element"),e}function TN(e,t){let n=D.useContext(_y),[s,a]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,E=D.useRef(null);D.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let P=F=>{F.forEach(H=>{c(H.isIntersecting)})},L=new IntersectionObserver(P,{threshold:.5});return E.current&&L.observe(E.current),()=>{L.disconnect()}}},[e]),D.useEffect(()=>{if(s){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[s]);let C=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:_u(d,C),onBlur:_u(m,N),onMouseEnter:_u(p,C),onMouseLeave:_u(y,N),onTouchStart:_u(_,C)}]:[!1,E,{}]}function _u(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function EN({page:e,...t}){let{router:n}=GS(),s=D.useMemo(()=>MS(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?D.createElement(SN,{page:e,matches:s,...t}):null}function bN(e){let{manifest:t,routeModules:n}=KS(),[s,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return mN(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function SN({page:e,matches:t,...n}){let s=Vs(),{future:a,manifest:l,routeModules:c}=KS(),{basename:d}=GS(),{loaderData:m,matches:p}=_N(),y=D.useMemo(()=>NE(e,t,p,l,s,"data"),[e,t,p,l,s]),_=D.useMemo(()=>NE(e,t,p,l,s,"assets"),[e,t,p,l,s]),E=D.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let P=new Set,L=!1;if(t.forEach(H=>{let $=l.routes[H.route.id];!$||!$.hasLoader||(!y.some(W=>W.route.id===H.route.id)&&H.route.id in m&&c[H.route.id]?.shouldRevalidate||$.hasClientLoader?L=!0:P.add(H.route.id))}),P.size===0)return[];let F=hN(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return L&&P.size>0&&F.searchParams.set("_routes",t.filter(H=>P.has(H.route.id)).map(H=>H.route.id).join(",")),[F.pathname+F.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,t,e,c]),C=D.useMemo(()=>pN(_,l),[_,l]),N=bN(_);return D.createElement(D.Fragment,null,E.map(P=>D.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),C.map(P=>D.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),N.map(({key:P,link:L})=>D.createElement("link",{key:P,nonce:n.nonce,...L,crossOrigin:L.crossOrigin??n.crossOrigin})))}function wN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var AN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AN&&(window.__reactRouterVersion="7.13.0")}catch{}function xN({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=D.useRef();a.current==null&&(a.current=nI({window:s,v5Compat:!0}));let l=a.current,[c,d]=D.useState({action:l.action,location:l.location}),m=D.useCallback(p=>{n===!1?d(p):D.startTransition(()=>d(p))},[n]);return D.useLayoutEffect(()=>l.listen(m),[l,m]),D.createElement(eN,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var $S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=D.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...C},N){let{basename:P,unstable_useTransitions:L}=D.useContext(On),F=typeof p=="string"&&$S.test(p),H=kS(p,P);p=H.to;let $=kI(p,{relative:a}),[W,J,at]=TN(s,C),R=NN(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:L});function A(O){t&&t(O),O.defaultPrevented||R(O)}let I=D.createElement("a",{...C,...at,href:H.absoluteURL||$,onClick:H.isExternal||l?t:A,ref:wN(N,J),target:m,"data-discover":!F&&n==="render"?"true":void 0});return W&&!F?D.createElement(D.Fragment,null,I,D.createElement(EN,{page:$})):I});an.displayName="Link";var CN=D.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=tc(c,{relative:p.relative}),E=Vs(),C=D.useContext(Jf),{navigator:N,basename:P}=D.useContext(On),L=C!=null&&PN(_)&&d===!0,F=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,H=E.pathname,$=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(H=H.toLowerCase(),$=$?$.toLowerCase():null,F=F.toLowerCase()),$&&P&&($=Cs($,P)||$);const W=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let J=H===F||!a&&H.startsWith(F)&&H.charAt(W)==="/",at=$!=null&&($===F||!a&&$.startsWith(F)&&$.charAt(F.length)==="/"),R={isActive:J,isPending:at,isTransitioning:L},A=J?t:void 0,I;typeof s=="function"?I=s(R):I=[s,J?"active":null,at?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(R):l;return D.createElement(an,{...p,"aria-current":A,className:I,ref:y,style:O,to:c,viewTransition:d},typeof m=="function"?m(R):m)});CN.displayName="NavLink";var RN=D.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=nf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...C},N)=>{let{unstable_useTransitions:P}=D.useContext(On),L=VN(),F=ON(d,{relative:p}),H=c.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&$S.test(d),W=J=>{if(m&&m(J),J.defaultPrevented)return;J.preventDefault();let at=J.nativeEvent.submitter,R=at?.getAttribute("formmethod")||c,A=()=>L(at||J.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E});P&&n!==!1?D.startTransition(()=>A()):A()};return D.createElement("form",{ref:N,method:H,action:F,onSubmit:s?m:W,...C,"data-discover":!$&&e==="render"?"true":void 0})});RN.displayName="Form";function IN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YS(e){let t=D.useContext(Zo);return de(t,IN(e)),t}function NN(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=Zf(),y=Vs(),_=tc(e,{relative:l});return D.useCallback(E=>{if(oN(E,t)){E.preventDefault();let C=n!==void 0?n:Lu(y)===Lu(_),N=()=>p(e,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?D.startTransition(()=>N()):N()}},[y,p,_,n,s,t,e,a,l,c,d,m])}var DN=0,MN=()=>`__${String(++DN)}__`;function VN(){let{router:e}=YS("useSubmit"),{basename:t}=D.useContext(On),n=XI(),s=e.fetch,a=e.navigate;return D.useCallback(async(l,c={})=>{let{action:d,method:m,encType:p,formData:y,body:_}=cN(l,t);if(c.navigate===!1){let E=c.fetcherKey||MN();await s(E,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function ON(e,{relative:t}={}){let{basename:n}=D.useContext(On),s=D.useContext(Jn);de(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...tc(e||".",{relative:t})},c=Vs();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:As([n,l.pathname])),Lu(l)}function PN(e,{relative:t}={}){let n=D.useContext(jS);de(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=YS("useViewTransitionState"),a=tc(e,{relative:t});if(!n.isTransitioning)return!1;let l=Cs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Cs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sf(a.pathname,c)!=null||Sf(a.pathname,l)!=null}const Ty=D.createContext({});function Ey(e){const t=D.useRef(null);return t.current===null&&(t.current=e()),t.current}const QS=typeof window<"u",XS=QS?D.useLayoutEffect:D.useEffect,ed=D.createContext(null);function by(e,t){e.indexOf(t)===-1&&e.push(t)}function wf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ji=(e,t,n)=>n>t?t:n<e?e:n;let Sy=()=>{};const Rs={},WS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function JS(e){return typeof e=="object"&&e!==null}const ZS=e=>/^0[^.\s]+$/u.test(e);function wy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wn=e=>e,kN=(e,t)=>n=>t(e(n)),ec=(...e)=>e.reduce(kN),ju=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Ay{constructor(){this.subscriptions=[]}add(t){return by(this.subscriptions,t),()=>wf(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gi=e=>e*1e3,Xn=e=>e/1e3;function tw(e,t){return t?e*(1e3/t):0}const ew=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,LN=1e-7,jN=12;function UN(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=ew(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>LN&&++d<jN);return c}function nc(e,t,n,s){if(e===t&&n===s)return Wn;const a=l=>UN(l,0,1,e,n);return l=>l===0||l===1?l:ew(a(l),t,s)}const nw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iw=e=>t=>1-e(1-t),sw=nc(.33,1.53,.69,.99),xy=iw(sw),rw=nw(xy),aw=e=>(e*=2)<1?.5*xy(e):.5*(2-Math.pow(2,-10*(e-1))),Cy=e=>1-Math.sin(Math.acos(e)),ow=iw(Cy),lw=nw(Cy),zN=nc(.42,0,1,1),BN=nc(0,0,.58,1),uw=nc(.42,0,.58,1),FN=e=>Array.isArray(e)&&typeof e[0]!="number",cw=e=>Array.isArray(e)&&typeof e[0]=="number",HN={linear:Wn,easeIn:zN,easeInOut:uw,easeOut:BN,circIn:Cy,circInOut:lw,circOut:ow,backIn:xy,backInOut:rw,backOut:sw,anticipate:aw},qN=e=>typeof e=="string",DE=e=>{if(cw(e)){Sy(e.length===4);const[t,n,s,a]=e;return nc(t,n,s,a)}else if(qN(e))return HN[e];return e},Gh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function GN(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(d)}const p={schedule:(y,_=!1,E=!1)=>{const N=E&&a?n:s;return _&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const KN=40;function hw(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Gh.reduce(($,W)=>($[W]=GN(l),$),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:C,postRender:N}=c,P=()=>{const $=Rs.useManualTiming?a.timestamp:performance.now();n=!1,Rs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min($-a.timestamp,KN),1)),a.timestamp=$,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),C.process(a),N.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(P))},L=()=>{n=!0,s=!0,a.isProcessing||e(P)};return{schedule:Gh.reduce(($,W)=>{const J=c[W];return $[W]=(at,R=!1,A=!1)=>(n||L(),J.schedule(at,R,A)),$},{}),cancel:$=>{for(let W=0;W<Gh.length;W++)c[Gh[W]].cancel($)},state:a,steps:c}}const{schedule:re,cancel:Rr,state:Ze,steps:Vp}=hw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let rf;function $N(){rf=void 0}const mn={now:()=>(rf===void 0&&mn.set(Ze.isProcessing||Rs.useManualTiming?Ze.timestamp:performance.now()),rf),set:e=>{rf=e,queueMicrotask($N)}},fw=e=>t=>typeof t=="string"&&t.startsWith(e),dw=fw("--"),YN=fw("var(--"),Ry=e=>YN(e)?QN.test(e.split("/*")[0].trim()):!1,QN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ME(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const el={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Uu={...el,transform:e=>Ji(0,1,e)},Kh={...el,default:1},Cu=e=>Math.round(e*1e5)/1e5,Iy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XN(e){return e==null}const WN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ny=(e,t)=>n=>!!(typeof n=="string"&&WN.test(n)&&n.startsWith(e)||t&&!XN(n)&&Object.prototype.hasOwnProperty.call(n,t)),mw=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Iy);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},JN=e=>Ji(0,255,e),Op={...el,transform:e=>Math.round(JN(e))},ya={test:Ny("rgb","red"),parse:mw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Op.transform(e)+", "+Op.transform(t)+", "+Op.transform(n)+", "+Cu(Uu.transform(s))+")"};function ZN(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const mg={test:Ny("#"),parse:ZN,transform:ya.transform},ic=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),gr=ic("deg"),Gi=ic("%"),gt=ic("px"),tD=ic("vh"),eD=ic("vw"),VE={...Gi,parse:e=>Gi.parse(e)/100,transform:e=>Gi.transform(e*100)},Do={test:Ny("hsl","hue"),parse:mw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Gi.transform(Cu(t))+", "+Gi.transform(Cu(n))+", "+Cu(Uu.transform(s))+")"},Oe={test:e=>ya.test(e)||mg.test(e)||Do.test(e),parse:e=>ya.test(e)?ya.parse(e):Do.test(e)?Do.parse(e):mg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ya.transform(e):Do.transform(e),getAnimatableNone:e=>{const t=Oe.parse(e);return t.alpha=0,Oe.transform(t)}},nD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iD(e){return isNaN(e)&&typeof e=="string"&&(e.match(Iy)?.length||0)+(e.match(nD)?.length||0)>0}const pw="number",gw="color",sD="var",rD="var(",OE="${}",aD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(aD,m=>(Oe.test(m)?(s.color.push(l),a.push(gw),n.push(Oe.parse(m))):m.startsWith(rD)?(s.var.push(l),a.push(sD),n.push(m)):(s.number.push(l),a.push(pw),n.push(parseFloat(m))),++l,OE)).split(OE);return{values:n,split:d,indexes:s,types:a}}function yw(e){return zu(e).values}function vw(e){const{split:t,types:n}=zu(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===pw?l+=Cu(a[c]):d===gw?l+=Oe.transform(a[c]):l+=a[c]}return l}}const oD=e=>typeof e=="number"?0:Oe.test(e)?Oe.getAnimatableNone(e):e;function lD(e){const t=yw(e);return vw(e)(t.map(oD))}const Ir={test:iD,parse:yw,createTransformer:vw,getAnimatableNone:lD};function Pp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uD({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Pp(m,d,e+1/3),l=Pp(m,d,e),c=Pp(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Af(e,t){return n=>n>0?t:e}const me=(e,t,n)=>e+(t-e)*n,kp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},cD=[mg,ya,Do],hD=e=>cD.find(t=>t.test(e));function PE(e){const t=hD(e);if(!t)return!1;let n=t.parse(e);return t===Do&&(n=uD(n)),n}const kE=(e,t)=>{const n=PE(e),s=PE(t);if(!n||!s)return Af(e,t);const a={...n};return l=>(a.red=kp(n.red,s.red,l),a.green=kp(n.green,s.green,l),a.blue=kp(n.blue,s.blue,l),a.alpha=me(n.alpha,s.alpha,l),ya.transform(a))},pg=new Set(["none","hidden"]);function fD(e,t){return pg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function dD(e,t){return n=>me(e,t,n)}function Dy(e){return typeof e=="number"?dD:typeof e=="string"?Ry(e)?Af:Oe.test(e)?kE:gD:Array.isArray(e)?_w:typeof e=="object"?Oe.test(e)?kE:mD:Af}function _w(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Dy(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function mD(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Dy(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function pD(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const gD=(e,t)=>{const n=Ir.createTransformer(t),s=zu(e),a=zu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?pg.has(e)&&!a.values.length||pg.has(t)&&!s.values.length?fD(e,t):ec(_w(pD(s,a),a.values),n):Af(e,t)};function Tw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?me(e,t,n):Dy(e)(e,t)}const yD=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>re.update(t,n),stop:()=>Rr(t),now:()=>Ze.isProcessing?Ze.timestamp:mn.now()}},Ew=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},xf=2e4;function My(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<xf;)t+=n,s=e.next(t);return t>=xf?1/0:t}function vD(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(My(s),xf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Xn(a)}}const _D=5;function bw(e,t,n){const s=Math.max(t-_D,0);return tw(n-e(s),t-s)}const ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lp=.001;function TD({duration:e=ve.duration,bounce:t=ve.bounce,velocity:n=ve.velocity,mass:s=ve.mass}){let a,l,c=1-t;c=Ji(ve.minDamping,ve.maxDamping,c),e=Ji(ve.minDuration,ve.maxDuration,Xn(e)),c<1?(a=p=>{const y=p*c,_=y*e,E=y-n,C=gg(p,c),N=Math.exp(-_);return Lp-E/C*N},l=p=>{const _=p*c*e,E=_*n+n,C=Math.pow(c,2)*Math.pow(p,2)*e,N=Math.exp(-_),P=gg(Math.pow(p,2),c);return(-a(p)+Lp>0?-1:1)*((E-C)*N)/P}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-Lp+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const d=5/e,m=bD(a,l,d);if(e=gi(e),isNaN(m))return{stiffness:ve.stiffness,damping:ve.damping,duration:e};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const ED=12;function bD(e,t,n){let s=n;for(let a=1;a<ED;a++)s=s-e(s)/t(s);return s}function gg(e,t){return e*Math.sqrt(1-t*t)}const SD=["duration","bounce"],wD=["stiffness","damping","mass"];function LE(e,t){return t.some(n=>e[n]!==void 0)}function AD(e){let t={velocity:ve.velocity,stiffness:ve.stiffness,damping:ve.damping,mass:ve.mass,isResolvedFromDuration:!1,...e};if(!LE(e,wD)&&LE(e,SD))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ji(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ve.mass,stiffness:a,damping:l}}else{const n=TD(e);t={...t,...n,mass:ve.mass},t.isResolvedFromDuration=!0}return t}function Cf(e=ve.visualDuration,t=ve.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:C}=AD({...n,velocity:-Xn(n.velocity||0)}),N=E||0,P=p/(2*Math.sqrt(m*y)),L=c-l,F=Xn(Math.sqrt(m/y)),H=Math.abs(L)<5;s||(s=H?ve.restSpeed.granular:ve.restSpeed.default),a||(a=H?ve.restDelta.granular:ve.restDelta.default);let $;if(P<1){const J=gg(F,P);$=at=>{const R=Math.exp(-P*F*at);return c-R*((N+P*F*L)/J*Math.sin(J*at)+L*Math.cos(J*at))}}else if(P===1)$=J=>c-Math.exp(-F*J)*(L+(N+F*L)*J);else{const J=F*Math.sqrt(P*P-1);$=at=>{const R=Math.exp(-P*F*at),A=Math.min(J*at,300);return c-R*((N+P*F*L)*Math.sinh(A)+J*L*Math.cosh(A))/J}}const W={calculatedDuration:C&&_||null,next:J=>{const at=$(J);if(C)d.done=J>=_;else{let R=J===0?N:0;P<1&&(R=J===0?gi(N):bw($,J,at));const A=Math.abs(R)<=s,I=Math.abs(c-at)<=a;d.done=A&&I}return d.value=d.done?c:at,d},toString:()=>{const J=Math.min(My(W),xf),at=Ew(R=>W.next(J*R).value,J,30);return J+"ms "+at},toTransition:()=>{}};return W}Cf.applyToOptions=e=>{const t=vD(e,100,Cf);return e.ease=t.ease,e.duration=gi(t.duration),e.type="keyframes",e};function yg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],E={done:!1,value:_},C=A=>d!==void 0&&A<d||m!==void 0&&A>m,N=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let P=n*t;const L=_+P,F=c===void 0?L:c(L);F!==L&&(P=F-_);const H=A=>-P*Math.exp(-A/s),$=A=>F+H(A),W=A=>{const I=H(A),O=$(A);E.done=Math.abs(I)<=p,E.value=E.done?F:O};let J,at;const R=A=>{C(E.value)&&(J=A,at=Cf({keyframes:[E.value,N(E.value)],velocity:bw($,A,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:A=>{let I=!1;return!at&&J===void 0&&(I=!0,W(A),R(A)),J!==void 0&&A>=J?at.next(A-J):(!I&&W(A),E)}}}function xD(e,t,n){const s=[],a=n||Rs.mix||Tw,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Wn:t;d=ec(m,d)}s.push(d)}return s}function CD(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(Sy(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=xD(t,s,a),m=d.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const E=ju(e[_],e[_+1],y);return d[_](E)};return n?y=>p(Ji(e[0],e[l-1],y)):p}function RD(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=ju(0,t,s);e.push(me(n,1,a))}}function ID(e){const t=[0];return RD(t,e.length-1),t}function ND(e,t){return e.map(n=>n*t)}function DD(e,t){return e.map(()=>t||uw).splice(0,e.length-1)}function Ru({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=FN(s)?s.map(DE):DE(s),l={done:!1,value:t[0]},c=ND(n&&n.length===t.length?n:ID(t),e),d=CD(c,t,{ease:Array.isArray(a)?a:DD(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const MD=e=>e!==null;function Vy(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(MD),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const VD={decay:yg,inertia:yg,tween:Ru,keyframes:Ru,spring:Cf};function Sw(e){typeof e.type=="string"&&(e.type=VD[e.type])}class Oy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const OD=e=>e/100;class Py extends Oy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Sw(t);const{type:n=Ru,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Ru;m!==Ru&&typeof d[0]!="number"&&(this.mixKeyframes=ec(OD,Tw(d[0],d[1])),d=[0,100]);const p=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=My(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:C,type:N,onUpdate:P,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,W=s;if(_){const A=Math.min(this.currentTime,a)/d;let I=Math.floor(A),O=A%1;!O&&A>=1&&(O=1),O===1&&I--,I=Math.min(I,_+1),I%2&&(E==="reverse"?(O=1-O,C&&(O-=C/d)):E==="mirror"&&(W=c)),$=Ji(0,1,O)*d}const J=H?{done:!1,value:y[0]}:W.next($);l&&(J.value=l(J.value));let{done:at}=J;!H&&m!==null&&(at=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return R&&N!==yg&&(J.value=Vy(y,this.options,L,this.speed)),P&&P(J.value),R&&this.finish(),J}then(t,n){return this.finished.then(t,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(this.currentTime)}set time(t){t=gi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=yD,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function PD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const va=e=>e*180/Math.PI,vg=e=>{const t=va(Math.atan2(e[1],e[0]));return _g(t)},kD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vg,rotateZ:vg,skewX:e=>va(Math.atan(e[1])),skewY:e=>va(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_g=e=>(e=e%360,e<0&&(e+=360),e),jE=vg,UE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),zE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),LD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:UE,scaleY:zE,scale:e=>(UE(e)+zE(e))/2,rotateX:e=>_g(va(Math.atan2(e[6],e[5]))),rotateY:e=>_g(va(Math.atan2(-e[2],e[0]))),rotateZ:jE,rotate:jE,skewX:e=>va(Math.atan(e[4])),skewY:e=>va(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Tg(e){return e.includes("scale")?1:0}function Eg(e,t){if(!e||e==="none")return Tg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=LD,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=kD,a=d}if(!a)return Tg(t);const l=s[t],c=a[1].split(",").map(UD);return typeof l=="function"?l(c):c[l]}const jD=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Eg(n,t)};function UD(e){return parseFloat(e.trim())}const nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(nl),BE=e=>e===el||e===gt,zD=new Set(["x","y","z"]),BD=nl.filter(e=>!zD.has(e));function FD(e){const t=[];return BD.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Tr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Eg(t,"x"),y:(e,{transform:t})=>Eg(t,"y")};Tr.translateX=Tr.x;Tr.translateY=Tr.y;const Ea=new Set;let bg=!1,Sg=!1,wg=!1;function ww(){if(Sg){const e=Array.from(Ea).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=FD(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Sg=!1,bg=!1,Ea.forEach(e=>e.complete(wg)),Ea.clear()}function Aw(){Ea.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sg=!0)})}function HD(){wg=!0,Aw(),ww(),wg=!1}class ky{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ea.add(this),bg||(bg=!0,re.read(Aw),re.resolveKeyframes(ww))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}PD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ea.delete(this)}cancel(){this.state==="scheduled"&&(Ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qD=e=>e.startsWith("--");function GD(e,t,n){qD(t)?e.style.setProperty(t,n):e.style[t]=n}const KD=wy(()=>window.ScrollTimeline!==void 0),$D={};function YD(e,t){const n=wy(e);return()=>$D[t]??n()}const xw=YD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,FE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bu([0,.65,.55,1]),circOut:bu([.55,0,1,.45]),backIn:bu([.31,.01,.66,-.59]),backOut:bu([.33,1.53,.69,.99])};function Cw(e,t){if(e)return typeof e=="function"?xw()?Ew(e,t):"ease-out":cw(e)?bu(e):Array.isArray(e)?e.map(n=>Cw(n,t)||FE.easeOut):FE[e]}function QD(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=Cw(d,a);Array.isArray(_)&&(y.easing=_);const E={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),e.animate(y,E)}function Rw(e){return typeof e=="function"&&"applyToOptions"in e}function XD({type:e,...t}){return Rw(e)&&xw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Iw extends Oy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Sy(typeof t.type!="string");const p=XD(t);this.animation=QD(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Vy(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):GD(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=gi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&KD()?(this.animation.timeline=t,Wn):n(this)}}const Nw={anticipate:aw,backInOut:rw,circInOut:lw};function WD(e){return e in Nw}function JD(e){typeof e.ease=="string"&&WD(e.ease)&&(e.ease=Nw[e.ease])}const jp=10;class ZD extends Iw{constructor(t){JD(t),Sw(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Py({...c,autoplay:!1}),m=Math.max(jp,mn.now()-this.startTime),p=Ji(0,jp,m-jp);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const HE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ir.test(e)||e==="0")&&!e.startsWith("url("));function tM(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function eM(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=HE(a,t),d=HE(l,t);return!c||!d?!1:tM(e)||(n==="spring"||Rw(n))&&s}function Ag(e){e.duration=0,e.type="keyframes"}const nM=new Set(["opacity","clipPath","filter","transform"]),iM=wy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sM(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return iM()&&n&&nM.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const rM=40;class aM extends Oy{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mn.now();const E={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},C=y?.KeyframeResolver||ky;this.keyframeResolver=new C(d,(N,P,L)=>this.onKeyframesResolved(N,P,E,!L),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=mn.now(),eM(t,l,c,d)||((Rs.instantAnimations||!m)&&y?.(Vy(t,s,n)),t[0]=t[t.length-1],Ag(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>rM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!p&&sM(E),N=E.motionValue?.owner?.current,P=C?new ZD({...E,element:N}):new Py(E);P.finished.then(()=>{this.notifyFinished()}).catch(Wn),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),HD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Dw(e,t,n,s=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}const oM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lM(e){const t=oM.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function Mw(e,t,n=1){const[s,a]=lM(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return WS(c)?parseFloat(c):c}return Ry(a)?Mw(a,t,n+1):a}const uM={type:"spring",stiffness:500,damping:25,restSpeed:10},cM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hM={type:"keyframes",duration:.8},fM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dM=(e,{keyframes:t})=>t.length>2?hM:il.has(e)?e.startsWith("scale")?cM(t[1]):uM:fM,mM=e=>e!==null;function pM(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(mM),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}function Vw(e,t){if(e?.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function Ly(e,t){const n=e?.[t]??e?.default??e;return n!==e?Vw(n,e):n}function gM({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const jy=(e,t,n,s={},a,l)=>c=>{const d=Ly(s,e)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-gi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:E=>{t.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};gM(d)||Object.assign(y,dM(e,y)),y.duration&&(y.duration=gi(y.duration)),y.repeatDelay&&(y.repeatDelay=gi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ag(y),y.delay===0&&(_=!0)),(Rs.instantAnimations||Rs.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,Ag(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const E=pM(y.keyframes,d);if(E!==void 0){re.update(()=>{y.onUpdate(E),y.onComplete()});return}}return d.isSync?new Py(y):new aM(y)};function qE(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Uy(e,t,n,s){if(typeof t=="function"){const[a,l]=qE(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=qE(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function Lo(e,t,n){const s=e.getProps();return Uy(s,t,n!==void 0?n:s.custom,e)}const Ow=new Set(["width","height","top","left","right","bottom",...nl]),GE=30,yM=e=>!isNaN(parseFloat(e));class vM{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=mn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=yM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ay);const s=this.events[t].add(n);return t==="change"?()=>{s(),re.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>GE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GE);return tw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(e,t){return new vM(e,t)}const xg=e=>Array.isArray(e);function _M(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ho(n))}function TM(e){return xg(e)?e[e.length-1]||0:e}function EM(e,t){const n=Lo(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=TM(l[c]);_M(e,c,d)}}const un=e=>!!(e&&e.getVelocity);function bM(e){return!!(un(e)&&e.add)}function Cg(e,t){const n=e.getValue("willChange");if(bM(n))return n.add(t);if(!n&&Rs.WillChange){const s=new Rs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function zy(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const SM="framerAppearId",Pw="data-"+zy(SM);function kw(e){return e.props[Pw]}function wM({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Lw(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:c,...d}=t;const m=e.getDefaultTransition();l=l?Vw(l,m):m;const p=l?.reduceMotion;s&&(l=s);const y=[],_=a&&e.animationState&&e.animationState.getState()[a];for(const E in d){const C=e.getValue(E,e.latestValues[E]??null),N=d[E];if(N===void 0||_&&wM(_,E))continue;const P={delay:n,...Ly(l||{},E)},L=C.get();if(L!==void 0&&!C.isAnimating&&!Array.isArray(N)&&N===L&&!P.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const W=kw(e);if(W){const J=window.MotionHandoffAnimation(W,E,re);J!==null&&(P.startTime=J,F=!0)}}Cg(e,E);const H=p??e.shouldReduceMotion;C.start(jy(E,C,N,H&&Ow.has(E)?{type:!1}:P,e,F));const $=C.animation;$&&y.push($)}if(c){const E=()=>re.update(()=>{c&&EM(e,c)});y.length?Promise.all(y).then(E):E()}return y}function Rg(e,t,n={}){const s=Lo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(Lw(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return AM(e,t,m,p,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function AM(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Rg(m,t,{...c,delay:n+(typeof s=="function"?0:s)+Dw(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function xM(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Rg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Rg(e,t,n);else{const a=typeof t=="function"?Lo(e,t,n.custom):t;s=Promise.all(Lw(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const CM={test:e=>e==="auto",parse:e=>e},jw=e=>t=>t.test(e),Uw=[el,gt,Gi,gr,eD,tD,CM],KE=e=>Uw.find(jw(e));function RM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ZS(e):!0}const IM=new Set(["brightness","contrast","saturate","opacity"]);function NM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Iy)||[];if(!s)return e;const a=n.replace(s,"");let l=IM.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const DM=/\b([a-z-]*)\(.*?\)/gu,Ig={...Ir,getAnimatableNone:e=>{const t=e.match(DM);return t?t.map(NM).join(" "):e}},$E={...el,transform:Math.round},MM={rotate:gr,rotateX:gr,rotateY:gr,rotateZ:gr,scale:Kh,scaleX:Kh,scaleY:Kh,scaleZ:Kh,skew:gr,skewX:gr,skewY:gr,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:Uu,originX:VE,originY:VE,originZ:gt},By={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,top:gt,right:gt,bottom:gt,left:gt,inset:gt,insetBlock:gt,insetBlockStart:gt,insetBlockEnd:gt,insetInline:gt,insetInlineStart:gt,insetInlineEnd:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,paddingBlock:gt,paddingBlockStart:gt,paddingBlockEnd:gt,paddingInline:gt,paddingInlineStart:gt,paddingInlineEnd:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,marginBlock:gt,marginBlockStart:gt,marginBlockEnd:gt,marginInline:gt,marginInlineStart:gt,marginInlineEnd:gt,fontSize:gt,backgroundPositionX:gt,backgroundPositionY:gt,...MM,zIndex:$E,fillOpacity:Uu,strokeOpacity:Uu,numOctaves:$E},VM={...By,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:Ig,WebkitFilter:Ig},zw=e=>VM[e];function Bw(e,t){let n=zw(e);return n!==Ig&&(n=Ir),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const OM=new Set(["auto","none","0"]);function PM(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!OM.has(l)&&zu(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=Bw(n,a)}class kM extends ky{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),Ry(_))){const E=Mw(_,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!Ow.has(s)||t.length!==2)return;const[a,l]=t,c=KE(a),d=KE(l),m=ME(a),p=ME(l);if(m!==p&&Tr[s]){this.needsMeasurement=!0;return}if(c!==d)if(BE(c)&&BE(d))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else Tr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||RM(t[a]))&&s.push(a);s.length&&PM(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Tr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const LM=new Set(["opacity","clipPath","filter","transform"]);function Fw(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(s=>s!=null)}const Hw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Ng(e){return JS(e)&&"offsetHeight"in e}const{schedule:Fy}=hw(queueMicrotask,!1),fi={x:!1,y:!1};function qw(){return fi.x||fi.y}function jM(e){return e==="x"||e==="y"?fi[e]?null:(fi[e]=!0,()=>{fi[e]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}function Gw(e,t){const n=Fw(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function UM(e){return!(e.pointerType==="touch"||qw())}function zM(e,t,n={}){const[s,a,l]=Gw(e,n);return s.forEach(c=>{let d=!1,m=!1,p;const y=()=>{c.removeEventListener("pointerleave",N)},_=L=>{p&&(p(L),p=void 0),y()},E=L=>{d=!1,window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",E),m&&(m=!1,_(L))},C=()=>{d=!0,window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",E,a)},N=L=>{if(L.pointerType!=="touch"){if(d){m=!0;return}_(L)}},P=L=>{if(!UM(L))return;m=!1;const F=t(c,L);typeof F=="function"&&(p=F,c.addEventListener("pointerleave",N,a))};c.addEventListener("pointerenter",P,a),c.addEventListener("pointerdown",C,a)}),l}const Kw=(e,t)=>t?e===t?!0:Kw(e,t.parentElement):!1,Hy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,BM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FM(e){return BM.has(e.tagName)||e.isContentEditable===!0}const HM=new Set(["INPUT","SELECT","TEXTAREA"]);function qM(e){return HM.has(e.tagName)||e.isContentEditable===!0}const af=new WeakSet;function YE(e){return t=>{t.key==="Enter"&&e(t)}}function Up(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const GM=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=YE(()=>{if(af.has(n))return;Up(n,"down");const a=YE(()=>{Up(n,"up")}),l=()=>Up(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function QE(e){return Hy(e)&&!qw()}const XE=new WeakSet;function KM(e,t,n={}){const[s,a,l]=Gw(e,n),c=d=>{const m=d.currentTarget;if(!QE(d)||XE.has(d))return;af.add(m),n.stopPropagation&&XE.add(d);const p=t(m,d),y=(C,N)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),af.has(m)&&af.delete(m),QE(C)&&typeof p=="function"&&p(C,{success:N})},_=C=>{y(C,m===window||m===document||n.useGlobalTarget||Kw(m,C.target))},E=C=>{y(C,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),Ng(d)&&(d.addEventListener("focus",p=>GM(p,a)),!FM(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function qy(e){return JS(e)&&"ownerSVGElement"in e}const of=new WeakMap;let lf;const $w=(e,t,n)=>(s,a)=>a&&a[0]?a[0][e+"Size"]:qy(s)&&"getBBox"in s?s.getBBox()[t]:s[n],$M=$w("inline","width","offsetWidth"),YM=$w("block","height","offsetHeight");function QM({target:e,borderBoxSize:t}){of.get(e)?.forEach(n=>{n(e,{get width(){return $M(e,t)},get height(){return YM(e,t)}})})}function XM(e){e.forEach(QM)}function WM(){typeof ResizeObserver>"u"||(lf=new ResizeObserver(XM))}function JM(e,t){lf||WM();const n=Fw(e);return n.forEach(s=>{let a=of.get(s);a||(a=new Set,of.set(s,a)),a.add(t),lf?.observe(s)}),()=>{n.forEach(s=>{const a=of.get(s);a?.delete(t),a?.size||lf?.unobserve(s)})}}const uf=new Set;let Mo;function ZM(){Mo=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};uf.forEach(t=>t(e))},window.addEventListener("resize",Mo)}function tV(e){return uf.add(e),Mo||ZM(),()=>{uf.delete(e),!uf.size&&typeof Mo=="function"&&(window.removeEventListener("resize",Mo),Mo=void 0)}}function WE(e,t){return typeof e=="function"?tV(e):JM(e,t)}function eV(e){return qy(e)&&e.tagName==="svg"}const nV=[...Uw,Oe,Ir],iV=e=>nV.find(jw(e)),JE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vo=()=>({x:JE(),y:JE()}),ZE=()=>({min:0,max:0}),Be=()=>({x:ZE(),y:ZE()}),sV=new WeakMap;function nd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bu(e){return typeof e=="string"||Array.isArray(e)}const Gy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ky=["initial",...Gy];function id(e){return nd(e.animate)||Ky.some(t=>Bu(e[t]))}function Yw(e){return!!(id(e)||e.variants)}function rV(e,t,n){for(const s in t){const a=t[s],l=n[s];if(un(a))e.addValue(s,a);else if(un(l))e.addValue(s,Ho(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,Ho(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Dg={current:null},Qw={current:!1},aV=typeof window<"u";function oV(){if(Qw.current=!0,!!aV)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dg.current=e.matches;e.addEventListener("change",t),t()}else Dg.current=!1}const tb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Rf={};function Xw(e){Rf=e}function lV(){return Rf}class uV{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=ky,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=mn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,re.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=y,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=id(n),this.isVariantNode=Yw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const C in E){const N=E[C];p[C]!==void 0&&un(N)&&N.set(p[C])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,sV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Qw.current||oV(),this.shouldReduceMotion=Dg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&LM.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:d,times:m,ease:p,duration:y}=n.accelerate,_=new Iw({element:this.current,name:t,keyframes:d,times:m,ease:p,duration:gi(y)}),E=c(_);this.valueSubscriptions.set(t,()=>{E(),_.cancel()});return}const s=il.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&re.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Rf){const n=Rf[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<tb.length;s++){const a=tb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=rV(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ho(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(WS(s)||ZS(s))?s=parseFloat(s):!iV(s)&&Ir.test(n)&&(s=Bw(t,n)),this.setBaseTarget(t,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Uy(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!un(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ay),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Fy.render(this.render)}}class Ww extends uV{constructor(){super(...arguments),this.KeyframeResolver=kM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class kr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Jw({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function cV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function zp(e){return e===void 0||e===1}function Mg({scale:e,scaleX:t,scaleY:n}){return!zp(e)||!zp(t)||!zp(n)}function pa(e){return Mg(e)||Zw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Zw(e){return eb(e.x)||eb(e.y)}function eb(e){return e&&e!=="0%"}function If(e,t,n){const s=e-n,a=t*s;return n+a}function nb(e,t,n,s,a){return a!==void 0&&(e=If(e,a,s)),If(e,n,s)+t}function Vg(e,t=0,n=1,s,a){e.min=nb(e.min,t,n,s,a),e.max=nb(e.max,t,n,s,a)}function tA(e,{x:t,y:n}){Vg(e.x,t.translate,t.scale,t.originPoint),Vg(e.y,n.translate,n.scale,n.originPoint)}const ib=.999999999999,sb=1.0000000000001;function fV(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Po(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,tA(e,c)),s&&pa(l.latestValues)&&Po(e,l.latestValues))}t.x<sb&&t.x>ib&&(t.x=1),t.y<sb&&t.y>ib&&(t.y=1)}function Oo(e,t){e.min=e.min+t,e.max=e.max+t}function rb(e,t,n,s,a=.5){const l=me(e.min,e.max,a);Vg(e,t,n,l,s)}function Po(e,t){rb(e.x,t.x,t.scaleX,t.scale,t.originX),rb(e.y,t.y,t.scaleY,t.scale,t.originY)}function eA(e,t){return Jw(hV(e.getBoundingClientRect(),t))}function dV(e,t,n){const s=eA(e,n),{scroll:a}=t;return a&&(Oo(s.x,a.offset.x),Oo(s.y,a.offset.y)),s}const mV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pV=nl.length;function gV(e,t,n){let s="",a=!0;for(let l=0;l<pV;l++){const c=nl[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(c.startsWith("scale")?1:0);else{const p=parseFloat(d);m=c.startsWith("scale")?p===1:p===0}if(!m||n){const p=Hw(d,By[c]);if(!m){a=!1;const y=mV[c]||c;s+=`${y}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function $y(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(il.has(m)){c=!0;continue}else if(dw(m)){a[m]=p;continue}else{const y=Hw(p,By[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=gV(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function nA(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function ab(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Tu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(gt.test(e))e=parseFloat(e);else return e;const n=ab(e,t.target.x),s=ab(e,t.target.y);return`${n}% ${s}%`}},yV={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Ir.parse(e);if(a.length>5)return s;const l=Ir.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=me(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Og={borderRadius:{...Tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tu,borderTopRightRadius:Tu,borderBottomLeftRadius:Tu,borderBottomRightRadius:Tu,boxShadow:yV};function iA(e,{layout:t,layoutId:n}){return il.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Og[e]||e==="opacity")}function Yy(e,t,n){const s=e.style,a=t?.style,l={};if(!s)return l;for(const c in s)(un(s[c])||a&&un(a[c])||iA(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function vV(e){return window.getComputedStyle(e)}class _V extends Ww{constructor(){super(...arguments),this.type="html",this.renderInstance=nA}readValueFromInstance(t,n){if(il.has(n))return this.projection?.isProjecting?Tg(n):jD(t,n);{const s=vV(t),a=(dw(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return eA(t,n)}build(t,n,s){$y(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Yy(t,n,s)}}const TV={offset:"stroke-dashoffset",array:"stroke-dasharray"},EV={offset:"strokeDashoffset",array:"strokeDasharray"};function bV(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?TV:EV;e[l.offset]=`${-s}`,e[l.array]=`${t} ${n}`}const SV=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function sA(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if($y(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:E}=e;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const C of SV)_[C]!==void 0&&(E[C]=_[C],delete _[C]);t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&bV(_,a,l,c,!1)}const rA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),aA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function wV(e,t,n,s){nA(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(rA.has(a)?a:zy(a),t.attrs[a])}function oA(e,t,n){const s=Yy(e,t,n);for(const a in e)if(un(e[a])||un(t[a])){const l=nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}class AV extends Ww{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Be}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(il.has(n)){const s=zw(n);return s&&s.default||0}return n=rA.has(n)?n:zy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return oA(t,n,s)}build(t,n,s){sA(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){wV(t,n,s,a)}mount(t){this.isSVGTag=aA(t.tagName),super.mount(t)}}const xV=Ky.length;function lA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?lA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<xV;n++){const s=Ky[n],a=e.props[s];(Bu(a)||a===!1)&&(t[s]=a)}return t}function uA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const CV=[...Gy].reverse(),RV=Gy.length;function IV(e){return t=>Promise.all(t.map(({animation:n,options:s})=>xM(e,n,s)))}function NV(e){let t=IV(e),n=ob(),s=!0;const a=m=>(p,y)=>{const _=Lo(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:C,...N}=_;p={...p,...N,...C}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=lA(e.parent)||{},_=[],E=new Set;let C={},N=1/0;for(let L=0;L<RV;L++){const F=CV[L],H=n[F],$=p[F]!==void 0?p[F]:y[F],W=Bu($),J=F===m?H.isActive:null;J===!1&&(N=L);let at=$===y[F]&&$!==p[F]&&W;if(at&&s&&e.manuallyAnimateOnMount&&(at=!1),H.protectedKeys={...C},!H.isActive&&J===null||!$&&!H.prevProp||nd($)||typeof $=="boolean")continue;if(F==="exit"&&H.isActive&&J!==!0){H.prevResolvedValues&&(C={...C,...H.prevResolvedValues});continue}const R=DV(H.prevProp,$);let A=R||F===m&&H.isActive&&!at&&W||L>N&&W,I=!1;const O=Array.isArray($)?$:[$];let k=O.reduce(a(F),{});J===!1&&(k={});const{prevResolvedValues:z={}}=H,M={...z,...k},Qt=ot=>{A=!0,E.has(ot)&&(I=!0,E.delete(ot)),H.needsAnimating[ot]=!0;const dt=e.getValue(ot);dt&&(dt.liveStyle=!1)};for(const ot in M){const dt=k[ot],lt=z[ot];if(C.hasOwnProperty(ot))continue;let vt=!1;xg(dt)&&xg(lt)?vt=!uA(dt,lt):vt=dt!==lt,vt?dt!=null?Qt(ot):E.add(ot):dt!==void 0&&E.has(ot)?Qt(ot):H.protectedKeys[ot]=!0}H.prevProp=$,H.prevResolvedValues=k,H.isActive&&(C={...C,...k}),s&&e.blockInitialAnimation&&(A=!1);const ue=at&&R;A&&(!ue||I)&&_.push(...O.map(ot=>{const dt={type:F};if(typeof ot=="string"&&s&&!ue&&e.manuallyAnimateOnMount&&e.parent){const{parent:lt}=e,vt=Lo(lt,ot);if(lt.enteringChildren&&vt){const{delayChildren:j}=vt.transition||{};dt.delay=Dw(lt.enteringChildren,e,j)}}return{animation:ot,options:dt}}))}if(E.size){const L={};if(typeof p.initial!="boolean"){const F=Lo(e,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(L.transition=F.transition)}E.forEach(F=>{const H=e.getBaseTarget(F),$=e.getValue(F);$&&($.liveStyle=!0),L[F]=H??null}),_.push({animation:L})}let P=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(P=!1),s=!1,P?t(_):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ob()}}}function DV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!uA(t,e):!1}function ma(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ob(){return{animate:ma(!0),whileInView:ma(),whileHover:ma(),whileTap:ma(),whileDrag:ma(),whileFocus:ma(),exit:ma()}}function lb(e,t){e.min=t.min,e.max=t.max}function hi(e,t){lb(e.x,t.x),lb(e.y,t.y)}function ub(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const cA=1e-4,MV=1-cA,VV=1+cA,hA=.01,OV=0-hA,PV=0+hA;function pn(e){return e.max-e.min}function kV(e,t,n){return Math.abs(e-t)<=n}function cb(e,t,n,s=.5){e.origin=s,e.originPoint=me(t.min,t.max,e.origin),e.scale=pn(n)/pn(t),e.translate=me(n.min,n.max,e.origin)-e.originPoint,(e.scale>=MV&&e.scale<=VV||isNaN(e.scale))&&(e.scale=1),(e.translate>=OV&&e.translate<=PV||isNaN(e.translate))&&(e.translate=0)}function Iu(e,t,n,s){cb(e.x,t.x,n.x,s?s.originX:void 0),cb(e.y,t.y,n.y,s?s.originY:void 0)}function hb(e,t,n){e.min=n.min+t.min,e.max=e.min+pn(t)}function LV(e,t,n){hb(e.x,t.x,n.x),hb(e.y,t.y,n.y)}function fb(e,t,n){e.min=t.min-n.min,e.max=e.min+pn(t)}function Nf(e,t,n){fb(e.x,t.x,n.x),fb(e.y,t.y,n.y)}function db(e,t,n,s,a){return e-=t,e=If(e,1/n,s),a!==void 0&&(e=If(e,1/a,s)),e}function jV(e,t=0,n=1,s=.5,a,l=e,c=e){if(Gi.test(t)&&(t=parseFloat(t),t=me(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=me(l.min,l.max,s);e===l&&(d-=t),e.min=db(e.min,t,n,d,a),e.max=db(e.max,t,n,d,a)}function mb(e,t,[n,s,a],l,c){jV(e,t[n],t[s],t[a],t.scale,l,c)}const UV=["x","scaleX","originX"],zV=["y","scaleY","originY"];function pb(e,t,n,s){mb(e.x,t,UV,n?n.x:void 0,s?s.x:void 0),mb(e.y,t,zV,n?n.y:void 0,s?s.y:void 0)}function gb(e){return e.translate===0&&e.scale===1}function fA(e){return gb(e.x)&&gb(e.y)}function yb(e,t){return e.min===t.min&&e.max===t.max}function BV(e,t){return yb(e.x,t.x)&&yb(e.y,t.y)}function vb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dA(e,t){return vb(e.x,t.x)&&vb(e.y,t.y)}function _b(e){return pn(e.x)/pn(e.y)}function Tb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Hi(e){return[e("x"),e("y")]}function FV(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:C,skewY:N}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),E&&(s+=`rotateY(${E}deg) `),C&&(s+=`skewX(${C}deg) `),N&&(s+=`skewY(${N}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const mA=["TopLeft","TopRight","BottomLeft","BottomRight"],HV=mA.length,Eb=e=>typeof e=="string"?parseFloat(e):e,bb=e=>typeof e=="number"||gt.test(e);function qV(e,t,n,s,a,l){a?(e.opacity=me(0,n.opacity??1,GV(s)),e.opacityExit=me(t.opacity??1,0,KV(s))):l&&(e.opacity=me(t.opacity??1,n.opacity??1,s));for(let c=0;c<HV;c++){const d=`border${mA[c]}Radius`;let m=Sb(t,d),p=Sb(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||bb(m)===bb(p)?(e[d]=Math.max(me(Eb(m),Eb(p),s),0),(Gi.test(p)||Gi.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=me(t.rotate||0,n.rotate||0,s))}function Sb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const GV=pA(0,.5,ow),KV=pA(.5,.95,Wn);function pA(e,t,n){return s=>s<e?0:s>t?1:n(ju(e,t,s))}function $V(e,t,n){const s=un(e)?e:Ho(e);return s.start(jy("",s,t,n)),s.animation}function Fu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const YV=(e,t)=>e.depth-t.depth;class QV{constructor(){this.children=[],this.isDirty=!1}add(t){by(this.children,t),this.isDirty=!0}remove(t){wf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(YV),this.isDirty=!1,this.children.forEach(t)}}function XV(e,t){const n=mn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(Rr(s),e(l-t))};return re.setup(s,!0),()=>Rr(s)}function cf(e){return un(e)?e.get():e}class WV{constructor(){this.members=[]}add(t){by(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&wf(this.members,s)}t.scheduleRender()}remove(t){if(wf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=s.instance;m&&m.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:d}=t.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const hf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Bp=["","X","Y","Z"],JV=1e3;let ZV=0;function Fp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function gA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=kw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",re,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&gA(s)}function yA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=ZV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nO),this.nodes.forEach(aO),this.nodes.forEach(oO),this.nodes.forEach(iO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new QV)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ay),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=qy(c)&&!eV(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;re.read(()=>{_=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==_&&(_=C,this.root.updateBlockedByResize=!0,y&&y(),y=XV(E,250),hf.hasAnimatedSinceResize&&(hf.hasAnimatedSinceResize=!1,this.nodes.forEach(xb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||fO,{onLayoutAnimationStart:P,onLayoutAnimationComplete:L}=p.getProps(),F=!this.targetLayout||!dA(this.targetLayout,C),H=!_&&E;if(this.options.layoutRoot||this.resumeFrom||H||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Ly(N,"layout"),onPlay:P,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(y,H)}else _||xb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ab);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rO),this.nodes.forEach(tO),this.nodes.forEach(eO)):this.nodes.forEach(Ab),this.clearAllSnapshots();const d=mn.now();Ze.delta=Ji(0,1e3/60,d-Ze.timestamp),Ze.timestamp=d,Ze.isProcessing=!0,Vp.update.process(Ze),Vp.preRender.process(Ze),Vp.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sO),this.sharedNodes.forEach(uO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!fA(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||pa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),dO(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Be();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(mO))){const{scroll:p}=this.root;p&&(Oo(d.x,p.offset.x),Oo(d.y,p.offset.y))}return d}removeElementScroll(c){const d=Be();if(hi(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&hi(d,c),Oo(d.x,y.offset.x),Oo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=Be();hi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Po(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),pa(y.latestValues)&&Po(m,y.latestValues)}return pa(this.latestValues)&&Po(m,this.latestValues),m}removeTransform(c){const d=Be();hi(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!pa(p.latestValues))continue;Mg(p.latestValues)&&p.updateSnapshot();const y=Be(),_=p.measurePageBox();hi(y,_),pb(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return pa(this.latestValues)&&pb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Ze.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Be(),this.targetWithTransforms=Be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),tA(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Mg(this.parent.latestValues)||Zw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),Nf(this.relativeTargetOrigin,d,m),hi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;hi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;fV(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Be());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ub(this.prevProjectionDelta.x,this.projectionDelta.x),ub(this.prevProjectionDelta.y,this.projectionDelta.y)),Iu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!Tb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Tb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vo(),this.projectionDelta=Vo(),this.projectionDeltaWithTransform=Vo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=Be(),C=m?m.source:void 0,N=this.layout?this.layout.source:void 0,P=C!==N,L=this.getStack(),F=!L||L.members.length<=1,H=!!(P&&!F&&this.options.crossfade===!0&&!this.path.some(hO));this.animationProgress=0;let $;this.mixTargetDelta=W=>{const J=W/1e3;Cb(_.x,c.x,J),Cb(_.y,c.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nf(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cO(this.relativeTarget,this.relativeTargetOrigin,E,J),$&&BV(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Be()),hi($,this.relativeTarget)),P&&(this.animationValues=y,qV(y,p,this.latestValues,J,H,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{hf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ho(0)),this.currentAnimation=$V(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&vA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Be();const _=pn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=pn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}hi(d,m),Po(d,y),Iu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new WV),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Fp("z",c,p,this.animationValues);for(let y=0;y<Bp.length;y++)Fp(`rotate${Bp[y]}`,c,p,this.animationValues),Fp(`skew${Bp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=cf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=cf(d?.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=FV(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:E,y:C}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in Og){if(y[N]===void 0)continue;const{correct:P,applyTo:L,isCSSVariable:F}=Og[N],H=_==="none"?y[N]:P(y[N],p);if(L){const $=L.length;for(let W=0;W<$;W++)c[L[W]]=H}else F?this.options.visualElement.renderState.vars[N]=H:c[N]=H}this.options.layoutId&&(c.pointerEvents=p===this?cf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(wb),this.root.sharedNodes.clear()}}}function tO(e){e.updateLayout()}function eO(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Hi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],E=pn(_);_.min=n[y].min,_.max=_.min+E}):vA(a,t.layoutBox,n)&&Hi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],E=pn(n[y]);_.max=_.min+E,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+E)});const c=Vo();Iu(c,n,t.layoutBox);const d=Vo();l?Iu(d,e.applyTransform(s,!0),t.measuredBox):Iu(d,n,t.layoutBox);const m=!fA(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const C=Be();Nf(C,t.layoutBox,_.layoutBox);const N=Be();Nf(N,n,E.layoutBox),dA(C,N)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function nO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sO(e){e.clearSnapshot()}function wb(e){e.clearMeasurements()}function Ab(e){e.isLayoutDirty=!1}function rO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function xb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function aO(e){e.resolveTargetDelta()}function oO(e){e.calcProjection()}function lO(e){e.resetSkewAndRotation()}function uO(e){e.removeLeadSnapshot()}function Cb(e,t,n){e.translate=me(t.translate,0,n),e.scale=me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Rb(e,t,n,s){e.min=me(t.min,n.min,s),e.max=me(t.max,n.max,s)}function cO(e,t,n,s){Rb(e.x,t.x,n.x,s),Rb(e.y,t.y,n.y,s)}function hO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const fO={duration:.45,ease:[.4,0,.1,1]},Ib=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Nb=Ib("applewebkit/")&&!Ib("chrome/")?Math.round:Wn;function Db(e){e.min=Nb(e.min),e.max=Nb(e.max)}function dO(e){Db(e.x),Db(e.y)}function vA(e,t,n){return e==="position"||e==="preserve-aspect"&&!kV(_b(t),_b(n),.2)}function mO(e){return e!==e.root&&e.scroll?.wasRoot}const pO=yA({attachResizeListener:(e,t)=>Fu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Hp={current:void 0},_A=yA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hp.current){const e=new pO({});e.mount(window),e.setOptions({layoutScroll:!0}),Hp.current=e}return Hp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Qy=D.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Mb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gO(...e){return t=>{let n=!1;const s=e.map(a=>{const l=Mb(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Mb(e[a],null)}}}}function yO(...e){return D.useCallback(gO(...e),e)}class vO extends D.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,a=Ng(s)&&s.offsetWidth||0,l=Ng(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function _O({children:e,isPresent:t,anchorX:n,anchorY:s,root:a,pop:l}){const c=D.useId(),d=D.useRef(null),m=D.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=D.useContext(Qy),y=e.props?.ref??e?.ref,_=yO(d,y);return D.useInsertionEffect(()=>{const{width:E,height:C,top:N,left:P,right:L,bottom:F}=m.current;if(t||l===!1||!d.current||!E||!C)return;const H=n==="left"?`left: ${P}`:`right: ${L}`,$=s==="bottom"?`bottom: ${F}`:`top: ${N}`;d.current.dataset.motionPopId=c;const W=document.createElement("style");p&&(W.nonce=p);const J=a??document.head;return J.appendChild(W),W.sheet&&W.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${C}px !important;
            ${H}px !important;
            ${$}px !important;
          }
        `),()=>{J.contains(W)&&J.removeChild(W)}},[t]),S.jsx(vO,{isPresent:t,childRef:d,sizeRef:m,pop:l,children:l===!1?e:D.cloneElement(e,{ref:_})})}const TO=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:m,root:p})=>{const y=Ey(EO),_=D.useId();let E=!0,C=D.useMemo(()=>(E=!1,{id:_,initial:t,isPresent:n,custom:a,onExitComplete:N=>{y.set(N,!0);for(const P of y.values())if(!P)return;s&&s()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[n,y,s]);return l&&E&&(C={...C}),D.useMemo(()=>{y.forEach((N,P)=>y.set(P,!1))},[n]),D.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),e=S.jsx(_O,{pop:c==="popLayout",isPresent:n,anchorX:d,anchorY:m,root:p,children:e}),S.jsx(ed.Provider,{value:C,children:e})};function EO(){return new Map}function TA(e=!0){const t=D.useContext(ed);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=D.useId();D.useEffect(()=>{if(e)return a(l)},[e]);const c=D.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const $h=e=>e.key||"";function Vb(e){const t=[];return D.Children.forEach(e,n=>{D.isValidElement(n)&&t.push(n)}),t}const EA=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:m="top",root:p})=>{const[y,_]=TA(c),E=D.useMemo(()=>Vb(e),[e]),C=c&&!y?[]:E.map($h),N=D.useRef(!0),P=D.useRef(E),L=Ey(()=>new Map),F=D.useRef(new Set),[H,$]=D.useState(E),[W,J]=D.useState(E);XS(()=>{N.current=!1,P.current=E;for(let A=0;A<W.length;A++){const I=$h(W[A]);C.includes(I)?(L.delete(I),F.current.delete(I)):L.get(I)!==!0&&L.set(I,!1)}},[W,C.length,C.join("-")]);const at=[];if(E!==H){let A=[...E];for(let I=0;I<W.length;I++){const O=W[I],k=$h(O);C.includes(k)||(A.splice(I,0,O),at.push(O))}return l==="wait"&&at.length&&(A=at),J(Vb(A)),$(E),null}const{forceRender:R}=D.useContext(Ty);return S.jsx(S.Fragment,{children:W.map(A=>{const I=$h(A),O=c&&!y?!1:E===W||C.includes(I),k=()=>{if(F.current.has(I))return;if(F.current.add(I),L.has(I))L.set(I,!0);else return;let z=!0;L.forEach(M=>{M||(z=!1)}),z&&(R?.(),J(P.current),c&&_?.(),s&&s())};return S.jsx(TO,{isPresent:O,initial:!N.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:O?void 0:k,anchorX:d,anchorY:m,children:A},I)})})},bA=D.createContext({strict:!1}),Ob={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Pb=!1;function bO(){if(Pb)return;const e={};for(const t in Ob)e[t]={isEnabled:n=>Ob[t].some(s=>!!n[s])};Xw(e),Pb=!0}function SA(){return bO(),lV()}function SO(e){const t=SA();for(const n in e)t[n]={...t[n],...e[n]};Xw(t)}const wO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Df(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wO.has(e)}let wA=e=>!Df(e);function AO(e){typeof e=="function"&&(wA=t=>t.startsWith("on")?!Df(t):e(t))}try{AO(require("@emotion/is-prop-valid").default)}catch{}function xO(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(wA(a)||n===!0&&Df(a)||!t&&!Df(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const sd=D.createContext({});function CO(e,t){if(id(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Bu(n)?n:void 0,animate:Bu(s)?s:void 0}}return e.inherit!==!1?t:{}}function RO(e){const{initial:t,animate:n}=CO(e,D.useContext(sd));return D.useMemo(()=>({initial:t,animate:n}),[kb(t),kb(n)])}function kb(e){return Array.isArray(e)?e.join(" "):e}const Xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AA(e,t,n){for(const s in t)!un(t[s])&&!iA(s,n)&&(e[s]=t[s])}function IO({transformTemplate:e},t){return D.useMemo(()=>{const n=Xy();return $y(n,t,e),Object.assign({},n.vars,n.style)},[t])}function NO(e,t){const n=e.style||{},s={};return AA(s,n,e),Object.assign(s,IO(e,t)),s}function DO(e,t){const n={},s=NO(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const xA=()=>({...Xy(),attrs:{}});function MO(e,t,n,s){const a=D.useMemo(()=>{const l=xA();return sA(l,t,aA(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};AA(l,e.style,e),a.style={...l,...a.style}}return a}const VO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wy(e){return typeof e!="string"||e.includes("-")?!1:!!(VO.indexOf(e)>-1||/[A-Z]/u.test(e))}function OO(e,t,n,{latestValues:s},a,l=!1,c){const m=(c??Wy(e)?MO:DO)(t,s,a,e),p=xO(t,typeof e=="string",l),y=e!==D.Fragment?{...p,...m,ref:n}:{},{children:_}=t,E=D.useMemo(()=>un(_)?_.get():_,[_]);return D.createElement(e,{...y,children:E})}function PO({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:kO(n,s,a,e),renderState:t()}}function kO(e,t,n,s){const a={},l=s(e,{});for(const E in l)a[E]=cf(l[E]);let{initial:c,animate:d}=e;const m=id(e),p=Yw(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!nd(_)){const E=Array.isArray(_)?_:[_];for(let C=0;C<E.length;C++){const N=Uy(e,E[C]);if(N){const{transitionEnd:P,transition:L,...F}=N;for(const H in F){let $=F[H];if(Array.isArray($)){const W=y?$.length-1:0;$=$[W]}$!==null&&(a[H]=$)}for(const H in P)a[H]=P[H]}}}return a}const CA=e=>(t,n)=>{const s=D.useContext(sd),a=D.useContext(ed),l=()=>PO(e,t,s,a);return n?l():Ey(l)},LO=CA({scrapeMotionValuesFromProps:Yy,createRenderState:Xy}),jO=CA({scrapeMotionValuesFromProps:oA,createRenderState:xA}),UO=Symbol.for("motionComponentSymbol");function zO(e,t,n){const s=D.useRef(n);D.useInsertionEffect(()=>{s.current=n});const a=D.useRef(null);return D.useCallback(l=>{l&&e.onMount?.(l),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const RA=D.createContext({});function xo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function BO(e,t,n,s,a,l){const{visualElement:c}=D.useContext(sd),d=D.useContext(bA),m=D.useContext(ed),p=D.useContext(Qy),y=p.reducedMotion,_=p.skipAnimations,E=D.useRef(null),C=D.useRef(!1);s=s||d.renderer,!E.current&&s&&(E.current=s(e,{visualState:t,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:l}),C.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const N=E.current,P=D.useContext(RA);N&&!N.projection&&a&&(N.type==="html"||N.type==="svg")&&FO(E.current,n,a,P);const L=D.useRef(!1);D.useInsertionEffect(()=>{N&&L.current&&N.update(n,m)});const F=n[Pw],H=D.useRef(!!F&&!window.MotionHandoffIsComplete?.(F)&&window.MotionHasOptimisedAnimation?.(F));return XS(()=>{C.current=!0,N&&(L.current=!0,window.MotionIsMounted=!0,N.updateFeatures(),N.scheduleRenderMicrotask(),H.current&&N.animationState&&N.animationState.animateChanges())}),D.useEffect(()=>{N&&(!H.current&&N.animationState&&N.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(F)}),H.current=!1),N.enteringChildren=void 0)}),N}function FO(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:IA(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&xo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function IA(e){if(e)return e.options.allowProjection!==!1?e.projection:IA(e.parent)}function qp(e,{forwardMotionProps:t=!1,type:n}={},s,a){s&&SO(s);const l=n?n==="svg":Wy(e),c=l?jO:LO;function d(p,y){let _;const E={...D.useContext(Qy),...p,layoutId:HO(p)},{isStatic:C}=E,N=RO(p),P=c(p,C);if(!C&&QS){qO();const L=GO(E);_=L.MeasureLayout,N.visualElement=BO(e,P,E,a,L.ProjectionNode,l)}return S.jsxs(sd.Provider,{value:N,children:[_&&N.visualElement?S.jsx(_,{visualElement:N.visualElement,...E}):null,OO(e,p,zO(P,N.visualElement,y),P,C,t,l)]})}d.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const m=D.forwardRef(d);return m[UO]=e,m}function HO({layoutId:e}){const t=D.useContext(Ty).id;return t&&e!==void 0?t+"-"+e:e}function qO(e,t){D.useContext(bA).strict}function GO(e){const t=SA(),{drag:n,layout:s}=t;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function KO(e,t){if(typeof Proxy>"u")return qp;const n=new Map,s=(l,c)=>qp(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,qp(c,void 0,e,t)),n.get(c))})}const $O=(e,t)=>t.isSVG??Wy(e)?new AV(t):new _V(t,{allowProjection:e!==D.Fragment});class YO extends kr{constructor(t){super(t),t.animationState||(t.animationState=NV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let QO=0;class XO extends kr{constructor(){super(...arguments),this.id=QO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const WO={animation:{Feature:YO},exit:{Feature:XO}};function sc(e){return{point:{x:e.pageX,y:e.pageY}}}const JO=e=>t=>Hy(t)&&e(t,sc(t));function Nu(e,t,n,s){return Fu(e,t,JO(n),s)}const NA=({current:e})=>e?e.ownerDocument.defaultView:null,Lb=(e,t)=>Math.abs(e-t);function ZO(e,t){const n=Lb(e.x,t.x),s=Lb(e.y,t.y);return Math.sqrt(n**2+s**2)}const jb=new Set(["auto","scroll"]);class DA{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Kp(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,P=ZO(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!P)return;const{point:L}=C,{timestamp:F}=Ze;this.history.push({...L,timestamp:F});const{onStart:H,onMove:$}=this.handlers;N||(H&&H(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,C)},this.handlePointerMove=(C,N)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Gp(N,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(C,N)=>{this.end();const{onEnd:P,onSessionEnd:L,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Kp(C.type==="pointercancel"?this.lastMoveEventInfo:Gp(N,this.transformPagePoint),this.history);this.startEvent&&P&&P(C,H),L&&L(C,H)},!Hy(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const m=sc(t),p=Gp(m,this.transformPagePoint),{point:y}=p,{timestamp:_}=Ze;this.history=[{...y,timestamp:_}];const{onSessionStart:E}=n;E&&E(t,Kp(p,this.history)),this.removeListeners=ec(Nu(this.contextWindow,"pointermove",this.handlePointerMove),Nu(this.contextWindow,"pointerup",this.handlePointerUp),Nu(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(jb.has(s.overflowX)||jb.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),re.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rr(this.updatePoint)}}function Gp(e,t){return t?{point:t(e.point)}:e}function Ub(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kp({point:e},t){return{point:e,delta:Ub(e,MA(t)),offset:Ub(e,t4(t)),velocity:e4(t,.1)}}function t4(e){return e[0]}function MA(e){return e[e.length-1]}function e4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=MA(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>gi(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&a.timestamp-s.timestamp>gi(t)*2&&(s=e[1]);const l=Xn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function n4(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?me(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?me(n,e,s.max):Math.min(e,n)),e}function zb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function i4(e,{top:t,left:n,bottom:s,right:a}){return{x:zb(e.x,n,a),y:zb(e.y,t,s)}}function Bb(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function s4(e,t){return{x:Bb(e.x,t.x),y:Bb(e.y,t.y)}}function r4(e,t){let n=.5;const s=pn(e),a=pn(t);return a>s?n=ju(t.min,t.max-s,e.min):s>a&&(n=ju(e.min,e.max-a,t.min)),Ji(0,1,n)}function a4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Pg=.35;function o4(e=Pg){return e===!1?e=0:e===!0&&(e=Pg),{x:Fb(e,"left","right"),y:Fb(e,"top","bottom")}}function Fb(e,t,n){return{min:Hb(e,t),max:Hb(e,n)}}function Hb(e,t){return typeof e=="number"?e:e[t]||0}const l4=new WeakMap;class u4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Be(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n&&this.snapToCursor(sc(_).point),this.stopAnimation()},c=(_,E)=>{const{drag:C,dragPropagation:N,onDragStart:P}=this.getProps();if(C&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jM(C),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hi(F=>{let H=this.getAxisMotionValue(F).get()||0;if(Gi.test(H)){const{projection:$}=this.visualElement;if($&&$.layout){const W=$.layout.layoutBox[F];W&&(H=pn(W)*(parseFloat(H)/100))}}this.originPoint[F]=H}),P&&re.update(()=>P(_,E),!1,!0),Cg(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},d=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:N,onDirectionLock:P,onDrag:L}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:F}=E;if(N&&this.currentDirection===null){this.currentDirection=h4(F),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),L&&re.update(()=>L(_,E),!1,!0)},m=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new DA(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:NA(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&re.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Yh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=n4(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&xo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=i4(s.layoutBox,t):this.constraints=!1,this.elastic=o4(n),a!==this.constraints&&!xo(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&Hi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=a4(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xo(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=dV(s,a.root,this.visualElement.getTransformPagePoint());let c=s4(a.layout.layoutBox,l);if(n){const d=n(cV(c));this.hasMutatedConstraints=!!d,d&&(c=Jw(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Hi(y=>{if(!Yh(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,C=a?40:1e7,N={type:"inertia",velocity:s?t[y]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,N)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Cg(this.visualElement,t),s.start(jy(t,s,0,n,this.visualElement,!1))}stopAnimation(){Hi(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Hi(n=>{const{drag:s}=this.getProps();if(!Yh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(t[n]-me(c,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!xo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=r4({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Hi(c=>{if(!Yh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(me(m,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;l4.set(this.visualElement,this);const t=this.visualElement.current,n=Nu(t,"pointerdown",p=>{const{drag:y,dragListener:_=!0}=this.getProps(),E=p.target,C=E!==t&&qM(E);y&&_&&!C&&this.start(p)});let s;const a=()=>{const{dragConstraints:p}=this.getProps();xo(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),s||(s=c4(t,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),re.read(a);const d=Fu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(Hi(_=>{const E=this.getAxisMotionValue(_);E&&(this.originPoint[_]+=p[_].translate,E.set(E.get()+p[_].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),m&&m(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Pg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function qb(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function c4(e,t,n){const s=WE(e,qb(n)),a=WE(t,qb(n));return()=>{s(),a()}}function Yh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function h4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class f4 extends kr{constructor(t){super(t),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new u4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const $p=e=>(t,n)=>{e&&re.update(()=>e(t,n),!1,!0)};class d4 extends kr{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(t){this.session=new DA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:$p(t),onStart:$p(n),onMove:$p(s),onEnd:(l,c)=>{delete this.session,a&&re.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Nu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Yp=!1;class m4 extends D.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Yp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),hf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,t.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Yp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||re.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Fy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Yp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VA(e){const[t,n]=TA(),s=D.useContext(Ty);return S.jsx(m4,{...e,layoutGroup:s,switchLayoutGroup:D.useContext(RA),isPresent:t,safeToRemove:n})}const p4={pan:{Feature:d4},drag:{Feature:f4,ProjectionNode:_A,MeasureLayout:VA}};function Gb(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&re.postRender(()=>l(t,sc(t)))}class g4 extends kr{mount(){const{current:t}=this.node;t&&(this.unmount=zM(t,(n,s)=>(Gb(this.node,s,"Start"),a=>Gb(this.node,a,"End"))))}unmount(){}}class y4 extends kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ec(Fu(this.node.current,"focus",()=>this.onFocus()),Fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kb(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&re.postRender(()=>l(t,sc(t)))}class v4 extends kr{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=KM(t,(a,l)=>(Kb(this.node,l,"Start"),(c,{success:d})=>Kb(this.node,c,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const kg=new WeakMap,Qp=new WeakMap,_4=e=>{const t=kg.get(e.target);t&&t(e)},T4=e=>{e.forEach(_4)};function E4({root:e,...t}){const n=e||document;Qp.has(n)||Qp.set(n,{});const s=Qp.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(T4,{root:e,...t})),s[a]}function b4(e,t,n){const s=E4(t);return kg.set(e,n),s.observe(e),()=>{kg.delete(e),s.unobserve(e)}}const S4={some:0,all:1};class w4 extends kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:S4[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return b4(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(A4(t,n))&&this.startObserver()}unmount(){}}function A4({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const x4={inView:{Feature:w4},tap:{Feature:v4},focus:{Feature:y4},hover:{Feature:g4}},C4={layout:{ProjectionNode:_A,MeasureLayout:VA}},R4={...WO,...x4,...p4,...C4},Ot=KO(R4,$O),I4=()=>{};var $b={};const OA=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},N4=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},PA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,C=p&63;m||(C=64,c||(E=64)),s.push(n[y],n[_],n[E],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(OA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):N4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new D4;const E=l<<2|d>>4;if(s.push(E),p!==64){const C=d<<4&240|p>>2;if(s.push(C),_!==64){const N=p<<6&192|_;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class D4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M4=function(e){const t=OA(e);return PA.encodeByteArray(t,!0)},Mf=function(e){return M4(e).replace(/\./g,"")},kA=function(e){try{return PA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function V4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const O4=()=>V4().__FIREBASE_DEFAULTS__,P4=()=>{if(typeof process>"u"||typeof $b>"u")return;const e=$b.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},k4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&kA(e[1]);return t&&JSON.parse(t)},rd=()=>{try{return I4()||O4()||P4()||k4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},LA=e=>rd()?.emulatorHosts?.[e],L4=e=>{const t=LA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},jA=()=>rd()?.config,UA=e=>rd()?.[`_${e}`];class j4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function sl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zA(e){return(await fetch(e,{credentials:"include"})).ok}function U4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Mf(JSON.stringify(n)),Mf(JSON.stringify(c)),""].join(".")}const Du={};function z4(){const e={prod:[],emulator:[]};for(const t of Object.keys(Du))Du[t]?e.emulator.push(t):e.prod.push(t);return e}function B4(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Yb=!1;function BA(e,t){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||Du[e]===t||Du[e]||Yb)return;Du[e]=t;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=z4().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Yb=!0,c()},E}function y(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=B4(s),C=n("text"),N=document.getElementById(C)||document.createElement("span"),P=n("learnmore"),L=document.getElementById(P)||document.createElement("a"),F=n("preprendIcon"),H=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const $=E.element;d($),y(L,P);const W=p();m(H,F),$.append(H,N,L,W),document.body.appendChild($)}l?(N.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function H4(){const e=rd()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G4(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function K4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $4(){const e=cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Y4(){return!H4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q4(){try{return typeof indexedDB=="object"}catch{return!1}}function X4(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const W4="FirebaseError";class Os extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=W4,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rc.prototype.create)}}class rc{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?J4(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Os(a,d,s)}}function J4(e,t){return e.replace(Z4,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const Z4=/\{\$([^}]+)}/g;function tP(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Aa(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(Qb(l)&&Qb(c)){if(!Aa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Qb(e){return e!==null&&typeof e=="object"}function ac(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function eP(e,t){const n=new nP(e,t);return n.subscribe.bind(n)}class nP{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");iP(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=Xp),a.error===void 0&&(a.error=Xp),a.complete===void 0&&(a.complete=Xp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iP(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Xp(){}function gn(e){return e&&e._delegate?e._delegate:e}class xa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ga="[DEFAULT]";class sP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new j4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aP(t))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ga){return this.instances.has(t)}getOptions(t=ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rP(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ga){return this.component?this.component.multipleInstances?t:ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rP(e){return e===ga?void 0:e}function aP(e){return e.instantiationMode==="EAGER"}class oP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new sP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const lP={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},uP=Lt.INFO,cP={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},hP=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=cP[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jy{constructor(t){this.name=t,this._logLevel=uP,this._logHandler=hP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const fP=(e,t)=>t.some(n=>e instanceof n);let Xb,Wb;function dP(){return Xb||(Xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mP(){return Wb||(Wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FA=new WeakMap,Lg=new WeakMap,HA=new WeakMap,Wp=new WeakMap,Zy=new WeakMap;function pP(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(br(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&FA.set(n,e)}).catch(()=>{}),Zy.set(t,e),t}function gP(e){if(Lg.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Lg.set(e,t)}let jg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Lg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||HA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return br(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function yP(e){jg=e(jg)}function vP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Jp(this),t,...n);return HA.set(s,t.sort?t.sort():[t]),br(s)}:mP().includes(e)?function(...t){return e.apply(Jp(this),t),br(FA.get(this))}:function(...t){return br(e.apply(Jp(this),t))}}function _P(e){return typeof e=="function"?vP(e):(e instanceof IDBTransaction&&gP(e),fP(e,dP())?new Proxy(e,jg):e)}function br(e){if(e instanceof IDBRequest)return pP(e);if(Wp.has(e))return Wp.get(e);const t=_P(e);return t!==e&&(Wp.set(e,t),Zy.set(t,e)),t}const Jp=e=>Zy.get(e);function TP(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=br(c);return s&&c.addEventListener("upgradeneeded",m=>{s(br(c.result),m.oldVersion,m.newVersion,br(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const EP=["get","getKey","getAll","getAllKeys","count"],bP=["put","add","delete","clear"],Zp=new Map;function Jb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zp.get(t))return Zp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=bP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||EP.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Zp.set(t,l),l}yP(e=>({...e,get:(t,n,s)=>Jb(t,n)||e.get(t,n,s),has:(t,n)=>!!Jb(t,n)||e.has(t,n)}));class SP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function wP(e){return e.getComponent()?.type==="VERSION"}const Ug="@firebase/app",Zb="0.14.8";const Is=new Jy("@firebase/app"),AP="@firebase/app-compat",xP="@firebase/analytics-compat",CP="@firebase/analytics",RP="@firebase/app-check-compat",IP="@firebase/app-check",NP="@firebase/auth",DP="@firebase/auth-compat",MP="@firebase/database",VP="@firebase/data-connect",OP="@firebase/database-compat",PP="@firebase/functions",kP="@firebase/functions-compat",LP="@firebase/installations",jP="@firebase/installations-compat",UP="@firebase/messaging",zP="@firebase/messaging-compat",BP="@firebase/performance",FP="@firebase/performance-compat",HP="@firebase/remote-config",qP="@firebase/remote-config-compat",GP="@firebase/storage",KP="@firebase/storage-compat",$P="@firebase/firestore",YP="@firebase/ai",QP="@firebase/firestore-compat",XP="firebase",WP="12.9.0";const zg="[DEFAULT]",JP={[Ug]:"fire-core",[AP]:"fire-core-compat",[CP]:"fire-analytics",[xP]:"fire-analytics-compat",[IP]:"fire-app-check",[RP]:"fire-app-check-compat",[NP]:"fire-auth",[DP]:"fire-auth-compat",[MP]:"fire-rtdb",[VP]:"fire-data-connect",[OP]:"fire-rtdb-compat",[PP]:"fire-fn",[kP]:"fire-fn-compat",[LP]:"fire-iid",[jP]:"fire-iid-compat",[UP]:"fire-fcm",[zP]:"fire-fcm-compat",[BP]:"fire-perf",[FP]:"fire-perf-compat",[HP]:"fire-rc",[qP]:"fire-rc-compat",[GP]:"fire-gcs",[KP]:"fire-gcs-compat",[$P]:"fire-fst",[QP]:"fire-fst-compat",[YP]:"fire-vertex","fire-js":"fire-js",[XP]:"fire-js-all"};const Vf=new Map,ZP=new Map,Bg=new Map;function t1(e,t){try{e.container.addComponent(t)}catch(n){Is.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function qo(e){const t=e.name;if(Bg.has(t))return Is.debug(`There were multiple attempts to register component ${t}.`),!1;Bg.set(t,e);for(const n of Vf.values())t1(n,e);for(const n of ZP.values())t1(n,e);return!0}function t0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function di(e){return e==null?!1:e.settings!==void 0}const t3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new rc("app","Firebase",t3);class e3{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const rl=WP;function qA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:zg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Sr.create("bad-app-name",{appName:String(a)});if(n||(n=jA()),!n)throw Sr.create("no-options");const l=Vf.get(a);if(l){if(Aa(n,l.options)&&Aa(s,l.config))return l;throw Sr.create("duplicate-app",{appName:a})}const c=new oP(a);for(const m of Bg.values())c.addComponent(m);const d=new e3(n,s,c);return Vf.set(a,d),d}function GA(e=zg){const t=Vf.get(e);if(!t&&e===zg&&jA())return qA();if(!t)throw Sr.create("no-app",{appName:e});return t}function wr(e,t,n){let s=JP[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}qo(new xa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const n3="firebase-heartbeat-database",i3=1,Hu="firebase-heartbeat-store";let tg=null;function KA(){return tg||(tg=TP(n3,i3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Sr.create("idb-open",{originalErrorMessage:e.message})})),tg}async function s3(e){try{const n=(await KA()).transaction(Hu),s=await n.objectStore(Hu).get($A(e));return await n.done,s}catch(t){if(t instanceof Os)Is.warn(t.message);else{const n=Sr.create("idb-get",{originalErrorMessage:t?.message});Is.warn(n.message)}}}async function e1(e,t){try{const s=(await KA()).transaction(Hu,"readwrite");await s.objectStore(Hu).put(t,$A(e)),await s.done}catch(n){if(n instanceof Os)Is.warn(n.message);else{const s=Sr.create("idb-set",{originalErrorMessage:n?.message});Is.warn(s.message)}}}function $A(e){return`${e.name}!${e.options.appId}`}const r3=1024,a3=30;class o3{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=n1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>a3){const a=c3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n1(),{heartbeatsToSend:n,unsentEntries:s}=l3(this._heartbeatsCache.heartbeats),a=Mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Is.warn(t),""}}}function n1(){return new Date().toISOString().substring(0,10)}function l3(e,t=r3){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),i1(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),i1(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class u3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q4()?X4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await s3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return e1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return e1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function i1(e){return Mf(JSON.stringify({version:2,heartbeats:e})).length}function c3(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function h3(e){qo(new xa("platform-logger",t=>new SP(t),"PRIVATE")),qo(new xa("heartbeat",t=>new o3(t),"PRIVATE")),wr(Ug,Zb,e),wr(Ug,Zb,"esm2020"),wr("fire-js","")}h3("");function YA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f3=YA,QA=new rc("auth","Firebase",YA());const Of=new Jy("@firebase/auth");function d3(e,...t){Of.logLevel<=Lt.WARN&&Of.warn(`Auth (${rl}): ${e}`,...t)}function ff(e,...t){Of.logLevel<=Lt.ERROR&&Of.error(`Auth (${rl}): ${e}`,...t)}function Zi(e,...t){throw n0(e,...t)}function yi(e,...t){return n0(e,...t)}function e0(e,t,n){const s={...f3(),[t]:n};return new rc("auth","Firebase",s).create(t,{appName:e.name})}function ba(e){return e0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m3(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Zi(e,"argument-error"),e0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n0(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return QA.create(e,...t)}function wt(e,t,...n){if(!e)throw n0(t,...n)}function Ss(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ff(t),new Error(t)}function Ns(e,t){e||Ss(t)}function Fg(){return typeof self<"u"&&self.location?.href||""}function p3(){return s1()==="http:"||s1()==="https:"}function s1(){return typeof self<"u"&&self.location?.protocol||null}function g3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p3()||G4()||"connection"in navigator)?navigator.onLine:!0}function y3(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class oc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ns(n>t,"Short delay should be less than long delay!"),this.isMobile=F4()||K4()}get(){return g3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function i0(e,t){Ns(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class XA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const v3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T3=new oc(3e4,6e4);function s0(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function al(e,t,n,s,a={}){return WA(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=ac({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return q4()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&sl(e.emulatorConfig.host)&&(p.credentials="include"),XA.fetch()(await JA(e,e.config.apiHost,n,d),p)})}async function WA(e,t,n){e._canInitEmulator=!1;const s={...v3,...t};try{const a=new b3(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Qh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Qh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Qh(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw e0(e,y,p);Zi(e,y)}}catch(a){if(a instanceof Os)throw a;Zi(e,"network-request-failed",{message:String(a)})}}async function E3(e,t,n,s,a={}){const l=await al(e,t,n,s,a);return"mfaPendingCredential"in l&&Zi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function JA(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?i0(e.config,a):`${e.config.apiScheme}://${a}`;return _3.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class b3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yi(this.auth,"network-request-failed")),T3.get())})}}function Qh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=yi(e,t,s);return a.customData._tokenResponse=n,a}async function S3(e,t){return al(e,"POST","/v1/accounts:delete",t)}async function Pf(e,t){return al(e,"POST","/v1/accounts:lookup",t)}function Mu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function w3(e,t=!1){const n=gn(e),s=await n.getIdToken(t),a=r0(s);wt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Mu(eg(a.auth_time)),issuedAtTime:Mu(eg(a.iat)),expirationTime:Mu(eg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function eg(e){return Number(e)*1e3}function r0(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=kA(n);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a?.toString()),null}}function r1(e){const t=r0(e);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function qu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Os&&A3(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function A3({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class x3{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mu(this.lastLoginAt),this.creationTime=Mu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kf(e){const t=e.auth,n=await e.getIdToken(),s=await qu(e,Pf(t,{idToken:n}));wt(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?ZA(a.providerUserInfo):[],c=R3(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Hg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function C3(e){const t=gn(e);await kf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function R3(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function ZA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function I3(e,t){const n=await WA(e,{},async()=>{const s=ac({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await JA(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&sl(e.emulatorConfig.host)&&(m.credentials="include"),XA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function N3(e,t){return al(e,"POST","/v2/accounts:revokeToken",s0(e,t))}class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):r1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const n=r1(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await I3(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new jo;return s&&(wt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(wt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(wt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function pr(e,t){wt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class mi{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new x3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await qu(this,this.stsTokenManager.getToken(this.auth,t));return wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return w3(this,t)}reload(){return C3(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new mi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await kf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(ba(this.auth));const t=await this.getIdToken();return await qu(this,S3(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:C,providerData:N,stsTokenManager:P}=n;wt(_&&P,t,"internal-error");const L=jo.fromJSON(this.name,P);wt(typeof _=="string",t,"internal-error"),pr(s,t.name),pr(a,t.name),wt(typeof E=="boolean",t,"internal-error"),wt(typeof C=="boolean",t,"internal-error"),pr(l,t.name),pr(c,t.name),pr(d,t.name),pr(m,t.name),pr(p,t.name),pr(y,t.name);const F=new mi({uid:_,auth:t,email:a,emailVerified:E,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:p,lastLoginAt:y});return N&&Array.isArray(N)&&(F.providerData=N.map(H=>({...H}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(t,n,s=!1){const a=new jo;a.updateFromServerResponse(n);const l=new mi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await kf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];wt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ZA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new jo;d.updateFromIdToken(s);const m=new mi({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Hg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const a1=new Map;function ws(e){Ns(e instanceof Function,"Expected a class definition");let t=a1.get(e);return t?(Ns(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,a1.set(e,t),t)}class tx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}tx.type="NONE";const o1=tx;function df(e,t,n){return`firebase:${e}:${t}:${n}`}class Uo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=df(this.userKey,a.apiKey,l),this.fullPersistenceKey=df("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Pf(this.auth,{idToken:t}).catch(()=>{});return n?mi._fromGetAccountInfoResponse(this.auth,n,t):null}return mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Uo(ws(o1),t,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ws(o1);const c=df(s,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await Pf(t,{idToken:y}).catch(()=>{});if(!E)break;_=await mi._fromGetAccountInfoResponse(t,E,y)}else _=mi._fromJSON(t,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Uo(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Uo(l,t,s))}}function l1(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ex(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ax(t))return"Blackberry";if(ox(t))return"Webos";if(nx(t))return"Safari";if((t.includes("chrome/")||ix(t))&&!t.includes("edge/"))return"Chrome";if(rx(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function ex(e=cn()){return/firefox\//i.test(e)}function nx(e=cn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ix(e=cn()){return/crios\//i.test(e)}function sx(e=cn()){return/iemobile/i.test(e)}function rx(e=cn()){return/android/i.test(e)}function ax(e=cn()){return/blackberry/i.test(e)}function ox(e=cn()){return/webos/i.test(e)}function a0(e=cn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function D3(e=cn()){return a0(e)&&!!window.navigator?.standalone}function M3(){return $4()&&document.documentMode===10}function lx(e=cn()){return a0(e)||rx(e)||ox(e)||ax(e)||/windows phone/i.test(e)||sx(e)}function ux(e,t=[]){let n;switch(e){case"Browser":n=l1(cn());break;case"Worker":n=`${l1(cn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${s}`}class V3{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function O3(e,t={}){return al(e,"GET","/v2/passwordPolicy",s0(e,t))}const P3=6;class k3{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??P3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class L3{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u1(this),this.idTokenSubscription=new u1(this),this.beforeStateQueue=new V3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Pf(this,{idToken:t}),s=await mi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(di(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await kf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=y3()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(di(this.app))return Promise.reject(ba(this));const n=t?gn(t):null;return n&&wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return di(this.app)?Promise.reject(ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await O3(this),n=new k3(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new rc("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await N3(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ws(t)||this._popupRedirectResolver;wt(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&d3(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ad(e){return gn(e)}class u1{constructor(t){this.auth=t,this.observer=null,this.addObserver=eP(n=>this.observer=n)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let o0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j3(e){o0=e}function U3(e){return o0.loadJS(e)}function z3(){return o0.gapiScript}function B3(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function F3(e,t){const n=t0(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Aa(l,t??{}))return a;Zi(a,"already-initialized")}return n.initialize({options:t})}function H3(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ws);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function q3(e,t,n){const s=ad(e);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=cx(t),{host:c,port:d}=G3(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(Aa(p,s.config.emulator)&&Aa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,sl(c)?(zA(`${l}//${c}${m}`),BA("Auth",!0)):K3()}function cx(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function G3(e){const t=cx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:c1(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:c1(c)}}}function c1(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function K3(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class hx{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(t){return Ss("not implemented")}_linkToIdToken(t,n){return Ss("not implemented")}_getReauthenticationResolver(t){return Ss("not implemented")}}async function zo(e,t){return E3(e,"POST","/v1/accounts:signInWithIdp",s0(e,t))}const $3="http://localhost";class Ca extends hx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ca(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return zo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,zo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,zo(t,n)}buildRequest(){const t={requestUri:$3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ac(n)}return t}}class l0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class lc extends l0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class yr extends lc{constructor(){super("facebook.com")}static credential(t){return Ca._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class bs extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ca._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return bs.credential(n,s)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";class vr extends lc{constructor(){super("github.com")}static credential(t){return Ca._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";class _r extends lc{constructor(){super("twitter.com")}static credential(t,n){return Ca._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return _r.credential(n,s)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";class Go{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await mi._fromIdTokenResponse(t,s,a),c=h1(s);return new Go({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=h1(s);return new Go({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function h1(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Lf extends Os{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Lf(t,n,s,a)}}function fx(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(e,l,t,s):l})}async function Y3(e,t,n=!1){const s=await qu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Go._forOperation(e,"link",s)}async function Q3(e,t,n=!1){const{auth:s}=e;if(di(s.app))return Promise.reject(ba(s));const a="reauthenticate";try{const l=await qu(e,fx(s,a,t,e),n);wt(l.idToken,s,"internal-error");const c=r0(l.idToken);wt(c,s,"internal-error");const{sub:d}=c;return wt(e.uid===d,s,"user-mismatch"),Go._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zi(s,"user-mismatch"),l}}async function X3(e,t,n=!1){if(di(e.app))return Promise.reject(ba(e));const s="signIn",a=await fx(e,s,t),l=await Go._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}function W3(e,t,n,s){return gn(e).onIdTokenChanged(t,n,s)}function J3(e,t,n){return gn(e).beforeAuthStateChanged(t,n)}function Z3(e,t,n,s){return gn(e).onAuthStateChanged(t,n,s)}function t6(e){return gn(e).signOut()}const jf="__sak";class dx{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const e6=1e3,n6=10;class mx extends dx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);M3()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,n6):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},e6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}mx.type="LOCAL";const i6=mx;class px extends dx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}px.type="SESSION";const gx=px;function s6(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class od{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new od(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await s6(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];function u0(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class r6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=u0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ki(){return window}function a6(e){Ki().location.href=e}function yx(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function o6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l6(){return navigator?.serviceWorker?.controller||null}function u6(){return yx()?self:null}const vx="firebaseLocalStorageDb",c6=1,Uf="firebaseLocalStorage",_x="fbase_key";class uc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(e,t){return e.transaction([Uf],t?"readwrite":"readonly").objectStore(Uf)}function h6(){const e=indexedDB.deleteDatabase(vx);return new uc(e).toPromise()}function qg(){const e=indexedDB.open(vx,c6);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Uf,{keyPath:_x})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Uf)?t(s):(s.close(),await h6(),t(await qg()))})})}async function f1(e,t,n){const s=ld(e,!0).put({[_x]:t,value:n});return new uc(s).toPromise()}async function f6(e,t){const n=ld(e,!1).get(t),s=await new uc(n).toPromise();return s===void 0?null:s.value}function d1(e,t){const n=ld(e,!0).delete(t);return new uc(n).toPromise()}const d6=800,m6=3;class Tx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>m6)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(u6()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await o6(),!this.activeServiceWorker)return;this.sender=new r6(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||l6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qg();return await f1(t,jf,"1"),await d1(t,jf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>f1(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>f6(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>d1(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=ld(a,!1).getAll();return new uc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tx.type="LOCAL";const p6=Tx;new oc(3e4,6e4);function Ex(e,t){return t?ws(t):(wt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class c0 extends hx{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return zo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function g6(e){return X3(e.auth,new c0(e),e.bypassAuthState)}function y6(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),Q3(n,new c0(e),e.bypassAuthState)}async function v6(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),Y3(n,new c0(e),e.bypassAuthState)}class bx{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return g6;case"linkViaPopup":case"linkViaRedirect":return v6;case"reauthViaPopup":case"reauthViaRedirect":return y6;default:Zi(this.auth,"internal-error")}}resolve(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _6=new oc(2e3,1e4);async function T6(e,t,n){if(di(e.app))return Promise.reject(yi(e,"operation-not-supported-in-this-environment"));const s=ad(e);m3(e,t,l0);const a=Ex(s,n);return new _a(s,"signInViaPopup",t,a).executeNotNull()}class _a extends bx{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const t=u0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_6.get())};t()}}_a.currentPopupAction=null;const E6="pendingRedirect",mf=new Map;class b6 extends bx{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=mf.get(this.auth._key());if(!t){try{const s=await S6(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}mf.set(this.auth._key(),t)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S6(e,t){const n=x6(t),s=A6(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function w6(e,t){mf.set(e._key(),t)}function A6(e){return ws(e._redirectPersistence)}function x6(e){return df(E6,e.config.apiKey,e.name)}async function C6(e,t,n=!1){if(di(e.app))return Promise.reject(ba(e));const s=ad(e),a=Ex(s,t),c=await new b6(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const R6=600*1e3;class I6{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!N6(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Sx(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(yi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=R6&&this.cachedEventUids.clear(),this.cachedEventUids.has(m1(t))}saveEventToCache(t){this.cachedEventUids.add(m1(t)),this.lastProcessedEventTime=Date.now()}}function m1(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Sx({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function N6(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sx(e);default:return!1}}async function D6(e,t={}){return al(e,"GET","/v1/projects",t)}const M6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V6=/^https?/;async function O6(e){if(e.config.emulator)return;const{authorizedDomains:t}=await D6(e);for(const n of t)try{if(P6(n))return}catch{}Zi(e,"unauthorized-domain")}function P6(e){const t=Fg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!V6.test(n))return!1;if(M6.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const k6=new oc(3e4,6e4);function p1(){const e=Ki().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function L6(e){return new Promise((t,n)=>{function s(){p1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{p1(),n(yi(e,"network-request-failed"))},timeout:k6.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)s();else{const a=B3("iframefcb");return Ki()[a]=()=>{gapi.load?s():n(yi(e,"network-request-failed"))},U3(`${z3()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw pf=null,t})}let pf=null;function j6(e){return pf=pf||L6(e),pf}const U6=new oc(5e3,15e3),z6="__/auth/iframe",B6="emulator/auth/iframe",F6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q6(e){const t=e.config;wt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?i0(t,B6):`https://${e.config.authDomain}/${z6}`,s={apiKey:t.apiKey,appName:e.name,v:rl},a=H6.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ac(s).slice(1)}`}async function G6(e){const t=await j6(e),n=Ki().gapi;return wt(n,e,"internal-error"),t.open({where:document.body,url:q6(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F6,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=yi(e,"network-request-failed"),d=Ki().setTimeout(()=>{l(c)},U6.get());function m(){Ki().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const K6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$6=500,Y6=600,Q6="_blank",X6="http://localhost";class g1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W6(e,t,n,s=$6,a=Y6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...K6,width:s.toString(),height:a.toString(),top:l,left:c},p=cn().toLowerCase();n&&(d=ix(p)?Q6:n),ex(p)&&(t=t||X6,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[C,N])=>`${E}${C}=${N},`,"");if(D3(p)&&d!=="_self")return J6(t||"",d),new g1(null);const _=window.open(t||"",d,y);wt(_,e,"popup-blocked");try{_.focus()}catch{}return new g1(_)}function J6(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Z6="__/auth/handler",tk="emulator/auth/handler",ek=encodeURIComponent("fac");async function y1(e,t,n,s,a,l){wt(e.config.authDomain,e,"auth-domain-config-required"),wt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:rl,eventId:a};if(t instanceof l0){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",tP(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof lc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),p=m?`#${ek}=${encodeURIComponent(m)}`:"";return`${nk(e)}?${ac(d).slice(1)}${p}`}function nk({config:e}){return e.emulator?i0(e,tk):`https://${e.authDomain}/${Z6}`}const ng="webStorageSupport";class ik{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gx,this._completeRedirectFn=C6,this._overrideRedirectResult=w6}async _openPopup(t,n,s,a){Ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await y1(t,n,s,Fg(),a);return W6(t,l,u0())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await y1(t,n,s,Fg(),a);return a6(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ns(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await G6(t),s=new I6(t);return n.register("authEvent",a=>(wt(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ng,{type:ng},a=>{const l=a?.[0]?.[ng];l!==void 0&&n(!!l),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O6(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return lx()||nx()||a0()}}const sk=ik;var v1="@firebase/auth",_1="1.12.0";class rk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ak(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ok(e){qo(new xa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ux(e)},p=new L3(s,a,l,m);return H3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),qo(new xa("auth-internal",t=>{const n=ad(t.getProvider("auth").getImmediate());return(s=>new rk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(v1,_1,ak(e)),wr(v1,_1,"esm2020")}const lk=300,uk=UA("authIdTokenMaxAge")||lk;let T1=null;const ck=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>uk)return;const a=n?.token;T1!==a&&(T1=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function hk(e=GA()){const t=t0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=F3(e,{popupRedirectResolver:sk,persistence:[p6,i6,gx]}),s=UA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=ck(l.toString());J3(n,c,()=>c(n.currentUser)),W3(n,d=>c(d))}}const a=LA("auth");return a&&q3(n,`http://${a}`),n}function fk(){return document.getElementsByTagName("head")?.[0]??document}j3({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=yi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",fk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ok("Browser");var dk="firebase",mk="12.9.0";wr(dk,mk,"app");var E1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ar,wx;(function(){var e;function t(R,A){function I(){}I.prototype=A.prototype,R.F=A.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(O,k,z){for(var M=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)M[Qt-2]=arguments[Qt];return A.prototype[k].apply(O,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,I){I||(I=0);const O=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)O[k]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(k=0;k<16;++k)O[k]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=R.g[0],I=R.g[1],k=R.g[2];let z=R.g[3],M;M=A+(z^I&(k^z))+O[0]+3614090360&4294967295,A=I+(M<<7&4294967295|M>>>25),M=z+(k^A&(I^k))+O[1]+3905402710&4294967295,z=A+(M<<12&4294967295|M>>>20),M=k+(I^z&(A^I))+O[2]+606105819&4294967295,k=z+(M<<17&4294967295|M>>>15),M=I+(A^k&(z^A))+O[3]+3250441966&4294967295,I=k+(M<<22&4294967295|M>>>10),M=A+(z^I&(k^z))+O[4]+4118548399&4294967295,A=I+(M<<7&4294967295|M>>>25),M=z+(k^A&(I^k))+O[5]+1200080426&4294967295,z=A+(M<<12&4294967295|M>>>20),M=k+(I^z&(A^I))+O[6]+2821735955&4294967295,k=z+(M<<17&4294967295|M>>>15),M=I+(A^k&(z^A))+O[7]+4249261313&4294967295,I=k+(M<<22&4294967295|M>>>10),M=A+(z^I&(k^z))+O[8]+1770035416&4294967295,A=I+(M<<7&4294967295|M>>>25),M=z+(k^A&(I^k))+O[9]+2336552879&4294967295,z=A+(M<<12&4294967295|M>>>20),M=k+(I^z&(A^I))+O[10]+4294925233&4294967295,k=z+(M<<17&4294967295|M>>>15),M=I+(A^k&(z^A))+O[11]+2304563134&4294967295,I=k+(M<<22&4294967295|M>>>10),M=A+(z^I&(k^z))+O[12]+1804603682&4294967295,A=I+(M<<7&4294967295|M>>>25),M=z+(k^A&(I^k))+O[13]+4254626195&4294967295,z=A+(M<<12&4294967295|M>>>20),M=k+(I^z&(A^I))+O[14]+2792965006&4294967295,k=z+(M<<17&4294967295|M>>>15),M=I+(A^k&(z^A))+O[15]+1236535329&4294967295,I=k+(M<<22&4294967295|M>>>10),M=A+(k^z&(I^k))+O[1]+4129170786&4294967295,A=I+(M<<5&4294967295|M>>>27),M=z+(I^k&(A^I))+O[6]+3225465664&4294967295,z=A+(M<<9&4294967295|M>>>23),M=k+(A^I&(z^A))+O[11]+643717713&4294967295,k=z+(M<<14&4294967295|M>>>18),M=I+(z^A&(k^z))+O[0]+3921069994&4294967295,I=k+(M<<20&4294967295|M>>>12),M=A+(k^z&(I^k))+O[5]+3593408605&4294967295,A=I+(M<<5&4294967295|M>>>27),M=z+(I^k&(A^I))+O[10]+38016083&4294967295,z=A+(M<<9&4294967295|M>>>23),M=k+(A^I&(z^A))+O[15]+3634488961&4294967295,k=z+(M<<14&4294967295|M>>>18),M=I+(z^A&(k^z))+O[4]+3889429448&4294967295,I=k+(M<<20&4294967295|M>>>12),M=A+(k^z&(I^k))+O[9]+568446438&4294967295,A=I+(M<<5&4294967295|M>>>27),M=z+(I^k&(A^I))+O[14]+3275163606&4294967295,z=A+(M<<9&4294967295|M>>>23),M=k+(A^I&(z^A))+O[3]+4107603335&4294967295,k=z+(M<<14&4294967295|M>>>18),M=I+(z^A&(k^z))+O[8]+1163531501&4294967295,I=k+(M<<20&4294967295|M>>>12),M=A+(k^z&(I^k))+O[13]+2850285829&4294967295,A=I+(M<<5&4294967295|M>>>27),M=z+(I^k&(A^I))+O[2]+4243563512&4294967295,z=A+(M<<9&4294967295|M>>>23),M=k+(A^I&(z^A))+O[7]+1735328473&4294967295,k=z+(M<<14&4294967295|M>>>18),M=I+(z^A&(k^z))+O[12]+2368359562&4294967295,I=k+(M<<20&4294967295|M>>>12),M=A+(I^k^z)+O[5]+4294588738&4294967295,A=I+(M<<4&4294967295|M>>>28),M=z+(A^I^k)+O[8]+2272392833&4294967295,z=A+(M<<11&4294967295|M>>>21),M=k+(z^A^I)+O[11]+1839030562&4294967295,k=z+(M<<16&4294967295|M>>>16),M=I+(k^z^A)+O[14]+4259657740&4294967295,I=k+(M<<23&4294967295|M>>>9),M=A+(I^k^z)+O[1]+2763975236&4294967295,A=I+(M<<4&4294967295|M>>>28),M=z+(A^I^k)+O[4]+1272893353&4294967295,z=A+(M<<11&4294967295|M>>>21),M=k+(z^A^I)+O[7]+4139469664&4294967295,k=z+(M<<16&4294967295|M>>>16),M=I+(k^z^A)+O[10]+3200236656&4294967295,I=k+(M<<23&4294967295|M>>>9),M=A+(I^k^z)+O[13]+681279174&4294967295,A=I+(M<<4&4294967295|M>>>28),M=z+(A^I^k)+O[0]+3936430074&4294967295,z=A+(M<<11&4294967295|M>>>21),M=k+(z^A^I)+O[3]+3572445317&4294967295,k=z+(M<<16&4294967295|M>>>16),M=I+(k^z^A)+O[6]+76029189&4294967295,I=k+(M<<23&4294967295|M>>>9),M=A+(I^k^z)+O[9]+3654602809&4294967295,A=I+(M<<4&4294967295|M>>>28),M=z+(A^I^k)+O[12]+3873151461&4294967295,z=A+(M<<11&4294967295|M>>>21),M=k+(z^A^I)+O[15]+530742520&4294967295,k=z+(M<<16&4294967295|M>>>16),M=I+(k^z^A)+O[2]+3299628645&4294967295,I=k+(M<<23&4294967295|M>>>9),M=A+(k^(I|~z))+O[0]+4096336452&4294967295,A=I+(M<<6&4294967295|M>>>26),M=z+(I^(A|~k))+O[7]+1126891415&4294967295,z=A+(M<<10&4294967295|M>>>22),M=k+(A^(z|~I))+O[14]+2878612391&4294967295,k=z+(M<<15&4294967295|M>>>17),M=I+(z^(k|~A))+O[5]+4237533241&4294967295,I=k+(M<<21&4294967295|M>>>11),M=A+(k^(I|~z))+O[12]+1700485571&4294967295,A=I+(M<<6&4294967295|M>>>26),M=z+(I^(A|~k))+O[3]+2399980690&4294967295,z=A+(M<<10&4294967295|M>>>22),M=k+(A^(z|~I))+O[10]+4293915773&4294967295,k=z+(M<<15&4294967295|M>>>17),M=I+(z^(k|~A))+O[1]+2240044497&4294967295,I=k+(M<<21&4294967295|M>>>11),M=A+(k^(I|~z))+O[8]+1873313359&4294967295,A=I+(M<<6&4294967295|M>>>26),M=z+(I^(A|~k))+O[15]+4264355552&4294967295,z=A+(M<<10&4294967295|M>>>22),M=k+(A^(z|~I))+O[6]+2734768916&4294967295,k=z+(M<<15&4294967295|M>>>17),M=I+(z^(k|~A))+O[13]+1309151649&4294967295,I=k+(M<<21&4294967295|M>>>11),M=A+(k^(I|~z))+O[4]+4149444226&4294967295,A=I+(M<<6&4294967295|M>>>26),M=z+(I^(A|~k))+O[11]+3174756917&4294967295,z=A+(M<<10&4294967295|M>>>22),M=k+(A^(z|~I))+O[2]+718787259&4294967295,k=z+(M<<15&4294967295|M>>>17),M=I+(z^(k|~A))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(k+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+z&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const I=A-this.blockSize,O=this.C;let k=this.h,z=0;for(;z<A;){if(k==0)for(;z<=I;)a(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<A;)if(O[k++]=R.charCodeAt(z++),k==this.blockSize){a(this,O),k=0;break}}else for(;z<A;)if(O[k++]=R[z++],k==this.blockSize){a(this,O),k=0;break}}this.h=k,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)R[A++]=this.g[I]>>>O&255;return R};function l(R,A){var I=d;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=A(R)}function c(R,A){this.h=A;const I=[];let O=!0;for(let k=R.length-1;k>=0;k--){const z=R[k]|0;O&&z==A||(I[k]=z,O=!1)}this.g=I}var d={};function m(R){return-128<=R&&R<128?l(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return L(p(-R));const A=[];let I=1;for(let O=0;R>=I;O++)A[O]=R/I|0,I*=4294967296;return new c(A,0)}function y(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return L(y(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(A,8));let O=_;for(let z=0;z<R.length;z+=8){var k=Math.min(8,R.length-z);const M=parseInt(R.substring(z,z+k),A);k<8?(k=p(Math.pow(A,k)),O=O.j(k).add(p(M))):(O=O.j(I),O=O.add(p(M)))}return O}var _=m(0),E=m(1),C=m(16777216);e=c.prototype,e.m=function(){if(P(this))return-L(this).m();let R=0,A=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);R+=(O>=0?O:4294967296+O)*A,A*=4294967296}return R},e.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(P(this))return"-"+L(this).toString(R);const A=p(Math.pow(R,6));var I=this;let O="";for(;;){const k=W(I,A).g;I=F(I,k.j(A));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=k,N(I))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},e.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function P(R){return R.h==-1}e.l=function(R){return R=F(this,R),P(R)?-1:N(R)?0:1};function L(R){const A=R.g.length,I=[];for(let O=0;O<A;O++)I[O]=~R.g[O];return new c(I,~R.h).add(E)}e.abs=function(){return P(this)?L(this):this},e.add=function(R){const A=Math.max(this.g.length,R.g.length),I=[];let O=0;for(let k=0;k<=A;k++){let z=O+(this.i(k)&65535)+(R.i(k)&65535),M=(z>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);O=M>>>16,z&=65535,M&=65535,I[k]=M<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(R,A){return R.add(L(A))}e.j=function(R){if(N(this)||N(R))return _;if(P(this))return P(R)?L(this).j(L(R)):L(L(this).j(R));if(P(R))return L(this.j(L(R)));if(this.l(C)<0&&R.l(C)<0)return p(this.m()*R.m());const A=this.g.length+R.g.length,I=[];for(var O=0;O<2*A;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let k=0;k<R.g.length;k++){const z=this.i(O)>>>16,M=this.i(O)&65535,Qt=R.i(k)>>>16,ue=R.i(k)&65535;I[2*O+2*k]+=M*ue,H(I,2*O+2*k),I[2*O+2*k+1]+=z*ue,H(I,2*O+2*k+1),I[2*O+2*k+1]+=M*Qt,H(I,2*O+2*k+1),I[2*O+2*k+2]+=z*Qt,H(I,2*O+2*k+2)}for(R=0;R<A;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=A;R<2*A;R++)I[R]=0;return new c(I,0)};function H(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function $(R,A){this.g=R,this.h=A}function W(R,A){if(N(A))throw Error("division by zero");if(N(R))return new $(_,_);if(P(R))return A=W(L(R),A),new $(L(A.g),L(A.h));if(P(A))return A=W(R,L(A)),new $(L(A.g),A.h);if(R.g.length>30){if(P(R)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var I=E,O=A;O.l(R)<=0;)I=J(I),O=J(O);var k=at(I,1),z=at(O,1);for(O=at(O,2),I=at(I,2);!N(O);){var M=z.add(O);M.l(R)<=0&&(k=k.add(I),z=M),O=at(O,1),I=at(I,1)}return A=F(R,k.j(A)),new $(k,A)}for(k=_;R.l(A)>=0;){for(I=Math.max(1,Math.floor(R.m()/A.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=p(I),M=z.j(A);P(M)||M.l(R)>0;)I-=O,z=p(I),M=z.j(A);N(z)&&(z=E),k=k.add(z),R=F(R,M)}return new $(k,R)}e.B=function(R){return W(this,R).h},e.and=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let O=0;O<A;O++)I[O]=this.i(O)&R.i(O);return new c(I,this.h&R.h)},e.or=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let O=0;O<A;O++)I[O]=this.i(O)|R.i(O);return new c(I,this.h|R.h)},e.xor=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let O=0;O<A;O++)I[O]=this.i(O)^R.i(O);return new c(I,this.h^R.h)};function J(R){const A=R.g.length+1,I=[];for(let O=0;O<A;O++)I[O]=R.i(O)<<1|R.i(O-1)>>>31;return new c(I,R.h)}function at(R,A){const I=A>>5;A%=32;const O=R.g.length-I,k=[];for(let z=0;z<O;z++)k[z]=A>0?R.i(z+I)>>>A|R.i(z+I+1)<<32-A:R.i(z+I);return new c(k,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,wx=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Ar=c}).apply(typeof E1<"u"?E1:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ax,Su,xx,gf,Gg,Cx,Rx,Ix;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var b=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var q=h[x];if(!(q in b))break t;b=b[q]}h=h[h.length-1],x=b[h],v=v(x),v!=x&&v!=null&&t(b,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var b=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&b.push([x,v[x]]);return b}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,b){return h.call.apply(h.bind,arguments)}function p(h,v,b){return p=m,p.apply(null,arguments)}function y(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function _(h,v){function b(){}b.prototype=v.prototype,h.Z=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(x,q,Q){for(var ut=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ut[Rt-2]=arguments[Rt];return v.prototype[q].apply(x,ut)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const b=Array(v);for(let x=0;x<v;x++)b[x]=h[x];return b}return[]}function N(h,v){for(let x=1;x<arguments.length;x++){const q=arguments[x];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=h.length||0;const Q=q.length||0;h.length=b+Q;for(let ut=0;ut<Q;ut++)h[b+ut]=q[ut]}else h.push(q)}}class P{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(h){c.setTimeout(()=>{throw h},0)}function F(){var h=R;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class H{constructor(){this.h=this.g=null}add(v,b){const x=$.get();x.set(v,b),this.h?this.h.next=x:this.g=x,this.h=x}}var $=new P(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let J,at=!1,R=new H,A=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(I)}};function I(){for(var h;h=F();){try{h.h.call(h.g)}catch(b){L(b)}var v=$;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}at=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,v),c.removeEventListener("test",b,v)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Qt(h,v){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(Qt,k),Qt.prototype.init=function(h,v){const b=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Qt.Z.h.call(this)},Qt.prototype.h=function(){Qt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ot(h,v,b,x,q){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!x,this.ha=q,this.key=++Z,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function lt(h,v,b){for(const x in h)v.call(b,h[x],x,h)}function vt(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function j(h){const v={};for(const b in h)v[b]=h[b];return v}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,v){let b,x;for(let q=1;q<arguments.length;q++){x=arguments[q];for(b in x)h[b]=x[b];for(let Q=0;Q<nt.length;Q++)b=nt[Q],Object.prototype.hasOwnProperty.call(x,b)&&(h[b]=x[b])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,v,b,x,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ut=Nt(h,v,x,q);return ut>-1?(v=h[ut],b||(v.fa=!1)):(v=new ot(v,this.src,Q,!!x,q),v.fa=b,h.push(v)),v};function bt(h,v){const b=v.type;if(b in h.g){var x=h.g[b],q=Array.prototype.indexOf.call(x,v,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(x,q,1),Q&&(dt(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Nt(h,v,b,x){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!b&&Q.ha==x)return q}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),je={};function ce(h,v,b,x,q){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)ce(h,v[Q],b,x,q);return null}return b=pl(b),h&&h[ue]?h.J(v,b,d(x)?!!x.capture:!1,q):Lr(h,v,b,!1,x,q)}function Lr(h,v,b,x,q,Q){if(!v)throw Error("Invalid event type");const ut=d(q)?!!q.capture:!!q;let Rt=jr(h);if(Rt||(h[Ft]=Rt=new ht(h)),b=Rt.add(v,b,x,ut,Q),b.proxy)return b;if(x=Pa(),b.proxy=x,x.src=h,x.listener=b,h.addEventListener)z||(q=ut),q===void 0&&(q=!1),h.addEventListener(v.toString(),x,q);else if(h.attachEvent)h.attachEvent(Ei(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Pa(){function h(b){return v.call(h.src,h.listener,b)}const v=dl;return h}function ka(h,v,b,x,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)ka(h,v[Q],b,x,q);else x=d(x)?!!x.capture:!!x,b=pl(b),h&&h[ue]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],b=Nt(v,b,x,q),b>-1&&(dt(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=jr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Nt(v,b,x,q)),(b=h>-1?v[h]:null)&&La(b))}function La(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ue])bt(v.i,h);else{var b=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(b,x,h.capture):v.detachEvent?v.detachEvent(Ei(b),x):v.addListener&&v.removeListener&&v.removeListener(x),(b=jr(v))?(bt(b,h),b.h==0&&(b.src=null,v[Ft]=null)):dt(h)}}}function Ei(h){return h in je?je[h]:je[h]="on"+h}function dl(h,v){if(h.da)h=!0;else{v=new Qt(v,this);const b=h.listener,x=h.ha||h.src;h.fa&&La(h),h=b.call(x,v)}return h}function jr(h){return h=h[Ft],h instanceof ht?h:null}var ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function pl(h){return typeof h=="function"?h:(h[ml]||(h[ml]=function(v){return h.handleEvent(v)}),h[ml])}function we(){O.call(this),this.i=new ht(this),this.M=this,this.G=null}_(we,O),we.prototype[ue]=!0,we.prototype.removeEventListener=function(h,v,b,x){ka(this,h,v,b,x)};function Ue(h,v){var b,x=h.G;if(x)for(b=[];x;x=x.G)b.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new k(v,h);else if(v instanceof k)v.target=v.target||h;else{var q=v;v=new k(x,h),ct(v,q)}q=!0;let Q,ut;if(b)for(ut=b.length-1;ut>=0;ut--)Q=v.g=b[ut],q=ks(Q,x,!0,v)&&q;if(Q=v.g=h,q=ks(Q,x,!0,v)&&q,q=ks(Q,x,!1,v)&&q,b)for(ut=0;ut<b.length;ut++)Q=v.g=b[ut],q=ks(Q,x,!1,v)&&q}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const b=h.g[v];for(let x=0;x<b.length;x++)dt(b[x]);delete h.g[v],h.h--}}this.G=null},we.prototype.J=function(h,v,b,x){return this.i.add(String(h),v,!1,b,x)},we.prototype.K=function(h,v,b,x){return this.i.add(String(h),v,!0,b,x)};function ks(h,v,b,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Q=0;Q<v.length;++Q){const ut=v[Q];if(ut&&!ut.da&&ut.capture==b){const Rt=ut.listener,Te=ut.ha||ut.src;ut.fa&&bt(h.i,ut),q=Rt.call(Te,x)!==!1&&q}}return q&&!x.defaultPrevented}function xd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function pc(h){h.g=xd(()=>{h.g=null,h.i&&(h.i=!1,pc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class hn extends O{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:pc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(h){O.call(this),this.h=h,this.g={}}_(Ur,O);var gl=[];function yl(h){lt(h.g,function(v,b){this.g.hasOwnProperty(b)&&La(v)},h),h.g={}}Ur.prototype.N=function(){Ur.Z.N.call(this),yl(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=c.JSON.stringify,Cd=c.JSON.parse,gc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function yc(){}function vc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){k.call(this,"d")}_($e,k);function Pn(){k.call(this,"c")}_(Pn,k);var _e={},_c=null;function ja(){return _c=_c||new we}_e.Ia="serverreachability";function Tc(h){k.call(this,_e.Ia,h)}_(Tc,k);function bi(h){const v=ja();Ue(v,new Tc(v))}_e.STAT_EVENT="statevent";function zr(h,v){k.call(this,_e.STAT_EVENT,h),this.stat=v}_(zr,k);function Ae(h){const v=ja();Ue(v,new zr(v,h))}_e.Ja="timingevent";function Si(h,v){k.call(this,_e.Ja,h),this.size=v}_(Si,k);function wi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Rd(h,v,b,x,q,Q){h.info(function(){if(h.g)if(Q){var ut="",Rt=Q.split("&");for(let Kt=0;Kt<Rt.length;Kt++){var Te=Rt[Kt].split("=");if(Te.length>1){const he=Te[0];Te=Te[1];const Un=he.split("_");ut=Un.length>=2&&Un[1]=="type"?ut+(he+"="+Te+"&"):ut+(he+"=redacted&")}}}else ut=null;else ut=Q;return"XMLHTTP REQ ("+x+") [attempt "+q+"]: "+v+`
`+b+`
`+ut})}function Ec(h,v,b,x,q,Q,ut){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+q+"]: "+v+`
`+b+`
`+Q+" "+ut})}function Ai(h,v,b,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Id(h,b)+(x?" "+x:"")})}function Br(h,v){h.info(function(){return"TIMEOUT: "+v})}ti.prototype.info=function(){};function Id(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var b=Q[h];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var q=x[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ut=1;ut<x.length;ut++)x[ut]=""}}}}return Ls(Q)}catch{return v}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function Hr(){}_(Hr,yc),Hr.prototype.g=function(){return new XMLHttpRequest},_l=new Hr;function ns(h){return encodeURIComponent(String(h))}function bc(h){var v=1;h=h.split(":");const b=[];for(;v>0&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function ei(h,v,b,x){this.j=h,this.i=v,this.l=b,this.S=x||1,this.V=new Ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var xe={},He={};function xi(h,v,b){h.M=1,h.A=qr(Re(v)),h.u=b,h.R=!0,Ua(h,null)}function Ua(h,v){h.F=Date.now(),Ci(h),h.B=Re(h.A);var b=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),Ha(b.i,"t",x),h.C=0,b=h.j.L,h.h=new ni,h.g=Lc(h.j,b?v:null,!h.u),h.P>0&&(h.O=new hn(p(h.Y,h,h.g),h.P)),v=h.V,b=h.g,x=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(gl[0]=q.toString()),q=gl);for(let Q=0;Q<q.length;Q++){const ut=ce(b,q[Q],x||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),bi(),Rd(h.i,h.v,h.B,h.l,h.S,h.u)}ei.prototype.ba=function(h){h=h.target;const v=this.O;v&&ri(h)==3?v.j():this.Y(h)},ei.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=ri(this.g),Te=this.g.ya(),Kt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Rt!=4||Te==7||(Te==8||Kt<=0?bi(3):bi(2)),Ri(this);var v=this.g.ca();this.X=v;var b=Nd(this);if(this.o=v==200,Ec(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var x,q=this.g;if((x=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(x)){var Q=x;break e}}Q=null}if(h=Q)Ai(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,h);else{this.o=!1,this.m=3,Ae(12),An(this),kn(this);break t}}if(this.R){h=!0;let he;for(;!this.K&&this.C<b.length;)if(he=wc(this,b),he==He){Rt==4&&(this.m=4,Ae(14),h=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(he==xe){this.m=4,Ae(15),Ai(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Ai(this.i,this.l,he,null),Ii(this,he);if(Sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||b.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)Ai(this.i,this.l,b,"[Invalid Chunked Response]"),An(this),kn(this);else if(b.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ol(ut),ut.P=!0,Ae(11))}}else Ai(this.i,this.l,b,null),Ii(this,b);Rt==4&&An(this),this.o&&!this.K&&(Rt==4?Vc(this.j,this):(this.o=!1,Ci(this)))}else ss(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),An(this),kn(this)}}}catch{}};function Nd(h){if(!Sc(h))return h.g.la();const v=Ye(h.g);if(v==="")return"";let b="";const x=v.length,q=ri(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return An(h),kn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<x;Q++)h.h.h=!0,b+=h.h.i.decode(v[Q],{stream:!(q&&Q==x-1)});return v.length=0,h.h.g+=b,h.C=0,h.h.g}function Sc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function wc(h,v){var b=h.C,x=v.indexOf(`
`,b);return x==-1?He:(b=Number(v.substring(b,x)),isNaN(b)?xe:(x+=1,x+b>v.length?He:(v=v.slice(x,x+b),h.C=x+b,v)))}ei.prototype.cancel=function(){this.K=!0,An(this)};function Ci(h){h.T=Date.now()+h.H,za(h,h.H)}function za(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wi(p(h.aa,h),v)}function Ri(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ei.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Br(this.i,this.B),this.M!=2&&(bi(),Ae(17)),An(this),this.m=2,kn(this)):za(this,this.T-h)};function kn(h){h.j.I==0||h.K||Vc(h.j,h)}function An(h){Ri(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,yl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ii(h,v){try{var b=h.j;if(b.I!=0&&(b.g==h||Di(b.h,h))){if(!h.L&&Di(b.h,h)&&b.I==3){try{var x=b.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var q=x;if(q[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Ya(b),Gs(b);else break t;Wr(b),Ae(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=wi(p(b.Va,b),6e3));Ni(b.h)<=1&&b.ta&&(b.ta=void 0)}else Li(b,11)}else if((h.L||b.g==h)&&Ya(b),!M(v))for(q=b.Ba.g.parse(v),v=0;v<q.length;v++){let Kt=q[v];const he=Kt[0];if(!(he<=b.K))if(b.K=he,Kt=Kt[1],b.I==2)if(Kt[0]=="c"){b.M=Kt[1],b.ba=Kt[2];const Un=Kt[3];Un!=null&&(b.ka=Un,b.j.info("VER="+b.ka));const ji=Kt[4];ji!=null&&(b.za=ji,b.j.info("SVER="+b.za));const ai=Kt[5];ai!=null&&typeof ai=="number"&&ai>0&&(x=1.5*ai,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const oi=h.g;if(oi){const Jr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var Q=x.h;Q.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(bl(Q,Q.h),Q.h=null))}if(x.G){const Qa=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(x.wa=Qa,Xt(x.J,x.G,Qa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var ut=h;if(x.na=kc(x,x.L?x.ba:null,x.W),ut.L){Sl(x.h,ut);var Rt=ut,Te=x.O;Te&&(Rt.H=Te),Rt.D&&(Ri(Rt),Ci(Rt)),x.g=ut}else Dc(x);b.i.length>0&&ki(b)}else Kt[0]!="stop"&&Kt[0]!="close"||Li(b,7);else b.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Li(b,7):Ml(b):Kt[0]!="noop"&&b.l&&b.l.qa(Kt),b.A=0)}}bi(4)}catch{}}var Ce=class{constructor(h,v){this.g=h,this.map=v}};function Tl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function El(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ni(h){return h.h?1:h.g?h.g.size:0}function Di(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function bl(h,v){h.g?h.g.add(v):h.h=v}function Sl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Tl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.G);return v}return C(h.i)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(h,v){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const x=h[b].indexOf("=");let q,Q=null;x>=0?(q=h[b].substring(0,x),Q=h[b].substring(x+1)):q=h[b],v(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function xn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof xn?(this.l=h.l,qe(this,h.j),this.o=h.o,this.g=h.g,js(this,h.u),this.h=h.h,Al(this,Ic(h.i)),this.m=h.m):h&&(v=String(h).match(Ac))?(this.l=!1,qe(this,v[1]||"",!0),this.o=Mi(v[2]||""),this.g=Mi(v[3]||"",!0),js(this,v[4]),this.h=Mi(v[5]||"",!0),Al(this,v[6]||"",!0),this.m=Mi(v[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}xn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Gr(v,Fa,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Gr(v,Fa,!0),"@"),h.push(ns(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Gr(b,b.charAt(0)=="/"?xl:xc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Gr(b,Cc)),h.join("")},xn.prototype.resolve=function(h){const v=Re(this);let b=!!h.j;b?qe(v,h.j):b=!!h.o,b?v.o=h.o:b=!!h.g,b?v.g=h.g:b=h.u!=null;var x=h.h;if(b)js(v,h.u);else if(b=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var q=v.h.lastIndexOf("/");q!=-1&&(x=v.h.slice(0,q+1)+x)}if(q=x,q==".."||q==".")x="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){x=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ut=0;ut<q.length;){const Rt=q[ut++];Rt=="."?x&&ut==q.length&&Q.push(""):Rt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),x&&ut==q.length&&Q.push("")):(Q.push(Rt),x=!0)}x=Q.join("/")}else x=q}return b?v.h=x:b=h.i.toString()!=="",b?Al(v,Ic(h.i)):b=!!h.m,b&&(v.m=h.m),v};function Re(h){return new xn(h)}function qe(h,v,b){h.j=b?Mi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function js(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Al(h,v,b){v instanceof zs?(h.i=v,qa(h.i,h.l)):(b||(v=Gr(v,Us)),h.i=new zs(v,h.l))}function Xt(h,v,b){h.i.set(v,b)}function qr(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Mi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Gr(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,yn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fa=/[#\/\?@]/g,xc=/[#\?:]/g,xl=/[#\?]/g,Us=/[#\?@]/g,Cc=/#/g;function zs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function vn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ba(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}e=zs.prototype,e.add=function(h,v){vn(this),this.i=null,h=Bs(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Rc(h,v){vn(h),v=Bs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Cl(h,v){return vn(h),v=Bs(h,v),h.g.has(v)}e.forEach=function(h,v){vn(this),this.g.forEach(function(b,x){b.forEach(function(q){h.call(v,q,x,this)},this)},this)};function Rl(h,v){vn(h);let b=[];if(typeof v=="string")Cl(h,v)&&(b=b.concat(h.g.get(Bs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)b=b.concat(h[v]);return b}e.set=function(h,v){return vn(this),this.i=null,h=Bs(this,h),Cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=Rl(this,h),h.length>0?String(h[0]):v):v};function Ha(h,v,b){Rc(h,v),b.length>0&&(h.i=null,h.g.set(Bs(h,v),C(b)),h.h+=b.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var b=v[x];const q=ns(b);b=Rl(this,b);for(let Q=0;Q<b.length;Q++){let ut=q;b[Q]!==""&&(ut+="="+ns(b[Q])),h.push(ut)}}return this.i=h.join("&")};function Ic(h){const v=new zs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Bs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function qa(h,v){v&&!h.j&&(vn(h),h.i=null,h.g.forEach(function(b,x){const q=x.toLowerCase();x!=q&&(Rc(this,x),Ha(this,q,b))},h)),h.j=v}function ii(h,v){const b=new ti;if(c.Image){const x=new Image;x.onload=y(Ln,b,"TestLoadImage: loaded",!0,v,x),x.onerror=y(Ln,b,"TestLoadImage: error",!1,v,x),x.onabort=y(Ln,b,"TestLoadImage: abort",!1,v,x),x.ontimeout=y(Ln,b,"TestLoadImage: timeout",!1,v,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function Il(h,v){const b=new ti,x=new AbortController,q=setTimeout(()=>{x.abort(),Ln(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(Q=>{clearTimeout(q),Q.ok?Ln(b,"TestPingServer: ok",!0,v):Ln(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Ln(b,"TestPingServer: error",!1,v)})}function Ln(h,v,b,x,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),x(b)}catch{}}function Fs(){this.g=new gc}function Vi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Vi,yc),Vi.prototype.g=function(){return new Kr(this.i,this.h)};function Kr(h,v){we.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Kr,we),e=Kr.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,si(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Hs(this):si(this),this.readyState==3&&Ga(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Hs(this))},e.Na=function(h){this.g&&(this.response=h,Hs(this))},e.ga=function(){this.g&&Hs(this)};function Hs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,si(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jn(h){let v="";return lt(h,function(b,x){v+=x,v+=":",v+=b,v+=`\r
`}),v}function $r(h,v,b){t:{for(x in b){var x=!1;break t}x=!0}x||(b=jn(b),typeof h=="string"?b!=null&&ns(b):Xt(h,v,b))}function Zt(h){we.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Zt,we);var Oi=/^https?$/i,Nl=["POST","PUT"];e=Zt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Yr(this,Q);return}if(h=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var q in x)b.set(q,x[q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())b.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Nl,v,void 0)>=0)||x||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ut]of b)this.g.setRequestHeader(Q,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Yr(this,Q)}};function Yr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Dl(h),is(h)}function Dl(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ue(this,"complete"),Ue(this,"abort"),is(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),Zt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},e.Xa=function(){Qr(this)};function Qr(h){if(h.h&&typeof l<"u"){if(h.v&&ri(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ue(h,"readystatechange"),ri(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var b;if(!(b=v)){var x;if(x=Q===0){let ut=String(h.D).match(Ac)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),x=!Oi.test(ut?ut.toLowerCase():"")}b=x}if(b)Ue(h,"complete"),Ue(h,"success");else{h.o=6;try{var q=ri(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Dl(h)}}finally{is(h)}}}}function is(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,v||Ue(h,"ready");try{b.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ri(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Cd(v)}};function Ye(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(h){const v={};h=(h.g&&ri(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(M(h[x]))continue;var b=bc(h[x]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=v[q]||[];v[q]=Q,Q.push(b)}vt(v,function(x){return x.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function qs(h){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,h),this.Za=Pi("retryDelaySeedMs",1e4,h),this.Ta=Pi("forwardChannelMaxRetries",2,h),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(h&&h.concurrentRequestLimit),this.Ba=new Fs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=qs.prototype,e.ka=8,e.I=1,e.connect=function(h,v,b,x){Ae(0),this.W=h,this.H=v||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=kc(this,null,this.W),ki(this)};function Ml(h){if(Ka(h),h.I==3){var v=h.V++,b=Re(h.J);if(Xt(b,"SID",h.M),Xt(b,"RID",v),Xt(b,"TYPE","terminate"),Xr(h,b),v=new ei(h,h.j,v),v.M=2,v.A=qr(Re(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=v.A,b=!0),b||(v.g=Lc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ci(v)}Pc(h)}function Gs(h){h.g&&(Ol(h),h.g.cancel(),h.g=null)}function Ka(h){Gs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ya(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ki(h){if(!El(h.h)&&!h.m){h.m=!0;var v=h.Ea;J||A(),at||(J(),at=!0),R.add(v,h),h.D=0}}function $a(h,v){return Ni(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wi(p(h.Ea,h,v),Oc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ei(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=j(Q),ct(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)t:{for(var v=0,b=0;b<this.i.length;b++){e:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=b;break t}if(v===4096||b===this.i.length-1){v=b+1;break t}}v=1e3}else v=1e3;v=Nc(this,q,v),b=Re(this.J),Xt(b,"RID",h),Xt(b,"CVER",22),this.G&&Xt(b,"X-HTTP-Session-Id",this.G),Xr(this,b),Q&&(this.R?v="headers="+ns(jn(Q))+"&"+v:this.u&&$r(b,this.u,Q)),bl(this.h,q),this.Ra&&Xt(b,"TYPE","init"),this.S?(Xt(b,"$req",v),Xt(b,"SID","null"),q.U=!0,xi(q,b,null)):xi(q,b,v),this.I=2}}else this.I==3&&(h?Vl(this,h):this.i.length==0||El(this.h)||Vl(this))};function Vl(h,v){var b;v?b=v.l:b=h.V++;const x=Re(h.J);Xt(x,"SID",h.M),Xt(x,"RID",b),Xt(x,"AID",h.K),Xr(h,x),h.u&&h.o&&$r(x,h.u,h.o),b=new ei(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Nc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),bl(h.h,b),xi(b,x,v)}function Xr(h,v){h.H&&lt(h.H,function(b,x){Xt(v,x,b)}),h.l&&lt({},function(b,x){Xt(v,x,b)})}function Nc(h,v,b){b=Math.min(h.i.length,b);const x=h.l?p(h.l.Ka,h.l,h):null;t:{var q=h.i;let Rt=-1;for(;;){const Te=["count="+b];Rt==-1?b>0?(Rt=q[0].g,Te.push("ofs="+Rt)):Rt=0:Te.push("ofs="+Rt);let Kt=!0;for(let he=0;he<b;he++){var Q=q[he].g;const Un=q[he].map;if(Q-=Rt,Q<0)Rt=Math.max(0,q[he].g-100),Kt=!1;else try{Q="req"+Q+"_"||"";try{var ut=Un instanceof Map?Un:Object.entries(Un);for(const[ji,ai]of ut){let oi=ai;d(ai)&&(oi=Ls(ai)),Te.push(Q+ji+"="+encodeURIComponent(oi))}}catch(ji){throw Te.push(Q+"type="+encodeURIComponent("_badmap")),ji}}catch{x&&x(Un)}}if(Kt){ut=Te.join("&");break t}}ut=void 0}return h=h.i.splice(0,b),v.G=h,ut}function Dc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;J||A(),at||(J(),at=!0),R.add(v,h),h.A=0}}function Wr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wi(p(h.Da,h),Oc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wi(p(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Gs(this),Mc(this))};function Ol(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Mc(h){h.g=new ei(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Re(h.na);Xt(v,"RID","rpc"),Xt(v,"SID",h.M),Xt(v,"AID",h.K),Xt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(v,"TO",h.ia),Xt(v,"TYPE","xmlhttp"),Xr(h,v),h.u&&h.o&&$r(v,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=qr(Re(v)),b.u=null,b.R=!0,Ua(b,h)}e.Va=function(){this.C!=null&&(this.C=null,Gs(this),Wr(this),Ae(19))};function Ya(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Vc(h,v){var b=null;if(h.g==v){Ya(h),Ol(h),h.g=null;var x=2}else if(Di(h.h,v))b=v.G,Sl(h.h,v),x=1;else return;if(h.I!=0){if(v.o)if(x==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;x=ja(),Ue(x,new Si(x,b)),ki(h)}else Dc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(x==1&&$a(h,v)||x==2&&Wr(h)))switch(b&&b.length>0&&(v=h.h,v.i=v.i.concat(b)),q){case 1:Li(h,5);break;case 4:Li(h,10);break;case 3:Li(h,6);break;default:Li(h,2)}}}function Oc(h,v){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*v}function Li(h,v){if(h.j.info("Error code "+v),v==2){var b=p(h.bb,h),x=h.Ua;const q=!x;x=new xn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(x,"https"),qr(x),q?ii(x.toString(),b):Il(x.toString(),b)}else Ae(2);h.I=0,h.l&&h.l.pa(v),Pc(h),Ka(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Pc(h){if(h.I=0,h.ja=[],h.l){const v=wl(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ja,v),N(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function kc(h,v,b){var x=b instanceof xn?Re(b):new xn(b);if(x.g!="")v&&(x.g=v+"."+x.g),js(x,x.u);else{var q=c.location;x=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Q=new xn(null);x&&qe(Q,x),v&&(Q.g=v),q&&js(Q,q),b&&(Q.h=b),x=Q}return b=h.G,v=h.wa,b&&v&&Xt(x,b,v),Xt(x,"VER",h.ka),Xr(h,x),x}function Lc(h,v,b){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Zt(new Vi({ab:b})):new Zt(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}e=jc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ks(){}Ks.prototype.g=function(h,v){return new fn(h,v)};function fn(h,v){we.call(this),this.g=new qs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!M(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new rs(this)}_(fn,we),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Ml(this.g)},fn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Ls(h),h=b);v.i.push(new Ce(v.Ya++,h)),v.I==3&&ki(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,fn.Z.N.call(this)};function Uc(h){$e.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const b in v){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Uc,$e);function zc(){Pn.call(this),this.status=1}_(zc,Pn);function rs(h){this.g=h}_(rs,jc),rs.prototype.ra=function(){Ue(this.g,"a")},rs.prototype.qa=function(h){Ue(this.g,new Uc(h))},rs.prototype.pa=function(h){Ue(this.g,new zc)},rs.prototype.oa=function(){Ue(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Ix=function(){return new Ks},Rx=function(){return ja()},Cx=_e,Gg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,gf=Fr,vl.COMPLETE="complete",xx=vl,vc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",we.prototype.listen=we.prototype.J,Su=vc,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,Ax=Zt}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let ol="12.9.0";function pk(e){ol=e}const Ra=new Jy("@firebase/firestore");function Co(){return Ra.logLevel}function mt(e,...t){if(Ra.logLevel<=Lt.DEBUG){const n=t.map(h0);Ra.debug(`Firestore (${ol}): ${e}`,...n)}}function Ds(e,...t){if(Ra.logLevel<=Lt.ERROR){const n=t.map(h0);Ra.error(`Firestore (${ol}): ${e}`,...n)}}function Ia(e,...t){if(Ra.logLevel<=Lt.WARN){const n=t.map(h0);Ra.warn(`Firestore (${ol}): ${e}`,...n)}}function h0(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function St(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Nx(e,s,n)}function Nx(e,t,n){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ds(s),new Error(s)}function Yt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||Nx(t,a,s)}function Ct(e,t){return e}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Os{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Dx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class yk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vk{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xr,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new Dx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class _k{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Tk{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new _k(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ek{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const s=l=>{l.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bk(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class f0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=bk(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function jt(e,t){return e<t?-1:e>t?1:0}function Kg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return ig(a)===ig(l)?jt(a,l):ig(a)?1:-1}return jt(e.length,t.length)}const Sk=55296,wk=57343;function ig(e){const t=e.charCodeAt(0);return t>=Sk&&t<=wk}function Ko(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const S1="__name__";class qi{constructor(t,n,s){n===void 0?n=0:n>t.length&&St(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&St(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=qi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return jt(t.length,n.length)}static compareSegments(t,n){const s=qi.isNumericId(t),a=qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qi.extractNumericId(t).compare(qi.extractNumericId(n)):Kg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ar.fromString(t.substring(4,t.length-2))}}class se extends qi{construct(t,n,s){return new se(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new se(n)}static emptyPath(){return new se([])}}const Ak=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends qi{construct(t,n,s){return new en(t,n,s)}static isValidIdentifier(t){return Ak.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S1}static keyField(){return new en([S1])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ft(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ft(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ft(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ft(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(n)}static emptyPath(){return new en([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(se.fromString(t))}static fromName(t){return new Tt(se.fromString(t).popFirst(5))}static empty(){return new Tt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new se(t.slice()))}}function Mx(e,t,n){if(!n)throw new ft(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function xk(e,t,n,s){if(t===!0&&s===!0)throw new ft(st.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function w1(e){if(!Tt.isDocumentKey(e))throw new ft(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function A1(e){if(Tt.isDocumentKey(e))throw new ft(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Vx(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ud(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":St(12329,{type:typeof e})}function xs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ft(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ud(e);throw new ft(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function ke(e,t){const n={typeString:e};return t&&(n.value=t),n}function cc(e,t){if(!Vx(e))throw new ft(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ft(st.INVALID_ARGUMENT,n);return!0}const x1=-62135596800,C1=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*C1);return new le(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<x1)throw new ft(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C1}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(cc(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-x1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:ke("string",le._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new le(0,0))}static max(){return new At(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gu=-1;function Ck(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=At.fromTimestamp(s===1e9?new le(n+1,0):new le(n,s));return new Nr(a,Tt.empty(),t)}function Rk(e){return new Nr(e.readTime,e.key,Gu)}class Nr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Nr(At.min(),Tt.empty(),Gu)}static max(){return new Nr(At.max(),Tt.empty(),Gu)}}function Ik(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Tt.comparator(e.documentKey,t.documentKey),n!==0?n:jt(e.largestBatchId,t.largestBatchId))}const Nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==Nk)throw e;mt("LocalStore","Unexpectedly lost primary lease")}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.reject(n)}static resolve(t){return new rt(((n,s)=>{n(t)}))}static reject(t){return new rt(((n,s)=>{s(t)}))}static waitFor(t){return new rt(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=rt.resolve(!1);for(const s of t)n=n.next((a=>a?rt.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new rt(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new rt(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function Mk(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(e){return e.name==="IndexedDbTransactionError"}class cd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}cd.ce=-1;const d0=-1;function hd(e){return e==null}function zf(e){return e===0&&1/e==-1/0}function Vk(e){return typeof e=="number"&&Number.isInteger(e)&&!zf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ox="";function Ok(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=R1(t)),t=Pk(e.get(n),t);return R1(t)}function Pk(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case Ox:n+="";break;default:n+=l}}return n}function R1(e){return e+Ox+""}function I1(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Da(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Px(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class pe{constructor(t,n){this.comparator=t,this.root=n||tn.EMPTY}insert(t,n){return new pe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wh(this.root,t,this.comparator,!0)}}class Wh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new tn(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new tn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new N1(this.data.getIterator())}getIteratorFrom(t){return new N1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class N1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pi{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new pi([])}unionWith(t){let n=new Fe(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new pi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ko(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class kx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new kx("Invalid base64 string: "+l):l}})(t);return new nn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const kk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(e){if(Yt(!!e,39018),typeof e=="string"){let t=0;const n=kk.exec(e);if(Yt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Se(e.seconds),nanos:Se(e.nanos)}}function Se(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Mr(e){return typeof e=="string"?nn.fromBase64String(e):nn.fromUint8Array(e)}const Lx="server_timestamp",jx="__type__",Ux="__previous_value__",zx="__local_write_time__";function m0(e){return(e?.mapValue?.fields||{})[jx]?.stringValue===Lx}function fd(e){const t=e.mapValue.fields[Ux];return m0(t)?fd(t):t}function Ku(e){const t=Dr(e.mapValue.fields[zx].timestampValue);return new le(t.seconds,t.nanos)}class Lk{constructor(t,n,s,a,l,c,d,m,p,y,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=_}}const Bf="(default)";class $u{constructor(t,n){this.projectId=t,this.database=n||Bf}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(t){return t instanceof $u&&t.projectId===this.projectId&&t.database===this.database}}function jk(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ft(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(e.options.projectId,t)}const Bx="__type__",Uk="__max__",Jh={mapValue:{}},Fx="__vector__",Ff="value";function Vr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?m0(e)?4:Bk(e)?9007199254740991:zk(e)?10:11:St(28295,{value:e})}function ts(e,t){if(e===t)return!0;const n=Vr(e);if(n!==Vr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ku(e).isEqual(Ku(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Dr(a.timestampValue),d=Dr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Mr(a.bytesValue).isEqual(Mr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Se(a.geoPointValue.latitude)===Se(l.geoPointValue.latitude)&&Se(a.geoPointValue.longitude)===Se(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Se(a.integerValue)===Se(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Se(a.doubleValue),d=Se(l.doubleValue);return c===d?zf(c)===zf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Ko(e.arrayValue.values||[],t.arrayValue.values||[],ts);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(I1(c)!==I1(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ts(c[m],d[m])))return!1;return!0})(e,t);default:return St(52216,{left:e})}}function Yu(e,t){return(e.values||[]).find((n=>ts(n,t)))!==void 0}function $o(e,t){if(e===t)return 0;const n=Vr(e),s=Vr(t);if(n!==s)return jt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Se(l.integerValue||l.doubleValue),m=Se(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return D1(e.timestampValue,t.timestampValue);case 4:return D1(Ku(e),Ku(t));case 5:return Kg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Mr(l),m=Mr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=jt(d[p],m[p]);if(y!==0)return y}return jt(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=jt(Se(l.latitude),Se(c.latitude));return d!==0?d:jt(Se(l.longitude),Se(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return M1(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Ff]?.arrayValue,y=m[Ff]?.arrayValue,_=jt(p?.values?.length||0,y?.values?.length||0);return _!==0?_:M1(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Jh.mapValue&&c===Jh.mapValue)return 0;if(l===Jh.mapValue)return 1;if(c===Jh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=Kg(m[_],y[_]);if(E!==0)return E;const C=$o(d[m[_]],p[y[_]]);if(C!==0)return C}return jt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw St(23264,{he:n})}}function D1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return jt(e,t);const n=Dr(e),s=Dr(t),a=jt(n.seconds,s.seconds);return a!==0?a:jt(n.nanos,s.nanos)}function M1(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=$o(n[a],s[a]);if(l)return l}return jt(n.length,s.length)}function Yo(e){return $g(e)}function $g(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Dr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Mr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Tt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=$g(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${$g(n.fields[c])}`;return a+"}"})(e.mapValue):St(61005,{value:e})}function yf(e){switch(Vr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fd(e);return t?16+yf(t):16;case 5:return 2*e.stringValue.length;case 6:return Mr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+yf(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return Da(s.fields,((l,c)=>{a+=l.length+yf(c)})),a})(e.mapValue);default:throw St(13486,{value:e})}}function V1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Yg(e){return!!e&&"integerValue"in e}function p0(e){return!!e&&"arrayValue"in e}function O1(e){return!!e&&"nullValue"in e}function P1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vf(e){return!!e&&"mapValue"in e}function zk(e){return(e?.mapValue?.fields||{})[Bx]?.stringValue===Fx}function Vu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Da(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Vu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vu(e.arrayValue.values[n]);return t}return{...e}}function Bk(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Uk}class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!vf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vu(n)}setAll(t){let n=en.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Vu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ts(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Da(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Yn(Vu(this.value))}}function Hx(e){const t=[];return Da(e.fields,((n,s)=>{const a=new en([n]);if(vf(s)){const l=Hx(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new pi(t)}class ln{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new ln(t,0,At.min(),At.min(),At.min(),Yn.empty(),0)}static newFoundDocument(t,n,s,a){return new ln(t,1,n,At.min(),s,a,0)}static newNoDocument(t,n){return new ln(t,2,n,At.min(),At.min(),Yn.empty(),0)}static newUnknownDocument(t,n){return new ln(t,3,n,At.min(),At.min(),Yn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hf{constructor(t,n){this.position=t,this.inclusive=n}}function k1(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=Tt.comparator(Tt.fromName(c.referenceValue),n.key):s=$o(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function L1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ts(e.position[n],t.position[n]))return!1;return!0}class Qu{constructor(t,n="asc"){this.field=t,this.dir=n}}function Fk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class qx{}class Pe extends qx{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new qk(t,n,s):n==="array-contains"?new $k(t,s):n==="in"?new Yk(t,s):n==="not-in"?new Qk(t,s):n==="array-contains-any"?new Xk(t,s):new Pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Gk(t,s):new Kk(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($o(n,this.value)):n!==null&&Vr(this.value)===Vr(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends qx{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ti(t,n)}matches(t){return Gx(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gx(e){return e.op==="and"}function Kx(e){return Hk(e)&&Gx(e)}function Hk(e){for(const t of e.filters)if(t instanceof Ti)return!1;return!0}function Qg(e){if(e instanceof Pe)return e.field.canonicalString()+e.op.toString()+Yo(e.value);if(Kx(e))return e.filters.map((t=>Qg(t))).join(",");{const t=e.filters.map((n=>Qg(n))).join(",");return`${e.op}(${t})`}}function $x(e,t){return e instanceof Pe?(function(s,a){return a instanceof Pe&&s.op===a.op&&s.field.isEqual(a.field)&&ts(s.value,a.value)})(e,t):e instanceof Ti?(function(s,a){return a instanceof Ti&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&$x(c,a.filters[d])),!0):!1})(e,t):void St(19439)}function Yx(e){return e instanceof Pe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`})(e):e instanceof Ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(Yx).join(" ,")+"}"})(e):"Filter"}class qk extends Pe{constructor(t,n,s){super(t,n,s),this.key=Tt.fromName(s.referenceValue)}matches(t){const n=Tt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Gk extends Pe{constructor(t,n){super(t,"in",n),this.keys=Qx("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Kk extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=Qx("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Qx(e,t){return(t.arrayValue?.values||[]).map((n=>Tt.fromName(n.referenceValue)))}class $k extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return p0(n)&&Yu(n.arrayValue,this.value)}}class Yk extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class Qk extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class Xk extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!p0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Yu(this.value.arrayValue,s)))}}class Wk{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function j1(e,t=null,n=[],s=[],a=null,l=null,c=null){return new Wk(e,t,n,s,a,l,c)}function g0(e){const t=Ct(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Qg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),hd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Yo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Yo(s))).join(",")),t.Te=n}return t.Te}function y0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Fk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!$x(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!L1(e.startAt,t.startAt)&&L1(e.endAt,t.endAt)}function Xg(e){return Tt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class cl{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Jk(e,t,n,s,a,l,c,d){return new cl(e,t,n,s,a,l,c,d)}function v0(e){return new cl(e)}function U1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Zk(e){return Tt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function Xx(e){return e.collectionGroup!==null}function Ou(e){const t=Ct(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Fe(en.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Qu(l,s))})),n.has(en.keyField().canonicalString())||t.Ie.push(new Qu(en.keyField(),s))}return t.Ie}function $i(e){const t=Ct(e);return t.Ee||(t.Ee=t5(t,Ou(e))),t.Ee}function t5(e,t){if(e.limitType==="F")return j1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qu(a.field,l)}));const n=e.endAt?new Hf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Hf(e.startAt.position,e.startAt.inclusive):null;return j1(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Wg(e,t){const n=e.filters.concat([t]);return new cl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function e5(e,t){const n=e.explicitOrderBy.concat([t]);return new cl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function qf(e,t,n){return new cl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dd(e,t){return y0($i(e),$i(t))&&e.limitType===t.limitType}function Wx(e){return`${g0($i(e))}|lt:${e.limitType}`}function Ro(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Yx(a))).join(", ")}]`),hd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Yo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Yo(a))).join(",")),`Target(${s})`})($i(e))}; limitType=${e.limitType})`}function md(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Tt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Ou(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=k1(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,Ou(s),a)||s.endAt&&!(function(c,d,m){const p=k1(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,Ou(s),a))})(e,t)}function n5(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Jx(e){return(t,n)=>{let s=!1;for(const a of Ou(e)){const l=i5(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function i5(e,t,n){const s=e.field.isKeyField()?Tt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?$o(m,p):St(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:e.dir})}}class Ma{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Da(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return Px(this.inner)}size(){return this.innerSize}}const s5=new pe(Tt.comparator);function Ms(){return s5}const Zx=new pe(Tt.comparator);function wu(...e){let t=Zx;for(const n of e)t=t.insert(n.key,n);return t}function tC(e){let t=Zx;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ta(){return Pu()}function eC(){return Pu()}function Pu(){return new Ma((e=>e.toString()),((e,t)=>e.isEqual(t)))}const r5=new pe(Tt.comparator),a5=new Fe(Tt.comparator);function Ut(...e){let t=a5;for(const n of e)t=t.add(n);return t}const o5=new Fe(jt);function l5(){return o5}function _0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(t)?"-0":t}}function nC(e){return{integerValue:""+e}}function u5(e,t){return Vk(t)?nC(t):_0(e,t)}class pd{constructor(){this._=void 0}}function c5(e,t,n){return e instanceof Gf?(function(a,l){const c={fields:{[jx]:{stringValue:Lx},[zx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&m0(l)&&(l=fd(l)),l&&(c.fields[Ux]=l),{mapValue:c}})(n,t):e instanceof Xu?sC(e,t):e instanceof Wu?rC(e,t):(function(a,l){const c=iC(a,l),d=z1(c)+z1(a.Ae);return Yg(c)&&Yg(a.Ae)?nC(d):_0(a.serializer,d)})(e,t)}function h5(e,t,n){return e instanceof Xu?sC(e,t):e instanceof Wu?rC(e,t):n}function iC(e,t){return e instanceof Kf?(function(s){return Yg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Gf extends pd{}class Xu extends pd{constructor(t){super(),this.elements=t}}function sC(e,t){const n=aC(t);for(const s of e.elements)n.some((a=>ts(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Wu extends pd{constructor(t){super(),this.elements=t}}function rC(e,t){let n=aC(t);for(const s of e.elements)n=n.filter((a=>!ts(a,s)));return{arrayValue:{values:n}}}class Kf extends pd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function z1(e){return Se(e.integerValue||e.doubleValue)}function aC(e){return p0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function f5(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof Xu&&a instanceof Xu||s instanceof Wu&&a instanceof Wu?Ko(s.elements,a.elements,ts):s instanceof Kf&&a instanceof Kf?ts(s.Ae,a.Ae):s instanceof Gf&&a instanceof Gf})(e.transform,t.transform)}class d5{constructor(t,n){this.version=t,this.transformResults=n}}class Yi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Yi}static exists(t){return new Yi(void 0,t)}static updateTime(t){return new Yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _f(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gd{}function oC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new uC(e.key,Yi.none()):new hc(e.key,e.data,Yi.none());{const n=e.data,s=Yn.empty();let a=new Fe(en.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Va(e.key,s,new pi(a.toArray()),Yi.none())}}function m5(e,t,n){e instanceof hc?(function(a,l,c){const d=a.value.clone(),m=F1(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Va?(function(a,l,c){if(!_f(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=F1(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(lC(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function ku(e,t,n,s){return e instanceof hc?(function(l,c,d,m){if(!_f(l.precondition,c))return d;const p=l.value.clone(),y=H1(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,s):e instanceof Va?(function(l,c,d,m){if(!_f(l.precondition,c))return d;const p=H1(l.fieldTransforms,m,c),y=c.data;return y.setAll(lC(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,d){return _f(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function p5(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=iC(s.transform,a||null);l!=null&&(n===null&&(n=Yn.empty()),n.set(s.field,l))}return n||null}function B1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ko(s,a,((l,c)=>f5(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class hc extends gd{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Va extends gd{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function lC(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function F1(e,t,n){const s=new Map;Yt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,h5(c,d,n[a]))}return s}function H1(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,c5(l,c,t))}return s}class uC extends gd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g5 extends gd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class y5{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&m5(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=ku(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=ku(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=eC();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=oC(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Ko(this.mutations,t.mutations,((n,s)=>B1(n,s)))&&Ko(this.baseMutations,t.baseMutations,((n,s)=>B1(n,s)))}}class T0{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Yt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return r5})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new T0(t,n,s,a)}}class v5{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _5{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,Ht;function T5(e){switch(e){case st.OK:return St(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return St(15467,{code:e})}}function cC(e){if(e===void 0)return Ds("GRPC error has no .code"),st.UNKNOWN;switch(e){case Ve.OK:return st.OK;case Ve.CANCELLED:return st.CANCELLED;case Ve.UNKNOWN:return st.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return st.INTERNAL;case Ve.UNAVAILABLE:return st.UNAVAILABLE;case Ve.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ve.NOT_FOUND:return st.NOT_FOUND;case Ve.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ve.ABORTED:return st.ABORTED;case Ve.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ve.DATA_LOSS:return st.DATA_LOSS;default:return St(39323,{code:e})}}(Ht=Ve||(Ve={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function E5(){return new TextEncoder}const b5=new Ar([4294967295,4294967295],0);function q1(e){const t=E5().encode(e),n=new wx;return n.update(t),new Uint8Array(n.digest())}function G1(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Ar([n,s],0),new Ar([a,l],0)]}class E0{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Au(`Invalid padding: ${n}`);if(s<0)throw new Au(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ar.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(Ar.fromNumber(s)));return a.compare(b5)===1&&(a=new Ar([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=q1(t),[s,a]=G1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new E0(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=q1(t),[s,a]=G1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yd{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,fc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new yd(At.min(),a,new pe(jt),Ms(),Ut())}}class fc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new fc(s,n,Ut(),Ut(),Ut())}}class Tf{constructor(t,n,s,a){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=a}}class hC{constructor(t,n){this.targetId=t,this.Ce=n}}class fC{constructor(t,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class K1{constructor(){this.ve=0,this.Fe=$1(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:St(38017,{changeType:l})}})),new fc(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=$1()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class S5{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ms(),this.He=Zh(),this.Je=Zh(),this.Ze=new pe(jt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Xg(l))if(s===0){const c=new Tt(l.path);this.et(n,c,ln.newNoDocument(c,At.min()))}else Yt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Mr(s).toUint8Array()}catch(m){if(m instanceof kx)return Ia("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new E0(c,a,l)}catch(m){return Ia(m instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Xg(d.target)){const m=new Tt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ln.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=Ut();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new yd(t,n,this.Ze,this.je,s);return this.je=Ms(),this.He=Zh(),this.Je=Zh(),this.Ze=new pe(jt),a}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new K1,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Fe(jt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Fe(jt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new K1),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Zh(){return new pe(Tt.comparator)}function $1(){return new pe(Tt.comparator)}const w5={asc:"ASCENDING",desc:"DESCENDING"},A5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x5={and:"AND",or:"OR"};class C5{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Jg(e,t){return e.useProto3Json||hd(t)?t:{value:t}}function $f(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function R5(e,t){return $f(e,t.toTimestamp())}function Qi(e){return Yt(!!e,49232),At.fromTimestamp((function(n){const s=Dr(n);return new le(s.seconds,s.nanos)})(e))}function b0(e,t){return Zg(e,t).canonicalString()}function Zg(e,t){const n=(function(a){return new se(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function mC(e){const t=se.fromString(e);return Yt(_C(t),10190,{key:t.toString()}),t}function ty(e,t){return b0(e.databaseId,t.path)}function sg(e,t){const n=mC(t);if(n.get(1)!==e.databaseId.projectId)throw new ft(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ft(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Tt(gC(n))}function pC(e,t){return b0(e.databaseId,t)}function I5(e){const t=mC(e);return t.length===4?se.emptyPath():gC(t)}function ey(e){return new se(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gC(e){return Yt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Y1(e,t,n){return{name:ty(e,t),fields:n.value.mapValue.fields}}function N5(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:St(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Yt(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Yt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?st.UNKNOWN:cC(p.code);return new ft(y,p.message||"")})(c);n=new fC(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=sg(e,s.document.name),l=Qi(s.document.updateTime),c=s.document.createTime?Qi(s.document.createTime):At.min(),d=new Yn({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Tf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=sg(e,s.document),l=s.readTime?Qi(s.readTime):At.min(),c=ln.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Tf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=sg(e,s.document),l=s.removedTargetIds||[];n=new Tf([],l,a,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new _5(a,l),d=s.targetId;n=new hC(d,c)}}return n}function D5(e,t){let n;if(t instanceof hc)n={update:Y1(e,t.key,t.value)};else if(t instanceof uC)n={delete:ty(e,t.key)};else if(t instanceof Va)n={update:Y1(e,t.key,t.data),updateMask:z5(t.fieldMask)};else{if(!(t instanceof g5))return St(16599,{dt:t.type});n={verify:ty(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Gf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw St(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:R5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:St(27497)})(e,t.precondition)),n}function M5(e,t){return e&&e.length>0?(Yt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Qi(a.updateTime):Qi(l);return c.isEqual(At.min())&&(c=Qi(l)),new d5(c,a.transformResults||[])})(n,t)))):[]}function V5(e,t){return{documents:[pC(e,t.path)]}}function O5(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pC(e,a);const l=(function(p){if(p.length!==0)return vC(Ti.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:Io(E.field),direction:L5(E.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Jg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function P5(e){let t=I5(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Yt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const E=yC(_);return E instanceof Ti&&Kx(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(N){return new Qu(No(N.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let E;return E=typeof _=="object"?_.value:_,hd(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(_){const E=!!_.before,C=_.values||[];return new Hf(C,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,C=_.values||[];return new Hf(C,E)})(n.endAt)),Jk(t,a,c,l,d,"F",m,p)}function k5(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function yC(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=No(n.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=No(n.unaryFilter.field);return Pe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(n.unaryFilter.field);return Pe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=No(n.unaryFilter.field);return Pe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Pe.create(No(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Ti.create(n.compositeFilter.filters.map((s=>yC(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(n.compositeFilter.op))})(e):St(30097,{filter:e})}function L5(e){return w5[e]}function j5(e){return A5[e]}function U5(e){return x5[e]}function Io(e){return{fieldPath:e.canonicalString()}}function No(e){return en.fromServerFormat(e.fieldPath)}function vC(e){return e instanceof Pe?(function(n){if(n.op==="=="){if(P1(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(O1(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P1(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(O1(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:j5(n.op),value:n.value}}})(e):e instanceof Ti?(function(n){const s=n.getFilters().map((a=>vC(a)));return s.length===1?s[0]:{compositeFilter:{op:U5(n.op),filters:s}}})(e):St(54877,{filter:e})}function z5(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function _C(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function TC(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class Er{constructor(t,n,s,a,l=At.min(),c=At.min(),d=nn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class B5{constructor(t){this.yt=t}}function F5(e){const t=P5({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?qf(t,t.limit,"L"):t}class H5{constructor(){this.Sn=new q5}addToCollectionParentIndex(t,n){return this.Sn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(Nr.min())}updateCollectionGroup(t,n,s){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class q5{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Fe(se.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Fe(se.comparator)).toArray()}}const Q1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EC=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(EC,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Qo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Qo(0)}static ar(){return new Qo(-1)}}const X1="LruGarbageCollector",G5=1048576;function W1([e,t],[n,s]){const a=jt(e,n);return a===0?jt(t,s):a}class K5{constructor(t){this.Pr=t,this.buffer=new Fe(W1),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();W1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $5{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){mt(X1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?mt(X1,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Ar(3e5)}))}}class Y5{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(cd.ce);const s=new K5(n);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(Q1)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q1):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(p=Date.now(),Co()<=Lt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function Q5(e,t){return new Y5(e,t)}class X5{constructor(){this.changes=new Ma((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?rt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class W5{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class J5{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&ku(s.mutation,a,pi.empty(),le.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const a=Ta();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=wu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Ta();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=Ms();const c=Pu(),d=(function(){return Pu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Va)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),ku(y.mutation,p,y.mutation.getFieldMask(),le.now())):c.set(p.key,pi.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new W5(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Pu();let a=new pe(((c,d)=>c-d)),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||pi.empty();y=d.applyToLocalView(p,y),s.set(m,y);const _=(a.get(d.batchId)||Ut()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=eC();y.forEach((E=>{if(!l.has(E)){const C=oC(n.get(E),s.get(E));C!==null&&_.set(E,C),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return rt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return Zk(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Xx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):rt.resolve(Ta());let d=Gu,m=l;return c.next((p=>rt.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?rt.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Ut()))).next((y=>({batchId:d,changes:tC(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Tt(n)).next((s=>{let a=wu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=wu();return this.indexManager.getCollectionParents(t,l).next((d=>rt.forEach(d,(m=>{const p=(function(_,E){return new cl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))}));let d=wu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&ku(y.mutation,p,pi.empty(),le.now()),md(n,p)&&(d=d.insert(m,p))})),d}))}}class Z5{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return rt.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Qi(a.createTime)}})(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:F5(a.bundledQuery),readTime:Qi(a.readTime)}})(n)),rt.resolve()}}class tL{constructor(){this.overlays=new pe(Tt.comparator),this.Lr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ta();return rt.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.bt(t,n,l)})),rt.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),rt.resolve()}getOverlaysForCollection(t,n,s){const a=Ta(),l=n.length+1,c=new Tt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return rt.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new pe(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Ta(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Ta(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return rt.resolve(d)}bt(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new v5(n,s));let l=this.Lr.get(n);l===void 0&&(l=Ut(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class eL{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}class S0{constructor(){this.kr=new Fe(Ke.Kr),this.qr=new Fe(Ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Ke(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Ke(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new Tt(new se([])),s=new Ke(n,t),a=new Ke(n,t+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new Tt(new se([])),s=new Ke(n,t),a=new Ke(n,t+1);let l=Ut();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Ke(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ke{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return Tt.comparator(t.key,n.key)||jt(t.Hr,n.Hr)}static Ur(t,n){return jt(t.Hr,n.Hr)||Tt.comparator(t.key,n.key)}}class nL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe(Ke.Kr)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new y5(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Ke(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,n){return rt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return rt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?d0:this.Yn-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ke(n,0),a=new Ke(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),rt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(jt);return n.forEach((a=>{const l=new Ke(a,0),c=new Ke(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{s=s.add(d.Hr)}))})),rt.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;Tt.isDocumentKey(l)||(l=l.child(""));const c=new Ke(new Tt(l),0);let d=new Fe(jt);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),c),rt.resolve(this.Yr(d))}Yr(t){const n=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Yt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return rt.forEach(n.mutations,(a=>{const l=new Ke(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Ke(n,0),a=this.Jr.firstAfterOrEqual(s);return rt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class iL{constructor(t){this.ti=t,this.docs=(function(){return new pe(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return rt.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(t,n){let s=Ms();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),rt.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=Ms();const c=n.path,d=new Tt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Ik(Rk(y),s)<=0||(a.has(y.key)||md(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return rt.resolve(l)}getAllFromCollectionGroup(t,n,s,a){St(9500)}ni(t,n){return rt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new sL(this)}getSize(t){return rt.resolve(this.size)}}class sL extends X5{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),rt.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class rL{constructor(t){this.persistence=t,this.ri=new Ma((n=>g0(n)),y0),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new S0,this.targetCount=0,this.oi=Qo._r()}forEachTarget(t,n){return this.ri.forEach(((s,a)=>n(a))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),rt.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Qo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.lr(n),rt.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),rt.waitFor(l).next((()=>a))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return rt.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),rt.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),rt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return rt.resolve(s)}containsKey(t,n){return rt.resolve(this.si.containsKey(n))}}class bC{constructor(t,n){this._i={},this.overlays={},this.ai=new cd(0),this.ui=!1,this.ui=!0,this.ci=new eL,this.referenceDelegate=t(this),this.li=new rL(this),this.indexManager=new H5,this.remoteDocumentCache=(function(a){return new iL(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new B5(n),this.Pi=new Z5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new tL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new nL(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){mt("MemoryPersistence","Starting transaction:",t);const a=new aL(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,n){return rt.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class aL extends Dk{constructor(t){super(),this.currentSequenceNumber=t}}class w0{constructor(t){this.persistence=t,this.Ri=new S0,this.Ai=null}static Vi(t){return new w0(t)}get di(){if(this.Ai)return this.Ai;throw St(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),rt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),rt.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.di,(s=>{const a=Tt.fromPath(s);return this.mi(t,a).next((l=>{l||n.removeEntry(a,At.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return rt.or([()=>rt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Yf{constructor(t,n){this.persistence=t,this.fi=new Ma((s=>Ok(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Q5(this,n)}static Vi(t,n){return new Yf(t,n)}Ti(){}Ii(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return rt.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?rt.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,n).next((d=>{d||(s++,l.removeEntry(c,At.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),rt.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=yf(t.data.value)),n}wr(t,n,s){return rt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return rt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class A0{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=a}static Es(t,n){let s=Ut(),a=Ut();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new A0(t,n.fromCache,s,a)}}class oL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class lL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Y4()?8:Mk(cn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new oL;return this.ys(t,n,c).next((d=>{if(l.result=d,this.As)return this.ws(t,n,c,d.size)}))})).next((()=>l.result))}ws(t,n,s,a){return s.documentReadCount<this.Vs?(Co()<=Lt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),rt.resolve()):(Co()<=Lt.DEBUG&&mt("QueryEngine","Query:",Ro(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Co()<=Lt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$i(n))):rt.resolve())}gs(t,n){if(U1(n))return rt.resolve(null);let s=$i(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=qf(n,null,"F"),s=$i(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Ut(...l);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,c,m.readTime)?this.gs(t,qf(n,null,"F")):this.Ds(t,p,n,m)}))))})))))}ps(t,n,s,a){return U1(n)||a.isEqual(At.min())?rt.resolve(null):this.fs.getDocuments(t,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?rt.resolve(null):(Co()<=Lt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ro(n)),this.Ds(t,c,n,Ck(a,Gu)).next((d=>d)))}))}bs(t,n){let s=new Fe(Jx(t));return n.forEach(((a,l)=>{md(t,l)&&(s=s.add(l))})),s}Ss(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,n,s){return Co()<=Lt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.fs.getDocumentsMatchingQuery(t,n,Nr.min(),s)}Ds(t,n,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const x0="LocalStore",uL=3e8;class cL{constructor(t,n,s,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new pe(jt),this.Fs=new Ma((l=>g0(l)),y0),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new J5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function hL(e,t,n,s){return new cL(e,t,n,s)}async function SC(e,t){const n=Ct(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Ut();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function fL(e,t){const n=Ct(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const _=p.batch,E=_.keys();let C=rt.resolve();return E.forEach((N=>{C=C.next((()=>y.getEntry(m,N))).next((P=>{const L=p.docVersions.get(N);Yt(L!==null,48541),P.version.compareTo(L)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Ut();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function wC(e){const t=Ct(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function dL(e,t){const n=Ct(e),s=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];t.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,_))));let C=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?C=C.withResumeToken(nn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(_,C),(function(P,L,F){return P.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=uL?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(E,C,y)&&d.push(n.li.updateTargetData(l,C))}));let m=Ms(),p=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(mL(l,c,t.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(At.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return rt.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function mL(e,t,n){let s=Ut(),a=Ut();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=Ms();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(At.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):mt(x0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function pL(e,t){const n=Ct(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=d0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function gL(e,t){const n=Ct(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,t).next((l=>l?(a=l,rt.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Er(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function ny(e,t,n){const s=Ct(e),a=s.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ul(c))throw c;mt(x0,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function J1(e,t,n){const s=Ct(e);let a=At.min(),l=Ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=Ct(m),E=_.Fs.get(y);return E!==void 0?rt.resolve(_.vs.get(E)):_.li.getTargetData(p,y)})(s,c,$i(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,n?a:At.min(),n?l:Ut()))).next((d=>(yL(s,n5(t),d),{documents:d,ks:l})))))}function yL(e,t,n){let s=e.Ms.get(t)||At.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Ms.set(t,s)}class Z1{constructor(){this.activeTargetIds=l5()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vL{constructor(){this.vo=new Z1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Z1,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _L{Mo(t){}shutdown(){}}const tS="ConnectivityMonitor";class eS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){mt(tS,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){mt(tS,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tf=null;function iy(){return tf===null?tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():tf++,"0x"+tf.toString(16)}const rg="RestConnection",TL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class EL{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Bf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,n,s,a,l){const c=iy(),d=this.Qo(t,n.toUriEncodedString());mt(rg,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),y=sl(p);return this.zo(t,d,m,s,y).then((_=>(mt(rg,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Ia(rg,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}jo(t,n,s,a,l,c){return this.Wo(t,n,s,a,l)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,n){const s=TL[t];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class bL{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const rn="WebChannelConnection",Eu=(e,t,n)=>{e.listen(t,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Bo extends EL{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Bo.c_){const t=Rx();Eu(t,Cx.STAT_EVENT,(n=>{n.stat===Gg.PROXY?mt(rn,"STAT_EVENT: detected buffering proxy"):n.stat===Gg.NOPROXY&&mt(rn,"STAT_EVENT: detected no buffering proxy")})),Bo.c_=!0}}zo(t,n,s,a,l){const c=iy();return new Promise(((d,m)=>{const p=new Ax;p.setWithCredentials(!0),p.listenOnce(xx.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case gf.NO_ERROR:const _=p.getResponseJson();mt(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case gf.TIMEOUT:mt(rn,`RPC '${t}' ${c} timed out`),m(new ft(st.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const E=p.getStatus();if(mt(rn,`RPC '${t}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C?.error;if(N&&N.status&&N.message){const P=(function(F){const H=F.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(H)>=0?H:st.UNKNOWN})(N.status);m(new ft(P,N.message))}else m(new ft(st.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ft(st.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{mt(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);mt(rn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=iy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const p=l.join("");mt(rn,`Creating RPC '${t}' stream ${a}: ${p}`,d);const y=c.createWebChannel(p,d);this.I_(y);let _=!1,E=!1;const C=new bL({Ho:N=>{E?mt(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(_||(mt(rn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),_=!0),mt(rn,`RPC '${t}' stream ${a} sending:`,N),y.send(N))},Jo:()=>y.close()});return Eu(y,Su.EventType.OPEN,(()=>{E||(mt(rn,`RPC '${t}' stream ${a} transport opened.`),C.i_())})),Eu(y,Su.EventType.CLOSE,(()=>{E||(E=!0,mt(rn,`RPC '${t}' stream ${a} transport closed`),C.o_(),this.E_(y))})),Eu(y,Su.EventType.ERROR,(N=>{E||(E=!0,Ia(rn,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),C.o_(new ft(st.UNAVAILABLE,"The operation could not be completed")))})),Eu(y,Su.EventType.MESSAGE,(N=>{if(!E){const P=N.data[0];Yt(!!P,16349);const L=P,F=L?.error||L[0]?.error;if(F){mt(rn,`RPC '${t}' stream ${a} received error:`,F);const H=F.status;let $=(function(at){const R=Ve[at];if(R!==void 0)return cC(R)})(H),W=F.message;H==="NOT_FOUND"&&W.includes("database")&&W.includes("does not exist")&&W.includes(this.databaseId.database)&&Ia(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=st.INTERNAL,W="Unknown error status: "+H+" with message "+F.message),E=!0,C.o_(new ft($,W)),y.close()}else mt(rn,`RPC '${t}' stream ${a} received:`,P),C.__(P)}})),Bo.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ix()}}function SL(e){return new Bo(e)}function ag(){return typeof document<"u"?document:null}function vd(e){return new C5(e,!0)}Bo.c_=!1;class AC{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&mt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const nS="PersistentStream";class xC{constructor(t,n,s,a,l,c,d,m){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AC(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ft(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(nS,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(mt(nS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wL extends xC{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=N5(this.serializer,t),s=(function(l){if(!("targetChange"in l))return At.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Qi(c.readTime):At.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=ey(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Xg(m)?{documents:V5(l,m)}:{query:O5(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=dC(l,c.resumeToken);const p=Jg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(At.min())>0){d.readTime=$f(l,c.snapshotVersion.toTimestamp());const p=Jg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const s=k5(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=ey(this.serializer),n.removeTarget=t,this.K_(n)}}class AL extends xC{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=M5(t.writeResults,t.commitTime),s=Qi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=ey(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>D5(this.serializer,s)))};this.K_(n)}}class xL{}class CL extends xL{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ft(st.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,Zg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ft(st.UNKNOWN,l.toString())}))}jo(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,Zg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function RL(e,t,n,s){return new CL(e,t,n,s)}class IL{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(n),this.aa=!1):mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Na="RemoteStore";class NL{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Oa(this)&&(mt(Na,"Restarting streams for network reachability change."),await(async function(m){const p=Ct(m);p.Ea.add(4),await dc(p),p.Va.set("Unknown"),p.Ea.delete(4),await _d(p)})(this))}))})),this.Va=new IL(s,a)}}async function _d(e){if(Oa(e))for(const t of e.Ra)await t(!0)}async function dc(e){for(const t of e.Ra)await t(!1)}function CC(e,t){const n=Ct(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),N0(n)?I0(n):hl(n).O_()&&R0(n,t))}function C0(e,t){const n=Ct(e),s=hl(n);n.Ia.delete(t),s.O_()&&RC(n,t),n.Ia.size===0&&(s.O_()?s.L_():Oa(n)&&n.Va.set("Unknown"))}function R0(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hl(e).Z_(t)}function RC(e,t){e.da.$e(t),hl(e).X_(t)}function I0(e){e.da=new S5({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),hl(e).start(),e.Va.ua()}function N0(e){return Oa(e)&&!hl(e).x_()&&e.Ia.size>0}function Oa(e){return Ct(e).Ea.size===0}function IC(e){e.da=void 0}async function DL(e){e.Va.set("Online")}async function ML(e){e.Ia.forEach(((t,n)=>{R0(e,t)}))}async function VL(e,t){IC(e),N0(e)?(e.Va.ha(t),I0(e)):e.Va.set("Unknown")}async function OL(e,t,n){if(e.Va.set("Online"),t instanceof fC&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(e,t)}catch(s){mt(Na,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Qf(e,s)}else if(t instanceof Tf?e.da.Xe(t):t instanceof hC?e.da.st(t):e.da.tt(t),!n.isEqual(At.min()))try{const s=await wC(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),RC(l,m);const _=new Er(y.target,m,p,y.sequenceNumber);R0(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){mt(Na,"Failed to raise snapshot:",s),await Qf(e,s)}}async function Qf(e,t,n){if(!ul(t))throw t;e.Ea.add(1),await dc(e),e.Va.set("Offline"),n||(n=()=>wC(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{mt(Na,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await _d(e)}))}function NC(e,t){return t().catch((n=>Qf(e,n,t)))}async function Td(e){const t=Ct(e),n=Or(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:d0;for(;PL(t);)try{const a=await pL(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,kL(t,a)}catch(a){await Qf(t,a)}DC(t)&&MC(t)}function PL(e){return Oa(e)&&e.Ta.length<10}function kL(e,t){e.Ta.push(t);const n=Or(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function DC(e){return Oa(e)&&!Or(e).x_()&&e.Ta.length>0}function MC(e){Or(e).start()}async function LL(e){Or(e).ra()}async function jL(e){const t=Or(e);for(const n of e.Ta)t.ea(n.mutations)}async function UL(e,t,n){const s=e.Ta.shift(),a=T0.from(s,t,n);await NC(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Td(e)}async function zL(e,t){t&&Or(e).Y_&&await(async function(s,a){if((function(c){return T5(c)&&c!==st.ABORTED})(a.code)){const l=s.Ta.shift();Or(s).B_(),await NC(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Td(s)}})(e,t),DC(e)&&MC(e)}async function iS(e,t){const n=Ct(e);n.asyncQueue.verifyOperationInProgress(),mt(Na,"RemoteStore received new credentials");const s=Oa(n);n.Ea.add(3),await dc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await _d(n)}async function BL(e,t){const n=Ct(e);t?(n.Ea.delete(2),await _d(n)):t||(n.Ea.add(2),await dc(n),n.Va.set("Unknown"))}function hl(e){return e.ma||(e.ma=(function(n,s,a){const l=Ct(n);return l.sa(),new wL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:DL.bind(null,e),Yo:ML.bind(null,e),t_:VL.bind(null,e),J_:OL.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),N0(e)?I0(e):e.Va.set("Unknown")):(await e.ma.stop(),IC(e))}))),e.ma}function Or(e){return e.fa||(e.fa=(function(n,s,a){const l=Ct(n);return l.sa(),new AL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:LL.bind(null,e),t_:zL.bind(null,e),ta:jL.bind(null,e),na:UL.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await Td(e)):(await e.fa.stop(),e.Ta.length>0&&(mt(Na,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class D0{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new D0(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M0(e,t){if(Ds("AsyncQueue",`${t}: ${e}`),ul(e))return new ft(st.UNAVAILABLE,`${t}: ${e}`);throw e}class Fo{static emptySet(t){return new Fo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Tt.comparator(n.key,s.key):(n,s)=>Tt.comparator(n.key,s.key),this.keyedMap=wu(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Fo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class sS{constructor(){this.ga=new pe(Tt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):St(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Xo{constructor(t,n,s,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Xo(t,n,Fo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class FL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class HL{constructor(){this.queries=rS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ct(n),l=a.queries;a.queries=rS(),l.forEach(((c,d)=>{for(const m of d.ba)m.onError(s)}))})(this,new ft(st.ABORTED,"Firestore shutting down"))}}function rS(){return new Ma((e=>Wx(e)),dd)}async function VC(e,t){const n=Ct(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new FL,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=M0(c,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&V0(n)}async function OC(e,t){const n=Ct(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function qL(e,t){const n=Ct(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(s=!0);c.wa=a}}s&&V0(n)}function GL(e,t,n){const s=Ct(e),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(t)}function V0(e){e.Ca.forEach((t=>{t.next()}))}var sy,aS;(aS=sy||(sy={})).Ma="default",aS.Cache="cache";class PC{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Xo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sy.Cache}}class kC{constructor(t){this.key=t}}class LC{constructor(t){this.key=t}}class KL{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=Jx(t),this.tu=new Fo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new sS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const E=a.get(y),C=md(this.query,_)?_:null,N=!!E&&this.mutatedKeys.has(E.key),P=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let L=!1;E&&C?E.data.isEqual(C.data)?N!==P&&(s.track({type:3,doc:C}),L=!0):this.su(E,C)||(s.track({type:2,doc:C}),L=!0,(m&&this.eu(C,m)>0||p&&this.eu(C,p)<0)&&(d=!0)):!E&&C?(s.track({type:0,doc:C}),L=!0):E&&!C&&(s.track({type:1,doc:E}),L=!0,(m||p)&&(d=!0)),L&&(C?(c=c.add(C),l=P?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(C,N){const P=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:L})}};return P(C)-P(N)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new Xo(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new LC(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new kC(s))})),n}cu(t){this.Za=t.ks,this.Ya=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const O0="SyncEngine";class $L{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class YL{constructor(t){this.key=t,this.hu=!1}}class QL{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ma((d=>Wx(d)),dd),this.Iu=new Map,this.Eu=new Set,this.Ru=new pe(Tt.comparator),this.Au=new Map,this.Vu=new S0,this.du={},this.mu=new Map,this.fu=Qo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XL(e,t,n=!0){const s=HC(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await jC(s,t,n,!0),a}async function WL(e,t){const n=HC(e);await jC(n,t,!0,!1)}async function jC(e,t,n,s){const a=await gL(e.localStore,$i(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await JL(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&CC(e.remoteStore,a),d}async function JL(e,t,n,s,a){e.pu=(_,E,C)=>(async function(P,L,F,H){let $=L.view.ru(F);$.Ss&&($=await J1(P.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,$))));const W=H&&H.targetChanges.get(L.targetId),J=H&&H.targetMismatches.get(L.targetId)!=null,at=L.view.applyChanges($,P.isPrimaryClient,W,J);return lS(P,L.targetId,at.au),at.snapshot})(e,_,E,C);const l=await J1(e.localStore,t,!0),c=new KL(t,l.ks),d=c.ru(l.documents),m=fc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);lS(e,n,p.au);const y=new $L(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function ZL(e,t,n){const s=Ct(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!dd(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ny(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&C0(s.remoteStore,a.targetId),ry(s,a.targetId)})).catch(ll)):(ry(s,a.targetId),await ny(s.localStore,a.targetId,!0))}async function tj(e,t){const n=Ct(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),C0(n.remoteStore,s.targetId))}async function ej(e,t,n){const s=lj(e);try{const a=await(function(c,d){const m=Ct(c),p=le.now(),y=d.reduce(((C,N)=>C.add(N.key)),Ut());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let N=Ms(),P=Ut();return m.xs.getEntries(C,y).next((L=>{N=L,N.forEach(((F,H)=>{H.isValidDocument()||(P=P.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,N))).next((L=>{_=L;const F=[];for(const H of d){const $=p5(H,_.get(H.key).overlayedDocument);$!=null&&F.push(new Va(H.key,$,Hx($.value.mapValue),Yi.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,F,d)})).next((L=>{E=L;const F=L.applyToLocalDocumentSet(_,P);return m.documentOverlayCache.saveOverlays(C,L.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:tC(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.du[c.currentUser.toKey()];p||(p=new pe(jt)),p=p.insert(d,m),c.du[c.currentUser.toKey()]=p})(s,a.batchId,n),await mc(s,a.changes),await Td(s.remoteStore)}catch(a){const l=M0(a,"Failed to persist write");n.reject(l)}}async function UC(e,t){const n=Ct(e);try{const s=await dL(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Yt(c.hu,14607):a.removedDocuments.size>0&&(Yt(c.hu,42227),c.hu=!1))})),await mc(n,s,t)}catch(s){await ll(s)}}function oS(e,t,n){const s=Ct(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Ct(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,_)=>{for(const E of _.ba)E.va(d)&&(p=!0)})),p&&V0(m)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function nj(e,t,n){const s=Ct(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new pe(Tt.comparator);c=c.insert(l,ln.newNoDocument(l,At.min()));const d=Ut().add(l),m=new yd(At.min(),new Map,new pe(jt),c,d);await UC(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(t),P0(s)}else await ny(s.localStore,t,!1).then((()=>ry(s,t,n))).catch(ll)}async function ij(e,t){const n=Ct(e),s=t.batch.batchId;try{const a=await fL(n.localStore,t);BC(n,s,null),zC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mc(n,a)}catch(a){await ll(a)}}async function sj(e,t,n){const s=Ct(e);try{const a=await(function(c,d){const m=Ct(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((_=>(Yt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);BC(s,t,n),zC(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await mc(s,a)}catch(a){await ll(a)}}function zC(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function BC(e,t,n){const s=Ct(e);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function ry(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((s=>{e.Vu.containsKey(s)||FC(e,s)}))}function FC(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(C0(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),P0(e))}function lS(e,t,n){for(const s of n)s instanceof kC?(e.Vu.addReference(s.key,t),rj(e,s)):s instanceof LC?(mt(O0,"Document no longer in limbo: "+s.key),e.Vu.removeReference(s.key,t),e.Vu.containsKey(s.key)||FC(e,s.key)):St(19791,{wu:s})}function rj(e,t){const n=t.key,s=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(s)||(mt(O0,"New document in limbo: "+n),e.Eu.add(s),P0(e))}function P0(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Tt(se.fromString(t)),s=e.fu.next();e.Au.set(s,new YL(n)),e.Ru=e.Ru.insert(n,s),CC(e.remoteStore,new Er($i(v0(n.path)),s,"TargetPurposeLimboResolution",cd.ce))}}async function mc(e,t,n){const s=Ct(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=A0.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(m,p){const y=Ct(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>rt.forEach(p,(E=>rt.forEach(E.Ts,(C=>y.persistence.referenceDelegate.addReference(_,E.targetId,C))).next((()=>rt.forEach(E.Is,(C=>y.persistence.referenceDelegate.removeReference(_,E.targetId,C)))))))))}catch(_){if(!ul(_))throw _;mt(x0,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const C=y.vs.get(E),N=C.snapshotVersion,P=C.withLastLimboFreeSnapshotVersion(N);y.vs=y.vs.insert(E,P)}}})(s.localStore,l))}async function aj(e,t){const n=Ct(e);if(!n.currentUser.isEqual(t)){mt(O0,"User change. New user:",t.toKey());const s=await SC(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ft(st.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await mc(n,s.Ns)}}function oj(e,t){const n=Ct(e),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let a=Ut();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function HC(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=UC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nj.bind(null,t),t.Pu.J_=qL.bind(null,t.eventManager),t.Pu.yu=GL.bind(null,t.eventManager),t}function lj(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ij.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sj.bind(null,t),t}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return hL(this.persistence,new lL,t.initialUser,this.serializer)}Cu(t){return new bC(w0.Vi,this.serializer)}Du(t){return new vL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class uj extends Xf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof Yf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $5(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new bC((s=>Yf.Vi(s,n)),this.serializer)}}class ay{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=aj.bind(null,this.syncEngine),await BL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HL})()}createDatastore(t){const n=vd(t.databaseInfo.databaseId),s=SL(t.databaseInfo);return RL(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new NL(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>oS(this.syncEngine,n,0)),(function(){return eS.v()?new eS:new _L})())}createSyncEngine(t,n){return(function(a,l,c,d,m,p,y){const _=new QL(a,l,c,d,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ct(n);mt(Na,"RemoteStore shutting down."),s.Ea.add(5),await dc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ay.provider={build:()=>new ay};class qC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Pr="FirestoreClient";class cj{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=f0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{mt(Pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(mt(Pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=M0(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function og(e,t){e.asyncQueue.verifyOperationInProgress(),mt(Pr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await SC(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function uS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hj(e);mt(Pr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>iS(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>iS(t.remoteStore,a))),e._onlineComponents=t}async function hj(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){mt(Pr,"Using user provided OfflineComponentProvider");try{await og(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ia("Error using user provided cache. Falling back to memory cache: "+n),await og(e,new Xf)}}else mt(Pr,"Using default OfflineComponentProvider"),await og(e,new uj(void 0));return e._offlineComponents}async function GC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(mt(Pr,"Using user provided OnlineComponentProvider"),await uS(e,e._uninitializedComponentsProvider._online)):(mt(Pr,"Using default OnlineComponentProvider"),await uS(e,new ay))),e._onlineComponents}function fj(e){return GC(e).then((t=>t.syncEngine))}async function oy(e){const t=await GC(e),n=t.eventManager;return n.onListen=XL.bind(null,t.syncEngine),n.onUnlisten=ZL.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=WL.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=tj.bind(null,t.syncEngine),n}function dj(e,t,n,s){const a=new qC(s),l=new PC(t,a,n);return e.asyncQueue.enqueueAndForget((async()=>VC(await oy(e),l))),()=>{a.Nu(),e.asyncQueue.enqueueAndForget((async()=>OC(await oy(e),l)))}}function mj(e,t,n={}){const s=new xr;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new qC({next:E=>{y.Nu(),c.enqueueAndForget((()=>OC(l,_))),E.fromCache&&m.source==="server"?p.reject(new ft(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new PC(d,y,{includeMetadataChanges:!0,Ka:!0});return VC(l,_)})(await oy(e),e.asyncQueue,t,n,s))),s.promise}function pj(e,t){const n=new xr;return e.asyncQueue.enqueueAndForget((async()=>ej(await fj(e),t,n))),n.promise}function KC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const gj="ComponentProvider",cS=new Map;function yj(e,t,n,s,a){return new Lk(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,KC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const $C="firestore.googleapis.com",hS=!0;class fS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$C,this.ssl=hS}else this.host=t.host,this.ssl=t.ssl??hS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=EC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<G5)throw new ft(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KC(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ed{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gk;switch(s.type){case"firstParty":return new Tk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=cS.get(n);s&&(mt(gj,"Removing Datastore"),cS.delete(n),s.terminate())})(this),Promise.resolve()}}function vj(e,t,n,s={}){e=xs(e,Ed);const a=sl(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(zA(`https://${d}`),BA("Firestore",!0)),l.host!==$C&&l.host!==d&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Aa(m,c)&&(e._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=on.MOCK_USER;else{p=U4(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ft(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}e._authCredentials=new yk(new Dx(p,y))}}class Ps{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ps(this.firestore,t,this._query)}}class Le{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(cc(n,Le._jsonSchema))return new Le(t,s||null,new Tt(se.fromString(n.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:ke("string",Le._jsonSchemaVersion),referencePath:ke("string")};class Cr extends Ps{constructor(t,n,s){super(t,n,v0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new Tt(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function YC(e,t,...n){if(e=gn(e),Mx("collection","path",t),e instanceof Ed){const s=se.fromString(t,...n);return A1(s),new Cr(e,null,s)}{if(!(e instanceof Le||e instanceof Cr))throw new ft(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(se.fromString(t,...n));return A1(s),new Cr(e.firestore,null,s)}}function ly(e,t,...n){if(e=gn(e),arguments.length===1&&(t=f0.newId()),Mx("doc","path",t),e instanceof Ed){const s=se.fromString(t,...n);return w1(s),new Le(e,null,new Tt(s))}{if(!(e instanceof Le||e instanceof Cr))throw new ft(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(se.fromString(t,...n));return w1(s),new Le(e.firestore,e instanceof Cr?e.converter:null,new Tt(s))}}const dS="AsyncQueue";class mS{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AC(this,"async_queue_retry"),this._c=()=>{const s=ag();s&&mt(dS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;mt(dS,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",pS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=D0.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&St(47125,{Pc:pS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function pS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Wo extends Ed{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new mS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mS(t),this._firestoreClient=void 0,await t}}}function _j(e,t){const n=typeof e=="object"?e:GA(),s=typeof e=="string"?e:Bf,a=t0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=L4("firestore");l&&vj(a,...l)}return a}function k0(e){if(e._terminated)throw new ft(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Tj(e),e._firestoreClient}function Tj(e){const t=e._freezeSettings(),n=yj(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new cj(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(nn.fromBase64String(t))}catch(n){throw new ft(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(cc(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:ke("string",Qn._jsonSchemaVersion),bytes:ke("string")};class QC{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class XC{constructor(t){this._methodName=t}}class Xi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(t){if(cc(t,Xi._jsonSchema))return new Xi(t.latitude,t.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:ke("string",Xi._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};class vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(cc(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new vi(t.vectorValues);throw new ft(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:ke("string",vi._jsonSchemaVersion),vectorValues:ke("object")};const Ej=/^__.*__$/;class bj{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Va(t,this.data,this.fieldMask,n,this.fieldTransforms):new hc(t,this.data,n,this.fieldTransforms)}}function WC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{dataSource:e})}}class L0{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new L0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Wf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(WC(this.dataSource)&&Ej.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Sj{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||vd(t)}createContext(t,n,s,a=!1){return new L0({dataSource:t,methodName:n,targetDoc:s,path:en.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j0(e){const t=e._freezeSettings(),n=vd(e._databaseId);return new Sj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function JC(e,t,n,s,a,l={}){const c=e.createContext(l.merge||l.mergeFields?2:0,t,n,a);eR("Data must be an object, but it was:",c,s);const d=ZC(s,c);let m,p;if(l.merge)m=new pi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=bd(t,_,n);if(!c.contains(E))throw new ft(st.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Cj(y,E)||y.push(E)}m=new pi(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new bj(new Yn(d),m,p)}function wj(e,t,n,s=!1){return U0(n,e.createContext(s?4:3,t))}function U0(e,t){if(tR(e=gn(e)))return eR("Unsupported field value:",t,e),ZC(e,t);if(e instanceof XC)return(function(s,a){if(!WC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=U0(d,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return u5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=le.fromDate(s);return{timestampValue:$f(a.serializer,l)}}if(s instanceof le){const l=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$f(a.serializer,l)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:dC(a.serializer,s._byteString)};if(s instanceof Le){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:b0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vi)return(function(c,d){const m=c instanceof vi?c.toArray():c;return{mapValue:{fields:{[Bx]:{stringValue:Fx},[Ff]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return _0(d.serializer,y)}))}}}}}})(s,a);if(TC(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${ud(s)}`)})(e,t)}function ZC(e,t){const n={};return Px(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Da(e,((s,a)=>{const l=U0(a,t.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function tR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof le||e instanceof Xi||e instanceof Qn||e instanceof Le||e instanceof XC||e instanceof vi||TC(e))}function eR(e,t,n){if(!tR(n)||!Vx(n)){const s=ud(n);throw s==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+s)}}function bd(e,t,n){if((t=gn(t))instanceof QC)return t._internalPath;if(typeof t=="string")return xj(e,t);throw Wf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Aj=new RegExp("[~\\*/\\[\\]]");function xj(e,t,n){if(t.search(Aj)>=0)throw Wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new QC(...t.split("."))._internalPath}catch{throw Wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ft(st.INVALID_ARGUMENT,d+e+m)}function Cj(e,t){return e.some((n=>n.isEqual(t)))}class Rj{convertValue(t,n="none"){switch(Vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Da(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[Ff].arrayValue?.values?.map((s=>Se(s.doubleValue)));return new vi(n)}convertGeoPoint(t){return new Xi(Se(t.latitude),Se(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=fd(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ku(t));default:return null}}convertTimestamp(t){const n=Dr(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=se.fromString(t);Yt(_C(s),9688,{name:t});const a=new $u(s.get(1),s.get(3)),l=new Tt(s.popFirst(5));return a.isEqual(n)||Ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class z0 extends Rj{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,n)}}const gS="@firebase/firestore",yS="4.11.0";function vS(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class nR{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ij(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(bd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ij extends nR{data(){return super.data()}}function iR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ft(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B0{}class F0 extends B0{}function Nj(e,t,...n){let s=[];t instanceof B0&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof q0)).length,d=l.filter((m=>m instanceof H0)).length;if(c>1||c>0&&d>0)throw new ft(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class H0 extends F0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new H0(t,n,s)}_apply(t){const n=this._parse(t);return sR(t._query,n),new Ps(t.firestore,t.converter,Wg(t._query,n))}_parse(t){const n=j0(t.firestore);return(function(l,c,d,m,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ft(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){TS(_,y);const N=[];for(const P of _)N.push(_S(m,l,P));E={arrayValue:{values:N}}}else E=_S(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||TS(_,y),E=wj(d,c,_,y==="in"||y==="not-in");return Pe.create(p,y,E)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class q0 extends B0{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new q0(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)sR(c,m),c=Wg(c,m)})(t._query,n),new Ps(t.firestore,t.converter,Wg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G0 extends F0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new G0(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ft(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ft(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(l,c)})(t._query,this._field,this._direction);return new Ps(t.firestore,t.converter,e5(t._query,n))}}function Dj(e,t="asc"){const n=t,s=bd("orderBy",e);return G0._create(s,n)}class K0 extends F0{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new K0(t,n,s)}_apply(t){return new Ps(t.firestore,t.converter,qf(t._query,this._limit,this._limitType))}}function Mj(e){return K0._create("limit",e,"F")}function _S(e,t,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new ft(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xx(t)&&n.indexOf("/")!==-1)throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(se.fromString(n));if(!Tt.isDocumentKey(s))throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return V1(e,new Tt(s))}if(n instanceof Le)return V1(e,n._key);throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ud(n)}.`)}function TS(e,t){if(!Array.isArray(e)||e.length===0)throw new ft(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sR(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ft(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function rR(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class xu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Sa extends nR{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(bd("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sa._jsonSchema={type:ke("string",Sa._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class Ef extends Sa{data(t={}){return super.data(t)}}class wa{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new xu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Ef(this._firestore,this._userDataWriter,s.key,s,new xu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Ef(a._firestore,a._userDataWriter,d.doc.key,d.doc,new xu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Ef(a._firestore,a._userDataWriter,d.doc.key,d.doc,new xu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:Vj(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=f0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Vj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:e})}}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:ke("string",wa._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};function Oj(e){e=xs(e,Ps);const t=xs(e.firestore,Wo),n=k0(t),s=new z0(t);return iR(e._query),mj(n,e._query).then((a=>new wa(t,s,e,a)))}function ES(e,t,n){e=xs(e,Le);const s=xs(e.firestore,Wo),a=rR(e.converter,t),l=j0(s);return aR(s,[JC(l,"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Yi.none())])}function Pj(e,t){const n=xs(e.firestore,Wo),s=ly(e),a=rR(e.converter,t),l=j0(e.firestore);return aR(n,[JC(l,"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,Yi.exists(!1))]).then((()=>s))}function kj(e,...t){e=gn(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||vS(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(vS(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let l,c,d;if(e instanceof Le)c=xs(e.firestore,Wo),d=v0(e._key.path),l={next:p=>{t[s]&&t[s](Lj(c,e,p))},error:t[s+1],complete:t[s+2]};else{const p=xs(e,Ps);c=xs(p.firestore,Wo),d=p._query;const y=new z0(c);l={next:_=>{t[s]&&t[s](new wa(c,y,p,_))},error:t[s+1],complete:t[s+2]},iR(e._query)}const m=k0(c);return dj(m,d,a,l)}function aR(e,t){const n=k0(e);return pj(n,t)}function Lj(e,t,n){const s=n.docs.get(t._key),a=new z0(e);return new Sa(e,a,t._key,s,new xu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){pk(rl),qo(new xa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Wo(new vk(s.getProvider("auth-internal")),new Ek(c,s.getProvider("app-check-internal")),jk(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),wr(gS,yS,t),wr(gS,yS,"esm2020")})();const jj={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},oR=qA(jj),lg=hk(oR),Uj=new bs,bf=_j(oR),lR=D.createContext(void 0);function zj({children:e}){const[t,n]=D.useState(null),[s,a]=D.useState(!0);D.useEffect(()=>{const d=Z3(lg,m=>{n(m),a(!1)});return()=>d()},[]);const l=async()=>{try{await T6(lg,Uj)}catch(d){console.error("Error signing in with Google",d)}},c=async()=>{try{await t6(lg)}catch(d){console.error("Error signing out",d)}};return S.jsx(lR.Provider,{value:{user:t,loading:s,signInWithGoogle:l,logout:c},children:!s&&e})}function fl(){const e=D.useContext(lR);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const ug={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0},ef="study-tracker-data",uR=D.createContext(void 0);function Bj({children:e}){const{user:t}=fl(),[n,s]=D.useState(()=>{try{const W=localStorage.getItem(ef);if(W){const J=JSON.parse(W);if(J.userProfile)return J.userProfile}}catch(W){console.error("Failed to load user profile:",W)}return ug}),[a,l]=D.useState(()=>{try{const W=localStorage.getItem(ef);if(W){const J=JSON.parse(W);if(J.subjects)return J.subjects.map(at=>({...at,chapters:at.chapters.map(R=>({...R,topics:R.topics||[]}))}))}}catch(W){console.error("Failed to load subjects:",W)}return[]});D.useEffect(()=>{if(t){const W=ly(bf,"users",t.uid),J=kj(W,at=>{if(at.exists()){const R=at.data();R.userProfile&&s(R.userProfile),R.subjects&&l(R.subjects)}else{const R={userProfile:ug,subjects:[]};try{const A=localStorage.getItem(ef);if(A){const I=JSON.parse(A);I.userProfile&&(R.userProfile=I.userProfile),I.subjects&&(R.subjects=I.subjects.map(O=>({...O,chapters:O.chapters.map(k=>({...k,topics:k.topics||[]}))})))}}catch(A){console.error("Error reading local storage for migration:",A)}ES(W,R).catch(A=>console.error("Migration failed",A))}},at=>{console.error("Firestore sync error:",at)});return()=>J()}},[t]);const c=async(W,J)=>{if(s(W),l(J),t)try{await ES(ly(bf,"users",t.uid),{userProfile:W,subjects:J})}catch(at){console.error("Failed to save to cloud:",at)}else localStorage.setItem(ef,JSON.stringify({userProfile:W,subjects:J}))},d=W=>{c({...n,...W},a)},m=W=>{const J=crypto.randomUUID(),at={...W,id:J,chapters:[]};c(n,[...a,at])},p=W=>{c(n,a.filter(J=>J.id!==W))},y=(W,J)=>{const at=a.map(R=>R.id===W?{...R,chapters:[...R.chapters,{id:crypto.randomUUID(),name:J,isCompleted:!1,topics:[]}]}:R);c(n,at)},_=(W,J)=>{const at=a.map(R=>R.id===W?{...R,chapters:R.chapters.map(A=>A.id===J?{...A,isCompleted:!A.isCompleted,completedAt:A.isCompleted?null:new Date().toISOString()}:A)}:R);c(n,at)},E=(W,J)=>{const at=a.map(R=>R.id===W?{...R,chapters:R.chapters.filter(A=>A.id!==J)}:R);c(n,at)},C=(W,J,at)=>{const R=a.map(A=>A.id===W?{...A,chapters:A.chapters.map(I=>I.id===J?{...I,topics:[...I.topics,{id:crypto.randomUUID(),name:at,isCompleted:!1,completedAt:null}]}:I)}:A);c(n,R)},N=(W,J,at)=>{const R=a.map(A=>A.id===W?{...A,chapters:A.chapters.map(I=>{if(I.id===J){const O=I.topics.map(z=>z.id===at?{...z,isCompleted:!z.isCompleted,completedAt:z.isCompleted?null:new Date().toISOString()}:z),k=O.length>0&&O.every(z=>z.isCompleted);return{...I,topics:O,isCompleted:k,completedAt:k?new Date().toISOString():null}}return I})}:A);c(n,R)},P=(W,J,at)=>{const R=a.map(A=>A.id===W?{...A,chapters:A.chapters.map(I=>I.id===J?{...I,topics:I.topics.filter(O=>O.id!==at)}:I)}:A);c(n,R)},L=()=>{const W={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},J=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),at=URL.createObjectURL(J),R=document.createElement("a");R.href=at,R.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(at)},F=W=>{try{const J=JSON.parse(W);return J.userProfile&&Array.isArray(J.subjects)?(c(J.userProfile,J.subjects),!0):(alert("Invalid backup file format."),!1)}catch(J){return console.error("Import error:",J),alert("Failed to parse backup file."),!1}},H=()=>{confirm("Are you sure you want to reset all data?")&&c(ug,[])},$=async(W,J)=>{const at=(n.totalStudyTime||0)+W,R={...n,totalStudyTime:at};if(d(R),t)try{await Pj(YC(bf,"study_sessions"),{userId:t.uid,userName:t.displayName||n.name,startTime:new Date(Date.now()-W*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:W,subjectId:J||null,createdAt:new Date().toISOString()})}catch(A){console.error("Error saving study session:",A)}};return S.jsx(uR.Provider,{value:{userProfile:n,subjects:a,updateProfile:d,addSubject:m,deleteSubject:p,addChapter:y,toggleChapter:_,deleteChapter:E,addTopic:C,toggleTopic:N,deleteTopic:P,resetData:H,exportData:L,importData:F,saveStudySession:$},children:e})}function es(){const e=D.useContext(uR);if(e===void 0)throw new Error("useStudy must be used within a StudyProvider");return e}const cR=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();const Fj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Hj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());const bS=e=>{const t=Hj(e);return t.charAt(0).toUpperCase()+t.slice(1)};var qj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Kj=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>D.createElement("svg",{ref:m,...qj,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:cR("lucide",a),...!l&&!Gj(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>D.createElement(p,y)),...Array.isArray(l)?l:[l]]));const Bt=(e,t)=>{const n=D.forwardRef(({className:s,...a},l)=>D.createElement(Kj,{ref:l,iconNode:t,className:cR(`lucide-${Fj(bS(e))}`,`lucide-${e}`,s),...a}));return n.displayName=bS(e),n};const $j=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yj=Bt("arrow-left",$j);const Qj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hR=Bt("arrow-right",Qj);const Xj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Wj=Bt("award",Xj);const Jj=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],uy=Bt("book-marked",Jj);const Zj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wi=Bt("book-open",Zj);const t9=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],e9=Bt("book",t9);const n9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],i9=Bt("chart-column",n9);const s9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],r9=Bt("chart-pie",s9);const a9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],o9=Bt("chevron-down",a9);const l9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sd=Bt("circle-check",l9);const u9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],SS=Bt("circle-user",u9);const c9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h9=Bt("circle",c9);const f9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],d9=Bt("clock",f9);const m9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],wS=Bt("download",m9);const p9=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],g9=Bt("graduation-cap",p9);const y9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],AS=Bt("layout-dashboard",y9);const v9=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],xS=Bt("list",v9);const _9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fR=Bt("log-out",_9);const T9=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],E9=Bt("pause",T9);const b9=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],S9=Bt("play",b9);const w9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ju=Bt("plus",w9);const A9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],x9=Bt("rotate-ccw",A9);const C9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$0=Bt("save",C9);const R9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],I9=Bt("search",R9);const N9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cg=Bt("settings",N9);const D9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],M9=Bt("target",D9);const V9=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],cy=Bt("timer",V9);const O9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wd=Bt("trash-2",O9);const P9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hy=Bt("trending-up",P9);const k9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Y0=Bt("trophy",k9);const L9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],j9=Bt("upload",L9);const U9=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],z9=Bt("volume-2",U9);const B9=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],F9=Bt("volume-x",B9);const H9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dR=Bt("x",H9);const q9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],G9=Bt("zap",q9),K9=Ot(an);function $9({subject:e,index:t=0}){const n=e.chapters.length,s=e.chapters.filter(c=>c.isCompleted).length;let a=0;e.chapters.forEach(c=>{c.topics&&c.topics.length>0?a+=c.topics.filter(d=>d.isCompleted).length/c.topics.length*100:a+=c.isCompleted?100:0});const l=n===0?0:Math.round(a/n);return S.jsxs(K9,{to:`/subject/${e.id}`,whileHover:{y:-5,transition:{duration:.2}},whileTap:{scale:.98},className:"group block bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-lg hover:border-blue-100 transition-all",children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsx(Ot.div,{whileHover:{rotate:15,scale:1.1},className:`w-12 h-12 rounded-xl ${e.color} flex items-center justify-center text-white shadow-sm`,children:S.jsx(Wi,{className:"w-6 h-6"})}),S.jsxs("div",{className:"bg-slate-50 px-2 py-1 rounded-lg text-xs font-semibold text-slate-600",children:[l,"%"]})]}),S.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1 group-hover:text-blue-700 transition-colors",children:e.name}),S.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-4",children:[S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(Wi,{className:"w-3.5 h-3.5"}),n," ",n===1?"Chapter":"Chapters"]}),s>0&&S.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[S.jsx(Sd,{className:"w-3.5 h-3.5"}),s," Done"]})]}),S.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:S.jsx(Ot.div,{initial:{width:0},animate:{width:`${l}%`},transition:{duration:1,delay:.5+t*.1,ease:"easeOut"},className:`h-full ${e.color}`})}),S.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-slate-400 group-hover:text-slate-600 transition-colors",children:["View Details ",S.jsx(hR,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})}function ko({title:e,value:t,icon:n,colorClass:s,bgClass:a,delay:l=0}){return S.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[S.jsx(n,{className:`w-4 h-4 ${s}`})," ",e]}),S.jsx("div",{className:"text-3xl font-bold text-slate-800",children:t})]}),S.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center`,children:S.jsx(n,{className:`w-6 h-6 ${s}`})})]})}const CS=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function Y9({onClose:e}){const{addSubject:t}=es(),[n,s]=D.useState(""),[a,l]=D.useState(CS[0]),c=d=>{d.preventDefault(),n.trim()&&(t({name:n.trim(),color:a,icon:"book"}),e())};return S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100",children:[S.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[S.jsx(e9,{className:"w-5 h-5 text-blue-600"}),"Add New Subject"]}),S.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors",children:S.jsx(dR,{className:"w-5 h-5"})})]}),S.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject Name"}),S.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>s(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Color Tag"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:CS.map(d=>S.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),S.jsx("div",{className:"pt-2",children:S.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[S.jsx($0,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const RS={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},IS={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function Q9(){const{userProfile:e,subjects:t}=es(),[n,s]=D.useState(!1),a=t.reduce((m,p)=>m+p.chapters.length,0),l=t.reduce((m,p)=>m+p.chapters.filter(y=>y.isCompleted).length,0);let c=0;t.forEach(m=>{m.chapters.forEach(p=>{p.topics&&p.topics.length>0?c+=p.topics.filter(y=>y.isCompleted).length/p.topics.length*100:c+=p.isCompleted?100:0})});const d=a===0?0:Math.round(c/a);return S.jsxs(Ot.div,{className:"space-y-8",variants:RS,initial:"hidden",animate:"show",exit:"exit",children:[S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800",children:["Welcome back, ",S.jsx("span",{className:"bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent",children:e.name}),"!"]}),S.jsxs("p",{className:"text-slate-500 mt-1",children:["You're currently in ",S.jsx("span",{className:"font-semibold text-slate-700",children:e.grade}),". Let's make progress!"]})]}),S.jsxs(Ot.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-xl font-medium flex items-center justify-center gap-2 shadow-sm transition-colors",children:[S.jsx(Ju,{className:"w-5 h-5"}),"Add Subject"]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[S.jsxs(Ot.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"md:col-span-1 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-6 text-white text-center md:text-left relative overflow-hidden shadow-lg shadow-blue-500/20",children:[S.jsxs("div",{className:"relative z-10",children:[S.jsxs("h3",{className:"text-blue-100 font-medium mb-1 flex items-center justify-center md:justify-start gap-2",children:[S.jsx(r9,{className:"w-4 h-4"})," Overall Syllabus"]}),S.jsxs("div",{className:"text-4xl font-bold mb-2",children:[d,"%"]}),S.jsxs("p",{className:"text-blue-100 text-sm",children:["Completed across ",t.length," subjects"]})]}),S.jsx("div",{className:"absolute -right-6 -bottom-6 w-32 h-32 bg-white/10 rounded-full blur-2xl"})]}),S.jsx(ko,{title:"Chapters Completed",value:l,icon:Y0,colorClass:"text-amber-500",bgClass:"bg-amber-50",delay:.1}),S.jsx(ko,{title:"Chapters Pending",value:a-l,icon:uy,colorClass:"text-violet-500",bgClass:"bg-violet-50",delay:.2})]}),S.jsxs("div",{children:[S.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:["Your Subjects",S.jsx("span",{className:"text-sm font-normal text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:t.length})]}),t.length>0?S.jsxs(Ot.div,{variants:RS,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map((m,p)=>S.jsx(Ot.div,{variants:IS,children:S.jsx($9,{subject:m,index:p})},m.id)),S.jsxs(Ot.button,{variants:IS,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>s(!0),className:"group border-2 border-dashed border-slate-200 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 hover:border-blue-400 hover:text-blue-600 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[S.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 group-hover:bg-blue-100 flex items-center justify-center mb-3 transition-colors",children:S.jsx(Ju,{className:"w-6 h-6"})}),S.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):S.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white rounded-2xl border border-dashed border-slate-200",children:[S.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:S.jsx(uy,{className:"w-8 h-8 text-slate-300"})}),S.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No subjects yet"}),S.jsx("p",{className:"text-slate-500 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),S.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&S.jsx(Y9,{onClose:()=>s(!1)})]})}function X9({subjectId:e,onClose:t}){const{addChapter:n}=es(),[s,a]=D.useState(""),l=c=>{c.preventDefault(),s.trim()&&(n(e,s.trim()),a(""))};return S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100",children:[S.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[S.jsx(uy,{className:"w-5 h-5 text-blue-600"}),"Add Chapters"]}),S.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors",children:S.jsx(dR,{className:"w-5 h-5"})})]}),S.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Chapter Name / Topic"}),S.jsx("span",{className:"text-xs text-slate-400",children:"Press Enter to add & continue"})]}),S.jsx("input",{autoFocus:!0,type:"text",value:s,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]}),S.jsxs("div",{className:"flex gap-3 pt-2",children:[S.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-slate-200 text-slate-600 font-medium rounded-xl hover:bg-slate-50 transition-colors",children:"Done"}),S.jsxs("button",{type:"submit",disabled:!s.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[S.jsx(Ju,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const W9={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function Ad({children:e,className:t=""}){return S.jsx(Ot.div,{variants:W9,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:t,children:e})}function J9({subjectId:e,chapterId:t,topic:n}){const{toggleTopic:s,deleteTopic:a}=es();return S.jsxs(Ot.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 rounded-lg transition-colors ml-8 border-l border-slate-100",children:[S.jsx(Ot.button,{whileTap:{scale:.8},onClick:()=>s(e,t,n.id),className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 text-transparent hover:border-slate-400"}`,children:S.jsx(Sd,{className:"w-3 h-3"})}),S.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600"}`,children:n.name}),S.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(e,t,n.id),className:"opacity-0 group-hover/topic:opacity-100 p-1.5 text-slate-300 hover:text-red-500 transition-all",children:S.jsx(wd,{className:"w-3.5 h-3.5"})})]})}function mR({subjectId:e,chapter:t,isExpanded:n,onToggle:s}){const{deleteChapter:a,addTopic:l}=es(),[c,d]=D.useState(!1),m=p=>{p.preventDefault();const y=p.target.elements.namedItem("topicName");y.value.trim()&&(l(e,t.id,y.value.trim()),y.value="",d(!1))};return S.jsxs("div",{className:"group transition-colors",children:[S.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 cursor-pointer ${t.isCompleted?"bg-slate-50/30":""}`,onClick:s,children:[S.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 transition-colors",children:S.jsx(Ot.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:S.jsx(o9,{className:"w-5 h-5"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("span",{className:`block font-bold text-lg transition-all ${t.isCompleted?"text-emerald-700":"text-slate-800"}`,children:t.name}),S.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[S.jsxs("span",{className:"text-xs text-slate-400 font-medium whitespace-nowrap",children:[t.topics?.filter(p=>p.isCompleted).length||0,"/",t.topics?.length||0," Topics",t.isCompleted&&S.jsxs("span",{className:"text-emerald-600 ml-2 font-bold inline-flex items-center gap-1",children:[S.jsx(Sd,{className:"w-3 h-3"})," Done"]})]}),t.topics&&t.topics.length>0&&S.jsx("div",{className:"h-1.5 w-24 bg-slate-100 rounded-full overflow-hidden flex-shrink-0",children:S.jsx(Ot.div,{initial:{width:0},animate:{width:`${Math.round(t.topics.filter(p=>p.isCompleted).length/t.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${t.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),S.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[S.jsx(Ot.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),d(!0),n||s()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Add Topic",children:S.jsx(Ju,{className:"w-4 h-4"})}),S.jsx(Ot.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),confirm("Delete this chapter?")&&a(e,t.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Chapter",children:S.jsx(wd,{className:"w-4 h-4"})})]})]}),S.jsx(EA,{children:n&&S.jsx(Ot.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50",children:S.jsxs("div",{className:"pb-2",children:[t.topics&&t.topics.length>0?t.topics.map(p=>S.jsx(J9,{subjectId:e,chapterId:t.id,topic:p},p.id)):S.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&S.jsxs(Ot.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:m,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[S.jsx(h9,{className:"w-4 h-4 text-slate-300"}),S.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white px-3 py-1.5 rounded-lg border border-slate-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",onBlur:()=>setTimeout(()=>d(!1),200)}),S.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})})]})}function Z9(){const{id:e}=zI(),t=Zf(),{subjects:n,deleteSubject:s}=es(),[a,l]=D.useState(!1),[c,d]=D.useState({}),m=n.find(P=>P.id===e);if(!m)return S.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[S.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:S.jsx(Wi,{className:"w-8 h-8 text-slate-300"})}),S.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),S.jsx(an,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const p=()=>{confirm(`Are you sure you want to delete ${m.name}? ALL progress will be lost.`)&&(s(m.id),t("/"))},y=P=>{d(L=>({...L,[P]:!L[P]}))},_=m.chapters.length,E=m.chapters.filter(P=>P.isCompleted).length;let C=0;m.chapters.forEach(P=>{P.topics&&P.topics.length>0?C+=P.topics.filter(L=>L.isCompleted).length/P.topics.length*100:C+=P.isCompleted?100:0});const N=_===0?0:Math.round(C/_);return S.jsxs(Ad,{className:"max-w-3xl mx-auto pb-12",children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs(an,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 mb-6 transition-colors group",children:[S.jsx(Yj,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),S.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[S.jsxs("div",{children:[S.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${m.color}`,children:[S.jsx(Wi,{className:"w-3 h-3"}),m.name]}),S.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800",children:m.name}),S.jsxs("p",{className:"text-slate-500 mt-2",children:[E," of ",_," chapters completed"]})]}),S.jsx("button",{onClick:p,className:"self-start text-red-400 hover:text-red-600 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Delete Subject",children:S.jsx(wd,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"mt-6",children:[S.jsxs("div",{className:"flex justify-between items-end mb-2",children:[S.jsxs("span",{className:"text-3xl font-bold text-slate-800",children:[N,"%"]}),S.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Progress"})]}),S.jsx("div",{className:"h-3 w-full bg-slate-100 rounded-full overflow-hidden",children:S.jsx(Ot.div,{initial:{width:0},animate:{width:`${N}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${m.color}`})})]})]}),S.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[S.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-slate-50/50",children:[S.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Syllabus / Chapters"}),S.jsxs(Ot.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[S.jsx(Ju,{className:"w-4 h-4"}),"Add Chapter"]})]}),S.jsx("div",{className:"divide-y divide-slate-50",children:m.chapters.length>0?m.chapters.map(P=>S.jsx(mR,{subjectId:m.id,chapter:P,isExpanded:!!c[P.id],onToggle:()=>y(P.id)},P.id)):S.jsxs("div",{className:"p-12 text-center",children:[S.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-3",children:S.jsx(Wi,{className:"w-6 h-6 text-slate-300"})}),S.jsx("p",{className:"text-slate-500 mb-4",children:"No chapters added yet."}),S.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 font-medium hover:underline",children:"Add your first chapter"})]})})]}),a&&S.jsx(X9,{subjectId:m.id,onClose:()=>l(!1)})]})}function tU(){const{user:e,logout:t}=fl(),{userProfile:n,updateProfile:s,resetData:a,exportData:l,importData:c}=es(),[d,m]=D.useState(n.name),[p,y]=D.useState(n.grade),_=()=>{s({name:d,grade:p}),alert("Profile updated successfully!")};return S.jsxs(Ad,{className:"max-w-xl mx-auto space-y-6",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[S.jsx(SS,{className:"w-8 h-8 text-blue-600"}),S.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"My Profile Settings"})]}),S.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Student Name"}),S.jsx("input",{type:"text",value:d,onChange:E=>m(E.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",placeholder:"Enter your name"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Class / Grade"}),S.jsx("input",{type:"text",value:p,onChange:E=>y(E.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",placeholder:"e.g. HSC 2026"})]}),S.jsx("div",{className:"pt-4",children:S.jsxs("button",{onClick:_,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[S.jsx($0,{className:"w-5 h-5"}),"Save Profile"]})})]}),S.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 space-y-4",children:[S.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[S.jsx(wS,{className:"w-5 h-5 text-slate-500"}),"Data Management"]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-50 text-slate-700 font-medium rounded-xl border border-slate-200 hover:bg-slate-100 hover:border-slate-300 transition-all",children:[S.jsx(wS,{className:"w-4 h-4"}),"Export Backup"]}),S.jsxs("label",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-50 text-slate-700 font-medium rounded-xl border border-slate-200 hover:bg-slate-100 hover:border-slate-300 transition-all cursor-pointer",children:[S.jsx(j9,{className:"w-4 h-4"}),"Import Backup",S.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:E=>{const C=E.target.files?.[0];if(C){const N=new FileReader;N.onload=P=>{const L=P.target?.result;c(L)&&alert("Data imported successfully!")},N.readAsText(C)}}})]})]})]}),S.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl border border-slate-100 p-6 mt-8 space-y-4",children:[S.jsxs("h3",{className:"text-slate-800 font-semibold mb-2 flex items-center gap-2",children:[S.jsx(SS,{className:"w-5 h-5"}),"Account"]}),S.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e?.photoURL?S.jsx("img",{src:e.photoURL,alt:e.displayName||"User",className:"w-12 h-12 rounded-full"}):S.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xl",children:e?.displayName?e.displayName[0]:e?.email?e.email[0].toUpperCase():"U"}),S.jsxs("div",{children:[S.jsx("p",{className:"font-medium text-slate-900",children:e?.displayName||"User"}),S.jsx("p",{className:"text-sm text-slate-500",children:e?.email})]})]}),S.jsxs("button",{onClick:t,className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 text-slate-700 font-medium rounded-lg hover:bg-slate-100 hover:text-slate-900 transition-colors text-sm flex items-center justify-center gap-2",children:[S.jsx(fR,{className:"w-4 h-4"}),"Sign Out"]})]}),S.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-red-50 rounded-2xl border border-red-100 p-6",children:[S.jsxs("h3",{className:"text-red-700 font-semibold mb-2 flex items-center gap-2",children:[S.jsx(wd,{className:"w-5 h-5"}),"Danger Zone"]}),S.jsx("p",{className:"text-red-600/80 text-sm mb-4",children:"This will permanently delete all your subjects, chapters, and progress data. This action cannot be undone."}),S.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"w-full px-4 py-2 bg-white border border-red-200 text-red-600 font-medium rounded-lg hover:bg-red-50 hover:text-red-700 transition-colors text-sm",children:"Reset All Data"})]})]})}function eU(e){let t=0,n=0,s=0,a=0;return e.forEach(l=>{t+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(s+=c.topics.length,c.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:t,completedChapters:n,totalTopics:s,completedTopics:a}}function nU(e){const t=new Date,s=Array.from({length:7},(l,c)=>{const d=new Date;return d.setDate(t.getDate()-(6-c)),d.toISOString().split("T")[0]}).map(l=>{let c=0;return e.forEach(d=>{d.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...s.map(l=>l.count),1);return{activityData:s,maxCount:a}}function iU(e){const t=new Set;e.forEach(d=>d.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&t.add(p.completedAt.split("T")[0])})));const n=Array.from(t).sort((d,m)=>new Date(m).getTime()-new Date(d).getTime());let s=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===c){s=1;let m=new Date(d);for(let p=1;p<n.length;p++){const y=new Date(n[p]),_=Math.abs(m.getTime()-y.getTime());if(Math.round(_/(1e3*60*60*24))===1)s++,m=y;else break}}}return s}function sU(){const{subjects:e}=es(),{totalChapters:t,completedChapters:n,totalTopics:s,completedTopics:a}=eU(e),{activityData:l,maxCount:c}=nU(e),d=iU(e),m=s>0?Math.round(a/s*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return S.jsxs(Ad,{className:"max-w-4xl mx-auto pb-12",children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-8 flex items-center gap-3",children:[S.jsx(hy,{className:"w-8 h-8 text-blue-600"}),"Study Analytics"]}),S.jsxs(Ot.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[S.jsx("div",{className:"sm:col-span-1",children:S.jsx(ko,{title:"Total Streak",value:`${d} days`,icon:Wj,colorClass:"text-orange-500",bgClass:"bg-orange-50",delay:.1})}),S.jsx("div",{className:"sm:col-span-1",children:S.jsx(ko,{title:"Topics Done",value:`${a} / ${s}`,icon:Wi,colorClass:"text-blue-500",bgClass:"bg-blue-50",delay:.2})}),S.jsx("div",{className:"sm:col-span-1",children:S.jsx(ko,{title:"Chapters Done",value:`${n} / ${t}`,icon:Y0,colorClass:"text-amber-500",bgClass:"bg-amber-50",delay:.3})}),S.jsx("div",{className:"sm:col-span-1",children:S.jsx(ko,{title:"Completion",value:`${m}%`,icon:Sd,colorClass:"text-emerald-500",bgClass:"bg-emerald-50",delay:.4})})]}),S.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[S.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[S.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[S.jsx(i9,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),S.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((y,_)=>S.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[S.jsx("div",{className:"w-full bg-slate-100 rounded-t-lg relative h-full flex items-end overflow-hidden",children:S.jsx(Ot.div,{initial:{height:0},animate:{height:`${y.count/c*100}%`},transition:{duration:1,delay:_*.1,ease:"easeOut"},className:"w-full bg-blue-500 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 relative",children:S.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[y.count," Topics"]})})}),S.jsx("span",{className:"text-xs text-slate-400 font-medium",children:new Date(y.date).toLocaleDateString("en-US",{weekday:"short"})})]},y.date))})]}),S.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[S.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[S.jsx(Wi,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),S.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[e.map(y=>{const _=y.chapters.reduce((N,P)=>N+(P.topics?.length||0),0),E=y.chapters.reduce((N,P)=>N+(P.topics?.filter(L=>L.isCompleted).length||0),0),C=_>0?Math.round(E/_*100):0;return S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("span",{className:"text-sm font-medium text-slate-700",children:y.name}),S.jsxs("span",{className:"text-xs text-slate-400",children:[C,"%"]})]}),S.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:S.jsx(Ot.div,{initial:{width:0},animate:{width:`${C}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${y.color}`})})]},y.id)}),e.length===0&&S.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function rU(){const{subjects:e}=es(),[t,n]=D.useState(""),[s,a]=D.useState("all"),[l,c]=D.useState("all"),[d,m]=D.useState({}),p=e.flatMap(E=>E.chapters.map(C=>({...C,subjectName:E.name,subjectColor:E.color,subjectId:E.id}))),y=p.filter(E=>{const C=E.name.toLowerCase().includes(t.toLowerCase())||E.subjectName.toLowerCase().includes(t.toLowerCase()),N=s==="all"||E.subjectId===s,P=l==="all"||(l==="completed"?E.isCompleted:!E.isCompleted);return C&&N&&P}),_=E=>{m(C=>({...C,[E]:!C[E]}))};return S.jsxs(Ad,{className:"max-w-4xl mx-auto pb-12",children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-8 flex items-center gap-3",children:[S.jsx(Wi,{className:"w-8 h-8 text-blue-600"}),"All Chapters Tracker"]}),S.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm mb-8",children:[S.jsxs("div",{className:"flex justify-between items-end mb-2",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Overall Progress"}),S.jsxs("p",{className:"text-slate-500 text-sm",children:[p.filter(E=>E.isCompleted).length," of ",p.length," chapters completed"]})]}),S.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:[p.length>0?Math.round(p.filter(E=>E.isCompleted).length/p.length*100):0,"%"]})]}),S.jsx("div",{className:"h-4 w-full bg-slate-100 rounded-full overflow-hidden",children:S.jsx(Ot.div,{initial:{width:0},animate:{width:`${p.length>0?Math.round(p.filter(E=>E.isCompleted).length/p.length*100):0}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-600"})})]}),S.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm mb-6 flex flex-col md:flex-row gap-4",children:[S.jsxs("div",{className:"relative flex-1",children:[S.jsx(I9,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),S.jsx("input",{type:"text",placeholder:"Search chapters or subjects...",value:t,onChange:E=>n(E.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]}),S.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[S.jsxs("select",{value:s,onChange:E=>a(E.target.value),className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none",children:[S.jsx("option",{value:"all",children:"All Subjects"}),e.map(E=>S.jsx("option",{value:E.id,children:E.name},E.id))]}),S.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none",children:[S.jsx("option",{value:"all",children:"All Status"}),S.jsx("option",{value:"completed",children:"Completed"}),S.jsx("option",{value:"pending",children:"Pending"})]})]})]}),S.jsx("div",{className:"space-y-4",children:y.length>0?y.map(E=>S.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden",children:[S.jsx("div",{className:"bg-slate-50/50 px-4 py-1 text-xs font-semibold text-slate-500 border-b border-slate-50 flex items-center justify-between",children:S.jsx("span",{className:E.subjectColor,children:E.subjectName})}),S.jsx(mR,{subjectId:E.subjectId,chapter:E,isExpanded:!!d[E.id],onToggle:()=>_(E.id)})]},E.id)):S.jsx("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-slate-200",children:S.jsx("p",{className:"text-slate-500",children:"No chapters found matching your filters."})})})]})}const hg=1500;function aU(){const{saveStudySession:e,subjects:t}=es(),{user:n}=fl(),[s,a]=D.useState("stopwatch"),[l,c]=D.useState(!1),[d,m]=D.useState(0),[p,y]=D.useState(0),[_,E]=D.useState(30),[C,N]=D.useState(""),[P,L]=D.useState(!1),[F,H]=D.useState(!0),[$,W]=D.useState([]),[J,at]=D.useState(!0),R=D.useRef(null),A=D.useRef(null),I=D.useCallback(()=>{if(F)try{A.current||(A.current=new(window.AudioContext||window.webkitAudioContext));const lt=A.current,vt=lt.createOscillator(),j=lt.createGain();vt.connect(j),j.connect(lt.destination),vt.type="sine",vt.frequency.setValueAtTime(880,lt.currentTime),j.gain.setValueAtTime(.1,lt.currentTime),vt.start(),j.gain.exponentialRampToValueAtTime(1e-5,lt.currentTime+.5),vt.stop(lt.currentTime+.5)}catch(lt){console.error("Audio play failed",lt)}},[F]);D.useEffect(()=>(l?R.current=window.setInterval(()=>{m(lt=>s==="stopwatch"?lt+1:lt<=1?(c(!1),I(),0):lt-1)},1e3):R.current&&clearInterval(R.current),()=>{R.current&&clearInterval(R.current)}),[l,s,I]),D.useEffect(()=>{if(c(!1),L(!1),s==="stopwatch")m(0),y(0);else if(s==="pomodoro")m(hg),y(hg);else if(s==="countdown"){const lt=_*60;m(lt),y(lt)}},[s,_]),D.useEffect(()=>{(async()=>{if(n)try{const vt=YC(bf,"users"),j=Nj(vt,Dj("userProfile.totalStudyTime","desc"),Mj(10)),nt=await Oj(j),ct=[];nt.forEach(ht=>{const bt=ht.data();bt.userProfile&&ct.push({userId:ht.id,userName:bt.userProfile.name,totalStudyTime:bt.userProfile.totalStudyTime||0})}),W(ct)}catch(vt){console.error("Error fetching leaderboard:",vt)}finally{at(!1)}})()},[n,P]);const O=()=>{c(!l),L(!1)},k=()=>{c(!1),L(!1),s==="stopwatch"?m(0):s==="pomodoro"?m(hg):s==="countdown"&&m(_*60)},z=async()=>{let lt=0;if(s==="stopwatch"?lt=d:lt=p-d,lt<60){alert("Session must be at least 1 minute to save.");return}await e(lt,C||void 0),L(!0),s==="stopwatch"&&m(0),alert("Session saved successfully!")},M=lt=>{const vt=Math.floor(lt/3600),j=Math.floor(lt%3600/60),nt=lt%60;return`${vt.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}:${nt.toString().padStart(2,"0")}`},Qt=lt=>{const vt=Math.floor(lt/3600),j=Math.floor(lt%3600/60);return vt>0?`${vt}h ${j}m`:`${j}m`},ue=s==="stopwatch"?100:(p-d)/p*100,Z=120,ot=2*Math.PI*Z,dt=ot-ue/100*ot;return S.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[S.jsxs("header",{className:"flex items-center justify-between mb-8",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Study Timer"}),S.jsx("p",{className:"text-slate-500",children:"Focus, track, and compete."})]}),S.jsx("button",{onClick:()=>H(!F),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:F?S.jsx(z9,{className:"w-6 h-6"}):S.jsx(F9,{className:"w-6 h-6"})})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"flex flex-col space-y-6",children:[S.jsxs("div",{className:"bg-white p-1 rounded-xl shadow-sm border border-slate-200 flex",children:[S.jsxs("button",{onClick:()=>a("stopwatch"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="stopwatch"?"bg-blue-600 text-white shadow-sm":"text-slate-600 hover:bg-slate-50"}`,children:[S.jsx(cy,{className:"w-4 h-4"}),"Stopwatch"]}),S.jsxs("button",{onClick:()=>a("pomodoro"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="pomodoro"?"bg-rose-500 text-white shadow-sm":"text-slate-600 hover:bg-slate-50"}`,children:[S.jsx(M9,{className:"w-4 h-4"}),"Pomodoro"]}),S.jsxs("button",{onClick:()=>a("countdown"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="countdown"?"bg-amber-500 text-white shadow-sm":"text-slate-600 hover:bg-slate-50"}`,children:[S.jsx(G9,{className:"w-4 h-4"}),"Countdown"]})]}),S.jsxs(Ot.div,{layout:!0,className:"bg-white rounded-3xl p-8 shadow-sm border border-slate-100 flex flex-col items-center justify-center text-center relative overflow-hidden",children:[S.jsx("div",{className:"w-full absolute top-6 left-0 px-8 z-10",children:S.jsxs("select",{className:"w-full p-2 bg-transparent text-center font-medium text-slate-600 border-none focus:ring-0 cursor-pointer hover:bg-slate-50 rounded-lg transition-colors",value:C,onChange:lt=>N(lt.target.value),disabled:l,children:[S.jsx("option",{value:"",children:"Select Subject (Optional)"}),t.map(lt=>S.jsx("option",{value:lt.id,children:lt.name},lt.id))]})}),S.jsxs("div",{className:"relative mt-12 mb-8",children:[S.jsxs("svg",{className:"w-full max-w-[18rem] aspect-square transform -rotate-90",viewBox:"0 0 288 288",children:[S.jsx("circle",{cx:"144",cy:"144",r:Z,stroke:"#f1f5f9",strokeWidth:"12",fill:"transparent"}),S.jsx("circle",{cx:"144",cy:"144",r:Z,stroke:s==="pomodoro"?"#f43f5e":"#3b82f6",strokeWidth:"12",fill:"transparent",strokeDasharray:ot,strokeDashoffset:s==="stopwatch"?0:dt,strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]}),S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-20",children:[S.jsx("div",{className:`text-6xl font-mono font-bold tracking-wider ${l?s==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800"}`,children:M(d)}),S.jsx("div",{className:"text-slate-400 font-medium mt-2 capitalize",children:s})]})]}),s==="countdown"&&!l&&d===0&&S.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[S.jsx("span",{className:"text-slate-600",children:"Minutes:"}),S.jsx("input",{type:"number",min:"1",max:"180",value:_,onChange:lt=>E(Number(lt.target.value)),className:"w-20 p-2 border border-slate-200 rounded-lg text-center"})]}),S.jsxs("div",{className:"flex items-center gap-4 z-10",children:[S.jsx("button",{onClick:O,className:`p-4 rounded-full transition-all shadow-lg transform active:scale-95 ${l?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?S.jsx(E9,{className:"w-8 h-8 font-fill"}):S.jsx(S9,{className:"w-8 h-8 pl-1"})}),(d>0||s!=="stopwatch"&&d!==p)&&S.jsx("button",{onClick:k,className:"p-4 rounded-full bg-slate-100 text-slate-600 hover:bg-slate-200 transition-all active:scale-95",children:S.jsx(x9,{className:"w-6 h-6"})})]}),!l&&(s==="stopwatch"&&d>0||s!=="stopwatch"&&d!==p)&&!P&&S.jsxs(Ot.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:z,className:"absolute bottom-6 flex items-center gap-2 px-6 py-2 bg-emerald-500 text-white rounded-full hover:bg-emerald-600 transition-colors shadow-md",children:[S.jsx($0,{className:"w-4 h-4"}),"Save Session"]})]})]}),S.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 h-fit",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b border-slate-100",children:[S.jsx(Y0,{className:"w-6 h-6 text-yellow-500"}),S.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Leaderboard"})]}),J?S.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading rankings..."}):S.jsxs("div",{className:"space-y-4",children:[$.map((lt,vt)=>S.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${lt.userId===n?.uid?"bg-blue-50 border border-blue-100":"hover:bg-slate-50"}`,children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:`
                                            w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm
                                            ${vt===0?"bg-yellow-100 text-yellow-700":vt===1?"bg-slate-200 text-slate-700":vt===2?"bg-orange-100 text-orange-700":"bg-slate-50 text-slate-500"}
                                        `,children:vt+1}),S.jsx("div",{children:S.jsxs("p",{className:`font-medium ${lt.userId===n?.uid?"text-blue-700":"text-slate-800"}`,children:[lt.userName," ",lt.userId===n?.uid&&"(You)"]})})]}),S.jsxs("div",{className:"flex items-center gap-1 text-slate-500 text-sm font-medium",children:[S.jsx(d9,{className:"w-4 h-4"}),Qt(lt.totalStudyTime)]})]},lt.userId)),$.length===0&&S.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl",children:"No records yet. Be the first!"})]})]})]})]})}function oU(){const{logout:e}=fl(),t=Vs(),n=UI(),s=a=>t.pathname===a;return S.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 pb-20 md:pb-0 font-sans",children:[S.jsxs("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-10 px-4 py-3 flex items-center justify-between md:hidden",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg",children:S.jsx(Wi,{className:"w-5 h-5 text-white"})}),S.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent",children:"TrackEd"})]}),S.jsx(an,{to:"/settings",className:"p-2 text-slate-500 hover:bg-slate-100 rounded-full",children:S.jsx(cg,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"md:flex max-w-5xl mx-auto",children:[S.jsxs("aside",{className:"hidden md:flex flex-col w-64 h-screen sticky top-0 p-6 border-r border-slate-200 bg-white",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-10",children:[S.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:S.jsx(Wi,{className:"w-6 h-6 text-white"})}),S.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"TrackEd"})]}),S.jsxs("nav",{className:"space-y-2 flex-1",children:[S.jsxs(an,{to:"/",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s("/")?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[S.jsx(AS,{className:"w-5 h-5"}),"Dashboard"]}),S.jsxs(an,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s("/analytics")?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[S.jsx(hy,{className:"w-5 h-5"}),"Analytics"]}),S.jsxs(an,{to:"/chapters",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s("/chapters")?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[S.jsx(xS,{className:"w-5 h-5"}),"Chapters"]}),S.jsxs(an,{to:"/timer",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t.pathname==="/timer"?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,children:[S.jsx(cy,{className:"w-5 h-5"}),"Timer"]}),S.jsxs(an,{to:"/settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s("/settings")?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[S.jsx(cg,{className:"w-5 h-5"}),"Settings"]})]}),S.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100",children:[S.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 hover:bg-red-50 hover:text-red-700 transition-colors w-full text-left mb-4",children:[S.jsx(fR,{className:"w-5 h-5"}),"Sign Out"]}),S.jsxs("div",{className:"text-xs text-slate-400",children:[S.jsx("p",{children:"Empowering Students"}),S.jsx("p",{className:"mt-1",children:" 2026 TrackEd"})]})]})]}),S.jsx("main",{className:"flex-1 p-4 md:p-8",children:S.jsx(EA,{mode:"wait",children:n&&D.cloneElement(n,{key:t.pathname})})})]}),S.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:[S.jsxs(an,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${s("/")?"text-blue-600 font-medium":"text-slate-400"}`,children:[S.jsx(AS,{className:"w-6 h-6"}),S.jsx("span",{children:"Home"})]}),S.jsxs(an,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${s("/analytics")?"text-blue-600 font-medium":"text-slate-400"}`,children:[S.jsx(hy,{className:"w-6 h-6"}),S.jsx("span",{children:"Stats"})]}),S.jsxs(an,{to:"/chapters",className:`flex flex-col items-center gap-1 text-xs ${s("/chapters")?"text-blue-600 font-medium":"text-slate-400"}`,children:[S.jsx(xS,{className:"w-6 h-6"}),S.jsx("span",{children:"Chapters"})]}),S.jsxs(an,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${s("/timer")?"text-blue-600 font-medium":"text-slate-400"}`,children:[S.jsx(cy,{className:"w-6 h-6"}),S.jsx("span",{children:"Timer"})]}),S.jsxs(an,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${s("/settings")?"text-blue-600 font-medium":"text-slate-400"}`,children:[S.jsx(cg,{className:"w-6 h-6"}),S.jsx("span",{children:"Settings"})]})]})]})}function lU(){const{signInWithGoogle:e,user:t}=fl(),n=Zf();return DS.useEffect(()=>{t&&n("/")},[t,n]),S.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50",children:[S.jsxs("div",{className:"absolute inset-0 z-0",children:[S.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 rounded-full blur-3xl animate-pulse"}),S.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),S.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),S.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[S.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 p-8 md:p-12 text-center",children:[S.jsx("div",{className:"flex justify-center mb-8",children:S.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:S.jsx(g9,{className:"w-10 h-10 text-white"})})}),S.jsxs("h1",{className:"text-3xl font-bold text-slate-900 mb-3 tracking-tight",children:["Welcome to ",S.jsx("span",{className:"text-indigo-600",children:"TrackEd"})]}),S.jsx("p",{className:"text-slate-500 mb-10 text-lg leading-relaxed",children:"Master your study habits and achieve your goals."}),S.jsxs(Ot.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[S.jsx("div",{className:"bg-white p-1 rounded-full",children:S.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),S.jsx("span",{children:"Sign in with Google"}),S.jsx(hR,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),S.jsx("p",{className:"mt-8 text-xs text-slate-400",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),S.jsx("div",{className:"mt-8 text-center",children:S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Focus. Track. Succeed."})})]})]})}function uU({children:e}){const{user:t,loading:n}=fl();return n?S.jsx("div",{children:"Loading..."}):t?S.jsx(S.Fragment,{children:e}):S.jsx(tN,{to:"/login"})}function cU(){return S.jsx(xN,{basename:"/Study-Track/",children:S.jsxs(nN,{children:[S.jsx(Es,{path:"/login",element:S.jsx(lU,{})}),S.jsxs(Es,{path:"/",element:S.jsx(uU,{children:S.jsx(oU,{})}),children:[S.jsx(Es,{index:!0,element:S.jsx(Q9,{})}),S.jsx(Es,{path:"subject/:id",element:S.jsx(Z9,{})}),S.jsx(Es,{path:"analytics",element:S.jsx(sU,{})}),S.jsx(Es,{path:"chapters",element:S.jsx(rU,{})}),S.jsx(Es,{path:"timer",element:S.jsx(aU,{})}),S.jsx(Es,{path:"settings",element:S.jsx(tU,{})})]})]})})}class hU extends D.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:S.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[S.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),S.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),S.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),S.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}eI.createRoot(document.getElementById("root")).render(S.jsx(DS.StrictMode,{children:S.jsx(hU,{children:S.jsx(zj,{children:S.jsx(Bj,{children:S.jsx(cU,{})})})})}));
