(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Fw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mp={exports:{}},_c={};var R_;function gN(){if(R_)return _c;R_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return _c.Fragment=e,_c.jsx=n,_c.jsxs=n,_c}var N_;function yN(){return N_||(N_=1,Mp.exports=gN()),Mp.exports}var y=yN(),jp={exports:{}},Ne={};var k_;function vN(){if(k_)return Ne;k_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),T=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,L={};function z(U,ee,te){this.props=U,this.context=ee,this.refs=L,this.updater=te||j}z.prototype.isReactComponent={},z.prototype.setState=function(U,ee){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ee,"setState")},z.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function H(){}H.prototype=z.prototype;function K(U,ee,te){this.props=U,this.context=ee,this.refs=L,this.updater=te||j}var re=K.prototype=new H;re.constructor=K,P(re,z.prototype),re.isPureReactComponent=!0;var ae=Array.isArray;function ue(){}var D={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function C(U,ee,te){var le=te.ref;return{$$typeof:t,type:U,key:ee,ref:le!==void 0?le:null,props:te}}function M(U,ee){return C(U.type,ee,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function V(U){var ee={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(te){return ee[te]})}var I=/\/+/g;function we(U,ee){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):ee.toString(36)}function Ve(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ue,ue):(U.status="pending",U.then(function(ee){U.status==="pending"&&(U.status="fulfilled",U.value=ee)},function(ee){U.status==="pending"&&(U.status="rejected",U.reason=ee)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,ee,te,le,ye){var Ce=typeof U;(Ce==="undefined"||Ce==="boolean")&&(U=null);var Oe=!1;if(U===null)Oe=!0;else switch(Ce){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(U.$$typeof){case t:case e:Oe=!0;break;case v:return Oe=U._init,W(Oe(U._payload),ee,te,le,ye)}}if(Oe)return ye=ye(U),Oe=le===""?"."+we(U,0):le,ae(ye)?(te="",Oe!=null&&(te=Oe.replace(I,"$&/")+"/"),W(ye,ee,te,"",function(Lr){return Lr})):ye!=null&&(k(ye)&&(ye=M(ye,te+(ye.key==null||U&&U.key===ye.key?"":(""+ye.key).replace(I,"$&/")+"/")+Oe)),ee.push(ye)),1;Oe=0;var gt=le===""?".":le+":";if(ae(U))for(var et=0;et<U.length;et++)le=U[et],Ce=gt+we(le,et),Oe+=W(le,ee,te,Ce,ye);else if(et=A(U),typeof et=="function")for(U=et.call(U),et=0;!(le=U.next()).done;)le=le.value,Ce=gt+we(le,et++),Oe+=W(le,ee,te,Ce,ye);else if(Ce==="object"){if(typeof U.then=="function")return W(Ve(U),ee,te,le,ye);throw ee=String(U),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function oe(U,ee,te){if(U==null)return U;var le=[],ye=0;return W(U,le,"","",function(Ce){return ee.call(te,Ce,ye++)}),le}function he(U){if(U._status===-1){var ee=U._result;ee=ee(),ee.then(function(te){(U._status===0||U._status===-1)&&(U._status=1,U._result=te)},function(te){(U._status===0||U._status===-1)&&(U._status=2,U._result=te)}),U._status===-1&&(U._status=0,U._result=ee)}if(U._status===1)return U._result.default;throw U._result}var Ae=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ie={map:oe,forEach:function(U,ee,te){oe(U,function(){ee.apply(this,arguments)},te)},count:function(U){var ee=0;return oe(U,function(){ee++}),ee},toArray:function(U){return oe(U,function(ee){return ee})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ne.Activity=x,Ne.Children=Ie,Ne.Component=z,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=K,Ne.StrictMode=i,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},Ne.cache=function(U){return function(){return U.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(U,ee,te){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var le=P({},U.props),ye=U.key;if(ee!=null)for(Ce in ee.key!==void 0&&(ye=""+ee.key),ee)!E.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(le[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=te;else if(1<Ce){for(var Oe=Array(Ce),gt=0;gt<Ce;gt++)Oe[gt]=arguments[gt+2];le.children=Oe}return C(U.type,ye,le)},Ne.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ne.createElement=function(U,ee,te){var le,ye={},Ce=null;if(ee!=null)for(le in ee.key!==void 0&&(Ce=""+ee.key),ee)E.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=ee[le]);var Oe=arguments.length-2;if(Oe===1)ye.children=te;else if(1<Oe){for(var gt=Array(Oe),et=0;et<Oe;et++)gt[et]=arguments[et+2];ye.children=gt}if(U&&U.defaultProps)for(le in Oe=U.defaultProps,Oe)ye[le]===void 0&&(ye[le]=Oe[le]);return C(U,Ce,ye)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:d,render:U}},Ne.isValidElement=k,Ne.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:he}},Ne.memo=function(U,ee){return{$$typeof:p,type:U,compare:ee===void 0?null:ee}},Ne.startTransition=function(U){var ee=D.T,te={};D.T=te;try{var le=U(),ye=D.S;ye!==null&&ye(te,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ue,Ae)}catch(Ce){Ae(Ce)}finally{ee!==null&&te.types!==null&&(ee.types=te.types),D.T=ee}},Ne.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ne.use=function(U){return D.H.use(U)},Ne.useActionState=function(U,ee,te){return D.H.useActionState(U,ee,te)},Ne.useCallback=function(U,ee){return D.H.useCallback(U,ee)},Ne.useContext=function(U){return D.H.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U,ee){return D.H.useDeferredValue(U,ee)},Ne.useEffect=function(U,ee){return D.H.useEffect(U,ee)},Ne.useEffectEvent=function(U){return D.H.useEffectEvent(U)},Ne.useId=function(){return D.H.useId()},Ne.useImperativeHandle=function(U,ee,te){return D.H.useImperativeHandle(U,ee,te)},Ne.useInsertionEffect=function(U,ee){return D.H.useInsertionEffect(U,ee)},Ne.useLayoutEffect=function(U,ee){return D.H.useLayoutEffect(U,ee)},Ne.useMemo=function(U,ee){return D.H.useMemo(U,ee)},Ne.useOptimistic=function(U,ee){return D.H.useOptimistic(U,ee)},Ne.useReducer=function(U,ee,te){return D.H.useReducer(U,ee,te)},Ne.useRef=function(U){return D.H.useRef(U)},Ne.useState=function(U){return D.H.useState(U)},Ne.useSyncExternalStore=function(U,ee,te){return D.H.useSyncExternalStore(U,ee,te)},Ne.useTransition=function(){return D.H.useTransition()},Ne.version="19.2.4",Ne}var I_;function w0(){return I_||(I_=1,jp.exports=vN()),jp.exports}var N=w0();const Hw=Fw(N);var Vp={exports:{}},Tc={},Op={exports:{}},Pp={};var D_;function bN(){return D_||(D_=1,(function(t){function e(W,oe){var he=W.length;W.push(oe);e:for(;0<he;){var Ae=he-1>>>1,Ie=W[Ae];if(0<a(Ie,oe))W[Ae]=oe,W[he]=Ie,he=Ae;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var oe=W[0],he=W.pop();if(he!==oe){W[0]=he;e:for(var Ae=0,Ie=W.length,U=Ie>>>1;Ae<U;){var ee=2*(Ae+1)-1,te=W[ee],le=ee+1,ye=W[le];if(0>a(te,he))le<Ie&&0>a(ye,te)?(W[Ae]=ye,W[le]=he,Ae=le):(W[Ae]=te,W[ee]=he,Ae=ee);else if(le<Ie&&0>a(ye,he))W[Ae]=ye,W[le]=he,Ae=le;else break e}}return oe}function a(W,oe){var he=W.sortIndex-oe.sortIndex;return he!==0?he:W.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],p=[],v=1,x=null,T=3,A=!1,j=!1,P=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function re(W){for(var oe=n(p);oe!==null;){if(oe.callback===null)i(p);else if(oe.startTime<=W)i(p),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(p)}}function ae(W){if(P=!1,re(W),!j)if(n(m)!==null)j=!0,ue||(ue=!0,V());else{var oe=n(p);oe!==null&&Ve(ae,oe.startTime-W)}}var ue=!1,D=-1,E=5,C=-1;function M(){return L?!0:!(t.unstable_now()-C<E)}function k(){if(L=!1,ue){var W=t.unstable_now();C=W;var oe=!0;try{e:{j=!1,P&&(P=!1,H(D),D=-1),A=!0;var he=T;try{t:{for(re(W),x=n(m);x!==null&&!(x.expirationTime>W&&M());){var Ae=x.callback;if(typeof Ae=="function"){x.callback=null,T=x.priorityLevel;var Ie=Ae(x.expirationTime<=W);if(W=t.unstable_now(),typeof Ie=="function"){x.callback=Ie,re(W),oe=!0;break t}x===n(m)&&i(m),re(W)}else i(m);x=n(m)}if(x!==null)oe=!0;else{var U=n(p);U!==null&&Ve(ae,U.startTime-W),oe=!1}}break e}finally{x=null,T=he,A=!1}oe=void 0}}finally{oe?V():ue=!1}}}var V;if(typeof K=="function")V=function(){K(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,we=I.port2;I.port1.onmessage=k,V=function(){we.postMessage(null)}}else V=function(){z(k,0)};function Ve(W,oe){D=z(function(){W(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(W){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var he=T;T=oe;try{return W()}finally{T=he}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=T;T=W;try{return oe()}finally{T=he}},t.unstable_scheduleCallback=function(W,oe,he){var Ae=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ae+he:Ae):he=Ae,W){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=he+Ie,W={id:v++,callback:oe,priorityLevel:W,startTime:he,expirationTime:Ie,sortIndex:-1},he>Ae?(W.sortIndex=he,e(p,W),n(m)===null&&W===n(p)&&(P?(H(D),D=-1):P=!0,Ve(ae,he-Ae))):(W.sortIndex=Ie,e(m,W),j||A||(j=!0,ue||(ue=!0,V()))),W},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(W){var oe=T;return function(){var he=T;T=oe;try{return W.apply(this,arguments)}finally{T=he}}}})(Pp)),Pp}var M_;function xN(){return M_||(M_=1,Op.exports=bN()),Op.exports}var Lp={exports:{}},an={};var j_;function _N(){if(j_)return an;j_=1;var t=w0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:m,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},an.flushSync=function(m){var p=u.T,v=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=v,i.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,x=d(v,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:A}):v==="script"&&i.d.X(m,{crossOrigin:x,integrity:T,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=d(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},an.requestFormReset=function(m){i.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},an.useFormStatus=function(){return u.H.useHostTransitionStatus()},an.version="19.2.4",an}var V_;function TN(){if(V_)return Lp.exports;V_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lp.exports=_N(),Lp.exports}var O_;function wN(){if(O_)return Tc;O_=1;var t=xN(),e=w0(),n=TN();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),s;if(g===c)return m(f),r;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=f,c=g;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,c=g;break}if(S===c){_=!0,c=f,o=g;break}S=S.sibling}if(!_){for(S=g.child;S;){if(S===o){_=!0,o=g,c=f;break}if(S===c){_=!0,c=g,o=f;break}S=S.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),K=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var I=Symbol.for("react.client.reference");function we(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===I?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case ae:return"Suspense";case ue:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case K:return s.displayName||"Context";case H:return(s._context.displayName||"Context")+".Consumer";case re:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return r=s.displayName||null,r!==null?r:we(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return we(s(r))}catch{}}return null}var Ve=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ae=[],Ie=-1;function U(s){return{current:s}}function ee(s){0>Ie||(s.current=Ae[Ie],Ae[Ie]=null,Ie--)}function te(s,r){Ie++,Ae[Ie]=s.current,s.current=r}var le=U(null),ye=U(null),Ce=U(null),Oe=U(null);function gt(s,r){switch(te(Ce,r),te(ye,s),te(le,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Wx(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Wx(r),s=Jx(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(le),te(le,s)}function et(){ee(le),ee(ye),ee(Ce)}function Lr(s){s.memoizedState!==null&&te(Oe,s);var r=le.current,o=Jx(r,s.type);r!==o&&(te(ye,s),te(le,o))}function La(s){ye.current===s&&(ee(le),ee(ye)),Oe.current===s&&(ee(Oe),yc._currentValue=he)}var Ua,Ba;function ws(s){if(Ua===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ua=r&&r[1]||"",Ba=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+s+Ba}var yl=!1;function Ur(s,r){if(!s||yl)return"";yl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Y=X}Reflect.construct(s,[],ne)}else{try{ne.call()}catch(X){Y=X}s.call(ne.prototype)}}else{try{throw Error()}catch(X){Y=X}(ne=s())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),_=g[0],S=g[1];if(_&&S){var O=_.split(`
`),$=S.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===$.length)for(c=O.length-1,f=$.length-1;1<=c&&0<=f&&O[c]!==$[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==$[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==$[f]){var J=`
`+O[c].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=c&&0<=f);break}}}finally{yl=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?ws(o):""}function vl(s,r){switch(s.tag){case 26:case 27:case 5:return ws(s.type);case 16:return ws("Lazy");case 13:return s.child!==r&&r!==null?ws("Suspense Fallback"):ws("Suspense");case 19:return ws("SuspenseList");case 0:case 15:return Ur(s.type,!1);case 11:return Ur(s.type.render,!1);case 1:return Ur(s.type,!0);case 31:return ws("Activity");default:return""}}function bl(s){try{var r="",o=null;do r+=vl(s,o),o=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var St=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,Pi=t.unstable_cancelCallback,Vf=t.unstable_shouldYield,Tu=t.unstable_requestPaint,dn=t.unstable_now,Br=t.unstable_getCurrentPriorityLevel,xl=t.unstable_ImmediatePriority,_l=t.unstable_UserBlockingPriority,Li=t.unstable_NormalPriority,Of=t.unstable_LowPriority,wu=t.unstable_IdlePriority,Eu=t.log,Su=t.unstable_setDisableYieldValue,ts=null,Yt=null;function Pn(s){if(typeof Eu=="function"&&Su(s),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ts,s)}catch{}}var xt=Math.clz32?Math.clz32:Cu,Au=Math.log,za=Math.LN2;function Cu(s){return s>>>=0,s===0?32:31-(Au(s)/za|0)|0}var Es=256,zr=262144,At=4194304;function Ss(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function As(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?f=Ss(c):(_&=S,_!==0?f=Ss(_):o||(o=S&~s,o!==0&&(f=Ss(o))))):(S=c&~g,S!==0?f=Ss(S):_!==0?f=Ss(_):o||(o=c&~s,o!==0&&(f=Ss(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function ns(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Pf(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var s=At;return At<<=1,(At&62914560)===0&&(At=4194304),s}function Cs(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Fr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Lf(s,r,o,c,f,g){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,O=s.expirationTimes,$=s.hiddenUpdates;for(o=_&~o;0<o;){var J=31-xt(o),ne=1<<J;S[J]=0,O[J]=-1;var Y=$[J];if(Y!==null)for($[J]=null,J=0;J<Y.length;J++){var X=Y[J];X!==null&&(X.lane&=-536870913)}o&=~ne}c!==0&&Hr(s,c,0),g!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=g&~(_&~r))}function Hr(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-xt(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function Tl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-xt(o),f=1<<c;f&r|s[c]&r&&(s[c]|=r),o&=~f}}function wl(s,r){var o=r&-r;return o=(o&42)!==0?1:qr(o),(o&(s.suspendedLanes|r))!==0?0:o}function qr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ii(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Nu(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:__(s.type))}function ss(s,r){var o=oe.p;try{return oe.p=s,r()}finally{oe.p=o}}var is=Math.random().toString(36).slice(2),Ct="__reactFiber$"+is,qt="__reactProps$"+is,Rs="__reactContainer$"+is,Fa="__reactEvents$"+is,Uf="__reactListeners$"+is,ku="__reactHandles$"+is,Iu="__reactResources$"+is,Ns="__reactMarker$"+is;function Ha(s){delete s[Ct],delete s[qt],delete s[Fa],delete s[Uf],delete s[ku]}function ks(s){var r=s[Ct];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Rs]||o[Ct]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=r_(s);s!==null;){if(o=s[Ct])return o;s=r_(s)}return r}s=o,o=s.parentNode}return null}function Ln(s){if(s=s[Ct]||s[Rs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Cn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Is(s){var r=s[Iu];return r||(r=s[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(s){s[Ns]=!0}var El=new Set,Sl={};function Ds(s,r){Ms(s,r),Ms(s+"Capture",r)}function Ms(s,r){for(Sl[s]=r,s=0;s<r.length;s++)El.add(r[s])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Rl={};function Du(s){return St.call(Rl,s)?!0:St.call(Cl,s)?!1:Al.test(s)?Rl[s]=!0:(Cl[s]=!0,!1)}function qa(s,r,o){if(Du(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Rn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Nt(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function Gt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ui(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nl(s,r,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,g=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function We(s){if(!s._valueTracker){var r=Ui(s)?"checked":"value";s._valueTracker=Nl(s,r,""+s[r])}}function Gr(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=Ui(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function js(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var $r=/[\n"\\]/g;function bn(s){return s.replace($r,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ga(s,r,o,c,f,g,_,S){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Gt(r)):s.value!==""+Gt(r)&&(s.value=""+Gt(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?kl(s,_,Gt(r)):o!=null?kl(s,_,Gt(o)):c!=null&&s.removeAttribute("value"),f==null&&g!=null&&(s.defaultChecked=!!g),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Gt(S):s.removeAttribute("name")}function Mu(s,r,o,c,f,g,_,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){We(s);return}o=o!=null?""+Gt(o):"",r=r!=null?""+Gt(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),We(s)}function kl(s,r,o){r==="number"&&js(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Bi(s,r,o,c){if(s=s.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<s.length;o++)f=r.hasOwnProperty("$"+s[o].value),s[o].selected!==f&&(s[o].selected=f),f&&c&&(s[o].defaultSelected=!0)}else{for(o=""+Gt(o),r=null,f=0;f<s.length;f++){if(s[f].value===o){s[f].selected=!0,c&&(s[f].defaultSelected=!0);return}r!==null||s[f].disabled||(r=s[f])}r!==null&&(r.selected=!0)}}function ju(s,r,o){if(r!=null&&(r=""+Gt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Gt(o):""}function zi(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(Ve(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Gt(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),We(s)}function xn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||Vu.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Dl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&Il(s,f,c)}else for(var g in r)r.hasOwnProperty(g)&&Il(s,g,r[g])}function $a(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(s){return Fi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function rs(){}var Ml=null;function Un(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hi=null,Vs=null;function Kr(s){var r=Ln(s);if(r&&(s=r.stateNode)){var o=s[qt]||null;e:switch(s=r.stateNode,r.type){case"input":if(Ga(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var f=c[qt]||null;if(!f)throw Error(i(90));Ga(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&Gr(c)}break e;case"textarea":ju(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Bi(s,!!o.multiple,r,!1)}}}var Ya=!1;function qi(s,r,o){if(Ya)return s(r,o);Ya=!0;try{var c=s(r);return c}finally{if(Ya=!1,(Hi!==null||Vs!==null)&&(Nh(),Hi&&(r=Hi,s=Vs,Vs=Hi=null,Kr(r),s)))for(r=0;r<s.length;r++)Kr(s[r])}}function as(s,r){var o=s.stateNode;if(o===null)return null;var c=o[qt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=!1;if(Bn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Yr=!1}var Os=null,jl=null,Qr=null;function Vl(){if(Qr)return Qr;var s,r=jl,o=r.length,c,f="value"in Os?Os.value:Os.textContent,g=f.length;for(s=0;s<o&&r[s]===f[s];s++);var _=o-s;for(c=1;c<=_&&r[o-c]===f[g-c];c++);return Qr=f.slice(s,1<c?1-c:void 0)}function Xr(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ri(){return!0}function os(){return!1}function Qt(s){function r(o,c,f,g,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ri:os,this.isPropagationStopped=os,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=Qt(ai),Gi=x({},ai,{view:0,detail:0}),Ol=Qt(Gi),$i,Qa,Ls,Xa=x({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ls&&(Ls&&s.type==="mousemove"?($i=s.screenX-Ls.screenX,Qa=s.screenY-Ls.screenY):Qa=$i=0,Ls=s),$i)},movementY:function(s){return"movementY"in s?s.movementY:Qa}}),Pl=Qt(Xa),Wr=x({},Xa,{dataTransfer:0}),Pu=Qt(Wr),Lu=x({},Gi,{relatedTarget:0}),Jr=Qt(Lu),Ll=x({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=Qt(Ll),Wa=x({},ai,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bu=Qt(Wa),zu=x({},ai,{data:0}),Us=Qt(zu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=qu[s])?!!r[s]:!1}function Ki(){return Gu}var fn=x({},Gi,{key:function(s){if(s.key){var r=Fu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Xr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(s){return s.type==="keypress"?Xr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),$u=Qt(fn),Ku=x({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oi=Qt(Ku),h=x({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),b=Qt(h),w=x({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Qt(w),q=x({},Xa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Qt(q),ce=x({},ai,{newState:0,oldState:0}),De=Qt(ce),_t=[9,13,27,32],Ye=Bn&&"CompositionEvent"in window,ht=null;Bn&&"documentMode"in document&&(ht=document.documentMode);var zn=Bn&&"TextEvent"in window&&!ht,Bs=Bn&&(!Ye||ht&&8<ht&&11>=ht),ls=" ",cs=!1;function Zr(s,r){switch(s){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Za=!1;function BC(s,r){switch(s){case"compositionend":return Ja(r);case"keypress":return r.which!==32?null:(cs=!0,ls);case"textInput":return s=r.data,s===ls&&cs?null:s;default:return null}}function zC(s,r){if(Za)return s==="compositionend"||!Ye&&Zr(s,r)?(s=Vl(),Qr=jl=Os=null,Za=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bs&&r.locale!=="ko"?null:r.data;default:return null}}var FC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!FC[s.type]:r==="textarea"}function cv(s,r,o,c){Hi?Vs?Vs.push(c):Vs=[c]:Hi=c,r=Oh(r,"onChange"),0<r.length&&(o=new Ps("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var Ul=null,Bl=null;function HC(s){Gx(s,0)}function Yu(s){var r=Cn(s);if(Gr(r))return s}function uv(s,r){if(s==="change")return r}var hv=!1;if(Bn){var Bf;if(Bn){var zf="oninput"in document;if(!zf){var dv=document.createElement("div");dv.setAttribute("oninput","return;"),zf=typeof dv.oninput=="function"}Bf=zf}else Bf=!1;hv=Bf&&(!document.documentMode||9<document.documentMode)}function fv(){Ul&&(Ul.detachEvent("onpropertychange",mv),Bl=Ul=null)}function mv(s){if(s.propertyName==="value"&&Yu(Bl)){var r=[];cv(r,Bl,s,Un(s)),qi(HC,r)}}function qC(s,r,o){s==="focusin"?(fv(),Ul=r,Bl=o,Ul.attachEvent("onpropertychange",mv)):s==="focusout"&&fv()}function GC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yu(Bl)}function $C(s,r){if(s==="click")return Yu(r)}function KC(s,r){if(s==="input"||s==="change")return Yu(r)}function YC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Nn=typeof Object.is=="function"?Object.is:YC;function zl(s,r){if(Nn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!St.call(r,f)||!Nn(s[f],r[f]))return!1}return!0}function pv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function gv(s,r){var o=pv(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=pv(o)}}function yv(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?yv(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function vv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=js(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=js(s.document)}return r}function Ff(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var QC=Bn&&"documentMode"in document&&11>=document.documentMode,eo=null,Hf=null,Fl=null,qf=!1;function bv(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qf||eo==null||eo!==js(c)||(c=eo,"selectionStart"in c&&Ff(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Fl&&zl(Fl,c)||(Fl=c,c=Oh(Hf,"onSelect"),0<c.length&&(r=new Ps("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=eo)))}function ea(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var to={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Gf={},xv={};Bn&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function ta(s){if(Gf[s])return Gf[s];if(!to[s])return s;var r=to[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in xv)return Gf[s]=r[o];return s}var _v=ta("animationend"),Tv=ta("animationiteration"),wv=ta("animationstart"),XC=ta("transitionrun"),WC=ta("transitionstart"),JC=ta("transitioncancel"),Ev=ta("transitionend"),Sv=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function us(s,r){Sv.set(s,r),Ds(r,[s])}var Qu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Fn=[],no=0,Kf=0;function Xu(){for(var s=no,r=Kf=no=0;r<s;){var o=Fn[r];Fn[r++]=null;var c=Fn[r];Fn[r++]=null;var f=Fn[r];Fn[r++]=null;var g=Fn[r];if(Fn[r++]=null,c!==null&&f!==null){var _=c.pending;_===null?f.next=f:(f.next=_.next,_.next=f),c.pending=f}g!==0&&Av(o,f,g)}}function Wu(s,r,o,c){Fn[no++]=s,Fn[no++]=r,Fn[no++]=o,Fn[no++]=c,Kf|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Yf(s,r,o,c){return Wu(s,r,o,c),Ju(s)}function na(s,r){return Wu(s,null,null,r),Ju(s)}function Av(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var f=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(f=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,f&&r!==null&&(f=31-xt(o),s=g.hiddenUpdates,c=s[f],c===null?s[f]=[r]:c.push(r),r.lane=o|536870912),g):null}function Ju(s){if(50<uc)throw uc=0,sp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var so={};function ZC(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(s,r,o,c){return new ZC(s,r,o,c)}function Qf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function li(s,r){var o=s.alternate;return o===null?(o=kn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Cv(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Zu(s,r,o,c,f,g){var _=0;if(c=s,typeof s=="function")Qf(s)&&(_=1);else if(typeof s=="string")_=iN(s,o,le.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=kn(31,o,r,f),s.elementType=C,s.lanes=g,s;case P:return sa(o.children,f,g,r);case L:_=8,f|=24;break;case z:return s=kn(12,o,r,f|2),s.elementType=z,s.lanes=g,s;case ae:return s=kn(13,o,r,f),s.elementType=ae,s.lanes=g,s;case ue:return s=kn(19,o,r,f),s.elementType=ue,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:_=10;break e;case H:_=9;break e;case re:_=11;break e;case D:_=14;break e;case E:_=16,c=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=kn(_,o,r,f),r.elementType=s,r.type=c,r.lanes=g,r}function sa(s,r,o,c){return s=kn(7,s,c,r),s.lanes=o,s}function Xf(s,r,o){return s=kn(6,s,null,r),s.lanes=o,s}function Rv(s){var r=kn(18,null,null,0);return r.stateNode=s,r}function Wf(s,r,o){return r=kn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Nv=new WeakMap;function Hn(s,r){if(typeof s=="object"&&s!==null){var o=Nv.get(s);return o!==void 0?o:(r={value:s,source:r,stack:bl(r)},Nv.set(s,r),r)}return{value:s,source:r,stack:bl(r)}}var io=[],ro=0,eh=null,Hl=0,qn=[],Gn=0,Yi=null,zs=1,Fs="";function ci(s,r){io[ro++]=Hl,io[ro++]=eh,eh=s,Hl=r}function kv(s,r,o){qn[Gn++]=zs,qn[Gn++]=Fs,qn[Gn++]=Yi,Yi=s;var c=zs;s=Fs;var f=32-xt(c)-1;c&=~(1<<f),o+=1;var g=32-xt(r)+f;if(30<g){var _=f-f%5;g=(c&(1<<_)-1).toString(32),c>>=_,f-=_,zs=1<<32-xt(r)+f|o<<f|c,Fs=g+s}else zs=1<<g|o<<f|c,Fs=s}function Jf(s){s.return!==null&&(ci(s,1),kv(s,1,0))}function Zf(s){for(;s===eh;)eh=io[--ro],io[ro]=null,Hl=io[--ro],io[ro]=null;for(;s===Yi;)Yi=qn[--Gn],qn[Gn]=null,Fs=qn[--Gn],qn[Gn]=null,zs=qn[--Gn],qn[Gn]=null}function Iv(s,r){qn[Gn++]=zs,qn[Gn++]=Fs,qn[Gn++]=Yi,zs=r.id,Fs=r.overflow,Yi=s}var Xt=null,lt=null,qe=!1,Qi=null,$n=!1,em=Error(i(519));function Xi(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(Hn(r,s)),em}function Dv(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Ct]=s,r[qt]=c,o){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(o=0;o<dc.length;o++)Le(dc[o],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),Mu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),zi(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Qx(r.textContent,o)?(c.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),c.onScroll!=null&&Le("scroll",r),c.onScrollEnd!=null&&Le("scrollend",r),c.onClick!=null&&(r.onclick=rs),r=!0):r=!1,r||Xi(s,!0)}function Mv(s){for(Xt=s.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Xt=Xt.return}}function ao(s){if(s!==Xt)return!1;if(!qe)return Mv(s),qe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||vp(s.type,s.memoizedProps)),o=!o),o&&lt&&Xi(s),Mv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));lt=i_(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));lt=i_(s)}else r===27?(r=lt,ur(s.type)?(s=wp,wp=null,lt=s):lt=r):lt=Xt?Yn(s.stateNode.nextSibling):null;return!0}function ia(){lt=Xt=null,qe=!1}function tm(){var s=Qi;return s!==null&&(En===null?En=s:En.push.apply(En,s),Qi=null),s}function ql(s){Qi===null?Qi=[s]:Qi.push(s)}var nm=U(null),ra=null,ui=null;function Wi(s,r,o){te(nm,r._currentValue),r._currentValue=o}function hi(s){s._currentValue=nm.current,ee(nm)}function sm(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function im(s,r,o,c){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var g=f.dependencies;if(g!==null){var _=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var O=0;O<r.length;O++)if(S.context===r[O]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),sm(g.return,o,s),c||(_=null);break e}g=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=o,g=_.alternate,g!==null&&(g.lanes|=o),sm(_,o,s),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===s){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function oo(s,r,o,c){s=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var S=f.type;Nn(f.pendingProps.value,_.value)||(s!==null?s.push(S):s=[S])}}else if(f===Oe.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(yc):s=[yc])}f=f.return}s!==null&&im(r,s,o,c),r.flags|=262144}function th(s){for(s=s.firstContext;s!==null;){if(!Nn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function aa(s){ra=s,ui=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Wt(s){return jv(ra,s)}function nh(s,r){return ra===null&&aa(s),jv(s,r)}function jv(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ui===null){if(s===null)throw Error(i(308));ui=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ui=ui.next=r;return o}var eR=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},tR=t.unstable_scheduleCallback,nR=t.unstable_NormalPriority,kt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new eR,data:new Map,refCount:0}}function Gl(s){s.refCount--,s.refCount===0&&tR(nR,function(){s.controller.abort()})}var $l=null,am=0,lo=0,co=null;function sR(s,r){if($l===null){var o=$l=[];am=0,lo=cp(),co={status:"pending",value:void 0,then:function(c){o.push(c)}}}return am++,r.then(Vv,Vv),r}function Vv(){if(--am===0&&$l!==null){co!==null&&(co.status="fulfilled");var s=$l;$l=null,lo=0,co=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function iR(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Ov=W.S;W.S=function(s,r){bx=dn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&sR(s,r),Ov!==null&&Ov(s,r)};var oa=U(null);function om(){var s=oa.current;return s!==null?s:rt.pooledCache}function sh(s,r){r===null?te(oa,oa.current):te(oa,r.pool)}function Pv(){var s=om();return s===null?null:{parent:kt._currentValue,pool:s}}var uo=Error(i(460)),lm=Error(i(474)),ih=Error(i(542)),rh={then:function(){}};function Lv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Uv(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(rs,rs),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,zv(s),s;default:if(typeof r.status=="string")r.then(rs,rs);else{if(s=rt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,zv(s),s}throw ca=r,uo}}function la(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ca=o,uo):o}}var ca=null;function Bv(){if(ca===null)throw Error(i(459));var s=ca;return ca=null,s}function zv(s){if(s===uo||s===ih)throw Error(i(483))}var ho=null,Kl=0;function ah(s){var r=Kl;return Kl+=1,ho===null&&(ho=[]),Uv(ho,s,r)}function Yl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function oh(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Fv(s){function r(F,B){if(s){var G=F.deletions;G===null?(F.deletions=[B],F.flags|=16):G.push(B)}}function o(F,B){if(!s)return null;for(;B!==null;)r(F,B),B=B.sibling;return null}function c(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function f(F,B){return F=li(F,B),F.index=0,F.sibling=null,F}function g(F,B,G){return F.index=G,s?(G=F.alternate,G!==null?(G=G.index,G<B?(F.flags|=67108866,B):G):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function _(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function S(F,B,G,Z){return B===null||B.tag!==6?(B=Xf(G,F.mode,Z),B.return=F,B):(B=f(B,G),B.return=F,B)}function O(F,B,G,Z){var ve=G.type;return ve===P?J(F,B,G.props.children,Z,G.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===E&&la(ve)===B.type)?(B=f(B,G.props),Yl(B,G),B.return=F,B):(B=Zu(G.type,G.key,G.props,null,F.mode,Z),Yl(B,G),B.return=F,B)}function $(F,B,G,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Wf(G,F.mode,Z),B.return=F,B):(B=f(B,G.children||[]),B.return=F,B)}function J(F,B,G,Z,ve){return B===null||B.tag!==7?(B=sa(G,F.mode,Z,ve),B.return=F,B):(B=f(B,G),B.return=F,B)}function ne(F,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Xf(""+B,F.mode,G),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return G=Zu(B.type,B.key,B.props,null,F.mode,G),Yl(G,B),G.return=F,G;case j:return B=Wf(B,F.mode,G),B.return=F,B;case E:return B=la(B),ne(F,B,G)}if(Ve(B)||V(B))return B=sa(B,F.mode,G,null),B.return=F,B;if(typeof B.then=="function")return ne(F,ah(B),G);if(B.$$typeof===K)return ne(F,nh(F,B),G);oh(F,B)}return null}function Y(F,B,G,Z){var ve=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:S(F,B,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===ve?O(F,B,G,Z):null;case j:return G.key===ve?$(F,B,G,Z):null;case E:return G=la(G),Y(F,B,G,Z)}if(Ve(G)||V(G))return ve!==null?null:J(F,B,G,Z,null);if(typeof G.then=="function")return Y(F,B,ah(G),Z);if(G.$$typeof===K)return Y(F,B,nh(F,G),Z);oh(F,G)}return null}function X(F,B,G,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return F=F.get(G)||null,S(B,F,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return F=F.get(Z.key===null?G:Z.key)||null,O(B,F,Z,ve);case j:return F=F.get(Z.key===null?G:Z.key)||null,$(B,F,Z,ve);case E:return Z=la(Z),X(F,B,G,Z,ve)}if(Ve(Z)||V(Z))return F=F.get(G)||null,J(B,F,Z,ve,null);if(typeof Z.then=="function")return X(F,B,G,ah(Z),ve);if(Z.$$typeof===K)return X(F,B,G,nh(B,Z),ve);oh(B,Z)}return null}function me(F,B,G,Z){for(var ve=null,$e=null,ge=B,je=B=0,Be=null;ge!==null&&je<G.length;je++){ge.index>je?(Be=ge,ge=null):Be=ge.sibling;var Ke=Y(F,ge,G[je],Z);if(Ke===null){ge===null&&(ge=Be);break}s&&ge&&Ke.alternate===null&&r(F,ge),B=g(Ke,B,je),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke,ge=Be}if(je===G.length)return o(F,ge),qe&&ci(F,je),ve;if(ge===null){for(;je<G.length;je++)ge=ne(F,G[je],Z),ge!==null&&(B=g(ge,B,je),$e===null?ve=ge:$e.sibling=ge,$e=ge);return qe&&ci(F,je),ve}for(ge=c(ge);je<G.length;je++)Be=X(ge,F,je,G[je],Z),Be!==null&&(s&&Be.alternate!==null&&ge.delete(Be.key===null?je:Be.key),B=g(Be,B,je),$e===null?ve=Be:$e.sibling=Be,$e=Be);return s&&ge.forEach(function(pr){return r(F,pr)}),qe&&ci(F,je),ve}function _e(F,B,G,Z){if(G==null)throw Error(i(151));for(var ve=null,$e=null,ge=B,je=B=0,Be=null,Ke=G.next();ge!==null&&!Ke.done;je++,Ke=G.next()){ge.index>je?(Be=ge,ge=null):Be=ge.sibling;var pr=Y(F,ge,Ke.value,Z);if(pr===null){ge===null&&(ge=Be);break}s&&ge&&pr.alternate===null&&r(F,ge),B=g(pr,B,je),$e===null?ve=pr:$e.sibling=pr,$e=pr,ge=Be}if(Ke.done)return o(F,ge),qe&&ci(F,je),ve;if(ge===null){for(;!Ke.done;je++,Ke=G.next())Ke=ne(F,Ke.value,Z),Ke!==null&&(B=g(Ke,B,je),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke);return qe&&ci(F,je),ve}for(ge=c(ge);!Ke.done;je++,Ke=G.next())Ke=X(ge,F,je,Ke.value,Z),Ke!==null&&(s&&Ke.alternate!==null&&ge.delete(Ke.key===null?je:Ke.key),B=g(Ke,B,je),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke);return s&&ge.forEach(function(pN){return r(F,pN)}),qe&&ci(F,je),ve}function it(F,B,G,Z){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var ve=G.key;B!==null;){if(B.key===ve){if(ve=G.type,ve===P){if(B.tag===7){o(F,B.sibling),Z=f(B,G.props.children),Z.return=F,F=Z;break e}}else if(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===E&&la(ve)===B.type){o(F,B.sibling),Z=f(B,G.props),Yl(Z,G),Z.return=F,F=Z;break e}o(F,B);break}else r(F,B);B=B.sibling}G.type===P?(Z=sa(G.props.children,F.mode,Z,G.key),Z.return=F,F=Z):(Z=Zu(G.type,G.key,G.props,null,F.mode,Z),Yl(Z,G),Z.return=F,F=Z)}return _(F);case j:e:{for(ve=G.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){o(F,B.sibling),Z=f(B,G.children||[]),Z.return=F,F=Z;break e}else{o(F,B);break}else r(F,B);B=B.sibling}Z=Wf(G,F.mode,Z),Z.return=F,F=Z}return _(F);case E:return G=la(G),it(F,B,G,Z)}if(Ve(G))return me(F,B,G,Z);if(V(G)){if(ve=V(G),typeof ve!="function")throw Error(i(150));return G=ve.call(G),_e(F,B,G,Z)}if(typeof G.then=="function")return it(F,B,ah(G),Z);if(G.$$typeof===K)return it(F,B,nh(F,G),Z);oh(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(o(F,B.sibling),Z=f(B,G),Z.return=F,F=Z):(o(F,B),Z=Xf(G,F.mode,Z),Z.return=F,F=Z),_(F)):o(F,B)}return function(F,B,G,Z){try{Kl=0;var ve=it(F,B,G,Z);return ho=null,ve}catch(ge){if(ge===uo||ge===ih)throw ge;var $e=kn(29,ge,null,F.mode);return $e.lanes=Z,$e.return=F,$e}}}var ua=Fv(!0),Hv=Fv(!1),Ji=!1;function cm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Zi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function er(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=Ju(s),Av(s,null,o),r}return Wu(s,c,r,o),Ju(s)}function Ql(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,Tl(s,o)}}function hm(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var dm=!1;function Xl(){if(dm){var s=co;if(s!==null)throw s}}function Wl(s,r,o,c){dm=!1;var f=s.updateQueue;Ji=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,$=O.next;O.next=null,_===null?g=$:_.next=$,_=O;var J=s.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==_&&(S===null?J.firstBaseUpdate=$:S.next=$,J.lastBaseUpdate=O))}if(g!==null){var ne=f.baseState;_=0,J=$=O=null,S=g;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(Ue&Y)===Y:(c&Y)===Y){Y!==0&&Y===lo&&(dm=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=s,_e=S;Y=r;var it=o;switch(_e.tag){case 1:if(me=_e.payload,typeof me=="function"){ne=me.call(it,ne,Y);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=_e.payload,Y=typeof me=="function"?me.call(it,ne,Y):me,Y==null)break e;ne=x({},ne,Y);break e;case 2:Ji=!0}}Y=S.callback,Y!==null&&(s.flags|=64,X&&(s.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?($=J=X,O=ne):J=J.next=X,_|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(O=ne),f.baseState=O,f.firstBaseUpdate=$,f.lastBaseUpdate=J,g===null&&(f.shared.lanes=0),rr|=_,s.lanes=_,s.memoizedState=ne}}function qv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Gv(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)qv(o[s],r)}var fo=U(null),lh=U(0);function $v(s,r){s=xi,te(lh,s),te(fo,r),xi=s|r.baseLanes}function fm(){te(lh,xi),te(fo,fo.current)}function mm(){xi=lh.current,ee(fo),ee(lh)}var In=U(null),Kn=null;function tr(s){var r=s.alternate;te(Tt,Tt.current&1),te(In,s),Kn===null&&(r===null||fo.current!==null||r.memoizedState!==null)&&(Kn=s)}function pm(s){te(Tt,Tt.current),te(In,s),Kn===null&&(Kn=s)}function Kv(s){s.tag===22?(te(Tt,Tt.current),te(In,s),Kn===null&&(Kn=s)):nr()}function nr(){te(Tt,Tt.current),te(In,In.current)}function Dn(s){ee(In),Kn===s&&(Kn=null),ee(Tt)}var Tt=U(0);function ch(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||_p(o)||Tp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var di=0,Me=null,nt=null,It=null,uh=!1,mo=!1,ha=!1,hh=0,Jl=0,po=null,rR=0;function yt(){throw Error(i(321))}function gm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Nn(s[o],r[o]))return!1;return!0}function ym(s,r,o,c,f,g){return di=g,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=s===null||s.memoizedState===null?kb:Dm,ha=!1,g=o(c,f),ha=!1,mo&&(g=Qv(r,o,c,f)),Yv(s),g}function Yv(s){W.H=tc;var r=nt!==null&&nt.next!==null;if(di=0,It=nt=Me=null,uh=!1,Jl=0,po=null,r)throw Error(i(300));s===null||Dt||(s=s.dependencies,s!==null&&th(s)&&(Dt=!0))}function Qv(s,r,o,c){Me=s;var f=0;do{if(mo&&(po=null),Jl=0,mo=!1,25<=f)throw Error(i(301));if(f+=1,It=nt=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=Ib,g=r(o,c)}while(mo);return g}function aR(){var s=W.H,r=s.useState()[0];return r=typeof r.then=="function"?Zl(r):r,s=s.useState()[0],(nt!==null?nt.memoizedState:null)!==s&&(Me.flags|=1024),r}function vm(){var s=hh!==0;return hh=0,s}function bm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function xm(s){if(uh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}uh=!1}di=0,It=nt=Me=null,mo=!1,Jl=hh=0,po=null}function mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Me.memoizedState=It=s:It=It.next=s,It}function wt(){if(nt===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=nt.next;var r=It===null?Me.memoizedState:It.next;if(r!==null)It=r,nt=s;else{if(s===null)throw Me.alternate===null?Error(i(467)):Error(i(310));nt=s,s={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},It===null?Me.memoizedState=It=s:It=It.next=s}return It}function dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(s){var r=Jl;return Jl+=1,po===null&&(po=[]),s=Uv(po,s,r),r=Me,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?kb:Dm),s}function fh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Zl(s);if(s.$$typeof===K)return Wt(s)}throw Error(i(438,String(s)))}function _m(s){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=dh(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=M;return r.index++,o}function fi(s,r){return typeof r=="function"?r(s):r}function mh(s){var r=wt();return Tm(r,nt,s)}function Tm(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var f=s.baseQueue,g=c.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}r.baseQueue=f=g,c.pending=null}if(g=s.baseState,f===null)s.memoizedState=g;else{r=f.next;var S=_=null,O=null,$=r,J=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(Ue&ne)===ne:(di&ne)===ne){var Y=$.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===lo&&(J=!0);else if((di&Y)===Y){$=$.next,Y===lo&&(J=!0);continue}else ne={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=ne,_=g):O=O.next=ne,Me.lanes|=Y,rr|=Y;ne=$.action,ha&&o(g,ne),g=$.hasEagerState?$.eagerState:o(g,ne)}else Y={lane:ne,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=Y,_=g):O=O.next=Y,Me.lanes|=ne,rr|=ne;$=$.next}while($!==null&&$!==r);if(O===null?_=g:O.next=S,!Nn(g,s.memoizedState)&&(Dt=!0,J&&(o=co,o!==null)))throw o;s.memoizedState=g,s.baseState=_,s.baseQueue=O,c.lastRenderedState=g}return f===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function wm(s){var r=wt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do g=s(g,_.action),_=_.next;while(_!==f);Nn(g,r.memoizedState)||(Dt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Xv(s,r,o){var c=Me,f=wt(),g=qe;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!Nn((nt||f).memoizedState,o);if(_&&(f.memoizedState=o,Dt=!0),f=f.queue,Am(Zv.bind(null,c,f,s),[s]),f.getSnapshot!==r||_||It!==null&&It.memoizedState.tag&1){if(c.flags|=2048,go(9,{destroy:void 0},Jv.bind(null,c,f,o,r),null),rt===null)throw Error(i(349));g||(di&127)!==0||Wv(c,r,o)}return o}function Wv(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=dh(),Me.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Jv(s,r,o,c){r.value=o,r.getSnapshot=c,eb(r)&&tb(s)}function Zv(s,r,o){return o(function(){eb(r)&&tb(s)})}function eb(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Nn(s,o)}catch{return!0}}function tb(s){var r=na(s,2);r!==null&&Sn(r,s,2)}function Em(s){var r=mn();if(typeof s=="function"){var o=s;if(s=o(),ha){Pn(!0);try{o()}finally{Pn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:s},r}function nb(s,r,o,c){return s.baseState=o,Tm(s,nt,typeof c=="function"?c:fi)}function oR(s,r,o,c,f){if(yh(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};W.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,sb(r,g)):(g.next=o.next,r.pending=o.next=g)}}function sb(s,r){var o=r.action,c=r.payload,f=s.state;if(r.isTransition){var g=W.T,_={};W.T=_;try{var S=o(f,c),O=W.S;O!==null&&O(_,S),ib(s,r,S)}catch($){Sm(s,r,$)}finally{g!==null&&_.types!==null&&(g.types=_.types),W.T=g}}else try{g=o(f,c),ib(s,r,g)}catch($){Sm(s,r,$)}}function ib(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){rb(s,r,c)},function(c){return Sm(s,r,c)}):rb(s,r,o)}function rb(s,r,o){r.status="fulfilled",r.value=o,ab(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,sb(s,o)))}function Sm(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,ab(r),r=r.next;while(r!==c)}s.action=null}function ab(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function ob(s,r){return r}function lb(s,r){if(qe){var o=rt.formState;if(o!==null){e:{var c=Me;if(qe){if(lt){t:{for(var f=lt,g=$n;f.nodeType!==8;){if(!g){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){lt=Yn(f.nextSibling),c=f.data==="F!";break e}}Xi(c)}c=!1}c&&(r=o[0])}}return o=mn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ob,lastRenderedState:r},o.queue=c,o=Cb.bind(null,Me,c),c.dispatch=o,c=Em(!1),g=Im.bind(null,Me,!1,c.queue),c=mn(),f={state:r,dispatch:null,action:s,pending:null},c.queue=f,o=oR.bind(null,Me,f,g,o),f.dispatch=o,c.memoizedState=s,[r,o,!1]}function cb(s){var r=wt();return ub(r,nt,s)}function ub(s,r,o){if(r=Tm(s,r,ob)[0],s=mh(fi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Zl(r)}catch(_){throw _===uo?ih:_}else c=r;r=wt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,go(9,{destroy:void 0},lR.bind(null,f,o),null)),[c,g,s]}function lR(s,r){s.action=r}function hb(s){var r=wt(),o=nt;if(o!==null)return ub(r,o,s);wt(),r=r.memoizedState,o=wt();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function go(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=Me.updateQueue,r===null&&(r=dh(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function db(){return wt().memoizedState}function ph(s,r,o,c){var f=mn();Me.flags|=s,f.memoizedState=go(1|r,{destroy:void 0},o,c===void 0?null:c)}function gh(s,r,o,c){var f=wt();c=c===void 0?null:c;var g=f.memoizedState.inst;nt!==null&&c!==null&&gm(c,nt.memoizedState.deps)?f.memoizedState=go(r,g,o,c):(Me.flags|=s,f.memoizedState=go(1|r,g,o,c))}function fb(s,r){ph(8390656,8,s,r)}function Am(s,r){gh(2048,8,s,r)}function cR(s){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=dh(),Me.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function mb(s){var r=wt().memoizedState;return cR({ref:r,nextImpl:s}),function(){if((Qe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function pb(s,r){return gh(4,2,s,r)}function gb(s,r){return gh(4,4,s,r)}function yb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function vb(s,r,o){o=o!=null?o.concat([s]):null,gh(4,4,yb.bind(null,r,s),o)}function Cm(){}function bb(s,r){var o=wt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&gm(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function xb(s,r){var o=wt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&gm(r,c[1]))return c[0];if(c=s(),ha){Pn(!0);try{s()}finally{Pn(!1)}}return o.memoizedState=[c,r],c}function Rm(s,r,o){return o===void 0||(di&1073741824)!==0&&(Ue&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=_x(),Me.lanes|=s,rr|=s,o)}function _b(s,r,o,c){return Nn(o,r)?o:fo.current!==null?(s=Rm(s,o,c),Nn(s,r)||(Dt=!0),s):(di&42)===0||(di&1073741824)!==0&&(Ue&261930)===0?(Dt=!0,s.memoizedState=o):(s=_x(),Me.lanes|=s,rr|=s,r)}function Tb(s,r,o,c,f){var g=oe.p;oe.p=g!==0&&8>g?g:8;var _=W.T,S={};W.T=S,Im(s,!1,r,o);try{var O=f(),$=W.S;if($!==null&&$(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=iR(O,c);ec(s,r,J,Vn(s))}else ec(s,r,c,Vn(s))}catch(ne){ec(s,r,{then:function(){},status:"rejected",reason:ne},Vn())}finally{oe.p=g,_!==null&&S.types!==null&&(_.types=S.types),W.T=_}}function uR(){}function Nm(s,r,o,c){if(s.tag!==5)throw Error(i(476));var f=wb(s).queue;Tb(s,f,r,he,o===null?uR:function(){return Eb(s),o(c)})}function wb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Eb(s){var r=wb(s);r.next===null&&(r=s.alternate.memoizedState),ec(s,r.next.queue,{},Vn())}function km(){return Wt(yc)}function Sb(){return wt().memoizedState}function Ab(){return wt().memoizedState}function hR(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Vn();s=Zi(o);var c=er(r,s,o);c!==null&&(Sn(c,r,o),Ql(c,r,o)),r={cache:rm()},s.payload=r;return}r=r.return}}function dR(s,r,o){var c=Vn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},yh(s)?Rb(r,o):(o=Yf(s,r,o,c),o!==null&&(Sn(o,s,c),Nb(o,r,c)))}function Cb(s,r,o){var c=Vn();ec(s,r,o,c)}function ec(s,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(yh(s))Rb(r,f);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,S=g(_,o);if(f.hasEagerState=!0,f.eagerState=S,Nn(S,_))return Wu(s,r,f,0),rt===null&&Xu(),!1}catch{}if(o=Yf(s,r,f,c),o!==null)return Sn(o,s,c),Nb(o,r,c),!0}return!1}function Im(s,r,o,c){if(c={lane:2,revertLane:cp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yh(s)){if(r)throw Error(i(479))}else r=Yf(s,o,c,2),r!==null&&Sn(r,s,2)}function yh(s){var r=s.alternate;return s===Me||r!==null&&r===Me}function Rb(s,r){mo=uh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Nb(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,Tl(s,o)}}var tc={readContext:Wt,use:fh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};tc.useEffectEvent=yt;var kb={readContext:Wt,use:fh,useCallback:function(s,r){return mn().memoizedState=[s,r===void 0?null:r],s},useContext:Wt,useEffect:fb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,ph(4194308,4,yb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return ph(4194308,4,s,r)},useInsertionEffect:function(s,r){ph(4,2,s,r)},useMemo:function(s,r){var o=mn();r=r===void 0?null:r;var c=s();if(ha){Pn(!0);try{s()}finally{Pn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=mn();if(o!==void 0){var f=o(r);if(ha){Pn(!0);try{o(r)}finally{Pn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},c.queue=s,s=s.dispatch=dR.bind(null,Me,s),[c.memoizedState,s]},useRef:function(s){var r=mn();return s={current:s},r.memoizedState=s},useState:function(s){s=Em(s);var r=s.queue,o=Cb.bind(null,Me,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Cm,useDeferredValue:function(s,r){var o=mn();return Rm(o,s,r)},useTransition:function(){var s=Em(!1);return s=Tb.bind(null,Me,s.queue,!0,!1),mn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=Me,f=mn();if(qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),rt===null)throw Error(i(349));(Ue&127)!==0||Wv(c,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,fb(Zv.bind(null,c,g,s),[s]),c.flags|=2048,go(9,{destroy:void 0},Jv.bind(null,c,g,o,r),null),o},useId:function(){var s=mn(),r=rt.identifierPrefix;if(qe){var o=Fs,c=zs;o=(c&~(1<<32-xt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=hh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=rR++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:km,useFormState:lb,useActionState:lb,useOptimistic:function(s){var r=mn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Im.bind(null,Me,!0,o),o.dispatch=r,[s,r]},useMemoCache:_m,useCacheRefresh:function(){return mn().memoizedState=hR.bind(null,Me)},useEffectEvent:function(s){var r=mn(),o={impl:s};return r.memoizedState=o,function(){if((Qe&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Dm={readContext:Wt,use:fh,useCallback:bb,useContext:Wt,useEffect:Am,useImperativeHandle:vb,useInsertionEffect:pb,useLayoutEffect:gb,useMemo:xb,useReducer:mh,useRef:db,useState:function(){return mh(fi)},useDebugValue:Cm,useDeferredValue:function(s,r){var o=wt();return _b(o,nt.memoizedState,s,r)},useTransition:function(){var s=mh(fi)[0],r=wt().memoizedState;return[typeof s=="boolean"?s:Zl(s),r]},useSyncExternalStore:Xv,useId:Sb,useHostTransitionStatus:km,useFormState:cb,useActionState:cb,useOptimistic:function(s,r){var o=wt();return nb(o,nt,s,r)},useMemoCache:_m,useCacheRefresh:Ab};Dm.useEffectEvent=mb;var Ib={readContext:Wt,use:fh,useCallback:bb,useContext:Wt,useEffect:Am,useImperativeHandle:vb,useInsertionEffect:pb,useLayoutEffect:gb,useMemo:xb,useReducer:wm,useRef:db,useState:function(){return wm(fi)},useDebugValue:Cm,useDeferredValue:function(s,r){var o=wt();return nt===null?Rm(o,s,r):_b(o,nt.memoizedState,s,r)},useTransition:function(){var s=wm(fi)[0],r=wt().memoizedState;return[typeof s=="boolean"?s:Zl(s),r]},useSyncExternalStore:Xv,useId:Sb,useHostTransitionStatus:km,useFormState:hb,useActionState:hb,useOptimistic:function(s,r){var o=wt();return nt!==null?nb(o,nt,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:_m,useCacheRefresh:Ab};Ib.useEffectEvent=mb;function Mm(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:x({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var jm={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=Vn(),f=Zi(c);f.payload=r,o!=null&&(f.callback=o),r=er(s,f,c),r!==null&&(Sn(r,s,c),Ql(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=Vn(),f=Zi(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=er(s,f,c),r!==null&&(Sn(r,s,c),Ql(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Vn(),c=Zi(o);c.tag=2,r!=null&&(c.callback=r),r=er(s,c,o),r!==null&&(Sn(r,s,o),Ql(r,s,o))}};function Db(s,r,o,c,f,g,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,_):r.prototype&&r.prototype.isPureReactComponent?!zl(o,c)||!zl(f,g):!0}function Mb(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&jm.enqueueReplaceState(r,r.state,null)}function da(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=x({},o));for(var f in s)o[f]===void 0&&(o[f]=s[f])}return o}function jb(s){Qu(s)}function Vb(s){console.error(s)}function Ob(s){Qu(s)}function vh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Pb(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Vm(s,r,o){return o=Zi(o),o.tag=3,o.payload={element:null},o.callback=function(){vh(s,r)},o}function Lb(s){return s=Zi(s),s.tag=3,s}function Ub(s,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;s.payload=function(){return f(g)},s.callback=function(){Pb(r,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Pb(r,o,c),typeof f!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function fR(s,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&oo(r,o,f,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Kn===null?kh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===rh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),ap(s,c,f)),!1;case 22:return o.flags|=65536,c===rh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),ap(s,c,f)),!1}throw Error(i(435,o.tag))}return ap(s,c,f),kh(),!1}if(qe)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==em&&(s=Error(i(422),{cause:c}),ql(Hn(s,o)))):(c!==em&&(r=Error(i(423),{cause:c}),ql(Hn(r,o))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,c=Hn(c,o),f=Vm(s.stateNode,c,f),hm(s,f),vt!==4&&(vt=2)),!1;var g=Error(i(520),{cause:c});if(g=Hn(g,o),cc===null?cc=[g]:cc.push(g),vt!==4&&(vt=2),r===null)return!0;c=Hn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=f&-f,o.lanes|=s,s=Vm(o.stateNode,c,s),hm(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ar===null||!ar.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Lb(f),Ub(f,s,o,c),hm(o,f),!1}o=o.return}while(o!==null);return!1}var Om=Error(i(461)),Dt=!1;function Jt(s,r,o,c){r.child=s===null?Hv(r,null,o,c):ua(r,s.child,o,c)}function Bb(s,r,o,c,f){o=o.render;var g=r.ref;if("ref"in c){var _={};for(var S in c)S!=="ref"&&(_[S]=c[S])}else _=c;return aa(r),c=ym(s,r,o,_,g,f),S=vm(),s!==null&&!Dt?(bm(s,r,f),mi(s,r,f)):(qe&&S&&Jf(r),r.flags|=1,Jt(s,r,c,f),r.child)}function zb(s,r,o,c,f){if(s===null){var g=o.type;return typeof g=="function"&&!Qf(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,Fb(s,r,g,c,f)):(s=Zu(o.type,null,c,r,r.mode,f),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!qm(s,f)){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:zl,o(_,c)&&s.ref===r.ref)return mi(s,r,f)}return r.flags|=1,s=li(g,c),s.ref=r.ref,s.return=r,r.child=s}function Fb(s,r,o,c,f){if(s!==null){var g=s.memoizedProps;if(zl(g,c)&&s.ref===r.ref)if(Dt=!1,r.pendingProps=c=g,qm(s,f))(s.flags&131072)!==0&&(Dt=!0);else return r.lanes=s.lanes,mi(s,r,f)}return Pm(s,r,o,c,f)}function Hb(s,r,o,c){var f=c.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(c=r.child=s.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~g}else c=0,r.child=null;return qb(s,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&sh(r,g!==null?g.cachePool:null),g!==null?$v(r,g):fm(),Kv(r);else return c=r.lanes=536870912,qb(s,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(sh(r,g.cachePool),$v(r,g),nr(),r.memoizedState=null):(s!==null&&sh(r,null),fm(),nr());return Jt(s,r,f,o),r.child}function nc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function qb(s,r,o,c,f){var g=om();return g=g===null?null:{parent:kt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&sh(r,null),fm(),Kv(r),s!==null&&oo(s,r,c,!0),r.childLanes=f,null}function bh(s,r){return r=_h({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Gb(s,r,o){return ua(r,s.child,null,o),s=bh(r,r.pendingProps),s.flags|=2,Dn(r),r.memoizedState=null,s}function mR(s,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(qe){if(c.mode==="hidden")return s=bh(r,c),r.lanes=536870912,nc(null,s);if(pm(r),(s=lt)?(s=s_(s,$n),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Yi!==null?{id:zs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},o=Rv(s),o.return=r,r.child=o,Xt=r,lt=null)):s=null,s===null)throw Xi(r);return r.lanes=536870912,null}return bh(r,c)}var g=s.memoizedState;if(g!==null){var _=g.dehydrated;if(pm(r),f)if(r.flags&256)r.flags&=-257,r=Gb(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Dt||oo(s,r,o,!1),f=(o&s.childLanes)!==0,Dt||f){if(c=rt,c!==null&&(_=wl(c,o),_!==0&&_!==g.retryLane))throw g.retryLane=_,na(s,_),Sn(c,s,_),Om;kh(),r=Gb(s,r,o)}else s=g.treeContext,lt=Yn(_.nextSibling),Xt=r,qe=!0,Qi=null,$n=!1,s!==null&&Iv(r,s),r=bh(r,c),r.flags|=4096;return r}return s=li(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function xh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Pm(s,r,o,c,f){return aa(r),o=ym(s,r,o,c,void 0,f),c=vm(),s!==null&&!Dt?(bm(s,r,f),mi(s,r,f)):(qe&&c&&Jf(r),r.flags|=1,Jt(s,r,o,f),r.child)}function $b(s,r,o,c,f,g){return aa(r),r.updateQueue=null,o=Qv(r,c,o,f),Yv(s),c=vm(),s!==null&&!Dt?(bm(s,r,g),mi(s,r,g)):(qe&&c&&Jf(r),r.flags|=1,Jt(s,r,o,g),r.child)}function Kb(s,r,o,c,f){if(aa(r),r.stateNode===null){var g=so,_=o.contextType;typeof _=="object"&&_!==null&&(g=Wt(_)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=jm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},cm(r),_=o.contextType,g.context=typeof _=="object"&&_!==null?Wt(_):so,g.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Mm(r,o,_,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&jm.enqueueReplaceState(g,g.state,null),Wl(r,c,g,f),Xl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var S=r.memoizedProps,O=da(o,S);g.props=O;var $=g.context,J=o.contextType;_=so,typeof J=="object"&&J!==null&&(_=Wt(J));var ne=o.getDerivedStateFromProps;J=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||$!==_)&&Mb(r,g,c,_),Ji=!1;var Y=r.memoizedState;g.state=Y,Wl(r,c,g,f),Xl(),$=r.memoizedState,S||Y!==$||Ji?(typeof ne=="function"&&(Mm(r,o,ne,c),$=r.memoizedState),(O=Ji||Db(r,o,O,c,Y,$,_))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=$),g.props=c,g.state=$,g.context=_,c=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,um(s,r),_=r.memoizedProps,J=da(o,_),g.props=J,ne=r.pendingProps,Y=g.context,$=o.contextType,O=so,typeof $=="object"&&$!==null&&(O=Wt($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==ne||Y!==O)&&Mb(r,g,c,O),Ji=!1,Y=r.memoizedState,g.state=Y,Wl(r,c,g,f),Xl();var X=r.memoizedState;_!==ne||Y!==X||Ji||s!==null&&s.dependencies!==null&&th(s.dependencies)?(typeof S=="function"&&(Mm(r,o,S,c),X=r.memoizedState),(J=Ji||Db(r,o,J,c,Y,X,O)||s!==null&&s.dependencies!==null&&th(s.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=X),g.props=c,g.state=X,g.context=O,c=J):(typeof g.componentDidUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,xh(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=ua(r,s.child,null,f),r.child=ua(r,null,o,f)):Jt(s,r,o,f),r.memoizedState=g.state,s=r.child):s=mi(s,r,f),s}function Yb(s,r,o,c){return ia(),r.flags|=256,Jt(s,r,o,c),r.child}var Lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(s){return{baseLanes:s,cachePool:Pv()}}function Bm(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=jn),s}function Qb(s,r,o){var c=r.pendingProps,f=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=s!==null&&s.memoizedState===null?!1:(Tt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(qe){if(f?tr(r):nr(),(s=lt)?(s=s_(s,$n),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Yi!==null?{id:zs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},o=Rv(s),o.return=r,r.child=o,Xt=r,lt=null)):s=null,s===null)throw Xi(r);return Tp(s)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,f?(nr(),f=r.mode,S=_h({mode:"hidden",children:S},f),c=sa(c,f,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=Um(o),c.childLanes=Bm(s,_,o),r.memoizedState=Lm,nc(null,c)):(tr(r),zm(r,S))}var O=s.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(g)r.flags&256?(tr(r),r.flags&=-257,r=Fm(s,r,o)):r.memoizedState!==null?(nr(),r.child=s.child,r.flags|=128,r=null):(nr(),S=c.fallback,f=r.mode,c=_h({mode:"visible",children:c.children},f),S=sa(S,f,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,ua(r,s.child,null,o),c=r.child,c.memoizedState=Um(o),c.childLanes=Bm(s,_,o),r.memoizedState=Lm,r=nc(null,c));else if(tr(r),Tp(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var $=_.dgst;_=$,c=Error(i(419)),c.stack="",c.digest=_,ql({value:c,source:null,stack:null}),r=Fm(s,r,o)}else if(Dt||oo(s,r,o,!1),_=(o&s.childLanes)!==0,Dt||_){if(_=rt,_!==null&&(c=wl(_,o),c!==0&&c!==O.retryLane))throw O.retryLane=c,na(s,c),Sn(_,s,c),Om;_p(S)||kh(),r=Fm(s,r,o)}else _p(S)?(r.flags|=192,r.child=s.child,r=null):(s=O.treeContext,lt=Yn(S.nextSibling),Xt=r,qe=!0,Qi=null,$n=!1,s!==null&&Iv(r,s),r=zm(r,c.children),r.flags|=4096);return r}return f?(nr(),S=c.fallback,f=r.mode,O=s.child,$=O.sibling,c=li(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,$!==null?S=li($,S):(S=sa(S,f,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,nc(null,c),c=r.child,S=s.child.memoizedState,S===null?S=Um(o):(f=S.cachePool,f!==null?(O=kt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Pv(),S={baseLanes:S.baseLanes|o,cachePool:f}),c.memoizedState=S,c.childLanes=Bm(s,_,o),r.memoizedState=Lm,nc(s.child,c)):(tr(r),o=s.child,s=o.sibling,o=li(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function zm(s,r){return r=_h({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function _h(s,r){return s=kn(22,s,null,r),s.lanes=0,s}function Fm(s,r,o){return ua(r,s.child,null,o),s=zm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Xb(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),sm(s.return,r,o)}function Hm(s,r,o,c,f,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:g}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=f,_.treeForkCount=g)}function Wb(s,r,o){var c=r.pendingProps,f=c.revealOrder,g=c.tail;c=c.children;var _=Tt.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,te(Tt,_),Jt(s,r,c,o),c=qe?Hl:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Xb(s,o,r);else if(s.tag===19)Xb(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)s=o.alternate,s!==null&&ch(s)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Hm(r,!1,f,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(s=f.alternate,s!==null&&ch(s)===null){r.child=f;break}s=f.sibling,f.sibling=o,o=f,f=s}Hm(r,!0,o,null,g,c);break;case"together":Hm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function mi(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),rr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(oo(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=li(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=li(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function qm(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&th(s)))}function pR(s,r,o){switch(r.tag){case 3:gt(r,r.stateNode.containerInfo),Wi(r,kt,s.memoizedState.cache),ia();break;case 27:case 5:Lr(r);break;case 4:gt(r,r.stateNode.containerInfo);break;case 10:Wi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,pm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Qb(s,r,o):(tr(r),s=mi(s,r,o),s!==null?s.sibling:null);tr(r);break;case 19:var f=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(oo(s,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return Wb(s,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),te(Tt,Tt.current),c)break;return null;case 22:return r.lanes=0,Hb(s,r,o,r.pendingProps);case 24:Wi(r,kt,s.memoizedState.cache)}return mi(s,r,o)}function Jb(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Dt=!0;else{if(!qm(s,o)&&(r.flags&128)===0)return Dt=!1,pR(s,r,o);Dt=(s.flags&131072)!==0}else Dt=!1,qe&&(r.flags&1048576)!==0&&kv(r,Hl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(s=la(r.elementType),r.type=s,typeof s=="function")Qf(s)?(c=da(s,c),r.tag=1,r=Kb(null,r,s,c,o)):(r.tag=0,r=Pm(null,r,s,c,o));else{if(s!=null){var f=s.$$typeof;if(f===re){r.tag=11,r=Bb(null,r,s,c,o);break e}else if(f===D){r.tag=14,r=zb(null,r,s,c,o);break e}}throw r=we(s)||s,Error(i(306,r,""))}}return r;case 0:return Pm(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=da(c,r.pendingProps),Kb(s,r,c,f,o);case 3:e:{if(gt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;f=g.element,um(s,r),Wl(r,c,null,o);var _=r.memoizedState;if(c=_.cache,Wi(r,kt,c),c!==g.cache&&im(r,[kt],o,!0),Xl(),c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Yb(s,r,c,o);break e}else if(c!==f){f=Hn(Error(i(424)),r),ql(f),r=Yb(s,r,c,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,lt=Yn(s.firstChild),Xt=r,qe=!0,Qi=null,$n=!0,o=Hv(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ia(),c===f){r=mi(s,r,o);break e}Jt(s,r,c,o)}r=r.child}return r;case 26:return xh(s,r),s===null?(o=c_(r.type,null,r.pendingProps,null))?r.memoizedState=o:qe||(o=r.type,s=r.pendingProps,c=Ph(Ce.current).createElement(o),c[Ct]=r,c[qt]=s,Zt(c,o,s),Rt(c),r.stateNode=c):r.memoizedState=c_(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Lr(r),s===null&&qe&&(c=r.stateNode=a_(r.type,r.pendingProps,Ce.current),Xt=r,$n=!0,f=lt,ur(r.type)?(wp=f,lt=Yn(c.firstChild)):lt=f),Jt(s,r,r.pendingProps.children,o),xh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&qe&&((f=c=lt)&&(c=GR(c,r.type,r.pendingProps,$n),c!==null?(r.stateNode=c,Xt=r,lt=Yn(c.firstChild),$n=!1,f=!0):f=!1),f||Xi(r)),Lr(r),f=r.type,g=r.pendingProps,_=s!==null?s.memoizedProps:null,c=g.children,vp(f,g)?c=null:_!==null&&vp(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=ym(s,r,aR,null,null,o),yc._currentValue=f),xh(s,r),Jt(s,r,c,o),r.child;case 6:return s===null&&qe&&((s=o=lt)&&(o=$R(o,r.pendingProps,$n),o!==null?(r.stateNode=o,Xt=r,lt=null,s=!0):s=!1),s||Xi(r)),null;case 13:return Qb(s,r,o);case 4:return gt(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=ua(r,null,c,o):Jt(s,r,c,o),r.child;case 11:return Bb(s,r,r.type,r.pendingProps,o);case 7:return Jt(s,r,r.pendingProps,o),r.child;case 8:return Jt(s,r,r.pendingProps.children,o),r.child;case 12:return Jt(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Wi(r,r.type,c.value),Jt(s,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,aa(r),f=Wt(f),c=c(f),r.flags|=1,Jt(s,r,c,o),r.child;case 14:return zb(s,r,r.type,r.pendingProps,o);case 15:return Fb(s,r,r.type,r.pendingProps,o);case 19:return Wb(s,r,o);case 31:return mR(s,r,o);case 22:return Hb(s,r,o,r.pendingProps);case 24:return aa(r),c=Wt(kt),s===null?(f=om(),f===null&&(f=rt,g=rm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:c,cache:f},cm(r),Wi(r,kt,f)):((s.lanes&o)!==0&&(um(s,r),Wl(r,null,null,o),Xl()),f=s.memoizedState,g=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Wi(r,kt,c)):(c=g.cache,Wi(r,kt,c),c!==f.cache&&im(r,[kt],o,!0))),Jt(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function pi(s){s.flags|=4}function Gm(s,r,o,c,f){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(f&335544128)===f)if(s.stateNode.complete)s.flags|=8192;else if(Sx())s.flags|=8192;else throw ca=rh,lm}else s.flags&=-16777217}function Zb(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!m_(r))if(Sx())s.flags|=8192;else throw ca=rh,lm}function Th(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Ru():536870912,s.lanes|=r,xo|=r)}function sc(s,r){if(!qe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ct(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function gR(s,r,o){var c=r.pendingProps;switch(Zf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),hi(kt),et(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(ao(r)?pi(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,tm())),ct(r),null;case 26:var f=r.type,g=r.memoizedState;return s===null?(pi(r),g!==null?(ct(r),Zb(r,g)):(ct(r),Gm(r,f,null,c,o))):g?g!==s.memoizedState?(pi(r),ct(r),Zb(r,g)):(ct(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&pi(r),ct(r),Gm(r,f,s,c,o)),null;case 27:if(La(r),o=Ce.current,f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&pi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ct(r),null}s=le.current,ao(r)?Dv(r):(s=a_(f,c,o),r.stateNode=s,pi(r))}return ct(r),null;case 5:if(La(r),f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&pi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ct(r),null}if(g=le.current,ao(r))Dv(r);else{var _=Ph(Ce.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?_.createElement(f,{is:c.is}):_.createElement(f)}}g[Ct]=r,g[qt]=c;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=g;e:switch(Zt(g,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&pi(r)}}return ct(r),Gm(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&pi(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ce.current,ao(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,f=Xt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}s[Ct]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Qx(s.nodeValue,o)),s||Xi(r,!0)}else s=Ph(s).createTextNode(c),s[Ct]=r,r.stateNode=s}return ct(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(c=ao(r),o!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ct]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),s=!1}else o=tm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Dn(r),r):(Dn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ct(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=ao(r),c!==null&&c.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ct]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else f=tm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Dn(r),r):(Dn(r),null)}return Dn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Th(r,r.updateQueue),ct(r),null);case 4:return et(),s===null&&fp(r.stateNode.containerInfo),ct(r),null;case 10:return hi(r.type),ct(r),null;case 19:if(ee(Tt),c=r.memoizedState,c===null)return ct(r),null;if(f=(r.flags&128)!==0,g=c.rendering,g===null)if(f)sc(c,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=ch(s),g!==null){for(r.flags|=128,sc(c,!1),s=g.updateQueue,r.updateQueue=s,Th(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Cv(o,s),o=o.sibling;return te(Tt,Tt.current&1|2),qe&&ci(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&dn()>Ch&&(r.flags|=128,f=!0,sc(c,!1),r.lanes=4194304)}else{if(!f)if(s=ch(g),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,Th(r,s),sc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!qe)return ct(r),null}else 2*dn()-c.renderingStartTime>Ch&&o!==536870912&&(r.flags|=128,f=!0,sc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(s=c.last,s!==null?s.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=dn(),s.sibling=null,o=Tt.current,te(Tt,f?o&1|2:o&1),qe&&ci(r,c.treeForkCount),s):(ct(r),null);case 22:case 23:return Dn(r),mm(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),o=r.updateQueue,o!==null&&Th(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&ee(oa),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),hi(kt),ct(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function yR(s,r){switch(Zf(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return hi(kt),et(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return La(r),null;case 31:if(r.memoizedState!==null){if(Dn(r),r.alternate===null)throw Error(i(340));ia()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Dn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ia()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ee(Tt),null;case 4:return et(),null;case 10:return hi(r.type),null;case 22:case 23:return Dn(r),mm(),s!==null&&ee(oa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return hi(kt),null;case 25:return null;default:return null}}function ex(s,r){switch(Zf(r),r.tag){case 3:hi(kt),et();break;case 26:case 27:case 5:La(r);break;case 4:et();break;case 31:r.memoizedState!==null&&Dn(r);break;case 13:Dn(r);break;case 19:ee(Tt);break;case 10:hi(r.type);break;case 22:case 23:Dn(r),mm(),s!==null&&ee(oa);break;case 24:hi(kt)}}function ic(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&s)===s){c=void 0;var g=o.create,_=o.inst;c=g(),_.destroy=c}o=o.next}while(o!==f)}}catch(S){Ze(r,r.return,S)}}function sr(s,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&s)===s){var _=c.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var O=o,$=S;try{$()}catch(J){Ze(f,O,J)}}}c=c.next}while(c!==g)}}catch(J){Ze(r,r.return,J)}}function tx(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Gv(r,o)}catch(c){Ze(s,s.return,c)}}}function nx(s,r,o){o.props=da(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){Ze(s,r,c)}}function rc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(f){Ze(s,r,f)}}function Hs(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){Ze(s,r,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Ze(s,r,f)}else o.current=null}function sx(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){Ze(s,s.return,f)}}function $m(s,r,o){try{var c=s.stateNode;UR(c,s.type,o,r),c[qt]=r}catch(f){Ze(s,s.return,f)}}function ix(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ur(s.type)||s.tag===4}function Km(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ix(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ur(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ym(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=rs));else if(c!==4&&(c===27&&ur(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Ym(s,r,o),s=s.sibling;s!==null;)Ym(s,r,o),s=s.sibling}function wh(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&ur(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(wh(s,r,o),s=s.sibling;s!==null;)wh(s,r,o),s=s.sibling}function rx(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Zt(r,c,o),r[Ct]=s,r[qt]=o}catch(g){Ze(s,s.return,g)}}var gi=!1,Mt=!1,Qm=!1,ax=typeof WeakSet=="function"?WeakSet:Set,$t=null;function vR(s,r){if(s=s.containerInfo,gp=qh,s=vv(s),Ff(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var _=0,S=-1,O=-1,$=0,J=0,ne=s,Y=null;t:for(;;){for(var X;ne!==o||f!==0&&ne.nodeType!==3||(S=_+f),ne!==g||c!==0&&ne.nodeType!==3||(O=_+c),ne.nodeType===3&&(_+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Y=ne,ne=X;for(;;){if(ne===s)break t;if(Y===o&&++$===f&&(S=_),Y===g&&++J===c&&(O=_),(X=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=X}o=S===-1||O===-1?null:{start:S,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(yp={focusedElem:s,selectionRange:o},qh=!1,$t=r;$t!==null;)if(r=$t,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,$t=s;else for(;$t!==null;){switch(r=$t,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)f=s[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var me=da(o.type,f);s=c.getSnapshotBeforeUpdate(me,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(_e){Ze(o,o.return,_e)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)xp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":xp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,$t=s;break}$t=r.return}}function ox(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:vi(s,o),c&4&&ic(5,o);break;case 1:if(vi(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){Ze(o,o.return,_)}else{var f=da(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(f,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(o,o.return,_)}}c&64&&tx(o),c&512&&rc(o,o.return);break;case 3:if(vi(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Gv(s,r)}catch(_){Ze(o,o.return,_)}}break;case 27:r===null&&c&4&&rx(o);case 26:case 5:vi(s,o),r===null&&c&4&&sx(o),c&512&&rc(o,o.return);break;case 12:vi(s,o);break;case 31:vi(s,o),c&4&&ux(s,o);break;case 13:vi(s,o),c&4&&hx(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=CR.bind(null,o),KR(s,o))));break;case 22:if(c=o.memoizedState!==null||gi,!c){r=r!==null&&r.memoizedState!==null||Mt,f=gi;var g=Mt;gi=c,(Mt=r)&&!g?bi(s,o,(o.subtreeFlags&8772)!==0):vi(s,o),gi=f,Mt=g}break;case 30:break;default:vi(s,o)}}function lx(s){var r=s.alternate;r!==null&&(s.alternate=null,lx(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Ha(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var dt=null,_n=!1;function yi(s,r,o){for(o=o.child;o!==null;)cx(s,r,o),o=o.sibling}function cx(s,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ts,o)}catch{}switch(o.tag){case 26:Mt||Hs(o,r),yi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||Hs(o,r);var c=dt,f=_n;ur(o.type)&&(dt=o.stateNode,_n=!1),yi(s,r,o),mc(o.stateNode),dt=c,_n=f;break;case 5:Mt||Hs(o,r);case 6:if(c=dt,f=_n,dt=null,yi(s,r,o),dt=c,_n=f,dt!==null)if(_n)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(g){Ze(o,r,g)}else try{dt.removeChild(o.stateNode)}catch(g){Ze(o,r,g)}break;case 18:dt!==null&&(_n?(s=dt,t_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Ro(s)):t_(dt,o.stateNode));break;case 4:c=dt,f=_n,dt=o.stateNode.containerInfo,_n=!0,yi(s,r,o),dt=c,_n=f;break;case 0:case 11:case 14:case 15:sr(2,o,r),Mt||sr(4,o,r),yi(s,r,o);break;case 1:Mt||(Hs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&nx(o,r,c)),yi(s,r,o);break;case 21:yi(s,r,o);break;case 22:Mt=(c=Mt)||o.memoizedState!==null,yi(s,r,o),Mt=c;break;default:yi(s,r,o)}}function ux(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ro(s)}catch(o){Ze(r,r.return,o)}}}function hx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ro(s)}catch(o){Ze(r,r.return,o)}}function bR(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new ax),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new ax),r;default:throw Error(i(435,s.tag))}}function Eh(s,r){var o=bR(s);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=RR.bind(null,s,c);c.then(f,f)}})}function Tn(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],g=s,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ur(S.type)){dt=S.stateNode,_n=!1;break e}break;case 5:dt=S.stateNode,_n=!1;break e;case 3:case 4:dt=S.stateNode.containerInfo,_n=!0;break e}S=S.return}if(dt===null)throw Error(i(160));cx(g,_,f),dt=null,_n=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)dx(r,s),r=r.sibling}var hs=null;function dx(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Tn(r,s),wn(s),c&4&&(sr(3,s,s.return),ic(3,s),sr(5,s,s.return));break;case 1:Tn(r,s),wn(s),c&512&&(Mt||o===null||Hs(o,o.return)),c&64&&gi&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=hs;if(Tn(r,s),wn(s),c&512&&(Mt||o===null||Hs(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ns]||g[Ct]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),Zt(g,c,o),g[Ct]=s,Rt(g),c=g;break e;case"link":var _=d_("link","href",f).get(c+(o.href||""));if(_){for(var S=0;S<_.length;S++)if(g=_[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(S,1);break t}}g=f.createElement(c),Zt(g,c,o),f.head.appendChild(g);break;case"meta":if(_=d_("meta","content",f).get(c+(o.content||""))){for(S=0;S<_.length;S++)if(g=_[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(S,1);break t}}g=f.createElement(c),Zt(g,c,o),f.head.appendChild(g);break;default:throw Error(i(468,c))}g[Ct]=s,Rt(g),c=g}s.stateNode=c}else f_(f,s.type,s.stateNode);else s.stateNode=h_(f,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?f_(f,s.type,s.stateNode):h_(f,c,s.memoizedProps)):c===null&&s.stateNode!==null&&$m(s,s.memoizedProps,o.memoizedProps)}break;case 27:Tn(r,s),wn(s),c&512&&(Mt||o===null||Hs(o,o.return)),o!==null&&c&4&&$m(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Tn(r,s),wn(s),c&512&&(Mt||o===null||Hs(o,o.return)),s.flags&32){f=s.stateNode;try{xn(f,"")}catch(me){Ze(s,s.return,me)}}c&4&&s.stateNode!=null&&(f=s.memoizedProps,$m(s,f,o!==null?o.memoizedProps:f)),c&1024&&(Qm=!0);break;case 6:if(Tn(r,s),wn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(me){Ze(s,s.return,me)}}break;case 3:if(Bh=null,f=hs,hs=Lh(r.containerInfo),Tn(r,s),hs=f,wn(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ro(r.containerInfo)}catch(me){Ze(s,s.return,me)}Qm&&(Qm=!1,fx(s));break;case 4:c=hs,hs=Lh(s.stateNode.containerInfo),Tn(r,s),wn(s),hs=c;break;case 12:Tn(r,s),wn(s);break;case 31:Tn(r,s),wn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Eh(s,c)));break;case 13:Tn(r,s),wn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ah=dn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Eh(s,c)));break;case 22:f=s.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,$=gi,J=Mt;if(gi=$||f,Mt=J||O,Tn(r,s),Mt=J,gi=$,wn(s),c&8192)e:for(r=s.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||gi||Mt||fa(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,f)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=O.stateNode;var ne=O.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){Ze(O,O.return,me)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(me){Ze(O,O.return,me)}}}else if(r.tag===18){if(o===null){O=r;try{var X=O.stateNode;f?n_(X,!0):n_(O.stateNode,!1)}catch(me){Ze(O,O.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Eh(s,o))));break;case 19:Tn(r,s),wn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Eh(s,c)));break;case 30:break;case 21:break;default:Tn(r,s),wn(s)}}function wn(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(ix(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=Km(s);wh(s,g,f);break;case 5:var _=o.stateNode;o.flags&32&&(xn(_,""),o.flags&=-33);var S=Km(s);wh(s,S,_);break;case 3:case 4:var O=o.stateNode.containerInfo,$=Km(s);Ym(s,$,O);break;default:throw Error(i(161))}}catch(J){Ze(s,s.return,J)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function fx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;fx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function vi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ox(s,r.alternate,r),r=r.sibling}function fa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:sr(4,r,r.return),fa(r);break;case 1:Hs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&nx(r,r.return,o),fa(r);break;case 27:mc(r.stateNode);case 26:case 5:Hs(r,r.return),fa(r);break;case 22:r.memoizedState===null&&fa(r);break;case 30:fa(r);break;default:fa(r)}s=s.sibling}}function bi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=s,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:bi(f,g,o),ic(4,g);break;case 1:if(bi(f,g,o),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){Ze(c,c.return,$)}if(c=g,f=c.updateQueue,f!==null){var S=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)qv(O[f],S)}catch($){Ze(c,c.return,$)}}o&&_&64&&tx(g),rc(g,g.return);break;case 27:rx(g);case 26:case 5:bi(f,g,o),o&&c===null&&_&4&&sx(g),rc(g,g.return);break;case 12:bi(f,g,o);break;case 31:bi(f,g,o),o&&_&4&&ux(f,g);break;case 13:bi(f,g,o),o&&_&4&&hx(f,g);break;case 22:g.memoizedState===null&&bi(f,g,o),rc(g,g.return);break;case 30:break;default:bi(f,g,o)}r=r.sibling}}function Xm(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Gl(o))}function Wm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Gl(s))}function ds(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)mx(s,r,o,c),r=r.sibling}function mx(s,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ds(s,r,o,c),f&2048&&ic(9,r);break;case 1:ds(s,r,o,c);break;case 3:ds(s,r,o,c),f&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Gl(s)));break;case 12:if(f&2048){ds(s,r,o,c),s=r.stateNode;try{var g=r.memoizedProps,_=g.id,S=g.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){Ze(r,r.return,O)}}else ds(s,r,o,c);break;case 31:ds(s,r,o,c);break;case 13:ds(s,r,o,c);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?ds(s,r,o,c):ac(s,r):g._visibility&2?ds(s,r,o,c):(g._visibility|=2,yo(s,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Xm(_,r);break;case 24:ds(s,r,o,c),f&2048&&Wm(r.alternate,r);break;default:ds(s,r,o,c)}}function yo(s,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,_=r,S=o,O=c,$=_.flags;switch(_.tag){case 0:case 11:case 15:yo(g,_,S,O,f),ic(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?yo(g,_,S,O,f):ac(g,_):(J._visibility|=2,yo(g,_,S,O,f)),f&&$&2048&&Xm(_.alternate,_);break;case 24:yo(g,_,S,O,f),f&&$&2048&&Wm(_.alternate,_);break;default:yo(g,_,S,O,f)}r=r.sibling}}function ac(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,f=c.flags;switch(c.tag){case 22:ac(o,c),f&2048&&Xm(c.alternate,c);break;case 24:ac(o,c),f&2048&&Wm(c.alternate,c);break;default:ac(o,c)}r=r.sibling}}var oc=8192;function vo(s,r,o){if(s.subtreeFlags&oc)for(s=s.child;s!==null;)px(s,r,o),s=s.sibling}function px(s,r,o){switch(s.tag){case 26:vo(s,r,o),s.flags&oc&&s.memoizedState!==null&&rN(o,hs,s.memoizedState,s.memoizedProps);break;case 5:vo(s,r,o);break;case 3:case 4:var c=hs;hs=Lh(s.stateNode.containerInfo),vo(s,r,o),hs=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=oc,oc=16777216,vo(s,r,o),oc=c):vo(s,r,o));break;default:vo(s,r,o)}}function gx(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function lc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,vx(c,s)}gx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yx(s),s=s.sibling}function yx(s){switch(s.tag){case 0:case 11:case 15:lc(s),s.flags&2048&&sr(9,s,s.return);break;case 3:lc(s);break;case 12:lc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Sh(s)):lc(s);break;default:lc(s)}}function Sh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,vx(c,s)}gx(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:sr(8,r,r.return),Sh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Sh(r));break;default:Sh(r)}s=s.sibling}}function vx(s,r){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:sr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Gl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,$t=c;else e:for(o=s;$t!==null;){c=$t;var f=c.sibling,g=c.return;if(lx(c),c===o){$t=null;break e}if(f!==null){f.return=g,$t=f;break e}$t=g}}}var xR={getCacheForType:function(s){var r=Wt(kt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return Wt(kt).controller.signal}},_R=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,Pe=null,Ue=0,Je=0,Mn=null,ir=!1,bo=!1,Jm=!1,xi=0,vt=0,rr=0,ma=0,Zm=0,jn=0,xo=0,cc=null,En=null,ep=!1,Ah=0,bx=0,Ch=1/0,Rh=null,ar=null,Bt=0,or=null,_o=null,_i=0,tp=0,np=null,xx=null,uc=0,sp=null;function Vn(){return(Qe&2)!==0&&Ue!==0?Ue&-Ue:W.T!==null?cp():Nu()}function _x(){if(jn===0)if((Ue&536870912)===0||qe){var s=zr;zr<<=1,(zr&3932160)===0&&(zr=262144),jn=s}else jn=536870912;return s=In.current,s!==null&&(s.flags|=32),jn}function Sn(s,r,o){(s===rt&&(Je===2||Je===9)||s.cancelPendingCommit!==null)&&(To(s,0),lr(s,Ue,jn,!1)),Fr(s,o),((Qe&2)===0||s!==rt)&&(s===rt&&((Qe&2)===0&&(ma|=o),vt===4&&lr(s,Ue,jn,!1)),qs(s))}function Tx(s,r,o){if((Qe&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ns(s,r),f=c?ER(s,r):rp(s,r,!0),g=c;do{if(f===0){bo&&!c&&lr(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!TR(o)){f=rp(s,r,!1),g=!1;continue}if(f===2){if(g=r,s.errorRecoveryDisabledLanes&g)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=s;f=cc;var O=S.current.memoizedState.isDehydrated;if(O&&(To(S,_).flags|=256),_=rp(S,_,!1),_!==2){if(Jm&&!O){S.errorRecoveryDisabledLanes|=g,ma|=g,f=4;break e}g=En,En=f,g!==null&&(En===null?En=g:En.push.apply(En,g))}f=_}if(g=!1,f!==2)continue}}if(f===1){To(s,0),lr(s,r,0,!0);break}e:{switch(c=s,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:lr(c,r,jn,!ir);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Ah+300-dn(),10<f)){if(lr(c,r,jn,!ir),As(c,0,!0)!==0)break e;_i=r,c.timeoutHandle=Zx(wx.bind(null,c,o,En,Rh,ep,r,jn,ma,xo,ir,g,"Throttled",-0,0),f);break e}wx(c,o,En,Rh,ep,r,jn,ma,xo,ir,g,null,-0,0)}}break}while(!0);qs(s)}function wx(s,r,o,c,f,g,_,S,O,$,J,ne,Y,X){if(s.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rs},px(r,g,ne);var me=(g&62914560)===g?Ah-dn():(g&4194048)===g?bx-dn():0;if(me=aN(ne,me),me!==null){_i=g,s.cancelPendingCommit=me(Ix.bind(null,s,r,g,o,c,f,_,S,O,J,ne,null,Y,X)),lr(s,g,_,!$);return}}Ix(s,r,g,o,c,f,_,S,O)}function TR(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],g=f.getSnapshot;f=f.value;try{if(!Nn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function lr(s,r,o,c){r&=~Zm,r&=~ma,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var f=r;0<f;){var g=31-xt(f),_=1<<g;c[g]=-1,f&=~_}o!==0&&Hr(s,o,r)}function Nh(){return(Qe&6)===0?(hc(0),!1):!0}function ip(){if(Pe!==null){if(Je===0)var s=Pe.return;else s=Pe,ui=ra=null,xm(s),ho=null,Kl=0,s=Pe;for(;s!==null;)ex(s.alternate,s),s=s.return;Pe=null}}function To(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,FR(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),_i=0,ip(),rt=s,Pe=o=li(s.current,null),Ue=r,Je=0,Mn=null,ir=!1,bo=ns(s,r),Jm=!1,xo=jn=Zm=ma=rr=vt=0,En=cc=null,ep=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var f=31-xt(c),g=1<<f;r|=s[f],c&=~g}return xi=r,Xu(),o}function Ex(s,r){Me=null,W.H=tc,r===uo||r===ih?(r=Bv(),Je=3):r===lm?(r=Bv(),Je=4):Je=r===Om?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,Pe===null&&(vt=1,vh(s,Hn(r,s.current)))}function Sx(){var s=In.current;return s===null?!0:(Ue&4194048)===Ue?Kn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?s===Kn:!1}function Ax(){var s=W.H;return W.H=tc,s===null?tc:s}function Cx(){var s=W.A;return W.A=xR,s}function kh(){vt=4,ir||(Ue&4194048)!==Ue&&In.current!==null||(bo=!0),(rr&134217727)===0&&(ma&134217727)===0||rt===null||lr(rt,Ue,jn,!1)}function rp(s,r,o){var c=Qe;Qe|=2;var f=Ax(),g=Cx();(rt!==s||Ue!==r)&&(Rh=null,To(s,r)),r=!1;var _=vt;e:do try{if(Je!==0&&Pe!==null){var S=Pe,O=Mn;switch(Je){case 8:ip(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var $=Je;if(Je=0,Mn=null,wo(s,S,O,$),o&&bo){_=0;break e}break;default:$=Je,Je=0,Mn=null,wo(s,S,O,$)}}wR(),_=vt;break}catch(J){Ex(s,J)}while(!0);return r&&s.shellSuspendCounter++,ui=ra=null,Qe=c,W.H=f,W.A=g,Pe===null&&(rt=null,Ue=0,Xu()),_}function wR(){for(;Pe!==null;)Rx(Pe)}function ER(s,r){var o=Qe;Qe|=2;var c=Ax(),f=Cx();rt!==s||Ue!==r?(Rh=null,Ch=dn()+500,To(s,r)):bo=ns(s,r);e:do try{if(Je!==0&&Pe!==null){r=Pe;var g=Mn;t:switch(Je){case 1:Je=0,Mn=null,wo(s,r,g,1);break;case 2:case 9:if(Lv(g)){Je=0,Mn=null,Nx(r);break}r=function(){Je!==2&&Je!==9||rt!==s||(Je=7),qs(s)},g.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Lv(g)?(Je=0,Mn=null,Nx(r)):(Je=0,Mn=null,wo(s,r,g,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var S=Pe;if(_?m_(_):S.stateNode.complete){Je=0,Mn=null;var O=S.sibling;if(O!==null)Pe=O;else{var $=S.return;$!==null?(Pe=$,Ih($)):Pe=null}break t}}Je=0,Mn=null,wo(s,r,g,5);break;case 6:Je=0,Mn=null,wo(s,r,g,6);break;case 8:ip(),vt=6;break e;default:throw Error(i(462))}}SR();break}catch(J){Ex(s,J)}while(!0);return ui=ra=null,W.H=c,W.A=f,Qe=o,Pe!==null?0:(rt=null,Ue=0,Xu(),vt)}function SR(){for(;Pe!==null&&!Vf();)Rx(Pe)}function Rx(s){var r=Jb(s.alternate,s,xi);s.memoizedProps=s.pendingProps,r===null?Ih(s):Pe=r}function Nx(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=$b(o,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=$b(o,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:xm(r);default:ex(o,r),r=Pe=Cv(r,xi),r=Jb(o,r,xi)}s.memoizedProps=s.pendingProps,r===null?Ih(s):Pe=r}function wo(s,r,o,c){ui=ra=null,xm(r),ho=null,Kl=0;var f=r.return;try{if(fR(s,f,r,o,Ue)){vt=1,vh(s,Hn(o,s.current)),Pe=null;return}}catch(g){if(f!==null)throw Pe=f,g;vt=1,vh(s,Hn(o,s.current)),Pe=null;return}r.flags&32768?(qe||c===1?s=!0:bo||(Ue&536870912)!==0?s=!1:(ir=s=!0,(c===2||c===9||c===3||c===6)&&(c=In.current,c!==null&&c.tag===13&&(c.flags|=16384))),kx(r,s)):Ih(r)}function Ih(s){var r=s;do{if((r.flags&32768)!==0){kx(r,ir);return}s=r.return;var o=gR(r.alternate,r,xi);if(o!==null){Pe=o;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=s}while(r!==null);vt===0&&(vt=5)}function kx(s,r){do{var o=yR(s.alternate,s);if(o!==null){o.flags&=32767,Pe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Pe=s;return}Pe=s=o}while(s!==null);vt=6,Pe=null}function Ix(s,r,o,c,f,g,_,S,O){s.cancelPendingCommit=null;do Dh();while(Bt!==0);if((Qe&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Kf,Lf(s,o,g,_,S,O),s===rt&&(Pe=rt=null,Ue=0),_o=r,or=s,_i=o,tp=g,np=f,xx=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,NR(Li,function(){return Ox(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,f=oe.p,oe.p=2,_=Qe,Qe|=4;try{vR(s,r,o)}finally{Qe=_,oe.p=f,W.T=c}}Bt=1,Dx(),Mx(),jx()}}function Dx(){if(Bt===1){Bt=0;var s=or,r=_o,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var c=oe.p;oe.p=2;var f=Qe;Qe|=4;try{dx(r,s);var g=yp,_=vv(s.containerInfo),S=g.focusedElem,O=g.selectionRange;if(_!==S&&S&&S.ownerDocument&&yv(S.ownerDocument.documentElement,S)){if(O!==null&&Ff(S)){var $=O.start,J=O.end;if(J===void 0&&(J=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(J,S.value.length);else{var ne=S.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),me=S.textContent.length,_e=Math.min(O.start,me),it=O.end===void 0?_e:Math.min(O.end,me);!X.extend&&_e>it&&(_=it,it=_e,_e=_);var F=gv(S,_e),B=gv(S,it);if(F&&B&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var G=ne.createRange();G.setStart(F.node,F.offset),X.removeAllRanges(),_e>it?(X.addRange(G),X.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),X.addRange(G))}}}}for(ne=[],X=S;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var Z=ne[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}qh=!!gp,yp=gp=null}finally{Qe=f,oe.p=c,W.T=o}}s.current=r,Bt=2}}function Mx(){if(Bt===2){Bt=0;var s=or,r=_o,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var c=oe.p;oe.p=2;var f=Qe;Qe|=4;try{ox(s,r.alternate,r)}finally{Qe=f,oe.p=c,W.T=o}}Bt=3}}function jx(){if(Bt===4||Bt===3){Bt=0,Tu();var s=or,r=_o,o=_i,c=xx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,_o=or=null,Vx(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(ar=null),ii(o),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ts,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=W.T,f=oe.p,oe.p=2,W.T=null;try{for(var g=s.onRecoverableError,_=0;_<c.length;_++){var S=c[_];g(S.value,{componentStack:S.stack})}}finally{W.T=r,oe.p=f}}(_i&3)!==0&&Dh(),qs(s),f=s.pendingLanes,(o&261930)!==0&&(f&42)!==0?s===sp?uc++:(uc=0,sp=s):uc=0,hc(0)}}function Vx(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Gl(r)))}function Dh(){return Dx(),Mx(),jx(),Ox()}function Ox(){if(Bt!==5)return!1;var s=or,r=tp;tp=0;var o=ii(_i),c=W.T,f=oe.p;try{oe.p=32>o?32:o,W.T=null,o=np,np=null;var g=or,_=_i;if(Bt=0,_o=or=null,_i=0,(Qe&6)!==0)throw Error(i(331));var S=Qe;if(Qe|=4,yx(g.current),mx(g,g.current,_,o),Qe=S,hc(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ts,g)}catch{}return!0}finally{oe.p=f,W.T=c,Vx(s,r)}}function Px(s,r,o){r=Hn(o,r),r=Vm(s.stateNode,r,2),s=er(s,r,2),s!==null&&(Fr(s,2),qs(s))}function Ze(s,r,o){if(s.tag===3)Px(s,s,o);else for(;r!==null;){if(r.tag===3){Px(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ar===null||!ar.has(c))){s=Hn(o,s),o=Lb(2),c=er(r,o,2),c!==null&&(Ub(o,c,r,s),Fr(c,2),qs(c));break}}r=r.return}}function ap(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new _R;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(Jm=!0,f.add(o),s=AR.bind(null,s,r,o),r.then(s,s))}function AR(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,rt===s&&(Ue&o)===o&&(vt===4||vt===3&&(Ue&62914560)===Ue&&300>dn()-Ah?(Qe&2)===0&&To(s,0):Zm|=o,xo===Ue&&(xo=0)),qs(s)}function Lx(s,r){r===0&&(r=Ru()),s=na(s,r),s!==null&&(Fr(s,r),qs(s))}function CR(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),Lx(s,o)}function RR(s,r){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,f=s.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),Lx(s,o)}function NR(s,r){return Ut(s,r)}var Mh=null,Eo=null,op=!1,jh=!1,lp=!1,cr=0;function qs(s){s!==Eo&&s.next===null&&(Eo===null?Mh=Eo=s:Eo=Eo.next=s),jh=!0,op||(op=!0,IR())}function hc(s,r){if(!lp&&jh){lp=!0;do for(var o=!1,c=Mh;c!==null;){if(s!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var _=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-xt(42|s)+1)-1,g&=f&~(_&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Fx(c,g))}else g=Ue,g=As(c,c===rt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ns(c,g)||(o=!0,Fx(c,g));c=c.next}while(o);lp=!1}}function kR(){Ux()}function Ux(){jh=op=!1;var s=0;cr!==0&&zR()&&(s=cr);for(var r=dn(),o=null,c=Mh;c!==null;){var f=c.next,g=Bx(c,r);g===0?(c.next=null,o===null?Mh=f:o.next=f,f===null&&(Eo=o)):(o=c,(s!==0||(g&3)!==0)&&(jh=!0)),c=f}Bt!==0&&Bt!==5||hc(s),cr!==0&&(cr=0)}function Bx(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,f=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var _=31-xt(g),S=1<<_,O=f[_];O===-1?((S&o)===0||(S&c)!==0)&&(f[_]=Pf(S,r)):O<=r&&(s.expiredLanes|=S),g&=~S}if(r=rt,o=Ue,o=As(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&(Je===2||Je===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Pi(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ns(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&Pi(c),ii(o)){case 2:case 8:o=_l;break;case 32:o=Li;break;case 268435456:o=wu;break;default:o=Li}return c=zx.bind(null,s),o=Ut(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&Pi(c),s.callbackPriority=2,s.callbackNode=null,2}function zx(s,r){if(Bt!==0&&Bt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Dh()&&s.callbackNode!==o)return null;var c=Ue;return c=As(s,s===rt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Tx(s,c,r),Bx(s,dn()),s.callbackNode!=null&&s.callbackNode===o?zx.bind(null,s):null)}function Fx(s,r){if(Dh())return null;Tx(s,r,!0)}function IR(){HR(function(){(Qe&6)!==0?Ut(xl,kR):Ux()})}function cp(){if(cr===0){var s=lo;s===0&&(s=Es,Es<<=1,(Es&261888)===0&&(Es=256)),cr=s}return cr}function Hx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ka(""+s)}function qx(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function DR(s,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var g=Hx((f[qt]||null).action),_=c.submitter;_&&(r=(r=_[qt]||null)?Hx(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var S=new Ps("action","action",null,c,f);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(cr!==0){var O=_?qx(f,_):new FormData(f);Nm(o,{pending:!0,data:O,method:f.method,action:g},null,O)}}else typeof g=="function"&&(S.preventDefault(),O=_?qx(f,_):new FormData(f),Nm(o,{pending:!0,data:O,method:f.method,action:g},g,O))},currentTarget:f}]})}}for(var up=0;up<$f.length;up++){var hp=$f[up],MR=hp.toLowerCase(),jR=hp[0].toUpperCase()+hp.slice(1);us(MR,"on"+jR)}us(_v,"onAnimationEnd"),us(Tv,"onAnimationIteration"),us(wv,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(XC,"onTransitionRun"),us(WC,"onTransitionStart"),us(JC,"onTransitionCancel"),us(Ev,"onTransitionEnd"),Ms("onMouseEnter",["mouseout","mouseover"]),Ms("onMouseLeave",["mouseout","mouseover"]),Ms("onPointerEnter",["pointerout","pointerover"]),Ms("onPointerLeave",["pointerout","pointerover"]),Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function Gx(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],f=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var _=c.length-1;0<=_;_--){var S=c[_],O=S.instance,$=S.currentTarget;if(S=S.listener,O!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=$;try{g(f)}catch(J){Qu(J)}f.currentTarget=null,g=O}else for(_=0;_<c.length;_++){if(S=c[_],O=S.instance,$=S.currentTarget,S=S.listener,O!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=$;try{g(f)}catch(J){Qu(J)}f.currentTarget=null,g=O}}}}function Le(s,r){var o=r[Fa];o===void 0&&(o=r[Fa]=new Set);var c=s+"__bubble";o.has(c)||($x(r,s,2,!1),o.add(c))}function dp(s,r,o){var c=0;r&&(c|=4),$x(o,s,c,r)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function fp(s){if(!s[Vh]){s[Vh]=!0,El.forEach(function(o){o!=="selectionchange"&&(VR.has(o)||dp(o,!1,s),dp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Vh]||(r[Vh]=!0,dp("selectionchange",!1,r))}}function $x(s,r,o,c){switch(__(r)){case 2:var f=cN;break;case 8:f=uN;break;default:f=Rp}o=f.bind(null,r,o,s),f=void 0,!Yr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?s.addEventListener(r,o,{capture:!0,passive:f}):s.addEventListener(r,o,!0):f!==void 0?s.addEventListener(r,o,{passive:f}):s.addEventListener(r,o,!1)}function mp(s,r,o,c,f){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=c.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=ks(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){c=g=_;continue e}S=S.parentNode}}c=c.return}qi(function(){var $=g,J=Un(o),ne=[];e:{var Y=Sv.get(s);if(Y!==void 0){var X=Ps,me=s;switch(s){case"keypress":if(Xr(o)===0)break e;case"keydown":case"keyup":X=$u;break;case"focusin":me="focus",X=Jr;break;case"focusout":me="blur",X=Jr;break;case"beforeblur":case"afterblur":X=Jr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=b;break;case _v:case Tv:case wv:X=Uu;break;case Ev:X=R;break;case"scroll":case"scrollend":X=Ol;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=oi;break;case"toggle":case"beforetoggle":X=De}var _e=(r&4)!==0,it=!_e&&(s==="scroll"||s==="scrollend"),F=_e?Y!==null?Y+"Capture":null:Y;_e=[];for(var B=$,G;B!==null;){var Z=B;if(G=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||G===null||F===null||(Z=as(B,F),Z!=null&&_e.push(fc(B,Z,G))),it)break;B=B.return}0<_e.length&&(Y=new X(Y,me,null,o,J),ne.push({event:Y,listeners:_e}))}}if((r&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",Y&&o!==Ml&&(me=o.relatedTarget||o.fromElement)&&(ks(me)||me[Rs]))break e;if((X||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(me=o.relatedTarget||o.toElement,X=$,me=me?ks(me):null,me!==null&&(it=l(me),_e=me.tag,me!==it||_e!==5&&_e!==27&&_e!==6)&&(me=null)):(X=null,me=$),X!==me)){if(_e=Pl,Z="onMouseLeave",F="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(_e=oi,Z="onPointerLeave",F="onPointerEnter",B="pointer"),it=X==null?Y:Cn(X),G=me==null?Y:Cn(me),Y=new _e(Z,B+"leave",X,o,J),Y.target=it,Y.relatedTarget=G,Z=null,ks(J)===$&&(_e=new _e(F,B+"enter",me,o,J),_e.target=G,_e.relatedTarget=it,Z=_e),it=Z,X&&me)t:{for(_e=OR,F=X,B=me,G=0,Z=F;Z;Z=_e(Z))G++;Z=0;for(var ve=B;ve;ve=_e(ve))Z++;for(;0<G-Z;)F=_e(F),G--;for(;0<Z-G;)B=_e(B),Z--;for(;G--;){if(F===B||B!==null&&F===B.alternate){_e=F;break t}F=_e(F),B=_e(B)}_e=null}else _e=null;X!==null&&Kx(ne,Y,X,_e,!1),me!==null&&it!==null&&Kx(ne,it,me,_e,!0)}}e:{if(Y=$?Cn($):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var $e=uv;else if(lv(Y))if(hv)$e=KC;else{$e=GC;var ge=qC}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&$a($.elementType)&&($e=uv):$e=$C;if($e&&($e=$e(s,$))){cv(ne,$e,o,J);break e}ge&&ge(s,Y,$),s==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&kl(Y,"number",Y.value)}switch(ge=$?Cn($):window,s){case"focusin":(lv(ge)||ge.contentEditable==="true")&&(eo=ge,Hf=$,Fl=null);break;case"focusout":Fl=Hf=eo=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,bv(ne,o,J);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":bv(ne,o,J)}var je;if(Ye)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Za?Zr(s,o)&&(Be="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&(Bs&&o.locale!=="ko"&&(Za||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Za&&(je=Vl()):(Os=J,jl="value"in Os?Os.value:Os.textContent,Za=!0)),ge=Oh($,Be),0<ge.length&&(Be=new Us(Be,s,null,o,J),ne.push({event:Be,listeners:ge}),je?Be.data=je:(je=Ja(o),je!==null&&(Be.data=je)))),(je=zn?BC(s,o):zC(s,o))&&(Be=Oh($,"onBeforeInput"),0<Be.length&&(ge=new Us("onBeforeInput","beforeinput",null,o,J),ne.push({event:ge,listeners:Be}),ge.data=je)),DR(ne,s,$,o,J)}Gx(ne,r)})}function fc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Oh(s,r){for(var o=r+"Capture",c=[];s!==null;){var f=s,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=as(s,o),f!=null&&c.unshift(fc(s,f,g)),f=as(s,r),f!=null&&c.push(fc(s,f,g))),s.tag===3)return c;s=s.return}return[]}function OR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Kx(s,r,o,c,f){for(var g=r._reactName,_=[];o!==null&&o!==c;){var S=o,O=S.alternate,$=S.stateNode;if(S=S.tag,O!==null&&O===c)break;S!==5&&S!==26&&S!==27||$===null||(O=$,f?($=as(o,g),$!=null&&_.unshift(fc(o,$,O))):f||($=as(o,g),$!=null&&_.push(fc(o,$,O)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var PR=/\r\n?/g,LR=/\u0000|\uFFFD/g;function Yx(s){return(typeof s=="string"?s:""+s).replace(PR,`
`).replace(LR,"")}function Qx(s,r){return r=Yx(r),Yx(s)===r}function st(s,r,o,c,f,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||xn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&xn(s,""+c);break;case"className":Rn(s,"class",c);break;case"tabIndex":Rn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(s,o,c);break;case"style":Dl(s,c,g);break;case"data":if(r!=="object"){Rn(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Ka(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&st(s,r,"name",f.name,f,null),st(s,r,"formEncType",f.formEncType,f,null),st(s,r,"formMethod",f.formMethod,f,null),st(s,r,"formTarget",f.formTarget,f,null)):(st(s,r,"encType",f.encType,f,null),st(s,r,"method",f.method,f,null),st(s,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Ka(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=rs);break;case"onScroll":c!=null&&Le("scroll",s);break;case"onScrollEnd":c!=null&&Le("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=Ka(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":Le("beforetoggle",s),Le("toggle",s),qa(s,"popover",c);break;case"xlinkActuate":Nt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Nt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Nt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Nt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Nt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Nt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qa(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ou.get(o)||o,qa(s,o,c))}}function pp(s,r,o,c,f,g){switch(o){case"style":Dl(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?xn(s,c):(typeof c=="number"||typeof c=="bigint")&&xn(s,""+c);break;case"onScroll":c!=null&&Le("scroll",s);break;case"onScrollEnd":c!=null&&Le("scrollend",s);break;case"onClick":c!=null&&(s.onclick=rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=s[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,f);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):qa(s,o,c)}}}function Zt(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",s),Le("load",s);var c=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var _=o[g];if(_!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(s,r,g,_,o,null)}}f&&st(s,r,"srcSet",o.srcSet,o,null),c&&st(s,r,"src",o.src,o,null);return;case"input":Le("invalid",s);var S=g=_=f=null,O=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":f=J;break;case"type":_=J;break;case"checked":O=J;break;case"defaultChecked":$=J;break;case"value":g=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:st(s,r,c,J,o,null)}}Mu(s,g,S,O,$,_,f,!1);return;case"select":Le("invalid",s),c=_=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":_=S;break;case"multiple":c=S;default:st(s,r,f,S,o,null)}r=g,o=_,s.multiple=!!c,r!=null?Bi(s,!!c,r,!1):o!=null&&Bi(s,!!c,o,!0);return;case"textarea":Le("invalid",s),g=f=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(S=o[_],S!=null))switch(_){case"value":c=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:st(s,r,_,S,o,null)}zi(s,c,f,g);return;case"option":for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null)&&(O==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":st(s,r,O,c,o,null));return;case"dialog":Le("beforetoggle",s),Le("toggle",s),Le("cancel",s),Le("close",s);break;case"iframe":case"object":Le("load",s);break;case"video":case"audio":for(c=0;c<dc.length;c++)Le(dc[c],s);break;case"image":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"embed":case"source":case"link":Le("error",s),Le("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(s,r,$,c,o,null)}return;default:if($a(r)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&pp(s,r,J,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&st(s,r,S,c,o,null))}function UR(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,_=null,S=null,O=null,$=null,J=null;for(X in o){var ne=o[X];if(o.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=ne;default:c.hasOwnProperty(X)||st(s,r,X,null,c,ne)}}for(var Y in c){var X=c[Y];if(ne=o[Y],c.hasOwnProperty(Y)&&(X!=null||ne!=null))switch(Y){case"type":g=X;break;case"name":f=X;break;case"checked":$=X;break;case"defaultChecked":J=X;break;case"value":_=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:X!==ne&&st(s,r,Y,X,c,ne)}}Ga(s,_,S,O,$,J,g,f);return;case"select":X=_=S=Y=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":X=O;default:c.hasOwnProperty(g)||st(s,r,g,null,c,O)}for(f in c)if(g=c[f],O=o[f],c.hasOwnProperty(f)&&(g!=null||O!=null))switch(f){case"value":Y=g;break;case"defaultValue":S=g;break;case"multiple":_=g;default:g!==O&&st(s,r,f,g,c,O)}r=S,o=_,c=X,Y!=null?Bi(s,!!o,Y,!1):!!c!=!!o&&(r!=null?Bi(s,!!o,r,!0):Bi(s,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:st(s,r,S,null,c,f)}for(_ in c)if(f=c[_],g=o[_],c.hasOwnProperty(_)&&(f!=null||g!=null))switch(_){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&st(s,r,_,f,c,g)}ju(s,Y,X);return;case"option":for(var me in o)Y=o[me],o.hasOwnProperty(me)&&Y!=null&&!c.hasOwnProperty(me)&&(me==="selected"?s.selected=!1:st(s,r,me,null,c,Y));for(O in c)Y=c[O],X=o[O],c.hasOwnProperty(O)&&Y!==X&&(Y!=null||X!=null)&&(O==="selected"?s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":st(s,r,O,Y,c,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)Y=o[_e],o.hasOwnProperty(_e)&&Y!=null&&!c.hasOwnProperty(_e)&&st(s,r,_e,null,c,Y);for($ in c)if(Y=c[$],X=o[$],c.hasOwnProperty($)&&Y!==X&&(Y!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:st(s,r,$,Y,c,X)}return;default:if($a(r)){for(var it in o)Y=o[it],o.hasOwnProperty(it)&&Y!==void 0&&!c.hasOwnProperty(it)&&pp(s,r,it,void 0,c,Y);for(J in c)Y=c[J],X=o[J],!c.hasOwnProperty(J)||Y===X||Y===void 0&&X===void 0||pp(s,r,J,Y,c,X);return}}for(var F in o)Y=o[F],o.hasOwnProperty(F)&&Y!=null&&!c.hasOwnProperty(F)&&st(s,r,F,null,c,Y);for(ne in c)Y=c[ne],X=o[ne],!c.hasOwnProperty(ne)||Y===X||Y==null&&X==null||st(s,r,ne,Y,c,X)}function Xx(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],g=f.transferSize,_=f.initiatorType,S=f.duration;if(g&&S&&Xx(_)){for(_=0,S=f.responseEnd,c+=1;c<o.length;c++){var O=o[c],$=O.startTime;if($>S)break;var J=O.transferSize,ne=O.initiatorType;J&&Xx(ne)&&(O=O.responseEnd,_+=J*(O<S?1:(S-$)/(O-$)))}if(--c,r+=8*(g+_)/(f.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var gp=null,yp=null;function Ph(s){return s.nodeType===9?s:s.ownerDocument}function Wx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jx(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function vp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bp=null;function zR(){var s=window.event;return s&&s.type==="popstate"?s===bp?!1:(bp=s,!0):(bp=null,!1)}var Zx=typeof setTimeout=="function"?setTimeout:void 0,FR=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,HR=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(s){return e_.resolve(null).then(s).catch(qR)}:Zx;function qR(s){setTimeout(function(){throw s})}function ur(s){return s==="head"}function t_(s,r){var o=r,c=0;do{var f=o.nextSibling;if(s.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(f),Ro(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")mc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,mc(o);for(var g=o.firstChild;g;){var _=g.nextSibling,S=g.nodeName;g[Ns]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=_}}else o==="body"&&mc(s.ownerDocument.body);o=f}while(o);Ro(r)}function n_(s,r){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function xp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xp(o),Ha(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function GR(s,r,o,c){for(;s.nodeType===1;){var f=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Ns])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=Yn(s.nextSibling),s===null)break}return null}function $R(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Yn(s.nextSibling),s===null))return null;return s}function s_(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Yn(s.nextSibling),s===null))return null;return s}function _p(s){return s.data==="$?"||s.data==="$~"}function Tp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function KR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Yn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var wp=null;function i_(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return Yn(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function r_(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function a_(s,r,o){switch(r=Ph(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function mc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Ha(s)}var Qn=new Map,o_=new Set;function Lh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ti=oe.d;oe.d={f:YR,r:QR,D:XR,C:WR,L:JR,m:ZR,X:tN,S:eN,M:nN};function YR(){var s=Ti.f(),r=Nh();return s||r}function QR(s){var r=Ln(s);r!==null&&r.tag===5&&r.type==="form"?Eb(r):Ti.r(s)}var So=typeof document>"u"?null:document;function l_(s,r,o){var c=So;if(c&&typeof r=="string"&&r){var f=bn(r);f='link[rel="'+s+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),o_.has(f)||(o_.add(f),s={rel:s,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),Zt(r,"link",s),Rt(r),c.head.appendChild(r)))}}function XR(s){Ti.D(s),l_("dns-prefetch",s,null)}function WR(s,r){Ti.C(s,r),l_("preconnect",s,r)}function JR(s,r,o){Ti.L(s,r,o);var c=So;if(c&&s&&r){var f='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+bn(o.imageSizes)+'"]')):f+='[href="'+bn(s)+'"]';var g=f;switch(r){case"style":g=Ao(s);break;case"script":g=Co(s)}Qn.has(g)||(s=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),Qn.set(g,s),c.querySelector(f)!==null||r==="style"&&c.querySelector(pc(g))||r==="script"&&c.querySelector(gc(g))||(r=c.createElement("link"),Zt(r,"link",s),Rt(r),c.head.appendChild(r)))}}function ZR(s,r){Ti.m(s,r);var o=So;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(s)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Co(s)}if(!Qn.has(g)&&(s=x({rel:"modulepreload",href:s},r),Qn.set(g,s),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gc(g)))return}c=o.createElement("link"),Zt(c,"link",s),Rt(c),o.head.appendChild(c)}}}function eN(s,r,o){Ti.S(s,r,o);var c=So;if(c&&s){var f=Is(c).hoistableStyles,g=Ao(s);r=r||"default";var _=f.get(g);if(!_){var S={loading:0,preload:null};if(_=c.querySelector(pc(g)))S.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},o),(o=Qn.get(g))&&Ep(s,o);var O=_=c.createElement("link");Rt(O),Zt(O,"link",s),O._p=new Promise(function($,J){O.onload=$,O.onerror=J}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Uh(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(g,_)}}}function tN(s,r){Ti.X(s,r);var o=So;if(o&&s){var c=Is(o).hoistableScripts,f=Co(s),g=c.get(f);g||(g=o.querySelector(gc(f)),g||(s=x({src:s,async:!0},r),(r=Qn.get(f))&&Sp(s,r),g=o.createElement("script"),Rt(g),Zt(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function nN(s,r){Ti.M(s,r);var o=So;if(o&&s){var c=Is(o).hoistableScripts,f=Co(s),g=c.get(f);g||(g=o.querySelector(gc(f)),g||(s=x({src:s,async:!0,type:"module"},r),(r=Qn.get(f))&&Sp(s,r),g=o.createElement("script"),Rt(g),Zt(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function c_(s,r,o,c){var f=(f=Ce.current)?Lh(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ao(o.href),o=Is(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Ao(o.href);var g=Is(f).hoistableStyles,_=g.get(s);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,_),(g=f.querySelector(pc(s)))&&!g._p&&(_.instance=g,_.state.loading=5),Qn.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Qn.set(s,o),g||sN(f,s,o,_.state))),r&&c===null)throw Error(i(528,""));return _}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Co(o),o=Is(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ao(s){return'href="'+bn(s)+'"'}function pc(s){return'link[rel="stylesheet"]['+s+"]"}function u_(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function sN(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Zt(r,"link",o),Rt(r),s.head.appendChild(r))}function Co(s){return'[src="'+bn(s)+'"]'}function gc(s){return"script[async]"+s}function h_(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+bn(o.href)+'"]');if(c)return r.instance=c,Rt(c),c;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Rt(c),Zt(c,"style",f),Uh(c,o.precedence,s),r.instance=c;case"stylesheet":f=Ao(o.href);var g=s.querySelector(pc(f));if(g)return r.state.loading|=4,r.instance=g,Rt(g),g;c=u_(o),(f=Qn.get(f))&&Ep(c,f),g=(s.ownerDocument||s).createElement("link"),Rt(g);var _=g;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Zt(g,"link",c),r.state.loading|=4,Uh(g,o.precedence,s),r.instance=g;case"script":return g=Co(o.src),(f=s.querySelector(gc(g)))?(r.instance=f,Rt(f),f):(c=o,(f=Qn.get(g))&&(c=x({},o),Sp(c,f)),s=s.ownerDocument||s,f=s.createElement("script"),Rt(f),Zt(f,"link",c),s.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Uh(c,o.precedence,s));return r.instance}function Uh(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,_=0;_<c.length;_++){var S=c[_];if(S.dataset.precedence===r)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Ep(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Sp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Bh=null;function d_(s,r,o){if(Bh===null){var c=new Map,f=Bh=new Map;f.set(o,c)}else f=Bh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),f=0;f<o.length;f++){var g=o[f];if(!(g[Ns]||g[Ct]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=s+_;var S=c.get(_);S?S.push(g):c.set(_,[g])}}return c}function f_(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function iN(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function m_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function rN(s,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Ao(c.href),g=r.querySelector(pc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=zh.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,Rt(g);return}g=r.ownerDocument||r,c=u_(c),(f=Qn.get(f))&&Ep(c,f),g=g.createElement("link"),Rt(g);var _=g;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Zt(g,"link",c),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=zh.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Ap=0;function aN(s,r){return s.stylesheets&&s.count===0&&Hh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&Hh(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&Ap===0&&(Ap=62500*BR());var f=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Hh(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Ap?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function zh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Fh=null;function Hh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Fh=new Map,r.forEach(oN,s),Fh=null,zh.call(s))}function oN(s,r){if(!(r.state.loading&4)){var o=Fh.get(s);if(o)var c=o.get(null);else{o=new Map,Fh.set(s,o);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var _=f[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}f=r.instance,_=f.getAttribute("data-precedence"),g=o.get(_)||c,g===c&&o.set(null,f),o.set(_,f),this.count++,c=zh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),r.state.loading|=4}}var yc={$$typeof:K,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function lN(s,r,o,c,f,g,_,S,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.hiddenUpdates=Cs(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function p_(s,r,o,c,f,g,_,S,O,$,J,ne){return s=new lN(s,r,o,_,O,$,J,ne,S),r=1,g===!0&&(r|=24),g=kn(3,null,null,r),s.current=g,g.stateNode=s,r=rm(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},cm(g),s}function g_(s){return s?(s=so,s):so}function y_(s,r,o,c,f,g){f=g_(f),c.context===null?c.context=f:c.pendingContext=f,c=Zi(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=er(s,c,r),o!==null&&(Sn(o,s,r),Ql(o,s,r))}function v_(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Cp(s,r){v_(s,r),(s=s.alternate)&&v_(s,r)}function b_(s){if(s.tag===13||s.tag===31){var r=na(s,67108864);r!==null&&Sn(r,s,67108864),Cp(s,67108864)}}function x_(s){if(s.tag===13||s.tag===31){var r=Vn();r=qr(r);var o=na(s,r);o!==null&&Sn(o,s,r),Cp(s,r)}}var qh=!0;function cN(s,r,o,c){var f=W.T;W.T=null;var g=oe.p;try{oe.p=2,Rp(s,r,o,c)}finally{oe.p=g,W.T=f}}function uN(s,r,o,c){var f=W.T;W.T=null;var g=oe.p;try{oe.p=8,Rp(s,r,o,c)}finally{oe.p=g,W.T=f}}function Rp(s,r,o,c){if(qh){var f=Np(c);if(f===null)mp(s,r,c,Gh,o),T_(s,c);else if(dN(f,s,r,o,c))c.stopPropagation();else if(T_(s,c),r&4&&-1<hN.indexOf(s)){for(;f!==null;){var g=Ln(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=Ss(g.pendingLanes);if(_!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-xt(_);S.entanglements[1]|=O,_&=~O}qs(g),(Qe&6)===0&&(Ch=dn()+500,hc(0))}}break;case 31:case 13:S=na(g,2),S!==null&&Sn(S,g,2),Nh(),Cp(g,2)}if(g=Np(c),g===null&&mp(s,r,c,Gh,o),g===f)break;f=g}f!==null&&c.stopPropagation()}else mp(s,r,c,null,o)}}function Np(s){return s=Un(s),kp(s)}var Gh=null;function kp(s){if(Gh=null,s=ks(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Gh=s,null}function __(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Br()){case xl:return 2;case _l:return 8;case Li:case Of:return 32;case wu:return 268435456;default:return 32}default:return 32}}var Ip=!1,hr=null,dr=null,fr=null,vc=new Map,bc=new Map,mr=[],hN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(s,r){switch(s){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":vc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(r.pointerId)}}function xc(s,r,o,c,f,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Ln(r),r!==null&&b_(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),s)}function dN(s,r,o,c,f){switch(r){case"focusin":return hr=xc(hr,s,r,o,c,f),!0;case"dragenter":return dr=xc(dr,s,r,o,c,f),!0;case"mouseover":return fr=xc(fr,s,r,o,c,f),!0;case"pointerover":var g=f.pointerId;return vc.set(g,xc(vc.get(g)||null,s,r,o,c,f)),!0;case"gotpointercapture":return g=f.pointerId,bc.set(g,xc(bc.get(g)||null,s,r,o,c,f)),!0}return!1}function w_(s){var r=ks(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,ss(s.priority,function(){x_(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,ss(s.priority,function(){x_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $h(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Np(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);Ml=c,o.target.dispatchEvent(c),Ml=null}else return r=Ln(o),r!==null&&b_(r),s.blockedOn=o,!1;r.shift()}return!0}function E_(s,r,o){$h(s)&&o.delete(r)}function fN(){Ip=!1,hr!==null&&$h(hr)&&(hr=null),dr!==null&&$h(dr)&&(dr=null),fr!==null&&$h(fr)&&(fr=null),vc.forEach(E_),bc.forEach(E_)}function Kh(s,r){s.blockedOn===r&&(s.blockedOn=null,Ip||(Ip=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fN)))}var Yh=null;function S_(s){Yh!==s&&(Yh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yh===s&&(Yh=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],f=s[r+2];if(typeof c!="function"){if(kp(c||o)===null)continue;break}var g=Ln(o);g!==null&&(s.splice(r,3),r-=3,Nm(g,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Ro(s){function r(O){return Kh(O,s)}hr!==null&&Kh(hr,s),dr!==null&&Kh(dr,s),fr!==null&&Kh(fr,s),vc.forEach(r),bc.forEach(r);for(var o=0;o<mr.length;o++){var c=mr[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<mr.length&&(o=mr[0],o.blockedOn===null);)w_(o),o.blockedOn===null&&mr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],_=f[qt]||null;if(typeof g=="function")_||S_(o);else if(_){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,_=g[qt]||null)S=_.formAction;else if(kp(f)!==null)continue}else S=_.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),S_(o)}}}function A_(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Dp(s){this._internalRoot=s}Qh.prototype.render=Dp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Vn();y_(o,c,s,r,null,null)},Qh.prototype.unmount=Dp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;y_(s.current,2,null,s,null,null),Nh(),r[Rs]=null}};function Qh(s){this._internalRoot=s}Qh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Nu();s={blockedOn:null,target:s,priority:r};for(var o=0;o<mr.length&&r!==0&&r<mr[o].priority;o++);mr.splice(o,0,s),o===0&&w_(s)}};var C_=e.version;if(C_!=="19.2.4")throw Error(i(527,C_,"19.2.4"));oe.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var mN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{ts=Xh.inject(mN),Yt=Xh}catch{}}return Tc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",f=jb,g=Vb,_=Ob;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=p_(s,1,!1,null,null,o,c,null,f,g,_,A_),s[Rs]=r.current,fp(s),new Dp(r)},Tc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,f="",g=jb,_=Vb,S=Ob,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=p_(s,1,!0,r,o??null,c,f,O,g,_,S,A_),r.context=g_(null),o=r.current,c=Vn(),c=qr(c),f=Zi(c),f.callback=null,er(o,f,c),o=c,r.current.lanes=o,Fr(r,o),qs(r),s[Rs]=r.current,fp(s),new Qh(r)},Tc.version="19.2.4",Tc}var P_;function EN(){if(P_)return Vp.exports;P_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vp.exports=wN(),Vp.exports}var SN=EN();const AN=Fw(SN);var L_="popstate";function CN(t={}){function e(i,a){let{pathname:l,search:u,hash:d}=i.location;return Tg("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:zc(a)}return NN(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _s(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RN(){return Math.random().toString(36).substring(2,10)}function U_(t,e){return{usr:t.state,key:t.key,idx:e}}function Tg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?nl(e):e,state:n,key:e&&e.key||i||RN()}}function zc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function NN(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,d="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function x(){d="POP";let L=v(),z=L==null?null:L-p;p=L,m&&m({action:d,location:P.location,delta:z})}function T(L,z){d="PUSH";let H=Tg(P.location,L,z);p=v()+1;let K=U_(H,p),re=P.createHref(H);try{u.pushState(K,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(re)}l&&m&&m({action:d,location:P.location,delta:1})}function A(L,z){d="REPLACE";let H=Tg(P.location,L,z);p=v();let K=U_(H,p),re=P.createHref(H);u.replaceState(K,"",re),l&&m&&m({action:d,location:P.location,delta:0})}function j(L){return kN(L)}let P={get action(){return d},get location(){return t(a,u)},listen(L){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(L_,x),m=L,()=>{a.removeEventListener(L_,x),m=null}},createHref(L){return e(a,L)},createURL:j,encodeLocation(L){let z=j(L);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:A,go(L){return u.go(L)}};return P}function kN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:zc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function qw(t,e,n="/"){return IN(t,e,n,!1)}function IN(t,e,n,i){let a=typeof e=="string"?nl(e):e,l=Ri(a.pathname||"/",n);if(l==null)return null;let u=Gw(t);DN(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let p=HN(l);d=zN(u[m],p,i)}return d}function Gw(t,e=[],n=[],i="",a=!1){let l=(u,d,m=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;ft(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let x=Ai([i,v.relativePath]),T=n.concat(v);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Gw(u.children,e,T,x,m)),!(u.path==null&&!u.index)&&e.push({path:x,score:UN(x,u.index),routesMeta:T})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of $w(u.path))l(u,d,!0,m)}),e}function $w(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=$w(i.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function DN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var MN=/^:[\w-]+$/,jN=3,VN=2,ON=1,PN=10,LN=-2,B_=t=>t==="*";function UN(t,e){let n=t.split("/"),i=n.length;return n.some(B_)&&(i+=LN),e&&(i+=VN),n.filter(a=>!B_(a)).reduce((a,l)=>a+(MN.test(l)?jN:l===""?ON:PN),i)}function BN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function zN(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=Nd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),T=m.route;if(!x&&p&&n&&!i[i.length-1].route.index&&(x=Nd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:Ai([l,x.pathname]),pathnameBase:KN(Ai([l,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(l=Ai([l,x.pathnameBase]))}return u}function Nd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=FN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:x},T)=>{if(v==="*"){let j=d[T]||"";u=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const A=d[T];return x&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function FN(t,e=!1,n=!0){_s(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function HN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _s(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ri(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var qN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function GN(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?nl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=z_(n.substring(1),"/"):l=z_(n,e)):l=e,{pathname:l,search:YN(i),hash:QN(a)}}function z_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Up(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $N(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function E0(t){let e=$N(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function S0(t,e,n,i=!1){let a;typeof t=="string"?a=nl(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),Up("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),Up("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),Up("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let x=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),x-=1;a.pathname=T.join("/")}d=x>=0?e[x]:"/"}let m=GN(a,d),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Ai=t=>t.join("/").replace(/\/\/+/g,"/"),KN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,XN=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function WN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function JN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yw(t,e){let n=t;if(typeof n!="string"||!qN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(Kw)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Ri(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{_s(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qw=["POST","PUT","PATCH","DELETE"];new Set(Qw);var ZN=["GET",...Qw];new Set(ZN);var sl=N.createContext(null);sl.displayName="DataRouter";var lf=N.createContext(null);lf.displayName="DataRouterState";var ek=N.createContext(!1),Xw=N.createContext({isTransitioning:!1});Xw.displayName="ViewTransition";var tk=N.createContext(new Map);tk.displayName="Fetchers";var nk=N.createContext(null);nk.displayName="Await";var On=N.createContext(null);On.displayName="Navigation";var ru=N.createContext(null);ru.displayName="Location";var es=N.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var A0=N.createContext(null);A0.displayName="RouteError";var Ww="REACT_ROUTER_ERROR",sk="REDIRECT",ik="ROUTE_ERROR_RESPONSE";function rk(t){if(t.startsWith(`${Ww}:${sk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ak(t){if(t.startsWith(`${Ww}:${ik}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new XN(e.status,e.statusText,e.data)}catch{}}function ok(t,{relative:e}={}){ft(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(On),{hash:a,pathname:l,search:u}=au(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ai([n,l])),i.createHref({pathname:d,search:u,hash:a})}function il(){return N.useContext(ru)!=null}function ji(){return ft(il(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(ru).location}var Jw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zw(t){N.useContext(On).static||N.useLayoutEffect(t)}function cf(){let{isDataRoute:t}=N.useContext(es);return t?wk():lk()}function lk(){ft(il(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(sl),{basename:e,navigator:n}=N.useContext(On),{matches:i}=N.useContext(es),{pathname:a}=ji(),l=JSON.stringify(E0(i)),u=N.useRef(!1);return Zw(()=>{u.current=!0}),N.useCallback((m,p={})=>{if(_s(u.current,Jw),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=S0(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ai([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var ck=N.createContext(null);function uk(t){let e=N.useContext(es).outlet;return N.useMemo(()=>e&&N.createElement(ck.Provider,{value:t},e),[e,t])}function hk(){let{matches:t}=N.useContext(es),e=t[t.length-1];return e?e.params:{}}function au(t,{relative:e}={}){let{matches:n}=N.useContext(es),{pathname:i}=ji(),a=JSON.stringify(E0(n));return N.useMemo(()=>S0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function dk(t,e){return eE(t,e)}function eE(t,e,n,i,a){ft(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(On),{matches:u}=N.useContext(es),d=u[u.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",x=d&&d.route;{let H=x&&x.path||"";nE(p,!x||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=ji(),A;if(e){let H=typeof e=="string"?nl(e):e;ft(v==="/"||H.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=T;let j=A.pathname||"/",P=j;if(v!=="/"){let H=v.replace(/^\//,"").split("/");P="/"+j.replace(/^\//,"").split("/").slice(H.length).join("/")}let L=qw(t,{pathname:P});_s(x||L!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),_s(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=yk(L&&L.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Ai([v,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:Ai([v,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,n,i,a);return e&&z?N.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function fk(){let t=Tk(),e=WN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,u)}var mk=N.createElement(fk,null),tE=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ak(t.digest);n&&(t=n)}let e=t!==void 0?N.createElement(es.Provider,{value:this.props.routeContext},N.createElement(A0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(pk,{error:t},e):e}};tE.contextType=ek;var Bp=new WeakMap;function pk({children:t,error:e}){let{basename:n}=N.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=rk(e.digest);if(i){let a=Bp.get(e);if(a)throw a;let l=Yw(i.location,n);if(Kw&&!Bp.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Bp.set(e,u),u}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function gk({routeContext:t,match:e,children:n}){let i=N.useContext(sl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(es.Provider,{value:t},n)}function yk(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);ft(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=v),x.route.id){let{loaderData:T,errors:A}=n,j=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!A||A[x.route.id]===void 0);if(x.route.lazy||j){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&i?(v,x)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:JN(n.matches),errorInfo:x})}:void 0;return l.reduceRight((v,x,T)=>{let A,j=!1,P=null,L=null;n&&(A=u&&x.route.id?u[x.route.id]:void 0,P=x.route.errorElement||mk,d&&(m<0&&T===0?(nE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,L=null):m===T&&(j=!0,L=x.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,T+1)),H=()=>{let K;return A?K=P:j?K=L:x.route.Component?K=N.createElement(x.route.Component,null):x.route.element?K=x.route.element:K=v,N.createElement(gk,{match:x,routeContext:{outlet:v,matches:z,isDataRoute:n!=null},children:K})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?N.createElement(tE,{location:n.location,revalidation:n.revalidation,component:P,error:A,children:H(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):H()},null)}function C0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vk(t){let e=N.useContext(sl);return ft(e,C0(t)),e}function bk(t){let e=N.useContext(lf);return ft(e,C0(t)),e}function xk(t){let e=N.useContext(es);return ft(e,C0(t)),e}function R0(t){let e=xk(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _k(){return R0("useRouteId")}function Tk(){let t=N.useContext(A0),e=bk("useRouteError"),n=R0("useRouteError");return t!==void 0?t:e.errors?.[n]}function wk(){let{router:t}=vk("useNavigate"),e=R0("useNavigate"),n=N.useRef(!1);return Zw(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{_s(n.current,Jw),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var F_={};function nE(t,e,n){!e&&!F_[t]&&(F_[t]=!0,_s(!1,n))}N.memo(Ek);function Ek({routes:t,future:e,state:n,onError:i}){return eE(t,void 0,n,i,e)}function Sk({to:t,replace:e,state:n,relative:i}){ft(il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(On);_s(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(es),{pathname:u}=ji(),d=cf(),m=S0(t,E0(l),u,i==="path"),p=JSON.stringify(m);return N.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function Gs(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ak({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){ft(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=nl(n));let{pathname:p="/",search:v="",hash:x="",state:T=null,key:A="default"}=n,j=N.useMemo(()=>{let P=Ri(p,d);return P==null?null:{location:{pathname:P,search:v,hash:x,state:T,key:A},navigationType:i}},[d,p,v,x,T,A,i]);return _s(j!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:N.createElement(On.Provider,{value:m},N.createElement(ru.Provider,{children:e,value:j}))}function Ck({children:t,location:e}){return dk(wg(t),e)}function wg(t,e=[]){let n=[];return N.Children.forEach(t,(i,a)=>{if(!N.isValidElement(i))return;let l=[...e,a];if(i.type===N.Fragment){n.push.apply(n,wg(i.props.children,l));return}ft(i.type===Gs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=wg(i.props.children,l)),n.push(u)}),n}var ud="get",hd="application/x-www-form-urlencoded";function uf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Rk(t){return uf(t)&&t.tagName.toLowerCase()==="button"}function Nk(t){return uf(t)&&t.tagName.toLowerCase()==="form"}function kk(t){return uf(t)&&t.tagName.toLowerCase()==="input"}function Ik(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Dk(t,e){return t.button===0&&(!e||e==="_self")&&!Ik(t)}var Wh=null;function Mk(){if(Wh===null)try{new FormData(document.createElement("form"),0),Wh=!1}catch{Wh=!0}return Wh}var jk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zp(t){return t!=null&&!jk.has(t)?(_s(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hd}"`),null):t}function Vk(t,e){let n,i,a,l,u;if(Nk(t)){let d=t.getAttribute("action");i=d?Ri(d,e):null,n=t.getAttribute("method")||ud,a=zp(t.getAttribute("enctype"))||hd,l=new FormData(t)}else if(Rk(t)||kk(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?Ri(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||ud,a=zp(t.getAttribute("formenctype"))||zp(d.getAttribute("enctype"))||hd,l=new FormData(d,t),!Mk()){let{name:p,type:v,value:x}=t;if(v==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,x)}}else{if(uf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ud,i=null,a=hd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function N0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ok(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Ri(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function Pk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Uk(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await Pk(l,n);return u.links?u.links():[]}return[]}));return Hk(i.flat(1).filter(Lk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function H_(t,e,n,i,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Bk(t,e,{includeHydrateFallback:n}={}){return zk(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function zk(t){return[...new Set(t)]}function Fk(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Hk(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(Fk(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function sE(){let t=N.useContext(sl);return N0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qk(){let t=N.useContext(lf);return N0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var k0=N.createContext(void 0);k0.displayName="FrameworkContext";function iE(){let t=N.useContext(k0);return N0(t,"You must render this element inside a <HydratedRouter> element"),t}function Gk(t,e){let n=N.useContext(k0),[i,a]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=e,T=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=z=>{z.forEach(H=>{u(H.isIntersecting)})},L=new IntersectionObserver(P,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[t]),N.useEffect(()=>{if(i){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[i]);let A=()=>{a(!0)},j=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:wc(d,A),onBlur:wc(m,j),onMouseEnter:wc(p,A),onMouseLeave:wc(v,j),onTouchStart:wc(x,A)}]:[!1,T,{}]}function wc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $k({page:t,...e}){let{router:n}=sE(),i=N.useMemo(()=>qw(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(Yk,{page:t,matches:i,...e}):null}function Kk(t){let{manifest:e,routeModules:n}=iE(),[i,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return Uk(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function Yk({page:t,matches:e,...n}){let i=ji(),{future:a,manifest:l,routeModules:u}=iE(),{basename:d}=sE(),{loaderData:m,matches:p}=qk(),v=N.useMemo(()=>H_(t,e,p,l,i,"data"),[t,e,p,l,i]),x=N.useMemo(()=>H_(t,e,p,l,i,"assets"),[t,e,p,l,i]),T=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let P=new Set,L=!1;if(e.forEach(H=>{let K=l.routes[H.route.id];!K||!K.hasLoader||(!v.some(re=>re.route.id===H.route.id)&&H.route.id in m&&u[H.route.id]?.shouldRevalidate||K.hasClientLoader?L=!0:P.add(H.route.id))}),P.size===0)return[];let z=Ok(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return L&&P.size>0&&z.searchParams.set("_routes",e.filter(H=>P.has(H.route.id)).map(H=>H.route.id).join(",")),[z.pathname+z.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,i,l,v,e,t,u]),A=N.useMemo(()=>Bk(x,l),[x,l]),j=Kk(x);return N.createElement(N.Fragment,null,T.map(P=>N.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),A.map(P=>N.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),j.map(({key:P,link:L})=>N.createElement("link",{key:P,nonce:n.nonce,...L,crossOrigin:L.crossOrigin??n.crossOrigin})))}function Qk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Xk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xk&&(window.__reactRouterVersion="7.13.0")}catch{}function Wk({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=N.useRef();a.current==null&&(a.current=CN({window:i,v5Compat:!0}));let l=a.current,[u,d]=N.useState({action:l.action,location:l.location}),m=N.useCallback(p=>{n===!1?d(p):N.startTransition(()=>d(p))},[n]);return N.useLayoutEffect(()=>l.listen(m),[l,m]),N.createElement(Ak,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var rE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T,...A},j){let{basename:P,unstable_useTransitions:L}=N.useContext(On),z=typeof p=="string"&&rE.test(p),H=Yw(p,P);p=H.to;let K=ok(p,{relative:a}),[re,ae,ue]=Gk(i,A),D=tI(p,{replace:u,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:x,unstable_defaultShouldRevalidate:T,unstable_useTransitions:L});function E(M){e&&e(M),M.defaultPrevented||D(M)}let C=N.createElement("a",{...A,...ue,href:H.absoluteURL||K,onClick:H.isExternal||l?e:E,ref:Qk(j,ae),target:m,"data-discover":!z&&n==="render"?"true":void 0});return re&&!z?N.createElement(N.Fragment,null,C,N.createElement($k,{page:K})):C});Ft.displayName="Link";var Jk=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...p},v){let x=au(u,{relative:p.relative}),T=ji(),A=N.useContext(lf),{navigator:j,basename:P}=N.useContext(On),L=A!=null&&aI(x)&&d===!0,z=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,H=T.pathname,K=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(H=H.toLowerCase(),K=K?K.toLowerCase():null,z=z.toLowerCase()),K&&P&&(K=Ri(K,P)||K);const re=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ae=H===z||!a&&H.startsWith(z)&&H.charAt(re)==="/",ue=K!=null&&(K===z||!a&&K.startsWith(z)&&K.charAt(z.length)==="/"),D={isActive:ae,isPending:ue,isTransitioning:L},E=ae?e:void 0,C;typeof i=="function"?C=i(D):C=[i,ae?"active":null,ue?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(D):l;return N.createElement(Ft,{...p,"aria-current":E,className:C,ref:v,style:M,to:u,viewTransition:d},typeof m=="function"?m(D):m)});Jk.displayName="NavLink";var Zk=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=ud,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T,...A},j)=>{let{unstable_useTransitions:P}=N.useContext(On),L=iI(),z=rI(d,{relative:p}),H=u.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&rE.test(d),re=ae=>{if(m&&m(ae),ae.defaultPrevented)return;ae.preventDefault();let ue=ae.nativeEvent.submitter,D=ue?.getAttribute("formmethod")||u,E=()=>L(ue||ae.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T});P&&n!==!1?N.startTransition(()=>E()):E()};return N.createElement("form",{ref:j,method:H,action:z,onSubmit:i?m:re,...A,"data-discover":!K&&t==="render"?"true":void 0})});Zk.displayName="Form";function eI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aE(t){let e=N.useContext(sl);return ft(e,eI(t)),e}function tI(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=cf(),v=ji(),x=au(t,{relative:l});return N.useCallback(T=>{if(Dk(T,e)){T.preventDefault();let A=n!==void 0?n:zc(v)===zc(x),j=()=>p(t,{replace:A,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?N.startTransition(()=>j()):j()}},[v,p,x,n,i,e,t,a,l,u,d,m])}var nI=0,sI=()=>`__${String(++nI)}__`;function iI(){let{router:t}=aE("useSubmit"),{basename:e}=N.useContext(On),n=_k(),i=t.fetch,a=t.navigate;return N.useCallback(async(l,u={})=>{let{action:d,method:m,encType:p,formData:v,body:x}=Vk(l,e);if(u.navigate===!1){let T=u.fetcherKey||sI();await i(T,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,n])}function rI(t,{relative:e}={}){let{basename:n}=N.useContext(On),i=N.useContext(es);ft(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...au(t||".",{relative:e})},u=ji();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(x=>x).forEach(x=>d.append("index",x));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ai([n,l.pathname])),zc(l)}function aI(t,{relative:e}={}){let n=N.useContext(Xw);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=aE("useViewTransitionState"),a=au(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ri(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ri(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Nd(a.pathname,u)!=null||Nd(a.pathname,l)!=null}const I0=N.createContext({});function D0(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const oE=typeof window<"u",lE=oE?N.useLayoutEffect:N.useEffect,hf=N.createContext(null);function M0(t,e){t.indexOf(e)===-1&&t.push(e)}function kd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ei=(t,e,n)=>n>e?e:n<t?t:n;let j0=()=>{};const Ni={},cE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uE(t){return typeof t=="object"&&t!==null}const hE=t=>/^0[^.\s]+$/u.test(t);function V0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zn=t=>t,oI=(t,e)=>n=>e(t(n)),ou=(...t)=>t.reduce(oI),Fc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class O0{constructor(){this.subscriptions=[]}add(e){return M0(this.subscriptions,e),()=>kd(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vs=t=>t*1e3,Jn=t=>t/1e3;function dE(t,e){return e?t*(1e3/e):0}const fE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,lI=1e-7,cI=12;function uI(t,e,n,i,a){let l,u,d=0;do u=e+(n-e)/2,l=fE(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>lI&&++d<cI);return u}function lu(t,e,n,i){if(t===e&&n===i)return Zn;const a=l=>uI(l,0,1,t,n);return l=>l===0||l===1?l:fE(a(l),e,i)}const mE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pE=t=>e=>1-t(1-e),gE=lu(.33,1.53,.69,.99),P0=pE(gE),yE=mE(P0),vE=t=>(t*=2)<1?.5*P0(t):.5*(2-Math.pow(2,-10*(t-1))),L0=t=>1-Math.sin(Math.acos(t)),bE=pE(L0),xE=mE(L0),hI=lu(.42,0,1,1),dI=lu(0,0,.58,1),_E=lu(.42,0,.58,1),fI=t=>Array.isArray(t)&&typeof t[0]!="number",TE=t=>Array.isArray(t)&&typeof t[0]=="number",mI={linear:Zn,easeIn:hI,easeInOut:_E,easeOut:dI,circIn:L0,circInOut:xE,circOut:bE,backIn:P0,backInOut:yE,backOut:gE,anticipate:vE},pI=t=>typeof t=="string",q_=t=>{if(TE(t)){j0(t.length===4);const[e,n,i,a]=t;return lu(e,n,i,a)}else if(pI(t))return mI[t];return t},Jh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function gI(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,x=!1,T=!1)=>{const j=T&&a?n:i;return x&&u.add(v),j.has(v)||j.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const yI=40;function wE(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Jh.reduce((K,re)=>(K[re]=gI(l),K),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:v,update:x,preRender:T,render:A,postRender:j}=u,P=()=>{const K=Ni.useManualTiming?a.timestamp:performance.now();n=!1,Ni.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(K-a.timestamp,yI),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),v.process(a),x.process(a),T.process(a),A.process(a),j.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(P))},L=()=>{n=!0,i=!0,a.isProcessing||t(P)};return{schedule:Jh.reduce((K,re)=>{const ae=u[re];return K[re]=(ue,D=!1,E=!1)=>(n||L(),ae.schedule(ue,D,E)),K},{}),cancel:K=>{for(let re=0;re<Jh.length;re++)u[Jh[re]].cancel(K)},state:a,steps:u}}const{schedule:ot,cancel:Nr,state:en,steps:Fp}=wE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let dd;function vI(){dd=void 0}const pn={now:()=>(dd===void 0&&pn.set(en.isProcessing||Ni.useManualTiming?en.timestamp:performance.now()),dd),set:t=>{dd=t,queueMicrotask(vI)}},EE=t=>e=>typeof e=="string"&&e.startsWith(t),SE=EE("--"),bI=EE("var(--"),U0=t=>bI(t)?xI.test(t.split("/*")[0].trim()):!1,xI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function G_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hc={...rl,transform:t=>ei(0,1,t)},Zh={...rl,default:1},Ic=t=>Math.round(t*1e5)/1e5,B0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _I(t){return t==null}const TI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,z0=(t,e)=>n=>!!(typeof n=="string"&&TI.test(n)&&n.startsWith(t)||e&&!_I(n)&&Object.prototype.hasOwnProperty.call(n,e)),AE=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,d]=i.match(B0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},wI=t=>ei(0,255,t),Hp={...rl,transform:t=>Math.round(wI(t))},va={test:z0("rgb","red"),parse:AE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Hp.transform(t)+", "+Hp.transform(e)+", "+Hp.transform(n)+", "+Ic(Hc.transform(i))+")"};function EI(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Eg={test:z0("#"),parse:EI,transform:va.transform},cu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yr=cu("deg"),Ys=cu("%"),pe=cu("px"),SI=cu("vh"),AI=cu("vw"),$_={...Ys,parse:t=>Ys.parse(t)/100,transform:t=>Ys.transform(t*100)},jo={test:z0("hsl","hue"),parse:AE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ys.transform(Ic(e))+", "+Ys.transform(Ic(n))+", "+Ic(Hc.transform(i))+")"},Vt={test:t=>va.test(t)||Eg.test(t)||jo.test(t),parse:t=>va.test(t)?va.parse(t):jo.test(t)?jo.parse(t):Eg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?va.transform(t):jo.transform(t),getAnimatableNone:t=>{const e=Vt.parse(t);return e.alpha=0,Vt.transform(e)}},CI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RI(t){return isNaN(t)&&typeof t=="string"&&(t.match(B0)?.length||0)+(t.match(CI)?.length||0)>0}const CE="number",RE="color",NI="var",kI="var(",K_="${}",II=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(II,m=>(Vt.test(m)?(i.color.push(l),a.push(RE),n.push(Vt.parse(m))):m.startsWith(kI)?(i.var.push(l),a.push(NI),n.push(m)):(i.number.push(l),a.push(CE),n.push(parseFloat(m))),++l,K_)).split(K_);return{values:n,split:d,indexes:i,types:a}}function NE(t){return qc(t).values}function kE(t){const{split:e,types:n}=qc(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===CE?l+=Ic(a[u]):d===RE?l+=Vt.transform(a[u]):l+=a[u]}return l}}const DI=t=>typeof t=="number"?0:Vt.test(t)?Vt.getAnimatableNone(t):t;function MI(t){const e=NE(t);return kE(t)(e.map(DI))}const kr={test:RI,parse:NE,createTransformer:kE,getAnimatableNone:MI};function qp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jI({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=qp(m,d,t+1/3),l=qp(m,d,t),u=qp(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Id(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,Gp=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},VI=[Eg,va,jo],OI=t=>VI.find(e=>e.test(t));function Y_(t){const e=OI(t);if(!e)return!1;let n=e.parse(t);return e===jo&&(n=jI(n)),n}const Q_=(t,e)=>{const n=Y_(t),i=Y_(e);if(!n||!i)return Id(t,e);const a={...n};return l=>(a.red=Gp(n.red,i.red,l),a.green=Gp(n.green,i.green,l),a.blue=Gp(n.blue,i.blue,l),a.alpha=mt(n.alpha,i.alpha,l),va.transform(a))},Sg=new Set(["none","hidden"]);function PI(t,e){return Sg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function LI(t,e){return n=>mt(t,e,n)}function F0(t){return typeof t=="number"?LI:typeof t=="string"?U0(t)?Id:Vt.test(t)?Q_:zI:Array.isArray(t)?IE:typeof t=="object"?Vt.test(t)?Q_:UI:Id}function IE(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>F0(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function UI(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=F0(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function BI(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],d=t.values[u]??0;n[a]=d,i[l]++}return n}const zI=(t,e)=>{const n=kr.createTransformer(e),i=qc(t),a=qc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Sg.has(t)&&!a.values.length||Sg.has(e)&&!i.values.length?PI(t,e):ou(IE(BI(i,a),a.values),n):Id(t,e)};function DE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):F0(t)(t,e)}const FI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ot.update(e,n),stop:()=>Nr(e),now:()=>en.isProcessing?en.timestamp:pn.now()}},ME=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Dd=2e4;function H0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Dd;)e+=n,i=t.next(e);return e>=Dd?1/0:e}function HI(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(H0(i),Dd);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Jn(a)}}const qI=5;function jE(t,e,n){const i=Math.max(e-qI,0);return dE(n-t(i),e-i)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$p=.001;function GI({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:i=bt.mass}){let a,l,u=1-e;u=ei(bt.minDamping,bt.maxDamping,u),t=ei(bt.minDuration,bt.maxDuration,Jn(t)),u<1?(a=p=>{const v=p*u,x=v*t,T=v-n,A=Ag(p,u),j=Math.exp(-x);return $p-T/A*j},l=p=>{const x=p*u*t,T=x*n+n,A=Math.pow(u,2)*Math.pow(p,2)*t,j=Math.exp(-x),P=Ag(Math.pow(p,2),u);return(-a(p)+$p>0?-1:1)*((T-A)*j)/P}):(a=p=>{const v=Math.exp(-p*t),x=(p-n)*t+1;return-$p+v*x},l=p=>{const v=Math.exp(-p*t),x=(n-p)*(t*t);return v*x});const d=5/t,m=KI(a,l,d);if(t=vs(t),isNaN(m))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const $I=12;function KI(t,e,n){let i=n;for(let a=1;a<$I;a++)i=i-t(i)/e(i);return i}function Ag(t,e){return t*Math.sqrt(1-e*e)}const YI=["duration","bounce"],QI=["stiffness","damping","mass"];function X_(t,e){return e.some(n=>t[n]!==void 0)}function XI(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!X_(t,QI)&&X_(t,YI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*ei(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=GI(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function Md(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:x,velocity:T,isResolvedFromDuration:A}=XI({...n,velocity:-Jn(n.velocity||0)}),j=T||0,P=p/(2*Math.sqrt(m*v)),L=u-l,z=Jn(Math.sqrt(m/v)),H=Math.abs(L)<5;i||(i=H?bt.restSpeed.granular:bt.restSpeed.default),a||(a=H?bt.restDelta.granular:bt.restDelta.default);let K;if(P<1){const ae=Ag(z,P);K=ue=>{const D=Math.exp(-P*z*ue);return u-D*((j+P*z*L)/ae*Math.sin(ae*ue)+L*Math.cos(ae*ue))}}else if(P===1)K=ae=>u-Math.exp(-z*ae)*(L+(j+z*L)*ae);else{const ae=z*Math.sqrt(P*P-1);K=ue=>{const D=Math.exp(-P*z*ue),E=Math.min(ae*ue,300);return u-D*((j+P*z*L)*Math.sinh(E)+ae*L*Math.cosh(E))/ae}}const re={calculatedDuration:A&&x||null,next:ae=>{const ue=K(ae);if(A)d.done=ae>=x;else{let D=ae===0?j:0;P<1&&(D=ae===0?vs(j):jE(K,ae,ue));const E=Math.abs(D)<=i,C=Math.abs(u-ue)<=a;d.done=E&&C}return d.value=d.done?u:ue,d},toString:()=>{const ae=Math.min(H0(re),Dd),ue=ME(D=>re.next(ae*D).value,ae,30);return ae+"ms "+ue},toTransition:()=>{}};return re}Md.applyToOptions=t=>{const e=HI(t,100,Md);return t.ease=e.ease,t.duration=vs(e.duration),t.type="keyframes",t};function Cg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:p=.5,restSpeed:v}){const x=t[0],T={done:!1,value:x},A=E=>d!==void 0&&E<d||m!==void 0&&E>m,j=E=>d===void 0?m:m===void 0||Math.abs(d-E)<Math.abs(m-E)?d:m;let P=n*e;const L=x+P,z=u===void 0?L:u(L);z!==L&&(P=z-x);const H=E=>-P*Math.exp(-E/i),K=E=>z+H(E),re=E=>{const C=H(E),M=K(E);T.done=Math.abs(C)<=p,T.value=T.done?z:M};let ae,ue;const D=E=>{A(T.value)&&(ae=E,ue=Md({keyframes:[T.value,j(T.value)],velocity:jE(K,E,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return D(0),{calculatedDuration:null,next:E=>{let C=!1;return!ue&&ae===void 0&&(C=!0,re(E),D(E)),ae!==void 0&&E>=ae?ue.next(E-ae):(!C&&re(E),T)}}}function WI(t,e,n){const i=[],a=n||Ni.mix||DE,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||Zn:e;d=ou(m,d)}i.push(d)}return i}function JI(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(j0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=WI(e,i,a),m=d.length,p=v=>{if(u&&v<t[0])return e[0];let x=0;if(m>1)for(;x<t.length-2&&!(v<t[x+1]);x++);const T=Fc(t[x],t[x+1],v);return d[x](T)};return n?v=>p(ei(t[0],t[l-1],v)):p}function ZI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Fc(0,e,i);t.push(mt(n,1,a))}}function eD(t){const e=[0];return ZI(e,t.length-1),e}function tD(t,e){return t.map(n=>n*e)}function nD(t,e){return t.map(()=>e||_E).splice(0,t.length-1)}function Dc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=fI(i)?i.map(q_):q_(i),l={done:!1,value:e[0]},u=tD(n&&n.length===e.length?n:eD(e),t),d=JI(u,e,{ease:Array.isArray(a)?a:nD(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const sD=t=>t!==null;function q0(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(sD),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const iD={decay:Cg,inertia:Cg,tween:Dc,keyframes:Dc,spring:Md};function VE(t){typeof t.type=="string"&&(t.type=iD[t.type])}class G0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const rD=t=>t/100;class $0 extends G0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==pn.now()&&this.tick(pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;VE(e);const{type:n=Dc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||Dc;m!==Dc&&typeof d[0]!="number"&&(this.mixKeyframes=ou(rD,DE(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=H0(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:x,repeatType:T,repeatDelay:A,type:j,onUpdate:P,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,re=i;if(x){const E=Math.min(this.currentTime,a)/d;let C=Math.floor(E),M=E%1;!M&&E>=1&&(M=1),M===1&&C--,C=Math.min(C,x+1),C%2&&(T==="reverse"?(M=1-M,A&&(M-=A/d)):T==="mirror"&&(re=u)),K=ei(0,1,M)*d}const ae=H?{done:!1,value:v[0]}:re.next(K);l&&(ae.value=l(ae.value));let{done:ue}=ae;!H&&m!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return D&&j!==Cg&&(ae.value=q0(v,this.options,L,this.speed)),P&&P(ae.value),D&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jn(e)}get time(){return Jn(this.currentTime)}set time(e){e=vs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=FI,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function aD(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ba=t=>t*180/Math.PI,Rg=t=>{const e=ba(Math.atan2(t[1],t[0]));return Ng(e)},oD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Rg,rotateZ:Rg,skewX:t=>ba(Math.atan(t[1])),skewY:t=>ba(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ng=t=>(t=t%360,t<0&&(t+=360),t),W_=Rg,J_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Z_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),lD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:J_,scaleY:Z_,scale:t=>(J_(t)+Z_(t))/2,rotateX:t=>Ng(ba(Math.atan2(t[6],t[5]))),rotateY:t=>Ng(ba(Math.atan2(-t[2],t[0]))),rotateZ:W_,rotate:W_,skewX:t=>ba(Math.atan(t[4])),skewY:t=>ba(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function kg(t){return t.includes("scale")?1:0}function Ig(t,e){if(!t||t==="none")return kg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=lD,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=oD,a=d}if(!a)return kg(e);const l=i[e],u=a[1].split(",").map(uD);return typeof l=="function"?l(u):u[l]}const cD=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ig(n,e)};function uD(t){return parseFloat(t.trim())}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(al),e1=t=>t===rl||t===pe,hD=new Set(["x","y","z"]),dD=al.filter(t=>!hD.has(t));function fD(t){const e=[];return dD.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const _r={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ig(e,"x"),y:(t,{transform:e})=>Ig(e,"y")};_r.translateX=_r.x;_r.translateY=_r.y;const Ta=new Set;let Dg=!1,Mg=!1,jg=!1;function OE(){if(Mg){const t=Array.from(Ta).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=fD(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Mg=!1,Dg=!1,Ta.forEach(t=>t.complete(jg)),Ta.clear()}function PE(){Ta.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Mg=!0)})}function mD(){jg=!0,PE(),OE(),jg=!1}class K0{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ta.add(this),Dg||(Dg=!0,ot.read(PE),ot.resolveKeyframes(OE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}aD(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ta.delete(this)}cancel(){this.state==="scheduled"&&(Ta.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const pD=t=>t.startsWith("--");function gD(t,e,n){pD(e)?t.style.setProperty(e,n):t.style[e]=n}const yD=V0(()=>window.ScrollTimeline!==void 0),vD={};function bD(t,e){const n=V0(t);return()=>vD[e]??n()}const LE=bD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ac=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,t1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ac([0,.65,.55,1]),circOut:Ac([.55,0,1,.45]),backIn:Ac([.31,.01,.66,-.59]),backOut:Ac([.33,1.53,.69,.99])};function UE(t,e){if(t)return typeof t=="function"?LE()?ME(t,e):"ease-out":TE(t)?Ac(t):Array.isArray(t)?t.map(n=>UE(n,e)||t1.easeOut):t1[t]}function xD(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const x=UE(d,a);Array.isArray(x)&&(v.easing=x);const T={delay:i,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(v,T)}function BE(t){return typeof t=="function"&&"applyToOptions"in t}function _D({type:t,...e}){return BE(t)&&LE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zE extends G0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,j0(typeof e.type!="string");const p=_D(e);this.animation=xD(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=q0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):gD(n,i,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Jn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jn(e)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=vs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&yD()?(this.animation.timeline=e,Zn):n(this)}}const FE={anticipate:vE,backInOut:yE,circInOut:xE};function TD(t){return t in FE}function wD(t){typeof t.ease=="string"&&TD(t.ease)&&(t.ease=FE[t.ease])}const Kp=10;class ED extends zE{constructor(e){wD(e),VE(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new $0({...u,autoplay:!1}),m=Math.max(Kp,pn.now()-this.startTime),p=ei(0,Kp,m-Kp);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const n1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(kr.test(t)||t==="0")&&!t.startsWith("url("));function SD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function AD(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=n1(a,e),d=n1(l,e);return!u||!d?!1:SD(t)||(n==="spring"||BE(n))&&i}function Vg(t){t.duration=0,t.type="keyframes"}const CD=new Set(["opacity","clipPath","filter","transform"]),RD=V0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ND(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return RD()&&n&&CD.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const kD=40;class ID extends G0{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:p,element:v,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=pn.now();const T={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:v,...x},A=v?.KeyframeResolver||K0;this.keyframeResolver=new A(d,(j,P,L)=>this.onKeyframesResolved(j,P,T,!L),m,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:p,onUpdate:v}=i;this.resolvedAt=pn.now(),AD(e,l,u,d)||((Ni.instantAnimations||!m)&&v?.(q0(e,i,n)),e[0]=e[e.length-1],Vg(i),i.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>kD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!p&&ND(T),j=T.motionValue?.owner?.current,P=A?new ED({...T,element:j}):new $0(T);P.finished.then(()=>{this.notifyFinished()}).catch(Zn),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),mD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function HE(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),u=t.size,d=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:d-l*i}const DD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MD(t){const e=DD.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function qE(t,e,n=1){const[i,a]=MD(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return cE(u)?parseFloat(u):u}return U0(a)?qE(a,e,n+1):a}const jD={type:"spring",stiffness:500,damping:25,restSpeed:10},VD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OD={type:"keyframes",duration:.8},PD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LD=(t,{keyframes:e})=>e.length>2?OD:ol.has(t)?t.startsWith("scale")?VD(e[1]):jD:PD,UD=t=>t!==null;function BD(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(UD),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function GE(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function Y0(t,e){const n=t?.[e]??t?.default??t;return n!==t?GE(n,t):n}function zD({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const Q0=(t,e,n,i={},a,l)=>u=>{const d=Y0(i,t)||{},m=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-vs(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};zD(d)||Object.assign(v,LD(t,v)),v.duration&&(v.duration=vs(v.duration)),v.repeatDelay&&(v.repeatDelay=vs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let x=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Vg(v),v.delay===0&&(x=!0)),(Ni.instantAnimations||Ni.skipAnimations||a?.shouldSkipAnimations)&&(x=!0,Vg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const T=BD(v.keyframes,d);if(T!==void 0){ot.update(()=>{v.onUpdate(T),v.onComplete()});return}}return d.isSync?new $0(v):new ID(v)};function s1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function X0(t,e,n,i){if(typeof e=="function"){const[a,l]=s1(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=s1(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Bo(t,e,n){const i=t.getProps();return X0(i,e,n!==void 0?n:i.custom,t)}const $E=new Set(["width","height","top","left","right","bottom",...al]),i1=30,FD=t=>!isNaN(parseFloat(t));class HD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=pn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=FD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new O0);const i=this.events[e].add(n);return e==="change"?()=>{i(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>i1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,i1);return dE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(t,e){return new HD(t,e)}const Og=t=>Array.isArray(t);function qD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ko(n))}function GD(t){return Og(t)?t[t.length-1]||0:t}function $D(t,e){const n=Bo(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const d=GD(l[u]);qD(t,u,d)}}const un=t=>!!(t&&t.getVelocity);function KD(t){return!!(un(t)&&t.add)}function Pg(t,e){const n=t.getValue("willChange");if(KD(n))return n.add(e);if(!n&&Ni.WillChange){const i=new Ni.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function W0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const YD="framerAppearId",KE="data-"+W0(YD);function YE(t){return t.props[KE]}function QD({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function QE(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:u,...d}=e;const m=t.getDefaultTransition();l=l?GE(l,m):m;const p=l?.reduceMotion;i&&(l=i);const v=[],x=a&&t.animationState&&t.animationState.getState()[a];for(const T in d){const A=t.getValue(T,t.latestValues[T]??null),j=d[T];if(j===void 0||x&&QD(x,T))continue;const P={delay:n,...Y0(l||{},T)},L=A.get();if(L!==void 0&&!A.isAnimating&&!Array.isArray(j)&&j===L&&!P.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const re=YE(t);if(re){const ae=window.MotionHandoffAnimation(re,T,ot);ae!==null&&(P.startTime=ae,z=!0)}}Pg(t,T);const H=p??t.shouldReduceMotion;A.start(Q0(T,A,j,H&&$E.has(T)?{type:!1}:P,t,z));const K=A.animation;K&&v.push(K)}if(u){const T=()=>ot.update(()=>{u&&$D(t,u)});v.length?Promise.all(v).then(T):T()}return v}function Lg(t,e,n={}){const i=Bo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(QE(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:x}=a;return XD(t,e,m,p,v,x,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function XD(t,e,n=0,i=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Lg(m,e,{...u,delay:n+(typeof i=="function"?0:i)+HE(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function WD(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Lg(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Lg(t,e,n);else{const a=typeof e=="function"?Bo(t,e,n.custom):e;i=Promise.all(QE(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const JD={test:t=>t==="auto",parse:t=>t},XE=t=>e=>e.test(t),WE=[rl,pe,Ys,yr,AI,SI,JD],r1=t=>WE.find(XE(t));function ZD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||hE(t):!0}const e4=new Set(["brightness","contrast","saturate","opacity"]);function t4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(B0)||[];if(!i)return t;const a=n.replace(i,"");let l=e4.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const n4=/\b([a-z-]*)\(.*?\)/gu,Ug={...kr,getAnimatableNone:t=>{const e=t.match(n4);return e?e.map(t4).join(" "):t}},a1={...rl,transform:Math.round},s4={rotate:yr,rotateX:yr,rotateY:yr,rotateZ:yr,scale:Zh,scaleX:Zh,scaleY:Zh,scaleZ:Zh,skew:yr,skewX:yr,skewY:yr,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Hc,originX:$_,originY:$_,originZ:pe},J0={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,inset:pe,insetBlock:pe,insetBlockStart:pe,insetBlockEnd:pe,insetInline:pe,insetInlineStart:pe,insetInlineEnd:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,paddingBlock:pe,paddingBlockStart:pe,paddingBlockEnd:pe,paddingInline:pe,paddingInlineStart:pe,paddingInlineEnd:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,marginBlock:pe,marginBlockStart:pe,marginBlockEnd:pe,marginInline:pe,marginInlineStart:pe,marginInlineEnd:pe,fontSize:pe,backgroundPositionX:pe,backgroundPositionY:pe,...s4,zIndex:a1,fillOpacity:Hc,strokeOpacity:Hc,numOctaves:a1},i4={...J0,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:Ug,WebkitFilter:Ug},JE=t=>i4[t];function ZE(t,e){let n=JE(t);return n!==Ug&&(n=kr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const r4=new Set(["auto","none","0"]);function a4(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!r4.has(l)&&qc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=ZE(n,a)}class o4 extends K0{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let x=e[v];if(typeof x=="string"&&(x=x.trim(),U0(x))){const T=qE(x,n.current);T!==void 0&&(e[v]=T),v===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!$E.has(i)||e.length!==2)return;const[a,l]=e,u=r1(a),d=r1(l),m=G_(a),p=G_(l);if(m!==p&&_r[i]){this.needsMeasurement=!0;return}if(u!==d)if(e1(u)&&e1(d))for(let v=0;v<e.length;v++){const x=e[v];typeof x=="string"&&(e[v]=parseFloat(x))}else _r[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||ZD(e[a]))&&i.push(a);i.length&&a4(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_r[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=_r[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const l4=new Set(["opacity","clipPath","filter","transform"]);function eS(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const tS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Bg(t){return uE(t)&&"offsetHeight"in t}const{schedule:Z0}=wE(queueMicrotask,!1),ms={x:!1,y:!1};function nS(){return ms.x||ms.y}function c4(t){return t==="x"||t==="y"?ms[t]?null:(ms[t]=!0,()=>{ms[t]=!1}):ms.x||ms.y?null:(ms.x=ms.y=!0,()=>{ms.x=ms.y=!1})}function sS(t,e){const n=eS(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function u4(t){return!(t.pointerType==="touch"||nS())}function h4(t,e,n={}){const[i,a,l]=sS(t,n);return i.forEach(u=>{let d=!1,m=!1,p;const v=()=>{u.removeEventListener("pointerleave",j)},x=L=>{p&&(p(L),p=void 0),v()},T=L=>{d=!1,window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),m&&(m=!1,x(L))},A=()=>{d=!0,window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",T,a)},j=L=>{if(L.pointerType!=="touch"){if(d){m=!0;return}x(L)}},P=L=>{if(!u4(L))return;m=!1;const z=e(u,L);typeof z=="function"&&(p=z,u.addEventListener("pointerleave",j,a))};u.addEventListener("pointerenter",P,a),u.addEventListener("pointerdown",A,a)}),l}const iS=(t,e)=>e?t===e?!0:iS(t,e.parentElement):!1,ey=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,d4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function f4(t){return d4.has(t.tagName)||t.isContentEditable===!0}const m4=new Set(["INPUT","SELECT","TEXTAREA"]);function p4(t){return m4.has(t.tagName)||t.isContentEditable===!0}const fd=new WeakSet;function o1(t){return e=>{e.key==="Enter"&&t(e)}}function Yp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const g4=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=o1(()=>{if(fd.has(n))return;Yp(n,"down");const a=o1(()=>{Yp(n,"up")}),l=()=>Yp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function l1(t){return ey(t)&&!nS()}const c1=new WeakSet;function y4(t,e,n={}){const[i,a,l]=sS(t,n),u=d=>{const m=d.currentTarget;if(!l1(d)||c1.has(d))return;fd.add(m),n.stopPropagation&&c1.add(d);const p=e(m,d),v=(A,j)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",T),fd.has(m)&&fd.delete(m),l1(A)&&typeof p=="function"&&p(A,{success:j})},x=A=>{v(A,m===window||m===document||n.useGlobalTarget||iS(m,A.target))},T=A=>{v(A,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",T,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),Bg(d)&&(d.addEventListener("focus",p=>g4(p,a)),!f4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function ty(t){return uE(t)&&"ownerSVGElement"in t}const md=new WeakMap;let pd;const rS=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:ty(i)&&"getBBox"in i?i.getBBox()[e]:i[n],v4=rS("inline","width","offsetWidth"),b4=rS("block","height","offsetHeight");function x4({target:t,borderBoxSize:e}){md.get(t)?.forEach(n=>{n(t,{get width(){return v4(t,e)},get height(){return b4(t,e)}})})}function _4(t){t.forEach(x4)}function T4(){typeof ResizeObserver>"u"||(pd=new ResizeObserver(_4))}function w4(t,e){pd||T4();const n=eS(t);return n.forEach(i=>{let a=md.get(i);a||(a=new Set,md.set(i,a)),a.add(e),pd?.observe(i)}),()=>{n.forEach(i=>{const a=md.get(i);a?.delete(e),a?.size||pd?.unobserve(i)})}}const gd=new Set;let Vo;function E4(){Vo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};gd.forEach(e=>e(t))},window.addEventListener("resize",Vo)}function S4(t){return gd.add(t),Vo||E4(),()=>{gd.delete(t),!gd.size&&typeof Vo=="function"&&(window.removeEventListener("resize",Vo),Vo=void 0)}}function u1(t,e){return typeof t=="function"?S4(t):w4(t,e)}function A4(t){return ty(t)&&t.tagName==="svg"}const C4=[...WE,Vt,kr],R4=t=>C4.find(XE(t)),h1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oo=()=>({x:h1(),y:h1()}),d1=()=>({min:0,max:0}),zt=()=>({x:d1(),y:d1()}),N4=new WeakMap;function df(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Gc(t){return typeof t=="string"||Array.isArray(t)}const ny=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sy=["initial",...ny];function ff(t){return df(t.animate)||sy.some(e=>Gc(t[e]))}function aS(t){return!!(ff(t)||t.variants)}function k4(t,e,n){for(const i in e){const a=e[i],l=n[i];if(un(a))t.addValue(i,a);else if(un(l))t.addValue(i,Ko(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Ko(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const zg={current:null},oS={current:!1},I4=typeof window<"u";function D4(){if(oS.current=!0,!!I4)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zg.current=t.matches;t.addEventListener("change",e),e()}else zg.current=!1}const f1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let jd={};function lS(t){jd=t}function M4(){return jd}class j4{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=K0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=pn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ot.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=ff(n),this.isVariantNode=aS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in T){const j=T[A];p[A]!==void 0&&un(j)&&j.set(p[A])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,N4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(oS.current||D4(),this.shouldReduceMotion=zg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Nr(this.notifyUpdate),Nr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&l4.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:d,times:m,ease:p,duration:v}=n.accelerate,x=new zE({element:this.current,name:e,keyframes:d,times:m,ease:p,duration:vs(v)}),T=u(x);this.valueSubscriptions.set(e,()=>{T(),x.cancel()});return}const i=ol.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ot.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jd){const n=jd[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<f1.length;i++){const a=f1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=k4(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ko(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(cE(i)||hE(i))?i=parseFloat(i):!R4(i)&&kr.test(n)&&(i=ZE(e,n)),this.setBaseTarget(e,un(i)?i.get():i)),un(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=X0(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!un(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new O0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Z0.render(this.render)}}class cS extends j4{constructor(){super(...arguments),this.KeyframeResolver=o4}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Pr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function uS({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function V4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function O4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Qp(t){return t===void 0||t===1}function Fg({scale:t,scaleX:e,scaleY:n}){return!Qp(t)||!Qp(e)||!Qp(n)}function ga(t){return Fg(t)||hS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hS(t){return m1(t.x)||m1(t.y)}function m1(t){return t&&t!=="0%"}function Vd(t,e,n){const i=t-n,a=e*i;return n+a}function p1(t,e,n,i,a){return a!==void 0&&(t=Vd(t,a,i)),Vd(t,n,i)+e}function Hg(t,e=0,n=1,i,a){t.min=p1(t.min,e,n,i,a),t.max=p1(t.max,e,n,i,a)}function dS(t,{x:e,y:n}){Hg(t.x,e.translate,e.scale,e.originPoint),Hg(t.y,n.translate,n.scale,n.originPoint)}const g1=.999999999999,y1=1.0000000000001;function P4(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Lo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,dS(t,u)),i&&ga(l.latestValues)&&Lo(t,l.latestValues))}e.x<y1&&e.x>g1&&(e.x=1),e.y<y1&&e.y>g1&&(e.y=1)}function Po(t,e){t.min=t.min+e,t.max=t.max+e}function v1(t,e,n,i,a=.5){const l=mt(t.min,t.max,a);Hg(t,e,n,l,i)}function Lo(t,e){v1(t.x,e.x,e.scaleX,e.scale,e.originX),v1(t.y,e.y,e.scaleY,e.scale,e.originY)}function fS(t,e){return uS(O4(t.getBoundingClientRect(),e))}function L4(t,e,n){const i=fS(t,n),{scroll:a}=e;return a&&(Po(i.x,a.offset.x),Po(i.y,a.offset.y)),i}const U4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B4=al.length;function z4(t,e,n){let i="",a=!0;for(let l=0;l<B4;l++){const u=al[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(u.startsWith("scale")?1:0);else{const p=parseFloat(d);m=u.startsWith("scale")?p===1:p===0}if(!m||n){const p=tS(d,J0[u]);if(!m){a=!1;const v=U4[u]||u;i+=`${v}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function iy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const p=e[m];if(ol.has(m)){u=!0;continue}else if(SE(m)){a[m]=p;continue}else{const v=tS(p,J0[m]);m.startsWith("origin")?(d=!0,l[m]=v):i[m]=v}}if(e.transform||(u||n?i.transform=z4(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${p} ${v}`}}function mS(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function b1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ec={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=b1(t,e.target.x),i=b1(t,e.target.y);return`${n}% ${i}%`}},F4={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=kr.parse(t);if(a.length>5)return i;const l=kr.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const p=mt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},qg={borderRadius:{...Ec,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ec,borderTopRightRadius:Ec,borderBottomLeftRadius:Ec,borderBottomRightRadius:Ec,boxShadow:F4};function pS(t,{layout:e,layoutId:n}){return ol.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qg[t]||t==="opacity")}function ry(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const u in i)(un(i[u])||a&&un(a[u])||pS(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}function H4(t){return window.getComputedStyle(t)}class q4 extends cS{constructor(){super(...arguments),this.type="html",this.renderInstance=mS}readValueFromInstance(e,n){if(ol.has(n))return this.projection?.isProjecting?kg(n):cD(e,n);{const i=H4(e),a=(SE(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fS(e,n)}build(e,n,i){iy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return ry(e,n,i)}}const G4={offset:"stroke-dashoffset",array:"stroke-dasharray"},$4={offset:"strokeDashoffset",array:"strokeDasharray"};function K4(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?G4:$4;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const Y4=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function gS(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,p,v){if(iy(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:T}=t;x.transform&&(T.transform=x.transform,delete x.transform),(T.transform||x.transformOrigin)&&(T.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),T.transform&&(T.transformBox=v?.transformBox??"fill-box",delete x.transformBox);for(const A of Y4)x[A]!==void 0&&(T[A]=x[A],delete x[A]);e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),a!==void 0&&K4(x,a,l,u,!1)}const yS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),vS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Q4(t,e,n,i){mS(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(yS.has(a)?a:W0(a),e.attrs[a])}function bS(t,e,n){const i=ry(t,e,n);for(const a in t)if(un(t[a])||un(e[a])){const l=al.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class X4 extends cS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ol.has(n)){const i=JE(n);return i&&i.default||0}return n=yS.has(n)?n:W0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return bS(e,n,i)}build(e,n,i){gS(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){Q4(e,n,i,a)}mount(e){this.isSVGTag=vS(e.tagName),super.mount(e)}}const W4=sy.length;function xS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?xS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<W4;n++){const i=sy[n],a=t.props[i];(Gc(a)||a===!1)&&(e[i]=a)}return e}function _S(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const J4=[...ny].reverse(),Z4=ny.length;function e5(t){return e=>Promise.all(e.map(({animation:n,options:i})=>WD(t,n,i)))}function t5(t){let e=e5(t),n=x1(),i=!0;const a=m=>(p,v)=>{const x=Bo(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:T,transitionEnd:A,...j}=x;p={...p,...j,...A}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,v=xS(t.parent)||{},x=[],T=new Set;let A={},j=1/0;for(let L=0;L<Z4;L++){const z=J4[L],H=n[z],K=p[z]!==void 0?p[z]:v[z],re=Gc(K),ae=z===m?H.isActive:null;ae===!1&&(j=L);let ue=K===v[z]&&K!==p[z]&&re;if(ue&&i&&t.manuallyAnimateOnMount&&(ue=!1),H.protectedKeys={...A},!H.isActive&&ae===null||!K&&!H.prevProp||df(K)||typeof K=="boolean")continue;if(z==="exit"&&H.isActive&&ae!==!0){H.prevResolvedValues&&(A={...A,...H.prevResolvedValues});continue}const D=n5(H.prevProp,K);let E=D||z===m&&H.isActive&&!ue&&re||L>j&&re,C=!1;const M=Array.isArray(K)?K:[K];let k=M.reduce(a(z),{});ae===!1&&(k={});const{prevResolvedValues:V={}}=H,I={...V,...k},we=oe=>{E=!0,T.has(oe)&&(C=!0,T.delete(oe)),H.needsAnimating[oe]=!0;const he=t.getValue(oe);he&&(he.liveStyle=!1)};for(const oe in I){const he=k[oe],Ae=V[oe];if(A.hasOwnProperty(oe))continue;let Ie=!1;Og(he)&&Og(Ae)?Ie=!_S(he,Ae):Ie=he!==Ae,Ie?he!=null?we(oe):T.add(oe):he!==void 0&&T.has(oe)?we(oe):H.protectedKeys[oe]=!0}H.prevProp=K,H.prevResolvedValues=k,H.isActive&&(A={...A,...k}),i&&t.blockInitialAnimation&&(E=!1);const Ve=ue&&D;E&&(!Ve||C)&&x.push(...M.map(oe=>{const he={type:z};if(typeof oe=="string"&&i&&!Ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,Ie=Bo(Ae,oe);if(Ae.enteringChildren&&Ie){const{delayChildren:U}=Ie.transition||{};he.delay=HE(Ae.enteringChildren,t,U)}}return{animation:oe,options:he}}))}if(T.size){const L={};if(typeof p.initial!="boolean"){const z=Bo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(L.transition=z.transition)}T.forEach(z=>{const H=t.getBaseTarget(z),K=t.getValue(z);K&&(K.liveStyle=!0),L[z]=H??null}),x.push({animation:L})}let P=!!x.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(x):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(m,p)),n[m].isActive=p;const v=u(m);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=x1()}}}function n5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_S(e,t):!1}function pa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function x1(){return{animate:pa(!0),whileInView:pa(),whileHover:pa(),whileTap:pa(),whileDrag:pa(),whileFocus:pa(),exit:pa()}}function _1(t,e){t.min=e.min,t.max=e.max}function fs(t,e){_1(t.x,e.x),_1(t.y,e.y)}function T1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const TS=1e-4,s5=1-TS,i5=1+TS,wS=.01,r5=0-wS,a5=0+wS;function gn(t){return t.max-t.min}function o5(t,e,n){return Math.abs(t-e)<=n}function w1(t,e,n,i=.5){t.origin=i,t.originPoint=mt(e.min,e.max,t.origin),t.scale=gn(n)/gn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=s5&&t.scale<=i5||isNaN(t.scale))&&(t.scale=1),(t.translate>=r5&&t.translate<=a5||isNaN(t.translate))&&(t.translate=0)}function Mc(t,e,n,i){w1(t.x,e.x,n.x,i?i.originX:void 0),w1(t.y,e.y,n.y,i?i.originY:void 0)}function E1(t,e,n){t.min=n.min+e.min,t.max=t.min+gn(e)}function l5(t,e,n){E1(t.x,e.x,n.x),E1(t.y,e.y,n.y)}function S1(t,e,n){t.min=e.min-n.min,t.max=t.min+gn(e)}function Od(t,e,n){S1(t.x,e.x,n.x),S1(t.y,e.y,n.y)}function A1(t,e,n,i,a){return t-=e,t=Vd(t,1/n,i),a!==void 0&&(t=Vd(t,1/a,i)),t}function c5(t,e=0,n=1,i=.5,a,l=t,u=t){if(Ys.test(e)&&(e=parseFloat(e),e=mt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=mt(l.min,l.max,i);t===l&&(d-=e),t.min=A1(t.min,e,n,d,a),t.max=A1(t.max,e,n,d,a)}function C1(t,e,[n,i,a],l,u){c5(t,e[n],e[i],e[a],e.scale,l,u)}const u5=["x","scaleX","originX"],h5=["y","scaleY","originY"];function R1(t,e,n,i){C1(t.x,e,u5,n?n.x:void 0,i?i.x:void 0),C1(t.y,e,h5,n?n.y:void 0,i?i.y:void 0)}function N1(t){return t.translate===0&&t.scale===1}function ES(t){return N1(t.x)&&N1(t.y)}function k1(t,e){return t.min===e.min&&t.max===e.max}function d5(t,e){return k1(t.x,e.x)&&k1(t.y,e.y)}function I1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SS(t,e){return I1(t.x,e.x)&&I1(t.y,e.y)}function D1(t){return gn(t.x)/gn(t.y)}function M1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function $s(t){return[t("x"),t("y")]}function f5(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:x,rotateY:T,skewX:A,skewY:j}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),x&&(i+=`rotateX(${x}deg) `),T&&(i+=`rotateY(${T}deg) `),A&&(i+=`skewX(${A}deg) `),j&&(i+=`skewY(${j}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(i+=`scale(${d}, ${m})`),i||"none"}const AS=["TopLeft","TopRight","BottomLeft","BottomRight"],m5=AS.length,j1=t=>typeof t=="string"?parseFloat(t):t,V1=t=>typeof t=="number"||pe.test(t);function p5(t,e,n,i,a,l){a?(t.opacity=mt(0,n.opacity??1,g5(i)),t.opacityExit=mt(e.opacity??1,0,y5(i))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,i));for(let u=0;u<m5;u++){const d=`border${AS[u]}Radius`;let m=O1(e,d),p=O1(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||V1(m)===V1(p)?(t[d]=Math.max(mt(j1(m),j1(p),i),0),(Ys.test(p)||Ys.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,i))}function O1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const g5=CS(0,.5,bE),y5=CS(.5,.95,Zn);function CS(t,e,n){return i=>i<t?0:i>e?1:n(Fc(t,e,i))}function v5(t,e,n){const i=un(t)?t:Ko(t);return i.start(Q0("",i,e,n)),i.animation}function $c(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const b5=(t,e)=>t.depth-e.depth;class x5{constructor(){this.children=[],this.isDirty=!1}add(e){M0(this.children,e),this.isDirty=!0}remove(e){kd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b5),this.isDirty=!1,this.children.forEach(e)}}function _5(t,e){const n=pn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Nr(i),t(l-e))};return ot.setup(i,!0),()=>Nr(i)}function yd(t){return un(t)?t.get():t}class T5{constructor(){this.members=[]}add(e){M0(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&kd(this.members,i)}e.scheduleRender()}remove(e){if(kd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:d}=e.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Xp=["","X","Y","Z"],w5=1e3;let E5=0;function Wp(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function RS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ot,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&RS(i)}function NS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=E5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C5),this.nodes.forEach(I5),this.nodes.forEach(D5),this.nodes.forEach(R5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new x5)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new O0),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ty(u)&&!A4(u),this.instance=u;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,x=0;const T=()=>this.root.updateBlockedByResize=!1;ot.read(()=>{x=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==x&&(x=A,this.root.updateBlockedByResize=!0,v&&v(),v=_5(T,250),vd.hasAnimatedSinceResize&&(vd.hasAnimatedSinceResize=!1,this.nodes.forEach(U1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:T,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||P5,{onLayoutAnimationStart:P,onLayoutAnimationComplete:L}=p.getProps(),z=!this.targetLayout||!SS(this.targetLayout,A),H=!x&&T;if(this.options.layoutRoot||this.resumeFrom||H||x&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...Y0(j,"layout"),onPlay:P,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(v,H)}else x||U1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(P1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(L1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(k5),this.nodes.forEach(S5),this.nodes.forEach(A5)):this.nodes.forEach(L1),this.clearAllSnapshots();const d=pn.now();en.delta=ei(0,1e3/60,d-en.timestamp),en.timestamp=d,en.isProcessing=!0,Fp.update.process(en),Fp.preRender.process(en),Fp.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Z0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N5),this.sharedNodes.forEach(j5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!ES(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||ga(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),L5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return zt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(U5))){const{scroll:p}=this.root;p&&(Po(d.x,p.offset.x),Po(d.y,p.offset.y))}return d}removeElementScroll(u){const d=zt();if(fs(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:x}=p;p!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&fs(d,u),Po(d.x,v.offset.x),Po(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const m=zt();fs(m,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Lo(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ga(v.latestValues)&&Lo(m,v.latestValues)}return ga(this.latestValues)&&Lo(m,this.latestValues),m}removeTransform(u){const d=zt();fs(d,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ga(p.latestValues))continue;Fg(p.latestValues)&&p.updateSnapshot();const v=zt(),x=p.measurePageBox();fs(v,x),R1(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return ga(this.latestValues)&&R1(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!this.layout||!(v||x))return;this.resolvedRelativeTargetAt=en.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fs(this.target,this.layout.layoutBox),dS(this.target,this.targetDelta)):fs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Fg(this.parent.latestValues)||hS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Od(this.relativeTargetOrigin,d,m),fs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===en.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;fs(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,T=this.treeScale.y;P4(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=zt());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(T1(this.prevProjectionDelta.x,this.projectionDelta.x),T1(this.prevProjectionDelta.y,this.projectionDelta.y)),Mc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==T||!M1(this.projectionDelta.x,this.prevProjectionDelta.x)||!M1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oo(),this.projectionDelta=Oo(),this.projectionDeltaWithTransform=Oo()}setAnimationOrigin(u,d=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},x=Oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=zt(),A=m?m.source:void 0,j=this.layout?this.layout.source:void 0,P=A!==j,L=this.getStack(),z=!L||L.members.length<=1,H=!!(P&&!z&&this.options.crossfade===!0&&!this.path.some(O5));this.animationProgress=0;let K;this.mixTargetDelta=re=>{const ae=re/1e3;B1(x.x,u.x,ae),B1(x.y,u.y,ae),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Od(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V5(this.relativeTarget,this.relativeTargetOrigin,T,ae),K&&d5(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=zt()),fs(K,this.relativeTarget)),P&&(this.animationValues=v,p5(v,p,this.latestValues,ae,H,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{vd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ko(0)),this.currentAnimation=v5(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:v}=u;if(!(!d||!m||!p)){if(this!==u&&this.layout&&p&&kS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||zt();const x=gn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+x;const T=gn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}fs(d,m),Lo(d,v),Mc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new T5),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Wp("z",u,p,this.animationValues);for(let v=0;v<Xp.length;v++)Wp(`rotate${Xp[v]}`,u,p,this.animationValues),Wp(`skew${Xp[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=yd(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=yd(d?.pointerEvents)||""),this.hasProjected&&!ga(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let x=f5(this.projectionDeltaWithTransform,this.treeScale,v);m&&(x=m(v,x)),u.transform=x;const{x:T,y:A}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const j in qg){if(v[j]===void 0)continue;const{correct:P,applyTo:L,isCSSVariable:z}=qg[j],H=x==="none"?v[j]:P(v[j],p);if(L){const K=L.length;for(let re=0;re<K;re++)u[L[re]]=H}else z?this.options.visualElement.renderState.vars[j]=H:u[j]=H}this.options.layoutId&&(u.pointerEvents=p===this?yd(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(P1),this.root.sharedNodes.clear()}}}function S5(t){t.updateLayout()}function A5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?$s(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],T=gn(x);x.min=n[v].min,x.max=x.min+T}):kS(a,e.layoutBox,n)&&$s(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],T=gn(n[v]);x.max=x.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const u=Oo();Mc(u,n,e.layoutBox);const d=Oo();l?Mc(d,t.applyTransform(i,!0),e.measuredBox):Mc(d,n,e.layoutBox);const m=!ES(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:T}=v;if(x&&T){const A=zt();Od(A,e.layoutBox,x.layoutBox);const j=zt();Od(j,n,T.layoutBox),SS(A,j)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function C5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function R5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function N5(t){t.clearSnapshot()}function P1(t){t.clearMeasurements()}function L1(t){t.isLayoutDirty=!1}function k5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function U1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function I5(t){t.resolveTargetDelta()}function D5(t){t.calcProjection()}function M5(t){t.resetSkewAndRotation()}function j5(t){t.removeLeadSnapshot()}function B1(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function z1(t,e,n,i){t.min=mt(e.min,n.min,i),t.max=mt(e.max,n.max,i)}function V5(t,e,n,i){z1(t.x,e.x,n.x,i),z1(t.y,e.y,n.y,i)}function O5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const P5={duration:.45,ease:[.4,0,.1,1]},F1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),H1=F1("applewebkit/")&&!F1("chrome/")?Math.round:Zn;function q1(t){t.min=H1(t.min),t.max=H1(t.max)}function L5(t){q1(t.x),q1(t.y)}function kS(t,e,n){return t==="position"||t==="preserve-aspect"&&!o5(D1(e),D1(n),.2)}function U5(t){return t!==t.root&&t.scroll?.wasRoot}const B5=NS({attachResizeListener:(t,e)=>$c(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Jp={current:void 0},IS=NS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jp.current){const t=new B5({});t.mount(window),t.setOptions({layoutScroll:!0}),Jp.current=t}return Jp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ay=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function G1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function z5(...t){return e=>{let n=!1;const i=t.map(a=>{const l=G1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():G1(t[a],null)}}}}function F5(...t){return N.useCallback(z5(...t),t)}class H5 extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=Bg(i)&&i.offsetWidth||0,l=Bg(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function q5({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const u=N.useId(),d=N.useRef(null),m=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=N.useContext(ay),v=t.props?.ref??t?.ref,x=F5(d,v);return N.useInsertionEffect(()=>{const{width:T,height:A,top:j,left:P,right:L,bottom:z}=m.current;if(e||l===!1||!d.current||!T||!A)return;const H=n==="left"?`left: ${P}`:`right: ${L}`,K=i==="bottom"?`bottom: ${z}`:`top: ${j}`;d.current.dataset.motionPopId=u;const re=document.createElement("style");p&&(re.nonce=p);const ae=a??document.head;return ae.appendChild(re),re.sheet&&re.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${A}px !important;
            ${H}px !important;
            ${K}px !important;
          }
        `),()=>{ae.contains(re)&&ae.removeChild(re)}},[e]),y.jsx(H5,{isPresent:e,childRef:d,sizeRef:m,pop:l,children:l===!1?t:N.cloneElement(t,{ref:x})})}const G5=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,anchorY:m,root:p})=>{const v=D0($5),x=N.useId();let T=!0,A=N.useMemo(()=>(T=!1,{id:x,initial:e,isPresent:n,custom:a,onExitComplete:j=>{v.set(j,!0);for(const P of v.values())if(!P)return;i&&i()},register:j=>(v.set(j,!1),()=>v.delete(j))}),[n,v,i]);return l&&T&&(A={...A}),N.useMemo(()=>{v.forEach((j,P)=>v.set(P,!1))},[n]),N.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=y.jsx(q5,{pop:u==="popLayout",isPresent:n,anchorX:d,anchorY:m,root:p,children:t}),y.jsx(hf.Provider,{value:A,children:t})};function $5(){return new Map}function DS(t=!0){const e=N.useContext(hf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const u=N.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const ed=t=>t.key||"";function $1(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const si=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",anchorY:m="top",root:p})=>{const[v,x]=DS(u),T=N.useMemo(()=>$1(t),[t]),A=u&&!v?[]:T.map(ed),j=N.useRef(!0),P=N.useRef(T),L=D0(()=>new Map),z=N.useRef(new Set),[H,K]=N.useState(T),[re,ae]=N.useState(T);lE(()=>{j.current=!1,P.current=T;for(let E=0;E<re.length;E++){const C=ed(re[E]);A.includes(C)?(L.delete(C),z.current.delete(C)):L.get(C)!==!0&&L.set(C,!1)}},[re,A.length,A.join("-")]);const ue=[];if(T!==H){let E=[...T];for(let C=0;C<re.length;C++){const M=re[C],k=ed(M);A.includes(k)||(E.splice(C,0,M),ue.push(M))}return l==="wait"&&ue.length&&(E=ue),ae($1(E)),K(T),null}const{forceRender:D}=N.useContext(I0);return y.jsx(y.Fragment,{children:re.map(E=>{const C=ed(E),M=u&&!v?!1:T===re||A.includes(C),k=()=>{if(z.current.has(C))return;if(z.current.add(C),L.has(C))L.set(C,!0);else return;let V=!0;L.forEach(I=>{I||(V=!1)}),V&&(D?.(),ae(P.current),u&&x?.(),i&&i())};return y.jsx(G5,{isPresent:M,initial:!j.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:M?void 0:k,anchorX:d,anchorY:m,children:E},C)})})},MS=N.createContext({strict:!1}),K1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Y1=!1;function K5(){if(Y1)return;const t={};for(const e in K1)t[e]={isEnabled:n=>K1[e].some(i=>!!n[i])};lS(t),Y1=!0}function jS(){return K5(),M4()}function Y5(t){const e=jS();for(const n in t)e[n]={...e[n],...t[n]};lS(e)}const Q5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Pd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Q5.has(t)}let VS=t=>!Pd(t);function X5(t){typeof t=="function"&&(VS=e=>e.startsWith("on")?!Pd(e):t(e))}try{X5(require("@emotion/is-prop-valid").default)}catch{}function W5(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(VS(a)||n===!0&&Pd(a)||!e&&!Pd(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const mf=N.createContext({});function J5(t,e){if(ff(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Gc(n)?n:void 0,animate:Gc(i)?i:void 0}}return t.inherit!==!1?e:{}}function Z5(t){const{initial:e,animate:n}=J5(t,N.useContext(mf));return N.useMemo(()=>({initial:e,animate:n}),[Q1(e),Q1(n)])}function Q1(t){return Array.isArray(t)?t.join(" "):t}const oy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OS(t,e,n){for(const i in e)!un(e[i])&&!pS(i,n)&&(t[i]=e[i])}function eM({transformTemplate:t},e){return N.useMemo(()=>{const n=oy();return iy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function tM(t,e){const n=t.style||{},i={};return OS(i,n,t),Object.assign(i,eM(t,e)),i}function nM(t,e){const n={},i=tM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const PS=()=>({...oy(),attrs:{}});function sM(t,e,n,i){const a=N.useMemo(()=>{const l=PS();return gS(l,e,vS(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};OS(l,t.style,t),a.style={...l,...a.style}}return a}const iM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ly(t){return typeof t!="string"||t.includes("-")?!1:!!(iM.indexOf(t)>-1||/[A-Z]/u.test(t))}function rM(t,e,n,{latestValues:i},a,l=!1,u){const m=(u??ly(t)?sM:nM)(e,i,a,t),p=W5(e,typeof t=="string",l),v=t!==N.Fragment?{...p,...m,ref:n}:{},{children:x}=e,T=N.useMemo(()=>un(x)?x.get():x,[x]);return N.createElement(t,{...v,children:T})}function aM({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:oM(n,i,a,t),renderState:e()}}function oM(t,e,n,i){const a={},l=i(t,{});for(const T in l)a[T]=yd(l[T]);let{initial:u,animate:d}=t;const m=ff(t),p=aS(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const x=v?d:u;if(x&&typeof x!="boolean"&&!df(x)){const T=Array.isArray(x)?x:[x];for(let A=0;A<T.length;A++){const j=X0(t,T[A]);if(j){const{transitionEnd:P,transition:L,...z}=j;for(const H in z){let K=z[H];if(Array.isArray(K)){const re=v?K.length-1:0;K=K[re]}K!==null&&(a[H]=K)}for(const H in P)a[H]=P[H]}}}return a}const LS=t=>(e,n)=>{const i=N.useContext(mf),a=N.useContext(hf),l=()=>aM(t,e,i,a);return n?l():D0(l)},lM=LS({scrapeMotionValuesFromProps:ry,createRenderState:oy}),cM=LS({scrapeMotionValuesFromProps:bS,createRenderState:PS}),uM=Symbol.for("motionComponentSymbol");function hM(t,e,n){const i=N.useRef(n);N.useInsertionEffect(()=>{i.current=n});const a=N.useRef(null);return N.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=i.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const US=N.createContext({});function No(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dM(t,e,n,i,a,l){const{visualElement:u}=N.useContext(mf),d=N.useContext(MS),m=N.useContext(hf),p=N.useContext(ay),v=p.reducedMotion,x=p.skipAnimations,T=N.useRef(null),A=N.useRef(!1);i=i||d.renderer,!T.current&&i&&(T.current=i(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v,skipAnimations:x,isSVG:l}),A.current&&T.current&&(T.current.manuallyAnimateOnMount=!0));const j=T.current,P=N.useContext(US);j&&!j.projection&&a&&(j.type==="html"||j.type==="svg")&&fM(T.current,n,a,P);const L=N.useRef(!1);N.useInsertionEffect(()=>{j&&L.current&&j.update(n,m)});const z=n[KE],H=N.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return lE(()=>{A.current=!0,j&&(L.current=!0,window.MotionIsMounted=!0,j.updateFeatures(),j.scheduleRenderMicrotask(),H.current&&j.animationState&&j.animationState.animateChanges())}),N.useEffect(()=>{j&&(!H.current&&j.animationState&&j.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),H.current=!1),j.enteringChildren=void 0)}),j}function fM(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&No(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:p})}function BS(t){if(t)return t.options.allowProjection!==!1?t.projection:BS(t.parent)}function Zp(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&Y5(i);const l=n?n==="svg":ly(t),u=l?cM:lM;function d(p,v){let x;const T={...N.useContext(ay),...p,layoutId:mM(p)},{isStatic:A}=T,j=Z5(p),P=u(p,A);if(!A&&oE){pM();const L=gM(T);x=L.MeasureLayout,j.visualElement=dM(t,P,T,a,L.ProjectionNode,l)}return y.jsxs(mf.Provider,{value:j,children:[x&&j.visualElement?y.jsx(x,{visualElement:j.visualElement,...T}):null,rM(t,p,hM(P,j.visualElement,v),P,A,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=N.forwardRef(d);return m[uM]=t,m}function mM({layoutId:t}){const e=N.useContext(I0).id;return e&&t!==void 0?e+"-"+t:t}function pM(t,e){N.useContext(MS).strict}function gM(t){const e=jS(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function yM(t,e){if(typeof Proxy>"u")return Zp;const n=new Map,i=(l,u)=>Zp(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,Zp(u,void 0,t,e)),n.get(u))})}const vM=(t,e)=>e.isSVG??ly(t)?new X4(e):new q4(e,{allowProjection:t!==N.Fragment});class bM extends Pr{constructor(e){super(e),e.animationState||(e.animationState=t5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();df(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xM=0;class _M extends Pr{constructor(){super(...arguments),this.id=xM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const TM={animation:{Feature:bM},exit:{Feature:_M}};function uu(t){return{point:{x:t.pageX,y:t.pageY}}}const wM=t=>e=>ey(e)&&t(e,uu(e));function jc(t,e,n,i){return $c(t,e,wM(n),i)}const zS=({current:t})=>t?t.ownerDocument.defaultView:null,X1=(t,e)=>Math.abs(t-e);function EM(t,e){const n=X1(t.x,e.x),i=X1(t.y,e.y);return Math.sqrt(n**2+i**2)}const W1=new Set(["auto","scroll"]);class FS{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=tg(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,P=EM(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!P)return;const{point:L}=A,{timestamp:z}=en;this.history.push({...L,timestamp:z});const{onStart:H,onMove:K}=this.handlers;j||(H&&H(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,A)},this.handlePointerMove=(A,j)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=eg(j,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(A,j)=>{this.end();const{onEnd:P,onSessionEnd:L,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=tg(A.type==="pointercancel"?this.lastMoveEventInfo:eg(j,this.transformPagePoint),this.history);this.startEvent&&P&&P(A,H),L&&L(A,H)},!ey(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const m=uu(e),p=eg(m,this.transformPagePoint),{point:v}=p,{timestamp:x}=en;this.history=[{...v,timestamp:x}];const{onSessionStart:T}=n;T&&T(e,tg(p,this.history)),this.removeListeners=ou(jc(this.contextWindow,"pointermove",this.handlePointerMove),jc(this.contextWindow,"pointerup",this.handlePointerUp),jc(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(W1.has(i.overflowX)||W1.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),ot.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Nr(this.updatePoint)}}function eg(t,e){return e?{point:e(t.point)}:t}function J1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tg({point:t},e){return{point:t,delta:J1(t,HS(e)),offset:J1(t,SM(e)),velocity:AM(e,.1)}}function SM(t){return t[0]}function HS(t){return t[t.length-1]}function AM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=HS(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>vs(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>vs(e)*2&&(i=t[1]);const l=Jn(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function CM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?mt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?mt(n,t,i.max):Math.min(t,n)),t}function Z1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RM(t,{top:e,left:n,bottom:i,right:a}){return{x:Z1(t.x,n,a),y:Z1(t.y,e,i)}}function eT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function NM(t,e){return{x:eT(t.x,e.x),y:eT(t.y,e.y)}}function kM(t,e){let n=.5;const i=gn(t),a=gn(e);return a>i?n=Fc(e.min,e.max-i,t.min):i>a&&(n=Fc(t.min,t.max-a,e.min)),ei(0,1,n)}function IM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Gg=.35;function DM(t=Gg){return t===!1?t=0:t===!0&&(t=Gg),{x:tT(t,"left","right"),y:tT(t,"top","bottom")}}function tT(t,e,n){return{min:nT(t,e),max:nT(t,n)}}function nT(t,e){return typeof t=="number"?t:t[e]||0}const MM=new WeakMap;class jM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=x=>{n&&this.snapToCursor(uu(x).point),this.stopAnimation()},u=(x,T)=>{const{drag:A,dragPropagation:j,onDragStart:P}=this.getProps();if(A&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=c4(A),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$s(z=>{let H=this.getAxisMotionValue(z).get()||0;if(Ys.test(H)){const{projection:K}=this.visualElement;if(K&&K.layout){const re=K.layout.layoutBox[z];re&&(H=gn(re)*(parseFloat(H)/100))}}this.originPoint[z]=H}),P&&ot.update(()=>P(x,T),!1,!0),Pg(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},d=(x,T)=>{this.latestPointerEvent=x,this.latestPanInfo=T;const{dragPropagation:A,dragDirectionLock:j,onDirectionLock:P,onDrag:L}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:z}=T;if(j&&this.currentDirection===null){this.currentDirection=OM(z),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",T.point,z),this.updateAxis("y",T.point,z),this.visualElement.render(),L&&ot.update(()=>L(x,T),!1,!0)},m=(x,T)=>{this.latestPointerEvent=x,this.latestPanInfo=T,this.stop(x,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:x}=this.getProps();(x||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new FS(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:zS(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&ot.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!td(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=CM(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&No(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=RM(i.layoutBox,e):this.constraints=!1,this.elastic=DM(n),a!==this.constraints&&!No(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&$s(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=IM(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!No(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=L4(i,a.root,this.visualElement.getTransformPagePoint());let u=NM(a.layout.layoutBox,l);if(n){const d=n(V4(u));this.hasMutatedConstraints=!!d,d&&(u=uS(d))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=$s(v=>{if(!td(v,n,this.currentDirection))return;let x=m&&m[v]||{};u&&(x={min:0,max:0});const T=a?200:1e6,A=a?40:1e7,j={type:"inertia",velocity:i?e[v]:0,bounceStiffness:T,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(v,j)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Pg(this.visualElement,e),i.start(Q0(e,i,0,n,this.visualElement,!1))}stopAnimation(){$s(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){$s(n=>{const{drag:i}=this.getProps();if(!td(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-mt(u,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!No(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};$s(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=kM({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),$s(u=>{if(!td(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];d.set(mt(m,p,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;MM.set(this.visualElement,this);const e=this.visualElement.current,n=jc(e,"pointerdown",p=>{const{drag:v,dragListener:x=!0}=this.getProps(),T=p.target,A=T!==e&&p4(T);v&&x&&!A&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();No(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=VM(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ot.read(a);const d=$c(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&($s(x=>{const T=this.getAxisMotionValue(x);T&&(this.originPoint[x]+=p[x].translate,T.set(T.get()+p[x].translate))}),this.visualElement.render())}));return()=>{d(),n(),u(),m&&m(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Gg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function sT(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function VM(t,e,n){const i=u1(t,sT(n)),a=u1(e,sT(n));return()=>{i(),a()}}function td(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function OM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class PM extends Pr{constructor(e){super(e),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new jM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const ng=t=>(e,n)=>{t&&ot.update(()=>t(e,n),!1,!0)};class LM extends Pr{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(e){this.session=new FS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:ng(e),onStart:ng(n),onMove:ng(i),onEnd:(l,u)=>{delete this.session,a&&ot.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=jc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let sg=!1;class UM extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),sg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),sg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ot.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Z0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;sg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qS(t){const[e,n]=DS(),i=N.useContext(I0);return y.jsx(UM,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(US),isPresent:e,safeToRemove:n})}const BM={pan:{Feature:LM},drag:{Feature:PM,ProjectionNode:IS,MeasureLayout:qS}};function iT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ot.postRender(()=>l(e,uu(e)))}class zM extends Pr{mount(){const{current:e}=this.node;e&&(this.unmount=h4(e,(n,i)=>(iT(this.node,i,"Start"),a=>iT(this.node,a,"End"))))}unmount(){}}class FM extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ou($c(this.node.current,"focus",()=>this.onFocus()),$c(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rT(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ot.postRender(()=>l(e,uu(e)))}class HM extends Pr{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=y4(e,(a,l)=>(rT(this.node,l,"Start"),(u,{success:d})=>rT(this.node,u,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const $g=new WeakMap,ig=new WeakMap,qM=t=>{const e=$g.get(t.target);e&&e(t)},GM=t=>{t.forEach(qM)};function $M({root:t,...e}){const n=t||document;ig.has(n)||ig.set(n,{});const i=ig.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(GM,{root:t,...e})),i[a]}function KM(t,e,n){const i=$M(e);return $g.set(t,n),i.observe(t),()=>{$g.delete(t),i.unobserve(t)}}const YM={some:0,all:1};class QM extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:YM[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),T=p?v:x;T&&T(m)};return KM(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XM(e,n))&&this.startObserver()}unmount(){}}function XM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WM={inView:{Feature:QM},tap:{Feature:HM},focus:{Feature:FM},hover:{Feature:zM}},JM={layout:{ProjectionNode:IS,MeasureLayout:qS}},ZM={...TM,...WM,...BM,...JM},Te=yM(ZM,vM),ej=()=>{};var aT={};const GS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},tj=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},$S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,x=(l&3)<<4|d>>4;let T=(d&15)<<2|p>>6,A=p&63;m||(A=64,u||(T=64)),i.push(n[v],n[x],n[T],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||x==null)throw new nj;const T=l<<2|d>>4;if(i.push(T),p!==64){const A=d<<4&240|p>>2;if(i.push(A),x!==64){const j=p<<6&192|x;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sj=function(t){const e=GS(t);return $S.encodeByteArray(e,!0)},Ld=function(t){return sj(t).replace(/\./g,"")},KS=function(t){try{return $S.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ij(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rj=()=>ij().__FIREBASE_DEFAULTS__,aj=()=>{if(typeof process>"u"||typeof aT>"u")return;const t=aT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KS(t[1]);return e&&JSON.parse(e)},pf=()=>{try{return ej()||rj()||aj()||oj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YS=t=>pf()?.emulatorHosts?.[t],lj=t=>{const e=YS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},QS=()=>pf()?.config,XS=t=>pf()?.[`_${t}`];class cj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function ll(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WS(t){return(await fetch(t,{credentials:"include"})).ok}function uj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ld(JSON.stringify(n)),Ld(JSON.stringify(u)),""].join(".")}const Vc={};function hj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vc))Vc[e]?t.emulator.push(e):t.prod.push(e);return t}function dj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oT=!1;function JS(t,e){if(typeof window>"u"||typeof document>"u"||!ll(window.location.host)||Vc[t]===e||Vc[t]||oT)return;Vc[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=hj().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{oT=!0,u()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=dj(i),A=n("text"),j=document.getElementById(A)||document.createElement("span"),P=n("learnmore"),L=document.getElementById(P)||document.createElement("a"),z=n("preprendIcon"),H=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;d(K),v(L,P);const re=p();m(H,z),K.append(H,j,L,re),document.body.appendChild(K)}l?(j.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function mj(){const t=pf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vj(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bj(){return!mj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xj(){try{return typeof indexedDB=="object"}catch{return!1}}function _j(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const Tj="FirebaseError";class Vi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Tj,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?wj(l,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Vi(a,d,i)}}function wj(t,e){return t.replace(Ej,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Ej=/\{\$([^}]+)}/g;function Sj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Aa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(lT(l)&&lT(u)){if(!Aa(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function lT(t){return t!==null&&typeof t=="object"}function du(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Aj(t,e){const n=new Cj(t,e);return n.subscribe.bind(n)}class Cj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Rj(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=rg),a.error===void 0&&(a.error=rg),a.complete===void 0&&(a.complete=rg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rg(){}function vn(t){return t&&t._delegate?t._delegate:t}class Ca{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ya="[DEFAULT]";class Nj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new cj;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ij(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kj(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kj(t){return t===ya?void 0:t}function Ij(t){return t.instantiationMode==="EAGER"}class Dj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const Mj={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},jj=ze.INFO,Vj={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Oj=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=Vj[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cy{constructor(e){this.name=e,this._logLevel=jj,this._logHandler=Oj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const Pj=(t,e)=>e.some(n=>t instanceof n);let cT,uT;function Lj(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uj(){return uT||(uT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZS=new WeakMap,Kg=new WeakMap,eA=new WeakMap,ag=new WeakMap,uy=new WeakMap;function Bj(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(wr(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&ZS.set(n,t)}).catch(()=>{}),uy.set(e,t),e}function zj(t){if(Kg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Kg.set(t,e)}let Yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Fj(t){Yg=t(Yg)}function Hj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(og(this),e,...n);return eA.set(i,e.sort?e.sort():[e]),wr(i)}:Uj().includes(t)?function(...e){return t.apply(og(this),e),wr(ZS.get(this))}:function(...e){return wr(t.apply(og(this),e))}}function qj(t){return typeof t=="function"?Hj(t):(t instanceof IDBTransaction&&zj(t),Pj(t,Lj())?new Proxy(t,Yg):t)}function wr(t){if(t instanceof IDBRequest)return Bj(t);if(ag.has(t))return ag.get(t);const e=qj(t);return e!==t&&(ag.set(t,e),uy.set(e,t)),e}const og=t=>uy.get(t);function Gj(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=wr(u);return i&&u.addEventListener("upgradeneeded",m=>{i(wr(u.result),m.oldVersion,m.newVersion,wr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const $j=["get","getKey","getAll","getAllKeys","count"],Kj=["put","add","delete","clear"],lg=new Map;function hT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lg.get(e))return lg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=Kj.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||$j.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return lg.set(e,l),l}Fj(t=>({...t,get:(e,n,i)=>hT(e,n)||t.get(e,n,i),has:(e,n)=>!!hT(e,n)||t.has(e,n)}));class Yj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qj(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Qj(t){return t.getComponent()?.type==="VERSION"}const Qg="@firebase/app",dT="0.14.8";const ki=new cy("@firebase/app"),Xj="@firebase/app-compat",Wj="@firebase/analytics-compat",Jj="@firebase/analytics",Zj="@firebase/app-check-compat",e3="@firebase/app-check",t3="@firebase/auth",n3="@firebase/auth-compat",s3="@firebase/database",i3="@firebase/data-connect",r3="@firebase/database-compat",a3="@firebase/functions",o3="@firebase/functions-compat",l3="@firebase/installations",c3="@firebase/installations-compat",u3="@firebase/messaging",h3="@firebase/messaging-compat",d3="@firebase/performance",f3="@firebase/performance-compat",m3="@firebase/remote-config",p3="@firebase/remote-config-compat",g3="@firebase/storage",y3="@firebase/storage-compat",v3="@firebase/firestore",b3="@firebase/ai",x3="@firebase/firestore-compat",_3="firebase",T3="12.9.0";const Xg="[DEFAULT]",w3={[Qg]:"fire-core",[Xj]:"fire-core-compat",[Jj]:"fire-analytics",[Wj]:"fire-analytics-compat",[e3]:"fire-app-check",[Zj]:"fire-app-check-compat",[t3]:"fire-auth",[n3]:"fire-auth-compat",[s3]:"fire-rtdb",[i3]:"fire-data-connect",[r3]:"fire-rtdb-compat",[a3]:"fire-fn",[o3]:"fire-fn-compat",[l3]:"fire-iid",[c3]:"fire-iid-compat",[u3]:"fire-fcm",[h3]:"fire-fcm-compat",[d3]:"fire-perf",[f3]:"fire-perf-compat",[m3]:"fire-rc",[p3]:"fire-rc-compat",[g3]:"fire-gcs",[y3]:"fire-gcs-compat",[v3]:"fire-fst",[x3]:"fire-fst-compat",[b3]:"fire-vertex","fire-js":"fire-js",[_3]:"fire-js-all"};const Ud=new Map,E3=new Map,Wg=new Map;function fT(t,e){try{t.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(Wg.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;Wg.set(e,t);for(const n of Ud.values())fT(n,t);for(const n of E3.values())fT(n,t);return!0}function hy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ps(t){return t==null?!1:t.settings!==void 0}const S3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new hu("app","Firebase",S3);class A3{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const cl=T3;function tA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Xg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Er.create("bad-app-name",{appName:String(a)});if(n||(n=QS()),!n)throw Er.create("no-options");const l=Ud.get(a);if(l){if(Aa(n,l.options)&&Aa(i,l.config))return l;throw Er.create("duplicate-app",{appName:a})}const u=new Dj(a);for(const m of Wg.values())u.addComponent(m);const d=new A3(n,i,u);return Ud.set(a,d),d}function nA(t=Xg){const e=Ud.get(t);if(!e&&t===Xg&&QS())return tA();if(!e)throw Er.create("no-app",{appName:t});return e}function Sr(t,e,n){let i=w3[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(u.join(" "));return}Yo(new Ca(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const C3="firebase-heartbeat-database",R3=1,Kc="firebase-heartbeat-store";let cg=null;function sA(){return cg||(cg=Gj(C3,R3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),cg}async function N3(t){try{const n=(await sA()).transaction(Kc),i=await n.objectStore(Kc).get(iA(t));return await n.done,i}catch(e){if(e instanceof Vi)ki.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e?.message});ki.warn(n.message)}}}async function mT(t,e){try{const i=(await sA()).transaction(Kc,"readwrite");await i.objectStore(Kc).put(e,iA(t)),await i.done}catch(n){if(n instanceof Vi)ki.warn(n.message);else{const i=Er.create("idb-set",{originalErrorMessage:n?.message});ki.warn(i.message)}}}function iA(t){return`${t.name}!${t.options.appId}`}const k3=1024,I3=30;class D3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=pT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>I3){const a=V3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pT(),{heartbeatsToSend:n,unsentEntries:i}=M3(this._heartbeatsCache.heartbeats),a=Ld(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ki.warn(e),""}}}function pT(){return new Date().toISOString().substring(0,10)}function M3(t,e=k3){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),gT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),gT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class j3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xj()?_j().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return mT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return mT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gT(t){return Ld(JSON.stringify({version:2,heartbeats:t})).length}function V3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function O3(t){Yo(new Ca("platform-logger",e=>new Yj(e),"PRIVATE")),Yo(new Ca("heartbeat",e=>new D3(e),"PRIVATE")),Sr(Qg,dT,t),Sr(Qg,dT,"esm2020"),Sr("fire-js","")}O3("");function rA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P3=rA,aA=new hu("auth","Firebase",rA());const Bd=new cy("@firebase/auth");function L3(t,...e){Bd.logLevel<=ze.WARN&&Bd.warn(`Auth (${cl}): ${t}`,...e)}function bd(t,...e){Bd.logLevel<=ze.ERROR&&Bd.error(`Auth (${cl}): ${t}`,...e)}function ti(t,...e){throw fy(t,...e)}function bs(t,...e){return fy(t,...e)}function dy(t,e,n){const i={...P3(),[e]:n};return new hu("auth","Firebase",i).create(e,{appName:t.name})}function wa(t){return dy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U3(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ti(t,"argument-error"),dy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return aA.create(t,...e)}function Se(t,e,...n){if(!t)throw fy(e,...n)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bd(e),new Error(e)}function Ii(t,e){t||Ei(e)}function Jg(){return typeof self<"u"&&self.location?.href||""}function B3(){return yT()==="http:"||yT()==="https:"}function yT(){return typeof self<"u"&&self.location?.protocol||null}function z3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B3()||gj()||"connection"in navigator)?navigator.onLine:!0}function F3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=fj()||yj()}get(){return z3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function my(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class oA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const H3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const q3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G3=new fu(3e4,6e4);function py(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ul(t,e,n,i,a={}){return lA(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=du({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return pj()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ll(t.emulatorConfig.host)&&(p.credentials="include"),oA.fetch()(await cA(t,t.config.apiHost,n,d),p)})}async function lA(t,e,n){t._canInitEmulator=!1;const i={...H3,...e};try{const a=new K3(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw nd(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw nd(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw nd(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw nd(t,"user-disabled",u);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw dy(t,v,p);ti(t,v)}}catch(a){if(a instanceof Vi)throw a;ti(t,"network-request-failed",{message:String(a)})}}async function $3(t,e,n,i,a={}){const l=await ul(t,e,n,i,a);return"mfaPendingCredential"in l&&ti(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function cA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?my(t.config,a):`${t.config.apiScheme}://${a}`;return q3.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class K3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(bs(this.auth,"network-request-failed")),G3.get())})}}function nd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=bs(t,e,i);return a.customData._tokenResponse=n,a}async function Y3(t,e){return ul(t,"POST","/v1/accounts:delete",e)}async function zd(t,e){return ul(t,"POST","/v1/accounts:lookup",e)}function Oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q3(t,e=!1){const n=vn(t),i=await n.getIdToken(e),a=gy(i);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Oc(ug(a.auth_time)),issuedAtTime:Oc(ug(a.iat)),expirationTime:Oc(ug(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ug(t){return Number(t)*1e3}function gy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{const a=KS(n);return a?JSON.parse(a):(bd("Failed to decode base64 JWT payload"),null)}catch(a){return bd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function vT(t){const e=gy(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Yc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Vi&&X3(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function X3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class W3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fd(t){const e=t.auth,n=await t.getIdToken(),i=await Yc(t,zd(e,{idToken:n}));Se(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?uA(a.providerUserInfo):[],u=Z3(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Zg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function J3(t){const e=vn(t);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z3(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function uA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function eV(t,e){const n=await lA(t,{},async()=>{const i=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await cA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return t.emulatorConfig&&ll(t.emulatorConfig.host)&&(m.credentials="include"),oA.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tV(t,e){return ul(t,"POST","/v2/accounts:revokeToken",py(t,e))}class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=vT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await eV(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new zo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Ei("not implemented")}}function gr(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new W3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Zg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Yc(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q3(this,e)}reload(){return J3(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Fd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ps(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await Yc(this,Y3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:A,providerData:j,stsTokenManager:P}=n;Se(x&&P,e,"internal-error");const L=zo.fromJSON(this.name,P);Se(typeof x=="string",e,"internal-error"),gr(i,e.name),gr(a,e.name),Se(typeof T=="boolean",e,"internal-error"),Se(typeof A=="boolean",e,"internal-error"),gr(l,e.name),gr(u,e.name),gr(d,e.name),gr(m,e.name),gr(p,e.name),gr(v,e.name);const z=new gs({uid:x,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:p,lastLoginAt:v});return j&&Array.isArray(j)&&(z.providerData=j.map(H=>({...H}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,i=!1){const a=new zo;a.updateFromServerResponse(n);const l=new gs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Fd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?uA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new zo;d.updateFromIdToken(i);const m=new gs({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Zg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const bT=new Map;function Si(t){Ii(t instanceof Function,"Expected a class definition");let e=bT.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bT.set(t,e),e)}class hA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hA.type="NONE";const xT=hA;function xd(t,e,n){return`firebase:${t}:${e}:${n}`}class Fo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=xd(this.userKey,a.apiKey,l),this.fullPersistenceKey=xd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zd(this.auth,{idToken:e}).catch(()=>{});return n?gs._fromGetAccountInfoResponse(this.auth,n,e):null}return gs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Fo(Si(xT),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Si(xT);const u=xd(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(u);if(v){let x;if(typeof v=="string"){const T=await zd(e,{idToken:v}).catch(()=>{});if(!T)break;x=await gs._fromGetAccountInfoResponse(e,T,v)}else x=gs._fromJSON(e,v);p!==l&&(d=x),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Fo(l,e,i):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Fo(l,e,i))}}function _T(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yA(e))return"Blackberry";if(vA(e))return"Webos";if(fA(e))return"Safari";if((e.includes("chrome/")||mA(e))&&!e.includes("edge/"))return"Chrome";if(gA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function dA(t=hn()){return/firefox\//i.test(t)}function fA(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mA(t=hn()){return/crios\//i.test(t)}function pA(t=hn()){return/iemobile/i.test(t)}function gA(t=hn()){return/android/i.test(t)}function yA(t=hn()){return/blackberry/i.test(t)}function vA(t=hn()){return/webos/i.test(t)}function yy(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nV(t=hn()){return yy(t)&&!!window.navigator?.standalone}function sV(){return vj()&&document.documentMode===10}function bA(t=hn()){return yy(t)||gA(t)||vA(t)||yA(t)||/windows phone/i.test(t)||pA(t)}function xA(t,e=[]){let n;switch(t){case"Browser":n=_T(hn());break;case"Worker":n=`${_T(hn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cl}/${i}`}class iV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function rV(t,e={}){return ul(t,"GET","/v2/passwordPolicy",py(t,e))}const aV=6;class oV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class lV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TT(this),this.idTokenSubscription=new TT(this),this.beforeStateQueue=new iV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Si(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zd(this,{idToken:e}),i=await gs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ps(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ps(this.app))return Promise.reject(wa(this));const n=e?vn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ps(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ps(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rV(this),n=new oV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await tV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Si(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&L3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function gf(t){return vn(t)}class TT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Aj(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cV(t){vy=t}function uV(t){return vy.loadJS(t)}function hV(){return vy.gapiScript}function dV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function fV(t,e){const n=hy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Aa(l,e??{}))return a;ti(a,"already-initialized")}return n.initialize({options:e})}function mV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Si);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function pV(t,e,n){const i=gf(t);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=_A(e),{host:u,port:d}=gV(e),m=d===null?"":`:${d}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Aa(p,i.config.emulator)&&Aa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ll(u)?(WS(`${l}//${u}${m}`),JS("Auth",!0)):yV()}function _A(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gV(t){const e=_A(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:wT(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:wT(u)}}}function wT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class TA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function Ho(t,e){return $3(t,"POST","/v1/accounts:signInWithIdp",py(t,e))}const vV="http://localhost";class Ra extends TA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Ra(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ho(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:vV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}class by{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends by{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vr extends mu{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";class wi extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return wi.credential(n,i)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";class br extends mu{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";class xr extends mu{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return xr.credential(n,i)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await gs._fromIdTokenResponse(e,i,a),u=ET(i);return new Qo({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=ET(i);return new Qo({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function ET(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Hd extends Vi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Hd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Hd(e,n,i,a)}}function wA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Hd._fromErrorAndOperation(t,l,e,i):l})}async function bV(t,e,n=!1){const i=await Yc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qo._forOperation(t,"link",i)}async function xV(t,e,n=!1){const{auth:i}=t;if(ps(i.app))return Promise.reject(wa(i));const a="reauthenticate";try{const l=await Yc(t,wA(i,a,e,t),n);Se(l.idToken,i,"internal-error");const u=gy(l.idToken);Se(u,i,"internal-error");const{sub:d}=u;return Se(t.uid===d,i,"user-mismatch"),Qo._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ti(i,"user-mismatch"),l}}async function _V(t,e,n=!1){if(ps(t.app))return Promise.reject(wa(t));const i="signIn",a=await wA(t,i,e),l=await Qo._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function TV(t,e,n,i){return vn(t).onIdTokenChanged(e,n,i)}function wV(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function EV(t,e,n,i){return vn(t).onAuthStateChanged(e,n,i)}function SV(t){return vn(t).signOut()}const qd="__sak";class EA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AV=1e3,CV=10;class SA extends EA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);sV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,CV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},AV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SA.type="LOCAL";const RV=SA;class AA extends EA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AA.type="SESSION";const CA=AA;function NV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new yf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async p=>p(n.origin,l)),m=await NV(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yf.receivers=[];function xy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class kV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const p=xy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(x){const T=x;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Qs(){return window}function IV(t){Qs().location.href=t}function RA(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function DV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MV(){return navigator?.serviceWorker?.controller||null}function jV(){return RA()?self:null}const NA="firebaseLocalStorageDb",VV=1,Gd="firebaseLocalStorage",kA="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(t,e){return t.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function OV(){const t=indexedDB.deleteDatabase(NA);return new pu(t).toPromise()}function e0(){const t=indexedDB.open(NA,VV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Gd,{keyPath:kA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Gd)?e(i):(i.close(),await OV(),e(await e0()))})})}async function ST(t,e,n){const i=vf(t,!0).put({[kA]:e,value:n});return new pu(i).toPromise()}async function PV(t,e){const n=vf(t,!1).get(e),i=await new pu(n).toPromise();return i===void 0?null:i.value}function AT(t,e){const n=vf(t,!0).delete(e);return new pu(n).toPromise()}const LV=800,UV=3;class IA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await e0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>UV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yf._getInstance(jV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DV(),!this.activeServiceWorker)return;this.sender=new kV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await e0();return await ST(e,qd,"1"),await AT(e,qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ST(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>PV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=vf(a,!1).getAll();return new pu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IA.type="LOCAL";const BV=IA;new fu(3e4,6e4);function DA(t,e){return e?Si(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class _y extends TA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zV(t){return _V(t.auth,new _y(t),t.bypassAuthState)}function FV(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),xV(n,new _y(t),t.bypassAuthState)}async function HV(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),bV(n,new _y(t),t.bypassAuthState)}class MA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zV;case"linkViaPopup":case"linkViaRedirect":return HV;case"reauthViaPopup":case"reauthViaRedirect":return FV;default:ti(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qV=new fu(2e3,1e4);async function GV(t,e,n){if(ps(t.app))return Promise.reject(bs(t,"operation-not-supported-in-this-environment"));const i=gf(t);U3(t,e,by);const a=DA(i,n);return new xa(i,"signInViaPopup",e,a).executeNotNull()}class xa extends MA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qV.get())};e()}}xa.currentPopupAction=null;const $V="pendingRedirect",_d=new Map;class KV extends MA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const i=await YV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YV(t,e){const n=WV(e),i=XV(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function QV(t,e){_d.set(t._key(),e)}function XV(t){return Si(t._redirectPersistence)}function WV(t){return xd($V,t.config.apiKey,t.name)}async function JV(t,e,n=!1){if(ps(t.app))return Promise.reject(wa(t));const i=gf(t),a=DA(i,e),u=await new KV(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const ZV=600*1e3;class e6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!jA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZV&&this.cachedEventUids.clear(),this.cachedEventUids.has(CT(e))}saveEventToCache(e){this.cachedEventUids.add(CT(e)),this.lastProcessedEventTime=Date.now()}}function CT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function t6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jA(t);default:return!1}}async function n6(t,e={}){return ul(t,"GET","/v1/projects",e)}const s6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i6=/^https?/;async function r6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n6(t);for(const n of e)try{if(a6(n))return}catch{}ti(t,"unauthorized-domain")}function a6(t){const e=Jg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!i6.test(n))return!1;if(s6.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const o6=new fu(3e4,6e4);function RT(){const t=Qs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l6(t){return new Promise((e,n)=>{function i(){RT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RT(),n(bs(t,"network-request-failed"))},timeout:o6.get()})}if(Qs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qs().gapi?.load)i();else{const a=dV("iframefcb");return Qs()[a]=()=>{gapi.load?i():n(bs(t,"network-request-failed"))},uV(`${hV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Td=null,e})}let Td=null;function c6(t){return Td=Td||l6(t),Td}const u6=new fu(5e3,15e3),h6="__/auth/iframe",d6="emulator/auth/iframe",f6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p6(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?my(e,d6):`https://${t.config.authDomain}/${h6}`,i={apiKey:e.apiKey,appName:t.name,v:cl},a=m6.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${du(i).slice(1)}`}async function g6(t){const e=await c6(t),n=Qs().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:p6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f6,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=bs(t,"network-request-failed"),d=Qs().setTimeout(()=>{l(u)},u6.get());function m(){Qs().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(u)})}))}const y6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v6=500,b6=600,x6="_blank",_6="http://localhost";class NT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T6(t,e,n,i=v6,a=b6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...y6,width:i.toString(),height:a.toString(),top:l,left:u},p=hn().toLowerCase();n&&(d=mA(p)?x6:n),dA(p)&&(e=e||_6,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[A,j])=>`${T}${A}=${j},`,"");if(nV(p)&&d!=="_self")return w6(e||"",d),new NT(null);const x=window.open(e||"",d,v);Se(x,t,"popup-blocked");try{x.focus()}catch{}return new NT(x)}function w6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const E6="__/auth/handler",S6="emulator/auth/handler",A6=encodeURIComponent("fac");async function kT(t,e,n,i,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:cl,eventId:a};if(e instanceof by){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Sj(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof mu){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),p=m?`#${A6}=${encodeURIComponent(m)}`:"";return`${C6(t)}?${du(d).slice(1)}${p}`}function C6({config:t}){return t.emulator?my(t,S6):`https://${t.authDomain}/${E6}`}const hg="webStorageSupport";class R6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CA,this._completeRedirectFn=JV,this._overrideRedirectResult=QV}async _openPopup(e,n,i,a){Ii(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await kT(e,n,i,Jg(),a);return T6(e,l,xy())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await kT(e,n,i,Jg(),a);return IV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ii(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await g6(e),i=new e6(e);return n.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hg,{type:hg},a=>{const l=a?.[0]?.[hg];l!==void 0&&n(!!l),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bA()||fA()||yy()}}const N6=R6;var IT="@firebase/auth",DT="1.12.0";class k6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function I6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D6(t){Yo(new Ca("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xA(t)},p=new lV(i,a,l,m);return mV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Yo(new Ca("auth-internal",e=>{const n=gf(e.getProvider("auth").getImmediate());return(i=>new k6(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(IT,DT,I6(t)),Sr(IT,DT,"esm2020")}const M6=300,j6=XS("authIdTokenMaxAge")||M6;let MT=null;const V6=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>j6)return;const a=n?.token;MT!==a&&(MT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function O6(t=nA()){const e=hy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fV(t,{popupRedirectResolver:N6,persistence:[BV,RV,CA]}),i=XS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=V6(l.toString());wV(n,u,()=>u(n.currentUser)),TV(n,d=>u(d))}}const a=YS("auth");return a&&pV(n,`http://${a}`),n}function P6(){return document.getElementsByTagName("head")?.[0]??document}cV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=bs("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",P6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D6("Browser");var L6="firebase",U6="12.9.0";Sr(L6,U6,"app");var jT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ar,VA;(function(){var t;function e(D,E){function C(){}C.prototype=E.prototype,D.F=E.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(M,k,V){for(var I=Array(arguments.length-2),we=2;we<arguments.length;we++)I[we-2]=arguments[we];return E.prototype[k].apply(M,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,E,C){C||(C=0);const M=Array(16);if(typeof E=="string")for(var k=0;k<16;++k)M[k]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(k=0;k<16;++k)M[k]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=D.g[0],C=D.g[1],k=D.g[2];let V=D.g[3],I;I=E+(V^C&(k^V))+M[0]+3614090360&4294967295,E=C+(I<<7&4294967295|I>>>25),I=V+(k^E&(C^k))+M[1]+3905402710&4294967295,V=E+(I<<12&4294967295|I>>>20),I=k+(C^V&(E^C))+M[2]+606105819&4294967295,k=V+(I<<17&4294967295|I>>>15),I=C+(E^k&(V^E))+M[3]+3250441966&4294967295,C=k+(I<<22&4294967295|I>>>10),I=E+(V^C&(k^V))+M[4]+4118548399&4294967295,E=C+(I<<7&4294967295|I>>>25),I=V+(k^E&(C^k))+M[5]+1200080426&4294967295,V=E+(I<<12&4294967295|I>>>20),I=k+(C^V&(E^C))+M[6]+2821735955&4294967295,k=V+(I<<17&4294967295|I>>>15),I=C+(E^k&(V^E))+M[7]+4249261313&4294967295,C=k+(I<<22&4294967295|I>>>10),I=E+(V^C&(k^V))+M[8]+1770035416&4294967295,E=C+(I<<7&4294967295|I>>>25),I=V+(k^E&(C^k))+M[9]+2336552879&4294967295,V=E+(I<<12&4294967295|I>>>20),I=k+(C^V&(E^C))+M[10]+4294925233&4294967295,k=V+(I<<17&4294967295|I>>>15),I=C+(E^k&(V^E))+M[11]+2304563134&4294967295,C=k+(I<<22&4294967295|I>>>10),I=E+(V^C&(k^V))+M[12]+1804603682&4294967295,E=C+(I<<7&4294967295|I>>>25),I=V+(k^E&(C^k))+M[13]+4254626195&4294967295,V=E+(I<<12&4294967295|I>>>20),I=k+(C^V&(E^C))+M[14]+2792965006&4294967295,k=V+(I<<17&4294967295|I>>>15),I=C+(E^k&(V^E))+M[15]+1236535329&4294967295,C=k+(I<<22&4294967295|I>>>10),I=E+(k^V&(C^k))+M[1]+4129170786&4294967295,E=C+(I<<5&4294967295|I>>>27),I=V+(C^k&(E^C))+M[6]+3225465664&4294967295,V=E+(I<<9&4294967295|I>>>23),I=k+(E^C&(V^E))+M[11]+643717713&4294967295,k=V+(I<<14&4294967295|I>>>18),I=C+(V^E&(k^V))+M[0]+3921069994&4294967295,C=k+(I<<20&4294967295|I>>>12),I=E+(k^V&(C^k))+M[5]+3593408605&4294967295,E=C+(I<<5&4294967295|I>>>27),I=V+(C^k&(E^C))+M[10]+38016083&4294967295,V=E+(I<<9&4294967295|I>>>23),I=k+(E^C&(V^E))+M[15]+3634488961&4294967295,k=V+(I<<14&4294967295|I>>>18),I=C+(V^E&(k^V))+M[4]+3889429448&4294967295,C=k+(I<<20&4294967295|I>>>12),I=E+(k^V&(C^k))+M[9]+568446438&4294967295,E=C+(I<<5&4294967295|I>>>27),I=V+(C^k&(E^C))+M[14]+3275163606&4294967295,V=E+(I<<9&4294967295|I>>>23),I=k+(E^C&(V^E))+M[3]+4107603335&4294967295,k=V+(I<<14&4294967295|I>>>18),I=C+(V^E&(k^V))+M[8]+1163531501&4294967295,C=k+(I<<20&4294967295|I>>>12),I=E+(k^V&(C^k))+M[13]+2850285829&4294967295,E=C+(I<<5&4294967295|I>>>27),I=V+(C^k&(E^C))+M[2]+4243563512&4294967295,V=E+(I<<9&4294967295|I>>>23),I=k+(E^C&(V^E))+M[7]+1735328473&4294967295,k=V+(I<<14&4294967295|I>>>18),I=C+(V^E&(k^V))+M[12]+2368359562&4294967295,C=k+(I<<20&4294967295|I>>>12),I=E+(C^k^V)+M[5]+4294588738&4294967295,E=C+(I<<4&4294967295|I>>>28),I=V+(E^C^k)+M[8]+2272392833&4294967295,V=E+(I<<11&4294967295|I>>>21),I=k+(V^E^C)+M[11]+1839030562&4294967295,k=V+(I<<16&4294967295|I>>>16),I=C+(k^V^E)+M[14]+4259657740&4294967295,C=k+(I<<23&4294967295|I>>>9),I=E+(C^k^V)+M[1]+2763975236&4294967295,E=C+(I<<4&4294967295|I>>>28),I=V+(E^C^k)+M[4]+1272893353&4294967295,V=E+(I<<11&4294967295|I>>>21),I=k+(V^E^C)+M[7]+4139469664&4294967295,k=V+(I<<16&4294967295|I>>>16),I=C+(k^V^E)+M[10]+3200236656&4294967295,C=k+(I<<23&4294967295|I>>>9),I=E+(C^k^V)+M[13]+681279174&4294967295,E=C+(I<<4&4294967295|I>>>28),I=V+(E^C^k)+M[0]+3936430074&4294967295,V=E+(I<<11&4294967295|I>>>21),I=k+(V^E^C)+M[3]+3572445317&4294967295,k=V+(I<<16&4294967295|I>>>16),I=C+(k^V^E)+M[6]+76029189&4294967295,C=k+(I<<23&4294967295|I>>>9),I=E+(C^k^V)+M[9]+3654602809&4294967295,E=C+(I<<4&4294967295|I>>>28),I=V+(E^C^k)+M[12]+3873151461&4294967295,V=E+(I<<11&4294967295|I>>>21),I=k+(V^E^C)+M[15]+530742520&4294967295,k=V+(I<<16&4294967295|I>>>16),I=C+(k^V^E)+M[2]+3299628645&4294967295,C=k+(I<<23&4294967295|I>>>9),I=E+(k^(C|~V))+M[0]+4096336452&4294967295,E=C+(I<<6&4294967295|I>>>26),I=V+(C^(E|~k))+M[7]+1126891415&4294967295,V=E+(I<<10&4294967295|I>>>22),I=k+(E^(V|~C))+M[14]+2878612391&4294967295,k=V+(I<<15&4294967295|I>>>17),I=C+(V^(k|~E))+M[5]+4237533241&4294967295,C=k+(I<<21&4294967295|I>>>11),I=E+(k^(C|~V))+M[12]+1700485571&4294967295,E=C+(I<<6&4294967295|I>>>26),I=V+(C^(E|~k))+M[3]+2399980690&4294967295,V=E+(I<<10&4294967295|I>>>22),I=k+(E^(V|~C))+M[10]+4293915773&4294967295,k=V+(I<<15&4294967295|I>>>17),I=C+(V^(k|~E))+M[1]+2240044497&4294967295,C=k+(I<<21&4294967295|I>>>11),I=E+(k^(C|~V))+M[8]+1873313359&4294967295,E=C+(I<<6&4294967295|I>>>26),I=V+(C^(E|~k))+M[15]+4264355552&4294967295,V=E+(I<<10&4294967295|I>>>22),I=k+(E^(V|~C))+M[6]+2734768916&4294967295,k=V+(I<<15&4294967295|I>>>17),I=C+(V^(k|~E))+M[13]+1309151649&4294967295,C=k+(I<<21&4294967295|I>>>11),I=E+(k^(C|~V))+M[4]+4149444226&4294967295,E=C+(I<<6&4294967295|I>>>26),I=V+(C^(E|~k))+M[11]+3174756917&4294967295,V=E+(I<<10&4294967295|I>>>22),I=k+(E^(V|~C))+M[2]+718787259&4294967295,k=V+(I<<15&4294967295|I>>>17),I=C+(V^(k|~E))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+V&4294967295}i.prototype.v=function(D,E){E===void 0&&(E=D.length);const C=E-this.blockSize,M=this.C;let k=this.h,V=0;for(;V<E;){if(k==0)for(;V<=C;)a(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<E;)if(M[k++]=D.charCodeAt(V++),k==this.blockSize){a(this,M),k=0;break}}else for(;V<E;)if(M[k++]=D[V++],k==this.blockSize){a(this,M),k=0;break}}this.h=k,this.o+=E},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;E=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=E&255,E/=256;for(this.v(D),D=Array(16),E=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)D[E++]=this.g[C]>>>M&255;return D};function l(D,E){var C=d;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=E(D)}function u(D,E){this.h=E;const C=[];let M=!0;for(let k=D.length-1;k>=0;k--){const V=D[k]|0;M&&V==E||(C[k]=V,M=!1)}this.g=C}var d={};function m(D){return-128<=D&&D<128?l(D,function(E){return new u([E|0],E<0?-1:0)}):new u([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return x;if(D<0)return L(p(-D));const E=[];let C=1;for(let M=0;D>=C;M++)E[M]=D/C|0,C*=4294967296;return new u(E,0)}function v(D,E){if(D.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(D.charAt(0)=="-")return L(v(D.substring(1),E));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(E,8));let M=x;for(let V=0;V<D.length;V+=8){var k=Math.min(8,D.length-V);const I=parseInt(D.substring(V,V+k),E);k<8?(k=p(Math.pow(E,k)),M=M.j(k).add(p(I))):(M=M.j(C),M=M.add(p(I)))}return M}var x=m(0),T=m(1),A=m(16777216);t=u.prototype,t.m=function(){if(P(this))return-L(this).m();let D=0,E=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);D+=(M>=0?M:4294967296+M)*E,E*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(j(this))return"0";if(P(this))return"-"+L(this).toString(D);const E=p(Math.pow(D,6));var C=this;let M="";for(;;){const k=re(C,E).g;C=z(C,k.j(E));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=k,j(C))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function j(D){if(D.h!=0)return!1;for(let E=0;E<D.g.length;E++)if(D.g[E]!=0)return!1;return!0}function P(D){return D.h==-1}t.l=function(D){return D=z(this,D),P(D)?-1:j(D)?0:1};function L(D){const E=D.g.length,C=[];for(let M=0;M<E;M++)C[M]=~D.g[M];return new u(C,~D.h).add(T)}t.abs=function(){return P(this)?L(this):this},t.add=function(D){const E=Math.max(this.g.length,D.g.length),C=[];let M=0;for(let k=0;k<=E;k++){let V=M+(this.i(k)&65535)+(D.i(k)&65535),I=(V>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);M=I>>>16,V&=65535,I&=65535,C[k]=I<<16|V}return new u(C,C[C.length-1]&-2147483648?-1:0)};function z(D,E){return D.add(L(E))}t.j=function(D){if(j(this)||j(D))return x;if(P(this))return P(D)?L(this).j(L(D)):L(L(this).j(D));if(P(D))return L(this.j(L(D)));if(this.l(A)<0&&D.l(A)<0)return p(this.m()*D.m());const E=this.g.length+D.g.length,C=[];for(var M=0;M<2*E;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let k=0;k<D.g.length;k++){const V=this.i(M)>>>16,I=this.i(M)&65535,we=D.i(k)>>>16,Ve=D.i(k)&65535;C[2*M+2*k]+=I*Ve,H(C,2*M+2*k),C[2*M+2*k+1]+=V*Ve,H(C,2*M+2*k+1),C[2*M+2*k+1]+=I*we,H(C,2*M+2*k+1),C[2*M+2*k+2]+=V*we,H(C,2*M+2*k+2)}for(D=0;D<E;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=E;D<2*E;D++)C[D]=0;return new u(C,0)};function H(D,E){for(;(D[E]&65535)!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function K(D,E){this.g=D,this.h=E}function re(D,E){if(j(E))throw Error("division by zero");if(j(D))return new K(x,x);if(P(D))return E=re(L(D),E),new K(L(E.g),L(E.h));if(P(E))return E=re(D,L(E)),new K(L(E.g),E.h);if(D.g.length>30){if(P(D)||P(E))throw Error("slowDivide_ only works with positive integers.");for(var C=T,M=E;M.l(D)<=0;)C=ae(C),M=ae(M);var k=ue(C,1),V=ue(M,1);for(M=ue(M,2),C=ue(C,2);!j(M);){var I=V.add(M);I.l(D)<=0&&(k=k.add(C),V=I),M=ue(M,1),C=ue(C,1)}return E=z(D,k.j(E)),new K(k,E)}for(k=x;D.l(E)>=0;){for(C=Math.max(1,Math.floor(D.m()/E.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=p(C),I=V.j(E);P(I)||I.l(D)>0;)C-=M,V=p(C),I=V.j(E);j(V)&&(V=T),k=k.add(V),D=z(D,I)}return new K(k,D)}t.B=function(D){return re(this,D).h},t.and=function(D){const E=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<E;M++)C[M]=this.i(M)&D.i(M);return new u(C,this.h&D.h)},t.or=function(D){const E=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<E;M++)C[M]=this.i(M)|D.i(M);return new u(C,this.h|D.h)},t.xor=function(D){const E=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<E;M++)C[M]=this.i(M)^D.i(M);return new u(C,this.h^D.h)};function ae(D){const E=D.g.length+1,C=[];for(let M=0;M<E;M++)C[M]=D.i(M)<<1|D.i(M-1)>>>31;return new u(C,D.h)}function ue(D,E){const C=E>>5;E%=32;const M=D.g.length-C,k=[];for(let V=0;V<M;V++)k[V]=E>0?D.i(V+C)>>>E|D.i(V+C+1)<<32-E:D.i(V+C);return new u(k,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,VA=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Ar=u}).apply(typeof jT<"u"?jT:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var OA,Cc,PA,wd,t0,LA,UA,BA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var b=0;b<h.length;++b){var w=h[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(h,b){if(b)e:{var w=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var q=h[R];if(!(q in w))break e;w=w[q]}h=h[h.length-1],R=w[h],b=b(R),b!=R&&b!=null&&e(w,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var w=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&w.push([R,b[R]]);return w}});var l=l||{},u=this||self;function d(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,w){return h.call.apply(h.bind,arguments)}function p(h,b,w){return p=m,p.apply(null,arguments)}function v(h,b){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function x(h,b){function w(){}w.prototype=b.prototype,h.Z=b.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(R,q,Q){for(var ce=Array(arguments.length-2),De=2;De<arguments.length;De++)ce[De-2]=arguments[De];return b.prototype[q].apply(R,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const b=h.length;if(b>0){const w=Array(b);for(let R=0;R<b;R++)w[R]=h[R];return w}return[]}function j(h,b){for(let R=1;R<arguments.length;R++){const q=arguments[R];var w=typeof q;if(w=w!="object"?w:q?Array.isArray(q)?"array":w:"null",w=="array"||w=="object"&&typeof q.length=="number"){w=h.length||0;const Q=q.length||0;h.length=w+Q;for(let ce=0;ce<Q;ce++)h[w+ce]=q[ce]}else h.push(q)}}class P{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function L(h){u.setTimeout(()=>{throw h},0)}function z(){var h=D;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class H{constructor(){this.h=this.g=null}add(b,w){const R=K.get();R.set(b,w),this.h?this.h.next=R:this.g=R,this.h=R}}var K=new P(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ue=!1,D=new H,E=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(C)}};function C(){for(var h;h=z();){try{h.h.call(h.g)}catch(w){L(w)}var b=K;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}ue=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,b),u.removeEventListener("test",w,b)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function we(h,b){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}x(we,k),we.prototype.init=function(h,b){const w=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(w=="mouseover"?b=h.fromElement:w=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),W=0;function oe(h,b,w,R,q){this.listener=h,this.proxy=null,this.src=b,this.type=w,this.capture=!!R,this.ha=q,this.key=++W,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ae(h,b,w){for(const R in h)b.call(w,h[R],R,h)}function Ie(h,b){for(const w in h)b.call(void 0,h[w],w,h)}function U(h){const b={};for(const w in h)b[w]=h[w];return b}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(h,b){let w,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(w in R)h[w]=R[w];for(let Q=0;Q<ee.length;Q++)w=ee[Q],Object.prototype.hasOwnProperty.call(R,w)&&(h[w]=R[w])}}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,b,w,R,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ce=Ce(h,b,R,q);return ce>-1?(b=h[ce],w||(b.fa=!1)):(b=new oe(b,this.src,Q,!!R,q),b.fa=w,h.push(b)),b};function ye(h,b){const w=b.type;if(w in h.g){var R=h.g[w],q=Array.prototype.indexOf.call(R,b,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(R,q,1),Q&&(he(b),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Ce(h,b,w,R){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==b&&Q.capture==!!w&&Q.ha==R)return q}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),gt={};function et(h,b,w,R,q){if(Array.isArray(b)){for(let Q=0;Q<b.length;Q++)et(h,b[Q],w,R,q);return null}return w=bl(w),h&&h[Ve]?h.J(b,w,d(R)?!!R.capture:!1,q):Lr(h,b,w,!1,R,q)}function Lr(h,b,w,R,q,Q){if(!b)throw Error("Invalid event type");const ce=d(q)?!!q.capture:!!q;let De=Ur(h);if(De||(h[Oe]=De=new le(h)),w=De.add(b,w,R,ce,Q),w.proxy)return w;if(R=La(),w.proxy=R,R.src=h,R.listener=w,h.addEventListener)V||(q=ce),q===void 0&&(q=!1),h.addEventListener(b.toString(),R,q);else if(h.attachEvent)h.attachEvent(ws(b.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function La(){function h(w){return b.call(h.src,h.listener,w)}const b=yl;return h}function Ua(h,b,w,R,q){if(Array.isArray(b))for(var Q=0;Q<b.length;Q++)Ua(h,b[Q],w,R,q);else R=d(R)?!!R.capture:!!R,w=bl(w),h&&h[Ve]?(h=h.i,Q=String(b).toString(),Q in h.g&&(b=h.g[Q],w=Ce(b,w,R,q),w>-1&&(he(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Ur(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Ce(b,w,R,q)),(w=h>-1?b[h]:null)&&Ba(w))}function Ba(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[Ve])ye(b.i,h);else{var w=h.type,R=h.proxy;b.removeEventListener?b.removeEventListener(w,R,h.capture):b.detachEvent?b.detachEvent(ws(w),R):b.addListener&&b.removeListener&&b.removeListener(R),(w=Ur(b))?(ye(w,h),w.h==0&&(w.src=null,b[Oe]=null)):he(h)}}}function ws(h){return h in gt?gt[h]:gt[h]="on"+h}function yl(h,b){if(h.da)h=!0;else{b=new we(b,this);const w=h.listener,R=h.ha||h.src;h.fa&&Ba(h),h=w.call(R,b)}return h}function Ur(h){return h=h[Oe],h instanceof le?h:null}var vl="__closure_events_fn_"+(Math.random()*1e9>>>0);function bl(h){return typeof h=="function"?h:(h[vl]||(h[vl]=function(b){return h.handleEvent(b)}),h[vl])}function St(){M.call(this),this.i=new le(this),this.M=this,this.G=null}x(St,M),St.prototype[Ve]=!0,St.prototype.removeEventListener=function(h,b,w,R){Ua(this,h,b,w,R)};function Ut(h,b){var w,R=h.G;if(R)for(w=[];R;R=R.G)w.push(R);if(h=h.M,R=b.type||b,typeof b=="string")b=new k(b,h);else if(b instanceof k)b.target=b.target||h;else{var q=b;b=new k(R,h),te(b,q)}q=!0;let Q,ce;if(w)for(ce=w.length-1;ce>=0;ce--)Q=b.g=w[ce],q=Pi(Q,R,!0,b)&&q;if(Q=b.g=h,q=Pi(Q,R,!0,b)&&q,q=Pi(Q,R,!1,b)&&q,w)for(ce=0;ce<w.length;ce++)Q=b.g=w[ce],q=Pi(Q,R,!1,b)&&q}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const w=h.g[b];for(let R=0;R<w.length;R++)he(w[R]);delete h.g[b],h.h--}}this.G=null},St.prototype.J=function(h,b,w,R){return this.i.add(String(h),b,!1,w,R)},St.prototype.K=function(h,b,w,R){return this.i.add(String(h),b,!0,w,R)};function Pi(h,b,w,R){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let Q=0;Q<b.length;++Q){const ce=b[Q];if(ce&&!ce.da&&ce.capture==w){const De=ce.listener,_t=ce.ha||ce.src;ce.fa&&ye(h.i,ce),q=De.call(_t,R)!==!1&&q}}return q&&!R.defaultPrevented}function Vf(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(h,b||0)}function Tu(h){h.g=Vf(()=>{h.g=null,h.i&&(h.i=!1,Tu(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class dn extends M{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(h){M.call(this),this.h=h,this.g={}}x(Br,M);var xl=[];function _l(h){Ae(h.g,function(b,w){this.g.hasOwnProperty(w)&&Ba(b)},h),h.g={}}Br.prototype.N=function(){Br.Z.N.call(this),_l(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Li=u.JSON.stringify,Of=u.JSON.parse,wu=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Eu(){}function Su(){}var ts={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){k.call(this,"d")}x(Yt,k);function Pn(){k.call(this,"c")}x(Pn,k);var xt={},Au=null;function za(){return Au=Au||new St}xt.Ia="serverreachability";function Cu(h){k.call(this,xt.Ia,h)}x(Cu,k);function Es(h){const b=za();Ut(b,new Cu(b))}xt.STAT_EVENT="statevent";function zr(h,b){k.call(this,xt.STAT_EVENT,h),this.stat=b}x(zr,k);function At(h){const b=za();Ut(b,new zr(b,h))}xt.Ja="timingevent";function Ss(h,b){k.call(this,xt.Ja,h),this.size=b}x(Ss,k);function As(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},b)}function ns(){this.g=!0}ns.prototype.ua=function(){this.g=!1};function Pf(h,b,w,R,q,Q){h.info(function(){if(h.g)if(Q){var ce="",De=Q.split("&");for(let Ye=0;Ye<De.length;Ye++){var _t=De[Ye].split("=");if(_t.length>1){const ht=_t[0];_t=_t[1];const zn=ht.split("_");ce=zn.length>=2&&zn[1]=="type"?ce+(ht+"="+_t+"&"):ce+(ht+"=redacted&")}}}else ce=null;else ce=Q;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+b+`
`+w+`
`+ce})}function Ru(h,b,w,R,q,Q,ce){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+b+`
`+w+`
`+Q+" "+ce})}function Cs(h,b,w,R){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Lf(h,w)+(R?" "+R:"")})}function Fr(h,b){h.info(function(){return"TIMEOUT: "+b})}ns.prototype.info=function(){};function Lf(h,b){if(!h.g)return b;if(!b)return null;try{const Q=JSON.parse(b);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var w=Q[h];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var q=R[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ce=1;ce<R.length;ce++)R[ce]=""}}}}return Li(Q)}catch{return b}}var Hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wl;function qr(){}x(qr,Eu),qr.prototype.g=function(){return new XMLHttpRequest},wl=new qr;function ii(h){return encodeURIComponent(String(h))}function Nu(h){var b=1;h=h.split(":");const w=[];for(;b>0&&h.length;)w.push(h.shift()),b--;return h.length&&w.push(h.join(":")),w}function ss(h,b,w,R){this.j=h,this.i=b,this.l=w,this.S=R||1,this.V=new Br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new is}function is(){this.i=null,this.g="",this.h=!1}var Ct={},qt={};function Rs(h,b,w){h.M=1,h.A=Gr(Nt(b)),h.u=w,h.R=!0,Fa(h,null)}function Fa(h,b){h.F=Date.now(),Ns(h),h.B=Nt(h.A);var w=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),$a(w.i,"t",R),h.C=0,w=h.j.L,h.h=new is,h.g=qu(h.j,w?b:null,!h.u),h.P>0&&(h.O=new dn(p(h.Y,h,h.g),h.P)),b=h.V,w=h.g,R=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(xl[0]=q.toString()),q=xl);for(let Q=0;Q<q.length;Q++){const ce=et(w,q[Q],R||b.handleEvent,!1,b.h||b);if(!ce)break;b.g[ce.key]=ce}b=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),Es(),Pf(h.i,h.v,h.B,h.l,h.S,h.u)}ss.prototype.ba=function(h){h=h.target;const b=this.O;b&&os(h)==3?b.j():this.Y(h)},ss.prototype.Y=function(h){try{if(h==this.g)e:{const De=os(this.g),_t=this.g.ya(),Ye=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||De!=4||_t==7||(_t==8||Ye<=0?Es(3):Es(2)),ks(this);var b=this.g.ca();this.X=b;var w=Uf(this);if(this.o=b==200,Ru(this.i,this.v,this.B,this.l,this.S,De,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,q=this.g;if((R=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(R)){var Q=R;break t}}Q=null}if(h=Q)Cs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Is(this,h);else{this.o=!1,this.m=3,At(12),Cn(this),Ln(this);break e}}if(this.R){h=!0;let ht;for(;!this.K&&this.C<w.length;)if(ht=Iu(this,w),ht==qt){De==4&&(this.m=4,At(14),h=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Ct){this.m=4,At(15),Cs(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Cs(this.i,this.l,ht,null),Is(this,ht);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||w.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)Cs(this.i,this.l,w,"[Invalid Chunked Response]"),Cn(this),Ln(this);else if(w.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Ll(ce),ce.P=!0,At(11))}}else Cs(this.i,this.l,w,null),Is(this,w);De==4&&Cn(this),this.o&&!this.K&&(De==4?Bu(this.j,this):(this.o=!1,Ns(this)))}else ai(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Cn(this),Ln(this)}}}catch{}};function Uf(h){if(!ku(h))return h.g.la();const b=Qt(h.g);if(b==="")return"";let w="";const R=b.length,q=os(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Cn(h),Ln(h),"";h.h.i=new u.TextDecoder}for(let Q=0;Q<R;Q++)h.h.h=!0,w+=h.h.i.decode(b[Q],{stream:!(q&&Q==R-1)});return b.length=0,h.h.g+=w,h.C=0,h.h.g}function ku(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Iu(h,b){var w=h.C,R=b.indexOf(`
`,w);return R==-1?qt:(w=Number(b.substring(w,R)),isNaN(w)?Ct:(R+=1,R+w>b.length?qt:(b=b.slice(R,R+w),h.C=R+w,b)))}ss.prototype.cancel=function(){this.K=!0,Cn(this)};function Ns(h){h.T=Date.now()+h.H,Ha(h,h.H)}function Ha(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=As(p(h.aa,h),b)}function ks(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ss.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Fr(this.i,this.B),this.M!=2&&(Es(),At(17)),Cn(this),this.m=2,Ln(this)):Ha(this,this.T-h)};function Ln(h){h.j.I==0||h.K||Bu(h.j,h)}function Cn(h){ks(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,_l(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Is(h,b){try{var w=h.j;if(w.I!=0&&(w.g==h||Ms(w.h,h))){if(!h.L&&Ms(w.h,h)&&w.I==3){try{var R=w.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)Wa(w),$i(w);else break e;Jr(w),At(18)}}else w.xa=q[1],0<w.xa-w.K&&q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=As(p(w.Va,w),6e3));Ds(w.h)<=1&&w.ta&&(w.ta=void 0)}else Us(w,11)}else if((h.L||w.g==h)&&Wa(w),!I(b))for(q=w.Ba.g.parse(b),b=0;b<q.length;b++){let Ye=q[b];const ht=Ye[0];if(!(ht<=w.K))if(w.K=ht,Ye=Ye[1],w.I==2)if(Ye[0]=="c"){w.M=Ye[1],w.ba=Ye[2];const zn=Ye[3];zn!=null&&(w.ka=zn,w.j.info("VER="+w.ka));const Bs=Ye[4];Bs!=null&&(w.za=Bs,w.j.info("SVER="+w.za));const ls=Ye[5];ls!=null&&typeof ls=="number"&&ls>0&&(R=1.5*ls,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const cs=h.g;if(cs){const Zr=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zr){var Q=R.h;Q.g||Zr.indexOf("spdy")==-1&&Zr.indexOf("quic")==-1&&Zr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Al(Q,Q.h),Q.h=null))}if(R.G){const Ja=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(R.wa=Ja,We(R.J,R.G,Ja))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var ce=h;if(R.na=Hu(R,R.L?R.ba:null,R.W),ce.L){Cl(R.h,ce);var De=ce,_t=R.O;_t&&(De.H=_t),De.D&&(ks(De),Ns(De)),R.g=ce}else Lu(R);w.i.length>0&&Ls(w)}else Ye[0]!="stop"&&Ye[0]!="close"||Us(w,7);else w.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Us(w,7):Ol(w):Ye[0]!="noop"&&w.l&&w.l.qa(Ye),w.A=0)}}Es(4)}catch{}}var Rt=class{constructor(h,b){this.g=h,this.map=b}};function El(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ds(h){return h.h?1:h.g?h.g.size:0}function Ms(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Al(h,b){h.g?h.g.add(b):h.h=b}function Cl(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}El.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const w of h.g.values())b=b.concat(w.G);return b}return A(h.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(h,b){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const R=h[w].indexOf("=");let q,Q=null;R>=0?(q=h[w].substring(0,R),Q=h[w].substring(R+1)):q=h[w],b(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Rn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Rn?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,Ui(this,h.u),this.h=h.h,Nl(this,Ou(h.i)),this.m=h.m):h&&(b=String(h).match(Du))?(this.l=!1,Gt(this,b[1]||"",!0),this.o=js(b[2]||""),this.g=js(b[3]||"",!0),Ui(this,b[4]),this.h=js(b[5]||"",!0),Nl(this,b[6]||"",!0),this.m=js(b[7]||"")):(this.l=!1,this.i=new zi(null,this.l))}Rn.prototype.toString=function(){const h=[];var b=this.j;b&&h.push($r(b,Ga,!0),":");var w=this.g;return(w||b=="file")&&(h.push("//"),(b=this.o)&&h.push($r(b,Ga,!0),"@"),h.push(ii(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push($r(w,w.charAt(0)=="/"?kl:Mu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",$r(w,ju)),h.join("")},Rn.prototype.resolve=function(h){const b=Nt(this);let w=!!h.j;w?Gt(b,h.j):w=!!h.o,w?b.o=h.o:w=!!h.g,w?b.g=h.g:w=h.u!=null;var R=h.h;if(w)Ui(b,h.u);else if(w=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var q=b.h.lastIndexOf("/");q!=-1&&(R=b.h.slice(0,q+1)+R)}if(q=R,q==".."||q==".")R="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){R=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ce=0;ce<q.length;){const De=q[ce++];De=="."?R&&ce==q.length&&Q.push(""):De==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),R&&ce==q.length&&Q.push("")):(Q.push(De),R=!0)}R=Q.join("/")}else R=q}return w?b.h=R:w=h.i.toString()!=="",w?Nl(b,Ou(h.i)):w=!!h.m,w&&(b.m=h.m),b};function Nt(h){return new Rn(h)}function Gt(h,b,w){h.j=w?js(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Ui(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Nl(h,b,w){b instanceof zi?(h.i=b,Ka(h.i,h.l)):(w||(b=$r(b,Bi)),h.i=new zi(b,h.l))}function We(h,b,w){h.i.set(b,w)}function Gr(h){return We(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function js(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function $r(h,b,w){return typeof h=="string"?(h=encodeURI(h).replace(b,bn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function bn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ga=/[#\/\?@]/g,Mu=/[#\?:]/g,kl=/[#\?]/g,Bi=/[#\?@]/g,ju=/#/g;function zi(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&qa(h.i,function(b,w){h.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}t=zi.prototype,t.add=function(h,b){xn(this),this.i=null,h=Fi(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(b),this.h+=1,this};function Vu(h,b){xn(h),b=Fi(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function Il(h,b){return xn(h),b=Fi(h,b),h.g.has(b)}t.forEach=function(h,b){xn(this),this.g.forEach(function(w,R){w.forEach(function(q){h.call(b,q,R,this)},this)},this)};function Dl(h,b){xn(h);let w=[];if(typeof b=="string")Il(h,b)&&(w=w.concat(h.g.get(Fi(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)w=w.concat(h[b]);return w}t.set=function(h,b){return xn(this),this.i=null,h=Fi(this,h),Il(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=Dl(this,h),h.length>0?String(h[0]):b):b};function $a(h,b,w){Vu(h,b),w.length>0&&(h.i=null,h.g.set(Fi(h,b),A(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var w=b[R];const q=ii(w);w=Dl(this,w);for(let Q=0;Q<w.length;Q++){let ce=q;w[Q]!==""&&(ce+="="+ii(w[Q])),h.push(ce)}}return this.i=h.join("&")};function Ou(h){const b=new zi;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function Fi(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function Ka(h,b){b&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(w,R){const q=R.toLowerCase();R!=q&&(Vu(this,R),$a(this,q,w))},h)),h.j=b}function rs(h,b){const w=new ns;if(u.Image){const R=new Image;R.onload=v(Un,w,"TestLoadImage: loaded",!0,b,R),R.onerror=v(Un,w,"TestLoadImage: error",!1,b,R),R.onabort=v(Un,w,"TestLoadImage: abort",!1,b,R),R.ontimeout=v(Un,w,"TestLoadImage: timeout",!1,b,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else b(!1)}function Ml(h,b){const w=new ns,R=new AbortController,q=setTimeout(()=>{R.abort(),Un(w,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:R.signal}).then(Q=>{clearTimeout(q),Q.ok?Un(w,"TestPingServer: ok",!0,b):Un(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),Un(w,"TestPingServer: error",!1,b)})}function Un(h,b,w,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(w)}catch{}}function Hi(){this.g=new wu}function Vs(h){this.i=h.Sb||null,this.h=h.ab||!1}x(Vs,Eu),Vs.prototype.g=function(){return new Kr(this.i,this.h)};function Kr(h,b){St.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Kr,St),t=Kr.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,as(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ya(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ya(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?qi(this):as(this),this.readyState==3&&Ya(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,qi(this))},t.Na=function(h){this.g&&(this.response=h,qi(this))},t.ga=function(){this.g&&qi(this)};function qi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,as(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=b.next();return h.join(`\r
`)};function as(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bn(h){let b="";return Ae(h,function(w,R){b+=R,b+=":",b+=w,b+=`\r
`}),b}function Yr(h,b,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Bn(w),typeof h=="string"?w!=null&&ii(w):We(h,b,w))}function tt(h){St.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(tt,St);var Os=/^https?$/i,jl=["POST","PUT"];t=tt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wl.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(Q){Qr(this,Q);return}if(h=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)w.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())w.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(jl,b,void 0)>=0)||R||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ce]of w)this.g.setRequestHeader(Q,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Qr(this,Q)}};function Qr(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Vl(h),ri(h)}function Vl(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Xr(this):this.Xa())},t.Xa=function(){Xr(this)};function Xr(h){if(h.h&&typeof l<"u"){if(h.v&&os(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),os(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var R;if(R=Q===0){let ce=String(h.D).match(Du)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),R=!Os.test(ce?ce.toLowerCase():"")}w=R}if(w)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var q=os(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Vl(h)}}finally{ri(h)}}}}function ri(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,b||Ut(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function os(h){return h.g?h.g.readyState:0}t.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Of(b)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ai(h){const b={};h=(h.g&&os(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(I(h[R]))continue;var w=Nu(h[R]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Q=b[q]||[];b[q]=Q,Q.push(w)}Ie(b,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ps(h,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||b}function Gi(h){this.za=0,this.i=[],this.j=new ns,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ps("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ps("baseRetryDelayMs",5e3,h),this.Za=Ps("retryDelaySeedMs",1e4,h),this.Ta=Ps("forwardChannelMaxRetries",2,h),this.va=Ps("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new El(h&&h.concurrentRequestLimit),this.Ba=new Hi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Gi.prototype,t.ka=8,t.I=1,t.connect=function(h,b,w,R){At(0),this.W=h,this.H=b||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=Hu(this,null,this.W),Ls(this)};function Ol(h){if(Qa(h),h.I==3){var b=h.V++,w=Nt(h.J);if(We(w,"SID",h.M),We(w,"RID",b),We(w,"TYPE","terminate"),Wr(h,w),b=new ss(h,h.j,b),b.M=2,b.A=Gr(Nt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=b.A,w=!0),w||(b.g=qu(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Ns(b)}Fu(h)}function $i(h){h.g&&(Ll(h),h.g.cancel(),h.g=null)}function Qa(h){$i(h),h.v&&(u.clearTimeout(h.v),h.v=null),Wa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Ls(h){if(!Sl(h.h)&&!h.m){h.m=!0;var b=h.Ea;ae||E(),ue||(ae(),ue=!0),D.add(b,h),h.D=0}}function Xa(h,b){return Ds(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=As(p(h.Ea,h,b),zu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ss(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=U(Q),te(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Pu(this,q,b),w=Nt(this.J),We(w,"RID",h),We(w,"CVER",22),this.G&&We(w,"X-HTTP-Session-Id",this.G),Wr(this,w),Q&&(this.R?b="headers="+ii(Bn(Q))+"&"+b:this.u&&Yr(w,this.u,Q)),Al(this.h,q),this.Ra&&We(w,"TYPE","init"),this.S?(We(w,"$req",b),We(w,"SID","null"),q.U=!0,Rs(q,w,null)):Rs(q,w,b),this.I=2}}else this.I==3&&(h?Pl(this,h):this.i.length==0||Sl(this.h)||Pl(this))};function Pl(h,b){var w;b?w=b.l:w=h.V++;const R=Nt(h.J);We(R,"SID",h.M),We(R,"RID",w),We(R,"AID",h.K),Wr(h,R),h.u&&h.o&&Yr(R,h.u,h.o),w=new ss(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),b&&(h.i=b.G.concat(h.i)),b=Pu(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Al(h.h,w),Rs(w,R,b)}function Wr(h,b){h.H&&Ae(h.H,function(w,R){We(b,R,w)}),h.l&&Ae({},function(w,R){We(b,R,w)})}function Pu(h,b,w){w=Math.min(h.i.length,w);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let De=-1;for(;;){const _t=["count="+w];De==-1?w>0?(De=q[0].g,_t.push("ofs="+De)):De=0:_t.push("ofs="+De);let Ye=!0;for(let ht=0;ht<w;ht++){var Q=q[ht].g;const zn=q[ht].map;if(Q-=De,Q<0)De=Math.max(0,q[ht].g-100),Ye=!1;else try{Q="req"+Q+"_"||"";try{var ce=zn instanceof Map?zn:Object.entries(zn);for(const[Bs,ls]of ce){let cs=ls;d(ls)&&(cs=Li(ls)),_t.push(Q+Bs+"="+encodeURIComponent(cs))}}catch(Bs){throw _t.push(Q+"type="+encodeURIComponent("_badmap")),Bs}}catch{R&&R(zn)}}if(Ye){ce=_t.join("&");break e}}ce=void 0}return h=h.i.splice(0,w),b.G=h,ce}function Lu(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;ae||E(),ue||(ae(),ue=!0),D.add(b,h),h.A=0}}function Jr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=As(p(h.Da,h),zu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=As(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),$i(this),Uu(this))};function Ll(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Uu(h){h.g=new ss(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Nt(h.na);We(b,"RID","rpc"),We(b,"SID",h.M),We(b,"AID",h.K),We(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&We(b,"TO",h.ia),We(b,"TYPE","xmlhttp"),Wr(h,b),h.u&&h.o&&Yr(b,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=Gr(Nt(b)),w.u=null,w.R=!0,Fa(w,h)}t.Va=function(){this.C!=null&&(this.C=null,$i(this),Jr(this),At(19))};function Wa(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Bu(h,b){var w=null;if(h.g==b){Wa(h),Ll(h),h.g=null;var R=2}else if(Ms(h.h,b))w=b.G,Cl(h.h,b),R=1;else return;if(h.I!=0){if(b.o)if(R==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var q=h.D;R=za(),Ut(R,new Ss(R,w)),Ls(h)}else Lu(h);else if(q=b.m,q==3||q==0&&b.X>0||!(R==1&&Xa(h,b)||R==2&&Jr(h)))switch(w&&w.length>0&&(b=h.h,b.i=b.i.concat(w)),q){case 1:Us(h,5);break;case 4:Us(h,10);break;case 3:Us(h,6);break;default:Us(h,2)}}}function zu(h,b){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*b}function Us(h,b){if(h.j.info("Error code "+b),b==2){var w=p(h.bb,h),R=h.Ua;const q=!R;R=new Rn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Gt(R,"https"),Gr(R),q?rs(R.toString(),w):Ml(R.toString(),w)}else At(2);h.I=0,h.l&&h.l.pa(b),Fu(h),Qa(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Fu(h){if(h.I=0,h.ja=[],h.l){const b=Rl(h.h);(b.length!=0||h.i.length!=0)&&(j(h.ja,b),j(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function Hu(h,b,w){var R=w instanceof Rn?Nt(w):new Rn(w);if(R.g!="")b&&(R.g=b+"."+R.g),Ui(R,R.u);else{var q=u.location;R=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const Q=new Rn(null);R&&Gt(Q,R),b&&(Q.g=b),q&&Ui(Q,q),w&&(Q.h=w),R=Q}return w=h.G,b=h.wa,w&&b&&We(R,w,b),We(R,"VER",h.ka),Wr(h,R),R}function qu(h,b,w){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new tt(new Vs({ab:w})):new tt(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}t=Gu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ki(){}Ki.prototype.g=function(h,b){return new fn(h,b)};function fn(h,b){St.call(this),this.g=new Gi(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!I(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!I(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new oi(this)}x(fn,St),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Ol(this.g)},fn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Li(h),h=w);b.i.push(new Rt(b.Ya++,h)),b.I==3&&Ls(b)},fn.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,fn.Z.N.call(this)};function $u(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const w in b){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}x($u,Yt);function Ku(){Pn.call(this),this.status=1}x(Ku,Pn);function oi(h){this.g=h}x(oi,Gu),oi.prototype.ra=function(){Ut(this.g,"a")},oi.prototype.qa=function(h){Ut(this.g,new $u(h))},oi.prototype.pa=function(h){Ut(this.g,new Ku)},oi.prototype.oa=function(){Ut(this.g,"b")},Ki.prototype.createWebChannel=Ki.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,BA=function(){return new Ki},UA=function(){return za()},LA=xt,t0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hr.NO_ERROR=0,Hr.TIMEOUT=8,Hr.HTTP_ERROR=6,wd=Hr,Tl.COMPLETE="complete",PA=Tl,Su.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",St.prototype.listen=St.prototype.J,Cc=Su,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,OA=tt}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let hl="12.9.0";function B6(t){hl=t}const Na=new cy("@firebase/firestore");function ko(){return Na.logLevel}function fe(t,...e){if(Na.logLevel<=ze.DEBUG){const n=e.map(Ty);Na.debug(`Firestore (${hl}): ${t}`,...n)}}function Di(t,...e){if(Na.logLevel<=ze.ERROR){const n=e.map(Ty);Na.error(`Firestore (${hl}): ${t}`,...n)}}function ka(t,...e){if(Na.logLevel<=ze.WARN){const n=e.map(Ty);Na.warn(`Firestore (${hl}): ${t}`,...n)}}function Ty(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ee(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,zA(t,i,n)}function zA(t,e,n){let i=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Di(i),new Error(i)}function Xe(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||zA(e,a,i)}function ke(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class FA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class F6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class H6{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Cr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Cr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new FA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class q6{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class G6{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new q6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class VT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ps(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const i=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new VT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new VT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class wy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=K6(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Fe(t,e){return t<e?-1:t>e?1:0}function n0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return dg(a)===dg(l)?Fe(a,l):dg(a)?1:-1}return Fe(t.length,e.length)}const Y6=55296,Q6=57343;function dg(t){const e=t.charCodeAt(0);return e>=Y6&&e<=Q6}function Xo(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const OT="__name__";class Ks{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ee(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ks.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ks?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Ks.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Fe(e.length,n.length)}static compareSegments(e,n){const i=Ks.isNumericId(e),a=Ks.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Ks.extractNumericId(e).compare(Ks.extractNumericId(n)):n0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class at extends Ks{construct(e,n,i){return new at(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const X6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ks{construct(e,n,i){return new nn(e,n,i)}static isValidIdentifier(e){return X6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OT}static keyField(){return new nn([OT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new de(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(l(),a++)}if(l(),u)throw new de(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(at.fromString(e))}static fromName(e){return new be(at.fromString(e).popFirst(5))}static empty(){return new be(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new at(e.slice()))}}function HA(t,e,n){if(!n)throw new de(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function W6(t,e,n,i){if(e===!0&&i===!0)throw new de(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PT(t){if(!be.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LT(t){if(be.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function Ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bf(t);throw new de(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function J6(t,e){if(e<=0)throw new de(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function gu(t,e){if(!qA(t))throw new de(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new de(se.INVALID_ARGUMENT,n);return!0}const UT=-62135596800,BT=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*BT);return new ut(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UT)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BT}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Pt("string",ut._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ut(0,0))}static max(){return new Re(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qc=-1;function Z6(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(i===1e9?new ut(n+1,0):new ut(n,i));return new Ir(a,be.empty(),e)}function eO(t){return new Ir(t.readTime,t.key,Qc)}class Ir{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ir(Re.min(),be.empty(),Qc)}static max(){return new Ir(Re.max(),be.empty(),Qc)}}function tO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}const nO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==nO)throw t;fe("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,i)=>{n(e)}))}static reject(e){return new ie(((n,i)=>{i(e)}))}static waitFor(e){return new ie(((n,i)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>i(m)))})),u=!0,l===a&&n()}))}static or(e){let n=ie.resolve(!1);for(const i of e)n=n.next((a=>a?ie.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ie(((i,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{u[p]=v,++d,d===l&&i(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new ie(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function iO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(t){return t.name==="IndexedDbTransactionError"}class xf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xf.ce=-1;const Ey=-1;function _f(t){return t==null}function $d(t){return t===0&&1/t==-1/0}function rO(t){return typeof t=="number"&&Number.isInteger(t)&&!$d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const GA="";function aO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zT(e)),e=oO(t.get(n),e);return zT(e)}function oO(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case GA:n+="";break;default:n+=l}}return n}function zT(t){return t+GA+""}function FT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Da(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $A(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}}class id{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new tn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HT(this.data.getIterator())}getIteratorFrom(e){return new HT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class HT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ys{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new ys([])}unionWith(e){let n=new Ht(nn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ys(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class KA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new KA("Invalid base64 string: "+l):l}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const lO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=lO.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mr(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}const YA="server_timestamp",QA="__type__",XA="__previous_value__",WA="__local_write_time__";function Sy(t){return(t?.mapValue?.fields||{})[QA]?.stringValue===YA}function Tf(t){const e=t.mapValue.fields[XA];return Sy(e)?Tf(e):e}function Xc(t){const e=Dr(t.mapValue.fields[WA].timestampValue);return new ut(e.seconds,e.nanos)}class cO{constructor(e,n,i,a,l,u,d,m,p,v,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=x}}const Kd="(default)";class Wc{constructor(e,n){this.projectId=e,this.database=n||Kd}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}function uO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new de(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(t.options.projectId,e)}const JA="__type__",hO="__max__",rd={mapValue:{}},ZA="__vector__",Yd="value";function jr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sy(t)?4:fO(t)?9007199254740991:dO(t)?10:11:Ee(28295,{value:t})}function ni(t,e){if(t===e)return!0;const n=jr(t);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Dr(a.timestampValue),d=Dr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Mr(a.bytesValue).isEqual(Mr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Et(a.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Et(a.integerValue)===Et(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Et(a.doubleValue),d=Et(l.doubleValue);return u===d?$d(u)===$d(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(FT(u)!==FT(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!ni(u[m],d[m])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function Jc(t,e){return(t.values||[]).find((n=>ni(n,e)))!==void 0}function Wo(t,e){if(t===e)return 0;const n=jr(t),i=jr(e);if(n!==i)return Fe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Et(l.integerValue||l.doubleValue),m=Et(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return qT(t.timestampValue,e.timestampValue);case 4:return qT(Xc(t),Xc(e));case 5:return n0(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=Mr(l),m=Mr(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=Fe(d[p],m[p]);if(v!==0)return v}return Fe(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=Fe(Et(l.latitude),Et(u.latitude));return d!==0?d:Fe(Et(l.longitude),Et(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return GT(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},p=d[Yd]?.arrayValue,v=m[Yd]?.arrayValue,x=Fe(p?.values?.length||0,v?.values?.length||0);return x!==0?x:GT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===rd.mapValue&&u===rd.mapValue)return 0;if(l===rd.mapValue)return 1;if(u===rd.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let x=0;x<m.length&&x<v.length;++x){const T=n0(m[x],v[x]);if(T!==0)return T;const A=Wo(d[m[x]],p[v[x]]);if(A!==0)return A}return Fe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function qT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Dr(t),i=Dr(e),a=Fe(n.seconds,i.seconds);return a!==0?a:Fe(n.nanos,i.nanos)}function GT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Wo(n[a],i[a]);if(l)return l}return Fe(n.length,i.length)}function Jo(t){return s0(t)}function s0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Dr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Mr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=s0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${s0(n.fields[u])}`;return a+"}"})(t.mapValue):Ee(61005,{value:t})}function Ed(t){switch(jr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(t);return e?16+Ed(e):16;case 5:return 2*t.stringValue.length;case 6:return Mr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Ed(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Da(i.fields,((l,u)=>{a+=l.length+Ed(u)})),a})(t.mapValue);default:throw Ee(13486,{value:t})}}function $T(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function i0(t){return!!t&&"integerValue"in t}function Ay(t){return!!t&&"arrayValue"in t}function KT(t){return!!t&&"nullValue"in t}function YT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sd(t){return!!t&&"mapValue"in t}function dO(t){return(t?.mapValue?.fields||{})[JA]?.stringValue===ZA}function Pc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Da(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Pc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pc(t.arrayValue.values[n]);return e}return{...t}}function fO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hO}class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(n)}setAll(e){let n=nn.emptyPath(),i={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=d.popLast()}u?i[d.lastSegment()]=Pc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Sd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Da(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Xn(Pc(this.value))}}function e2(t){const e=[];return Da(t.fields,((n,i)=>{const a=new nn([n]);if(Sd(i)){const l=e2(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ys(e)}class cn{constructor(e,n,i,a,l,u,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new cn(e,0,Re.min(),Re.min(),Re.min(),Xn.empty(),0)}static newFoundDocument(e,n,i,a){return new cn(e,1,n,Re.min(),i,a,0)}static newNoDocument(e,n){return new cn(e,2,n,Re.min(),Re.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Re.min(),Re.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qd{constructor(e,n){this.position=e,this.inclusive=n}}function QT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=be.comparator(be.fromName(u.referenceValue),n.key):i=Wo(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function XT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}class Zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function mO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class t2{}class Ot extends t2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new gO(e,n,i):n==="array-contains"?new bO(e,i):n==="in"?new xO(e,i):n==="not-in"?new _O(e,i):n==="array-contains-any"?new TO(e,i):new Ot(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new yO(e,i):new vO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wo(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends t2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ts(e,n)}matches(e){return n2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function n2(t){return t.op==="and"}function s2(t){return pO(t)&&n2(t)}function pO(t){for(const e of t.filters)if(e instanceof Ts)return!1;return!0}function r0(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(s2(t))return t.filters.map((e=>r0(e))).join(",");{const e=t.filters.map((n=>r0(n))).join(",");return`${t.op}(${e})`}}function i2(t,e){return t instanceof Ot?(function(i,a){return a instanceof Ot&&i.op===a.op&&i.field.isEqual(a.field)&&ni(i.value,a.value)})(t,e):t instanceof Ts?(function(i,a){return a instanceof Ts&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,d)=>l&&i2(u,a.filters[d])),!0):!1})(t,e):void Ee(19439)}function r2(t){return t instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`})(t):t instanceof Ts?(function(n){return n.op.toString()+" {"+n.getFilters().map(r2).join(" ,")+"}"})(t):"Filter"}class gO extends Ot{constructor(e,n,i){super(e,n,i),this.key=be.fromName(i.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class yO extends Ot{constructor(e,n){super(e,"in",n),this.keys=a2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vO extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=a2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function a2(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class bO extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ay(n)&&Jc(n.arrayValue,this.value)}}class xO extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jc(this.value.arrayValue,n)}}class _O extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jc(this.value.arrayValue,n)}}class TO extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Jc(this.value.arrayValue,i)))}}class wO{constructor(e,n=null,i=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function WT(t,e=null,n=[],i=[],a=null,l=null,u=null){return new wO(t,e,n,i,a,l,u)}function Cy(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>r0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),_f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Jo(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Jo(i))).join(",")),e.Te=n}return e.Te}function Ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!i2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XT(t.startAt,e.startAt)&&XT(t.endAt,e.endAt)}function a0(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ml{constructor(e,n=null,i=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function EO(t,e,n,i,a,l,u,d){return new ml(t,e,n,i,a,l,u,d)}function Ny(t){return new ml(t)}function JT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SO(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function o2(t){return t.collectionGroup!==null}function Lc(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ht(nn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Zc(l,i))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new Zc(nn.keyField(),i))}return e.Ie}function Xs(t){const e=ke(t);return e.Ee||(e.Ee=AO(e,Lc(t))),e.Ee}function AO(t,e){if(t.limitType==="F")return WT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Zc(a.field,l)}));const n=t.endAt?new Qd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Qd(t.startAt.position,t.startAt.inclusive):null;return WT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function o0(t,e){const n=t.filters.concat([e]);return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function CO(t,e){const n=t.explicitOrderBy.concat([e]);return new ml(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Xd(t,e,n){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wf(t,e){return Ry(Xs(t),Xs(e))&&t.limitType===e.limitType}function l2(t){return`${Cy(Xs(t))}|lt:${t.limitType}`}function Io(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>r2(a))).join(", ")}]`),_f(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Jo(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Jo(a))).join(",")),`Target(${i})`})(Xs(t))}; limitType=${t.limitType})`}function Ef(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):be.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of Lc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,d,m){const p=QT(u,d,m);return u.inclusive?p<=0:p<0})(i.startAt,Lc(i),a)||i.endAt&&!(function(u,d,m){const p=QT(u,d,m);return u.inclusive?p>=0:p>0})(i.endAt,Lc(i),a))})(t,e)}function RO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function c2(t){return(e,n)=>{let i=!1;for(const a of Lc(t)){const l=NO(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function NO(t,e,n){const i=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Wo(m,p):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:t.dir})}}class Ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return $A(this.inner)}size(){return this.innerSize}}const kO=new pt(be.comparator);function Mi(){return kO}const u2=new pt(be.comparator);function Rc(...t){let e=u2;for(const n of t)e=e.insert(n.key,n);return e}function h2(t){let e=u2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function _a(){return Uc()}function d2(){return Uc()}function Uc(){return new Ma((t=>t.toString()),((t,e)=>t.isEqual(e)))}const IO=new pt(be.comparator),DO=new Ht(be.comparator);function He(...t){let e=DO;for(const n of t)e=e.add(n);return e}const MO=new Ht(Fe);function jO(){return MO}function ky(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function f2(t){return{integerValue:""+t}}function VO(t,e){return rO(e)?f2(e):ky(t,e)}class Sf{constructor(){this._=void 0}}function OO(t,e,n){return t instanceof eu?(function(a,l){const u={fields:{[QA]:{stringValue:YA},[WA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Sy(l)&&(l=Tf(l)),l&&(u.fields[XA]=l),{mapValue:u}})(n,e):t instanceof tu?p2(t,e):t instanceof nu?g2(t,e):(function(a,l){const u=m2(a,l),d=ZT(u)+ZT(a.Ae);return i0(u)&&i0(a.Ae)?f2(d):ky(a.serializer,d)})(t,e)}function PO(t,e,n){return t instanceof tu?p2(t,e):t instanceof nu?g2(t,e):n}function m2(t,e){return t instanceof Wd?(function(i){return i0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class eu extends Sf{}class tu extends Sf{constructor(e){super(),this.elements=e}}function p2(t,e){const n=y2(e);for(const i of t.elements)n.some((a=>ni(a,i)))||n.push(i);return{arrayValue:{values:n}}}class nu extends Sf{constructor(e){super(),this.elements=e}}function g2(t,e){let n=y2(e);for(const i of t.elements)n=n.filter((a=>!ni(a,i)));return{arrayValue:{values:n}}}class Wd extends Sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ZT(t){return Et(t.integerValue||t.doubleValue)}function y2(t){return Ay(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class LO{constructor(e,n){this.field=e,this.transform=n}}function UO(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof tu&&a instanceof tu||i instanceof nu&&a instanceof nu?Xo(i.elements,a.elements,ni):i instanceof Wd&&a instanceof Wd?ni(i.Ae,a.Ae):i instanceof eu&&a instanceof eu})(t.transform,e.transform)}class BO{constructor(e,n){this.version=e,this.transformResults=n}}class Ws{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Af{}function v2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new x2(t.key,Ws.none()):new yu(t.key,t.data,Ws.none());{const n=t.data,i=Xn.empty();let a=new Ht(nn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new ja(t.key,i,new ys(a.toArray()),Ws.none())}}function zO(t,e,n){t instanceof yu?(function(a,l,u){const d=a.value.clone(),m=tw(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ja?(function(a,l,u){if(!Ad(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=tw(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(b2(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Bc(t,e,n,i){return t instanceof yu?(function(l,u,d,m){if(!Ad(l.precondition,u))return d;const p=l.value.clone(),v=nw(l.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof ja?(function(l,u,d,m){if(!Ad(l.precondition,u))return d;const p=nw(l.fieldTransforms,m,u),v=u.data;return v.setAll(b2(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(t,e,n,i):(function(l,u,d){return Ad(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function FO(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=m2(i.transform,a||null);l!=null&&(n===null&&(n=Xn.empty()),n.set(i.field,l))}return n||null}function ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Xo(i,a,((l,u)=>UO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends Af{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ja extends Af{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function b2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function tw(t,e,n){const i=new Map;Xe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);i.set(l.field,PO(u,d,n[a]))}return i}function nw(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,OO(l,u,e))}return i}class x2 extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HO extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qO{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&zO(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Bc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Bc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=d2();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=v2(u,d);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,((n,i)=>ew(n,i)))&&Xo(this.baseMutations,e.baseMutations,((n,i)=>ew(n,i)))}}class Iy{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return IO})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Iy(e,n,i,a)}}class GO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $O{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,Ge;function KO(t){switch(t){case se.OK:return Ee(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function _2(t){if(t===void 0)return Di("GRPC error has no .code"),se.UNKNOWN;switch(t){case jt.OK:return se.OK;case jt.CANCELLED:return se.CANCELLED;case jt.UNKNOWN:return se.UNKNOWN;case jt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case jt.INTERNAL:return se.INTERNAL;case jt.UNAVAILABLE:return se.UNAVAILABLE;case jt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case jt.NOT_FOUND:return se.NOT_FOUND;case jt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case jt.ABORTED:return se.ABORTED;case jt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case jt.DATA_LOSS:return se.DATA_LOSS;default:return Ee(39323,{code:t})}}(Ge=jt||(jt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function YO(){return new TextEncoder}const QO=new Ar([4294967295,4294967295],0);function sw(t){const e=YO().encode(t),n=new VA;return n.update(e),new Uint8Array(n.digest())}function iw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ar([n,i],0),new Ar([a,l],0)]}class Dy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(i<0)throw new Nc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ar.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Ar.fromNumber(i)));return a.compare(QO)===1&&(a=new Ar([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sw(e),[i,a]=iw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Dy(l,a,n);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=sw(e),[i,a]=iw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Cf(Re.min(),a,new pt(Fe),Mi(),He())}}class vu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new vu(i,n,He(),He(),He())}}class Cd{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class T2{constructor(e,n){this.targetId=e,this.Ce=n}}class w2{constructor(e,n,i=sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class rw{constructor(){this.ve=0,this.Fe=aw(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),i=He();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ee(38017,{changeType:l})}})),new vu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=aw()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class XO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mi(),this.He=ad(),this.Je=ad(),this.Ze=new pt(Fe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(a0(l))if(i===0){const u=new be(l.path);this.et(n,u,cn.newNoDocument(u,Re.min()))}else Xe(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=Mr(i).toUint8Array()}catch(m){if(m instanceof KA)return ka("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Dy(u,a,l)}catch(m){return ka(m instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&a0(d.target)){const m=new be(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,cn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let i=He();this.Je.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Cf(e,n,this.Ze,this.je,i);return this.je=Mi(),this.He=ad(),this.Je=ad(),this.Ze=new pt(Fe),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new rw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ht(Fe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ht(Fe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ad(){return new pt(be.comparator)}function aw(){return new pt(be.comparator)}const WO={asc:"ASCENDING",desc:"DESCENDING"},JO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZO={and:"AND",or:"OR"};class eP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function l0(t,e){return t.useProto3Json||_f(e)?e:{value:e}}function Jd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tP(t,e){return Jd(t,e.toTimestamp())}function Js(t){return Xe(!!t,49232),Re.fromTimestamp((function(n){const i=Dr(n);return new ut(i.seconds,i.nanos)})(t))}function My(t,e){return c0(t,e).canonicalString()}function c0(t,e){const n=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function S2(t){const e=at.fromString(t);return Xe(k2(e),10190,{key:e.toString()}),e}function u0(t,e){return My(t.databaseId,e.path)}function fg(t,e){const n=S2(e);if(n.get(1)!==t.databaseId.projectId)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(C2(n))}function A2(t,e){return My(t.databaseId,e)}function nP(t){const e=S2(t);return e.length===4?at.emptyPath():C2(e)}function h0(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C2(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ow(t,e,n){return{name:u0(t,e),fields:n.value.mapValue.fields}}function sP(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),sn.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),sn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const v=p.code===void 0?se.UNKNOWN:_2(p.code);return new de(v,p.message||"")})(u);n=new w2(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=fg(t,i.document.name),l=Js(i.document.updateTime),u=i.document.createTime?Js(i.document.createTime):Re.min(),d=new Xn({mapValue:{fields:i.document.fields}}),m=cn.newFoundDocument(a,l,u,d),p=i.targetIds||[],v=i.removedTargetIds||[];n=new Cd(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=fg(t,i.document),l=i.readTime?Js(i.readTime):Re.min(),u=cn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Cd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=fg(t,i.document),l=i.removedTargetIds||[];n=new Cd([],l,a,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new $O(a,l),d=i.targetId;n=new T2(d,u)}}return n}function iP(t,e){let n;if(e instanceof yu)n={update:ow(t,e.key,e.value)};else if(e instanceof x2)n={delete:u0(t,e.key)};else if(e instanceof ja)n={update:ow(t,e.key,e.data),updateMask:fP(e.fieldMask)};else{if(!(e instanceof HO))return Ee(16599,{dt:e.type});n={verify:u0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const d=u.transform;if(d instanceof eu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof nu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wd)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ee(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:tP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)})(t,e.precondition)),n}function rP(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Js(a.updateTime):Js(l);return u.isEqual(Re.min())&&(u=Js(l)),new BO(u,a.transformResults||[])})(n,e)))):[]}function aP(t,e){return{documents:[A2(t,e.path)]}}function oP(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=A2(t,a);const l=(function(p){if(p.length!==0)return N2(Ts.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(T){return{field:Do(T.field),direction:uP(T.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=l0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function lP(t){let e=nP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Xe(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(x){const T=R2(x);return T instanceof Ts&&s2(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((T=>(function(j){return new Zc(Mo(j.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(T)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let T;return T=typeof x=="object"?x.value:x,_f(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(x){const T=!!x.before,A=x.values||[];return new Qd(A,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(x){const T=!x.before,A=x.values||[];return new Qd(A,T)})(n.endAt)),EO(e,a,u,l,d,"F",m,p)}function cP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function R2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Mo(n.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Mo(n.unaryFilter.field);return Ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Mo(n.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Mo(n.unaryFilter.field);return Ot.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ot.create(Mo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ts.create(n.compositeFilter.filters.map((i=>R2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function uP(t){return WO[t]}function hP(t){return JO[t]}function dP(t){return ZO[t]}function Do(t){return{fieldPath:t.canonicalString()}}function Mo(t){return nn.fromServerFormat(t.fieldPath)}function N2(t){return t instanceof Ot?(function(n){if(n.op==="=="){if(YT(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(KT(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YT(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(KT(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:hP(n.op),value:n.value}}})(t):t instanceof Ts?(function(n){const i=n.getFilters().map((a=>N2(a)));return i.length===1?i[0]:{compositeFilter:{op:dP(n.op),filters:i}}})(t):Ee(54877,{filter:t})}function fP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function k2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function I2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Tr{constructor(e,n,i,a,l=Re.min(),u=Re.min(),d=sn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mP{constructor(e){this.yt=e}}function pP(t){const e=lP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xd(e,e.limit,"L"):e}class gP{constructor(){this.Sn=new yP}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ir.min())}updateCollectionGroup(e,n,i){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class yP{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Ht(at.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ht(at.comparator)).toArray()}}const lw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D2=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(D2,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class Zo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Zo(0)}static ar(){return new Zo(-1)}}const cw="LruGarbageCollector",vP=1048576;function uw([t,e],[n,i]){const a=Fe(t,n);return a===0?Fe(e,i):a}class bP{constructor(e){this.Pr=e,this.buffer=new Ht(uw),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();uw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xP{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(cw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?fe(cw,"Ignoring IndexedDB error during garbage collection: ",n):await dl(n)}await this.Ar(3e5)}))}}class _P{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(xf.ce);const i=new bP(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(lw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lw):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,u,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(i=x,d=Date.now(),this.removeTargets(e,i,n)))).next((x=>(l=x,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(p=Date.now(),ko()<=ze.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${x} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x}))))}}function TP(t,e){return new _P(t,e)}class wP{constructor(){this.changes=new Ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ie.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class EP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class SP{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Bc(i.mutation,a,ys.empty(),ut.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,He()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=He()){const a=_a();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=Rc();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=_a();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,He())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,i,a){let l=Mi();const u=Uc(),d=(function(){return Uc()})();return n.forEach(((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof ja)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Bc(v.mutation,p,v.mutation.getFieldMask(),ut.now())):u.set(p.key,ys.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>u.set(p,v))),n.forEach(((p,v)=>d.set(p,new EP(v,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=Uc();let a=new pt(((u,d)=>u-d)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=i.get(m)||ys.empty();v=d.applyToLocalView(p,v),i.set(m,v);const x=(a.get(d.batchId)||He()).add(m);a=a.insert(d.batchId,x)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,x=d2();v.forEach((T=>{if(!l.has(T)){const A=v2(n.get(T),i.get(T));A!==null&&x.set(T,A),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,x))}return ie.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return SO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):o2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ie.resolve(_a());let d=Qc,m=l;return u.next((p=>ie.forEach(p,((v,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),l.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,He()))).next((v=>({batchId:d,changes:h2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((i=>{let a=Rc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=Rc();return this.indexManager.getCollectionParents(e,l).next((d=>ie.forEach(d,(m=>{const p=(function(x,T){return new ml(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((x,T)=>{u=u.insert(x,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,cn.newInvalidDocument(v)))}));let d=Rc();return u.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&Bc(v.mutation,p,ys.empty(),ut.now()),Ef(n,p)&&(d=d.insert(m,p))})),d}))}}class AP{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Js(a.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:pP(a.bundledQuery),readTime:Js(a.readTime)}})(n)),ie.resolve()}}class CP{constructor(){this.overlays=new pt(be.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const i=_a();return ie.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ie.resolve()}getOverlaysForCollection(e,n,i){const a=_a(),l=n.length+1,u=new be(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new pt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=_a(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=_a(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=a)););return ie.resolve(d)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new GO(n,i));let l=this.Lr.get(n);l===void 0&&(l=He(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class RP{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class jy{constructor(){this.kr=new Ht(Kt.Kr),this.qr=new Ht(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Kt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Kt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new be(new at([])),i=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new at([])),i=new Kt(n,e),a=new Kt(n,e+1);let l=He();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Kt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||Fe(e.Hr,n.Hr)}static Ur(e,n){return Fe(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class NP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(Kt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new qO(l,n,i,a);this.mutationQueue.push(u);for(const d of a)this.Jr=this.Jr.add(new Kt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Ey:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const d=this.Zr(u.Hr);l.push(d)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ht(Fe);return n.forEach((a=>{const l=new Kt(a,0),u=new Kt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(d=>{i=i.add(d.Hr)}))})),ie.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;be.isDocumentKey(l)||(l=l.child(""));const u=new Kt(new be(l),0);let d=new Ht(Fe);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),u),ie.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ie.forEach(n.mutations,(a=>{const l=new Kt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Kt(n,0),a=this.Jr.firstAfterOrEqual(i);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kP{constructor(e){this.ti=e,this.docs=(function(){return new pt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ie.resolve(i?i.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let i=Mi();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))})),ie.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Mi();const u=n.path,d=new be(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||tO(eO(v),i)<=0||(a.has(v.key)||Ef(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ee(9500)}ni(e,n){return ie.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new IP(this)}getSize(e){return ie.resolve(this.size)}}class IP extends wP{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class DP{constructor(e){this.persistence=e,this.ri=new Ma((n=>Cy(n)),Ry),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new jy,this.targetCount=0,this.oi=Zo._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ie.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ie.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ie.resolve(i)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class M2{constructor(e,n){this._i={},this.overlays={},this.ai=new xf(0),this.ui=!1,this.ui=!0,this.ci=new RP,this.referenceDelegate=e(this),this.li=new DP(this),this.indexManager=new gP,this.remoteDocumentCache=(function(a){return new kP(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new mP(n),this.Pi=new AP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new NP(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const a=new MP(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ie.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class MP extends sO{constructor(e){super(),this.currentSequenceNumber=e}}class Vy{constructor(e){this.persistence=e,this.Ri=new jy,this.Ai=null}static Vi(e){return new Vy(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ie.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(i=>{const a=be.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Re.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Zd{constructor(e,n){this.persistence=e,this.fi=new Ma((i=>aO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=TP(this,n)}static Vi(e,n){return new Zd(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ie.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((d=>{d||(i++,l.removeEntry(u,Re.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ed(e.data.value)),n}wr(e,n,i){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ie.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Oy{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=He(),a=He();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Oy(e,n.fromCache,i,a)}}class jP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class VP{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return bj()?8:iO(hn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new jP;return this.ys(e,n,u).next((d=>{if(l.result=d,this.As)return this.ws(e,n,u,d.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(ko()<=ze.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(ko()<=ze.DEBUG&&fe("QueryEngine","Query:",Io(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(ko()<=ze.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xs(n))):ie.resolve())}gs(e,n){if(JT(n))return ie.resolve(null);let i=Xs(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Xd(n,null,"F"),i=Xs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=He(...l);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,u,m.readTime)?this.gs(e,Xd(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,i,a){return JT(n)||a.isEqual(Re.min())?ie.resolve(null):this.fs.getDocuments(e,i).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,i,a)?ie.resolve(null):(ko()<=ze.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Io(n)),this.Ds(e,u,n,Z6(a,Qc)).next((d=>d)))}))}bs(e,n){let i=new Ht(c2(e));return n.forEach(((a,l)=>{Ef(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return ko()<=ze.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Io(n)),this.fs.getDocumentsMatchingQuery(e,n,Ir.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Py="LocalStore",OP=3e8;class PP{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new pt(Fe),this.Fs=new Ma((l=>Cy(l)),Ry),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SP(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function LP(t,e,n,i){return new PP(t,e,n,i)}async function j2(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],d=[];let m=He();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function UP(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,v){const x=p.batch,T=x.keys();let A=ie.resolve();return T.forEach((j=>{A=A.next((()=>v.getEntry(m,j))).next((P=>{const L=p.docVersions.get(j);Xe(L!==null,48541),P.version.compareTo(L)<0&&(x.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),v.addEntry(P)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(m,x)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=He();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function V2(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function BP(t,e){const n=ke(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((v,x)=>{const T=a.get(x);if(!T)return;d.push(n.li.removeMatchingKeys(l,v.removedDocuments,x).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,x))));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?A=A.withResumeToken(sn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),a=a.insert(x,A),(function(P,L,z){return P.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=OP?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,A,v)&&d.push(n.li.updateTargetData(l,A))}));let m=Mi(),p=He();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(zP(l,u,e.documentUpdates).next((v=>{m=v.Bs,p=v.Ls}))),!i.isEqual(Re.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((x=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return ie.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function zP(t,e,n){let i=He(),a=He();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=Mi();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Re.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):fe(Py,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function FP(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ey),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function HP(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,ie.resolve(a)):n.li.allocateTargetId(i).next((u=>(a=new Tr(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function d0(t,e,n){const i=ke(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!fl(u))throw u;fe(Py,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function hw(t,e,n){const i=ke(t);let a=Re.min(),l=He();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const x=ke(m),T=x.Fs.get(v);return T!==void 0?ie.resolve(x.vs.get(T)):x.li.getTargetData(p,v)})(i,u,Xs(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?a:Re.min(),n?l:He()))).next((d=>(qP(i,RO(e),d),{documents:d,ks:l})))))}function qP(t,e,n){let i=t.Ms.get(e)||Re.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class dw{constructor(){this.activeTargetIds=jO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GP{constructor(){this.vo=new dw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new dw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $P{Mo(e){}shutdown(){}}const fw="ConnectivityMonitor";class mw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(fw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(fw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let od=null;function f0(){return od===null?od=(function(){return 268435456+Math.round(2147483648*Math.random())})():od++,"0x"+od.toString(16)}const mg="RestConnection",KP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class YP{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Kd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const u=f0(),d=this.Qo(e,n.toUriEncodedString());fe(mg,`Sending RPC '${e}' ${u}:`,d,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),v=ll(p);return this.zo(e,d,m,i,v).then((x=>(fe(mg,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw ka(mg,`RPC '${e}' ${u} failed with error: `,x,"url: ",d,"request:",i),x}))}jo(e,n,i,a,l,u){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=KP[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class QP{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const on="WebChannelConnection",Sc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class qo extends YP{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!qo.c_){const e=UA();Sc(e,LA.STAT_EVENT,(n=>{n.stat===t0.PROXY?fe(on,"STAT_EVENT: detected buffering proxy"):n.stat===t0.NOPROXY&&fe(on,"STAT_EVENT: detected no buffering proxy")})),qo.c_=!0}}zo(e,n,i,a,l){const u=f0();return new Promise(((d,m)=>{const p=new OA;p.setWithCredentials(!0),p.listenOnce(PA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case wd.NO_ERROR:const x=p.getResponseJson();fe(on,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case wd.TIMEOUT:fe(on,`RPC '${e}' ${u} timed out`),m(new de(se.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const T=p.getStatus();if(fe(on,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const j=A?.error;if(j&&j.status&&j.message){const P=(function(z){const H=z.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(H)>=0?H:se.UNKNOWN})(j.status);m(new de(P,j.message))}else m(new de(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(se.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(on,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);fe(on,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=f0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const p=l.join("");fe(on,`Creating RPC '${e}' stream ${a}: ${p}`,d);const v=u.createWebChannel(p,d);this.I_(v);let x=!1,T=!1;const A=new QP({Ho:j=>{T?fe(on,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(x||(fe(on,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),fe(on,`RPC '${e}' stream ${a} sending:`,j),v.send(j))},Jo:()=>v.close()});return Sc(v,Cc.EventType.OPEN,(()=>{T||(fe(on,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Sc(v,Cc.EventType.CLOSE,(()=>{T||(T=!0,fe(on,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(v))})),Sc(v,Cc.EventType.ERROR,(j=>{T||(T=!0,ka(on,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),A.o_(new de(se.UNAVAILABLE,"The operation could not be completed")))})),Sc(v,Cc.EventType.MESSAGE,(j=>{if(!T){const P=j.data[0];Xe(!!P,16349);const L=P,z=L?.error||L[0]?.error;if(z){fe(on,`RPC '${e}' stream ${a} received error:`,z);const H=z.status;let K=(function(ue){const D=jt[ue];if(D!==void 0)return _2(D)})(H),re=z.message;H==="NOT_FOUND"&&re.includes("database")&&re.includes("does not exist")&&re.includes(this.databaseId.database)&&ka(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=se.INTERNAL,re="Unknown error status: "+H+" with message "+z.message),T=!0,A.o_(new de(K,re)),v.close()}else fe(on,`RPC '${e}' stream ${a} received:`,P),A.__(P)}})),qo.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return BA()}}function XP(t){return new qo(t)}function pg(){return typeof document<"u"?document:null}function Rf(t){return new eP(t,!0)}qo.c_=!1;class O2{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const pw="PersistentStream";class P2{constructor(e,n,i,a,l,u,d,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new O2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new de(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(pw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe(pw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WP extends P2{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sP(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Js(u.readTime):Re.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=h0(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=a0(m)?{documents:aP(l,m)}:{query:oP(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=E2(l,u.resumeToken);const p=l0(l,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Re.min())>0){d.readTime=Jd(l,u.snapshotVersion.toTimestamp());const p=l0(l,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=cP(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=h0(this.serializer),n.removeTarget=e,this.K_(n)}}class JP extends P2{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rP(e.writeResults,e.commitTime),i=Js(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=h0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>iP(this.serializer,i)))};this.K_(n)}}class ZP{}class eL extends ZP{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,c0(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(se.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,c0(n,i),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function tL(t,e,n,i){return new eL(t,e,n,i)}class nL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Di(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ia="RemoteStore";class sL{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{Va(this)&&(fe(Ia,"Restarting streams for network reachability change."),await(async function(m){const p=ke(m);p.Ea.add(4),await bu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Nf(p)})(this))}))})),this.Va=new nL(i,a)}}async function Nf(t){if(Va(t))for(const e of t.Ra)await e(!0)}async function bu(t){for(const e of t.Ra)await e(!1)}function L2(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zy(n)?By(n):pl(n).O_()&&Uy(n,e))}function Ly(t,e){const n=ke(t),i=pl(n);n.Ia.delete(e),i.O_()&&U2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Va(n)&&n.Va.set("Unknown"))}function Uy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).Z_(e)}function U2(t,e){t.da.$e(e),pl(t).X_(e)}function By(t){t.da=new XO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.Va.ua()}function zy(t){return Va(t)&&!pl(t).x_()&&t.Ia.size>0}function Va(t){return ke(t).Ea.size===0}function B2(t){t.da=void 0}async function iL(t){t.Va.set("Online")}async function rL(t){t.Ia.forEach(((e,n)=>{Uy(t,e)}))}async function aL(t,e){B2(t),zy(t)?(t.Va.ha(e),By(t)):t.Va.set("Unknown")}async function oL(t,e,n){if(t.Va.set("Online"),e instanceof w2&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(i){fe(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ef(t,i)}else if(e instanceof Cd?t.da.Xe(e):e instanceof T2?t.da.st(e):t.da.tt(e),!n.isEqual(Re.min()))try{const i=await V2(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const d=l.da.Tt(u);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),U2(l,m);const x=new Tr(v.target,m,p,v.sequenceNumber);Uy(l,x)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){fe(Ia,"Failed to raise snapshot:",i),await ef(t,i)}}async function ef(t,e,n){if(!fl(e))throw e;t.Ea.add(1),await bu(t),t.Va.set("Offline"),n||(n=()=>V2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(Ia,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Nf(t)}))}function z2(t,e){return e().catch((n=>ef(t,n,e)))}async function kf(t){const e=ke(t),n=Vr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ey;for(;lL(e);)try{const a=await FP(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,cL(e,a)}catch(a){await ef(e,a)}F2(e)&&H2(e)}function lL(t){return Va(t)&&t.Ta.length<10}function cL(t,e){t.Ta.push(e);const n=Vr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function F2(t){return Va(t)&&!Vr(t).x_()&&t.Ta.length>0}function H2(t){Vr(t).start()}async function uL(t){Vr(t).ra()}async function hL(t){const e=Vr(t);for(const n of t.Ta)e.ea(n.mutations)}async function dL(t,e,n){const i=t.Ta.shift(),a=Iy.from(i,e,n);await z2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await kf(t)}async function fL(t,e){e&&Vr(t).Y_&&await(async function(i,a){if((function(u){return KO(u)&&u!==se.ABORTED})(a.code)){const l=i.Ta.shift();Vr(i).B_(),await z2(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await kf(i)}})(t,e),F2(t)&&H2(t)}async function gw(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),fe(Ia,"RemoteStore received new credentials");const i=Va(n);n.Ea.add(3),await bu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nf(n)}async function mL(t,e){const n=ke(t);e?(n.Ea.delete(2),await Nf(n)):e||(n.Ea.add(2),await bu(n),n.Va.set("Unknown"))}function pl(t){return t.ma||(t.ma=(function(n,i,a){const l=ke(n);return l.sa(),new WP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:iL.bind(null,t),Yo:rL.bind(null,t),t_:aL.bind(null,t),J_:oL.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),zy(t)?By(t):t.Va.set("Unknown")):(await t.ma.stop(),B2(t))}))),t.ma}function Vr(t){return t.fa||(t.fa=(function(n,i,a){const l=ke(n);return l.sa(),new JP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:uL.bind(null,t),t_:fL.bind(null,t),ta:hL.bind(null,t),na:dL.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await kf(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Ia,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Fy{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,d=new Fy(e,n,u,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(t,e){if(Di("AsyncQueue",`${e}: ${t}`),fl(t))return new de(se.UNAVAILABLE,`${e}: ${t}`);throw t}class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||be.comparator(n.key,i.key):(n,i)=>be.comparator(n.key,i.key),this.keyedMap=Rc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Go;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class yw{constructor(){this.ga=new pt(be.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class el{constructor(e,n,i,a,l,u,d,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new el(e,n,Go.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class pL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class gL{constructor(){this.queries=vw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=ke(n),l=a.queries;a.queries=vw(),l.forEach(((u,d)=>{for(const m of d.ba)m.onError(i)}))})(this,new de(se.ABORTED,"Firestore shutting down"))}}function vw(){return new Ma((t=>l2(t)),wf)}async function q2(t,e){const n=ke(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new pL,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=Hy(u,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&qy(n)}async function G2(t,e){const n=ke(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function yL(t,e){const n=ke(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.ba)d.Fa(a)&&(i=!0);u.wa=a}}i&&qy(n)}function vL(t,e,n){const i=ke(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function qy(t){t.Ca.forEach((e=>{e.next()}))}var m0,bw;(bw=m0||(m0={})).Ma="default",bw.Cache="cache";class $2{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new el(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==m0.Cache}}class K2{constructor(e){this.key=e}}class Y2{constructor(e){this.key=e}}class bL{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=c2(e),this.tu=new Go(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new yw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,x)=>{const T=a.get(v),A=Ef(this.query,x)?x:null,j=!!T&&this.mutatedKeys.has(T.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;T&&A?T.data.isEqual(A.data)?j!==P&&(i.track({type:3,doc:A}),L=!0):this.su(T,A)||(i.track({type:2,doc:A}),L=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(d=!0)):!T&&A?(i.track({type:0,doc:A}),L=!0):T&&!A&&(i.track({type:1,doc:T}),L=!0,(m||p)&&(d=!0)),L&&(A?(u=u.add(A),l=P?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,x)=>(function(A,j){const P=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:L})}};return P(A)-P(j)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new el(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new Y2(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new K2(i))})),n}cu(e){this.Za=e.ks,this.Ya=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Gy="SyncEngine";class xL{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class _L{constructor(e){this.key=e,this.hu=!1}}class TL{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ma((d=>l2(d)),wf),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(be.comparator),this.Au=new Map,this.Vu=new jy,this.du={},this.mu=new Map,this.fu=Zo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wL(t,e,n=!0){const i=eC(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Q2(i,e,n,!0),a}async function EL(t,e){const n=eC(t);await Q2(n,e,!0,!1)}async function Q2(t,e,n,i){const a=await HP(t.localStore,Xs(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await SL(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&L2(t.remoteStore,a),d}async function SL(t,e,n,i,a){t.pu=(x,T,A)=>(async function(P,L,z,H){let K=L.view.ru(z);K.Ss&&(K=await hw(P.localStore,L.query,!1).then((({documents:D})=>L.view.ru(D,K))));const re=H&&H.targetChanges.get(L.targetId),ae=H&&H.targetMismatches.get(L.targetId)!=null,ue=L.view.applyChanges(K,P.isPrimaryClient,re,ae);return _w(P,L.targetId,ue.au),ue.snapshot})(t,x,T,A);const l=await hw(t.localStore,e,!0),u=new bL(e,l.ks),d=u.ru(l.documents),m=vu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(d,t.isPrimaryClient,m);_w(t,n,p.au);const v=new xL(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function AL(t,e,n){const i=ke(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!wf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await d0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Ly(i.remoteStore,a.targetId),p0(i,a.targetId)})).catch(dl)):(p0(i,a.targetId),await d0(i.localStore,a.targetId,!0))}async function CL(t,e){const n=ke(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ly(n.remoteStore,i.targetId))}async function RL(t,e,n){const i=VL(t);try{const a=await(function(u,d){const m=ke(u),p=ut.now(),v=d.reduce(((A,j)=>A.add(j.key)),He());let x,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let j=Mi(),P=He();return m.xs.getEntries(A,v).next((L=>{j=L,j.forEach(((z,H)=>{H.isValidDocument()||(P=P.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,j))).next((L=>{x=L;const z=[];for(const H of d){const K=FO(H,x.get(H.key).overlayedDocument);K!=null&&z.push(new ja(H.key,K,e2(K.value.mapValue),Ws.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,z,d)})).next((L=>{T=L;const z=L.applyToLocalDocumentSet(x,P);return m.documentOverlayCache.saveOverlays(A,L.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:h2(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let p=u.du[u.currentUser.toKey()];p||(p=new pt(Fe)),p=p.insert(d,m),u.du[u.currentUser.toKey()]=p})(i,a.batchId,n),await xu(i,a.changes),await kf(i.remoteStore)}catch(a){const l=Hy(a,"Failed to persist write");n.reject(l)}}async function X2(t,e){const n=ke(t);try{const i=await BP(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Xe(u.hu,14607):a.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await xu(n,i,e)}catch(i){await dl(i)}}function xw(t,e,n){const i=ke(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=ke(u);m.onlineState=d;let p=!1;m.queries.forEach(((v,x)=>{for(const T of x.ba)T.va(d)&&(p=!0)})),p&&qy(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function NL(t,e,n){const i=ke(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new pt(be.comparator);u=u.insert(l,cn.newNoDocument(l,Re.min()));const d=He().add(l),m=new Cf(Re.min(),new Map,new pt(Fe),u,d);await X2(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),$y(i)}else await d0(i.localStore,e,!1).then((()=>p0(i,e,n))).catch(dl)}async function kL(t,e){const n=ke(t),i=e.batch.batchId;try{const a=await UP(n.localStore,e);J2(n,i,null),W2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await xu(n,a)}catch(a){await dl(a)}}async function IL(t,e,n){const i=ke(t);try{const a=await(function(u,d){const m=ke(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next((x=>(Xe(x!==null,37113),v=x.keys(),m.mutationQueue.removeMutationBatch(p,x)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);J2(i,e,n),W2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await xu(i,a)}catch(a){await dl(a)}}function W2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function J2(t,e,n){const i=ke(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function p0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||Z2(t,i)}))}function Z2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Ly(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),$y(t))}function _w(t,e,n){for(const i of n)i instanceof K2?(t.Vu.addReference(i.key,e),DL(t,i)):i instanceof Y2?(fe(Gy,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||Z2(t,i.key)):Ee(19791,{wu:i})}function DL(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(fe(Gy,"New document in limbo: "+n),t.Eu.add(i),$y(t))}function $y(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(at.fromString(e)),i=t.fu.next();t.Au.set(i,new _L(n)),t.Ru=t.Ru.insert(n,i),L2(t.remoteStore,new Tr(Xs(Ny(n.path)),i,"TargetPurposeLimboResolution",xf.ce))}}async function xu(t,e,n){const i=ke(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{u.push(i.pu(m,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Oy.Es(m.targetId,p);l.push(v)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(m,p){const v=ke(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ie.forEach(p,(T=>ie.forEach(T.Ts,(A=>v.persistence.referenceDelegate.addReference(x,T.targetId,A))).next((()=>ie.forEach(T.Is,(A=>v.persistence.referenceDelegate.removeReference(x,T.targetId,A)))))))))}catch(x){if(!fl(x))throw x;fe(Py,"Failed to update sequence numbers: "+x)}for(const x of p){const T=x.targetId;if(!x.fromCache){const A=v.vs.get(T),j=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(j);v.vs=v.vs.insert(T,P)}}})(i.localStore,l))}async function ML(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){fe(Gy,"User change. New user:",e.toKey());const i=await j2(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new de(se.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await xu(n,i.Ns)}}function jL(t,e){const n=ke(t),i=n.Au.get(e);if(i&&i.hu)return He().add(i.key);{let a=He();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function eC(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NL.bind(null,e),e.Pu.J_=yL.bind(null,e.eventManager),e.Pu.yu=vL.bind(null,e.eventManager),e}function VL(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IL.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LP(this.persistence,new VP,e.initialUser,this.serializer)}Cu(e){return new M2(Vy.Vi,this.serializer)}Du(e){return new GP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class OL extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Zd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new xP(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new M2((i=>Zd.Vi(i,n)),this.serializer)}}class g0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ML.bind(null,this.syncEngine),await mL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gL})()}createDatastore(e){const n=Rf(e.databaseInfo.databaseId),i=XP(e.databaseInfo);return tL(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,d){return new sL(i,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>xw(this.syncEngine,n,0)),(function(){return mw.v()?new mw:new $P})())}createSyncEngine(e,n){return(function(a,l,u,d,m,p,v){const x=new TL(a,l,u,d,m,p);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=ke(n);fe(Ia,"RemoteStore shutting down."),i.Ea.add(5),await bu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}g0.provider={build:()=>new g0};class tC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Or="FirestoreClient";class PL{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=wy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{fe(Or,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(fe(Or,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Hy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function gg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Or,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await j2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Tw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LL(t);fe(Or,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>gw(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>gw(e.remoteStore,a))),t._onlineComponents=e}async function LL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Or,"Using user provided OfflineComponentProvider");try{await gg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await gg(t,new tf)}}else fe(Or,"Using default OfflineComponentProvider"),await gg(t,new OL(void 0));return t._offlineComponents}async function nC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Or,"Using user provided OnlineComponentProvider"),await Tw(t,t._uninitializedComponentsProvider._online)):(fe(Or,"Using default OnlineComponentProvider"),await Tw(t,new g0))),t._onlineComponents}function UL(t){return nC(t).then((e=>e.syncEngine))}async function y0(t){const e=await nC(t),n=e.eventManager;return n.onListen=wL.bind(null,e.syncEngine),n.onUnlisten=AL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CL.bind(null,e.syncEngine),n}function BL(t,e,n,i){const a=new tC(i),l=new $2(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>q2(await y0(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>G2(await y0(t),l)))}}function zL(t,e,n={}){const i=new Cr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const v=new tC({next:T=>{v.Nu(),u.enqueueAndForget((()=>G2(l,x))),T.fromCache&&m.source==="server"?p.reject(new de(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),x=new $2(d,v,{includeMetadataChanges:!0,Ka:!0});return q2(l,x)})(await y0(t),t.asyncQueue,e,n,i))),i.promise}function FL(t,e){const n=new Cr;return t.asyncQueue.enqueueAndForget((async()=>RL(await UL(t),e,n))),n.promise}function sC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const HL="ComponentProvider",ww=new Map;function qL(t,e,n,i,a){return new cO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,sC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const iC="firestore.googleapis.com",Ew=!0;class Sw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iC,this.ssl=Ew}else this.host=e.host,this.ssl=e.ssl??Ew;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vP)throw new de(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new z6;switch(i.type){case"firstParty":return new G6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=ww.get(n);i&&(fe(HL,"Removing Datastore"),ww.delete(n),i.terminate())})(this),Promise.resolve()}}function GL(t,e,n,i={}){t=Ci(t,If);const a=ll(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(WS(`https://${d}`),JS("Firestore",!0)),l.host!==iC&&l.host!==d&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Aa(m,u)&&(t._setSettings(m),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=ln.MOCK_USER;else{p=uj(i.mockUserToken,t._app?.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new de(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ln(x)}t._authCredentials=new F6(new FA(p,v))}}class Oi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class Lt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(gu(n,Lt._jsonSchema))return new Lt(e,i||null,new be(at.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Pt("string",Lt._jsonSchemaVersion),referencePath:Pt("string")};class Rr extends Oi{constructor(e,n,i){super(e,n,Ny(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new be(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function nf(t,e,...n){if(t=vn(t),HA("collection","path",e),t instanceof If){const i=at.fromString(e,...n);return LT(i),new Rr(t,null,i)}{if(!(t instanceof Lt||t instanceof Rr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(at.fromString(e,...n));return LT(i),new Rr(t.firestore,null,i)}}function v0(t,e,...n){if(t=vn(t),arguments.length===1&&(e=wy.newId()),HA("doc","path",e),t instanceof If){const i=at.fromString(e,...n);return PT(i),new Lt(t,null,new be(i))}{if(!(t instanceof Lt||t instanceof Rr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(at.fromString(e,...n));return PT(i),new Lt(t.firestore,t instanceof Rr?t.converter:null,new be(i))}}const Aw="AsyncQueue";class Cw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new O2(this,"async_queue_retry"),this._c=()=>{const i=pg();i&&fe(Aw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;fe(Aw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Di("INTERNAL UNHANDLED ERROR: ",Rw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Fy.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ee(47125,{Pc:Rw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Rw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class tl extends If{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Cw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cw(e),this._firestoreClient=void 0,await e}}}function $L(t,e){const n=typeof t=="object"?t:nA(),i=typeof t=="string"?t:Kd,a=hy(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=lj("firestore");l&&GL(a,...l)}return a}function Ky(t){if(t._terminated)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KL(t),t._firestoreClient}function KL(t){const e=t._freezeSettings(),n=qL(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new PL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(sn.fromBase64String(e))}catch(n){throw new de(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Pt("string",Wn._jsonSchemaVersion),bytes:Pt("string")};class rC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yy{constructor(e){this._methodName=e}}class Zs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zs._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Zs._jsonSchema))return new Zs(e.latitude,e.longitude)}}Zs._jsonSchemaVersion="firestore/geoPoint/1.0",Zs._jsonSchema={type:Pt("string",Zs._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class xs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xs(e.vectorValues);throw new de(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xs._jsonSchemaVersion="firestore/vectorValue/1.0",xs._jsonSchema={type:Pt("string",xs._jsonSchemaVersion),vectorValues:Pt("object")};const YL=/^__.*__$/;class QL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}function aC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:t})}}class Qy{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Qy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return sf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(aC(this.dataSource)&&YL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class XL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Rf(e)}createContext(e,n,i,a=!1){return new Qy({dataSource:e,methodName:n,targetDoc:i,path:nn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xy(t){const e=t._freezeSettings(),n=Rf(t._databaseId);return new XL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oC(t,e,n,i,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);uC("Data must be an object, but it was:",u,i);const d=lC(i,u);let m,p;if(l.merge)m=new ys(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const T=Df(e,x,n);if(!u.contains(T))throw new de(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);e9(v,T)||v.push(T)}m=new ys(v),p=u.fieldTransforms.filter((x=>m.covers(x.field)))}else m=null,p=u.fieldTransforms;return new QL(new Xn(d),m,p)}class Wy extends Yy{_toFieldTransform(e){return new LO(e.path,new eu)}isEqual(e){return e instanceof Wy}}function WL(t,e,n,i=!1){return Jy(n,t.createContext(i?4:3,e))}function Jy(t,e){if(cC(t=vn(t)))return uC("Unsupported field value:",e,t),lC(t,e);if(t instanceof Yy)return(function(i,a){if(!aC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const d of i){let m=Jy(d,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return VO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ut.fromDate(i);return{timestampValue:Jd(a.serializer,l)}}if(i instanceof ut){const l=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Jd(a.serializer,l)}}if(i instanceof Zs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wn)return{bytesValue:E2(a.serializer,i._byteString)};if(i instanceof Lt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:My(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof xs)return(function(u,d){const m=u instanceof xs?u.toArray():u;return{mapValue:{fields:{[JA]:{stringValue:ZA},[Yd]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return ky(d.serializer,v)}))}}}}}})(i,a);if(I2(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${bf(i)}`)})(t,e)}function lC(t,e){const n={};return $A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(t,((i,a)=>{const l=Jy(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function cC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Zs||t instanceof Wn||t instanceof Lt||t instanceof Yy||t instanceof xs||I2(t))}function uC(t,e,n){if(!cC(n)||!qA(n)){const i=bf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Df(t,e,n){if((e=vn(e))instanceof rC)return e._internalPath;if(typeof e=="string")return ZL(t,e);throw sf("Field path arguments must be of type string or ",t,!1,void 0,n)}const JL=new RegExp("[~\\*/\\[\\]]");function ZL(t,e,n){if(e.search(JL)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rC(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sf(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new de(se.INVALID_ARGUMENT,d+t+m)}function e9(t,e){return t.some((n=>n.isEqual(e)))}class t9{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Da(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Yd].arrayValue?.values?.map((i=>Et(i.doubleValue)));return new xs(n)}convertGeoPoint(e){return new Zs(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Tf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const n=Dr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=at.fromString(e);Xe(k2(i),9688,{name:e});const a=new Wc(i.get(1),i.get(3)),l=new be(i.popFirst(5));return a.isEqual(n)||Di(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Zy extends t9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function n9(){return new Wy("serverTimestamp")}const Nw="@firebase/firestore",kw="4.11.0";function Iw(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class hC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Df("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s9 extends hC{data(){return super.data()}}function dC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class tv extends ev{}function fC(t,e,...n){let i=[];e instanceof ev&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((m=>m instanceof sv)).length,d=l.filter((m=>m instanceof nv)).length;if(u>1||u>0&&d>0)throw new de(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class nv extends tv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new nv(e,n,i)}_apply(e){const n=this._parse(e);return gC(e._query,n),new Oi(e.firestore,e.converter,o0(e._query,n))}_parse(e){const n=Xy(e.firestore);return(function(l,u,d,m,p,v,x){let T;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Mw(x,v);const j=[];for(const P of x)j.push(Dw(m,l,P));T={arrayValue:{values:j}}}else T=Dw(m,l,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Mw(x,v),T=WL(d,u,x,v==="in"||v==="not-in");return Ot.create(p,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class sv extends ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)gC(u,m),u=o0(u,m)})(e._query,n),new Oi(e.firestore,e.converter,o0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iv extends tv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iv(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zc(l,u)})(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,CO(e._query,n))}}function mC(t,e="asc"){const n=e,i=Df("orderBy",t);return iv._create(i,n)}class rv extends tv{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new rv(e,n,i)}_apply(e){return new Oi(e.firestore,e.converter,Xd(e._query,this._limit,this._limitType))}}function pC(t){return J6("limit",t),rv._create("limit",t,"F")}function Dw(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new de(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o2(e)&&n.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(at.fromString(n));if(!be.isDocumentKey(i))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $T(t,new be(i))}if(n instanceof Lt)return $T(t,n._key);throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(n)}.`)}function Mw(t,e){if(!Array.isArray(t)||t.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gC(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function yC(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends hC{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Df("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Pt("string",Ea._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Rd extends Ea{data(e={}){return super.data(e)}}class Sa{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new kc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Rd(this._firestore,this._userDataWriter,i.key,i,new kc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new Rd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new kc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Rd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new kc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:i9(d.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function i9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:Pt("string",Sa._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};function r9(t){t=Ci(t,Oi);const e=Ci(t.firestore,tl),n=Ky(e),i=new Zy(e);return dC(t._query),zL(n,t._query).then((a=>new Sa(e,i,t,a)))}function jw(t,e,n){t=Ci(t,Lt);const i=Ci(t.firestore,tl),a=yC(t.converter,e),l=Xy(i);return xC(i,[oC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ws.none())])}function vC(t,e){const n=Ci(t.firestore,tl),i=v0(t),a=yC(t.converter,e),l=Xy(t.firestore);return xC(n,[oC(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Ws.exists(!1))]).then((()=>i))}function bC(t,...e){t=vn(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Iw(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Iw(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,u,d;if(t instanceof Lt)u=Ci(t.firestore,tl),d=Ny(t._key.path),l={next:p=>{e[i]&&e[i](a9(u,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Ci(t,Oi);u=Ci(p.firestore,tl),d=p._query;const v=new Zy(u);l={next:x=>{e[i]&&e[i](new Sa(u,v,p,x))},error:e[i+1],complete:e[i+2]},dC(t._query)}const m=Ky(u);return BL(m,d,a,l)}function xC(t,e){const n=Ky(t);return FL(n,e)}function a9(t,e,n){const i=n.docs.get(e._key),a=new Zy(t);return new Ea(t,a,e._key,i,new kc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){B6(cl),Yo(new Ca("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),d=new tl(new H6(i.getProvider("auth-internal")),new $6(u,i.getProvider("app-check-internal")),uO(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Sr(Nw,kw,e),Sr(Nw,kw,"esm2020")})();const o9={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},_C=tA(o9),yg=O6(_C),l9=new wi,$o=$L(_C),TC=N.createContext(void 0);function c9({children:t}){const[e,n]=N.useState(null),[i,a]=N.useState(!0);N.useEffect(()=>{const d=EV(yg,m=>{n(m),a(!1)});return()=>d()},[]);const l=async()=>{try{await GV(yg,l9)}catch(d){console.error("Error signing in with Google",d)}},u=async()=>{try{await SV(yg)}catch(d){console.error("Error signing out",d)}};return y.jsx(TC.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:u},children:!i&&t})}function Oa(){const t=N.useContext(TC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const vg={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0},ld="study-tracker-data",wC=N.createContext(void 0);function u9({children:t}){const{user:e}=Oa(),[n,i]=N.useState(()=>{try{const E=localStorage.getItem(ld);if(E){const C=JSON.parse(E);if(C.userProfile)return C.userProfile}}catch(E){console.error("Failed to load user profile:",E)}return vg}),[a,l]=N.useState(()=>{try{const E=localStorage.getItem(ld);if(E){const C=JSON.parse(E);if(C.subjects)return C.subjects.map(M=>({...M,chapters:M.chapters.map(k=>({...k,topics:k.topics||[]}))}))}}catch(E){console.error("Failed to load subjects:",E)}return[]});N.useEffect(()=>{if(e){const E=v0($o,"users",e.uid),C=bC(E,M=>{if(M.exists()){const k=M.data();k.userProfile&&i(k.userProfile),k.subjects&&l(k.subjects)}else{const k={userProfile:vg,subjects:[]};try{const V=localStorage.getItem(ld);if(V){const I=JSON.parse(V);I.userProfile&&(k.userProfile=I.userProfile),I.subjects&&(k.subjects=I.subjects.map(we=>({...we,chapters:we.chapters.map(Ve=>({...Ve,topics:Ve.topics||[]}))})))}}catch(V){console.error("Error reading local storage for migration:",V)}jw(E,k).catch(V=>console.error("Migration failed",V))}},M=>{console.error("Firestore sync error:",M)});return()=>C()}},[e]);const u=async(E,C)=>{if(i(E),l(C),e)try{await jw(v0($o,"users",e.uid),{userProfile:E,subjects:C})}catch(M){console.error("Failed to save to cloud:",M)}else localStorage.setItem(ld,JSON.stringify({userProfile:E,subjects:C}))},d=E=>{u({...n,...E},a)},m=E=>{const C=crypto.randomUUID(),M={...E,id:C,chapters:[]};u(n,[...a,M])},p=(E,C)=>{const M=a.map(k=>k.id===E?{...k,...C}:k);u(n,M)},v=E=>{u(n,a.filter(C=>C.id!==E))},x=(E,C)=>{const M=a.map(k=>k.id===E?{...k,chapters:[...k.chapters,{id:crypto.randomUUID(),name:C,isCompleted:!1,topics:[]}]}:k);u(n,M)},T=(E,C,M)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(I=>I.id===C?{...I,name:M}:I)}:V);u(n,k)},A=(E,C)=>{const M=a.map(k=>k.id===E?{...k,chapters:k.chapters.map(V=>V.id===C?{...V,isCompleted:!V.isCompleted,completedAt:V.isCompleted?null:new Date().toISOString()}:V)}:k);u(n,M)},j=(E,C)=>{const M=a.map(k=>k.id===E?{...k,chapters:k.chapters.filter(V=>V.id!==C)}:k);u(n,M)},P=(E,C,M)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(I=>I.id===C?{...I,topics:[...I.topics,{id:crypto.randomUUID(),name:M,isCompleted:!1,completedAt:null}]}:I)}:V);u(n,k)},L=(E,C,M,k)=>{const V=a.map(I=>I.id===E?{...I,chapters:I.chapters.map(we=>we.id===C?{...we,topics:we.topics.map(Ve=>Ve.id===M?{...Ve,name:k}:Ve)}:we)}:I);u(n,V)},z=(E,C,M)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(I=>{if(I.id===C){const we=I.topics.map(W=>W.id===M?{...W,isCompleted:!W.isCompleted,completedAt:W.isCompleted?null:new Date().toISOString()}:W),Ve=we.length>0&&we.every(W=>W.isCompleted);return{...I,topics:we,isCompleted:Ve,completedAt:Ve?new Date().toISOString():null}}return I})}:V);u(n,k)},H=(E,C,M)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(I=>I.id===C?{...I,topics:I.topics.filter(we=>we.id!==M)}:I)}:V);u(n,k)},K=()=>{const E={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},C=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),M=URL.createObjectURL(C),k=document.createElement("a");k.href=M,k.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(M)},re=E=>{try{const C=JSON.parse(E);return C.userProfile&&Array.isArray(C.subjects)?(u(C.userProfile,C.subjects),!0):(alert("Invalid backup file format."),!1)}catch(C){return console.error("Import error:",C),alert("Failed to parse backup file."),!1}},ae=E=>{const C=E.map(M=>({id:crypto.randomUUID(),name:M.name,color:M.color,icon:M.icon,chapters:M.chapters.map(V=>({id:crypto.randomUUID(),name:V.name,isCompleted:!1,completedAt:null,topics:V.topics.map(we=>({id:crypto.randomUUID(),name:we.name,isCompleted:!1,completedAt:null}))}))}));u(n,[...a,...C])},ue=()=>{confirm("Are you sure you want to reset all data?")&&u(vg,[])},D=async(E,C,M)=>{const k=new Date,V=k.toISOString().split("T")[0],I=(n.totalStudyTime||0)+E;let we=n.currentStreak||0,Ve=n.lastStudyDate,W=n.todayStudyTime||0;if(Ve!==V){const le=new Date;le.setDate(le.getDate()-1);const ye=le.toISOString().split("T")[0];Ve===ye?we+=1:we=1,Ve=V,W=E}else W+=E;const oe=[...n.earnedBadges||[]],he=[],Ae=k.getHours(),Ie=Ae>=22||Ae<4,U=oe.some(le=>le.type==="night_owl");Ie&&!U&&he.push({type:"night_owl",earnedAt:k.toISOString()});const ee=oe.some(le=>le.type==="streak_master");we>=3&&!ee&&he.push({type:"streak_master",earnedAt:k.toISOString()});const te={...n,totalStudyTime:I,todayStudyTime:W,currentStreak:we,lastStudyDate:Ve,earnedBadges:[...oe,...he],dailyGoal:n.dailyGoal||7200};if(d(te),e)try{await vC(nf($o,"study_sessions"),{userId:e.uid,userName:e.displayName||n.name,startTime:new Date(Date.now()-E*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:E,subjectId:C||null,sessionGoal:M||null,createdAt:new Date().toISOString()})}catch(le){console.error("Error saving study session:",le)}};return y.jsx(wC.Provider,{value:{userProfile:n,subjects:a,updateProfile:d,addSubject:m,editSubject:p,deleteSubject:v,addChapter:x,editChapter:T,toggleChapter:A,deleteChapter:j,addTopic:P,editTopic:L,toggleTopic:z,deleteTopic:H,resetData:ue,exportData:K,importData:re,importSyllabusData:ae,saveStudySession:D},children:t})}function rn(){const t=N.useContext(wC);if(t===void 0)throw new Error("useStudy must be used within a StudyProvider");return t}const EC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const h9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const d9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const Vw=t=>{const e=d9(t);return e.charAt(0).toUpperCase()+e.slice(1)};var f9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const m9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const p9=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...d},m)=>N.createElement("svg",{ref:m,...f9,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:EC("lucide",a),...!l&&!m9(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,v])=>N.createElement(p,v)),...Array.isArray(l)?l:[l]]));const xe=(t,e)=>{const n=N.forwardRef(({className:i,...a},l)=>N.createElement(p9,{ref:l,iconNode:e,className:EC(`lucide-${h9(Vw(t))}`,`lucide-${t}`,i),...a}));return n.displayName=Vw(t),n};const g9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],y9=xe("arrow-left",g9);const v9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],av=xe("arrow-right",v9);const b9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],SC=xe("award",b9);const x9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],_9=xe("bell-off",x9);const T9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],w9=xe("bell",T9);const E9=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],b0=xe("book-marked",E9);const S9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yn=xe("book-open",S9);const A9=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],C9=xe("book",A9);const R9=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],N9=xe("bug",R9);const k9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],I9=xe("chart-column",k9);const D9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],M9=xe("chart-pie",D9);const j9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AC=xe("check",j9);const V9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],O9=xe("chevron-down",V9);const P9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],L9=xe("chevron-left",P9);const U9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],B9=xe("chevron-right",U9);const z9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gl=xe("circle-check",z9);const F9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],x0=xe("circle-user",F9);const H9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],q9=xe("circle",H9);const G9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$9=xe("clock",G9);const K9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],CC=xe("download",K9);const Y9=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Q9=xe("flame",Y9);const X9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],W9=xe("globe",X9);const J9=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],RC=xe("graduation-cap",J9);const Z9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ow=xe("layout-dashboard",Z9);const eU=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Pw=xe("list",eU);const tU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NC=xe("log-out",tU);const nU=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],rf=xe("message-circle",nU);const sU=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],iU=xe("monitor",sU);const rU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],af=xe("moon",rU);const aU=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],oU=xe("pause",aU);const lU=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],kC=xe("pen-tool",lU);const cU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uU=xe("pen",cU);const hU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Mf=xe("pencil",hU);const dU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],IC=xe("play",dU);const fU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],su=xe("plus",fU);const mU=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],pU=xe("quote",mU);const gU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yU=xe("refresh-cw",gU);const vU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],DC=xe("rotate-ccw",vU);const bU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],of=xe("save",bU);const xU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_U=xe("search",xU);const TU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wU=xe("send",TU);const EU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bg=xe("settings",EU);const SU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],AU=xe("shield",SU);const CU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Lw=xe("square-pen",CU);const RU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_0=xe("sun",RU);const NU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kU=xe("target",NU);const IU=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Uw=xe("timer",IU);const DU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jf=xe("trash-2",DU);const MU=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],T0=xe("trending-up",MU);const jU=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],iu=xe("trophy",jU);const VU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],OU=xe("upload",VU);const PU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],LU=xe("user",PU);const UU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],MC=xe("volume-2",UU);const BU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],jC=xe("volume-x",BU);const zU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pa=xe("x",zU),FU=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function VC({subject:t,onClose:e}){const{editSubject:n}=rn(),[i,a]=N.useState(t.name),[l,u]=N.useState(t.color);N.useEffect(()=>{a(t.name),u(t.color)},[t]);const d=m=>{m.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l}),e())};return y.jsx(si,{children:y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),y.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:y.jsx(Pa,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(yn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),y.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:FU.map(m=>y.jsx("button",{type:"button",onClick:()=>u(m),className:`w-8 h-8 rounded-full transition-transform ${m} ${l===m?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-110 opacity-70 hover:opacity-100"}`},m))})]}),y.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[y.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:y.jsx(yn,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const HU=Te(Ft);function qU({subject:t,index:e=0}){const[n,i]=N.useState(!1),a=t.chapters.length,l=t.chapters.filter(m=>m.isCompleted).length;let u=0;t.chapters.forEach(m=>{m.topics&&m.topics.length>0?u+=m.topics.filter(p=>p.isCompleted).length/m.topics.length*100:u+=m.isCompleted?100:0});const d=a===0?0:Math.round(u/a);return y.jsxs(y.Fragment,{children:[y.jsxs(HU,{to:`/subject/${t.id}`,whileHover:{y:-5,transition:{duration:.2}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-2xl p-4 md:p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-lg hover:border-blue-100 dark:hover:border-blue-900 transition-all",children:[y.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m=>{m.preventDefault(),m.stopPropagation(),i(!0)},className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors opacity-0 group-hover:opacity-100 z-10",title:"Edit Subject",children:y.jsx(Mf,{className:"w-4 h-4"})}),y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx(Te.div,{whileHover:{rotate:15,scale:1.1},className:`w-12 h-12 rounded-xl ${t.color} flex items-center justify-center text-white shadow-sm`,children:y.jsx(yn,{className:"w-6 h-6"})}),y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 px-2 py-1 rounded-lg text-xs font-semibold text-slate-600 dark:text-slate-300 transition-colors",children:[d,"%"]})]}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:t.name}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(yn,{className:"w-3.5 h-3.5"}),a," ",a===1?"Chapter":"Chapters"]}),l>0&&y.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400",children:[y.jsx(gl,{className:"w-3.5 h-3.5"}),l," Done"]})]}),y.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:y.jsx(Te.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color}`})}),y.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:["View Details ",y.jsx(av,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]}),n&&y.jsx(VC,{subject:t,onClose:()=>i(!1)})]})}function Uo({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return y.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[y.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),y.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),y.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:y.jsx(n,{className:`w-6 h-6 ${i}`})})]})}const Bw=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function GU({onClose:t}){const{addSubject:e}=rn(),[n,i]=N.useState(""),[a,l]=N.useState(Bw[0]),u=d=>{d.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[y.jsx(C9,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),y.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:y.jsx(Pa,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),y.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>i(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:Bw.map(d=>y.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),y.jsx("div",{className:"pt-2",children:y.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[y.jsx(of,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const $U={start_strong:{icon:gl,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:Q9,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:SC,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:af,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function KU({type:t,isLocked:e=!1,dateEarned:n}){const i=$U[t],a=i.icon,[l,u]=N.useState(!1);return y.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>u(!l),children:[y.jsx(Te.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:y.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),y.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&y.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[y.jsx("p",{className:"font-semibold",children:i.label}),y.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&y.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function YU(){const{updateProfile:t}=rn(),[e,n]=N.useState(""),[i,a]=N.useState(""),l=u=>{if(u.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:y.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[y.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[y.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),y.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),y.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[y.jsx(x0,{className:"w-4 h-4"}),"Your Name ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"text",value:e,onChange:u=>n(u.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[y.jsx(RC,{className:"w-4 h-4"}),"Class / Grade"]}),y.jsx("input",{type:"text",value:i,onChange:u=>a(u.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),y.jsx("div",{className:"pt-2",children:y.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function QU(){const{userProfile:t,updateProfile:e}=rn(),[n,i]=N.useState(!1),[a,l]=N.useState(t.dailyGoal?t.dailyGoal/3600:2),u=t.dailyGoal||7200,d=t.todayStudyTime||0,m=Math.min(100,Math.round(d/u*100)),p=()=>{e({dailyGoal:a*3600}),i(!1)};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[y.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[y.jsx(kU,{className:"w-4 h-4"}),"Daily Goal"]}),n?y.jsxs("button",{onClick:p,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",y.jsx(AC,{className:"w-3 h-3"})]}):y.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",y.jsx(uU,{className:"w-3 h-3"})]})]}),y.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[y.jsxs("div",{className:"space-y-1",children:[n?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:v=>l(parseFloat(v.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),y.jsx("span",{className:"text-slate-500",children:"hrs"})]}):y.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(d/3600),y.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(d%3600/60),y.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),y.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(u/3600),"h goal"]})]}),y.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[y.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[y.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),y.jsx(Te.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*m/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${m>=100?"text-green-500":"text-blue-500"}`})]}),y.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[m,"%"]})]})]}),m>=100&&y.jsxs(Te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[y.jsx(iu,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),y.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function XU(){const{subjects:t}=rn();let e=null,n=null,i=null;for(const a of t)if(a.chapters.some(u=>!u.isCompleted&&(!u.topics.length||u.topics.some(d=>!d.isCompleted)))){e=a;for(const u of a.chapters)if(!u.isCompleted)if(u.topics.length>0){const d=u.topics.find(m=>!m.isCompleted);if(d){n=u,i=d;break}}else{n=u;break}break}return!e||!n?y.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex flex-col items-center justify-center text-center h-full min-h-[160px]",children:[y.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-3 text-2xl",children:""}),y.jsx("h3",{className:"font-bold text-xl mb-1",children:"All Caught Up!"}),y.jsx("p",{className:"text-emerald-100 text-sm",children:"You've completed everything in your syllabus."}),y.jsx("div",{className:"mt-4 px-4 py-2 bg-white/20 rounded-lg text-sm font-medium backdrop-blur-sm",children:"Time to review or rest!"})]}):y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden h-full flex flex-col justify-between group",children:[y.jsxs("div",{className:"relative z-10",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[y.jsx(IC,{className:"w-4 h-4 text-blue-500 fill-current"}),"Continue Learning"]}),y.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full text-white ${e.color}`,children:e.name})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white line-clamp-1 mb-1",children:i?i.name:n.name}),y.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[y.jsx(yn,{className:"w-3.5 h-3.5"}),n.name]})]})]}),y.jsx("div",{className:"relative z-10",children:y.jsxs(Ft,{to:`/subject/${e.id}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-xl font-medium transition-all group-hover:translate-x-1",children:["Resume Study ",y.jsx(av,{className:"w-4 h-4"})]})}),y.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 ${e.color.replace("text-","bg-")}`})]})}const cd=[{text:"The expert in anything was once a beginner.",author:"Helen Hayes"},{text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{text:"There is no substitute for hard work.",author:"Thomas Edison"},{text:"The future depends on what you do today.",author:"Mahatma Gandhi"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Quality is not an act, it is a habit.",author:"Aristotle"},{text:"Your limitationit's only your imagination.",author:"Unknown"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dream it. Wish it. Do it.",author:"Unknown"},{text:"Success doesn't just find you. You have to go out and get it.",author:"Unknown"},{text:"The harder you work for something, the greater you'll feel when you achieve it.",author:"Unknown"},{text:"Dream bigger. Do bigger.",author:"Unknown"},{text:"Don't stop when you're tired. Stop when you're done.",author:"Unknown"},{text:"Wake up with determination. Go to bed with satisfaction.",author:"Unknown"},{text:"Do something today that your future self will thank you for.",author:"Unknown"},{text:"Little things make big days.",author:"Unknown"},{text:"It's going to be hard, but hard does not mean impossible.",author:"Unknown"}];function WU(){const[t,e]=N.useState(0);N.useEffect(()=>{e(Math.floor(Math.random()*cd.length))},[]);const n=()=>{e(i=>(i+1)%cd.length)};return y.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:y.jsx(pU,{className:"w-5 h-5 text-white"})}),y.jsx("button",{onClick:n,className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Next Quote",children:y.jsx(yU,{className:"w-4 h-4"})})]}),y.jsx(si,{mode:"wait",children:y.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[y.jsxs("p",{className:"text-lg md:text-xl font-medium mb-3 leading-relaxed",children:['"',cd[t].text,'"']}),y.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",cd[t].author]})]},t)}),y.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),y.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}const zw={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},xg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function JU(){const{userProfile:t,subjects:e}=rn(),[n,i]=N.useState(!1),a=t.name==="Student",l=e.reduce((p,v)=>p+v.chapters.length,0),u=e.reduce((p,v)=>p+v.chapters.filter(x=>x.isCompleted).length,0);let d=0;e.forEach(p=>{p.chapters.forEach(v=>{v.topics&&v.topics.length>0?d+=v.topics.filter(x=>x.isCompleted).length/v.topics.length*100:d+=v.isCompleted?100:0})});const m=l===0?0:Math.round(d/l);return y.jsxs(Te.div,{className:"space-y-6 md:space-y-8",variants:zw,initial:"hidden",animate:"show",exit:"exit",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:["Welcome, ",y.jsx("span",{className:"bg-gradient-to-r from-blue-700 to-teal-600 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name})]}),y.jsxs("p",{className:"text-sm md:text-base text-slate-500 dark:text-slate-400 mt-1 transition-colors",children:[y.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:t.grade}),"  Let's make progress!"]})]}),y.jsxs(Te.button,{id:"add-subject-btn",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 md:px-5 md:py-3 rounded-xl font-medium flex items-center justify-center gap-2 shadow-sm transition-colors text-sm md:text-base w-full md:w-auto",children:[y.jsx(su,{className:"w-4 h-4 md:w-5 md:h-5"}),"Add Subject"]})]}),y.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory -mx-4 px-4 pb-4 gap-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:mx-0 md:px-0 md:pb-0 md:overflow-visible no-scrollbar",children:[y.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto lg:col-span-1 h-full",children:y.jsx(XU,{})}),y.jsxs("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4 lg:gap-6 h-full",children:[y.jsx(QU,{}),y.jsx(WU,{})]}),y.jsxs("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-2 gap-4 lg:grid-cols-1 lg:gap-6 h-full",children:[y.jsx(Te.div,{className:"col-span-2 lg:col-span-1 bg-gradient-to-br from-blue-600 to-indigo-700 dark:from-blue-700 dark:to-indigo-800 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-blue-500/20 flex flex-col justify-center min-h-[140px]",children:y.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-blue-100 font-medium mb-1 text-sm flex items-center gap-2",children:[y.jsx(M9,{className:"w-4 h-4"})," Syllabus Completion"]}),y.jsxs("div",{className:"text-4xl font-bold mb-1",children:[m,"%"]}),y.jsxs("p",{className:"text-blue-100/80 text-xs",children:[u," / ",l," Chapters Done"]})]}),y.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-white/20 flex items-center justify-center",children:y.jsxs("span",{className:"font-bold text-lg",children:[m,"%"]})})]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx(Uo,{title:"Done",value:u,icon:iu,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.1}),y.jsx(Uo,{title:"Pending",value:l-u,icon:b0,colorClass:"text-violet-500",bgClass:"bg-violet-50 dark:bg-violet-900/20",delay:.2})]})]})]}),t.earnedBadges&&t.earnedBadges.length>0&&y.jsxs(Te.div,{variants:xg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[y.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx(iu,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),y.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,v)=>y.jsx(KU,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${v}`))})]}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",y.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?y.jsxs(Te.div,{variants:zw,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((p,v)=>y.jsx(Te.div,{variants:xg,children:y.jsx(qU,{subject:p,index:v})},p.id)),y.jsxs(Te.button,{variants:xg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:y.jsx(su,{className:"w-6 h-6"})}),y.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):y.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(b0,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),y.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),y.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&y.jsx(GU,{onClose:()=>i(!1)}),a&&y.jsx(YU,{})]})}function ZU({subjectId:t,onClose:e}){const{addChapter:n}=rn(),[i,a]=N.useState(""),l=u=>{u.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[y.jsx(b0,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),y.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:y.jsx(Pa,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),y.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),y.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:u=>a(u.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),y.jsxs("div",{className:"flex gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),y.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[y.jsx(su,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const e8={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function _u({children:t,className:e=""}){return y.jsx(Te.div,{variants:e8,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const OC=N.createContext(void 0);function t8({children:t}){const[e,n]=N.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=N.useRef(null);N.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=p=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const v=i.current,x=v.createOscillator(),T=v.createGain();x.connect(T),T.connect(v.destination);const A=v.currentTime;switch(p){case"pop":x.type="sine",x.frequency.setValueAtTime(800,A),x.frequency.exponentialRampToValueAtTime(1200,A+.1),T.gain.setValueAtTime(.1,A),T.gain.exponentialRampToValueAtTime(.01,A+.1),x.start(A),x.stop(A+.1);break;case"success":u(v,523.25,A,.1,"sine"),u(v,659.25,A+.1,.1,"sine"),u(v,783.99,A+.2,.2,"sine");break;case"complete":x.type="triangle",x.frequency.setValueAtTime(440,A),x.frequency.linearRampToValueAtTime(880,A+.5),T.gain.setValueAtTime(.1,A),T.gain.linearRampToValueAtTime(.3,A+.2),T.gain.linearRampToValueAtTime(0,A+1.5),x.start(A),x.stop(A+1.5);break;case"click":x.type="square",x.frequency.setValueAtTime(200,A),T.gain.setValueAtTime(.05,A),T.gain.exponentialRampToValueAtTime(.01,A+.05),x.start(A),x.stop(A+.05);break;case"error":x.type="sawtooth",x.frequency.setValueAtTime(150,A),x.frequency.linearRampToValueAtTime(100,A+.2),T.gain.setValueAtTime(.1,A),T.gain.linearRampToValueAtTime(0,A+.3),x.start(A),x.stop(A+.3);break}},u=(p,v,x,T,A="sine")=>{const j=p.createOscillator(),P=p.createGain();j.connect(P),P.connect(p.destination),j.type=A,j.frequency.setValueAtTime(v,x),P.gain.setValueAtTime(.1,x),P.gain.exponentialRampToValueAtTime(.01,x+T),j.start(x),j.stop(x+T)},d=p=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(p)},m=()=>{n(p=>!p),e&&a()};return y.jsx(OC.Provider,{value:{isMuted:e,toggleMute:m,playSound:d},children:t})}function ov(){const t=N.useContext(OC);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function n8({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=rn(),[u,d]=N.useState(i);N.useEffect(()=>{d(i)},[i]);const m=p=>{p.preventDefault(),u.trim()&&(l(t,e,n,u.trim()),a())};return y.jsx(si,{children:y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),y.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:y.jsx(Pa,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(kC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),y.jsx("input",{type:"text",value:u,onChange:p=>d(p.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:!u.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function s8({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=rn(),{playSound:l}=ov(),[u,d]=N.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsxs(Te.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[y.jsx(Te.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:y.jsx(gl,{className:"w-3 h-3"})}),y.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),y.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>d(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:y.jsx(Mf,{className:"w-3.5 h-3.5"})}),y.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:y.jsx(jf,{className:"w-3.5 h-3.5"})})]})]}),u&&y.jsx(n8,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>d(!1)})]})}function i8({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=rn(),[l,u]=N.useState(n);N.useEffect(()=>{u(n)},[n]);const d=m=>{m.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return y.jsx(si,{children:y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),y.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:y.jsx(Pa,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(kC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),y.jsx("input",{type:"text",value:l,onChange:m=>u(m.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function PC({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=rn(),[u,d]=N.useState(!1),[m,p]=N.useState(!1),v=x=>{x.preventDefault();const T=x.target.elements.namedItem("topicName");T.value.trim()&&(l(t,e.id,T.value.trim()),T.value="",d(!1))};return y.jsxs("div",{className:"group transition-colors",children:[y.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[y.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:y.jsx(Te.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:y.jsx(O9,{className:"w-5 h-5"})})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),y.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[y.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(x=>x.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&y.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[y.jsx(gl,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&y.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:y.jsx(Te.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(x=>x.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),y.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[y.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),d(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:y.jsx(su,{className:"w-4 h-4"})}),y.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),p(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:y.jsx(Mf,{className:"w-4 h-4"})}),y.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:y.jsx(jf,{className:"w-4 h-4"})})]})]}),y.jsx(si,{children:n&&y.jsx(Te.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:y.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(x=>y.jsx(s8,{subjectId:t,chapterId:e.id,topic:x},x.id)):y.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),u&&y.jsxs(Te.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:v,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[y.jsx(q9,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),y.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>d(!1),200)}),y.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),m&&y.jsx(i8,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>p(!1)})]})}function r8(){const{id:t}=hk(),e=cf(),{subjects:n,deleteSubject:i}=rn(),[a,l]=N.useState(!1),[u,d]=N.useState(!1),[m,p]=N.useState({}),v=n.find(z=>z.id===t);if(!v)return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:y.jsx(yn,{className:"w-8 h-8 text-slate-300"})}),y.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),y.jsx(Ft,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const x=()=>{confirm(`Are you sure you want to delete ${v.name}? ALL progress will be lost.`)&&(i(v.id),e("/"))},T=z=>{p(H=>({...H,[z]:!H[z]}))},A=v.chapters.length,j=v.chapters.filter(z=>z.isCompleted).length;let P=0;v.chapters.forEach(z=>{z.topics&&z.topics.length>0?P+=z.topics.filter(H=>H.isCompleted).length/z.topics.length*100:P+=z.isCompleted?100:0});const L=A===0?0:Math.round(P/A);return y.jsxs(_u,{className:"max-w-3xl mx-auto pb-12",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs(Ft,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[y.jsx(y9,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),y.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${v.color}`,children:[y.jsx(yn,{className:"w-3 h-3"}),v.name]}),y.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:v.name}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[j," of ",A," chapters completed"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>d(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:y.jsx(Mf,{className:"w-5 h-5"})}),y.jsx("button",{onClick:x,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:y.jsx(jf,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"flex justify-between items-end mb-2",children:[y.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[L,"%"]}),y.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),y.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:y.jsx(Te.div,{initial:{width:0},animate:{width:`${L}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[y.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),y.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[y.jsx(su,{className:"w-4 h-4"}),"Add Chapter"]})]}),y.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:v.chapters.length>0?v.chapters.map(z=>y.jsx(PC,{subjectId:v.id,chapter:z,isExpanded:!!m[z.id],onToggle:()=>T(z.id)},z.id)):y.jsxs("div",{className:"p-12 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:y.jsx(yn,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),y.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&y.jsx(ZU,{subjectId:v.id,onClose:()=>l(!1)}),u&&y.jsx(VC,{subject:v,onClose:()=>d(!1)})]})}const LC=N.createContext(void 0);function a8({children:t}){const[e,n]=N.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");N.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return y.jsx(LC.Provider,{value:{theme:e,toggleTheme:i},children:t})}function UC(){const t=N.useContext(LC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const _g=[{id:"hsc-science-2026",name:"HSC Science (2026)",subjects:[{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:"    "},{name:""},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"-"},{name:"   "},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:""}]},{name:"",topics:[]},{name:"",topics:[]}]},{name:"Physics 1st Paper",icon:"Zap",color:"text-violet-500",chapters:[{name:"Physical World and Measurement",topics:[{name:"Units"},{name:"Dimensions"}]},{name:"Vectors",topics:[{name:"Scalar & Vector"},{name:"Vector Addition"},{name:"Dot & Cross Product"}]},{name:"Dynamics",topics:[{name:"Newtons Laws"},{name:"Friction"},{name:"Banking of Roads"}]},{name:"Newtonian Mechanics",topics:[]},{name:"Work, Energy and Power",topics:[]},{name:"Gravitation and Gravity",topics:[]},{name:"Structural Properties of Matter",topics:[]},{name:"Periodic Motion",topics:[]},{name:"Ideal Gas and Kinetics of Gas",topics:[]}]},{name:"Physics 2nd Paper",icon:"Zap",color:"text-violet-500",chapters:[{name:"Thermodynamics",topics:[]},{name:"Static Electricity",topics:[]},{name:"Current Electricity",topics:[]},{name:"Magnetic Effects of Current",topics:[]},{name:"Electromagnetic Induction",topics:[]},{name:"Geometrical Optics",topics:[]},{name:"Physical Optics",topics:[]},{name:"Modern Physics",topics:[]},{name:"Atomic Model",topics:[]},{name:"Semiconductors",topics:[]}]},{name:"Chemistry 1st Paper",icon:"Beaker",color:"text-teal-500",chapters:[{name:"Qualitative Chemistry",topics:[]},{name:"Periodic Properties",topics:[]},{name:"Chemical Bonding",topics:[]},{name:"Chemical Changes",topics:[]},{name:"Work Oriented Chemistry",topics:[]}]},{name:"Chemistry 2nd Paper",icon:"Beaker",color:"text-teal-500",chapters:[{name:"Environmental Chemistry",topics:[]},{name:"Organic Chemistry",topics:[]},{name:"Quantitative Chemistry",topics:[]},{name:"Electrochemistry",topics:[]},{name:"Economic Chemistry",topics:[]}]},{name:"Higher Math 1st Paper",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Matrices and Determinants",topics:[]},{name:"Vectors",topics:[]},{name:"Straight Lines",topics:[]},{name:"Circle",topics:[]},{name:"Permutation and Combination",topics:[]},{name:"Trigonometry",topics:[]},{name:"Functions",topics:[]},{name:"Differentiation",topics:[]},{name:"Integration",topics:[]}]},{name:"Higher Math 2nd Paper",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Real Numbers",topics:[]},{name:"Linear Programming",topics:[]},{name:"Complex Numbers",topics:[]},{name:"Polynomials",topics:[]},{name:"Binomial Expansion",topics:[]},{name:"Conics",topics:[]},{name:"Inverse Trigonometry",topics:[]},{name:"Statics",topics:[]},{name:"Dynamics",topics:[]},{name:"Probability",topics:[]}]},{name:"Biology 1st Paper",icon:"Dna",color:"text-green-500",chapters:[{name:"Cell and its Structure",topics:[]},{name:"Cell Division",topics:[]},{name:"Cell Chemistry",topics:[]},{name:"Bioenergetics",topics:[]},{name:"Algae and Fungi",topics:[]},{name:"Bryophyta and Pteridophyta",topics:[]},{name:"Naked Seed and Covered Seed Plants",topics:[]},{name:"Tissue and Tissue System",topics:[]},{name:"Plant Physiology",topics:[]},{name:"Plant Reproduction",topics:[]},{name:"Biotechnology",topics:[]}]},{name:"Biology 2nd Paper",icon:"Dna",color:"text-green-500",chapters:[{name:"Animal Diversity and Classification",topics:[]},{name:"Introduction to Animal",topics:[]},{name:"Digestion and Absorption",topics:[]},{name:"Blood and Circulation",topics:[]},{name:"Breathing and Respiration",topics:[]},{name:"Excretion and Osmoregulation",topics:[]},{name:"Locomotion and Movement",topics:[]},{name:"Coordination and Control",topics:[]},{name:"Human Reproduction",topics:[]},{name:"Human Immunity",topics:[]},{name:"Genetics and Evolution",topics:[]},{name:"Animal Behavior",topics:[]}]},{name:"ICT",icon:"Cpu",color:"text-indigo-500",chapters:[{name:"Information and Communication Technology: World and Bangladesh",topics:[]},{name:"Communication Systems and Networking",topics:[]},{name:"Number Systems and Digital Devices",topics:[]},{name:"Web Design and HTML",topics:[]},{name:"Programming Language (C)",topics:[]},{name:"Database Management System",topics:[]}]},{name:"Bangla 2nd Paper",icon:"Book",color:"text-emerald-500",chapters:[{name:"Grammar",topics:[{name:"Pronunciation Rules"},{name:"Spelling Rules"},{name:"Word Formation"},{name:"Sentence"},{name:"Bangla Opoproyog"}]},{name:"Composition",topics:[{name:"Translation"},{name:"Protocol & Report"},{name:"Letter Writing"},{name:"Summary & Essence"},{name:"Dialogue & Short Story"},{name:"Essay"}]}]}]},{id:"ssc-science-2026",name:"SSC Science (2026)",subjects:[{name:"Bangla 1st Paper",icon:"Book",color:"text-emerald-500",chapters:[{name:"Guddo (Prose)",topics:[{name:"Shuva"},{name:"Boi Pora"},{name:"Abhagir Sorgo"},{name:"Am Aatir Bhepu"},{name:"Manush Muhammad (SM)"},{name:"Nim Gach"},{name:"Upekhito Shoktir Udhodon"},{name:"Shikhka O Manushotto"},{name:"Prabas Bondhu"},{name:"Momotadi"},{name:"Pohela Boishakh"},{name:"Ekattorer Dinguli"},{name:"Sahittyer Rup O Riti"}]},{name:"Poddo (Poetry)",topics:[{name:"Bongobani"},{name:"Kopotakkho Nod"},{name:"Jibon Sangeet"},{name:"Juta Abishkar"},{name:"Jharnaar Gaan"},{name:"Manush"},{name:"Sei Din Ei Math"},{name:"Polli Jononi"},{name:"Asha"},{name:"Amim Kono Agontuk Noi"},{name:"Ranar"},{name:"Tomake Pabar Jonno He Swadhinota"},{name:"Amar Porichoy"},{name:"Swadhinata Ei Sobdoti Kibhabe Amader Holo"}]},{name:"Sahopath (Novel & Drama)",topics:[{name:"Kak-tarua (Novel)"},{name:"Bohipir (Drama)"}]}]},{name:"Bangla 2nd Paper",icon:"Book",color:"text-emerald-500",chapters:[{name:"Grammar",topics:[{name:"Phonetics & Letters (Ch 5-8)"},{name:"Word Formation (Ch 9-12)"},{name:"Parts of Speech (Ch 17-25)"},{name:"Sentence (Ch 31-34)"},{name:"Semantics (Ch 39-43)"}]},{name:"Composition",topics:[{name:"Paragraph"},{name:"Summary & Essence"},{name:"Elaboration"},{name:"Letter Writing"},{name:"News Report"},{name:"Essay"}]}]},{name:"Bangladesh & Global Studies",icon:"Globe",color:"text-rose-500",chapters:[{name:"History",topics:[{name:"History of Bengal"},{name:"Independent Bangladesh"}]},{name:"Geography",topics:[{name:"Solar System & Earth"},{name:"Physiography of Bangladesh"},{name:"Rivers & Climate"}]},{name:"Civics",topics:[{name:"State & Government"},{name:"Constitution"},{name:"Democracy"}]},{name:"Economics",topics:[{name:"Economic Indicators"},{name:"Resources"}]},{name:"Sociology",topics:[{name:"Family & Socialization"},{name:"Social Problems"}]}]},{name:"Islam & Moral Education",icon:"Moon",color:"text-teal-600",chapters:[{name:"Aqaid & Moral Life",topics:[{name:"Islam"},{name:"Iman"},{name:"Tawhid"},{name:"Kufr"},{name:"Shirk"},{name:"Akhirat"}]},{name:"Shariahs Sources",topics:[{name:"Al-Quran"},{name:"Hadith"},{name:"IJma"},{name:"Qiyas"}]},{name:"Ibadat",topics:[{name:"Salat"},{name:"Sawm"},{name:"Hajj"},{name:"Zakat"}]},{name:"Akhlaq",topics:[{name:"Akhlaq-e-Hamidah"},{name:"Akhlaq-e-Sayyiah"}]},{name:"Ideal Lives",topics:[{name:"Prophet Muhammad (SM)"},{name:"Khulafa-e-Rashideen"},{name:"Muslim Scholars"}]}]},{name:"Physics",icon:"Zap",color:"text-violet-500",chapters:[{name:"Physical Quantities and Their Measurement",topics:[]},{name:"Motion",topics:[]},{name:"Force",topics:[]},{name:"Work, Power and Energy",topics:[]},{name:"State of Matter and Pressure",topics:[]},{name:"Effect of Heat on Matter",topics:[]},{name:"Waves and Sound",topics:[]},{name:"Reflection of Light",topics:[]},{name:"Refraction of Light",topics:[]},{name:"Static Electricity",topics:[]},{name:"Current Electricity",topics:[]},{name:"Magnetic Effect of Current",topics:[]},{name:"Modern Physics and Electronics",topics:[]},{name:"Previously Saved Lives",topics:[]}]},{name:"Chemistry",icon:"Beaker",color:"text-teal-500",chapters:[{name:"Concept of Chemistry",topics:[]},{name:"State of Matter",topics:[]},{name:"Structure of Matter",topics:[]},{name:"Periodic Table",topics:[]},{name:"Chemical Bond",topics:[]},{name:"Mole and Chemical Equation",topics:[]},{name:"Chemical Reaction",topics:[]},{name:"Chemistry and Energy",topics:[]},{name:"Acid-Base Balance",topics:[]},{name:"Mineral Resources: Metal-Nonmetal",topics:[]},{name:"Mineral Resources: Fossils",topics:[]},{name:"Chemistry in Our Lives",topics:[]}]},{name:"Higher Math",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Set And Function",topics:[]},{name:"Algebraic Expression",topics:[]},{name:"Geometry",topics:[]},{name:"Geometric Construction",topics:[]},{name:"Equation",topics:[]},{name:"Inequality",topics:[]},{name:"Infinite Series",topics:[]},{name:"Trigonometry",topics:[]},{name:"Exponent and Logarithm",topics:[]},{name:"Binomial Expansion",topics:[]},{name:"Coordinate Geometry",topics:[]},{name:"Planar Vector",topics:[]},{name:"Solid Geometry",topics:[]},{name:"Probability",topics:[]}]},{name:"General Math",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Real Number",topics:[]},{name:"Set and Function",topics:[]},{name:"Algebraic Expression",topics:[]},{name:"Exponents and Logarithms",topics:[]},{name:"Equation in One Variable",topics:[]},{name:"Lines, Angles, and Triangles",topics:[]},{name:"Practical Geometry",topics:[]},{name:"Circle",topics:[]},{name:"Trigonometric Ratio",topics:[]},{name:"Distance and Elevation",topics:[]},{name:"Algebraic Ratio and Proportion",topics:[]},{name:"Simple Simultaneous Equations in Two Variables",topics:[]},{name:"Finite Series",topics:[]},{name:"Ratio, Symmetry, and Rotation",topics:[]},{name:"Area Related Theorems and Constructions",topics:[]},{name:"Mensurement",topics:[]},{name:"Statistics",topics:[]}]},{name:"Biology",icon:"Dna",color:"text-green-500",chapters:[{name:"Lessons on Life",topics:[]},{name:"Cells and Tissues of Organisms",topics:[]},{name:"Cell Division",topics:[]},{name:"Bioenergetics",topics:[]},{name:"Food, Nutrition and Digestion",topics:[]},{name:"Transport in Organisms",topics:[]},{name:"Gas Exchange",topics:[]},{name:"Excretion",topics:[]},{name:"Firmness and Locomotion",topics:[]},{name:"Coordination",topics:[]},{name:"Reproduction in Organisms",topics:[]},{name:"Heredity in Organisms and Evolution",topics:[]},{name:"Environment of Organisms",topics:[]},{name:"Biotechnology",topics:[]}]}]},{id:"hsc-science-2026-bn",name:"HSC Science (Bangla Medium)",subjects:[{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:" "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "}]}]},{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Zap",color:"text-violet-500",chapters:[{name:"   ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:",   ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"    ",topics:[]}]},{name:"  ",icon:"Zap",color:"text-violet-500",chapters:[{name:"",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]}]},{name:"  ",icon:"Beaker",color:"text-teal-500",chapters:[{name:"  ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]},{name:"  ",icon:"Beaker",color:"text-teal-500",chapters:[{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]},{name:"   ",icon:"Calculator",color:"text-blue-500",chapters:[{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]}]},{name:"   ",icon:"Calculator",color:"text-blue-500",chapters:[{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"   ",topics:[]}]},{name:"  ",icon:"Dna",color:"text-green-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]}]},{name:"  ",icon:"Dna",color:"text-green-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]}]},{name:"   ",icon:"Cpu",color:"text-indigo-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]}]},{id:"ssc-science-2026-bn",name:"SSC Science (Bangla Medium)",subjects:[{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:" "},{name:" "},{name:"  "},{name:"  (.)"},{name:""},{name:"  "},{name:"  "},{name:" "},{name:""},{name:" "},{name:" "},{name:"   "}]},{name:"",topics:[{name:""},{name:" "},{name:"-"},{name:"-"},{name:" "},{name:""},{name:"  "},{name:""},{name:""},{name:"   "},{name:""},{name:"  ,  "},{name:" "},{name:",     "}]},{name:"",topics:[{name:" ()"},{name:" ()"}]}]},{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:"  "},{name:"   "},{name:"   "},{name:""},{name:" "},{name:"  "},{name:""},{name:""},{name:""},{name:"  "}]},{name:"",topics:[{name:""},{name:" / "},{name:""},{name:""},{name:""},{name:""}]}]},{name:"",icon:"Zap",color:"text-violet-500",chapters:[{name:"   ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:",   ",topics:[]},{name:"   ",topics:[]},{name:"   ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]}]},{name:"",icon:"Beaker",color:"text-teal-500",chapters:[{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"- ",topics:[]},{name:" : -",topics:[]},{name:" : ",topics:[]},{name:"  ",topics:[]}]},{name:" ",icon:"Calculator",color:"text-blue-500",chapters:[{name:"  ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]}]},{name:" ",icon:"Calculator",color:"text-blue-500",chapters:[{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:",   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"   ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:",   ",topics:[]},{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]}]},{name:"",icon:"Dna",color:"text-green-500",chapters:[{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:",   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"   ",topics:[]},{name:"",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]}]},{name:"  ",icon:"Globe",color:"text-rose-500",chapters:[{name:"     ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"   ",topics:[]},{name:" -   ",topics:[]},{name:",   ",topics:[]},{name:"  ",topics:[]},{name:"   ",topics:[]},{name:"  ",topics:[]},{name:"   (SDG)",topics:[]},{name:"    ",topics:[]},{name:"  ",topics:[]},{name:"     ",topics:[]},{name:"    ",topics:[]},{name:"  ",topics:[]},{name:"     ",topics:[]}]},{name:"   ",icon:"Moon",color:"text-teal-600",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:" ",topics:[]}]}]}];function o8({onClose:t}){const[e,n]=N.useState(_g[0].id),[i,a]=N.useState(new Set),l=_g.find(m=>m.id===e),u=m=>{const p=new Set(i);p.has(m)?p.delete(m):p.add(m),a(p)},d=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(p=>p.name));a(m)}};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx(yn,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),y.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:y.jsx(Pa,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[y.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[y.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),y.jsx("div",{className:"space-y-2",children:_g.map(m=>y.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),y.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),y.jsx("button",{onClick:d,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),y.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>y.jsxs("div",{onClick:()=>u(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[y.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(m.name)&&y.jsx(AC,{className:"w-3.5 h-3.5 text-white"})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`font-semibold ${i.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),y.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),y.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},m.name))})]})]}),y.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[y.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),y.jsx(l8,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function l8({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=rn(),l=()=>{if(t===0||!e)return;const u=e.subjects.filter(d=>n.has(d.name));a(u),i()};return y.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[y.jsx(CC,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function c8(){const{user:t,logout:e}=Oa(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:u}=rn(),{isMuted:d,toggleMute:m}=ov(),{theme:p,toggleTheme:v}=UC(),x=N.useRef(null),T=N.useRef(null),[A,j]=N.useState(!1),[P,L]=N.useState(!1),[z,H]=N.useState("Notification"in window&&Notification.permission==="granted"),K=()=>{const D=x.current?.value.trim()||"",E=T.current?.value.trim()||"";if(!D){alert("Please enter your name");return}i({name:D,grade:E}),L(!1),alert(` Profile updated successfully!

You can update your profile anytime.`)},re=()=>{const D=document.createElement("input");D.type="file",D.accept=".json",D.onchange=E=>{const C=E.target.files?.[0];if(C){const M=new FileReader;M.onload=k=>{const V=k.target?.result;u(V)&&alert("Data imported successfully!")},M.readAsText(C)}},D.click()},ae=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},ue=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")H(!z);else if(Notification.permission!=="denied"){const D=await Notification.requestPermission();H(D==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return y.jsxs(_u,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(x0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),y.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),y.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[y.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:y.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx(x0,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),y.jsx("input",{ref:x,type:"text",defaultValue:n?.name||"",disabled:!P,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${P?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),y.jsx("input",{ref:T,type:"text",defaultValue:n?.grade||"",disabled:!P,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${P?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),y.jsx("div",{className:"pt-2 flex gap-3",children:P?y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>L(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),y.jsxs("button",{onClick:K,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[y.jsx(of,{className:"w-4 h-4"}),"Save Changes"]})]}):y.jsxs("button",{onClick:()=>L(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[y.jsx(Lw,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),y.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[y.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:y.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx(iU,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),y.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[y.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-2 rounded-lg ${p==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:p==="dark"?y.jsx(af,{className:"w-5 h-5"}):y.jsx(_0,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),y.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p==="dark"?"bg-blue-600":"bg-slate-200"}`,children:y.jsx("span",{className:`${p==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),y.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-2 rounded-lg ${d?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:d?y.jsx(jC,{className:"w-5 h-5"}):y.jsx(MC,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),y.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${d?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:y.jsx("span",{className:`${d?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),y.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-2 rounded-lg ${z?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:z?y.jsx(w9,{className:"w-5 h-5"}):y.jsx(_9,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),y.jsx("button",{onClick:ue,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${z?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:y.jsx("span",{className:`${z?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),y.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:y.jsx(W9,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),y.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[y.jsx("option",{children:"English"}),y.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),y.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[y.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:y.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx(of,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),y.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[y.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>j(!0),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:y.jsx(yn,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),y.jsx("button",{className:"text-slate-400",children:y.jsx(Lw,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[y.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[y.jsx(CC,{className:"w-4 h-4"}),"Export Data"]}),y.jsxs("button",{onClick:re,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[y.jsx(OU,{className:"w-4 h-4"}),"Import Data"]})]}),y.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:y.jsx(jf,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),y.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),y.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),y.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[y.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:y.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx(AU,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),y.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[y.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:ae,children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:y.jsx(DC,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),y.jsx("a",{href:"https://github.com/shahnewajsrabon/Study-Mate/issues/new?title=Bug%3A%20&body=%23%23%20Bug%20Description",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:y.jsx(N9,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Help us improve by reporting issues"})]})]})}),y.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:y.jsx(rf,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),y.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:y.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&y.jsxs(Te.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[y.jsx(NC,{className:"w-5 h-5"}),"Sign Out"]}),y.jsx(si,{children:A&&y.jsx(o8,{onClose:()=>j(!1)})})]})}function u8(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(u=>{u.isCompleted&&n++,u.topics&&(i+=u.topics.length,u.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function h8(t){const e=new Date,i=Array.from({length:7},(l,u)=>{const d=new Date;return d.setDate(e.getDate()-(6-u)),d.toISOString().split("T")[0]}).map(l=>{let u=0;return t.forEach(d=>{d.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&u++})})}),{date:l,count:u}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function d8(t){const e=new Set;t.forEach(d=>d.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((d,m)=>new Date(m).getTime()-new Date(d).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const u=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===u){i=1;let m=new Date(d);for(let p=1;p<n.length;p++){const v=new Date(n[p]),x=Math.abs(m.getTime()-v.getTime());if(Math.round(x/(1e3*60*60*24))===1)i++,m=v;else break}}}return i}function f8(){const{subjects:t}=rn(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=u8(t),{activityData:l,maxCount:u}=h8(t),d=d8(t),m=i>0?Math.round(a/i*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return y.jsxs(_u,{className:"max-w-4xl mx-auto pb-12",children:[y.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[y.jsx(T0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),y.jsxs(Te.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[y.jsx("div",{className:"sm:col-span-1",children:y.jsx(Uo,{title:"Total Streak",value:`${d} days`,icon:SC,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),y.jsx("div",{className:"sm:col-span-1",children:y.jsx(Uo,{title:"Topics Done",value:`${a} / ${i}`,icon:yn,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),y.jsx("div",{className:"sm:col-span-1",children:y.jsx(Uo,{title:"Chapters Done",value:`${n} / ${e}`,icon:iu,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),y.jsx("div",{className:"sm:col-span-1",children:y.jsx(Uo,{title:"Completion",value:`${m}%`,icon:gl,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[y.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[y.jsx(I9,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),y.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((v,x)=>y.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[y.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:y.jsx(Te.div,{initial:{height:0},animate:{height:`${v.count/u*100}%`},transition:{duration:1,delay:x*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:y.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[v.count," Topics"]})})}),y.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"})})]},v.date))})]}),y.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[y.jsx(yn,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),y.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(v=>{const x=v.chapters.reduce((j,P)=>j+(P.topics?.length||0),0),T=v.chapters.reduce((j,P)=>j+(P.topics?.filter(L=>L.isCompleted).length||0),0),A=x>0?Math.round(T/x*100):0;return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:v.name}),y.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[A,"%"]})]}),y.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:y.jsx(Te.div,{initial:{width:0},animate:{width:`${A}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]},v.id)}),t.length===0&&y.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function m8(){const{subjects:t}=rn(),[e,n]=N.useState(""),[i,a]=N.useState("all"),[l,u]=N.useState("all"),[d,m]=N.useState({}),p=t.flatMap(T=>T.chapters.map(A=>({...A,subjectName:T.name,subjectColor:T.color,subjectId:T.id}))),v=p.filter(T=>{const A=T.name.toLowerCase().includes(e.toLowerCase())||T.subjectName.toLowerCase().includes(e.toLowerCase()),j=i==="all"||T.subjectId===i,P=l==="all"||(l==="completed"?T.isCompleted:!T.isCompleted);return A&&j&&P}),x=T=>{m(A=>({...A,[T]:!A[T]}))};return y.jsxs(_u,{className:"max-w-4xl mx-auto pb-12",children:[y.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[y.jsx(yn,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"All Chapters Tracker"]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-8 transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-end mb-2",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Overall Progress"}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm transition-colors",children:[p.filter(T=>T.isCompleted).length," of ",p.length," chapters completed"]})]}),y.jsxs("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 transition-colors",children:[p.length>0?Math.round(p.filter(T=>T.isCompleted).length/p.length*100):0,"%"]})]}),y.jsx("div",{className:"h-4 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:y.jsx(Te.div,{initial:{width:0},animate:{width:`${p.length>0?Math.round(p.filter(T=>T.isCompleted).length/p.length*100):0}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-600 dark:bg-blue-500"})})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-6 flex flex-col md:flex-row gap-4 transition-colors",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(_U,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),y.jsx("input",{type:"text",placeholder:"Search chapters or subjects...",value:e,onChange:T=>n(T.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-colors"})]}),y.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[y.jsxs("select",{value:i,onChange:T=>a(T.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[y.jsx("option",{value:"all",children:"All Subjects"}),t.map(T=>y.jsx("option",{value:T.id,children:T.name},T.id))]}),y.jsxs("select",{value:l,onChange:T=>u(T.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[y.jsx("option",{value:"all",children:"All Status"}),y.jsx("option",{value:"completed",children:"Completed"}),y.jsx("option",{value:"pending",children:"Pending"})]})]})]}),y.jsx("div",{className:"space-y-4",children:v.length>0?v.map(T=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[y.jsx("div",{className:"bg-slate-50/50 dark:bg-slate-700/30 px-4 py-1 text-xs font-semibold text-slate-500 dark:text-slate-400 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between transition-colors",children:y.jsx("span",{className:T.subjectColor,children:T.subjectName})}),y.jsx(PC,{subjectId:T.subjectId,chapter:T,isExpanded:!!d[T.id],onToggle:()=>x(T.id)})]},T.id)):y.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:y.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No chapters found matching your filters."})})})]})}function p8(){const{saveStudySession:t,subjects:e}=rn(),{user:n}=Oa(),{playSound:i,isMuted:a,toggleMute:l}=ov(),[u,d]=N.useState("stopwatch"),[m,p]=N.useState(!1),[v,x]=N.useState(0),[T,A]=N.useState(0),[j,P]=N.useState(30),[L,z]=N.useState("timer"),[H,K]=N.useState(""),[re,ae]=N.useState(""),[ue,D]=N.useState(!1),[E,C]=N.useState([]),[M,k]=N.useState(!0),V=N.useRef(null);N.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const I=(te,le)=>{Notification.permission==="granted"&&new Notification(te,{body:le,icon:"/vite.svg"})};N.useEffect(()=>(m?V.current=window.setInterval(()=>{x(te=>u==="stopwatch"?te+1:te<=1?(p(!1),i("complete"),I("Time's Up! ","Your study session is complete. Take a break!"),0):te-1)},1e3):V.current&&clearInterval(V.current),()=>{V.current&&clearInterval(V.current)}),[m,u,i]),N.useEffect(()=>{if(p(!1),D(!1),u==="stopwatch")x(0),A(0);else if(u==="pomodoro"||u==="countdown"){const te=j*60;x(te),A(te)}},[u,j]),N.useEffect(()=>{(async()=>{if(n)try{const le=nf($o,"users"),ye=fC(le,mC("userProfile.totalStudyTime","desc"),pC(10)),Ce=await r9(ye),Oe=[];Ce.forEach(gt=>{const et=gt.data();et.userProfile&&Oe.push({userId:gt.id,userName:et.userProfile.name||"Anonymous",totalStudyTime:et.userProfile.totalStudyTime||0})}),C(Oe)}catch(le){console.error("Error fetching leaderboard:",le)}finally{k(!1)}})()},[n,L]),N.useEffect(()=>(m?document.title=`${oe(v)} - ${re||(u==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[m,v,u,re]);const we=()=>{!m&&u!=="stopwatch"&&v===0&&x(T),p(!m),i("click")},Ve=()=>{p(!1),D(!1),x(u==="stopwatch"?0:T),i("click")},W=async()=>{if(!H){alert("Please select a subject to save session.");return}let te=0;if(u==="stopwatch"?te=v:te=T-v,te<60){alert("Session must be at least 1 minute to save.");return}await t(te,H,re),D(!0),i("success")},oe=te=>{const le=Math.floor(te/3600),ye=Math.floor(te%3600/60),Ce=te%60;return le>0?`${le}:${ye.toString().padStart(2,"0")}:${Ce.toString().padStart(2,"0")}`:`${ye.toString().padStart(2,"0")}:${Ce.toString().padStart(2,"0")}`},he=te=>{const le=Math.floor(te/3600),ye=Math.floor(te%3600/60);return`${le}h ${ye}m`},Ae=u==="stopwatch"?100:Math.max(0,v/T*100),Ie=120,U=2*Math.PI*Ie,ee=U-Ae/100*U;return y.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[y.jsxs("header",{className:"flex items-center justify-between",children:[y.jsx("div",{children:y.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),y.jsx("button",{onClick:l,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:a?y.jsx(jC,{className:"w-6 h-6"}):y.jsx(MC,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[y.jsx("button",{onClick:()=>z("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${L==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),y.jsx("button",{onClick:()=>z("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${L==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:`${L==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:re,onChange:te=>ae(te.target.value),disabled:m}),y.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:H,onChange:te=>K(te.target.value),disabled:m,children:[y.jsx("option",{value:"",children:"Subject"}),e.map(te=>y.jsx("option",{value:te.id,children:te.name},te.id))]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[y.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[y.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[y.jsx("circle",{cx:"50%",cy:"50%",r:Ie,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),y.jsx("circle",{cx:"50%",cy:"50%",r:Ie,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:U,strokeDashoffset:u==="stopwatch"?0:ee,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${m?u==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[y.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${m?u==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:oe(v)}),y.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:m?"Running":"Paused"})]})]}),y.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!m&&y.jsx("button",{onClick:Ve,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:y.jsx(DC,{className:"w-5 h-5"})}),y.jsx("button",{onClick:we,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${m?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:m?y.jsx(oU,{className:"w-8 h-8 fill-current"}):y.jsx(IC,{className:"w-8 h-8 ml-1 fill-current"})}),!m&&(u==="stopwatch"&&v>60||u!=="stopwatch"&&v!==T)&&!ue&&y.jsx("button",{onClick:W,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:y.jsx(of,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"mt-8 flex gap-2",children:[y.jsx("button",{onClick:()=>{d("stopwatch"),P(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),y.jsx("button",{onClick:()=>{d("pomodoro"),P(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),y.jsx("button",{onClick:()=>{d("countdown"),P(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!m&&(u==="pomodoro"||u==="countdown")&&y.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[y.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),y.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:j,onChange:te=>P(Number(te.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),y.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[j,"m"]})]})]})]}),y.jsxs("div",{className:`${L==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 h-fit transition-colors`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:[y.jsx(iu,{className:"w-6 h-6 text-yellow-500"}),y.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]}),M?y.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading rankings..."}):y.jsxs("div",{className:"space-y-4",children:[E.map((te,le)=>y.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${te.userId===n?.uid?"bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:`
                                            w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm
                                            ${le===0?"bg-yellow-100 text-yellow-700":le===1?"bg-slate-200 text-slate-700":le===2?"bg-orange-100 text-orange-700":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}
                                        `,children:le+1}),y.jsx("div",{children:y.jsxs("p",{className:`font-medium ${te.userId===n?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-slate-200"}`,children:[te.userName," ",te.userId===n?.uid&&"(You)"]})})]}),y.jsxs("div",{className:"flex items-center gap-1 text-slate-500 dark:text-slate-400 text-sm font-medium",children:[y.jsx($9,{className:"w-4 h-4"}),he(te.totalStudyTime)]})]},te.userId)),E.length===0&&y.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 dark:bg-slate-700 rounded-xl",children:"No records yet. Be the first!"})]})]})]}),y.jsx(si,{children:ue&&y.jsxs(Te.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[y.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:y.jsx(gl,{className:"w-4 h-4 text-white"})}),y.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}function g8(){const{user:t}=Oa(),[e,n]=N.useState([]),[i,a]=N.useState(""),l=N.useRef(null),[u,d]=N.useState(!1);N.useEffect(()=>{const v=fC(nf($o,"messages"),mC("createdAt","asc"),pC(100)),x=bC(v,T=>{const A=[];T.forEach(j=>{A.push({id:j.id,...j.data()})}),n(A)});return()=>x()},[]),N.useEffect(()=>{l.current?.scrollIntoView({behavior:"smooth"})},[e]);const m=async v=>{if(v.preventDefault(),!(!i.trim()||!t)){d(!0);try{await vC(nf($o,"messages"),{text:i.trim(),uid:t.uid,displayName:t.displayName||"Anonymous",createdAt:n9()}),a("")}catch(x){console.error("Error sending message:",x),alert("Failed to send message. Please try again.")}finally{d(!1)}}},p=v=>v?v.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...";return y.jsxs(_u,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-shrink-0",children:[y.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg text-indigo-600 dark:text-indigo-400",children:y.jsx(rf,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Community Chat"}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Connect with fellow students"})]})]}),y.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col relative",children:[y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:[y.jsx(si,{initial:!1,children:e.map(v=>y.jsx(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex flex-col ${v.uid===t?.uid?"items-end":"items-start"}`,children:y.jsxs("div",{className:`flex items-end gap-2 max-w-[80%] md:max-w-[70%] ${v.uid===t?.uid?"flex-row-reverse":"flex-row"}`,children:[y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 ${v.uid===t?.uid?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}`,children:v.uid===t?.uid?y.jsx(LU,{className:"w-4 h-4"}):v.displayName.charAt(0).toUpperCase()}),y.jsxs("div",{className:`px-4 py-2 rounded-2xl text-sm ${v.uid===t?.uid?"bg-blue-600 text-white rounded-tr-none":"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-none"}`,children:[!v.uid&&y.jsx("p",{className:"text-[10px] opacity-70 mb-1 font-bold",children:v.displayName}),v.uid!==t?.uid&&y.jsx("p",{className:"text-[10px] font-bold opacity-70 mb-0.5 text-indigo-500 dark:text-indigo-300",children:v.displayName}),y.jsx("p",{className:"leading-relaxed whitespace-pre-wrap",children:v.text})]}),y.jsx("span",{className:"text-[10px] text-slate-400 min-w-[35px] text-center mb-1",children:p(v.createdAt)})]})},v.id))}),y.jsx("div",{ref:l})]}),y.jsxs("form",{onSubmit:m,className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700 flex gap-2",children:[y.jsx("input",{type:"text",value:i,onChange:v=>a(v.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all"}),y.jsx("button",{type:"submit",disabled:!i.trim()||u,className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-sm",children:y.jsx(wU,{className:"w-5 h-5"})})]})]})]})}function y8({steps:t,onComplete:e,onSkip:n}){const[i,a]=N.useState(0),[l,u]=N.useState(null),d=t[i];N.useEffect(()=>{if(d.targetId){const v=document.getElementById(d.targetId);v?(u(v.getBoundingClientRect()),v.scrollIntoView({behavior:"smooth",block:"center"})):u(null)}else u(null)},[i,d,t]);const m=()=>{i<t.length-1?a(v=>v+1):e()},p=()=>{i>0&&a(v=>v-1)};return y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&y.jsx(Te.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),y.jsx(si,{mode:"wait",children:y.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&d.position!=="center"?{top:d.position==="bottom"?l.bottom+20:d.position==="top"?l.top-200:void 0,left:d.position==="right"?l.right+20:d.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(d.position==="bottom",0)}:{},children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),y.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:y.jsx(Pa,{className:"w-4 h-4"})})]}),y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:d.title}),y.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:d.description}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("button",{onClick:p,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[y.jsx(L9,{className:"w-4 h-4"})," Back"]}),y.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&y.jsx(B9,{className:"w-4 h-4"})]})]})]},i)})]})}const v8=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function b8(){const{logout:t}=Oa(),{theme:e,toggleTheme:n}=UC(),i=ji(),a=uk(),[l,u]=N.useState(!1);N.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true")},[]);const d=()=>{u(!1),localStorage.setItem("tracked_tour_completed","true")},m=p=>i.pathname===p;return y.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[l&&y.jsx(y8,{steps:v8,onComplete:d,onSkip:d}),y.jsxs("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg",children:y.jsx(yn,{className:"w-5 h-5 text-white"})}),y.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent",children:"TrackEd"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors","aria-label":"Toggle Theme",children:e==="light"?y.jsx(af,{className:"w-5 h-5"}):y.jsx(_0,{className:"w-5 h-5"})}),y.jsx(Ft,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:y.jsx(bg,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"md:flex max-w-5xl mx-auto",children:[y.jsxs("aside",{className:"hidden md:flex flex-col w-64 h-screen sticky top-0 p-6 border-r border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 transition-colors duration-300",children:[y.jsxs("div",{className:"flex items-center justify-between mb-10",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:y.jsx(yn,{className:"w-6 h-6 text-white"})}),y.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"TrackEd"})]}),y.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors","aria-label":"Toggle Theme",children:e==="light"?y.jsx(af,{className:"w-5 h-5"}):y.jsx(_0,{className:"w-5 h-5"})})]}),y.jsxs("nav",{className:"space-y-2 flex-1",children:[y.jsxs(Ft,{to:"/",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[y.jsx(Ow,{className:"w-5 h-5"}),"Dashboard"]}),y.jsxs(Ft,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/analytics")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[y.jsx(T0,{className:"w-5 h-5"}),"Analytics"]}),y.jsxs(Ft,{to:"/chapters",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/chapters")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[y.jsx(Pw,{className:"w-5 h-5"}),"Chapters"]}),y.jsxs(Ft,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${i.pathname==="/timer"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-white"}`,children:[y.jsx(Uw,{className:"w-5 h-5"}),"Timer"]}),y.jsxs(Ft,{to:"/chat",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/chat")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[y.jsx(rf,{className:"w-5 h-5"}),"Community"]}),y.jsxs(Ft,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/settings")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[y.jsx(bg,{className:"w-5 h-5"}),"Settings"]})]}),y.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-700",children:[y.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-400 transition-colors w-full text-left mb-4",children:[y.jsx(NC,{className:"w-5 h-5"}),"Sign Out"]}),y.jsxs("div",{className:"text-xs text-slate-400 dark:text-slate-500",children:[y.jsx("p",{children:"Empowering Students"}),y.jsx("p",{className:"mt-1",children:" 2026 TrackEd"})]})]})]}),y.jsx("main",{className:"flex-1 p-4 md:p-8",children:y.jsx(si,{mode:"wait",children:a&&N.cloneElement(a,{key:i.pathname})})})]}),y.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[y.jsxs(Ft,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${m("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(Ow,{className:"w-6 h-6"}),y.jsx("span",{children:"Home"})]}),y.jsxs(Ft,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${m("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(T0,{className:"w-6 h-6"}),y.jsx("span",{children:"Stats"})]}),y.jsxs(Ft,{to:"/chapters",className:`flex flex-col items-center gap-1 text-xs ${m("/chapters")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(Pw,{className:"w-6 h-6"}),y.jsx("span",{children:"Chapters"})]}),y.jsxs(Ft,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${m("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(Uw,{className:"w-6 h-6"}),y.jsx("span",{children:"Timer"})]}),y.jsxs(Ft,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${m("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(rf,{className:"w-6 h-6"}),y.jsx("span",{children:"Comm.."})]}),y.jsxs(Ft,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${m("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[y.jsx(bg,{className:"w-6 h-6"}),y.jsx("span",{children:"Settings"})]})]})]})}function x8(){const{signInWithGoogle:t,user:e}=Oa(),n=cf();return Hw.useEffect(()=>{e&&n("/")},[e,n]),y.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[y.jsxs("div",{className:"absolute inset-0 z-0",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),y.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),y.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[y.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[y.jsx("div",{className:"flex justify-center mb-8",children:y.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:y.jsx(RC,{className:"w-10 h-10 text-white"})})}),y.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",y.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),y.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[y.jsx("div",{className:"bg-white p-1 rounded-full",children:y.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),y.jsx("span",{children:"Sign in with Google"}),y.jsx(av,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),y.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),y.jsx("div",{className:"mt-8 text-center",children:y.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}function _8({children:t}){const{user:e,loading:n}=Oa();return n?y.jsx("div",{children:"Loading..."}):e?y.jsx(y.Fragment,{children:t}):y.jsx(Sk,{to:"/login"})}function T8(){return y.jsx(Wk,{basename:"/Study-Mate/",children:y.jsxs(Ck,{children:[y.jsx(Gs,{path:"/login",element:y.jsx(x8,{})}),y.jsxs(Gs,{path:"/",element:y.jsx(_8,{children:y.jsx(b8,{})}),children:[y.jsx(Gs,{index:!0,element:y.jsx(JU,{})}),y.jsx(Gs,{path:"subject/:id",element:y.jsx(r8,{})}),y.jsx(Gs,{path:"analytics",element:y.jsx(f8,{})}),y.jsx(Gs,{path:"chapters",element:y.jsx(m8,{})}),y.jsx(Gs,{path:"timer",element:y.jsx(p8,{})}),y.jsx(Gs,{path:"chat",element:y.jsx(g8,{})}),y.jsx(Gs,{path:"settings",element:y.jsx(c8,{})})]})]})})}class w8 extends N.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:y.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[y.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),y.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),y.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),y.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");AN.createRoot(document.getElementById("root")).render(y.jsx(Hw.StrictMode,{children:y.jsx(w8,{children:y.jsx(c9,{children:y.jsx(u9,{children:y.jsx(a8,{children:y.jsx(t8,{children:y.jsx(T8,{})})})})})})}));
