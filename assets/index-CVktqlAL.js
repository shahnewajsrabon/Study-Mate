(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function oS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E0={exports:{}},Kc={};var Dw;function YR(){if(Dw)return Kc;Dw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Kc.Fragment=e,Kc.jsx=n,Kc.jsxs=n,Kc}var Mw;function XR(){return Mw||(Mw=1,E0.exports=YR()),E0.exports}var d=XR(),S0={exports:{}},Ve={};var Pw;function QR(){if(Pw)return Ve;Pw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function E(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,P={};function V(I,G,Y){this.props=I,this.context=G,this.refs=P,this.updater=Y||R}V.prototype.isReactComponent={},V.prototype.setState=function(I,G){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,G,"setState")},V.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function B(){}B.prototype=V.prototype;function q(I,G,Y){this.props=I,this.context=G,this.refs=P,this.updater=Y||R}var K=q.prototype=new B;K.constructor=q,M(K,V.prototype),K.isPureReactComponent=!0;var ie=Array.isArray;function he(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(I,G,Y){var ee=Y.ref;return{$$typeof:t,type:I,key:G,ref:ee!==void 0?ee:null,props:Y}}function O(I,G){return N(I.type,G,I.props)}function L(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function F(I){var G={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Y){return G[Y]})}var j=/\/+/g;function Re(I,G){return typeof I=="object"&&I!==null&&I.key!=null?F(""+I.key):G.toString(36)}function je(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(he,he):(I.status="pending",I.then(function(G){I.status==="pending"&&(I.status="fulfilled",I.value=G)},function(G){I.status==="pending"&&(I.status="rejected",I.reason=G)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function z(I,G,Y,ee,de){var me=typeof I;(me==="undefined"||me==="boolean")&&(I=null);var be=!1;if(I===null)be=!0;else switch(me){case"bigint":case"string":case"number":be=!0;break;case"object":switch(I.$$typeof){case t:case e:be=!0;break;case x:return be=I._init,z(be(I._payload),G,Y,ee,de)}}if(be)return de=de(I),be=ee===""?"."+Re(I,0):ee,ie(de)?(Y="",be!=null&&(Y=be.replace(j,"$&/")+"/"),z(de,G,Y,"",function(We){return We})):de!=null&&(L(de)&&(de=O(de,Y+(de.key==null||I&&I.key===de.key?"":(""+de.key).replace(j,"$&/")+"/")+be)),G.push(de)),1;be=0;var fe=ee===""?".":ee+":";if(ie(I))for(var ke=0;ke<I.length;ke++)ee=I[ke],me=fe+Re(ee,ke),be+=z(ee,G,Y,me,de);else if(ke=E(I),typeof ke=="function")for(I=ke.call(I),ke=0;!(ee=I.next()).done;)ee=ee.value,me=fe+Re(ee,ke++),be+=z(ee,G,Y,me,de);else if(me==="object"){if(typeof I.then=="function")return z(je(I),G,Y,ee,de);throw G=String(I),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return be}function ne(I,G,Y){if(I==null)return I;var ee=[],de=0;return z(I,ee,"","",function(me){return G.call(Y,me,de++)}),ee}function Z(I){if(I._status===-1){var G=I._result;G=G(),G.then(function(Y){(I._status===0||I._status===-1)&&(I._status=1,I._result=Y)},function(Y){(I._status===0||I._status===-1)&&(I._status=2,I._result=Y)}),I._status===-1&&(I._status=0,I._result=G)}if(I._status===1)return I._result.default;throw I._result}var ve=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},re={map:ne,forEach:function(I,G,Y){ne(I,function(){G.apply(this,arguments)},Y)},count:function(I){var G=0;return ne(I,function(){G++}),G},toArray:function(I){return ne(I,function(G){return G})||[]},only:function(I){if(!L(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ve.Activity=b,Ve.Children=re,Ve.Component=V,Ve.Fragment=n,Ve.Profiler=a,Ve.PureComponent=q,Ve.StrictMode=i,Ve.Suspense=m,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},Ve.cache=function(I){return function(){return I.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(I,G,Y){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ee=M({},I.props),de=I.key;if(G!=null)for(me in G.key!==void 0&&(de=""+G.key),G)!S.call(G,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&G.ref===void 0||(ee[me]=G[me]);var me=arguments.length-2;if(me===1)ee.children=Y;else if(1<me){for(var be=Array(me),fe=0;fe<me;fe++)be[fe]=arguments[fe+2];ee.children=be}return N(I.type,de,ee)},Ve.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Ve.createElement=function(I,G,Y){var ee,de={},me=null;if(G!=null)for(ee in G.key!==void 0&&(me=""+G.key),G)S.call(G,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(de[ee]=G[ee]);var be=arguments.length-2;if(be===1)de.children=Y;else if(1<be){for(var fe=Array(be),ke=0;ke<be;ke++)fe[ke]=arguments[ke+2];de.children=fe}if(I&&I.defaultProps)for(ee in be=I.defaultProps,be)de[ee]===void 0&&(de[ee]=be[ee]);return N(I,me,de)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(I){return{$$typeof:h,render:I}},Ve.isValidElement=L,Ve.lazy=function(I){return{$$typeof:x,_payload:{_status:-1,_result:I},_init:Z}},Ve.memo=function(I,G){return{$$typeof:p,type:I,compare:G===void 0?null:G}},Ve.startTransition=function(I){var G=D.T,Y={};D.T=Y;try{var ee=I(),de=D.S;de!==null&&de(Y,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(he,ve)}catch(me){ve(me)}finally{G!==null&&Y.types!==null&&(G.types=Y.types),D.T=G}},Ve.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ve.use=function(I){return D.H.use(I)},Ve.useActionState=function(I,G,Y){return D.H.useActionState(I,G,Y)},Ve.useCallback=function(I,G){return D.H.useCallback(I,G)},Ve.useContext=function(I){return D.H.useContext(I)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(I,G){return D.H.useDeferredValue(I,G)},Ve.useEffect=function(I,G){return D.H.useEffect(I,G)},Ve.useEffectEvent=function(I){return D.H.useEffectEvent(I)},Ve.useId=function(){return D.H.useId()},Ve.useImperativeHandle=function(I,G,Y){return D.H.useImperativeHandle(I,G,Y)},Ve.useInsertionEffect=function(I,G){return D.H.useInsertionEffect(I,G)},Ve.useLayoutEffect=function(I,G){return D.H.useLayoutEffect(I,G)},Ve.useMemo=function(I,G){return D.H.useMemo(I,G)},Ve.useOptimistic=function(I,G){return D.H.useOptimistic(I,G)},Ve.useReducer=function(I,G,Y){return D.H.useReducer(I,G,Y)},Ve.useRef=function(I){return D.H.useRef(I)},Ve.useState=function(I){return D.H.useState(I)},Ve.useSyncExternalStore=function(I,G,Y){return D.H.useSyncExternalStore(I,G,Y)},Ve.useTransition=function(){return D.H.useTransition()},Ve.version="19.2.4",Ve}var Vw;function by(){return Vw||(Vw=1,S0.exports=QR()),S0.exports}var A=by();const lS=oS(A);var k0={exports:{}},Yc={},N0={exports:{}},A0={};var Ow;function WR(){return Ow||(Ow=1,(function(t){function e(z,ne){var Z=z.length;z.push(ne);e:for(;0<Z;){var ve=Z-1>>>1,re=z[ve];if(0<a(re,ne))z[ve]=ne,z[Z]=re,Z=ve;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var ne=z[0],Z=z.pop();if(Z!==ne){z[0]=Z;e:for(var ve=0,re=z.length,I=re>>>1;ve<I;){var G=2*(ve+1)-1,Y=z[G],ee=G+1,de=z[ee];if(0>a(Y,Z))ee<re&&0>a(de,Y)?(z[ve]=de,z[ee]=Z,ve=ee):(z[ve]=Y,z[G]=Z,ve=G);else if(ee<re&&0>a(de,Z))z[ve]=de,z[ee]=Z,ve=ee;else break e}}return ne}function a(z,ne){var Z=z.sortIndex-ne.sortIndex;return Z!==0?Z:z.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var m=[],p=[],x=1,b=null,w=3,E=!1,R=!1,M=!1,P=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function K(z){for(var ne=n(p);ne!==null;){if(ne.callback===null)i(p);else if(ne.startTime<=z)i(p),ne.sortIndex=ne.expirationTime,e(m,ne);else break;ne=n(p)}}function ie(z){if(M=!1,K(z),!R)if(n(m)!==null)R=!0,he||(he=!0,F());else{var ne=n(p);ne!==null&&je(ie,ne.startTime-z)}}var he=!1,D=-1,S=5,N=-1;function O(){return P?!0:!(t.unstable_now()-N<S)}function L(){if(P=!1,he){var z=t.unstable_now();N=z;var ne=!0;try{e:{R=!1,M&&(M=!1,B(D),D=-1),E=!0;var Z=w;try{t:{for(K(z),b=n(m);b!==null&&!(b.expirationTime>z&&O());){var ve=b.callback;if(typeof ve=="function"){b.callback=null,w=b.priorityLevel;var re=ve(b.expirationTime<=z);if(z=t.unstable_now(),typeof re=="function"){b.callback=re,K(z),ne=!0;break t}b===n(m)&&i(m),K(z)}else i(m);b=n(m)}if(b!==null)ne=!0;else{var I=n(p);I!==null&&je(ie,I.startTime-z),ne=!1}}break e}finally{b=null,w=Z,E=!1}ne=void 0}}finally{ne?F():he=!1}}}var F;if(typeof q=="function")F=function(){q(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Re=j.port2;j.port1.onmessage=L,F=function(){Re.postMessage(null)}}else F=function(){V(L,0)};function je(z,ne){D=V(function(){z(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(z){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var Z=w;w=ne;try{return z()}finally{w=Z}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=w;w=z;try{return ne()}finally{w=Z}},t.unstable_scheduleCallback=function(z,ne,Z){var ve=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ve+Z:ve):Z=ve,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Z+re,z={id:x++,callback:ne,priorityLevel:z,startTime:Z,expirationTime:re,sortIndex:-1},Z>ve?(z.sortIndex=Z,e(p,z),n(m)===null&&z===n(p)&&(M?(B(D),D=-1):M=!0,je(ie,Z-ve))):(z.sortIndex=re,e(m,z),R||E||(R=!0,he||(he=!0,F()))),z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(z){var ne=w;return function(){var Z=w;w=ne;try{return z.apply(this,arguments)}finally{w=Z}}}})(A0)),A0}var Lw;function JR(){return Lw||(Lw=1,N0.exports=WR()),N0.exports}var C0={exports:{}},gn={};var Uw;function ZR(){if(Uw)return gn;Uw=1;var t=by();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,x)},gn.flushSync=function(m){var p=c.T,x=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=x,i.d.f()}},gn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},gn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},gn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,b=h(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:E}):x==="script"&&i.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},gn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,b=h(x,p.crossOrigin);i.d.L(m,x,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gn.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},gn.requestFormReset=function(m){i.d.r(m)},gn.unstable_batchedUpdates=function(m,p){return m(p)},gn.useFormState=function(m,p,x){return c.H.useFormState(m,p,x)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.2.4",gn}var zw;function cS(){if(zw)return C0.exports;zw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),C0.exports=ZR(),C0.exports}var Bw;function ej(){if(Bw)return Yc;Bw=1;var t=JR(),e=by(),n=cS();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var g=o.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===o)return m(g),s;if(y===u)return m(g),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=g,u=y;else{for(var _=!1,k=g.child;k;){if(k===o){_=!0,o=g,u=y;break}if(k===u){_=!0,u=g,o=y;break}k=k.sibling}if(!_){for(k=y.child;k;){if(k===o){_=!0,o=y,u=g;break}if(k===u){_=!0,u=y,o=g;break}k=k.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function x(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=x(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function Re(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case V:return"Profiler";case P:return"StrictMode";case ie:return"Suspense";case he:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case q:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case K:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return r=s.displayName||null,r!==null?r:Re(s.type)||"Memo";case S:r=s._payload,s=s._init;try{return Re(s(r))}catch{}}return null}var je=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ve=[],re=-1;function I(s){return{current:s}}function G(s){0>re||(s.current=ve[re],ve[re]=null,re--)}function Y(s,r){re++,ve[re]=s.current,s.current=r}var ee=I(null),de=I(null),me=I(null),be=I(null);function fe(s,r){switch(Y(me,r),Y(de,s),Y(ee,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?nw(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=nw(r),s=sw(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}G(ee),Y(ee,s)}function ke(){G(ee),G(de),G(me)}function We(s){s.memoizedState!==null&&Y(be,s);var r=ee.current,o=sw(r,s.type);r!==o&&(Y(de,s),Y(ee,o))}function bt(s){de.current===s&&(G(ee),G(de)),be.current===s&&(G(be),Hc._currentValue=Z)}var pn,Fs;function Gt(s){if(pn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);pn=r&&r[1]||"",Fs=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pn+s+Fs}var _n=!1;function Un(s,r){if(!s||_n)return"";_n=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(se){var J=se}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(se){J=se}s.call(ce.prototype)}}else{try{throw Error()}catch(se){J=se}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(se){if(se&&J&&typeof se.stack=="string")return[se.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],k=y[1];if(_&&k){var U=_.split(`
`),W=k.split(`
`);for(g=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;if(u===U.length||g===W.length)for(u=U.length-1,g=W.length-1;1<=u&&0<=g&&U[u]!==W[g];)g--;for(;1<=u&&0<=g;u--,g--)if(U[u]!==W[g]){if(u!==1||g!==1)do if(u--,g--,0>g||U[u]!==W[g]){var ae=`
`+U[u].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=u&&0<=g);break}}}finally{_n=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Gt(o):""}function ql(s,r){switch(s.tag){case 26:case 27:case 5:return Gt(s.type);case 16:return Gt("Lazy");case 13:return s.child!==r&&r!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return Un(s.type,!1);case 11:return Un(s.type.render,!1);case 1:return Un(s.type,!0);case 31:return Gt("Activity");default:return""}}function Gl(s){try{var r="",o=null;do r+=ql(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var It=Object.prototype.hasOwnProperty,$t=t.unstable_scheduleCallback,or=t.unstable_cancelCallback,km=t.unstable_shouldYield,Zu=t.unstable_requestPaint,Tn=t.unstable_now,ha=t.unstable_getCurrentPriorityLevel,$l=t.unstable_ImmediatePriority,Kl=t.unstable_UserBlockingPriority,lr=t.unstable_NormalPriority,Nm=t.unstable_LowPriority,ed=t.unstable_IdlePriority,td=t.log,nd=t.unstable_setDisableYieldValue,gs=null,rn=null;function Wn(s){if(typeof td=="function"&&nd(s),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(gs,s)}catch{}}var kt=Math.clz32?Math.clz32:id,sd=Math.log,fo=Math.LN2;function id(s){return s>>>=0,s===0?32:31-(sd(s)/fo|0)|0}var Hs=256,fa=262144,Dt=4194304;function qs(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Gs(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var g=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var k=u&134217727;return k!==0?(u=k&~y,u!==0?g=qs(u):(_&=k,_!==0?g=qs(_):o||(o=k&~s,o!==0&&(g=qs(o))))):(k=u&~y,k!==0?g=qs(k):_!==0?g=qs(_):o||(o=u&~s,o!==0&&(g=qs(o)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:g}function ys(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Am(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rd(){var s=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),s}function $s(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ma(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Cm(s,r,o,u,g,y){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var k=s.entanglements,U=s.expirationTimes,W=s.hiddenUpdates;for(o=_&~o;0<o;){var ae=31-kt(o),ce=1<<ae;k[ae]=0,U[ae]=-1;var J=W[ae];if(J!==null)for(W[ae]=null,ae=0;ae<J.length;ae++){var se=J[ae];se!==null&&(se.lane&=-536870913)}o&=~ce}u!==0&&pa(s,u,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~r))}function pa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-kt(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Yl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-kt(o),g=1<<u;g&r|s[u]&r&&(s[u]|=r),o&=~g}}function Xl(s,r){var o=r&-r;return o=(o&42)!==0?1:ga(o),(o&(s.suspendedLanes|r))!==0?0:o}function ga(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Si(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ad(){var s=ne.p;return s!==0?s:(s=window.event,s===void 0?32:kw(s.type))}function xs(s,r){var o=ne.p;try{return ne.p=s,r()}finally{ne.p=o}}var bs=Math.random().toString(36).slice(2),Mt="__reactFiber$"+bs,Jt="__reactProps$"+bs,Ks="__reactContainer$"+bs,mo="__reactEvents$"+bs,Rm="__reactListeners$"+bs,od="__reactHandles$"+bs,ld="__reactResources$"+bs,Ys="__reactMarker$"+bs;function po(s){delete s[Mt],delete s[Jt],delete s[mo],delete s[Rm],delete s[od]}function Xs(s){var r=s[Mt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Ks]||o[Mt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=uw(s);s!==null;){if(o=s[Mt])return o;s=uw(s)}return r}s=o,o=s.parentNode}return null}function Jn(s){if(s=s[Mt]||s[Ks]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function zn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Qs(s){var r=s[ld];return r||(r=s[ld]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pt(s){s[Ys]=!0}var Ql=new Set,Wl={};function Ws(s,r){Js(s,r),Js(s+"Capture",r)}function Js(s,r){for(Wl[s]=r,s=0;s<r.length;s++)Ql.add(r[s])}var Jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},ec={};function cd(s){return It.call(ec,s)?!0:It.call(Zl,s)?!1:Jl.test(s)?ec[s]=!0:(Zl[s]=!0,!1)}function go(s,r,o){if(cd(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Bn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Vt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Zt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function cr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function tc(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function st(s){if(!s._valueTracker){var r=cr(s)?"checked":"value";s._valueTracker=tc(s,r,""+s[r])}}function ya(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=cr(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xa=/[\n"\\]/g;function Cn(s){return s.replace(xa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yo(s,r,o,u,g,y,_,k){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Zt(r)):s.value!==""+Zt(r)&&(s.value=""+Zt(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?nc(s,_,Zt(r)):o!=null?nc(s,_,Zt(o)):u!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Zt(k):s.removeAttribute("name")}function ud(s,r,o,u,g,y,_,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){st(s);return}o=o!=null?""+Zt(o):"",r=r!=null?""+Zt(r):o,k||r===s.value||(s.value=r),s.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=k?s.checked:!!u,s.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),st(s)}function nc(s,r,o){r==="number"&&Zs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function ur(s,r,o,u){if(s=s.options,r){r={};for(var g=0;g<o.length;g++)r["$"+o[g]]=!0;for(o=0;o<s.length;o++)g=r.hasOwnProperty("$"+s[o].value),s[o].selected!==g&&(s[o].selected=g),g&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Zt(o),r=null,g=0;g<s.length;g++){if(s[g].value===o){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function dd(s,r,o){if(r!=null&&(r=""+Zt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Zt(o):""}function dr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(je(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Zt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),st(s)}function Rn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var hd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sc(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||hd.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function ic(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&o[g]!==u&&sc(s,g,u)}else for(var y in r)r.hasOwnProperty(y)&&sc(s,y,r[y])}function xo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(s){return hr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function vs(){}var rc=null;function Zn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fr=null,ei=null;function ba(s){var r=Jn(s);if(r&&(s=r.stateNode)){var o=s[Jt]||null;e:switch(s=r.stateNode,r.type){case"input":if(yo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Cn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var g=u[Jt]||null;if(!g)throw Error(i(90));yo(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&ya(u)}break e;case"textarea":dd(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ur(s,!!o.multiple,r,!1)}}}var vo=!1;function mr(s,r,o){if(vo)return s(r,o);vo=!0;try{var u=s(r);return u}finally{if(vo=!1,(fr!==null||ei!==null)&&(ah(),fr&&(r=fr,s=ei,ei=fr=null,ba(r),s)))for(r=0;r<s.length;r++)ba(s[r])}}function ws(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Jt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(es)try{var at={};Object.defineProperty(at,"passive",{get:function(){va=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{va=!1}var ti=null,ac=null,wa=null;function oc(){if(wa)return wa;var s,r=ac,o=r.length,u,g="value"in ti?ti.value:ti.textContent,y=g.length;for(s=0;s<o&&r[s]===g[s];s++);var _=o-s;for(u=1;u<=_&&r[o-u]===g[y-u];u++);return wa=g.slice(s,1<u?1-u:void 0)}function _a(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ki(){return!0}function _s(){return!1}function an(s){function r(o,u,g,y,_){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(o=s[k],this[k]=o?o(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ki:_s,this.isPropagationStopped=_s,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),r}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=an(Ni),pr=b({},Ni,{view:0,detail:0}),lc=an(pr),gr,wo,si,_o=b({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==si&&(si&&s.type==="mousemove"?(gr=s.screenX-si.screenX,wo=s.screenY-si.screenY):wo=gr=0,si=s),gr)},movementY:function(s){return"movementY"in s?s.movementY:wo}}),cc=an(_o),Ta=b({},_o,{dataTransfer:0}),md=an(Ta),pd=b({},pr,{relatedTarget:0}),Ea=an(pd),uc=b({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),gd=an(uc),To=b({},Ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yd=an(To),xd=b({},Ni,{data:0}),ii=an(xd),bd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _d(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=wd[s])?!!r[s]:!1}function yr(){return _d}var En=b({},pr,{key:function(s){if(s.key){var r=bd[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=_a(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(s){return s.type==="keypress"?_a(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_a(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Td=an(En),Ed=b({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ai=an(Ed),f=b({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),v=an(f),T=b({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=an(T),X=b({},_o,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),te=an(X),pe=b({},Ni,{newState:0,oldState:0}),Le=an(pe),Nt=[9,13,27,32],et=es&&"CompositionEvent"in window,gt=null;es&&"documentMode"in document&&(gt=document.documentMode);var ts=es&&"TextEvent"in window&&!gt,ri=es&&(!et||gt&&8<gt&&11>=gt),Ts=" ",Es=!1;function Sa(s,r){switch(s){case"keyup":return Nt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var So=!1;function xC(s,r){switch(s){case"compositionend":return Eo(r);case"keypress":return r.which!==32?null:(Es=!0,Ts);case"textInput":return s=r.data,s===Ts&&Es?null:s;default:return null}}function bC(s,r){if(So)return s==="compositionend"||!et&&Sa(s,r)?(s=oc(),wa=ac=ti=null,So=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ri&&r.locale!=="ko"?null:r.data;default:return null}}var vC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fb(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!vC[s.type]:r==="textarea"}function mb(s,r,o,u){fr?ei?ei.push(u):ei=[u]:fr=u,r=fh(r,"onChange"),0<r.length&&(o=new ni("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var dc=null,hc=null;function wC(s){Q1(s,0)}function Sd(s){var r=zn(s);if(ya(r))return s}function pb(s,r){if(s==="change")return r}var gb=!1;if(es){var jm;if(es){var Im="oninput"in document;if(!Im){var yb=document.createElement("div");yb.setAttribute("oninput","return;"),Im=typeof yb.oninput=="function"}jm=Im}else jm=!1;gb=jm&&(!document.documentMode||9<document.documentMode)}function xb(){dc&&(dc.detachEvent("onpropertychange",bb),hc=dc=null)}function bb(s){if(s.propertyName==="value"&&Sd(hc)){var r=[];mb(r,hc,s,Zn(s)),mr(wC,r)}}function _C(s,r,o){s==="focusin"?(xb(),dc=r,hc=o,dc.attachEvent("onpropertychange",bb)):s==="focusout"&&xb()}function TC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Sd(hc)}function EC(s,r){if(s==="click")return Sd(r)}function SC(s,r){if(s==="input"||s==="change")return Sd(r)}function kC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Fn=typeof Object.is=="function"?Object.is:kC;function fc(s,r){if(Fn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!It.call(r,g)||!Fn(s[g],r[g]))return!1}return!0}function vb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wb(s,r){var o=vb(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=vb(o)}}function _b(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?_b(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Tb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Zs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Zs(s.document)}return r}function Dm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var NC=es&&"documentMode"in document&&11>=document.documentMode,ko=null,Mm=null,mc=null,Pm=!1;function Eb(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pm||ko==null||ko!==Zs(u)||(u=ko,"selectionStart"in u&&Dm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),mc&&fc(mc,u)||(mc=u,u=fh(Mm,"onSelect"),0<u.length&&(r=new ni("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=ko)))}function ka(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var No={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},Vm={},Sb={};es&&(Sb=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Na(s){if(Vm[s])return Vm[s];if(!No[s])return s;var r=No[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Sb)return Vm[s]=r[o];return s}var kb=Na("animationend"),Nb=Na("animationiteration"),Ab=Na("animationstart"),AC=Na("transitionrun"),CC=Na("transitionstart"),RC=Na("transitioncancel"),Cb=Na("transitionend"),Rb=new Map,Om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Om.push("scrollEnd");function Ss(s,r){Rb.set(s,r),Ws(r,[s])}var kd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ns=[],Ao=0,Lm=0;function Nd(){for(var s=Ao,r=Lm=Ao=0;r<s;){var o=ns[r];ns[r++]=null;var u=ns[r];ns[r++]=null;var g=ns[r];ns[r++]=null;var y=ns[r];if(ns[r++]=null,u!==null&&g!==null){var _=u.pending;_===null?g.next=g:(g.next=_.next,_.next=g),u.pending=g}y!==0&&jb(o,g,y)}}function Ad(s,r,o,u){ns[Ao++]=s,ns[Ao++]=r,ns[Ao++]=o,ns[Ao++]=u,Lm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Um(s,r,o,u){return Ad(s,r,o,u),Cd(s)}function Aa(s,r){return Ad(s,null,null,r),Cd(s)}function jb(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var g=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&r!==null&&(g=31-kt(o),s=y.hiddenUpdates,u=s[g],u===null?s[g]=[r]:u.push(r),r.lane=o|536870912),y):null}function Cd(s){if(50<Vc)throw Vc=0,Yp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Co={};function jC(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(s,r,o,u){return new jC(s,r,o,u)}function zm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ci(s,r){var o=s.alternate;return o===null?(o=Hn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Ib(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Rd(s,r,o,u,g,y){var _=0;if(u=s,typeof s=="function")zm(s)&&(_=1);else if(typeof s=="string")_=VR(s,o,ee.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=Hn(31,o,r,g),s.elementType=N,s.lanes=y,s;case M:return Ca(o.children,g,y,r);case P:_=8,g|=24;break;case V:return s=Hn(12,o,r,g|2),s.elementType=V,s.lanes=y,s;case ie:return s=Hn(13,o,r,g),s.elementType=ie,s.lanes=y,s;case he:return s=Hn(19,o,r,g),s.elementType=he,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:_=10;break e;case B:_=9;break e;case K:_=11;break e;case D:_=14;break e;case S:_=16,u=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Hn(_,o,r,g),r.elementType=s,r.type=u,r.lanes=y,r}function Ca(s,r,o,u){return s=Hn(7,s,u,r),s.lanes=o,s}function Bm(s,r,o){return s=Hn(6,s,null,r),s.lanes=o,s}function Db(s){var r=Hn(18,null,null,0);return r.stateNode=s,r}function Fm(s,r,o){return r=Hn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Mb=new WeakMap;function ss(s,r){if(typeof s=="object"&&s!==null){var o=Mb.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Gl(r)},Mb.set(s,r),r)}return{value:s,source:r,stack:Gl(r)}}var Ro=[],jo=0,jd=null,pc=0,is=[],rs=0,xr=null,ai=1,oi="";function Ri(s,r){Ro[jo++]=pc,Ro[jo++]=jd,jd=s,pc=r}function Pb(s,r,o){is[rs++]=ai,is[rs++]=oi,is[rs++]=xr,xr=s;var u=ai;s=oi;var g=32-kt(u)-1;u&=~(1<<g),o+=1;var y=32-kt(r)+g;if(30<y){var _=g-g%5;y=(u&(1<<_)-1).toString(32),u>>=_,g-=_,ai=1<<32-kt(r)+g|o<<g|u,oi=y+s}else ai=1<<y|o<<g|u,oi=s}function Hm(s){s.return!==null&&(Ri(s,1),Pb(s,1,0))}function qm(s){for(;s===jd;)jd=Ro[--jo],Ro[jo]=null,pc=Ro[--jo],Ro[jo]=null;for(;s===xr;)xr=is[--rs],is[rs]=null,oi=is[--rs],is[rs]=null,ai=is[--rs],is[rs]=null}function Vb(s,r){is[rs++]=ai,is[rs++]=oi,is[rs++]=xr,ai=r.id,oi=r.overflow,xr=s}var on=null,ft=null,Xe=!1,br=null,as=!1,Gm=Error(i(519));function vr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gc(ss(r,s)),Gm}function Ob(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Mt]=s,r[Jt]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Lc.length;o++)He(Lc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),ud(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),dr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||ew(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=vs),r=!0):r=!1,r||vr(s,!0)}function Lb(s){for(on=s.return;on;)switch(on.tag){case 5:case 31:case 13:as=!1;return;case 27:case 3:as=!0;return;default:on=on.return}}function Io(s){if(s!==on)return!1;if(!Xe)return Lb(s),Xe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||c0(s.type,s.memoizedProps)),o=!o),o&&ft&&vr(s),Lb(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ft=cw(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ft=cw(s)}else r===27?(r=ft,Mr(s.type)?(s=m0,m0=null,ft=s):ft=r):ft=on?ls(s.stateNode.nextSibling):null;return!0}function Ra(){ft=on=null,Xe=!1}function $m(){var s=br;return s!==null&&(Mn===null?Mn=s:Mn.push.apply(Mn,s),br=null),s}function gc(s){br===null?br=[s]:br.push(s)}var Km=I(null),ja=null,ji=null;function wr(s,r,o){Y(Km,r._currentValue),r._currentValue=o}function Ii(s){s._currentValue=Km.current,G(Km)}function Ym(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Xm(s,r,o,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var _=g.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=g;for(var U=0;U<r.length;U++)if(k.context===r[U]){y.lanes|=o,k=y.alternate,k!==null&&(k.lanes|=o),Ym(y.return,o,s),u||(_=null);break e}y=k.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(i(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),Ym(_,o,s),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function Do(s,r,o,u){s=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var k=g.type;Fn(g.pendingProps.value,_.value)||(s!==null?s.push(k):s=[k])}}else if(g===be.current){if(_=g.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Hc):s=[Hc])}g=g.return}s!==null&&Xm(r,s,o,u),r.flags|=262144}function Id(s){for(s=s.firstContext;s!==null;){if(!Fn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ia(s){ja=s,ji=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ln(s){return Ub(ja,s)}function Dd(s,r){return ja===null&&Ia(s),Ub(s,r)}function Ub(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ji===null){if(s===null)throw Error(i(308));ji=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ji=ji.next=r;return o}var IC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},DC=t.unstable_scheduleCallback,MC=t.unstable_NormalPriority,Ot={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new IC,data:new Map,refCount:0}}function yc(s){s.refCount--,s.refCount===0&&DC(MC,function(){s.controller.abort()})}var xc=null,Wm=0,Mo=0,Po=null;function PC(s,r){if(xc===null){var o=xc=[];Wm=0,Mo=e0(),Po={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Wm++,r.then(zb,zb),r}function zb(){if(--Wm===0&&xc!==null){Po!==null&&(Po.status="fulfilled");var s=xc;xc=null,Mo=0,Po=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function VC(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<o.length;g++)(0,o[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var Bb=z.S;z.S=function(s,r){E1=Tn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&PC(s,r),Bb!==null&&Bb(s,r)};var Da=I(null);function Jm(){var s=Da.current;return s!==null?s:ut.pooledCache}function Md(s,r){r===null?Y(Da,Da.current):Y(Da,r.pool)}function Fb(){var s=Jm();return s===null?null:{parent:Ot._currentValue,pool:s}}var Vo=Error(i(460)),Zm=Error(i(474)),Pd=Error(i(542)),Vd={then:function(){}};function Hb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function qb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(vs,vs),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,$b(s),s;default:if(typeof r.status=="string")r.then(vs,vs);else{if(s=ut,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,$b(s),s}throw Pa=r,Vo}}function Ma(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Pa=o,Vo):o}}var Pa=null;function Gb(){if(Pa===null)throw Error(i(459));var s=Pa;return Pa=null,s}function $b(s){if(s===Vo||s===Pd)throw Error(i(483))}var Oo=null,bc=0;function Od(s){var r=bc;return bc+=1,Oo===null&&(Oo=[]),qb(Oo,s,r)}function vc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Ld(s,r){throw r.$$typeof===w?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Kb(s){function r($,H){if(s){var Q=$.deletions;Q===null?($.deletions=[H],$.flags|=16):Q.push(H)}}function o($,H){if(!s)return null;for(;H!==null;)r($,H),H=H.sibling;return null}function u($){for(var H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function g($,H){return $=Ci($,H),$.index=0,$.sibling=null,$}function y($,H,Q){return $.index=Q,s?(Q=$.alternate,Q!==null?(Q=Q.index,Q<H?($.flags|=67108866,H):Q):($.flags|=67108866,H)):($.flags|=1048576,H)}function _($){return s&&$.alternate===null&&($.flags|=67108866),$}function k($,H,Q,oe){return H===null||H.tag!==6?(H=Bm(Q,$.mode,oe),H.return=$,H):(H=g(H,Q),H.return=$,H)}function U($,H,Q,oe){var Ae=Q.type;return Ae===M?ae($,H,Q.props.children,oe,Q.key):H!==null&&(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&Ma(Ae)===H.type)?(H=g(H,Q.props),vc(H,Q),H.return=$,H):(H=Rd(Q.type,Q.key,Q.props,null,$.mode,oe),vc(H,Q),H.return=$,H)}function W($,H,Q,oe){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Fm(Q,$.mode,oe),H.return=$,H):(H=g(H,Q.children||[]),H.return=$,H)}function ae($,H,Q,oe,Ae){return H===null||H.tag!==7?(H=Ca(Q,$.mode,oe,Ae),H.return=$,H):(H=g(H,Q),H.return=$,H)}function ce($,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Bm(""+H,$.mode,Q),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return Q=Rd(H.type,H.key,H.props,null,$.mode,Q),vc(Q,H),Q.return=$,Q;case R:return H=Fm(H,$.mode,Q),H.return=$,H;case S:return H=Ma(H),ce($,H,Q)}if(je(H)||F(H))return H=Ca(H,$.mode,Q,null),H.return=$,H;if(typeof H.then=="function")return ce($,Od(H),Q);if(H.$$typeof===q)return ce($,Dd($,H),Q);Ld($,H)}return null}function J($,H,Q,oe){var Ae=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:k($,H,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===Ae?U($,H,Q,oe):null;case R:return Q.key===Ae?W($,H,Q,oe):null;case S:return Q=Ma(Q),J($,H,Q,oe)}if(je(Q)||F(Q))return Ae!==null?null:ae($,H,Q,oe,null);if(typeof Q.then=="function")return J($,H,Od(Q),oe);if(Q.$$typeof===q)return J($,H,Dd($,Q),oe);Ld($,Q)}return null}function se($,H,Q,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(Q)||null,k(H,$,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case E:return $=$.get(oe.key===null?Q:oe.key)||null,U(H,$,oe,Ae);case R:return $=$.get(oe.key===null?Q:oe.key)||null,W(H,$,oe,Ae);case S:return oe=Ma(oe),se($,H,Q,oe,Ae)}if(je(oe)||F(oe))return $=$.get(Q)||null,ae(H,$,oe,Ae,null);if(typeof oe.then=="function")return se($,H,Q,Od(oe),Ae);if(oe.$$typeof===q)return se($,H,Q,Dd(H,oe),Ae);Ld(H,oe)}return null}function _e($,H,Q,oe){for(var Ae=null,Je=null,Ne=H,ze=H=0,Ge=null;Ne!==null&&ze<Q.length;ze++){Ne.index>ze?(Ge=Ne,Ne=null):Ge=Ne.sibling;var Ze=J($,Ne,Q[ze],oe);if(Ze===null){Ne===null&&(Ne=Ge);break}s&&Ne&&Ze.alternate===null&&r($,Ne),H=y(Ze,H,ze),Je===null?Ae=Ze:Je.sibling=Ze,Je=Ze,Ne=Ge}if(ze===Q.length)return o($,Ne),Xe&&Ri($,ze),Ae;if(Ne===null){for(;ze<Q.length;ze++)Ne=ce($,Q[ze],oe),Ne!==null&&(H=y(Ne,H,ze),Je===null?Ae=Ne:Je.sibling=Ne,Je=Ne);return Xe&&Ri($,ze),Ae}for(Ne=u(Ne);ze<Q.length;ze++)Ge=se(Ne,$,ze,Q[ze],oe),Ge!==null&&(s&&Ge.alternate!==null&&Ne.delete(Ge.key===null?ze:Ge.key),H=y(Ge,H,ze),Je===null?Ae=Ge:Je.sibling=Ge,Je=Ge);return s&&Ne.forEach(function(Ur){return r($,Ur)}),Xe&&Ri($,ze),Ae}function Ie($,H,Q,oe){if(Q==null)throw Error(i(151));for(var Ae=null,Je=null,Ne=H,ze=H=0,Ge=null,Ze=Q.next();Ne!==null&&!Ze.done;ze++,Ze=Q.next()){Ne.index>ze?(Ge=Ne,Ne=null):Ge=Ne.sibling;var Ur=J($,Ne,Ze.value,oe);if(Ur===null){Ne===null&&(Ne=Ge);break}s&&Ne&&Ur.alternate===null&&r($,Ne),H=y(Ur,H,ze),Je===null?Ae=Ur:Je.sibling=Ur,Je=Ur,Ne=Ge}if(Ze.done)return o($,Ne),Xe&&Ri($,ze),Ae;if(Ne===null){for(;!Ze.done;ze++,Ze=Q.next())Ze=ce($,Ze.value,oe),Ze!==null&&(H=y(Ze,H,ze),Je===null?Ae=Ze:Je.sibling=Ze,Je=Ze);return Xe&&Ri($,ze),Ae}for(Ne=u(Ne);!Ze.done;ze++,Ze=Q.next())Ze=se(Ne,$,ze,Ze.value,oe),Ze!==null&&(s&&Ze.alternate!==null&&Ne.delete(Ze.key===null?ze:Ze.key),H=y(Ze,H,ze),Je===null?Ae=Ze:Je.sibling=Ze,Je=Ze);return s&&Ne.forEach(function(KR){return r($,KR)}),Xe&&Ri($,ze),Ae}function ct($,H,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:e:{for(var Ae=Q.key;H!==null;){if(H.key===Ae){if(Ae=Q.type,Ae===M){if(H.tag===7){o($,H.sibling),oe=g(H,Q.props.children),oe.return=$,$=oe;break e}}else if(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&Ma(Ae)===H.type){o($,H.sibling),oe=g(H,Q.props),vc(oe,Q),oe.return=$,$=oe;break e}o($,H);break}else r($,H);H=H.sibling}Q.type===M?(oe=Ca(Q.props.children,$.mode,oe,Q.key),oe.return=$,$=oe):(oe=Rd(Q.type,Q.key,Q.props,null,$.mode,oe),vc(oe,Q),oe.return=$,$=oe)}return _($);case R:e:{for(Ae=Q.key;H!==null;){if(H.key===Ae)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){o($,H.sibling),oe=g(H,Q.children||[]),oe.return=$,$=oe;break e}else{o($,H);break}else r($,H);H=H.sibling}oe=Fm(Q,$.mode,oe),oe.return=$,$=oe}return _($);case S:return Q=Ma(Q),ct($,H,Q,oe)}if(je(Q))return _e($,H,Q,oe);if(F(Q)){if(Ae=F(Q),typeof Ae!="function")throw Error(i(150));return Q=Ae.call(Q),Ie($,H,Q,oe)}if(typeof Q.then=="function")return ct($,H,Od(Q),oe);if(Q.$$typeof===q)return ct($,H,Dd($,Q),oe);Ld($,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(o($,H.sibling),oe=g(H,Q),oe.return=$,$=oe):(o($,H),oe=Bm(Q,$.mode,oe),oe.return=$,$=oe),_($)):o($,H)}return function($,H,Q,oe){try{bc=0;var Ae=ct($,H,Q,oe);return Oo=null,Ae}catch(Ne){if(Ne===Vo||Ne===Pd)throw Ne;var Je=Hn(29,Ne,null,$.mode);return Je.lanes=oe,Je.return=$,Je}}}var Va=Kb(!0),Yb=Kb(!1),_r=!1;function ep(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tp(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Tr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Er(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(tt&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Cd(s),jb(s,null,o),r}return Ad(s,u,r,o),Cd(s)}function wc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Yl(s,o)}}function np(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?g=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?g=y=r:y=y.next=r}else g=y=r;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var sp=!1;function _c(){if(sp){var s=Po;if(s!==null)throw s}}function Tc(s,r,o,u){sp=!1;var g=s.updateQueue;_r=!1;var y=g.firstBaseUpdate,_=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var U=k,W=U.next;U.next=null,_===null?y=W:_.next=W,_=U;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,k=ae.lastBaseUpdate,k!==_&&(k===null?ae.firstBaseUpdate=W:k.next=W,ae.lastBaseUpdate=U))}if(y!==null){var ce=g.baseState;_=0,ae=W=U=null,k=y;do{var J=k.lane&-536870913,se=J!==k.lane;if(se?(qe&J)===J:(u&J)===J){J!==0&&J===Mo&&(sp=!0),ae!==null&&(ae=ae.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var _e=s,Ie=k;J=r;var ct=o;switch(Ie.tag){case 1:if(_e=Ie.payload,typeof _e=="function"){ce=_e.call(ct,ce,J);break e}ce=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ie.payload,J=typeof _e=="function"?_e.call(ct,ce,J):_e,J==null)break e;ce=b({},ce,J);break e;case 2:_r=!0}}J=k.callback,J!==null&&(s.flags|=64,se&&(s.flags|=8192),se=g.callbacks,se===null?g.callbacks=[J]:se.push(J))}else se={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ae===null?(W=ae=se,U=ce):ae=ae.next=se,_|=J;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;se=k,k=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);ae===null&&(U=ce),g.baseState=U,g.firstBaseUpdate=W,g.lastBaseUpdate=ae,y===null&&(g.shared.lanes=0),Cr|=_,s.lanes=_,s.memoizedState=ce}}function Xb(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Qb(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Xb(o[s],r)}var Lo=I(null),Ud=I(0);function Wb(s,r){s=Bi,Y(Ud,s),Y(Lo,r),Bi=s|r.baseLanes}function ip(){Y(Ud,Bi),Y(Lo,Lo.current)}function rp(){Bi=Ud.current,G(Lo),G(Ud)}var qn=I(null),os=null;function Sr(s){var r=s.alternate;Y(At,At.current&1),Y(qn,s),os===null&&(r===null||Lo.current!==null||r.memoizedState!==null)&&(os=s)}function ap(s){Y(At,At.current),Y(qn,s),os===null&&(os=s)}function Jb(s){s.tag===22?(Y(At,At.current),Y(qn,s),os===null&&(os=s)):kr()}function kr(){Y(At,At.current),Y(qn,qn.current)}function Gn(s){G(qn),os===s&&(os=null),G(At)}var At=I(0);function zd(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||h0(o)||f0(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Di=0,Ue=null,ot=null,Lt=null,Bd=!1,Uo=!1,Oa=!1,Fd=0,Ec=0,zo=null,OC=0;function _t(){throw Error(i(321))}function op(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Fn(s[o],r[o]))return!1;return!0}function lp(s,r,o,u,g,y){return Di=y,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=s===null||s.memoizedState===null?Pv:Tp,Oa=!1,y=o(u,g),Oa=!1,Uo&&(y=ev(r,o,u,g)),Zb(s),y}function Zb(s){z.H=Nc;var r=ot!==null&&ot.next!==null;if(Di=0,Lt=ot=Ue=null,Bd=!1,Ec=0,zo=null,r)throw Error(i(300));s===null||Ut||(s=s.dependencies,s!==null&&Id(s)&&(Ut=!0))}function ev(s,r,o,u){Ue=s;var g=0;do{if(Uo&&(zo=null),Ec=0,Uo=!1,25<=g)throw Error(i(301));if(g+=1,Lt=ot=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=Vv,y=r(o,u)}while(Uo);return y}function LC(){var s=z.H,r=s.useState()[0];return r=typeof r.then=="function"?Sc(r):r,s=s.useState()[0],(ot!==null?ot.memoizedState:null)!==s&&(Ue.flags|=1024),r}function cp(){var s=Fd!==0;return Fd=0,s}function up(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function dp(s){if(Bd){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Bd=!1}Di=0,Lt=ot=Ue=null,Uo=!1,Ec=Fd=0,zo=null}function Sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ue.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Ct(){if(ot===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=ot.next;var r=Lt===null?Ue.memoizedState:Lt.next;if(r!==null)Lt=r,ot=s;else{if(s===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));ot=s,s={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Lt===null?Ue.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function Hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(s){var r=Ec;return Ec+=1,zo===null&&(zo=[]),s=qb(zo,s,r),r=Ue,(Lt===null?r.memoizedState:Lt.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?Pv:Tp),s}function qd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Sc(s);if(s.$$typeof===q)return ln(s)}throw Error(i(438,String(s)))}function hp(s){var r=null,o=Ue.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Hd(),Ue.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=O;return r.index++,o}function Mi(s,r){return typeof r=="function"?r(s):r}function Gd(s){var r=Ct();return fp(r,ot,s)}function fp(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var g=s.baseQueue,y=u.pending;if(y!==null){if(g!==null){var _=g.next;g.next=y.next,y.next=_}r.baseQueue=g=y,u.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{r=g.next;var k=_=null,U=null,W=r,ae=!1;do{var ce=W.lane&-536870913;if(ce!==W.lane?(qe&ce)===ce:(Di&ce)===ce){var J=W.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ce===Mo&&(ae=!0);else if((Di&J)===J){W=W.next,J===Mo&&(ae=!0);continue}else ce={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(k=U=ce,_=y):U=U.next=ce,Ue.lanes|=J,Cr|=J;ce=W.action,Oa&&o(y,ce),y=W.hasEagerState?W.eagerState:o(y,ce)}else J={lane:ce,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(k=U=J,_=y):U=U.next=J,Ue.lanes|=ce,Cr|=ce;W=W.next}while(W!==null&&W!==r);if(U===null?_=y:U.next=k,!Fn(y,s.memoizedState)&&(Ut=!0,ae&&(o=Po,o!==null)))throw o;s.memoizedState=y,s.baseState=_,s.baseQueue=U,u.lastRenderedState=y}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function mp(s){var r=Ct(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,g=o.pending,y=r.memoizedState;if(g!==null){o.pending=null;var _=g=g.next;do y=s(y,_.action),_=_.next;while(_!==g);Fn(y,r.memoizedState)||(Ut=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function tv(s,r,o){var u=Ue,g=Ct(),y=Xe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!Fn((ot||g).memoizedState,o);if(_&&(g.memoizedState=o,Ut=!0),g=g.queue,yp(iv.bind(null,u,g,s),[s]),g.getSnapshot!==r||_||Lt!==null&&Lt.memoizedState.tag&1){if(u.flags|=2048,Bo(9,{destroy:void 0},sv.bind(null,u,g,o,r),null),ut===null)throw Error(i(349));y||(Di&127)!==0||nv(u,r,o)}return o}function nv(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ue.updateQueue,r===null?(r=Hd(),Ue.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function sv(s,r,o,u){r.value=o,r.getSnapshot=u,rv(r)&&av(s)}function iv(s,r,o){return o(function(){rv(r)&&av(s)})}function rv(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Fn(s,o)}catch{return!0}}function av(s){var r=Aa(s,2);r!==null&&Pn(r,s,2)}function pp(s){var r=Sn();if(typeof s=="function"){var o=s;if(s=o(),Oa){Wn(!0);try{o()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:s},r}function ov(s,r,o,u){return s.baseState=o,fp(s,ot,typeof u=="function"?u:Mi)}function UC(s,r,o,u,g){if(Yd(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};z.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,lv(r,y)):(y.next=o.next,r.pending=o.next=y)}}function lv(s,r){var o=r.action,u=r.payload,g=s.state;if(r.isTransition){var y=z.T,_={};z.T=_;try{var k=o(g,u),U=z.S;U!==null&&U(_,k),cv(s,r,k)}catch(W){gp(s,r,W)}finally{y!==null&&_.types!==null&&(y.types=_.types),z.T=y}}else try{y=o(g,u),cv(s,r,y)}catch(W){gp(s,r,W)}}function cv(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){uv(s,r,u)},function(u){return gp(s,r,u)}):uv(s,r,o)}function uv(s,r,o){r.status="fulfilled",r.value=o,dv(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,lv(s,o)))}function gp(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,dv(r),r=r.next;while(r!==u)}s.action=null}function dv(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function hv(s,r){return r}function fv(s,r){if(Xe){var o=ut.formState;if(o!==null){e:{var u=Ue;if(Xe){if(ft){t:{for(var g=ft,y=as;g.nodeType!==8;){if(!y){g=null;break t}if(g=ls(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ft=ls(g.nextSibling),u=g.data==="F!";break e}}vr(u)}u=!1}u&&(r=o[0])}}return o=Sn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hv,lastRenderedState:r},o.queue=u,o=Iv.bind(null,Ue,u),u.dispatch=o,u=pp(!1),y=_p.bind(null,Ue,!1,u.queue),u=Sn(),g={state:r,dispatch:null,action:s,pending:null},u.queue=g,o=UC.bind(null,Ue,g,y,o),g.dispatch=o,u.memoizedState=s,[r,o,!1]}function mv(s){var r=Ct();return pv(r,ot,s)}function pv(s,r,o){if(r=fp(s,r,hv)[0],s=Gd(Mi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Sc(r)}catch(_){throw _===Vo?Pd:_}else u=r;r=Ct();var g=r.queue,y=g.dispatch;return o!==r.memoizedState&&(Ue.flags|=2048,Bo(9,{destroy:void 0},zC.bind(null,g,o),null)),[u,y,s]}function zC(s,r){s.action=r}function gv(s){var r=Ct(),o=ot;if(o!==null)return pv(r,o,s);Ct(),r=r.memoizedState,o=Ct();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Bo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=Hd(),Ue.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function yv(){return Ct().memoizedState}function $d(s,r,o,u){var g=Sn();Ue.flags|=s,g.memoizedState=Bo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Kd(s,r,o,u){var g=Ct();u=u===void 0?null:u;var y=g.memoizedState.inst;ot!==null&&u!==null&&op(u,ot.memoizedState.deps)?g.memoizedState=Bo(r,y,o,u):(Ue.flags|=s,g.memoizedState=Bo(1|r,y,o,u))}function xv(s,r){$d(8390656,8,s,r)}function yp(s,r){Kd(2048,8,s,r)}function BC(s){Ue.flags|=4;var r=Ue.updateQueue;if(r===null)r=Hd(),Ue.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function bv(s){var r=Ct().memoizedState;return BC({ref:r,nextImpl:s}),function(){if((tt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function vv(s,r){return Kd(4,2,s,r)}function wv(s,r){return Kd(4,4,s,r)}function _v(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Tv(s,r,o){o=o!=null?o.concat([s]):null,Kd(4,4,_v.bind(null,r,s),o)}function xp(){}function Ev(s,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&op(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function Sv(s,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&op(r,u[1]))return u[0];if(u=s(),Oa){Wn(!0);try{s()}finally{Wn(!1)}}return o.memoizedState=[u,r],u}function bp(s,r,o){return o===void 0||(Di&1073741824)!==0&&(qe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=k1(),Ue.lanes|=s,Cr|=s,o)}function kv(s,r,o,u){return Fn(o,r)?o:Lo.current!==null?(s=bp(s,o,u),Fn(s,r)||(Ut=!0),s):(Di&42)===0||(Di&1073741824)!==0&&(qe&261930)===0?(Ut=!0,s.memoizedState=o):(s=k1(),Ue.lanes|=s,Cr|=s,r)}function Nv(s,r,o,u,g){var y=ne.p;ne.p=y!==0&&8>y?y:8;var _=z.T,k={};z.T=k,_p(s,!1,r,o);try{var U=g(),W=z.S;if(W!==null&&W(k,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=VC(U,u);kc(s,r,ae,Yn(s))}else kc(s,r,u,Yn(s))}catch(ce){kc(s,r,{then:function(){},status:"rejected",reason:ce},Yn())}finally{ne.p=y,_!==null&&k.types!==null&&(_.types=k.types),z.T=_}}function FC(){}function vp(s,r,o,u){if(s.tag!==5)throw Error(i(476));var g=Av(s).queue;Nv(s,g,r,Z,o===null?FC:function(){return Cv(s),o(u)})}function Av(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:Z},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Cv(s){var r=Av(s);r.next===null&&(r=s.alternate.memoizedState),kc(s,r.next.queue,{},Yn())}function wp(){return ln(Hc)}function Rv(){return Ct().memoizedState}function jv(){return Ct().memoizedState}function HC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Yn();s=Tr(o);var u=Er(r,s,o);u!==null&&(Pn(u,r,o),wc(u,r,o)),r={cache:Qm()},s.payload=r;return}r=r.return}}function qC(s,r,o){var u=Yn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yd(s)?Dv(r,o):(o=Um(s,r,o,u),o!==null&&(Pn(o,s,u),Mv(o,r,u)))}function Iv(s,r,o){var u=Yn();kc(s,r,o,u)}function kc(s,r,o,u){var g={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yd(s))Dv(r,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,k=y(_,o);if(g.hasEagerState=!0,g.eagerState=k,Fn(k,_))return Ad(s,r,g,0),ut===null&&Nd(),!1}catch{}if(o=Um(s,r,g,u),o!==null)return Pn(o,s,u),Mv(o,r,u),!0}return!1}function _p(s,r,o,u){if(u={lane:2,revertLane:e0(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Yd(s)){if(r)throw Error(i(479))}else r=Um(s,o,u,2),r!==null&&Pn(r,s,2)}function Yd(s){var r=s.alternate;return s===Ue||r!==null&&r===Ue}function Dv(s,r){Uo=Bd=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Mv(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Yl(s,o)}}var Nc={readContext:ln,use:qd,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Nc.useEffectEvent=_t;var Pv={readContext:ln,use:qd,useCallback:function(s,r){return Sn().memoizedState=[s,r===void 0?null:r],s},useContext:ln,useEffect:xv,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,$d(4194308,4,_v.bind(null,r,s),o)},useLayoutEffect:function(s,r){return $d(4194308,4,s,r)},useInsertionEffect:function(s,r){$d(4,2,s,r)},useMemo:function(s,r){var o=Sn();r=r===void 0?null:r;var u=s();if(Oa){Wn(!0);try{s()}finally{Wn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=Sn();if(o!==void 0){var g=o(r);if(Oa){Wn(!0);try{o(r)}finally{Wn(!1)}}}else g=r;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=qC.bind(null,Ue,s),[u.memoizedState,s]},useRef:function(s){var r=Sn();return s={current:s},r.memoizedState=s},useState:function(s){s=pp(s);var r=s.queue,o=Iv.bind(null,Ue,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:xp,useDeferredValue:function(s,r){var o=Sn();return bp(o,s,r)},useTransition:function(){var s=pp(!1);return s=Nv.bind(null,Ue,s.queue,!0,!1),Sn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Ue,g=Sn();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ut===null)throw Error(i(349));(qe&127)!==0||nv(u,r,o)}g.memoizedState=o;var y={value:o,getSnapshot:r};return g.queue=y,xv(iv.bind(null,u,y,s),[s]),u.flags|=2048,Bo(9,{destroy:void 0},sv.bind(null,u,y,o,r),null),o},useId:function(){var s=Sn(),r=ut.identifierPrefix;if(Xe){var o=oi,u=ai;o=(u&~(1<<32-kt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Fd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=OC++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:wp,useFormState:fv,useActionState:fv,useOptimistic:function(s){var r=Sn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=_p.bind(null,Ue,!0,o),o.dispatch=r,[s,r]},useMemoCache:hp,useCacheRefresh:function(){return Sn().memoizedState=HC.bind(null,Ue)},useEffectEvent:function(s){var r=Sn(),o={impl:s};return r.memoizedState=o,function(){if((tt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Tp={readContext:ln,use:qd,useCallback:Ev,useContext:ln,useEffect:yp,useImperativeHandle:Tv,useInsertionEffect:vv,useLayoutEffect:wv,useMemo:Sv,useReducer:Gd,useRef:yv,useState:function(){return Gd(Mi)},useDebugValue:xp,useDeferredValue:function(s,r){var o=Ct();return kv(o,ot.memoizedState,s,r)},useTransition:function(){var s=Gd(Mi)[0],r=Ct().memoizedState;return[typeof s=="boolean"?s:Sc(s),r]},useSyncExternalStore:tv,useId:Rv,useHostTransitionStatus:wp,useFormState:mv,useActionState:mv,useOptimistic:function(s,r){var o=Ct();return ov(o,ot,s,r)},useMemoCache:hp,useCacheRefresh:jv};Tp.useEffectEvent=bv;var Vv={readContext:ln,use:qd,useCallback:Ev,useContext:ln,useEffect:yp,useImperativeHandle:Tv,useInsertionEffect:vv,useLayoutEffect:wv,useMemo:Sv,useReducer:mp,useRef:yv,useState:function(){return mp(Mi)},useDebugValue:xp,useDeferredValue:function(s,r){var o=Ct();return ot===null?bp(o,s,r):kv(o,ot.memoizedState,s,r)},useTransition:function(){var s=mp(Mi)[0],r=Ct().memoizedState;return[typeof s=="boolean"?s:Sc(s),r]},useSyncExternalStore:tv,useId:Rv,useHostTransitionStatus:wp,useFormState:gv,useActionState:gv,useOptimistic:function(s,r){var o=Ct();return ot!==null?ov(o,ot,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:hp,useCacheRefresh:jv};Vv.useEffectEvent=bv;function Ep(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Sp={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Yn(),g=Tr(u);g.payload=r,o!=null&&(g.callback=o),r=Er(s,g,u),r!==null&&(Pn(r,s,u),wc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Yn(),g=Tr(u);g.tag=1,g.payload=r,o!=null&&(g.callback=o),r=Er(s,g,u),r!==null&&(Pn(r,s,u),wc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Yn(),u=Tr(o);u.tag=2,r!=null&&(u.callback=r),r=Er(s,u,o),r!==null&&(Pn(r,s,o),wc(r,s,o))}};function Ov(s,r,o,u,g,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,_):r.prototype&&r.prototype.isPureReactComponent?!fc(o,u)||!fc(g,y):!0}function Lv(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&Sp.enqueueReplaceState(r,r.state,null)}function La(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var g in s)o[g]===void 0&&(o[g]=s[g])}return o}function Uv(s){kd(s)}function zv(s){console.error(s)}function Bv(s){kd(s)}function Xd(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Fv(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function kp(s,r,o){return o=Tr(o),o.tag=3,o.payload={element:null},o.callback=function(){Xd(s,r)},o}function Hv(s){return s=Tr(s),s.tag=3,s}function qv(s,r,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;s.payload=function(){return g(y)},s.callback=function(){Fv(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Fv(r,o,u),typeof g!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function GC(s,r,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Do(r,o,g,!0),o=qn.current,o!==null){switch(o.tag){case 31:case 13:return os===null?oh():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===Vd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Wp(s,u,g)),!1;case 22:return o.flags|=65536,u===Vd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Wp(s,u,g)),!1}throw Error(i(435,o.tag))}return Wp(s,u,g),oh(),!1}if(Xe)return r=qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==Gm&&(s=Error(i(422),{cause:u}),gc(ss(s,o)))):(u!==Gm&&(r=Error(i(423),{cause:u}),gc(ss(r,o))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=ss(u,o),g=kp(s.stateNode,u,g),np(s,g),Tt!==4&&(Tt=2)),!1;var y=Error(i(520),{cause:u});if(y=ss(y,o),Pc===null?Pc=[y]:Pc.push(y),Tt!==4&&(Tt=2),r===null)return!0;u=ss(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=g&-g,o.lanes|=s,s=kp(o.stateNode,u,s),np(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Rr===null||!Rr.has(y))))return o.flags|=65536,g&=-g,o.lanes|=g,g=Hv(g),qv(g,s,o,u),np(o,g),!1}o=o.return}while(o!==null);return!1}var Np=Error(i(461)),Ut=!1;function cn(s,r,o,u){r.child=s===null?Yb(r,null,o,u):Va(r,s.child,o,u)}function Gv(s,r,o,u,g){o=o.render;var y=r.ref;if("ref"in u){var _={};for(var k in u)k!=="ref"&&(_[k]=u[k])}else _=u;return Ia(r),u=lp(s,r,o,_,y,g),k=cp(),s!==null&&!Ut?(up(s,r,g),Pi(s,r,g)):(Xe&&k&&Hm(r),r.flags|=1,cn(s,r,u,g),r.child)}function $v(s,r,o,u,g){if(s===null){var y=o.type;return typeof y=="function"&&!zm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Kv(s,r,y,u,g)):(s=Rd(o.type,null,u,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!Pp(s,g)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:fc,o(_,u)&&s.ref===r.ref)return Pi(s,r,g)}return r.flags|=1,s=Ci(y,u),s.ref=r.ref,s.return=r,r.child=s}function Kv(s,r,o,u,g){if(s!==null){var y=s.memoizedProps;if(fc(y,u)&&s.ref===r.ref)if(Ut=!1,r.pendingProps=u=y,Pp(s,g))(s.flags&131072)!==0&&(Ut=!0);else return r.lanes=s.lanes,Pi(s,r,g)}return Ap(s,r,o,u,g)}function Yv(s,r,o,u){var g=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,r.child=null;return Xv(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Md(r,y!==null?y.cachePool:null),y!==null?Wb(r,y):ip(),Jb(r);else return u=r.lanes=536870912,Xv(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(Md(r,y.cachePool),Wb(r,y),kr(),r.memoizedState=null):(s!==null&&Md(r,null),ip(),kr());return cn(s,r,g,o),r.child}function Ac(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Xv(s,r,o,u,g){var y=Jm();return y=y===null?null:{parent:Ot._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&Md(r,null),ip(),Jb(r),s!==null&&Do(s,r,u,!0),r.childLanes=g,null}function Qd(s,r){return r=Jd({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Qv(s,r,o){return Va(r,s.child,null,o),s=Qd(r,r.pendingProps),s.flags|=2,Gn(r),r.memoizedState=null,s}function $C(s,r,o){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Xe){if(u.mode==="hidden")return s=Qd(r,u),r.lanes=536870912,Ac(null,s);if(ap(r),(s=ft)?(s=lw(s,as),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:xr!==null?{id:ai,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},o=Db(s),o.return=r,r.child=o,on=r,ft=null)):s=null,s===null)throw vr(r);return r.lanes=536870912,null}return Qd(r,u)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(ap(r),g)if(r.flags&256)r.flags&=-257,r=Qv(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ut||Do(s,r,o,!1),g=(o&s.childLanes)!==0,Ut||g){if(u=ut,u!==null&&(_=Xl(u,o),_!==0&&_!==y.retryLane))throw y.retryLane=_,Aa(s,_),Pn(u,s,_),Np;oh(),r=Qv(s,r,o)}else s=y.treeContext,ft=ls(_.nextSibling),on=r,Xe=!0,br=null,as=!1,s!==null&&Vb(r,s),r=Qd(r,u),r.flags|=4096;return r}return s=Ci(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Wd(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Ap(s,r,o,u,g){return Ia(r),o=lp(s,r,o,u,void 0,g),u=cp(),s!==null&&!Ut?(up(s,r,g),Pi(s,r,g)):(Xe&&u&&Hm(r),r.flags|=1,cn(s,r,o,g),r.child)}function Wv(s,r,o,u,g,y){return Ia(r),r.updateQueue=null,o=ev(r,u,o,g),Zb(s),u=cp(),s!==null&&!Ut?(up(s,r,y),Pi(s,r,y)):(Xe&&u&&Hm(r),r.flags|=1,cn(s,r,o,y),r.child)}function Jv(s,r,o,u,g){if(Ia(r),r.stateNode===null){var y=Co,_=o.contextType;typeof _=="object"&&_!==null&&(y=ln(_)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Sp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},ep(r),_=o.contextType,y.context=typeof _=="object"&&_!==null?ln(_):Co,y.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Ep(r,o,_,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Sp.enqueueReplaceState(y,y.state,null),Tc(r,u,y,g),_c(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var k=r.memoizedProps,U=La(o,k);y.props=U;var W=y.context,ae=o.contextType;_=Co,typeof ae=="object"&&ae!==null&&(_=ln(ae));var ce=o.getDerivedStateFromProps;ae=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=r.pendingProps!==k,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||W!==_)&&Lv(r,y,u,_),_r=!1;var J=r.memoizedState;y.state=J,Tc(r,u,y,g),_c(),W=r.memoizedState,k||J!==W||_r?(typeof ce=="function"&&(Ep(r,o,ce,u),W=r.memoizedState),(U=_r||Ov(r,o,U,u,J,W,_))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=W),y.props=u,y.state=W,y.context=_,u=U):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,tp(s,r),_=r.memoizedProps,ae=La(o,_),y.props=ae,ce=r.pendingProps,J=y.context,W=o.contextType,U=Co,typeof W=="object"&&W!==null&&(U=ln(W)),k=o.getDerivedStateFromProps,(W=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==ce||J!==U)&&Lv(r,y,u,U),_r=!1,J=r.memoizedState,y.state=J,Tc(r,u,y,g),_c();var se=r.memoizedState;_!==ce||J!==se||_r||s!==null&&s.dependencies!==null&&Id(s.dependencies)?(typeof k=="function"&&(Ep(r,o,k,u),se=r.memoizedState),(ae=_r||Ov(r,o,ae,u,J,se,U)||s!==null&&s.dependencies!==null&&Id(s.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,se,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,se,U)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=se),y.props=u,y.state=se,y.context=U,u=ae):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Wd(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=Va(r,s.child,null,g),r.child=Va(r,null,o,g)):cn(s,r,o,g),r.memoizedState=y.state,s=r.child):s=Pi(s,r,g),s}function Zv(s,r,o,u){return Ra(),r.flags|=256,cn(s,r,o,u),r.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rp(s){return{baseLanes:s,cachePool:Fb()}}function jp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Kn),s}function e1(s,r,o){var u=r.pendingProps,g=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(At.current&2)!==0),_&&(g=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(Xe){if(g?Sr(r):kr(),(s=ft)?(s=lw(s,as),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:xr!==null?{id:ai,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},o=Db(s),o.return=r,r.child=o,on=r,ft=null)):s=null,s===null)throw vr(r);return f0(s)?r.lanes=32:r.lanes=536870912,null}var k=u.children;return u=u.fallback,g?(kr(),g=r.mode,k=Jd({mode:"hidden",children:k},g),u=Ca(u,g,o,null),k.return=r,u.return=r,k.sibling=u,r.child=k,u=r.child,u.memoizedState=Rp(o),u.childLanes=jp(s,_,o),r.memoizedState=Cp,Ac(null,u)):(Sr(r),Ip(r,k))}var U=s.memoizedState;if(U!==null&&(k=U.dehydrated,k!==null)){if(y)r.flags&256?(Sr(r),r.flags&=-257,r=Dp(s,r,o)):r.memoizedState!==null?(kr(),r.child=s.child,r.flags|=128,r=null):(kr(),k=u.fallback,g=r.mode,u=Jd({mode:"visible",children:u.children},g),k=Ca(k,g,o,null),k.flags|=2,u.return=r,k.return=r,u.sibling=k,r.child=u,Va(r,s.child,null,o),u=r.child,u.memoizedState=Rp(o),u.childLanes=jp(s,_,o),r.memoizedState=Cp,r=Ac(null,u));else if(Sr(r),f0(k)){if(_=k.nextSibling&&k.nextSibling.dataset,_)var W=_.dgst;_=W,u=Error(i(419)),u.stack="",u.digest=_,gc({value:u,source:null,stack:null}),r=Dp(s,r,o)}else if(Ut||Do(s,r,o,!1),_=(o&s.childLanes)!==0,Ut||_){if(_=ut,_!==null&&(u=Xl(_,o),u!==0&&u!==U.retryLane))throw U.retryLane=u,Aa(s,u),Pn(_,s,u),Np;h0(k)||oh(),r=Dp(s,r,o)}else h0(k)?(r.flags|=192,r.child=s.child,r=null):(s=U.treeContext,ft=ls(k.nextSibling),on=r,Xe=!0,br=null,as=!1,s!==null&&Vb(r,s),r=Ip(r,u.children),r.flags|=4096);return r}return g?(kr(),k=u.fallback,g=r.mode,U=s.child,W=U.sibling,u=Ci(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,W!==null?k=Ci(W,k):(k=Ca(k,g,o,null),k.flags|=2),k.return=r,u.return=r,u.sibling=k,r.child=u,Ac(null,u),u=r.child,k=s.child.memoizedState,k===null?k=Rp(o):(g=k.cachePool,g!==null?(U=Ot._currentValue,g=g.parent!==U?{parent:U,pool:U}:g):g=Fb(),k={baseLanes:k.baseLanes|o,cachePool:g}),u.memoizedState=k,u.childLanes=jp(s,_,o),r.memoizedState=Cp,Ac(s.child,u)):(Sr(r),o=s.child,s=o.sibling,o=Ci(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function Ip(s,r){return r=Jd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Jd(s,r){return s=Hn(22,s,null,r),s.lanes=0,s}function Dp(s,r,o){return Va(r,s.child,null,o),s=Ip(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function t1(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Ym(s.return,r,o)}function Mp(s,r,o,u,g,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=g,_.treeForkCount=y)}function n1(s,r,o){var u=r.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var _=At.current,k=(_&2)!==0;if(k?(_=_&1|2,r.flags|=128):_&=1,Y(At,_),cn(s,r,u,o),u=Xe?pc:0,!k&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&t1(s,o,r);else if(s.tag===19)t1(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(o=r.child,g=null;o!==null;)s=o.alternate,s!==null&&zd(s)===null&&(g=o),o=o.sibling;o=g,o===null?(g=r.child,r.child=null):(g=o.sibling,o.sibling=null),Mp(r,!1,g,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&zd(s)===null){r.child=g;break}s=g.sibling,g.sibling=o,o=g,g=s}Mp(r,!0,o,null,y,u);break;case"together":Mp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Pi(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Cr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Do(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ci(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ci(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Pp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Id(s)))}function KC(s,r,o){switch(r.tag){case 3:fe(r,r.stateNode.containerInfo),wr(r,Ot,s.memoizedState.cache),Ra();break;case 27:case 5:We(r);break;case 4:fe(r,r.stateNode.containerInfo);break;case 10:wr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ap(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Sr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?e1(s,r,o):(Sr(r),s=Pi(s,r,o),s!==null?s.sibling:null);Sr(r);break;case 19:var g=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Do(s,r,o,!1),u=(o&r.childLanes)!==0),g){if(u)return n1(s,r,o);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Y(At,At.current),u)break;return null;case 22:return r.lanes=0,Yv(s,r,o,r.pendingProps);case 24:wr(r,Ot,s.memoizedState.cache)}return Pi(s,r,o)}function s1(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ut=!0;else{if(!Pp(s,o)&&(r.flags&128)===0)return Ut=!1,KC(s,r,o);Ut=(s.flags&131072)!==0}else Ut=!1,Xe&&(r.flags&1048576)!==0&&Pb(r,pc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Ma(r.elementType),r.type=s,typeof s=="function")zm(s)?(u=La(s,u),r.tag=1,r=Jv(null,r,s,u,o)):(r.tag=0,r=Ap(null,r,s,u,o));else{if(s!=null){var g=s.$$typeof;if(g===K){r.tag=11,r=Gv(null,r,s,u,o);break e}else if(g===D){r.tag=14,r=$v(null,r,s,u,o);break e}}throw r=Re(s)||s,Error(i(306,r,""))}}return r;case 0:return Ap(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,g=La(u,r.pendingProps),Jv(s,r,u,g,o);case 3:e:{if(fe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;g=y.element,tp(s,r),Tc(r,u,null,o);var _=r.memoizedState;if(u=_.cache,wr(r,Ot,u),u!==y.cache&&Xm(r,[Ot],o,!0),_c(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Zv(s,r,u,o);break e}else if(u!==g){g=ss(Error(i(424)),r),gc(g),r=Zv(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ft=ls(s.firstChild),on=r,Xe=!0,br=null,as=!0,o=Yb(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ra(),u===g){r=Pi(s,r,o);break e}cn(s,r,u,o)}r=r.child}return r;case 26:return Wd(s,r),s===null?(o=mw(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,s=r.pendingProps,u=mh(me.current).createElement(o),u[Mt]=r,u[Jt]=s,un(u,o,s),Pt(u),r.stateNode=u):r.memoizedState=mw(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return We(r),s===null&&Xe&&(u=r.stateNode=dw(r.type,r.pendingProps,me.current),on=r,as=!0,g=ft,Mr(r.type)?(m0=g,ft=ls(u.firstChild)):ft=g),cn(s,r,r.pendingProps.children,o),Wd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Xe&&((g=u=ft)&&(u=TR(u,r.type,r.pendingProps,as),u!==null?(r.stateNode=u,on=r,ft=ls(u.firstChild),as=!1,g=!0):g=!1),g||vr(r)),We(r),g=r.type,y=r.pendingProps,_=s!==null?s.memoizedProps:null,u=y.children,c0(g,y)?u=null:_!==null&&c0(g,_)&&(r.flags|=32),r.memoizedState!==null&&(g=lp(s,r,LC,null,null,o),Hc._currentValue=g),Wd(s,r),cn(s,r,u,o),r.child;case 6:return s===null&&Xe&&((s=o=ft)&&(o=ER(o,r.pendingProps,as),o!==null?(r.stateNode=o,on=r,ft=null,s=!0):s=!1),s||vr(r)),null;case 13:return e1(s,r,o);case 4:return fe(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Va(r,null,u,o):cn(s,r,u,o),r.child;case 11:return Gv(s,r,r.type,r.pendingProps,o);case 7:return cn(s,r,r.pendingProps,o),r.child;case 8:return cn(s,r,r.pendingProps.children,o),r.child;case 12:return cn(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,wr(r,r.type,u.value),cn(s,r,u.children,o),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,Ia(r),g=ln(g),u=u(g),r.flags|=1,cn(s,r,u,o),r.child;case 14:return $v(s,r,r.type,r.pendingProps,o);case 15:return Kv(s,r,r.type,r.pendingProps,o);case 19:return n1(s,r,o);case 31:return $C(s,r,o);case 22:return Yv(s,r,o,r.pendingProps);case 24:return Ia(r),u=ln(Ot),s===null?(g=Jm(),g===null&&(g=ut,y=Qm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=o),g=y),r.memoizedState={parent:u,cache:g},ep(r),wr(r,Ot,g)):((s.lanes&o)!==0&&(tp(s,r),Tc(r,null,null,o),_c()),g=s.memoizedState,y=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),wr(r,Ot,u)):(u=y.cache,wr(r,Ot,u),u!==g.cache&&Xm(r,[Ot],o,!0))),cn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Vi(s){s.flags|=4}function Vp(s,r,o,u,g){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(R1())s.flags|=8192;else throw Pa=Vd,Zm}else s.flags&=-16777217}function i1(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!bw(r))if(R1())s.flags|=8192;else throw Pa=Vd,Zm}function Zd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?rd():536870912,s.lanes|=r,Go|=r)}function Cc(s,r){if(!Xe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function mt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var g=s.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function YC(s,r,o){var u=r.pendingProps;switch(qm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ii(Ot),ke(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Io(r)?Vi(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$m())),mt(r),null;case 26:var g=r.type,y=r.memoizedState;return s===null?(Vi(r),y!==null?(mt(r),i1(r,y)):(mt(r),Vp(r,g,null,u,o))):y?y!==s.memoizedState?(Vi(r),mt(r),i1(r,y)):(mt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Vi(r),mt(r),Vp(r,g,s,u,o)),null;case 27:if(bt(r),o=me.current,g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Vi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return mt(r),null}s=ee.current,Io(r)?Ob(r):(s=dw(g,u,o),r.stateNode=s,Vi(r))}return mt(r),null;case 5:if(bt(r),g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Vi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return mt(r),null}if(y=ee.current,Io(r))Ob(r);else{var _=mh(me.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(g,{is:u.is}):_.createElement(g)}}y[Mt]=r,y[Jt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(un(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Vi(r)}}return mt(r),Vp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Vi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=me.current,Io(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,g=on,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Mt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||ew(s.nodeValue,o)),s||vr(r,!0)}else s=mh(s).createTextNode(u),s[Mt]=r,r.stateNode=s}return mt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Io(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Mt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),s=!1}else o=$m(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Gn(r),r):(Gn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return mt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Io(r),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Mt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),g=!1}else g=$m(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Gn(r),r):(Gn(r),null)}return Gn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Zd(r,r.updateQueue),mt(r),null);case 4:return ke(),s===null&&i0(r.stateNode.containerInfo),mt(r),null;case 10:return Ii(r.type),mt(r),null;case 19:if(G(At),u=r.memoizedState,u===null)return mt(r),null;if(g=(r.flags&128)!==0,y=u.rendering,y===null)if(g)Cc(u,!1);else{if(Tt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=zd(s),y!==null){for(r.flags|=128,Cc(u,!1),s=y.updateQueue,r.updateQueue=s,Zd(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Ib(o,s),o=o.sibling;return Y(At,At.current&1|2),Xe&&Ri(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&Tn()>ih&&(r.flags|=128,g=!0,Cc(u,!1),r.lanes=4194304)}else{if(!g)if(s=zd(y),s!==null){if(r.flags|=128,g=!0,s=s.updateQueue,r.updateQueue=s,Zd(r,s),Cc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Xe)return mt(r),null}else 2*Tn()-u.renderingStartTime>ih&&o!==536870912&&(r.flags|=128,g=!0,Cc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Tn(),s.sibling=null,o=At.current,Y(At,g?o&1|2:o&1),Xe&&Ri(r,u.treeForkCount),s):(mt(r),null);case 22:case 23:return Gn(r),rp(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),o=r.updateQueue,o!==null&&Zd(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&G(Da),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ii(Ot),mt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function XC(s,r){switch(qm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ii(Ot),ke(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return bt(r),null;case 31:if(r.memoizedState!==null){if(Gn(r),r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Gn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return G(At),null;case 4:return ke(),null;case 10:return Ii(r.type),null;case 22:case 23:return Gn(r),rp(),s!==null&&G(Da),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ii(Ot),null;case 25:return null;default:return null}}function r1(s,r){switch(qm(r),r.tag){case 3:Ii(Ot),ke();break;case 26:case 27:case 5:bt(r);break;case 4:ke();break;case 31:r.memoizedState!==null&&Gn(r);break;case 13:Gn(r);break;case 19:G(At);break;case 10:Ii(r.type);break;case 22:case 23:Gn(r),rp(),s!==null&&G(Da);break;case 24:Ii(Ot)}}function Rc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&s)===s){u=void 0;var y=o.create,_=o.inst;u=y(),_.destroy=u}o=o.next}while(o!==g)}}catch(k){rt(r,r.return,k)}}function Nr(s,r,o){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&s)===s){var _=u.inst,k=_.destroy;if(k!==void 0){_.destroy=void 0,g=r;var U=o,W=k;try{W()}catch(ae){rt(g,U,ae)}}}u=u.next}while(u!==y)}}catch(ae){rt(r,r.return,ae)}}function a1(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Qb(r,o)}catch(u){rt(s,s.return,u)}}}function o1(s,r,o){o.props=La(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){rt(s,r,u)}}function jc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(g){rt(s,r,g)}}function li(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){rt(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){rt(s,r,g)}else o.current=null}function l1(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){rt(s,s.return,g)}}function Op(s,r,o){try{var u=s.stateNode;yR(u,s.type,o,r),u[Jt]=r}catch(g){rt(s,s.return,g)}}function c1(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Mr(s.type)||s.tag===4}function Lp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||c1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Mr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Up(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=vs));else if(u!==4&&(u===27&&Mr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Up(s,r,o),s=s.sibling;s!==null;)Up(s,r,o),s=s.sibling}function eh(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Mr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(eh(s,r,o),s=s.sibling;s!==null;)eh(s,r,o),s=s.sibling}function u1(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);un(r,u,o),r[Mt]=s,r[Jt]=o}catch(y){rt(s,s.return,y)}}var Oi=!1,zt=!1,zp=!1,d1=typeof WeakSet=="function"?WeakSet:Set,en=null;function QC(s,r){if(s=s.containerInfo,o0=wh,s=Tb(s),Dm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,k=-1,U=-1,W=0,ae=0,ce=s,J=null;t:for(;;){for(var se;ce!==o||g!==0&&ce.nodeType!==3||(k=_+g),ce!==y||u!==0&&ce.nodeType!==3||(U=_+u),ce.nodeType===3&&(_+=ce.nodeValue.length),(se=ce.firstChild)!==null;)J=ce,ce=se;for(;;){if(ce===s)break t;if(J===o&&++W===g&&(k=_),J===y&&++ae===u&&(U=_),(se=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=se}o=k===-1||U===-1?null:{start:k,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(l0={focusedElem:s,selectionRange:o},wh=!1,en=r;en!==null;)if(r=en,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,en=s;else for(;en!==null;){switch(r=en,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)g=s[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,g=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var _e=La(o.type,g);s=u.getSnapshotBeforeUpdate(_e,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ie){rt(o,o.return,Ie)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)d0(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":d0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,en=s;break}en=r.return}}function h1(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ui(s,o),u&4&&Rc(5,o);break;case 1:if(Ui(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){rt(o,o.return,_)}else{var g=La(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){rt(o,o.return,_)}}u&64&&a1(o),u&512&&jc(o,o.return);break;case 3:if(Ui(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Qb(s,r)}catch(_){rt(o,o.return,_)}}break;case 27:r===null&&u&4&&u1(o);case 26:case 5:Ui(s,o),r===null&&u&4&&l1(o),u&512&&jc(o,o.return);break;case 12:Ui(s,o);break;case 31:Ui(s,o),u&4&&p1(s,o);break;case 13:Ui(s,o),u&4&&g1(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=rR.bind(null,o),SR(s,o))));break;case 22:if(u=o.memoizedState!==null||Oi,!u){r=r!==null&&r.memoizedState!==null||zt,g=Oi;var y=zt;Oi=u,(zt=r)&&!y?zi(s,o,(o.subtreeFlags&8772)!==0):Ui(s,o),Oi=g,zt=y}break;case 30:break;default:Ui(s,o)}}function f1(s){var r=s.alternate;r!==null&&(s.alternate=null,f1(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&po(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var yt=null,jn=!1;function Li(s,r,o){for(o=o.child;o!==null;)m1(s,r,o),o=o.sibling}function m1(s,r,o){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(gs,o)}catch{}switch(o.tag){case 26:zt||li(o,r),Li(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:zt||li(o,r);var u=yt,g=jn;Mr(o.type)&&(yt=o.stateNode,jn=!1),Li(s,r,o),zc(o.stateNode),yt=u,jn=g;break;case 5:zt||li(o,r);case 6:if(u=yt,g=jn,yt=null,Li(s,r,o),yt=u,jn=g,yt!==null)if(jn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(o.stateNode)}catch(y){rt(o,r,y)}else try{yt.removeChild(o.stateNode)}catch(y){rt(o,r,y)}break;case 18:yt!==null&&(jn?(s=yt,aw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Zo(s)):aw(yt,o.stateNode));break;case 4:u=yt,g=jn,yt=o.stateNode.containerInfo,jn=!0,Li(s,r,o),yt=u,jn=g;break;case 0:case 11:case 14:case 15:Nr(2,o,r),zt||Nr(4,o,r),Li(s,r,o);break;case 1:zt||(li(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&o1(o,r,u)),Li(s,r,o);break;case 21:Li(s,r,o);break;case 22:zt=(u=zt)||o.memoizedState!==null,Li(s,r,o),zt=u;break;default:Li(s,r,o)}}function p1(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Zo(s)}catch(o){rt(r,r.return,o)}}}function g1(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Zo(s)}catch(o){rt(r,r.return,o)}}function WC(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new d1),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new d1),r;default:throw Error(i(435,s.tag))}}function th(s,r){var o=WC(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var g=aR.bind(null,s,u);u.then(g,g)}})}function In(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],y=s,_=r,k=_;e:for(;k!==null;){switch(k.tag){case 27:if(Mr(k.type)){yt=k.stateNode,jn=!1;break e}break;case 5:yt=k.stateNode,jn=!1;break e;case 3:case 4:yt=k.stateNode.containerInfo,jn=!0;break e}k=k.return}if(yt===null)throw Error(i(160));m1(y,_,g),yt=null,jn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)y1(r,s),r=r.sibling}var ks=null;function y1(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:In(r,s),Dn(s),u&4&&(Nr(3,s,s.return),Rc(3,s),Nr(5,s,s.return));break;case 1:In(r,s),Dn(s),u&512&&(zt||o===null||li(o,o.return)),u&64&&Oi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=ks;if(In(r,s),Dn(s),u&512&&(zt||o===null||li(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ys]||y[Mt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),un(y,u,o),y[Mt]=s,Pt(y),u=y;break e;case"link":var _=yw("link","href",g).get(u+(o.href||""));if(_){for(var k=0;k<_.length;k++)if(y=_[k],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(k,1);break t}}y=g.createElement(u),un(y,u,o),g.head.appendChild(y);break;case"meta":if(_=yw("meta","content",g).get(u+(o.content||""))){for(k=0;k<_.length;k++)if(y=_[k],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(k,1);break t}}y=g.createElement(u),un(y,u,o),g.head.appendChild(y);break;default:throw Error(i(468,u))}y[Mt]=s,Pt(y),u=y}s.stateNode=u}else xw(g,s.type,s.stateNode);else s.stateNode=gw(g,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?xw(g,s.type,s.stateNode):gw(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Op(s,s.memoizedProps,o.memoizedProps)}break;case 27:In(r,s),Dn(s),u&512&&(zt||o===null||li(o,o.return)),o!==null&&u&4&&Op(s,s.memoizedProps,o.memoizedProps);break;case 5:if(In(r,s),Dn(s),u&512&&(zt||o===null||li(o,o.return)),s.flags&32){g=s.stateNode;try{Rn(g,"")}catch(_e){rt(s,s.return,_e)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Op(s,g,o!==null?o.memoizedProps:g)),u&1024&&(zp=!0);break;case 6:if(In(r,s),Dn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(_e){rt(s,s.return,_e)}}break;case 3:if(yh=null,g=ks,ks=ph(r.containerInfo),In(r,s),ks=g,Dn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Zo(r.containerInfo)}catch(_e){rt(s,s.return,_e)}zp&&(zp=!1,x1(s));break;case 4:u=ks,ks=ph(s.stateNode.containerInfo),In(r,s),Dn(s),ks=u;break;case 12:In(r,s),Dn(s);break;case 31:In(r,s),Dn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,th(s,u)));break;case 13:In(r,s),Dn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(sh=Tn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,th(s,u)));break;case 22:g=s.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,W=Oi,ae=zt;if(Oi=W||g,zt=ae||U,In(r,s),zt=ae,Oi=W,Dn(s),u&8192)e:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(o===null||U||Oi||zt||Ua(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(y=U.stateNode,g)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{k=U.stateNode;var ce=U.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(_e){rt(U,U.return,_e)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=g?"":U.memoizedProps}catch(_e){rt(U,U.return,_e)}}}else if(r.tag===18){if(o===null){U=r;try{var se=U.stateNode;g?ow(se,!0):ow(U.stateNode,!1)}catch(_e){rt(U,U.return,_e)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,th(s,o))));break;case 19:In(r,s),Dn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,th(s,u)));break;case 30:break;case 21:break;default:In(r,s),Dn(s)}}function Dn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(c1(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var g=o.stateNode,y=Lp(s);eh(s,y,g);break;case 5:var _=o.stateNode;o.flags&32&&(Rn(_,""),o.flags&=-33);var k=Lp(s);eh(s,k,_);break;case 3:case 4:var U=o.stateNode.containerInfo,W=Lp(s);Up(s,W,U);break;default:throw Error(i(161))}}catch(ae){rt(s,s.return,ae)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function x1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;x1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ui(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h1(s,r.alternate,r),r=r.sibling}function Ua(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Nr(4,r,r.return),Ua(r);break;case 1:li(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&o1(r,r.return,o),Ua(r);break;case 27:zc(r.stateNode);case 26:case 5:li(r,r.return),Ua(r);break;case 22:r.memoizedState===null&&Ua(r);break;case 30:Ua(r);break;default:Ua(r)}s=s.sibling}}function zi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=s,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:zi(g,y,o),Rc(4,y);break;case 1:if(zi(g,y,o),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(W){rt(u,u.return,W)}if(u=y,g=u.updateQueue,g!==null){var k=u.stateNode;try{var U=g.shared.hiddenCallbacks;if(U!==null)for(g.shared.hiddenCallbacks=null,g=0;g<U.length;g++)Xb(U[g],k)}catch(W){rt(u,u.return,W)}}o&&_&64&&a1(y),jc(y,y.return);break;case 27:u1(y);case 26:case 5:zi(g,y,o),o&&u===null&&_&4&&l1(y),jc(y,y.return);break;case 12:zi(g,y,o);break;case 31:zi(g,y,o),o&&_&4&&p1(g,y);break;case 13:zi(g,y,o),o&&_&4&&g1(g,y);break;case 22:y.memoizedState===null&&zi(g,y,o),jc(y,y.return);break;case 30:break;default:zi(g,y,o)}r=r.sibling}}function Bp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&yc(o))}function Fp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&yc(s))}function Ns(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b1(s,r,o,u),r=r.sibling}function b1(s,r,o,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Ns(s,r,o,u),g&2048&&Rc(9,r);break;case 1:Ns(s,r,o,u);break;case 3:Ns(s,r,o,u),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&yc(s)));break;case 12:if(g&2048){Ns(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,_=y.id,k=y.onPostCommit;typeof k=="function"&&k(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){rt(r,r.return,U)}}else Ns(s,r,o,u);break;case 31:Ns(s,r,o,u);break;case 13:Ns(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?Ns(s,r,o,u):Ic(s,r):y._visibility&2?Ns(s,r,o,u):(y._visibility|=2,Fo(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Bp(_,r);break;case 24:Ns(s,r,o,u),g&2048&&Fp(r.alternate,r);break;default:Ns(s,r,o,u)}}function Fo(s,r,o,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,_=r,k=o,U=u,W=_.flags;switch(_.tag){case 0:case 11:case 15:Fo(y,_,k,U,g),Rc(8,_);break;case 23:break;case 22:var ae=_.stateNode;_.memoizedState!==null?ae._visibility&2?Fo(y,_,k,U,g):Ic(y,_):(ae._visibility|=2,Fo(y,_,k,U,g)),g&&W&2048&&Bp(_.alternate,_);break;case 24:Fo(y,_,k,U,g),g&&W&2048&&Fp(_.alternate,_);break;default:Fo(y,_,k,U,g)}r=r.sibling}}function Ic(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,g=u.flags;switch(u.tag){case 22:Ic(o,u),g&2048&&Bp(u.alternate,u);break;case 24:Ic(o,u),g&2048&&Fp(u.alternate,u);break;default:Ic(o,u)}r=r.sibling}}var Dc=8192;function Ho(s,r,o){if(s.subtreeFlags&Dc)for(s=s.child;s!==null;)v1(s,r,o),s=s.sibling}function v1(s,r,o){switch(s.tag){case 26:Ho(s,r,o),s.flags&Dc&&s.memoizedState!==null&&OR(o,ks,s.memoizedState,s.memoizedProps);break;case 5:Ho(s,r,o);break;case 3:case 4:var u=ks;ks=ph(s.stateNode.containerInfo),Ho(s,r,o),ks=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Dc,Dc=16777216,Ho(s,r,o),Dc=u):Ho(s,r,o));break;default:Ho(s,r,o)}}function w1(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Mc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];en=u,T1(u,s)}w1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_1(s),s=s.sibling}function _1(s){switch(s.tag){case 0:case 11:case 15:Mc(s),s.flags&2048&&Nr(9,s,s.return);break;case 3:Mc(s);break;case 12:Mc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,nh(s)):Mc(s);break;default:Mc(s)}}function nh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];en=u,T1(u,s)}w1(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Nr(8,r,r.return),nh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,nh(r));break;default:nh(r)}s=s.sibling}}function T1(s,r){for(;en!==null;){var o=en;switch(o.tag){case 0:case 11:case 15:Nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,en=u;else e:for(o=s;en!==null;){u=en;var g=u.sibling,y=u.return;if(f1(u),u===o){en=null;break e}if(g!==null){g.return=y,en=g;break e}en=y}}}var JC={getCacheForType:function(s){var r=ln(Ot),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return ln(Ot).controller.signal}},ZC=typeof WeakMap=="function"?WeakMap:Map,tt=0,ut=null,Fe=null,qe=0,it=0,$n=null,Ar=!1,qo=!1,Hp=!1,Bi=0,Tt=0,Cr=0,za=0,qp=0,Kn=0,Go=0,Pc=null,Mn=null,Gp=!1,sh=0,E1=0,ih=1/0,rh=null,Rr=null,Kt=0,jr=null,$o=null,Fi=0,$p=0,Kp=null,S1=null,Vc=0,Yp=null;function Yn(){return(tt&2)!==0&&qe!==0?qe&-qe:z.T!==null?e0():ad()}function k1(){if(Kn===0)if((qe&536870912)===0||Xe){var s=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),Kn=s}else Kn=536870912;return s=qn.current,s!==null&&(s.flags|=32),Kn}function Pn(s,r,o){(s===ut&&(it===2||it===9)||s.cancelPendingCommit!==null)&&(Ko(s,0),Ir(s,qe,Kn,!1)),ma(s,o),((tt&2)===0||s!==ut)&&(s===ut&&((tt&2)===0&&(za|=o),Tt===4&&Ir(s,qe,Kn,!1)),ci(s))}function N1(s,r,o){if((tt&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ys(s,r),g=u?nR(s,r):Qp(s,r,!0),y=u;do{if(g===0){qo&&!u&&Ir(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!eR(o)){g=Qp(s,r,!1),y=!1;continue}if(g===2){if(y=r,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var k=s;g=Pc;var U=k.current.memoizedState.isDehydrated;if(U&&(Ko(k,_).flags|=256),_=Qp(k,_,!1),_!==2){if(Hp&&!U){k.errorRecoveryDisabledLanes|=y,za|=y,g=4;break e}y=Mn,Mn=g,y!==null&&(Mn===null?Mn=y:Mn.push.apply(Mn,y))}g=_}if(y=!1,g!==2)continue}}if(g===1){Ko(s,0),Ir(s,r,0,!0);break}e:{switch(u=s,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ir(u,r,Kn,!Ar);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=sh+300-Tn(),10<g)){if(Ir(u,r,Kn,!Ar),Gs(u,0,!0)!==0)break e;Fi=r,u.timeoutHandle=iw(A1.bind(null,u,o,Mn,rh,Gp,r,Kn,za,Go,Ar,y,"Throttled",-0,0),g);break e}A1(u,o,Mn,rh,Gp,r,Kn,za,Go,Ar,y,null,-0,0)}}break}while(!0);ci(s)}function A1(s,r,o,u,g,y,_,k,U,W,ae,ce,J,se){if(s.timeoutHandle=-1,ce=r.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vs},v1(r,y,ce);var _e=(y&62914560)===y?sh-Tn():(y&4194048)===y?E1-Tn():0;if(_e=LR(ce,_e),_e!==null){Fi=y,s.cancelPendingCommit=_e(V1.bind(null,s,r,y,o,u,g,_,k,U,ae,ce,null,J,se)),Ir(s,y,_,!W);return}}V1(s,r,y,o,u,g,_,k,U)}function eR(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],y=g.getSnapshot;g=g.value;try{if(!Fn(y(),g))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ir(s,r,o,u){r&=~qp,r&=~za,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var g=r;0<g;){var y=31-kt(g),_=1<<y;u[y]=-1,g&=~_}o!==0&&pa(s,o,r)}function ah(){return(tt&6)===0?(Oc(0),!1):!0}function Xp(){if(Fe!==null){if(it===0)var s=Fe.return;else s=Fe,ji=ja=null,dp(s),Oo=null,bc=0,s=Fe;for(;s!==null;)r1(s.alternate,s),s=s.return;Fe=null}}function Ko(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,vR(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Fi=0,Xp(),ut=s,Fe=o=Ci(s.current,null),qe=r,it=0,$n=null,Ar=!1,qo=ys(s,r),Hp=!1,Go=Kn=qp=za=Cr=Tt=0,Mn=Pc=null,Gp=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var g=31-kt(u),y=1<<g;r|=s[g],u&=~y}return Bi=r,Nd(),o}function C1(s,r){Ue=null,z.H=Nc,r===Vo||r===Pd?(r=Gb(),it=3):r===Zm?(r=Gb(),it=4):it=r===Np?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$n=r,Fe===null&&(Tt=1,Xd(s,ss(r,s.current)))}function R1(){var s=qn.current;return s===null?!0:(qe&4194048)===qe?os===null:(qe&62914560)===qe||(qe&536870912)!==0?s===os:!1}function j1(){var s=z.H;return z.H=Nc,s===null?Nc:s}function I1(){var s=z.A;return z.A=JC,s}function oh(){Tt=4,Ar||(qe&4194048)!==qe&&qn.current!==null||(qo=!0),(Cr&134217727)===0&&(za&134217727)===0||ut===null||Ir(ut,qe,Kn,!1)}function Qp(s,r,o){var u=tt;tt|=2;var g=j1(),y=I1();(ut!==s||qe!==r)&&(rh=null,Ko(s,r)),r=!1;var _=Tt;e:do try{if(it!==0&&Fe!==null){var k=Fe,U=$n;switch(it){case 8:Xp(),_=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(r=!0);var W=it;if(it=0,$n=null,Yo(s,k,U,W),o&&qo){_=0;break e}break;default:W=it,it=0,$n=null,Yo(s,k,U,W)}}tR(),_=Tt;break}catch(ae){C1(s,ae)}while(!0);return r&&s.shellSuspendCounter++,ji=ja=null,tt=u,z.H=g,z.A=y,Fe===null&&(ut=null,qe=0,Nd()),_}function tR(){for(;Fe!==null;)D1(Fe)}function nR(s,r){var o=tt;tt|=2;var u=j1(),g=I1();ut!==s||qe!==r?(rh=null,ih=Tn()+500,Ko(s,r)):qo=ys(s,r);e:do try{if(it!==0&&Fe!==null){r=Fe;var y=$n;t:switch(it){case 1:it=0,$n=null,Yo(s,r,y,1);break;case 2:case 9:if(Hb(y)){it=0,$n=null,M1(r);break}r=function(){it!==2&&it!==9||ut!==s||(it=7),ci(s)},y.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Hb(y)?(it=0,$n=null,M1(r)):(it=0,$n=null,Yo(s,r,y,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var k=Fe;if(_?bw(_):k.stateNode.complete){it=0,$n=null;var U=k.sibling;if(U!==null)Fe=U;else{var W=k.return;W!==null?(Fe=W,lh(W)):Fe=null}break t}}it=0,$n=null,Yo(s,r,y,5);break;case 6:it=0,$n=null,Yo(s,r,y,6);break;case 8:Xp(),Tt=6;break e;default:throw Error(i(462))}}sR();break}catch(ae){C1(s,ae)}while(!0);return ji=ja=null,z.H=u,z.A=g,tt=o,Fe!==null?0:(ut=null,qe=0,Nd(),Tt)}function sR(){for(;Fe!==null&&!km();)D1(Fe)}function D1(s){var r=s1(s.alternate,s,Bi);s.memoizedProps=s.pendingProps,r===null?lh(s):Fe=r}function M1(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Wv(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Wv(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:dp(r);default:r1(o,r),r=Fe=Ib(r,Bi),r=s1(o,r,Bi)}s.memoizedProps=s.pendingProps,r===null?lh(s):Fe=r}function Yo(s,r,o,u){ji=ja=null,dp(r),Oo=null,bc=0;var g=r.return;try{if(GC(s,g,r,o,qe)){Tt=1,Xd(s,ss(o,s.current)),Fe=null;return}}catch(y){if(g!==null)throw Fe=g,y;Tt=1,Xd(s,ss(o,s.current)),Fe=null;return}r.flags&32768?(Xe||u===1?s=!0:qo||(qe&536870912)!==0?s=!1:(Ar=s=!0,(u===2||u===9||u===3||u===6)&&(u=qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),P1(r,s)):lh(r)}function lh(s){var r=s;do{if((r.flags&32768)!==0){P1(r,Ar);return}s=r.return;var o=YC(r.alternate,r,Bi);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);Tt===0&&(Tt=5)}function P1(s,r){do{var o=XC(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);Tt=6,Fe=null}function V1(s,r,o,u,g,y,_,k,U){s.cancelPendingCommit=null;do ch();while(Kt!==0);if((tt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=Lm,Cm(s,o,y,_,k,U),s===ut&&(Fe=ut=null,qe=0),$o=r,jr=s,Fi=o,$p=y,Kp=g,S1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,oR(lr,function(){return B1(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,g=ne.p,ne.p=2,_=tt,tt|=4;try{QC(s,r,o)}finally{tt=_,ne.p=g,z.T=u}}Kt=1,O1(),L1(),U1()}}function O1(){if(Kt===1){Kt=0;var s=jr,r=$o,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=z.T,z.T=null;var u=ne.p;ne.p=2;var g=tt;tt|=4;try{y1(r,s);var y=l0,_=Tb(s.containerInfo),k=y.focusedElem,U=y.selectionRange;if(_!==k&&k&&k.ownerDocument&&_b(k.ownerDocument.documentElement,k)){if(U!==null&&Dm(k)){var W=U.start,ae=U.end;if(ae===void 0&&(ae=W),"selectionStart"in k)k.selectionStart=W,k.selectionEnd=Math.min(ae,k.value.length);else{var ce=k.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var se=J.getSelection(),_e=k.textContent.length,Ie=Math.min(U.start,_e),ct=U.end===void 0?Ie:Math.min(U.end,_e);!se.extend&&Ie>ct&&(_=ct,ct=Ie,Ie=_);var $=wb(k,Ie),H=wb(k,ct);if($&&H&&(se.rangeCount!==1||se.anchorNode!==$.node||se.anchorOffset!==$.offset||se.focusNode!==H.node||se.focusOffset!==H.offset)){var Q=ce.createRange();Q.setStart($.node,$.offset),se.removeAllRanges(),Ie>ct?(se.addRange(Q),se.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),se.addRange(Q))}}}}for(ce=[],se=k;se=se.parentNode;)se.nodeType===1&&ce.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ce.length;k++){var oe=ce[k];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}wh=!!o0,l0=o0=null}finally{tt=g,ne.p=u,z.T=o}}s.current=r,Kt=2}}function L1(){if(Kt===2){Kt=0;var s=jr,r=$o,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=z.T,z.T=null;var u=ne.p;ne.p=2;var g=tt;tt|=4;try{h1(s,r.alternate,r)}finally{tt=g,ne.p=u,z.T=o}}Kt=3}}function U1(){if(Kt===4||Kt===3){Kt=0,Zu();var s=jr,r=$o,o=Fi,u=S1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,$o=jr=null,z1(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Rr=null),Si(o),r=r.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(gs,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=z.T,g=ne.p,ne.p=2,z.T=null;try{for(var y=s.onRecoverableError,_=0;_<u.length;_++){var k=u[_];y(k.value,{componentStack:k.stack})}}finally{z.T=r,ne.p=g}}(Fi&3)!==0&&ch(),ci(s),g=s.pendingLanes,(o&261930)!==0&&(g&42)!==0?s===Yp?Vc++:(Vc=0,Yp=s):Vc=0,Oc(0)}}function z1(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,yc(r)))}function ch(){return O1(),L1(),U1(),B1()}function B1(){if(Kt!==5)return!1;var s=jr,r=$p;$p=0;var o=Si(Fi),u=z.T,g=ne.p;try{ne.p=32>o?32:o,z.T=null,o=Kp,Kp=null;var y=jr,_=Fi;if(Kt=0,$o=jr=null,Fi=0,(tt&6)!==0)throw Error(i(331));var k=tt;if(tt|=4,_1(y.current),b1(y,y.current,_,o),tt=k,Oc(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(gs,y)}catch{}return!0}finally{ne.p=g,z.T=u,z1(s,r)}}function F1(s,r,o){r=ss(o,r),r=kp(s.stateNode,r,2),s=Er(s,r,2),s!==null&&(ma(s,2),ci(s))}function rt(s,r,o){if(s.tag===3)F1(s,s,o);else for(;r!==null;){if(r.tag===3){F1(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Rr===null||!Rr.has(u))){s=ss(o,s),o=Hv(2),u=Er(r,o,2),u!==null&&(qv(o,u,r,s),ma(u,2),ci(u));break}}r=r.return}}function Wp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new ZC;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(o)||(Hp=!0,g.add(o),s=iR.bind(null,s,r,o),r.then(s,s))}function iR(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ut===s&&(qe&o)===o&&(Tt===4||Tt===3&&(qe&62914560)===qe&&300>Tn()-sh?(tt&2)===0&&Ko(s,0):qp|=o,Go===qe&&(Go=0)),ci(s)}function H1(s,r){r===0&&(r=rd()),s=Aa(s,r),s!==null&&(ma(s,r),ci(s))}function rR(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),H1(s,o)}function aR(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),H1(s,o)}function oR(s,r){return $t(s,r)}var uh=null,Xo=null,Jp=!1,dh=!1,Zp=!1,Dr=0;function ci(s){s!==Xo&&s.next===null&&(Xo===null?uh=Xo=s:Xo=Xo.next=s),dh=!0,Jp||(Jp=!0,cR())}function Oc(s,r){if(!Zp&&dh){Zp=!0;do for(var o=!1,u=uh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var _=u.suspendedLanes,k=u.pingedLanes;y=(1<<31-kt(42|s)+1)-1,y&=g&~(_&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,K1(u,y))}else y=qe,y=Gs(u,u===ut?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ys(u,y)||(o=!0,K1(u,y));u=u.next}while(o);Zp=!1}}function lR(){q1()}function q1(){dh=Jp=!1;var s=0;Dr!==0&&bR()&&(s=Dr);for(var r=Tn(),o=null,u=uh;u!==null;){var g=u.next,y=G1(u,r);y===0?(u.next=null,o===null?uh=g:o.next=g,g===null&&(Xo=o)):(o=u,(s!==0||(y&3)!==0)&&(dh=!0)),u=g}Kt!==0&&Kt!==5||Oc(s),Dr!==0&&(Dr=0)}function G1(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-kt(y),k=1<<_,U=g[_];U===-1?((k&o)===0||(k&u)!==0)&&(g[_]=Am(k,r)):U<=r&&(s.expiredLanes|=k),y&=~k}if(r=ut,o=qe,o=Gs(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(it===2||it===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&or(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ys(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&or(u),Si(o)){case 2:case 8:o=Kl;break;case 32:o=lr;break;case 268435456:o=ed;break;default:o=lr}return u=$1.bind(null,s),o=$t(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&or(u),s.callbackPriority=2,s.callbackNode=null,2}function $1(s,r){if(Kt!==0&&Kt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(ch()&&s.callbackNode!==o)return null;var u=qe;return u=Gs(s,s===ut?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(N1(s,u,r),G1(s,Tn()),s.callbackNode!=null&&s.callbackNode===o?$1.bind(null,s):null)}function K1(s,r){if(ch())return null;N1(s,r,!0)}function cR(){wR(function(){(tt&6)!==0?$t($l,lR):q1()})}function e0(){if(Dr===0){var s=Mo;s===0&&(s=Hs,Hs<<=1,(Hs&261888)===0&&(Hs=256)),Dr=s}return Dr}function Y1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:bo(""+s)}function X1(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function uR(s,r,o,u,g){if(r==="submit"&&o&&o.stateNode===g){var y=Y1((g[Jt]||null).action),_=u.submitter;_&&(r=(r=_[Jt]||null)?Y1(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var k=new ni("action","action",null,u,g);s.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Dr!==0){var U=_?X1(g,_):new FormData(g);vp(o,{pending:!0,data:U,method:g.method,action:y},null,U)}}else typeof y=="function"&&(k.preventDefault(),U=_?X1(g,_):new FormData(g),vp(o,{pending:!0,data:U,method:g.method,action:y},y,U))},currentTarget:g}]})}}for(var t0=0;t0<Om.length;t0++){var n0=Om[t0],dR=n0.toLowerCase(),hR=n0[0].toUpperCase()+n0.slice(1);Ss(dR,"on"+hR)}Ss(kb,"onAnimationEnd"),Ss(Nb,"onAnimationIteration"),Ss(Ab,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(AC,"onTransitionRun"),Ss(CC,"onTransitionStart"),Ss(RC,"onTransitionCancel"),Ss(Cb,"onTransitionEnd"),Js("onMouseEnter",["mouseout","mouseover"]),Js("onMouseLeave",["mouseout","mouseover"]),Js("onPointerEnter",["pointerout","pointerover"]),Js("onPointerLeave",["pointerout","pointerover"]),Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function Q1(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],g=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var _=u.length-1;0<=_;_--){var k=u[_],U=k.instance,W=k.currentTarget;if(k=k.listener,U!==y&&g.isPropagationStopped())break e;y=k,g.currentTarget=W;try{y(g)}catch(ae){kd(ae)}g.currentTarget=null,y=U}else for(_=0;_<u.length;_++){if(k=u[_],U=k.instance,W=k.currentTarget,k=k.listener,U!==y&&g.isPropagationStopped())break e;y=k,g.currentTarget=W;try{y(g)}catch(ae){kd(ae)}g.currentTarget=null,y=U}}}}function He(s,r){var o=r[mo];o===void 0&&(o=r[mo]=new Set);var u=s+"__bubble";o.has(u)||(W1(r,s,2,!1),o.add(u))}function s0(s,r,o){var u=0;r&&(u|=4),W1(o,s,u,r)}var hh="_reactListening"+Math.random().toString(36).slice(2);function i0(s){if(!s[hh]){s[hh]=!0,Ql.forEach(function(o){o!=="selectionchange"&&(fR.has(o)||s0(o,!1,s),s0(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[hh]||(r[hh]=!0,s0("selectionchange",!1,r))}}function W1(s,r,o,u){switch(kw(r)){case 2:var g=BR;break;case 8:g=FR;break;default:g=b0}o=g.bind(null,r,o,s),g=void 0,!va||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(r,o,{capture:!0,passive:g}):s.addEventListener(r,o,!0):g!==void 0?s.addEventListener(r,o,{passive:g}):s.addEventListener(r,o,!1)}function r0(s,r,o,u,g){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var k=u.stateNode.containerInfo;if(k===g)break;if(_===4)for(_=u.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;k!==null;){if(_=Xs(k),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){u=y=_;continue e}k=k.parentNode}}u=u.return}mr(function(){var W=y,ae=Zn(o),ce=[];e:{var J=Rb.get(s);if(J!==void 0){var se=ni,_e=s;switch(s){case"keypress":if(_a(o)===0)break e;case"keydown":case"keyup":se=Td;break;case"focusin":_e="focus",se=Ea;break;case"focusout":_e="blur",se=Ea;break;case"beforeblur":case"afterblur":se=Ea;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=v;break;case kb:case Nb:case Ab:se=gd;break;case Cb:se=C;break;case"scroll":case"scrollend":se=lc;break;case"wheel":se=te;break;case"copy":case"cut":case"paste":se=yd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Ai;break;case"toggle":case"beforetoggle":se=Le}var Ie=(r&4)!==0,ct=!Ie&&(s==="scroll"||s==="scrollend"),$=Ie?J!==null?J+"Capture":null:J;Ie=[];for(var H=W,Q;H!==null;){var oe=H;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||$===null||(oe=ws(H,$),oe!=null&&Ie.push(Uc(H,oe,Q))),ct)break;H=H.return}0<Ie.length&&(J=new se(J,_e,null,o,ae),ce.push({event:J,listeners:Ie}))}}if((r&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",se=s==="mouseout"||s==="pointerout",J&&o!==rc&&(_e=o.relatedTarget||o.fromElement)&&(Xs(_e)||_e[Ks]))break e;if((se||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,se?(_e=o.relatedTarget||o.toElement,se=W,_e=_e?Xs(_e):null,_e!==null&&(ct=l(_e),Ie=_e.tag,_e!==ct||Ie!==5&&Ie!==27&&Ie!==6)&&(_e=null)):(se=null,_e=W),se!==_e)){if(Ie=cc,oe="onMouseLeave",$="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=Ai,oe="onPointerLeave",$="onPointerEnter",H="pointer"),ct=se==null?J:zn(se),Q=_e==null?J:zn(_e),J=new Ie(oe,H+"leave",se,o,ae),J.target=ct,J.relatedTarget=Q,oe=null,Xs(ae)===W&&(Ie=new Ie($,H+"enter",_e,o,ae),Ie.target=Q,Ie.relatedTarget=ct,oe=Ie),ct=oe,se&&_e)t:{for(Ie=mR,$=se,H=_e,Q=0,oe=$;oe;oe=Ie(oe))Q++;oe=0;for(var Ae=H;Ae;Ae=Ie(Ae))oe++;for(;0<Q-oe;)$=Ie($),Q--;for(;0<oe-Q;)H=Ie(H),oe--;for(;Q--;){if($===H||H!==null&&$===H.alternate){Ie=$;break t}$=Ie($),H=Ie(H)}Ie=null}else Ie=null;se!==null&&J1(ce,J,se,Ie,!1),_e!==null&&ct!==null&&J1(ce,ct,_e,Ie,!0)}}e:{if(J=W?zn(W):window,se=J.nodeName&&J.nodeName.toLowerCase(),se==="select"||se==="input"&&J.type==="file")var Je=pb;else if(fb(J))if(gb)Je=SC;else{Je=TC;var Ne=_C}else se=J.nodeName,!se||se.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&xo(W.elementType)&&(Je=pb):Je=EC;if(Je&&(Je=Je(s,W))){mb(ce,Je,o,ae);break e}Ne&&Ne(s,J,W),s==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&nc(J,"number",J.value)}switch(Ne=W?zn(W):window,s){case"focusin":(fb(Ne)||Ne.contentEditable==="true")&&(ko=Ne,Mm=W,mc=null);break;case"focusout":mc=Mm=ko=null;break;case"mousedown":Pm=!0;break;case"contextmenu":case"mouseup":case"dragend":Pm=!1,Eb(ce,o,ae);break;case"selectionchange":if(NC)break;case"keydown":case"keyup":Eb(ce,o,ae)}var ze;if(et)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else So?Sa(s,o)&&(Ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(ri&&o.locale!=="ko"&&(So||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&So&&(ze=oc()):(ti=ae,ac="value"in ti?ti.value:ti.textContent,So=!0)),Ne=fh(W,Ge),0<Ne.length&&(Ge=new ii(Ge,s,null,o,ae),ce.push({event:Ge,listeners:Ne}),ze?Ge.data=ze:(ze=Eo(o),ze!==null&&(Ge.data=ze)))),(ze=ts?xC(s,o):bC(s,o))&&(Ge=fh(W,"onBeforeInput"),0<Ge.length&&(Ne=new ii("onBeforeInput","beforeinput",null,o,ae),ce.push({event:Ne,listeners:Ge}),Ne.data=ze)),uR(ce,s,W,o,ae)}Q1(ce,r)})}function Uc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function fh(s,r){for(var o=r+"Capture",u=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ws(s,o),g!=null&&u.unshift(Uc(s,g,y)),g=ws(s,r),g!=null&&u.push(Uc(s,g,y))),s.tag===3)return u;s=s.return}return[]}function mR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function J1(s,r,o,u,g){for(var y=r._reactName,_=[];o!==null&&o!==u;){var k=o,U=k.alternate,W=k.stateNode;if(k=k.tag,U!==null&&U===u)break;k!==5&&k!==26&&k!==27||W===null||(U=W,g?(W=ws(o,y),W!=null&&_.unshift(Uc(o,W,U))):g||(W=ws(o,y),W!=null&&_.push(Uc(o,W,U)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var pR=/\r\n?/g,gR=/\u0000|\uFFFD/g;function Z1(s){return(typeof s=="string"?s:""+s).replace(pR,`
`).replace(gR,"")}function ew(s,r){return r=Z1(r),Z1(s)===r}function lt(s,r,o,u,g,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Rn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Rn(s,""+u);break;case"className":Bn(s,"class",u);break;case"tabIndex":Bn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(s,o,u);break;case"style":ic(s,u,y);break;case"data":if(r!=="object"){Bn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=bo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&lt(s,r,"name",g.name,g,null),lt(s,r,"formEncType",g.formEncType,g,null),lt(s,r,"formMethod",g.formMethod,g,null),lt(s,r,"formTarget",g.formTarget,g,null)):(lt(s,r,"encType",g.encType,g,null),lt(s,r,"method",g.method,g,null),lt(s,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=bo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=vs);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=bo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":He("beforetoggle",s),He("toggle",s),go(s,"popover",u);break;case"xlinkActuate":Vt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":go(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=fd.get(o)||o,go(s,o,u))}}function a0(s,r,o,u,g,y){switch(o){case"style":ic(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Rn(s,u):(typeof u=="number"||typeof u=="bigint")&&Rn(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),r=o.slice(2,g?o.length-7:void 0),y=s[Jt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,g);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):go(s,o,u)}}}function un(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,g=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:lt(s,r,y,_,o,null)}}g&&lt(s,r,"srcSet",o.srcSet,o,null),u&&lt(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var k=y=_=g=null,U=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ae=o[u];if(ae!=null)switch(u){case"name":g=ae;break;case"type":_=ae;break;case"checked":U=ae;break;case"defaultChecked":W=ae;break;case"value":y=ae;break;case"defaultValue":k=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,r));break;default:lt(s,r,u,ae,o,null)}}ud(s,y,k,U,W,_,g,!1);return;case"select":He("invalid",s),u=_=y=null;for(g in o)if(o.hasOwnProperty(g)&&(k=o[g],k!=null))switch(g){case"value":y=k;break;case"defaultValue":_=k;break;case"multiple":u=k;default:lt(s,r,g,k,o,null)}r=y,o=_,s.multiple=!!u,r!=null?ur(s,!!u,r,!1):o!=null&&ur(s,!!u,o,!0);return;case"textarea":He("invalid",s),y=g=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(k=o[_],k!=null))switch(_){case"value":u=k;break;case"defaultValue":g=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:lt(s,r,_,k,o,null)}dr(s,u,g,y);return;case"option":for(U in o)o.hasOwnProperty(U)&&(u=o[U],u!=null)&&(U==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":lt(s,r,U,u,o,null));return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<Lc.length;u++)He(Lc[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:lt(s,r,W,u,o,null)}return;default:if(xo(r)){for(ae in o)o.hasOwnProperty(ae)&&(u=o[ae],u!==void 0&&a0(s,r,ae,u,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null&&lt(s,r,k,u,o,null))}function yR(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,_=null,k=null,U=null,W=null,ae=null;for(se in o){var ce=o[se];if(o.hasOwnProperty(se)&&ce!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":U=ce;default:u.hasOwnProperty(se)||lt(s,r,se,null,u,ce)}}for(var J in u){var se=u[J];if(ce=o[J],u.hasOwnProperty(J)&&(se!=null||ce!=null))switch(J){case"type":y=se;break;case"name":g=se;break;case"checked":W=se;break;case"defaultChecked":ae=se;break;case"value":_=se;break;case"defaultValue":k=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,r));break;default:se!==ce&&lt(s,r,J,se,u,ce)}}yo(s,_,k,U,W,ae,y,g);return;case"select":se=_=k=J=null;for(y in o)if(U=o[y],o.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":se=U;default:u.hasOwnProperty(y)||lt(s,r,y,null,u,U)}for(g in u)if(y=u[g],U=o[g],u.hasOwnProperty(g)&&(y!=null||U!=null))switch(g){case"value":J=y;break;case"defaultValue":k=y;break;case"multiple":_=y;default:y!==U&&lt(s,r,g,y,u,U)}r=k,o=_,u=se,J!=null?ur(s,!!o,J,!1):!!u!=!!o&&(r!=null?ur(s,!!o,r,!0):ur(s,!!o,o?[]:"",!1));return;case"textarea":se=J=null;for(k in o)if(g=o[k],o.hasOwnProperty(k)&&g!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:lt(s,r,k,null,u,g)}for(_ in u)if(g=u[_],y=o[_],u.hasOwnProperty(_)&&(g!=null||y!=null))switch(_){case"value":J=g;break;case"defaultValue":se=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&lt(s,r,_,g,u,y)}dd(s,J,se);return;case"option":for(var _e in o)J=o[_e],o.hasOwnProperty(_e)&&J!=null&&!u.hasOwnProperty(_e)&&(_e==="selected"?s.selected=!1:lt(s,r,_e,null,u,J));for(U in u)J=u[U],se=o[U],u.hasOwnProperty(U)&&J!==se&&(J!=null||se!=null)&&(U==="selected"?s.selected=J&&typeof J!="function"&&typeof J!="symbol":lt(s,r,U,J,u,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)J=o[Ie],o.hasOwnProperty(Ie)&&J!=null&&!u.hasOwnProperty(Ie)&&lt(s,r,Ie,null,u,J);for(W in u)if(J=u[W],se=o[W],u.hasOwnProperty(W)&&J!==se&&(J!=null||se!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:lt(s,r,W,J,u,se)}return;default:if(xo(r)){for(var ct in o)J=o[ct],o.hasOwnProperty(ct)&&J!==void 0&&!u.hasOwnProperty(ct)&&a0(s,r,ct,void 0,u,J);for(ae in u)J=u[ae],se=o[ae],!u.hasOwnProperty(ae)||J===se||J===void 0&&se===void 0||a0(s,r,ae,J,u,se);return}}for(var $ in o)J=o[$],o.hasOwnProperty($)&&J!=null&&!u.hasOwnProperty($)&&lt(s,r,$,null,u,J);for(ce in u)J=u[ce],se=o[ce],!u.hasOwnProperty(ce)||J===se||J==null&&se==null||lt(s,r,ce,J,u,se)}function tw(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var g=o[u],y=g.transferSize,_=g.initiatorType,k=g.duration;if(y&&k&&tw(_)){for(_=0,k=g.responseEnd,u+=1;u<o.length;u++){var U=o[u],W=U.startTime;if(W>k)break;var ae=U.transferSize,ce=U.initiatorType;ae&&tw(ce)&&(U=U.responseEnd,_+=ae*(U<k?1:(k-W)/(U-W)))}if(--u,r+=8*(y+_)/(g.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var o0=null,l0=null;function mh(s){return s.nodeType===9?s:s.ownerDocument}function nw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sw(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function c0(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var u0=null;function bR(){var s=window.event;return s&&s.type==="popstate"?s===u0?!1:(u0=s,!0):(u0=null,!1)}var iw=typeof setTimeout=="function"?setTimeout:void 0,vR=typeof clearTimeout=="function"?clearTimeout:void 0,rw=typeof Promise=="function"?Promise:void 0,wR=typeof queueMicrotask=="function"?queueMicrotask:typeof rw<"u"?function(s){return rw.resolve(null).then(s).catch(_R)}:iw;function _R(s){setTimeout(function(){throw s})}function Mr(s){return s==="head"}function aw(s,r){var o=r,u=0;do{var g=o.nextSibling;if(s.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(g),Zo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")zc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,zc(o);for(var y=o.firstChild;y;){var _=y.nextSibling,k=y.nodeName;y[Ys]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=_}}else o==="body"&&zc(s.ownerDocument.body);o=g}while(o);Zo(r)}function ow(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function d0(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":d0(o),po(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function TR(s,r,o,u){for(;s.nodeType===1;){var g=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ys])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ls(s.nextSibling),s===null)break}return null}function ER(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ls(s.nextSibling),s===null))return null;return s}function lw(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ls(s.nextSibling),s===null))return null;return s}function h0(s){return s.data==="$?"||s.data==="$~"}function f0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function SR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ls(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var m0=null;function cw(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return ls(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function uw(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function dw(s,r,o){switch(r=mh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function zc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);po(s)}var cs=new Map,hw=new Set;function ph(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Hi=ne.d;ne.d={f:kR,r:NR,D:AR,C:CR,L:RR,m:jR,X:DR,S:IR,M:MR};function kR(){var s=Hi.f(),r=ah();return s||r}function NR(s){var r=Jn(s);r!==null&&r.tag===5&&r.type==="form"?Cv(r):Hi.r(s)}var Qo=typeof document>"u"?null:document;function fw(s,r,o){var u=Qo;if(u&&typeof r=="string"&&r){var g=Cn(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),hw.has(g)||(hw.add(g),s={rel:s,crossOrigin:o,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),un(r,"link",s),Pt(r),u.head.appendChild(r)))}}function AR(s){Hi.D(s),fw("dns-prefetch",s,null)}function CR(s,r){Hi.C(s,r),fw("preconnect",s,r)}function RR(s,r,o){Hi.L(s,r,o);var u=Qo;if(u&&s&&r){var g='link[rel="preload"][as="'+Cn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+Cn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+Cn(o.imageSizes)+'"]')):g+='[href="'+Cn(s)+'"]';var y=g;switch(r){case"style":y=Wo(s);break;case"script":y=Jo(s)}cs.has(y)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),cs.set(y,s),u.querySelector(g)!==null||r==="style"&&u.querySelector(Bc(y))||r==="script"&&u.querySelector(Fc(y))||(r=u.createElement("link"),un(r,"link",s),Pt(r),u.head.appendChild(r)))}}function jR(s,r){Hi.m(s,r);var o=Qo;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Cn(u)+'"][href="'+Cn(s)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Jo(s)}if(!cs.has(y)&&(s=b({rel:"modulepreload",href:s},r),cs.set(y,s),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Fc(y)))return}u=o.createElement("link"),un(u,"link",s),Pt(u),o.head.appendChild(u)}}}function IR(s,r,o){Hi.S(s,r,o);var u=Qo;if(u&&s){var g=Qs(u).hoistableStyles,y=Wo(s);r=r||"default";var _=g.get(y);if(!_){var k={loading:0,preload:null};if(_=u.querySelector(Bc(y)))k.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=cs.get(y))&&p0(s,o);var U=_=u.createElement("link");Pt(U),un(U,"link",s),U._p=new Promise(function(W,ae){U.onload=W,U.onerror=ae}),U.addEventListener("load",function(){k.loading|=1}),U.addEventListener("error",function(){k.loading|=2}),k.loading|=4,gh(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:k},g.set(y,_)}}}function DR(s,r){Hi.X(s,r);var o=Qo;if(o&&s){var u=Qs(o).hoistableScripts,g=Jo(s),y=u.get(g);y||(y=o.querySelector(Fc(g)),y||(s=b({src:s,async:!0},r),(r=cs.get(g))&&g0(s,r),y=o.createElement("script"),Pt(y),un(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function MR(s,r){Hi.M(s,r);var o=Qo;if(o&&s){var u=Qs(o).hoistableScripts,g=Jo(s),y=u.get(g);y||(y=o.querySelector(Fc(g)),y||(s=b({src:s,async:!0,type:"module"},r),(r=cs.get(g))&&g0(s,r),y=o.createElement("script"),Pt(y),un(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function mw(s,r,o,u){var g=(g=me.current)?ph(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Wo(o.href),o=Qs(g).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Wo(o.href);var y=Qs(g).hoistableStyles,_=y.get(s);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=g.querySelector(Bc(s)))&&!y._p&&(_.instance=y,_.state.loading=5),cs.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cs.set(s,o),y||PR(g,s,o,_.state))),r&&u===null)throw Error(i(528,""));return _}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Jo(o),o=Qs(g).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Wo(s){return'href="'+Cn(s)+'"'}function Bc(s){return'link[rel="stylesheet"]['+s+"]"}function pw(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function PR(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),un(r,"link",o),Pt(r),s.head.appendChild(r))}function Jo(s){return'[src="'+Cn(s)+'"]'}function Fc(s){return"script[async]"+s}function gw(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Cn(o.href)+'"]');if(u)return r.instance=u,Pt(u),u;var g=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Pt(u),un(u,"style",g),gh(u,o.precedence,s),r.instance=u;case"stylesheet":g=Wo(o.href);var y=s.querySelector(Bc(g));if(y)return r.state.loading|=4,r.instance=y,Pt(y),y;u=pw(o),(g=cs.get(g))&&p0(u,g),y=(s.ownerDocument||s).createElement("link"),Pt(y);var _=y;return _._p=new Promise(function(k,U){_.onload=k,_.onerror=U}),un(y,"link",u),r.state.loading|=4,gh(y,o.precedence,s),r.instance=y;case"script":return y=Jo(o.src),(g=s.querySelector(Fc(y)))?(r.instance=g,Pt(g),g):(u=o,(g=cs.get(y))&&(u=b({},o),g0(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Pt(g),un(g,"link",u),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,gh(u,o.precedence,s));return r.instance}function gh(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,_=0;_<u.length;_++){var k=u[_];if(k.dataset.precedence===r)y=k;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function p0(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function g0(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var yh=null;function yw(s,r,o){if(yh===null){var u=new Map,g=yh=new Map;g.set(o,u)}else g=yh,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),g=0;g<o.length;g++){var y=o[g];if(!(y[Ys]||y[Mt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=s+_;var k=u.get(_);k?k.push(y):u.set(_,[y])}}return u}function xw(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function VR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function OR(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Wo(u.href),y=r.querySelector(Bc(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=xh.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Pt(y);return}y=r.ownerDocument||r,u=pw(u),(g=cs.get(g))&&p0(u,g),y=y.createElement("link"),Pt(y);var _=y;_._p=new Promise(function(k,U){_.onload=k,_.onerror=U}),un(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=xh.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var y0=0;function LR(s,r){return s.stylesheets&&s.count===0&&vh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&vh(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&y0===0&&(y0=62500*xR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&vh(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>y0?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var bh=null;function vh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,bh=new Map,r.forEach(UR,s),bh=null,xh.call(s))}function UR(s,r){if(!(r.state.loading&4)){var o=bh.get(s);if(o)var u=o.get(null);else{o=new Map,bh.set(s,o);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var _=g[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}g=r.instance,_=g.getAttribute("data-precedence"),y=o.get(_)||u,y===u&&o.set(null,g),o.set(_,g),this.count++,u=xh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var Hc={$$typeof:q,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function zR(s,r,o,u,g,y,_,k,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.hiddenUpdates=$s(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function vw(s,r,o,u,g,y,_,k,U,W,ae,ce){return s=new zR(s,r,o,_,U,W,ae,ce,k),r=1,y===!0&&(r|=24),y=Hn(3,null,null,r),s.current=y,y.stateNode=s,r=Qm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},ep(y),s}function ww(s){return s?(s=Co,s):Co}function _w(s,r,o,u,g,y){g=ww(g),u.context===null?u.context=g:u.pendingContext=g,u=Tr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Er(s,u,r),o!==null&&(Pn(o,s,r),wc(o,s,r))}function Tw(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function x0(s,r){Tw(s,r),(s=s.alternate)&&Tw(s,r)}function Ew(s){if(s.tag===13||s.tag===31){var r=Aa(s,67108864);r!==null&&Pn(r,s,67108864),x0(s,67108864)}}function Sw(s){if(s.tag===13||s.tag===31){var r=Yn();r=ga(r);var o=Aa(s,r);o!==null&&Pn(o,s,r),x0(s,r)}}var wh=!0;function BR(s,r,o,u){var g=z.T;z.T=null;var y=ne.p;try{ne.p=2,b0(s,r,o,u)}finally{ne.p=y,z.T=g}}function FR(s,r,o,u){var g=z.T;z.T=null;var y=ne.p;try{ne.p=8,b0(s,r,o,u)}finally{ne.p=y,z.T=g}}function b0(s,r,o,u){if(wh){var g=v0(u);if(g===null)r0(s,r,u,_h,o),Nw(s,u);else if(qR(g,s,r,o,u))u.stopPropagation();else if(Nw(s,u),r&4&&-1<HR.indexOf(s)){for(;g!==null;){var y=Jn(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=qs(y.pendingLanes);if(_!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;_;){var U=1<<31-kt(_);k.entanglements[1]|=U,_&=~U}ci(y),(tt&6)===0&&(ih=Tn()+500,Oc(0))}}break;case 31:case 13:k=Aa(y,2),k!==null&&Pn(k,y,2),ah(),x0(y,2)}if(y=v0(u),y===null&&r0(s,r,u,_h,o),y===g)break;g=y}g!==null&&u.stopPropagation()}else r0(s,r,u,null,o)}}function v0(s){return s=Zn(s),w0(s)}var _h=null;function w0(s){if(_h=null,s=Xs(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return _h=s,null}function kw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ha()){case $l:return 2;case Kl:return 8;case lr:case Nm:return 32;case ed:return 268435456;default:return 32}default:return 32}}var _0=!1,Pr=null,Vr=null,Or=null,qc=new Map,Gc=new Map,Lr=[],HR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nw(s,r){switch(s){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":qc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(r.pointerId)}}function $c(s,r,o,u,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},r!==null&&(r=Jn(r),r!==null&&Ew(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function qR(s,r,o,u,g){switch(r){case"focusin":return Pr=$c(Pr,s,r,o,u,g),!0;case"dragenter":return Vr=$c(Vr,s,r,o,u,g),!0;case"mouseover":return Or=$c(Or,s,r,o,u,g),!0;case"pointerover":var y=g.pointerId;return qc.set(y,$c(qc.get(y)||null,s,r,o,u,g)),!0;case"gotpointercapture":return y=g.pointerId,Gc.set(y,$c(Gc.get(y)||null,s,r,o,u,g)),!0}return!1}function Aw(s){var r=Xs(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,xs(s.priority,function(){Sw(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,xs(s.priority,function(){Sw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Th(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=v0(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);rc=u,o.target.dispatchEvent(u),rc=null}else return r=Jn(o),r!==null&&Ew(r),s.blockedOn=o,!1;r.shift()}return!0}function Cw(s,r,o){Th(s)&&o.delete(r)}function GR(){_0=!1,Pr!==null&&Th(Pr)&&(Pr=null),Vr!==null&&Th(Vr)&&(Vr=null),Or!==null&&Th(Or)&&(Or=null),qc.forEach(Cw),Gc.forEach(Cw)}function Eh(s,r){s.blockedOn===r&&(s.blockedOn=null,_0||(_0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GR)))}var Sh=null;function Rw(s){Sh!==s&&(Sh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sh===s&&(Sh=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],g=s[r+2];if(typeof u!="function"){if(w0(u||o)===null)continue;break}var y=Jn(o);y!==null&&(s.splice(r,3),r-=3,vp(y,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function Zo(s){function r(U){return Eh(U,s)}Pr!==null&&Eh(Pr,s),Vr!==null&&Eh(Vr,s),Or!==null&&Eh(Or,s),qc.forEach(r),Gc.forEach(r);for(var o=0;o<Lr.length;o++){var u=Lr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Lr.length&&(o=Lr[0],o.blockedOn===null);)Aw(o),o.blockedOn===null&&Lr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],y=o[u+1],_=g[Jt]||null;if(typeof y=="function")_||Rw(o);else if(_){var k=null;if(y&&y.hasAttribute("formAction")){if(g=y,_=y[Jt]||null)k=_.formAction;else if(w0(g)!==null)continue}else k=_.action;typeof k=="function"?o[u+1]=k:(o.splice(u,3),u-=3),Rw(o)}}}function jw(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return g=_})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function T0(s){this._internalRoot=s}kh.prototype.render=T0.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Yn();_w(o,u,s,r,null,null)},kh.prototype.unmount=T0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;_w(s.current,2,null,s,null,null),ah(),r[Ks]=null}};function kh(s){this._internalRoot=s}kh.prototype.unstable_scheduleHydration=function(s){if(s){var r=ad();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Lr.length&&r!==0&&r<Lr[o].priority;o++);Lr.splice(o,0,s),o===0&&Aw(s)}};var Iw=e.version;if(Iw!=="19.2.4")throw Error(i(527,Iw,"19.2.4"));ne.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var $R={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{gs=Nh.inject($R),rn=Nh}catch{}}return Yc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",g=Uv,y=zv,_=Bv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=vw(s,1,!1,null,null,o,u,null,g,y,_,jw),s[Ks]=r.current,i0(s),new T0(r)},Yc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,g="",y=Uv,_=zv,k=Bv,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),r=vw(s,1,!0,r,o??null,u,g,U,y,_,k,jw),r.context=ww(null),o=r.current,u=Yn(),u=ga(u),g=Tr(u),g.callback=null,Er(o,g,u),o=u,r.current.lanes=o,ma(r,o),ci(r),s[Ks]=r.current,i0(s),new kh(r)},Yc.version="19.2.4",Yc}var Fw;function tj(){if(Fw)return k0.exports;Fw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),k0.exports=ej(),k0.exports}var nj=tj();const sj=oS(nj);var Hw="popstate";function ij(t={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return xg("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:xu(a)}return aj(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Us(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rj(){return Math.random().toString(36).substring(2,10)}function qw(t,e){return{usr:t.state,key:t.key,idx:e}}function xg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Al(e):e,state:n,key:e&&e.key||i||rj()}}function xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function aj(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",m=null,p=x();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function x(){return(c.state||{idx:null}).idx}function b(){h="POP";let P=x(),V=P==null?null:P-p;p=P,m&&m({action:h,location:M.location,delta:V})}function w(P,V){h="PUSH";let B=xg(M.location,P,V);p=x()+1;let q=qw(B,p),K=M.createHref(B);try{c.pushState(q,"",K)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;a.location.assign(K)}l&&m&&m({action:h,location:M.location,delta:1})}function E(P,V){h="REPLACE";let B=xg(M.location,P,V);p=x();let q=qw(B,p),K=M.createHref(B);c.replaceState(q,"",K),l&&m&&m({action:h,location:M.location,delta:0})}function R(P){return oj(P)}let M={get action(){return h},get location(){return t(a,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Hw,b),m=P,()=>{a.removeEventListener(Hw,b),m=null}},createHref(P){return e(a,P)},createURL:R,encodeLocation(P){let V=R(P);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:w,replace:E,go(P){return c.go(P)}};return M}function oj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:xu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function uS(t,e,n="/"){return lj(t,e,n,!1)}function lj(t,e,n,i){let a=typeof e=="string"?Al(e):e,l=Qi(a.pathname||"/",n);if(l==null)return null;let c=dS(t);cj(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let p=vj(l);h=xj(c[m],p,i)}return h}function dS(t,e=[],n=[],i="",a=!1){let l=(c,h,m=a,p)=>{let x={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&m)return;xt(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let b=Yi([i,x.relativePath]),w=n.concat(x);c.children&&c.children.length>0&&(xt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),dS(c.children,e,w,b,m)),!(c.path==null&&!c.index)&&e.push({path:b,score:gj(b,c.index),routesMeta:w})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let m of hS(c.path))l(c,h,!0,m)}),e}function hS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=hS(i.join("/")),h=[];return h.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&h.push(...c),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function cj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yj(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var uj=/^:[\w-]+$/,dj=3,hj=2,fj=1,mj=10,pj=-2,Gw=t=>t==="*";function gj(t,e){let n=t.split("/"),i=n.length;return n.some(Gw)&&(i+=pj),e&&(i+=hj),n.filter(a=>!Gw(a)).reduce((a,l)=>a+(uj.test(l)?dj:l===""?fj:mj),i)}function yj(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function xj(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let h=0;h<i.length;++h){let m=i[h],p=h===i.length-1,x=l==="/"?e:e.slice(l.length)||"/",b=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},x),w=m.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Yi([l,b.pathname]),pathnameBase:Ej(Yi([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=Yi([l,b.pathnameBase]))}return c}function hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=bj(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:x,isOptional:b},w)=>{if(x==="*"){let R=h[w]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const E=h[w];return b&&!E?p[x]=void 0:p[x]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function bj(t,e=!1,n=!0){Us(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function vj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Us(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var wj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function _j(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Al(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=$w(n.substring(1),"/"):l=$w(n,e)):l=e,{pathname:l,search:Sj(i),hash:kj(a)}}function $w(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function R0(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vy(t){let e=Tj(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function wy(t,e,n,i=!1){let a;typeof t=="string"?a=Al(t):(a={...t},xt(!a.pathname||!a.pathname.includes("?"),R0("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),R0("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),R0("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}h=b>=0?e[b]:"/"}let m=_j(a,h),p=c&&c!=="/"&&c.endsWith("/"),x=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||x)&&(m.pathname+="/"),m}var Yi=t=>t.join("/").replace(/\/\/+/g,"/"),Ej=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Nj=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Aj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Cj(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var fS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function mS(t,e){let n=t;if(typeof n!="string"||!wj.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(fS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Qi(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{Us(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pS=["POST","PUT","PATCH","DELETE"];new Set(pS);var Rj=["GET",...pS];new Set(Rj);var Cl=A.createContext(null);Cl.displayName="DataRouter";var Xf=A.createContext(null);Xf.displayName="DataRouterState";var jj=A.createContext(!1),gS=A.createContext({isTransitioning:!1});gS.displayName="ViewTransition";var Ij=A.createContext(new Map);Ij.displayName="Fetchers";var Dj=A.createContext(null);Dj.displayName="Await";var Qn=A.createContext(null);Qn.displayName="Navigation";var Mu=A.createContext(null);Mu.displayName="Location";var ps=A.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var _y=A.createContext(null);_y.displayName="RouteError";var yS="REACT_ROUTER_ERROR",Mj="REDIRECT",Pj="ROUTE_ERROR_RESPONSE";function Vj(t){if(t.startsWith(`${yS}:${Mj}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Oj(t){if(t.startsWith(`${yS}:${Pj}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Nj(e.status,e.statusText,e.data)}catch{}}function Lj(t,{relative:e}={}){xt(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=A.useContext(Qn),{hash:a,pathname:l,search:c}=Pu(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Yi([n,l])),i.createHref({pathname:h,search:c,hash:a})}function Rl(){return A.useContext(Mu)!=null}function sr(){return xt(Rl(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Mu).location}var xS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bS(t){A.useContext(Qn).static||A.useLayoutEffect(t)}function jl(){let{isDataRoute:t}=A.useContext(ps);return t?e5():Uj()}function Uj(){xt(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Cl),{basename:e,navigator:n}=A.useContext(Qn),{matches:i}=A.useContext(ps),{pathname:a}=sr(),l=JSON.stringify(vy(i)),c=A.useRef(!1);return bS(()=>{c.current=!0}),A.useCallback((m,p={})=>{if(Us(c.current,xS),!c.current)return;if(typeof m=="number"){n.go(m);return}let x=wy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Yi([e,x.pathname])),(p.replace?n.replace:n.push)(x,p.state,p)},[e,n,l,a,t])}var zj=A.createContext(null);function Bj(t){let e=A.useContext(ps).outlet;return A.useMemo(()=>e&&A.createElement(zj.Provider,{value:t},e),[e,t])}function Fj(){let{matches:t}=A.useContext(ps),e=t[t.length-1];return e?e.params:{}}function Pu(t,{relative:e}={}){let{matches:n}=A.useContext(ps),{pathname:i}=sr(),a=JSON.stringify(vy(n));return A.useMemo(()=>wy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function Hj(t,e){return vS(t,e)}function vS(t,e,n,i,a){xt(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=A.useContext(Qn),{matches:c}=A.useContext(ps),h=c[c.length-1],m=h?h.params:{},p=h?h.pathname:"/",x=h?h.pathnameBase:"/",b=h&&h.route;{let B=b&&b.path||"";_S(p,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=sr(),E;if(e){let B=typeof e=="string"?Al(e):e;xt(x==="/"||B.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${B.pathname}" was given in the \`location\` prop.`),E=B}else E=w;let R=E.pathname||"/",M=R;if(x!=="/"){let B=x.replace(/^\//,"").split("/");M="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let P=uS(t,{pathname:M});Us(b||P!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Us(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=Yj(P&&P.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Yi([x,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?x:Yi([x,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,n,i,a);return e&&V?A.createElement(Mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},V):V}function qj(){let t=Zj(),e=Aj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:a},n):null,c)}var Gj=A.createElement(qj,null),wS=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Oj(t.digest);n&&(t=n)}let e=t!==void 0?A.createElement(ps.Provider,{value:this.props.routeContext},A.createElement(_y.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?A.createElement($j,{error:t},e):e}};wS.contextType=jj;var j0=new WeakMap;function $j({children:t,error:e}){let{basename:n}=A.useContext(Qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Vj(e.digest);if(i){let a=j0.get(e);if(a)throw a;let l=mS(i.location,n);if(fS&&!j0.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw j0.set(e,c),c}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function Kj({routeContext:t,match:e,children:n}){let i=A.useContext(Cl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(ps.Provider,{value:t},n)}function Yj(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let x=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);xt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let h=!1,m=-1;if(n)for(let x=0;x<l.length;x++){let b=l[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=x),b.route.id){let{loaderData:w,errors:E}=n,R=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||R){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&i?(x,b)=>{i(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Cj(n.matches),errorInfo:b})}:void 0;return l.reduceRight((x,b,w)=>{let E,R=!1,M=null,P=null;n&&(E=c&&b.route.id?c[b.route.id]:void 0,M=b.route.errorElement||Gj,h&&(m<0&&w===0?(_S("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,P=null):m===w&&(R=!0,P=b.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,w+1)),B=()=>{let q;return E?q=M:R?q=P:b.route.Component?q=A.createElement(b.route.Component,null):b.route.element?q=b.route.element:q=x,A.createElement(Kj,{match:b,routeContext:{outlet:x,matches:V,isDataRoute:n!=null},children:q})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?A.createElement(wS,{location:n.location,revalidation:n.revalidation,component:M,error:E,children:B(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:p}):B()},null)}function Ty(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xj(t){let e=A.useContext(Cl);return xt(e,Ty(t)),e}function Qj(t){let e=A.useContext(Xf);return xt(e,Ty(t)),e}function Wj(t){let e=A.useContext(ps);return xt(e,Ty(t)),e}function Ey(t){let e=Wj(t),n=e.matches[e.matches.length-1];return xt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Jj(){return Ey("useRouteId")}function Zj(){let t=A.useContext(_y),e=Qj("useRouteError"),n=Ey("useRouteError");return t!==void 0?t:e.errors?.[n]}function e5(){let{router:t}=Xj("useNavigate"),e=Ey("useNavigate"),n=A.useRef(!1);return bS(()=>{n.current=!0}),A.useCallback(async(a,l={})=>{Us(n.current,xS),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Kw={};function _S(t,e,n){!e&&!Kw[t]&&(Kw[t]=!0,Us(!1,n))}A.memo(t5);function t5({routes:t,future:e,state:n,onError:i}){return vS(t,void 0,n,i,e)}function TS({to:t,replace:e,state:n,relative:i}){xt(Rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=A.useContext(Qn);Us(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(ps),{pathname:c}=sr(),h=jl(),m=wy(t,vy(l),c,i==="path"),p=JSON.stringify(m);return A.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function Cs(t){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n5({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){xt(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=A.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=Al(n));let{pathname:p="/",search:x="",hash:b="",state:w=null,key:E="default"}=n,R=A.useMemo(()=>{let M=Qi(p,h);return M==null?null:{location:{pathname:M,search:x,hash:b,state:w,key:E},navigationType:i}},[h,p,x,b,w,E,i]);return Us(R!=null,`<Router basename="${h}"> is not able to match the URL "${p}${x}${b}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:A.createElement(Qn.Provider,{value:m},A.createElement(Mu.Provider,{children:e,value:R}))}function s5({children:t,location:e}){return Hj(bg(t),e)}function bg(t,e=[]){let n=[];return A.Children.forEach(t,(i,a)=>{if(!A.isValidElement(i))return;let l=[...e,a];if(i.type===A.Fragment){n.push.apply(n,bg(i.props.children,l));return}xt(i.type===Cs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=bg(i.props.children,l)),n.push(c)}),n}var Hh="get",qh="application/x-www-form-urlencoded";function Qf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function i5(t){return Qf(t)&&t.tagName.toLowerCase()==="button"}function r5(t){return Qf(t)&&t.tagName.toLowerCase()==="form"}function a5(t){return Qf(t)&&t.tagName.toLowerCase()==="input"}function o5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function l5(t,e){return t.button===0&&(!e||e==="_self")&&!o5(t)}var Ah=null;function c5(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var u5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function I0(t){return t!=null&&!u5.has(t)?(Us(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qh}"`),null):t}function d5(t,e){let n,i,a,l,c;if(r5(t)){let h=t.getAttribute("action");i=h?Qi(h,e):null,n=t.getAttribute("method")||Hh,a=I0(t.getAttribute("enctype"))||qh,l=new FormData(t)}else if(i5(t)||a5(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(i=m?Qi(m,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Hh,a=I0(t.getAttribute("formenctype"))||I0(h.getAttribute("enctype"))||qh,l=new FormData(h,t),!c5()){let{name:p,type:x,value:b}=t;if(x==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,b)}}else{if(Qf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hh,i=null,a=qh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function h5(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Qi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function f5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m5(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function p5(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await f5(l,n);return c.links?c.links():[]}return[]}));return b5(i.flat(1).filter(m5).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Yw(t,e,n,i,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,h=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||h(m,p)):l==="data"?e.filter((m,p)=>{let x=i.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(c(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function g5(t,e,{includeHydrateFallback:n}={}){return y5(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function y5(t){return[...new Set(t)]}function x5(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function b5(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(x5(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function ES(){let t=A.useContext(Cl);return Sy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function v5(){let t=A.useContext(Xf);return Sy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ky=A.createContext(void 0);ky.displayName="FrameworkContext";function SS(){let t=A.useContext(ky);return Sy(t,"You must render this element inside a <HydratedRouter> element"),t}function w5(t,e){let n=A.useContext(ky),[i,a]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:x,onTouchStart:b}=e,w=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=V=>{V.forEach(B=>{c(B.isIntersecting)})},P=new IntersectionObserver(M,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[t]),A.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let E=()=>{a(!0)},R=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Xc(h,E),onBlur:Xc(m,R),onMouseEnter:Xc(p,E),onMouseLeave:Xc(x,R),onTouchStart:Xc(b,E)}]:[!1,w,{}]}function Xc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _5({page:t,...e}){let{router:n}=ES(),i=A.useMemo(()=>uS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?A.createElement(E5,{page:t,matches:i,...e}):null}function T5(t){let{manifest:e,routeModules:n}=SS(),[i,a]=A.useState([]);return A.useEffect(()=>{let l=!1;return p5(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function E5({page:t,matches:e,...n}){let i=sr(),{future:a,manifest:l,routeModules:c}=SS(),{basename:h}=ES(),{loaderData:m,matches:p}=v5(),x=A.useMemo(()=>Yw(t,e,p,l,i,"data"),[t,e,p,l,i]),b=A.useMemo(()=>Yw(t,e,p,l,i,"assets"),[t,e,p,l,i]),w=A.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let M=new Set,P=!1;if(e.forEach(B=>{let q=l.routes[B.route.id];!q||!q.hasLoader||(!x.some(K=>K.route.id===B.route.id)&&B.route.id in m&&c[B.route.id]?.shouldRevalidate||q.hasClientLoader?P=!0:M.add(B.route.id))}),M.size===0)return[];let V=h5(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return P&&M.size>0&&V.searchParams.set("_routes",e.filter(B=>M.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[h,a.unstable_trailingSlashAwareDataRequests,m,i,l,x,e,t,c]),E=A.useMemo(()=>g5(b,l),[b,l]),R=T5(b);return A.createElement(A.Fragment,null,w.map(M=>A.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),E.map(M=>A.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),R.map(({key:M,link:P})=>A.createElement("link",{key:M,nonce:n.nonce,...P,crossOrigin:P.crossOrigin??n.crossOrigin})))}function S5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var k5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k5&&(window.__reactRouterVersion="7.13.0")}catch{}function N5({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=A.useRef();a.current==null&&(a.current=ij({window:i,v5Compat:!0}));let l=a.current,[c,h]=A.useState({action:l.action,location:l.location}),m=A.useCallback(p=>{n===!1?h(p):A.startTransition(()=>h(p))},[n]);return A.useLayoutEffect(()=>l.listen(m),[l,m]),A.createElement(n5,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=A.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:m,to:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:w,...E},R){let{basename:M,unstable_useTransitions:P}=A.useContext(Qn),V=typeof p=="string"&&kS.test(p),B=mS(p,M);p=B.to;let q=Lj(p,{relative:a}),[K,ie,he]=w5(i,E),D=j5(p,{replace:c,state:h,target:m,preventScrollReset:x,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:P});function S(O){e&&e(O),O.defaultPrevented||D(O)}let N=A.createElement("a",{...E,...he,href:B.absoluteURL||q,onClick:B.isExternal||l?e:S,ref:S5(R,ie),target:m,"data-discover":!V&&n==="render"?"true":void 0});return K&&!V?A.createElement(A.Fragment,null,N,A.createElement(_5,{page:q})):N});tn.displayName="Link";var A5=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:m,...p},x){let b=Pu(c,{relative:p.relative}),w=sr(),E=A.useContext(Xf),{navigator:R,basename:M}=A.useContext(Qn),P=E!=null&&V5(b)&&h===!0,V=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,B=w.pathname,q=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(B=B.toLowerCase(),q=q?q.toLowerCase():null,V=V.toLowerCase()),q&&M&&(q=Qi(q,M)||q);const K=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let ie=B===V||!a&&B.startsWith(V)&&B.charAt(K)==="/",he=q!=null&&(q===V||!a&&q.startsWith(V)&&q.charAt(V.length)==="/"),D={isActive:ie,isPending:he,isTransitioning:P},S=ie?e:void 0,N;typeof i=="function"?N=i(D):N=[i,ie?"active":null,he?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(D):l;return A.createElement(tn,{...p,"aria-current":S,className:N,ref:x,style:O,to:c,viewTransition:h},typeof m=="function"?m(D):m)});A5.displayName="NavLink";var C5=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Hh,action:h,onSubmit:m,relative:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:w,...E},R)=>{let{unstable_useTransitions:M}=A.useContext(Qn),P=M5(),V=P5(h,{relative:p}),B=c.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&kS.test(h),K=ie=>{if(m&&m(ie),ie.defaultPrevented)return;ie.preventDefault();let he=ie.nativeEvent.submitter,D=he?.getAttribute("formmethod")||c,S=()=>P(he||ie.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:l,relative:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:w});M&&n!==!1?A.startTransition(()=>S()):S()};return A.createElement("form",{ref:R,method:B,action:V,onSubmit:i?m:K,...E,"data-discover":!q&&t==="render"?"true":void 0})});C5.displayName="Form";function R5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NS(t){let e=A.useContext(Cl);return xt(e,R5(t)),e}function j5(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let p=jl(),x=sr(),b=Pu(t,{relative:l});return A.useCallback(w=>{if(l5(w,e)){w.preventDefault();let E=n!==void 0?n:xu(x)===xu(b),R=()=>p(t,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});m?A.startTransition(()=>R()):R()}},[x,p,b,n,i,e,t,a,l,c,h,m])}var I5=0,D5=()=>`__${String(++I5)}__`;function M5(){let{router:t}=NS("useSubmit"),{basename:e}=A.useContext(Qn),n=Jj(),i=t.fetch,a=t.navigate;return A.useCallback(async(l,c={})=>{let{action:h,method:m,encType:p,formData:x,body:b}=d5(l,e);if(c.navigate===!1){let w=c.fetcherKey||D5();await i(w,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:b,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:b,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function P5(t,{relative:e}={}){let{basename:n}=A.useContext(Qn),i=A.useContext(ps);xt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Pu(t||".",{relative:e})},c=sr();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(x=>x==="")){h.delete("index"),m.filter(b=>b).forEach(b=>h.append("index",b));let x=h.toString();l.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Yi([n,l.pathname])),xu(l)}function V5(t,{relative:e}={}){let n=A.useContext(gS);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=NS("useViewTransitionState"),a=Pu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Qi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Qi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return hf(a.pathname,c)!=null||hf(a.pathname,l)!=null}var O5=cS();const Ny=A.createContext({});function Ay(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const AS=typeof window<"u",CS=AS?A.useLayoutEffect:A.useEffect,Wf=A.createContext(null);function Cy(t,e){t.indexOf(e)===-1&&t.push(e)}function ff(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const bi=(t,e,n)=>n>e?e:n<t?t:n;let Ry=()=>{};const Wi={},RS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function jS(t){return typeof t=="object"&&t!==null}const IS=t=>/^0[^.\s]+$/u.test(t);function jy(t){let e;return()=>(e===void 0&&(e=t()),e)}const fs=t=>t,L5=(t,e)=>n=>e(t(n)),Vu=(...t)=>t.reduce(L5),bu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Iy{constructor(){this.subscriptions=[]}add(e){return Cy(this.subscriptions,e),()=>ff(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ms=t=>t*1e3,hs=t=>t/1e3;function DS(t,e){return e?t*(1e3/e):0}const MS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,U5=1e-7,z5=12;function B5(t,e,n,i,a){let l,c,h=0;do c=e+(n-e)/2,l=MS(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>U5&&++h<z5);return c}function Ou(t,e,n,i){if(t===e&&n===i)return fs;const a=l=>B5(l,0,1,t,n);return l=>l===0||l===1?l:MS(a(l),e,i)}const PS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VS=t=>e=>1-t(1-e),OS=Ou(.33,1.53,.69,.99),Dy=VS(OS),LS=PS(Dy),US=t=>(t*=2)<1?.5*Dy(t):.5*(2-Math.pow(2,-10*(t-1))),My=t=>1-Math.sin(Math.acos(t)),zS=VS(My),BS=PS(My),F5=Ou(.42,0,1,1),H5=Ou(0,0,.58,1),FS=Ou(.42,0,.58,1),q5=t=>Array.isArray(t)&&typeof t[0]!="number",HS=t=>Array.isArray(t)&&typeof t[0]=="number",G5={linear:fs,easeIn:F5,easeInOut:FS,easeOut:H5,circIn:My,circInOut:BS,circOut:zS,backIn:Dy,backInOut:LS,backOut:OS,anticipate:US},$5=t=>typeof t=="string",Xw=t=>{if(HS(t)){Ry(t.length===4);const[e,n,i,a]=t;return Ou(e,n,i,a)}else if($5(t))return G5[t];return t},Ch=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function K5(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(x){c.has(x)&&(p.schedule(x),t()),x(h)}const p={schedule:(x,b=!1,w=!1)=>{const R=w&&a?n:i;return b&&c.add(x),R.has(x)||R.add(x),x},cancel:x=>{i.delete(x),c.delete(x)},process:x=>{if(h=x,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(x))}};return p}const Y5=40;function qS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Ch.reduce((q,K)=>(q[K]=K5(l),q),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:x,update:b,preRender:w,render:E,postRender:R}=c,M=()=>{const q=Wi.useManualTiming?a.timestamp:performance.now();n=!1,Wi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(q-a.timestamp,Y5),1)),a.timestamp=q,a.isProcessing=!0,h.process(a),m.process(a),p.process(a),x.process(a),b.process(a),w.process(a),E.process(a),R.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(M))},P=()=>{n=!0,i=!0,a.isProcessing||t(M)};return{schedule:Ch.reduce((q,K)=>{const ie=c[K];return q[K]=(he,D=!1,S=!1)=>(n||P(),ie.schedule(he,D,S)),q},{}),cancel:q=>{for(let K=0;K<Ch.length;K++)c[Ch[K]].cancel(q)},state:a,steps:c}}const{schedule:ht,cancel:ea,state:dn,steps:D0}=qS(typeof requestAnimationFrame<"u"?requestAnimationFrame:fs,!0);let Gh;function X5(){Gh=void 0}const kn={now:()=>(Gh===void 0&&kn.set(dn.isProcessing||Wi.useManualTiming?dn.timestamp:performance.now()),Gh),set:t=>{Gh=t,queueMicrotask(X5)}},GS=t=>e=>typeof e=="string"&&e.startsWith(t),$S=GS("--"),Q5=GS("var(--"),Py=t=>Q5(t)?W5.test(t.split("/*")[0].trim()):!1,W5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Qw(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vu={...Il,transform:t=>bi(0,1,t)},Rh={...Il,default:1},au=t=>Math.round(t*1e5)/1e5,Vy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function J5(t){return t==null}const Z5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Oy=(t,e)=>n=>!!(typeof n=="string"&&Z5.test(n)&&n.startsWith(t)||e&&!J5(n)&&Object.prototype.hasOwnProperty.call(n,e)),KS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(Vy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},e4=t=>bi(0,255,t),M0={...Il,transform:t=>Math.round(e4(t))},Ga={test:Oy("rgb","red"),parse:KS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+M0.transform(t)+", "+M0.transform(e)+", "+M0.transform(n)+", "+au(vu.transform(i))+")"};function t4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const vg={test:Oy("#"),parse:t4,transform:Ga.transform},Lu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fr=Lu("deg"),fi=Lu("%"),Se=Lu("px"),n4=Lu("vh"),s4=Lu("vw"),Ww={...fi,parse:t=>fi.parse(t)/100,transform:t=>fi.transform(t*100)},al={test:Oy("hsl","hue"),parse:KS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+fi.transform(au(e))+", "+fi.transform(au(n))+", "+au(vu.transform(i))+")"},Ft={test:t=>Ga.test(t)||vg.test(t)||al.test(t),parse:t=>Ga.test(t)?Ga.parse(t):al.test(t)?al.parse(t):vg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ga.transform(t):al.transform(t),getAnimatableNone:t=>{const e=Ft.parse(t);return e.alpha=0,Ft.transform(e)}},i4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function r4(t){return isNaN(t)&&typeof t=="string"&&(t.match(Vy)?.length||0)+(t.match(i4)?.length||0)>0}const YS="number",XS="color",a4="var",o4="var(",Jw="${}",l4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(l4,m=>(Ft.test(m)?(i.color.push(l),a.push(XS),n.push(Ft.parse(m))):m.startsWith(o4)?(i.var.push(l),a.push(a4),n.push(m)):(i.number.push(l),a.push(YS),n.push(parseFloat(m))),++l,Jw)).split(Jw);return{values:n,split:h,indexes:i,types:a}}function QS(t){return wu(t).values}function WS(t){const{split:e,types:n}=wu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===YS?l+=au(a[c]):h===XS?l+=Ft.transform(a[c]):l+=a[c]}return l}}const c4=t=>typeof t=="number"?0:Ft.test(t)?Ft.getAnimatableNone(t):t;function u4(t){const e=QS(t);return WS(t)(e.map(c4))}const ta={test:r4,parse:QS,createTransformer:WS,getAnimatableNone:u4};function P0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function d4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,m=2*n-h;a=P0(m,h,t+1/3),l=P0(m,h,t),c=P0(m,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function mf(t,e){return n=>n>0?e:t}const vt=(t,e,n)=>t+(e-t)*n,V0=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},h4=[vg,Ga,al],f4=t=>h4.find(e=>e.test(t));function Zw(t){const e=f4(t);if(!e)return!1;let n=e.parse(t);return e===al&&(n=d4(n)),n}const e_=(t,e)=>{const n=Zw(t),i=Zw(e);if(!n||!i)return mf(t,e);const a={...n};return l=>(a.red=V0(n.red,i.red,l),a.green=V0(n.green,i.green,l),a.blue=V0(n.blue,i.blue,l),a.alpha=vt(n.alpha,i.alpha,l),Ga.transform(a))},wg=new Set(["none","hidden"]);function m4(t,e){return wg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function p4(t,e){return n=>vt(t,e,n)}function Ly(t){return typeof t=="number"?p4:typeof t=="string"?Py(t)?mf:Ft.test(t)?e_:x4:Array.isArray(t)?JS:typeof t=="object"?Ft.test(t)?e_:g4:mf}function JS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Ly(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function g4(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Ly(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function y4(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;n[a]=h,i[l]++}return n}const x4=(t,e)=>{const n=ta.createTransformer(e),i=wu(t),a=wu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?wg.has(t)&&!a.values.length||wg.has(e)&&!i.values.length?m4(t,e):Vu(JS(y4(i,a),a.values),n):mf(t,e)};function ZS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):Ly(t)(t,e)}const b4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>ea(e),now:()=>dn.isProcessing?dn.timestamp:kn.now()}},e2=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},pf=2e4;function Uy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<pf;)e+=n,i=t.next(e);return e>=pf?1/0:e}function v4(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Uy(i),pf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:hs(a)}}const w4=5;function t2(t,e,n){const i=Math.max(e-w4,0);return DS(n-t(i),e-i)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},O0=.001;function _4({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:i=Et.mass}){let a,l,c=1-e;c=bi(Et.minDamping,Et.maxDamping,c),t=bi(Et.minDuration,Et.maxDuration,hs(t)),c<1?(a=p=>{const x=p*c,b=x*t,w=x-n,E=_g(p,c),R=Math.exp(-b);return O0-w/E*R},l=p=>{const b=p*c*t,w=b*n+n,E=Math.pow(c,2)*Math.pow(p,2)*t,R=Math.exp(-b),M=_g(Math.pow(p,2),c);return(-a(p)+O0>0?-1:1)*((w-E)*R)/M}):(a=p=>{const x=Math.exp(-p*t),b=(p-n)*t+1;return-O0+x*b},l=p=>{const x=Math.exp(-p*t),b=(n-p)*(t*t);return x*b});const h=5/t,m=E4(a,l,h);if(t=Ms(t),isNaN(m))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const T4=12;function E4(t,e,n){let i=n;for(let a=1;a<T4;a++)i=i-t(i)/e(i);return i}function _g(t,e){return t*Math.sqrt(1-e*e)}const S4=["duration","bounce"],k4=["stiffness","damping","mass"];function t_(t,e){return e.some(n=>t[n]!==void 0)}function N4(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!t_(t,k4)&&t_(t,S4))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*bi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Et.mass,stiffness:a,damping:l}}else{const n=_4(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function gf(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:m,damping:p,mass:x,duration:b,velocity:w,isResolvedFromDuration:E}=N4({...n,velocity:-hs(n.velocity||0)}),R=w||0,M=p/(2*Math.sqrt(m*x)),P=c-l,V=hs(Math.sqrt(m/x)),B=Math.abs(P)<5;i||(i=B?Et.restSpeed.granular:Et.restSpeed.default),a||(a=B?Et.restDelta.granular:Et.restDelta.default);let q;if(M<1){const ie=_g(V,M);q=he=>{const D=Math.exp(-M*V*he);return c-D*((R+M*V*P)/ie*Math.sin(ie*he)+P*Math.cos(ie*he))}}else if(M===1)q=ie=>c-Math.exp(-V*ie)*(P+(R+V*P)*ie);else{const ie=V*Math.sqrt(M*M-1);q=he=>{const D=Math.exp(-M*V*he),S=Math.min(ie*he,300);return c-D*((R+M*V*P)*Math.sinh(S)+ie*P*Math.cosh(S))/ie}}const K={calculatedDuration:E&&b||null,next:ie=>{const he=q(ie);if(E)h.done=ie>=b;else{let D=ie===0?R:0;M<1&&(D=ie===0?Ms(R):t2(q,ie,he));const S=Math.abs(D)<=i,N=Math.abs(c-he)<=a;h.done=S&&N}return h.value=h.done?c:he,h},toString:()=>{const ie=Math.min(Uy(K),pf),he=e2(D=>K.next(ie*D).value,ie,30);return ie+"ms "+he},toTransition:()=>{}};return K}gf.applyToOptions=t=>{const e=v4(t,100,gf);return t.ease=e.ease,t.duration=Ms(e.duration),t.type="keyframes",t};function Tg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:m,restDelta:p=.5,restSpeed:x}){const b=t[0],w={done:!1,value:b},E=S=>h!==void 0&&S<h||m!==void 0&&S>m,R=S=>h===void 0?m:m===void 0||Math.abs(h-S)<Math.abs(m-S)?h:m;let M=n*e;const P=b+M,V=c===void 0?P:c(P);V!==P&&(M=V-b);const B=S=>-M*Math.exp(-S/i),q=S=>V+B(S),K=S=>{const N=B(S),O=q(S);w.done=Math.abs(N)<=p,w.value=w.done?V:O};let ie,he;const D=S=>{E(w.value)&&(ie=S,he=gf({keyframes:[w.value,R(w.value)],velocity:t2(q,S,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:x}))};return D(0),{calculatedDuration:null,next:S=>{let N=!1;return!he&&ie===void 0&&(N=!0,K(S),D(S)),ie!==void 0&&S>=ie?he.next(S-ie):(!N&&K(S),w)}}}function A4(t,e,n){const i=[],a=n||Wi.mix||ZS,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||fs:e;h=Vu(m,h)}i.push(h)}return i}function C4(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Ry(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=A4(e,i,a),m=h.length,p=x=>{if(c&&x<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(x<t[b+1]);b++);const w=bu(t[b],t[b+1],x);return h[b](w)};return n?x=>p(bi(t[0],t[l-1],x)):p}function R4(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=bu(0,e,i);t.push(vt(n,1,a))}}function j4(t){const e=[0];return R4(e,t.length-1),e}function I4(t,e){return t.map(n=>n*e)}function D4(t,e){return t.map(()=>e||FS).splice(0,t.length-1)}function ou({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=q5(i)?i.map(Xw):Xw(i),l={done:!1,value:e[0]},c=I4(n&&n.length===e.length?n:j4(e),t),h=C4(c,e,{ease:Array.isArray(a)?a:D4(e,a)});return{calculatedDuration:t,next:m=>(l.value=h(m),l.done=m>=t,l)}}const M4=t=>t!==null;function zy(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(M4),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const P4={decay:Tg,inertia:Tg,tween:ou,keyframes:ou,spring:gf};function n2(t){typeof t.type=="string"&&(t.type=P4[t.type])}class By{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const V4=t=>t/100;class Fy extends By{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==kn.now()&&this.tick(kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;n2(e);const{type:n=ou,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const m=n||ou;m!==ou&&typeof h[0]!="number"&&(this.mixKeyframes=Vu(V4,ZS(h[0],h[1])),h=[0,100]);const p=m({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Uy(p));const{calculatedDuration:x}=p;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:x,repeat:b,repeatType:w,repeatDelay:E,type:R,onUpdate:M,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?V<0:V>a;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,K=i;if(b){const S=Math.min(this.currentTime,a)/h;let N=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&N--,N=Math.min(N,b+1),N%2&&(w==="reverse"?(O=1-O,E&&(O-=E/h)):w==="mirror"&&(K=c)),q=bi(0,1,O)*h}const ie=B?{done:!1,value:x[0]}:K.next(q);l&&(ie.value=l(ie.value));let{done:he}=ie;!B&&m!==null&&(he=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&he);return D&&R!==Tg&&(ie.value=zy(x,this.options,P,this.speed)),M&&M(ie.value),D&&this.finish(),ie}then(e,n){return this.finished.then(e,n)}get duration(){return hs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hs(e)}get time(){return hs(this.currentTime)}set time(e){e=Ms(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(kn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=b4,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function O4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $a=t=>t*180/Math.PI,Eg=t=>{const e=$a(Math.atan2(t[1],t[0]));return Sg(e)},L4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Eg,rotateZ:Eg,skewX:t=>$a(Math.atan(t[1])),skewY:t=>$a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Sg=t=>(t=t%360,t<0&&(t+=360),t),n_=Eg,s_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),i_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),U4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:s_,scaleY:i_,scale:t=>(s_(t)+i_(t))/2,rotateX:t=>Sg($a(Math.atan2(t[6],t[5]))),rotateY:t=>Sg($a(Math.atan2(-t[2],t[0]))),rotateZ:n_,rotate:n_,skewX:t=>$a(Math.atan(t[4])),skewY:t=>$a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function kg(t){return t.includes("scale")?1:0}function Ng(t,e){if(!t||t==="none")return kg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=U4,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=L4,a=h}if(!a)return kg(e);const l=i[e],c=a[1].split(",").map(B4);return typeof l=="function"?l(c):c[l]}const z4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ng(n,e)};function B4(t){return parseFloat(t.trim())}const Dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ml=new Set(Dl),r_=t=>t===Il||t===Se,F4=new Set(["x","y","z"]),H4=Dl.filter(t=>!F4.has(t));function q4(t){const e=[];return H4.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const $r={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ng(e,"x"),y:(t,{transform:e})=>Ng(e,"y")};$r.translateX=$r.x;$r.translateY=$r.y;const Xa=new Set;let Ag=!1,Cg=!1,Rg=!1;function s2(){if(Cg){const t=Array.from(Xa).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=q4(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Cg=!1,Ag=!1,Xa.forEach(t=>t.complete(Rg)),Xa.clear()}function i2(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Cg=!0)})}function G4(){Rg=!0,i2(),s2(),Rg=!1}class Hy{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),Ag||(Ag=!0,ht.read(i2),ht.resolveKeyframes(s2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}O4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $4=t=>t.startsWith("--");function K4(t,e,n){$4(e)?t.style.setProperty(e,n):t.style[e]=n}const Y4=jy(()=>window.ScrollTimeline!==void 0),X4={};function Q4(t,e){const n=jy(t);return()=>X4[e]??n()}const r2=Q4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,a_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eu([0,.65,.55,1]),circOut:eu([.55,0,1,.45]),backIn:eu([.31,.01,.66,-.59]),backOut:eu([.33,1.53,.69,.99])};function a2(t,e){if(t)return typeof t=="function"?r2()?e2(t,e):"ease-out":HS(t)?eu(t):Array.isArray(t)?t.map(n=>a2(n,e)||a_.easeOut):a_[t]}function W4(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:m}={},p=void 0){const x={[e]:n};m&&(x.offset=m);const b=a2(h,a);Array.isArray(b)&&(x.easing=b);const w={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(x,w)}function o2(t){return typeof t=="function"&&"applyToOptions"in t}function J4({type:t,...e}){return o2(t)&&r2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class l2 extends By{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Ry(typeof e.type!="string");const p=J4(e);this.animation=W4(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const x=zy(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(x):K4(n,i,x),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return hs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hs(e)}get time(){return hs(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ms(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Y4()?(this.animation.timeline=e,fs):n(this)}}const c2={anticipate:US,backInOut:LS,circInOut:BS};function Z4(t){return t in c2}function eI(t){typeof t.ease=="string"&&Z4(t.ease)&&(t.ease=c2[t.ease])}const L0=10;class tI extends l2{constructor(e){eI(e),n2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Fy({...c,autoplay:!1}),m=Math.max(L0,kn.now()-this.startTime),p=bi(0,L0,m-L0);n.setWithVelocity(h.sample(Math.max(0,m-p)).value,h.sample(m).value,p),h.stop()}}const o_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ta.test(t)||t==="0")&&!t.startsWith("url("));function nI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sI(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=o_(a,e),h=o_(l,e);return!c||!h?!1:nI(t)||(n==="spring"||o2(n))&&i}function jg(t){t.duration=0,t.type="keyframes"}const iI=new Set(["opacity","clipPath","filter","transform"]),rI=jy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aI(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return rI()&&n&&iI.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const oI=40;class lI extends By{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:m,motionValue:p,element:x,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=kn.now();const w={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:x,...b},E=x?.KeyframeResolver||Hy;this.keyframeResolver=new E(h,(R,M,P)=>this.onKeyframesResolved(R,M,w,!P),m,p,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:m,isHandoff:p,onUpdate:x}=i;this.resolvedAt=kn.now(),sI(e,l,c,h)||((Wi.instantAnimations||!m)&&x?.(zy(e,i,n)),e[0]=e[e.length-1],jg(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>oI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},E=!p&&aI(w),R=w.motionValue?.owner?.current,M=E?new tI({...w,element:R}):new Fy(w);M.finished.then(()=>{this.notifyFinished()}).catch(fs),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),G4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function u2(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,x)=>p.sortNodePosition(x)).indexOf(e),c=t.size,h=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:h-l*i}const cI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uI(t){const e=cI.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function d2(t,e,n=1){const[i,a]=uI(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return RS(c)?parseFloat(c):c}return Py(a)?d2(a,e,n+1):a}const dI={type:"spring",stiffness:500,damping:25,restSpeed:10},hI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fI={type:"keyframes",duration:.8},mI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pI=(t,{keyframes:e})=>e.length>2?fI:Ml.has(t)?t.startsWith("scale")?hI(e[1]):dI:mI,gI=t=>t!==null;function yI(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(gI),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function h2(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function qy(t,e){const n=t?.[e]??t?.default??t;return n!==t?h2(n,t):n}function xI({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:m,elapsed:p,...x}){return!!Object.keys(x).length}const Gy=(t,e,n,i={},a,l)=>c=>{const h=qy(i,t)||{},m=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ms(m);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};xI(h)||Object.assign(x,pI(t,x)),x.duration&&(x.duration=Ms(x.duration)),x.repeatDelay&&(x.repeatDelay=Ms(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let b=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(jg(x),x.delay===0&&(b=!0)),(Wi.instantAnimations||Wi.skipAnimations||a?.shouldSkipAnimations)&&(b=!0,jg(x),x.delay=0),x.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const w=yI(x.keyframes,h);if(w!==void 0){ht.update(()=>{x.onUpdate(w),x.onComplete()});return}}return h.isSync?new Fy(x):new lI(x)};function l_(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function $y(t,e,n,i){if(typeof e=="function"){const[a,l]=l_(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=l_(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function dl(t,e,n){const i=t.getProps();return $y(i,e,n!==void 0?n:i.custom,t)}const f2=new Set(["width","height","top","left","right","bottom",...Dl]),c_=30,bI=t=>!isNaN(parseFloat(t));class vI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=kn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Iy);const i=this.events[e].add(n);return e==="change"?()=>{i(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>c_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,c_);return DS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bl(t,e){return new vI(t,e)}const Ig=t=>Array.isArray(t);function wI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bl(n))}function _I(t){return Ig(t)?t[t.length-1]||0:t}function TI(t,e){const n=dl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const h=_I(l[c]);wI(t,c,h)}}const vn=t=>!!(t&&t.getVelocity);function EI(t){return!!(vn(t)&&t.add)}function Dg(t,e){const n=t.getValue("willChange");if(EI(n))return n.add(e);if(!n&&Wi.WillChange){const i=new Wi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Ky(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const SI="framerAppearId",m2="data-"+Ky(SI);function p2(t){return t.props[m2]}function kI({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function g2(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:c,...h}=e;const m=t.getDefaultTransition();l=l?h2(l,m):m;const p=l?.reduceMotion;i&&(l=i);const x=[],b=a&&t.animationState&&t.animationState.getState()[a];for(const w in h){const E=t.getValue(w,t.latestValues[w]??null),R=h[w];if(R===void 0||b&&kI(b,w))continue;const M={delay:n,...qy(l||{},w)},P=E.get();if(P!==void 0&&!E.isAnimating&&!Array.isArray(R)&&R===P&&!M.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const K=p2(t);if(K){const ie=window.MotionHandoffAnimation(K,w,ht);ie!==null&&(M.startTime=ie,V=!0)}}Dg(t,w);const B=p??t.shouldReduceMotion;E.start(Gy(w,E,R,B&&f2.has(w)?{type:!1}:M,t,V));const q=E.animation;q&&x.push(q)}if(c){const w=()=>ht.update(()=>{c&&TI(t,c)});x.length?Promise.all(x).then(w):w()}return x}function Mg(t,e,n={}){const i=dl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(g2(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:b}=a;return NI(t,e,m,p,x,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,p]=h==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function NI(t,e,n=0,i=0,a=0,l=1,c){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push(Mg(m,e,{...c,delay:n+(typeof i=="function"?0:i)+u2(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function AI(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Mg(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Mg(t,e,n);else{const a=typeof e=="function"?dl(t,e,n.custom):e;i=Promise.all(g2(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const CI={test:t=>t==="auto",parse:t=>t},y2=t=>e=>e.test(t),x2=[Il,Se,fi,Fr,s4,n4,CI],u_=t=>x2.find(y2(t));function RI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||IS(t):!0}const jI=new Set(["brightness","contrast","saturate","opacity"]);function II(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Vy)||[];if(!i)return t;const a=n.replace(i,"");let l=jI.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const DI=/\b([a-z-]*)\(.*?\)/gu,Pg={...ta,getAnimatableNone:t=>{const e=t.match(DI);return e?e.map(II).join(" "):t}},d_={...Il,transform:Math.round},MI={rotate:Fr,rotateX:Fr,rotateY:Fr,rotateZ:Fr,scale:Rh,scaleX:Rh,scaleY:Rh,scaleZ:Rh,skew:Fr,skewX:Fr,skewY:Fr,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:vu,originX:Ww,originY:Ww,originZ:Se},Yy={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,inset:Se,insetBlock:Se,insetBlockStart:Se,insetBlockEnd:Se,insetInline:Se,insetInlineStart:Se,insetInlineEnd:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,paddingBlock:Se,paddingBlockStart:Se,paddingBlockEnd:Se,paddingInline:Se,paddingInlineStart:Se,paddingInlineEnd:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,marginBlock:Se,marginBlockStart:Se,marginBlockEnd:Se,marginInline:Se,marginInlineStart:Se,marginInlineEnd:Se,fontSize:Se,backgroundPositionX:Se,backgroundPositionY:Se,...MI,zIndex:d_,fillOpacity:vu,strokeOpacity:vu,numOctaves:d_},PI={...Yy,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:Pg,WebkitFilter:Pg},b2=t=>PI[t];function v2(t,e){let n=b2(t);return n!==Pg&&(n=ta),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VI=new Set(["auto","none","0"]);function OI(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!VI.has(l)&&wu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=v2(n,a)}class LI extends Hy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let x=0;x<e.length;x++){let b=e[x];if(typeof b=="string"&&(b=b.trim(),Py(b))){const w=d2(b,n.current);w!==void 0&&(e[x]=w),x===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!f2.has(i)||e.length!==2)return;const[a,l]=e,c=u_(a),h=u_(l),m=Qw(a),p=Qw(l);if(m!==p&&$r[i]){this.needsMeasurement=!0;return}if(c!==h)if(r_(c)&&r_(h))for(let x=0;x<e.length;x++){const b=e[x];typeof b=="string"&&(e[x]=parseFloat(b))}else $r[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||RI(e[a]))&&i.push(a);i.length&&OI(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$r[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=$r[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const UI=new Set(["opacity","clipPath","filter","transform"]);function w2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const _2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Vg(t){return jS(t)&&"offsetHeight"in t}const{schedule:Xy}=qS(queueMicrotask,!1),Rs={x:!1,y:!1};function T2(){return Rs.x||Rs.y}function zI(t){return t==="x"||t==="y"?Rs[t]?null:(Rs[t]=!0,()=>{Rs[t]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}function E2(t,e){const n=w2(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function BI(t){return!(t.pointerType==="touch"||T2())}function FI(t,e,n={}){const[i,a,l]=E2(t,n);return i.forEach(c=>{let h=!1,m=!1,p;const x=()=>{c.removeEventListener("pointerleave",R)},b=P=>{p&&(p(P),p=void 0),x()},w=P=>{h=!1,window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",w),m&&(m=!1,b(P))},E=()=>{h=!0,window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",w,a)},R=P=>{if(P.pointerType!=="touch"){if(h){m=!0;return}b(P)}},M=P=>{if(!BI(P))return;m=!1;const V=e(c,P);typeof V=="function"&&(p=V,c.addEventListener("pointerleave",R,a))};c.addEventListener("pointerenter",M,a),c.addEventListener("pointerdown",E,a)}),l}const S2=(t,e)=>e?t===e?!0:S2(t,e.parentElement):!1,Qy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,HI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qI(t){return HI.has(t.tagName)||t.isContentEditable===!0}const GI=new Set(["INPUT","SELECT","TEXTAREA"]);function $I(t){return GI.has(t.tagName)||t.isContentEditable===!0}const $h=new WeakSet;function h_(t){return e=>{e.key==="Enter"&&t(e)}}function U0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KI=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=h_(()=>{if($h.has(n))return;U0(n,"down");const a=h_(()=>{U0(n,"up")}),l=()=>U0(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function f_(t){return Qy(t)&&!T2()}const m_=new WeakSet;function YI(t,e,n={}){const[i,a,l]=E2(t,n),c=h=>{const m=h.currentTarget;if(!f_(h)||m_.has(h))return;$h.add(m),n.stopPropagation&&m_.add(h);const p=e(m,h),x=(E,R)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),$h.has(m)&&$h.delete(m),f_(E)&&typeof p=="function"&&p(E,{success:R})},b=E=>{x(E,m===window||m===document||n.useGlobalTarget||S2(m,E.target))},w=E=>{x(E,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),Vg(h)&&(h.addEventListener("focus",p=>KI(p,a)),!qI(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Wy(t){return jS(t)&&"ownerSVGElement"in t}const Kh=new WeakMap;let Yh;const k2=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:Wy(i)&&"getBBox"in i?i.getBBox()[e]:i[n],XI=k2("inline","width","offsetWidth"),QI=k2("block","height","offsetHeight");function WI({target:t,borderBoxSize:e}){Kh.get(t)?.forEach(n=>{n(t,{get width(){return XI(t,e)},get height(){return QI(t,e)}})})}function JI(t){t.forEach(WI)}function ZI(){typeof ResizeObserver>"u"||(Yh=new ResizeObserver(JI))}function eD(t,e){Yh||ZI();const n=w2(t);return n.forEach(i=>{let a=Kh.get(i);a||(a=new Set,Kh.set(i,a)),a.add(e),Yh?.observe(i)}),()=>{n.forEach(i=>{const a=Kh.get(i);a?.delete(e),a?.size||Yh?.unobserve(i)})}}const Xh=new Set;let ol;function tD(){ol=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Xh.forEach(e=>e(t))},window.addEventListener("resize",ol)}function nD(t){return Xh.add(t),ol||tD(),()=>{Xh.delete(t),!Xh.size&&typeof ol=="function"&&(window.removeEventListener("resize",ol),ol=void 0)}}function p_(t,e){return typeof t=="function"?nD(t):eD(t,e)}function sD(t){return Wy(t)&&t.tagName==="svg"}const iD=[...x2,Ft,ta],rD=t=>iD.find(y2(t)),g_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:g_(),y:g_()}),y_=()=>({min:0,max:0}),Xt=()=>({x:y_(),y:y_()}),aD=new WeakMap;function Jf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _u(t){return typeof t=="string"||Array.isArray(t)}const Jy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zy=["initial",...Jy];function Zf(t){return Jf(t.animate)||Zy.some(e=>_u(t[e]))}function N2(t){return!!(Zf(t)||t.variants)}function oD(t,e,n){for(const i in e){const a=e[i],l=n[i];if(vn(a))t.addValue(i,a);else if(vn(l))t.addValue(i,bl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,bl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Og={current:null},A2={current:!1},lD=typeof window<"u";function cD(){if(A2.current=!0,!!lD)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Og.current=t.matches;t.addEventListener("change",e),e()}else Og.current=!1}const x_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yf={};function C2(t){yf=t}function uD(){return yf}class dD{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Hy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=kn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ht.render(this.render,!1,!0))};const{latestValues:p,renderState:x}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=x,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Zf(n),this.isVariantNode=N2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in w){const R=w[E];p[E]!==void 0&&vn(R)&&R.set(p[E])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,aD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(A2.current||cD(),this.shouldReduceMotion=Og.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ea(this.notifyUpdate),ea(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&UI.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:h,times:m,ease:p,duration:x}=n.accelerate,b=new l2({element:this.current,name:e,keyframes:h,times:m,ease:p,duration:Ms(x)}),w=c(b);this.valueSubscriptions.set(e,()=>{w(),b.cancel()});return}const i=Ml.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ht.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yf){const n=yf[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<x_.length;i++){const a=x_[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=oD(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=bl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(RS(i)||IS(i))?i=parseFloat(i):!rD(i)&&ta.test(n)&&(i=v2(e,n)),this.setBaseTarget(e,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=$y(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!vn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Iy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Xy.render(this.render)}}class R2 extends dD{constructor(){super(...arguments),this.KeyframeResolver=LI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ca{constructor(e){this.isMounted=!1,this.node=e}update(){}}function j2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function hD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function z0(t){return t===void 0||t===1}function Lg({scale:t,scaleX:e,scaleY:n}){return!z0(t)||!z0(e)||!z0(n)}function Ha(t){return Lg(t)||I2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function I2(t){return b_(t.x)||b_(t.y)}function b_(t){return t&&t!=="0%"}function xf(t,e,n){const i=t-n,a=e*i;return n+a}function v_(t,e,n,i,a){return a!==void 0&&(t=xf(t,a,i)),xf(t,n,i)+e}function Ug(t,e=0,n=1,i,a){t.min=v_(t.min,e,n,i,a),t.max=v_(t.max,e,n,i,a)}function D2(t,{x:e,y:n}){Ug(t.x,e.translate,e.scale,e.originPoint),Ug(t.y,n.translate,n.scale,n.originPoint)}const w_=.999999999999,__=1.0000000000001;function mD(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ul(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,D2(t,c)),i&&Ha(l.latestValues)&&ul(t,l.latestValues))}e.x<__&&e.x>w_&&(e.x=1),e.y<__&&e.y>w_&&(e.y=1)}function cl(t,e){t.min=t.min+e,t.max=t.max+e}function T_(t,e,n,i,a=.5){const l=vt(t.min,t.max,a);Ug(t,e,n,l,i)}function ul(t,e){T_(t.x,e.x,e.scaleX,e.scale,e.originX),T_(t.y,e.y,e.scaleY,e.scale,e.originY)}function M2(t,e){return j2(fD(t.getBoundingClientRect(),e))}function pD(t,e,n){const i=M2(t,n),{scroll:a}=e;return a&&(cl(i.x,a.offset.x),cl(i.y,a.offset.y)),i}const gD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yD=Dl.length;function xD(t,e,n){let i="",a=!0;for(let l=0;l<yD;l++){const c=Dl[l],h=t[c];if(h===void 0)continue;let m=!0;if(typeof h=="number")m=h===(c.startsWith("scale")?1:0);else{const p=parseFloat(h);m=c.startsWith("scale")?p===1:p===0}if(!m||n){const p=_2(h,Yy[c]);if(!m){a=!1;const x=gD[c]||c;i+=`${x}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function ex(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const m in e){const p=e[m];if(Ml.has(m)){c=!0;continue}else if($S(m)){a[m]=p;continue}else{const x=_2(p,Yy[m]);m.startsWith("origin")?(h=!0,l[m]=x):i[m]=x}}if(e.transform||(c||n?i.transform=xD(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:x=0}=l;i.transformOrigin=`${m} ${p} ${x}`}}function P2(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function E_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=E_(t,e.target.x),i=E_(t,e.target.y);return`${n}% ${i}%`}},bD={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=ta.parse(t);if(a.length>5)return i;const l=ta.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=m;const p=vt(h,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},zg={borderRadius:{...Qc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qc,borderTopRightRadius:Qc,borderBottomLeftRadius:Qc,borderBottomRightRadius:Qc,boxShadow:bD};function V2(t,{layout:e,layoutId:n}){return Ml.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zg[t]||t==="opacity")}function tx(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(vn(i[c])||a&&vn(a[c])||V2(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function vD(t){return window.getComputedStyle(t)}class wD extends R2{constructor(){super(...arguments),this.type="html",this.renderInstance=P2}readValueFromInstance(e,n){if(Ml.has(n))return this.projection?.isProjecting?kg(n):z4(e,n);{const i=vD(e),a=($S(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return M2(e,n)}build(e,n,i){ex(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return tx(e,n,i)}}const _D={offset:"stroke-dashoffset",array:"stroke-dasharray"},TD={offset:"strokeDashoffset",array:"strokeDasharray"};function ED(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?_D:TD;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const SD=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function O2(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},m,p,x){if(ex(t,h,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w}=t;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=x?.transformBox??"fill-box",delete b.transformBox);for(const E of SD)b[E]!==void 0&&(w[E]=b[E],delete b[E]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&ED(b,a,l,c,!1)}const L2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),U2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kD(t,e,n,i){P2(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(L2.has(a)?a:Ky(a),e.attrs[a])}function z2(t,e,n){const i=tx(t,e,n);for(const a in t)if(vn(t[a])||vn(e[a])){const l=Dl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class ND extends R2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ml.has(n)){const i=b2(n);return i&&i.default||0}return n=L2.has(n)?n:Ky(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return z2(e,n,i)}build(e,n,i){O2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){kD(e,n,i,a)}mount(e){this.isSVGTag=U2(e.tagName),super.mount(e)}}const AD=Zy.length;function B2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?B2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<AD;n++){const i=Zy[n],a=t.props[i];(_u(a)||a===!1)&&(e[i]=a)}return e}function F2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const CD=[...Jy].reverse(),RD=Jy.length;function jD(t){return e=>Promise.all(e.map(({animation:n,options:i})=>AI(t,n,i)))}function ID(t){let e=jD(t),n=S_(),i=!0;const a=m=>(p,x)=>{const b=dl(t,x,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:E,...R}=b;p={...p,...R,...E}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,x=B2(t.parent)||{},b=[],w=new Set;let E={},R=1/0;for(let P=0;P<RD;P++){const V=CD[P],B=n[V],q=p[V]!==void 0?p[V]:x[V],K=_u(q),ie=V===m?B.isActive:null;ie===!1&&(R=P);let he=q===x[V]&&q!==p[V]&&K;if(he&&i&&t.manuallyAnimateOnMount&&(he=!1),B.protectedKeys={...E},!B.isActive&&ie===null||!q&&!B.prevProp||Jf(q)||typeof q=="boolean")continue;if(V==="exit"&&B.isActive&&ie!==!0){B.prevResolvedValues&&(E={...E,...B.prevResolvedValues});continue}const D=DD(B.prevProp,q);let S=D||V===m&&B.isActive&&!he&&K||P>R&&K,N=!1;const O=Array.isArray(q)?q:[q];let L=O.reduce(a(V),{});ie===!1&&(L={});const{prevResolvedValues:F={}}=B,j={...F,...L},Re=ne=>{S=!0,w.has(ne)&&(N=!0,w.delete(ne)),B.needsAnimating[ne]=!0;const Z=t.getValue(ne);Z&&(Z.liveStyle=!1)};for(const ne in j){const Z=L[ne],ve=F[ne];if(E.hasOwnProperty(ne))continue;let re=!1;Ig(Z)&&Ig(ve)?re=!F2(Z,ve):re=Z!==ve,re?Z!=null?Re(ne):w.add(ne):Z!==void 0&&w.has(ne)?Re(ne):B.protectedKeys[ne]=!0}B.prevProp=q,B.prevResolvedValues=L,B.isActive&&(E={...E,...L}),i&&t.blockInitialAnimation&&(S=!1);const je=he&&D;S&&(!je||N)&&b.push(...O.map(ne=>{const Z={type:V};if(typeof ne=="string"&&i&&!je&&t.manuallyAnimateOnMount&&t.parent){const{parent:ve}=t,re=dl(ve,ne);if(ve.enteringChildren&&re){const{delayChildren:I}=re.transition||{};Z.delay=u2(ve.enteringChildren,t,I)}}return{animation:ne,options:Z}}))}if(w.size){const P={};if(typeof p.initial!="boolean"){const V=dl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);V&&V.transition&&(P.transition=V.transition)}w.forEach(V=>{const B=t.getBaseTarget(V),q=t.getValue(V);q&&(q.liveStyle=!0),P[V]=B??null}),b.push({animation:P})}let M=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(b):Promise.resolve()}function h(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,p)),n[m].isActive=p;const x=c(m);for(const b in n)n[b].protectedKeys={};return x}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=S_()}}}function DD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!F2(e,t):!1}function Ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S_(){return{animate:Ba(!0),whileInView:Ba(),whileHover:Ba(),whileTap:Ba(),whileDrag:Ba(),whileFocus:Ba(),exit:Ba()}}function k_(t,e){t.min=e.min,t.max=e.max}function As(t,e){k_(t.x,e.x),k_(t.y,e.y)}function N_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const H2=1e-4,MD=1-H2,PD=1+H2,q2=.01,VD=0-q2,OD=0+q2;function Nn(t){return t.max-t.min}function LD(t,e,n){return Math.abs(t-e)<=n}function A_(t,e,n,i=.5){t.origin=i,t.originPoint=vt(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=MD&&t.scale<=PD||isNaN(t.scale))&&(t.scale=1),(t.translate>=VD&&t.translate<=OD||isNaN(t.translate))&&(t.translate=0)}function lu(t,e,n,i){A_(t.x,e.x,n.x,i?i.originX:void 0),A_(t.y,e.y,n.y,i?i.originY:void 0)}function C_(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function UD(t,e,n){C_(t.x,e.x,n.x),C_(t.y,e.y,n.y)}function R_(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function bf(t,e,n){R_(t.x,e.x,n.x),R_(t.y,e.y,n.y)}function j_(t,e,n,i,a){return t-=e,t=xf(t,1/n,i),a!==void 0&&(t=xf(t,1/a,i)),t}function zD(t,e=0,n=1,i=.5,a,l=t,c=t){if(fi.test(e)&&(e=parseFloat(e),e=vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=vt(l.min,l.max,i);t===l&&(h-=e),t.min=j_(t.min,e,n,h,a),t.max=j_(t.max,e,n,h,a)}function I_(t,e,[n,i,a],l,c){zD(t,e[n],e[i],e[a],e.scale,l,c)}const BD=["x","scaleX","originX"],FD=["y","scaleY","originY"];function D_(t,e,n,i){I_(t.x,e,BD,n?n.x:void 0,i?i.x:void 0),I_(t.y,e,FD,n?n.y:void 0,i?i.y:void 0)}function M_(t){return t.translate===0&&t.scale===1}function G2(t){return M_(t.x)&&M_(t.y)}function P_(t,e){return t.min===e.min&&t.max===e.max}function HD(t,e){return P_(t.x,e.x)&&P_(t.y,e.y)}function V_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $2(t,e){return V_(t.x,e.x)&&V_(t.y,e.y)}function O_(t){return Nn(t.x)/Nn(t.y)}function L_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function di(t){return[t("x"),t("y")]}function qD(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:x,rotateX:b,rotateY:w,skewX:E,skewY:R}=n;p&&(i=`perspective(${p}px) ${i}`),x&&(i+=`rotate(${x}deg) `),b&&(i+=`rotateX(${b}deg) `),w&&(i+=`rotateY(${w}deg) `),E&&(i+=`skewX(${E}deg) `),R&&(i+=`skewY(${R}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const K2=["TopLeft","TopRight","BottomLeft","BottomRight"],GD=K2.length,U_=t=>typeof t=="string"?parseFloat(t):t,z_=t=>typeof t=="number"||Se.test(t);function $D(t,e,n,i,a,l){a?(t.opacity=vt(0,n.opacity??1,KD(i)),t.opacityExit=vt(e.opacity??1,0,YD(i))):l&&(t.opacity=vt(e.opacity??1,n.opacity??1,i));for(let c=0;c<GD;c++){const h=`border${K2[c]}Radius`;let m=B_(e,h),p=B_(n,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||z_(m)===z_(p)?(t[h]=Math.max(vt(U_(m),U_(p),i),0),(fi.test(p)||fi.test(m))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,i))}function B_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const KD=Y2(0,.5,zS),YD=Y2(.5,.95,fs);function Y2(t,e,n){return i=>i<t?0:i>e?1:n(bu(t,e,i))}function XD(t,e,n){const i=vn(t)?t:bl(t);return i.start(Gy("",i,e,n)),i.animation}function Tu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const QD=(t,e)=>t.depth-e.depth;class WD{constructor(){this.children=[],this.isDirty=!1}add(e){Cy(this.children,e),this.isDirty=!0}remove(e){ff(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(QD),this.isDirty=!1,this.children.forEach(e)}}function JD(t,e){const n=kn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(ea(i),t(l-e))};return ht.setup(i,!0),()=>ea(i)}function Qh(t){return vn(t)?t.get():t}class ZD{constructor(){this.members=[]}add(e){Cy(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&ff(this.members,i)}e.scheduleRender()}remove(e){if(ff(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Wh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},B0=["","X","Y","Z"],e3=1e3;let t3=0;function F0(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function X2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=p2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&X2(i)}function Q2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=t3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(i3),this.nodes.forEach(l3),this.nodes.forEach(c3),this.nodes.forEach(r3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new WD)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Iy),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const m=this.eventHandlers.get(c);m&&m.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Wy(c)&&!sD(c),this.instance=c;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let x,b=0;const w=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{b=window.innerWidth}),t(c,()=>{const E=window.innerWidth;E!==b&&(b=E,this.root.updateBlockedByResize=!0,x&&x(),x=JD(w,250),Wh.hasAnimatedSinceResize&&(Wh.hasAnimatedSinceResize=!1,this.nodes.forEach(q_)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||p.getDefaultTransition()||m3,{onLayoutAnimationStart:M,onLayoutAnimationComplete:P}=p.getProps(),V=!this.targetLayout||!$2(this.targetLayout,E),B=!b&&w;if(this.options.layoutRoot||this.resumeFrom||B||b&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...qy(R,"layout"),onPlay:M,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(x,B)}else b||q_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&X2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const b=this.path[x];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(H_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(o3),this.nodes.forEach(n3),this.nodes.forEach(s3)):this.nodes.forEach(H_),this.clearAllSnapshots();const h=kn.now();dn.delta=bi(0,1e3/60,h-dn.timestamp),dn.timestamp=h,dn.isProcessing=!0,D0.update.process(dn),D0.preRender.process(dn),D0.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a3),this.sharedNodes.forEach(d3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nn(this.snapshot.measuredBox.x)&&!Nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!G2(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,x=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||Ha(this.latestValues)||x)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return c&&(m=this.removeTransform(m)),p3(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Xt();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(g3))){const{scroll:p}=this.root;p&&(cl(h.x,p.offset.x),cl(h.y,p.offset.y))}return h}removeElementScroll(c){const h=Xt();if(As(h,c),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:x,options:b}=p;p!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&As(h,c),cl(h.x,x.offset.x),cl(h.y,x.offset.y))}return h}applyTransform(c,h=!1){const m=Xt();As(m,c);for(let p=0;p<this.path.length;p++){const x=this.path[p];!h&&x.options.layoutScroll&&x.scroll&&x!==x.root&&ul(m,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Ha(x.latestValues)&&ul(m,x.latestValues)}return Ha(this.latestValues)&&ul(m,this.latestValues),m}removeTransform(c){const h=Xt();As(h,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ha(p.latestValues))continue;Lg(p.latestValues)&&p.updateSnapshot();const x=Xt(),b=p.measurePageBox();As(x,b),D_(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,x)}return Ha(this.latestValues)&&D_(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!this.layout||!(x||b))return;this.resolvedRelativeTargetAt=dn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):As(this.target,this.layout.layoutBox),D2(this.target,this.targetDelta)):As(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Lg(this.parent.latestValues)||I2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),bf(this.relativeTargetOrigin,h,m),As(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||x))return;As(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;mD(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Xt());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(N_(this.prevProjectionDelta.x,this.projectionDelta.x),N_(this.prevProjectionDelta.y,this.projectionDelta.y)),lu(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!L_(this.projectionDelta.x,this.prevProjectionDelta.x)||!L_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ll(),this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll()}setAnimationOrigin(c,h=!1){const m=this.snapshot,p=m?m.latestValues:{},x={...this.latestValues},b=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Xt(),E=m?m.source:void 0,R=this.layout?this.layout.source:void 0,M=E!==R,P=this.getStack(),V=!P||P.members.length<=1,B=!!(M&&!V&&this.options.crossfade===!0&&!this.path.some(f3));this.animationProgress=0;let q;this.mixTargetDelta=K=>{const ie=K/1e3;G_(b.x,c.x,ie),G_(b.y,c.y,ie),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h3(this.relativeTarget,this.relativeTargetOrigin,w,ie),q&&HD(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Xt()),As(q,this.relativeTarget)),M&&(this.animationValues=x,$D(x,p,this.latestValues,ie,B,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Wh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bl(0)),this.currentAnimation=XD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:x}=c;if(!(!h||!m||!p)){if(this!==c&&this.layout&&p&&W2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Xt();const b=Nn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+b;const w=Nn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}As(h,m),ul(h,x),lu(this.projectionDeltaWithTransform,this.layoutCorrected,h,x)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new ZD),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&F0("z",c,p,this.animationValues);for(let x=0;x<B0.length;x++)F0(`rotate${B0[x]}`,c,p,this.animationValues),F0(`skew${B0[x]}`,c,p,this.animationValues);c.render();for(const x in p)c.setStaticValue(x,p[x]),this.animationValues&&(this.animationValues[x]=p[x]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Qh(h?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Qh(h?.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const x=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=qD(this.projectionDeltaWithTransform,this.treeScale,x);m&&(b=m(x,b)),c.transform=b;const{x:w,y:E}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,p.animationValues?c.opacity=p===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:c.opacity=p===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const R in zg){if(x[R]===void 0)continue;const{correct:M,applyTo:P,isCSSVariable:V}=zg[R],B=b==="none"?x[R]:M(x[R],p);if(P){const q=P.length;for(let K=0;K<q;K++)c[P[K]]=B}else V?this.options.visualElement.renderState.vars[R]=B:c[R]=B}this.options.layoutId&&(c.pointerEvents=p===this?Qh(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(F_),this.root.sharedNodes.clear()}}}function n3(t){t.updateLayout()}function s3(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?di(x=>{const b=l?e.measuredBox[x]:e.layoutBox[x],w=Nn(b);b.min=n[x].min,b.max=b.min+w}):W2(a,e.layoutBox,n)&&di(x=>{const b=l?e.measuredBox[x]:e.layoutBox[x],w=Nn(n[x]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+w)});const c=ll();lu(c,n,e.layoutBox);const h=ll();l?lu(h,t.applyTransform(i,!0),e.measuredBox):lu(h,n,e.layoutBox);const m=!G2(c);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:w}=x;if(b&&w){const E=Xt();bf(E,e.layoutBox,b.layoutBox);const R=Xt();bf(R,n,w.layoutBox),$2(E,R)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=E,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function i3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function r3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function a3(t){t.clearSnapshot()}function F_(t){t.clearMeasurements()}function H_(t){t.isLayoutDirty=!1}function o3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function q_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function l3(t){t.resolveTargetDelta()}function c3(t){t.calcProjection()}function u3(t){t.resetSkewAndRotation()}function d3(t){t.removeLeadSnapshot()}function G_(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $_(t,e,n,i){t.min=vt(e.min,n.min,i),t.max=vt(e.max,n.max,i)}function h3(t,e,n,i){$_(t.x,e.x,n.x,i),$_(t.y,e.y,n.y,i)}function f3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const m3={duration:.45,ease:[.4,0,.1,1]},K_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Y_=K_("applewebkit/")&&!K_("chrome/")?Math.round:fs;function X_(t){t.min=Y_(t.min),t.max=Y_(t.max)}function p3(t){X_(t.x),X_(t.y)}function W2(t,e,n){return t==="position"||t==="preserve-aspect"&&!LD(O_(e),O_(n),.2)}function g3(t){return t!==t.root&&t.scroll?.wasRoot}const y3=Q2({attachResizeListener:(t,e)=>Tu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),H0={current:void 0},J2=Q2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!H0.current){const t=new y3({});t.mount(window),t.setOptions({layoutScroll:!0}),H0.current=t}return H0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nx=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Q_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function x3(...t){return e=>{let n=!1;const i=t.map(a=>{const l=Q_(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Q_(t[a],null)}}}}function b3(...t){return A.useCallback(x3(...t),t)}class v3 extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=Vg(i)&&i.offsetWidth||0,l=Vg(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function w3({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const c=A.useId(),h=A.useRef(null),m=A.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=A.useContext(nx),x=t.props?.ref??t?.ref,b=b3(h,x);return A.useInsertionEffect(()=>{const{width:w,height:E,top:R,left:M,right:P,bottom:V}=m.current;if(e||l===!1||!h.current||!w||!E)return;const B=n==="left"?`left: ${M}`:`right: ${P}`,q=i==="bottom"?`bottom: ${V}`:`top: ${R}`;h.current.dataset.motionPopId=c;const K=document.createElement("style");p&&(K.nonce=p);const ie=a??document.head;return ie.appendChild(K),K.sheet&&K.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${E}px !important;
            ${B}px !important;
            ${q}px !important;
          }
        `),()=>{ie.contains(K)&&ie.removeChild(K)}},[e]),d.jsx(v3,{isPresent:e,childRef:h,sizeRef:m,pop:l,children:l===!1?t:A.cloneElement(t,{ref:b})})}const _3=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:m,root:p})=>{const x=Ay(T3),b=A.useId();let w=!0,E=A.useMemo(()=>(w=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:R=>{x.set(R,!0);for(const M of x.values())if(!M)return;i&&i()},register:R=>(x.set(R,!1),()=>x.delete(R))}),[n,x,i]);return l&&w&&(E={...E}),A.useMemo(()=>{x.forEach((R,M)=>x.set(M,!1))},[n]),A.useEffect(()=>{!n&&!x.size&&i&&i()},[n]),t=d.jsx(w3,{pop:c==="popLayout",isPresent:n,anchorX:h,anchorY:m,root:p,children:t}),d.jsx(Wf.Provider,{value:E,children:t})};function T3(){return new Map}function Z2(t=!0){const e=A.useContext(Wf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=A.useId();A.useEffect(()=>{if(t)return a(l)},[t]);const c=A.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const jh=t=>t.key||"";function W_(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const Ln=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:m="top",root:p})=>{const[x,b]=Z2(c),w=A.useMemo(()=>W_(t),[t]),E=c&&!x?[]:w.map(jh),R=A.useRef(!0),M=A.useRef(w),P=Ay(()=>new Map),V=A.useRef(new Set),[B,q]=A.useState(w),[K,ie]=A.useState(w);CS(()=>{R.current=!1,M.current=w;for(let S=0;S<K.length;S++){const N=jh(K[S]);E.includes(N)?(P.delete(N),V.current.delete(N)):P.get(N)!==!0&&P.set(N,!1)}},[K,E.length,E.join("-")]);const he=[];if(w!==B){let S=[...w];for(let N=0;N<K.length;N++){const O=K[N],L=jh(O);E.includes(L)||(S.splice(N,0,O),he.push(O))}return l==="wait"&&he.length&&(S=he),ie(W_(S)),q(w),null}const{forceRender:D}=A.useContext(Ny);return d.jsx(d.Fragment,{children:K.map(S=>{const N=jh(S),O=c&&!x?!1:w===K||E.includes(N),L=()=>{if(V.current.has(N))return;if(V.current.add(N),P.has(N))P.set(N,!0);else return;let F=!0;P.forEach(j=>{j||(F=!1)}),F&&(D?.(),ie(M.current),c&&b?.(),i&&i())};return d.jsx(_3,{isPresent:O,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:O?void 0:L,anchorX:h,anchorY:m,children:S},N)})})},ek=A.createContext({strict:!1}),J_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Z_=!1;function E3(){if(Z_)return;const t={};for(const e in J_)t[e]={isEnabled:n=>J_[e].some(i=>!!n[i])};C2(t),Z_=!0}function tk(){return E3(),uD()}function S3(t){const e=tk();for(const n in t)e[n]={...e[n],...t[n]};C2(e)}const k3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function vf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||k3.has(t)}let nk=t=>!vf(t);function N3(t){typeof t=="function"&&(nk=e=>e.startsWith("on")?!vf(e):t(e))}try{N3(require("@emotion/is-prop-valid").default)}catch{}function A3(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(nk(a)||n===!0&&vf(a)||!e&&!vf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const em=A.createContext({});function C3(t,e){if(Zf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||_u(n)?n:void 0,animate:_u(i)?i:void 0}}return t.inherit!==!1?e:{}}function R3(t){const{initial:e,animate:n}=C3(t,A.useContext(em));return A.useMemo(()=>({initial:e,animate:n}),[eT(e),eT(n)])}function eT(t){return Array.isArray(t)?t.join(" "):t}const sx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sk(t,e,n){for(const i in e)!vn(e[i])&&!V2(i,n)&&(t[i]=e[i])}function j3({transformTemplate:t},e){return A.useMemo(()=>{const n=sx();return ex(n,e,t),Object.assign({},n.vars,n.style)},[e])}function I3(t,e){const n=t.style||{},i={};return sk(i,n,t),Object.assign(i,j3(t,e)),i}function D3(t,e){const n={},i=I3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const ik=()=>({...sx(),attrs:{}});function M3(t,e,n,i){const a=A.useMemo(()=>{const l=ik();return O2(l,e,U2(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};sk(l,t.style,t),a.style={...l,...a.style}}return a}const P3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ix(t){return typeof t!="string"||t.includes("-")?!1:!!(P3.indexOf(t)>-1||/[A-Z]/u.test(t))}function V3(t,e,n,{latestValues:i},a,l=!1,c){const m=(c??ix(t)?M3:D3)(e,i,a,t),p=A3(e,typeof t=="string",l),x=t!==A.Fragment?{...p,...m,ref:n}:{},{children:b}=e,w=A.useMemo(()=>vn(b)?b.get():b,[b]);return A.createElement(t,{...x,children:w})}function O3({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:L3(n,i,a,t),renderState:e()}}function L3(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=Qh(l[w]);let{initial:c,animate:h}=t;const m=Zf(t),p=N2(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let x=n?n.initial===!1:!1;x=x||c===!1;const b=x?h:c;if(b&&typeof b!="boolean"&&!Jf(b)){const w=Array.isArray(b)?b:[b];for(let E=0;E<w.length;E++){const R=$y(t,w[E]);if(R){const{transitionEnd:M,transition:P,...V}=R;for(const B in V){let q=V[B];if(Array.isArray(q)){const K=x?q.length-1:0;q=q[K]}q!==null&&(a[B]=q)}for(const B in M)a[B]=M[B]}}}return a}const rk=t=>(e,n)=>{const i=A.useContext(em),a=A.useContext(Wf),l=()=>O3(t,e,i,a);return n?l():Ay(l)},U3=rk({scrapeMotionValuesFromProps:tx,createRenderState:sx}),z3=rk({scrapeMotionValuesFromProps:z2,createRenderState:ik}),B3=Symbol.for("motionComponentSymbol");function F3(t,e,n){const i=A.useRef(n);A.useInsertionEffect(()=>{i.current=n});const a=A.useRef(null);return A.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const ak=A.createContext({});function tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function H3(t,e,n,i,a,l){const{visualElement:c}=A.useContext(em),h=A.useContext(ek),m=A.useContext(Wf),p=A.useContext(nx),x=p.reducedMotion,b=p.skipAnimations,w=A.useRef(null),E=A.useRef(!1);i=i||h.renderer,!w.current&&i&&(w.current=i(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:x,skipAnimations:b,isSVG:l}),E.current&&w.current&&(w.current.manuallyAnimateOnMount=!0));const R=w.current,M=A.useContext(ak);R&&!R.projection&&a&&(R.type==="html"||R.type==="svg")&&q3(w.current,n,a,M);const P=A.useRef(!1);A.useInsertionEffect(()=>{R&&P.current&&R.update(n,m)});const V=n[m2],B=A.useRef(!!V&&!window.MotionHandoffIsComplete?.(V)&&window.MotionHasOptimisedAnimation?.(V));return CS(()=>{E.current=!0,R&&(P.current=!0,window.MotionIsMounted=!0,R.updateFeatures(),R.scheduleRenderMicrotask(),B.current&&R.animationState&&R.animationState.animateChanges())}),A.useEffect(()=>{R&&(!B.current&&R.animationState&&R.animationState.animateChanges(),B.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(V)}),B.current=!1),R.enteringChildren=void 0)}),R}function q3(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ok(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&tl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:m,layoutRoot:p})}function ok(t){if(t)return t.options.allowProjection!==!1?t.projection:ok(t.parent)}function q0(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&S3(i);const l=n?n==="svg":ix(t),c=l?z3:U3;function h(p,x){let b;const w={...A.useContext(nx),...p,layoutId:G3(p)},{isStatic:E}=w,R=R3(p),M=c(p,E);if(!E&&AS){$3();const P=K3(w);b=P.MeasureLayout,R.visualElement=H3(t,M,w,a,P.ProjectionNode,l)}return d.jsxs(em.Provider,{value:R,children:[b&&R.visualElement?d.jsx(b,{visualElement:R.visualElement,...w}):null,V3(t,p,F3(M,R.visualElement,x),M,E,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=A.forwardRef(h);return m[B3]=t,m}function G3({layoutId:t}){const e=A.useContext(Ny).id;return e&&t!==void 0?e+"-"+t:t}function $3(t,e){A.useContext(ek).strict}function K3(t){const e=tk(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Y3(t,e){if(typeof Proxy>"u")return q0;const n=new Map,i=(l,c)=>q0(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,q0(c,void 0,t,e)),n.get(c))})}const X3=(t,e)=>e.isSVG??ix(t)?new ND(e):new wD(e,{allowProjection:t!==A.Fragment});class Q3 extends ca{constructor(e){super(e),e.animationState||(e.animationState=ID(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let W3=0;class J3 extends ca{constructor(){super(...arguments),this.id=W3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Z3={animation:{Feature:Q3},exit:{Feature:J3}};function Uu(t){return{point:{x:t.pageX,y:t.pageY}}}const eM=t=>e=>Qy(e)&&t(e,Uu(e));function cu(t,e,n,i){return Tu(t,e,eM(n),i)}const lk=({current:t})=>t?t.ownerDocument.defaultView:null,tT=(t,e)=>Math.abs(t-e);function tM(t,e){const n=tT(t.x,e.x),i=tT(t.y,e.y);return Math.sqrt(n**2+i**2)}const nT=new Set(["auto","scroll"]);class ck{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=E=>{this.handleScroll(E.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=$0(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,M=tM(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!M)return;const{point:P}=E,{timestamp:V}=dn;this.history.push({...P,timestamp:V});const{onStart:B,onMove:q}=this.handlers;R||(B&&B(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,E)},this.handlePointerMove=(E,R)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=G0(R,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(E,R)=>{this.end();const{onEnd:M,onSessionEnd:P,resumeAnimation:V}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=$0(E.type==="pointercancel"?this.lastMoveEventInfo:G0(R,this.transformPagePoint),this.history);this.startEvent&&M&&M(E,B),P&&P(E,B)},!Qy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const m=Uu(e),p=G0(m,this.transformPagePoint),{point:x}=p,{timestamp:b}=dn;this.history=[{...x,timestamp:b}];const{onSessionStart:w}=n;w&&w(e,$0(p,this.history)),this.removeListeners=Vu(cu(this.contextWindow,"pointermove",this.handlePointerMove),cu(this.contextWindow,"pointerup",this.handlePointerUp),cu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(nT.has(i.overflowX)||nT.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),ht.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ea(this.updatePoint)}}function G0(t,e){return e?{point:e(t.point)}:t}function sT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $0({point:t},e){return{point:t,delta:sT(t,uk(e)),offset:sT(t,nM(e)),velocity:sM(e,.1)}}function nM(t){return t[0]}function uk(t){return t[t.length-1]}function sM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=uk(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Ms(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Ms(e)*2&&(i=t[1]);const l=hs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function iM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?vt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?vt(n,t,i.max):Math.min(t,n)),t}function iT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rM(t,{top:e,left:n,bottom:i,right:a}){return{x:iT(t.x,n,a),y:iT(t.y,e,i)}}function rT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function aM(t,e){return{x:rT(t.x,e.x),y:rT(t.y,e.y)}}function oM(t,e){let n=.5;const i=Nn(t),a=Nn(e);return a>i?n=bu(e.min,e.max-i,t.min):i>a&&(n=bu(t.min,t.max-a,e.min)),bi(0,1,n)}function lM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Bg=.35;function cM(t=Bg){return t===!1?t=0:t===!0&&(t=Bg),{x:aT(t,"left","right"),y:aT(t,"top","bottom")}}function aT(t,e,n){return{min:oT(t,e),max:oT(t,n)}}function oT(t,e){return typeof t=="number"?t:t[e]||0}const uM=new WeakMap;class dM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n&&this.snapToCursor(Uu(b).point),this.stopAnimation()},c=(b,w)=>{const{drag:E,dragPropagation:R,onDragStart:M}=this.getProps();if(E&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zI(E),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),di(V=>{let B=this.getAxisMotionValue(V).get()||0;if(fi.test(B)){const{projection:q}=this.visualElement;if(q&&q.layout){const K=q.layout.layoutBox[V];K&&(B=Nn(K)*(parseFloat(B)/100))}}this.originPoint[V]=B}),M&&ht.update(()=>M(b,w),!1,!0),Dg(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},h=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:E,dragDirectionLock:R,onDirectionLock:M,onDrag:P}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:V}=w;if(R&&this.currentDirection===null){this.currentDirection=fM(V),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",w.point,V),this.updateAxis("y",w.point,V),this.visualElement.render(),P&&ht.update(()=>P(b,w),!1,!0)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:x}=this.getProps();this.panSession=new ck(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:lk(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ht.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Ih(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=iM(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=rM(i.layoutBox,e):this.constraints=!1,this.elastic=cM(n),a!==this.constraints&&!tl(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&di(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=lM(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=pD(i,a.root,this.visualElement.getTransformPagePoint());let c=aM(a.layout.layoutBox,l);if(n){const h=n(hD(c));this.hasMutatedConstraints=!!h,h&&(c=j2(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=di(x=>{if(!Ih(x,n,this.currentDirection))return;let b=m&&m[x]||{};c&&(b={min:0,max:0});const w=a?200:1e6,E=a?40:1e7,R={type:"inertia",velocity:i?e[x]:0,bounceStiffness:w,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(x,R)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Dg(this.visualElement,e),i.start(Gy(e,i,0,n,this.visualElement,!1))}stopAnimation(){di(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){di(n=>{const{drag:i}=this.getProps();if(!Ih(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-vt(c,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!tl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};di(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const m=h.get();a[c]=oM({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),di(c=>{if(!Ih(c,e,null))return;const h=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];h.set(vt(m,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;uM.set(this.visualElement,this);const e=this.visualElement.current,n=cu(e,"pointerdown",p=>{const{drag:x,dragListener:b=!0}=this.getProps(),w=p.target,E=w!==e&&$I(w);x&&b&&!E&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();tl(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=hM(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ht.read(a);const h=Tu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:x})=>{this.isDragging&&x&&(di(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=p[b].translate,w.set(w.get()+p[b].translate))}),this.visualElement.render())}));return()=>{h(),n(),c(),m&&m(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Bg,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function lT(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function hM(t,e,n){const i=p_(t,lT(n)),a=p_(e,lT(n));return()=>{i(),a()}}function Ih(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class mM extends ca{constructor(e){super(e),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new dM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const K0=t=>(e,n)=>{t&&ht.update(()=>t(e,n),!1,!0)};class pM extends ca{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(e){this.session=new ck(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:K0(e),onStart:K0(n),onMove:K0(i),onEnd:(l,c)=>{delete this.session,a&&ht.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=cu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Y0=!1;class gM extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Y0&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Wh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Y0=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ht.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Y0=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dk(t){const[e,n]=Z2(),i=A.useContext(Ny);return d.jsx(gM,{...t,layoutGroup:i,switchLayoutGroup:A.useContext(ak),isPresent:e,safeToRemove:n})}const yM={pan:{Feature:pM},drag:{Feature:mM,ProjectionNode:J2,MeasureLayout:dk}};function cT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ht.postRender(()=>l(e,Uu(e)))}class xM extends ca{mount(){const{current:e}=this.node;e&&(this.unmount=FI(e,(n,i)=>(cT(this.node,i,"Start"),a=>cT(this.node,a,"End"))))}unmount(){}}class bM extends ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vu(Tu(this.node.current,"focus",()=>this.onFocus()),Tu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uT(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ht.postRender(()=>l(e,Uu(e)))}class vM extends ca{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=YI(e,(a,l)=>(uT(this.node,l,"Start"),(c,{success:h})=>uT(this.node,c,h?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const Fg=new WeakMap,X0=new WeakMap,wM=t=>{const e=Fg.get(t.target);e&&e(t)},_M=t=>{t.forEach(wM)};function TM({root:t,...e}){const n=t||document;X0.has(n)||X0.set(n,{});const i=X0.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(_M,{root:t,...e})),i[a]}function EM(t,e,n){const i=TM(e);return Fg.set(t,n),i.observe(t),()=>{Fg.delete(t),i.unobserve(t)}}const SM={some:0,all:1};class kM extends ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:SM[a]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:x,onViewportLeave:b}=this.node.getProps(),w=p?x:b;w&&w(m)};return EM(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NM(e,n))&&this.startObserver()}unmount(){}}function NM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const AM={inView:{Feature:kM},tap:{Feature:vM},focus:{Feature:bM},hover:{Feature:xM}},CM={layout:{ProjectionNode:J2,MeasureLayout:dk}},RM={...Z3,...AM,...yM,...CM},ge=Y3(RM,X3),jM=()=>{};var dT={};const hk=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},IM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},fk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,x=l>>2,b=(l&3)<<4|h>>4;let w=(h&15)<<2|p>>6,E=p&63;m||(E=64,c||(w=64)),i.push(n[x],n[b],n[w],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||b==null)throw new DM;const w=l<<2|h>>4;if(i.push(w),p!==64){const E=h<<4&240|p>>2;if(i.push(E),b!==64){const R=p<<6&192|b;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MM=function(t){const e=hk(t);return fk.encodeByteArray(e,!0)},wf=function(t){return MM(t).replace(/\./g,"")},mk=function(t){try{return fk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VM=()=>PM().__FIREBASE_DEFAULTS__,OM=()=>{if(typeof process>"u"||typeof dT>"u")return;const t=dT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mk(t[1]);return e&&JSON.parse(e)},tm=()=>{try{return jM()||VM()||OM()||LM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pk=t=>tm()?.emulatorHosts?.[t],gk=t=>{const e=pk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},yk=()=>tm()?.config,xk=t=>tm()?.[`_${t}`];class UM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function oo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rx(t){return(await fetch(t,{credentials:"include"})).ok}function bk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wf(JSON.stringify(n)),wf(JSON.stringify(c)),""].join(".")}const uu={};function zM(){const t={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?t.emulator.push(e):t.prod.push(e);return t}function BM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hT=!1;function ax(t,e){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||uu[t]===e||uu[t]||hT)return;uu[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=zM().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,E){w.setAttribute("width","24"),w.setAttribute("id",E),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{hT=!0,c()},w}function x(w,E){w.setAttribute("id",E),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=BM(i),E=n("text"),R=document.getElementById(E)||document.createElement("span"),M=n("learnmore"),P=document.getElementById(M)||document.createElement("a"),V=n("preprendIcon"),B=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const q=w.element;h(q),x(P,M);const K=p();m(B,V),q.append(B,R,P,K),document.body.appendChild(q)}l?(R.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function HM(){const t=tm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $M(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KM(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YM(){return!HM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XM(){try{return typeof indexedDB=="object"}catch{return!1}}function QM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const WM="FirebaseError";class Ti extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=WM,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu.prototype.create)}}class zu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?JM(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Ti(a,h,i)}}function JM(t,e){return t.replace(ZM,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const ZM=/\{\$([^}]+)}/g;function e6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ji(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(fT(l)&&fT(c)){if(!Ji(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function fT(t){return t!==null&&typeof t=="object"}function Bu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function t6(t,e){const n=new n6(t,e);return n.subscribe.bind(n)}class n6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");s6(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Q0),a.error===void 0&&(a.error=Q0),a.complete===void 0&&(a.complete=Q0);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Q0(){}function Wt(t){return t&&t._delegate?t._delegate:t}class na{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class i6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new UM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a6(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:r6(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r6(t){return t===qa?void 0:t}function a6(t){return t.instantiationMode==="EAGER"}class o6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const l6={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},c6=$e.INFO,u6={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},d6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=u6[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ox{constructor(e){this.name=e,this._logLevel=c6,this._logHandler=d6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const h6=(t,e)=>e.some(n=>t instanceof n);let mT,pT;function f6(){return mT||(mT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m6(){return pT||(pT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vk=new WeakMap,Hg=new WeakMap,wk=new WeakMap,W0=new WeakMap,lx=new WeakMap;function p6(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Yr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&vk.set(n,t)}).catch(()=>{}),lx.set(e,t),e}function g6(t){if(Hg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Hg.set(t,e)}let qg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y6(t){qg=t(qg)}function x6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(J0(this),e,...n);return wk.set(i,e.sort?e.sort():[e]),Yr(i)}:m6().includes(t)?function(...e){return t.apply(J0(this),e),Yr(vk.get(this))}:function(...e){return Yr(t.apply(J0(this),e))}}function b6(t){return typeof t=="function"?x6(t):(t instanceof IDBTransaction&&g6(t),h6(t,f6())?new Proxy(t,qg):t)}function Yr(t){if(t instanceof IDBRequest)return p6(t);if(W0.has(t))return W0.get(t);const e=b6(t);return e!==t&&(W0.set(t,e),lx.set(e,t)),e}const J0=t=>lx.get(t);function v6(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Yr(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Yr(c.result),m.oldVersion,m.newVersion,Yr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const w6=["get","getKey","getAll","getAllKeys","count"],_6=["put","add","delete","clear"],Z0=new Map;function gT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Z0.get(e))return Z0.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=_6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||w6.includes(n)))return;const l=async function(c,...h){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&m.done]))[0]};return Z0.set(e,l),l}y6(t=>({...t,get:(e,n,i)=>gT(e,n)||t.get(e,n,i),has:(e,n)=>!!gT(e,n)||t.has(e,n)}));class T6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function E6(t){return t.getComponent()?.type==="VERSION"}const Gg="@firebase/app",yT="0.14.8";const Zi=new ox("@firebase/app"),S6="@firebase/app-compat",k6="@firebase/analytics-compat",N6="@firebase/analytics",A6="@firebase/app-check-compat",C6="@firebase/app-check",R6="@firebase/auth",j6="@firebase/auth-compat",I6="@firebase/database",D6="@firebase/data-connect",M6="@firebase/database-compat",P6="@firebase/functions",V6="@firebase/functions-compat",O6="@firebase/installations",L6="@firebase/installations-compat",U6="@firebase/messaging",z6="@firebase/messaging-compat",B6="@firebase/performance",F6="@firebase/performance-compat",H6="@firebase/remote-config",q6="@firebase/remote-config-compat",G6="@firebase/storage",$6="@firebase/storage-compat",K6="@firebase/firestore",Y6="@firebase/ai",X6="@firebase/firestore-compat",Q6="firebase",W6="12.9.0";const $g="[DEFAULT]",J6={[Gg]:"fire-core",[S6]:"fire-core-compat",[N6]:"fire-analytics",[k6]:"fire-analytics-compat",[C6]:"fire-app-check",[A6]:"fire-app-check-compat",[R6]:"fire-auth",[j6]:"fire-auth-compat",[I6]:"fire-rtdb",[D6]:"fire-data-connect",[M6]:"fire-rtdb-compat",[P6]:"fire-fn",[V6]:"fire-fn-compat",[O6]:"fire-iid",[L6]:"fire-iid-compat",[U6]:"fire-fcm",[z6]:"fire-fcm-compat",[B6]:"fire-perf",[F6]:"fire-perf-compat",[H6]:"fire-rc",[q6]:"fire-rc-compat",[G6]:"fire-gcs",[$6]:"fire-gcs-compat",[K6]:"fire-fst",[X6]:"fire-fst-compat",[Y6]:"fire-vertex","fire-js":"fire-js",[Q6]:"fire-js-all"};const _f=new Map,Z6=new Map,Kg=new Map;function xT(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eo(t){const e=t.name;if(Kg.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,t);for(const n of _f.values())xT(n,t);for(const n of Z6.values())xT(n,t);return!0}function nm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function us(t){return t==null?!1:t.settings!==void 0}const eP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new zu("app","Firebase",eP);class tP{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const lo=W6;function _k(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:$g,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Xr.create("bad-app-name",{appName:String(a)});if(n||(n=yk()),!n)throw Xr.create("no-options");const l=_f.get(a);if(l){if(Ji(n,l.options)&&Ji(i,l.config))return l;throw Xr.create("duplicate-app",{appName:a})}const c=new o6(a);for(const m of Kg.values())c.addComponent(m);const h=new tP(n,i,c);return _f.set(a,h),h}function cx(t=$g){const e=_f.get(t);if(!e&&t===$g&&yk())return _k();if(!e)throw Xr.create("no-app",{appName:t});return e}function mi(t,e,n){let i=J6[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(c.join(" "));return}eo(new na(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const nP="firebase-heartbeat-database",sP=1,Eu="firebase-heartbeat-store";let eg=null;function Tk(){return eg||(eg=v6(nP,sP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xr.create("idb-open",{originalErrorMessage:t.message})})),eg}async function iP(t){try{const n=(await Tk()).transaction(Eu),i=await n.objectStore(Eu).get(Ek(t));return await n.done,i}catch(e){if(e instanceof Ti)Zi.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(n.message)}}}async function bT(t,e){try{const i=(await Tk()).transaction(Eu,"readwrite");await i.objectStore(Eu).put(e,Ek(t)),await i.done}catch(n){if(n instanceof Ti)Zi.warn(n.message);else{const i=Xr.create("idb-set",{originalErrorMessage:n?.message});Zi.warn(i.message)}}}function Ek(t){return`${t.name}!${t.options.appId}`}const rP=1024,aP=30;class oP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>aP){const a=uP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vT(),{heartbeatsToSend:n,unsentEntries:i}=lP(this._heartbeatsCache.heartbeats),a=wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Zi.warn(e),""}}}function vT(){return new Date().toISOString().substring(0,10)}function lP(t,e=rP){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),wT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),wT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class cP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XM()?QM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return bT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return bT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wT(t){return wf(JSON.stringify({version:2,heartbeats:t})).length}function uP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function dP(t){eo(new na("platform-logger",e=>new T6(e),"PRIVATE")),eo(new na("heartbeat",e=>new oP(e),"PRIVATE")),mi(Gg,yT,t),mi(Gg,yT,"esm2020"),mi("fire-js","")}dP("");function Sk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hP=Sk,kk=new zu("auth","Firebase",Sk());const Tf=new ox("@firebase/auth");function fP(t,...e){Tf.logLevel<=$e.WARN&&Tf.warn(`Auth (${lo}): ${t}`,...e)}function Jh(t,...e){Tf.logLevel<=$e.ERROR&&Tf.error(`Auth (${lo}): ${t}`,...e)}function vi(t,...e){throw dx(t,...e)}function Ps(t,...e){return dx(t,...e)}function ux(t,e,n){const i={...hP(),[e]:n};return new zu("auth","Firebase",i).create(e,{appName:t.name})}function Qa(t){return ux(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mP(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&vi(t,"argument-error"),ux(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dx(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return kk.create(t,...e)}function Me(t,e,...n){if(!t)throw dx(e,...n)}function $i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jh(e),new Error(e)}function er(t,e){t||$i(e)}function Yg(){return typeof self<"u"&&self.location?.href||""}function pP(){return _T()==="http:"||_T()==="https:"}function _T(){return typeof self<"u"&&self.location?.protocol||null}function gP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pP()||GM()||"connection"in navigator)?navigator.onLine:!0}function yP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=FM()||$M()}get(){return gP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hx(t,e){er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Nk{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vP=new Fu(3e4,6e4);function fx(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Pl(t,e,n,i,a={}){return Ak(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Bu({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return qM()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&oo(t.emulatorConfig.host)&&(p.credentials="include"),Nk.fetch()(await Ck(t,t.config.apiHost,n,h),p)})}async function Ak(t,e,n){t._canInitEmulator=!1;const i={...xP,...e};try{const a=new _P(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Dh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Dh(t,"user-disabled",c);const x=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ux(t,x,p);vi(t,x)}}catch(a){if(a instanceof Ti)throw a;vi(t,"network-request-failed",{message:String(a)})}}async function wP(t,e,n,i,a={}){const l=await Pl(t,e,n,i,a);return"mfaPendingCredential"in l&&vi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Ck(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?hx(t.config,a):`${t.config.apiScheme}://${a}`;return bP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class _P{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ps(this.auth,"network-request-failed")),vP.get())})}}function Dh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ps(t,e,i);return a.customData._tokenResponse=n,a}async function TP(t,e){return Pl(t,"POST","/v1/accounts:delete",e)}async function Ef(t,e){return Pl(t,"POST","/v1/accounts:lookup",e)}function du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EP(t,e=!1){const n=Wt(t),i=await n.getIdToken(e),a=mx(i);Me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:du(tg(a.auth_time)),issuedAtTime:du(tg(a.iat)),expirationTime:du(tg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function tg(t){return Number(t)*1e3}function mx(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const a=mk(n);return a?JSON.parse(a):(Jh("Failed to decode base64 JWT payload"),null)}catch(a){return Jh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function TT(t){const e=mx(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Su(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ti&&SP(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function SP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class kP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sf(t){const e=t.auth,n=await t.getIdToken(),i=await Su(t,Ef(e,{idToken:n}));Me(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?Rk(a.providerUserInfo):[],c=AP(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=h?m:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Xg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,x)}async function NP(t){const e=Wt(t);await Sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AP(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Rk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function CP(t,e){const n=await Ak(t,{},async()=>{const i=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await Ck(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:i};return t.emulatorConfig&&oo(t.emulatorConfig.host)&&(m.credentials="include"),Nk.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RP(t,e){return Pl(t,"POST","/v2/accounts:revokeToken",fx(t,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=TT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await CP(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new hl;return i&&(Me(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Me(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return $i("not implemented")}}function zr(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Is{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new kP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Su(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EP(this,e)}reload(){return NP(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Is({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Sf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(us(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await Su(this,TP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:E,providerData:R,stsTokenManager:M}=n;Me(b&&M,e,"internal-error");const P=hl.fromJSON(this.name,M);Me(typeof b=="string",e,"internal-error"),zr(i,e.name),zr(a,e.name),Me(typeof w=="boolean",e,"internal-error"),Me(typeof E=="boolean",e,"internal-error"),zr(l,e.name),zr(c,e.name),zr(h,e.name),zr(m,e.name),zr(p,e.name),zr(x,e.name);const V=new Is({uid:b,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:P,createdAt:p,lastLoginAt:x});return R&&Array.isArray(R)&&(V.providerData=R.map(B=>({...B}))),m&&(V._redirectEventId=m),V}static async _fromIdTokenResponse(e,n,i=!1){const a=new hl;a.updateFromServerResponse(n);const l=new Is({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Sf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Rk(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new hl;h.updateFromIdToken(i);const m=new Is({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Xg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const ET=new Map;function Ki(t){er(t instanceof Function,"Expected a class definition");let e=ET.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ET.set(t,e),e)}class jk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jk.type="NONE";const ST=jk;function Zh(t,e,n){return`firebase:${t}:${e}:${n}`}class fl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Zh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Zh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ef(this.auth,{idToken:e}).catch(()=>{});return n?Is._fromGetAccountInfoResponse(this.auth,n,e):null}return Is._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new fl(Ki(ST),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ki(ST);const c=Zh(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const x=await p._get(c);if(x){let b;if(typeof x=="string"){const w=await Ef(e,{idToken:x}).catch(()=>{});if(!w)break;b=await Is._fromGetAccountInfoResponse(e,w,x)}else b=Is._fromJSON(e,x);p!==l&&(h=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new fl(l,e,i):(l=m[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new fl(l,e,i))}}function kT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ik(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ok(e))return"Blackberry";if(Lk(e))return"Webos";if(Dk(e))return"Safari";if((e.includes("chrome/")||Mk(e))&&!e.includes("edge/"))return"Chrome";if(Vk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function Ik(t=wn()){return/firefox\//i.test(t)}function Dk(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mk(t=wn()){return/crios\//i.test(t)}function Pk(t=wn()){return/iemobile/i.test(t)}function Vk(t=wn()){return/android/i.test(t)}function Ok(t=wn()){return/blackberry/i.test(t)}function Lk(t=wn()){return/webos/i.test(t)}function px(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jP(t=wn()){return px(t)&&!!window.navigator?.standalone}function IP(){return KM()&&document.documentMode===10}function Uk(t=wn()){return px(t)||Vk(t)||Lk(t)||Ok(t)||/windows phone/i.test(t)||Pk(t)}function zk(t,e=[]){let n;switch(t){case"Browser":n=kT(wn());break;case"Worker":n=`${kT(wn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${i}`}class DP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const m=e(l);c(m)}catch(m){h(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function MP(t,e={}){return Pl(t,"GET","/v2/passwordPolicy",fx(t,e))}const PP=6;class VP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class OP{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NT(this),this.idTokenSubscription=new NT(this),this.beforeStateQueue=new DP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ef(this,{idToken:e}),i=await Is._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(us(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(us(this.app))return Promise.reject(Qa(this));const n=e?Wt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return us(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return us(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MP(this),n=new VP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await RP(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(us(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function sm(t){return Wt(t)}class NT{constructor(e){this.auth=e,this.observer=null,this.addObserver=t6(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LP(t){gx=t}function UP(t){return gx.loadJS(t)}function zP(){return gx.gapiScript}function BP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function FP(t,e){const n=nm(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ji(l,e??{}))return a;vi(a,"already-initialized")}return n.initialize({options:e})}function HP(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ki);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function qP(t,e,n){const i=sm(t);Me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Bk(e),{host:c,port:h}=GP(e),m=h===null?"":`:${h}`,p={url:`${l}//${c}${m}/`},x=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Me(Ji(p,i.config.emulator)&&Ji(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,oo(c)?(rx(`${l}//${c}${m}`),ax("Auth",!0)):$P()}function Bk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GP(t){const e=Bk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:AT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:AT(c)}}}function AT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $P(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Fk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,n){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function ml(t,e){return wP(t,"POST","/v1/accounts:signInWithIdp",fx(t,e))}const KP="http://localhost";class to extends Fk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new to(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ml(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:KP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}class yx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hu extends yx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hr extends Hu{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class Gi extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Gi.credential(n,i)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";class qr extends Hu{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";class Gr extends Hu{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Gr.credential(n,i)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";class vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Is._fromIdTokenResponse(e,i,a),c=CT(i);return new vl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=CT(i);return new vl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function CT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class kf extends Ti{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,kf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new kf(e,n,i,a)}}function Hk(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?kf._fromErrorAndOperation(t,l,e,i):l})}async function YP(t,e,n=!1){const i=await Su(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vl._forOperation(t,"link",i)}async function XP(t,e,n=!1){const{auth:i}=t;if(us(i.app))return Promise.reject(Qa(i));const a="reauthenticate";try{const l=await Su(t,Hk(i,a,e,t),n);Me(l.idToken,i,"internal-error");const c=mx(l.idToken);Me(c,i,"internal-error");const{sub:h}=c;return Me(t.uid===h,i,"user-mismatch"),vl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&vi(i,"user-mismatch"),l}}async function QP(t,e,n=!1){if(us(t.app))return Promise.reject(Qa(t));const i="signIn",a=await Hk(t,i,e),l=await vl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function WP(t,e,n,i){return Wt(t).onIdTokenChanged(e,n,i)}function JP(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}function ZP(t,e,n,i){return Wt(t).onAuthStateChanged(e,n,i)}function eV(t){return Wt(t).signOut()}const Nf="__sak";class qk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tV=1e3,nV=10;class Gk extends qk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);IP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,nV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},tV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gk.type="LOCAL";const sV=Gk;class $k extends qk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$k.type="SESSION";const Kk=$k;function iV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new im(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(n.origin,l)),m=await iV(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];function xx(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class rV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,m)=>{const p=xx("",20);a.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(x),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function pi(){return window}function aV(t){pi().location.href=t}function Yk(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function oV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lV(){return navigator?.serviceWorker?.controller||null}function cV(){return Yk()?self:null}const Xk="firebaseLocalStorageDb",uV=1,Af="firebaseLocalStorage",Qk="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rm(t,e){return t.transaction([Af],e?"readwrite":"readonly").objectStore(Af)}function dV(){const t=indexedDB.deleteDatabase(Xk);return new qu(t).toPromise()}function Qg(){const t=indexedDB.open(Xk,uV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Af,{keyPath:Qk})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Af)?e(i):(i.close(),await dV(),e(await Qg()))})})}async function RT(t,e,n){const i=rm(t,!0).put({[Qk]:e,value:n});return new qu(i).toPromise()}async function hV(t,e){const n=rm(t,!1).get(e),i=await new qu(n).toPromise();return i===void 0?null:i.value}function jT(t,e){const n=rm(t,!0).delete(e);return new qu(n).toPromise()}const fV=800,mV=3;class Wk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>mV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance(cV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oV(),!this.activeServiceWorker)return;this.sender=new rV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qg();return await RT(e,Nf,"1"),await jT(e,Nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>RT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>hV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=rm(a,!1).getAll();return new qu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wk.type="LOCAL";const pV=Wk;new Fu(3e4,6e4);function Jk(t,e){return e?Ki(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class bx extends Fk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gV(t){return QP(t.auth,new bx(t),t.bypassAuthState)}function yV(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),XP(n,new bx(t),t.bypassAuthState)}async function xV(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),YP(n,new bx(t),t.bypassAuthState)}class Zk{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gV;case"linkViaPopup":case"linkViaRedirect":return xV;case"reauthViaPopup":case"reauthViaRedirect":return yV;default:vi(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bV=new Fu(2e3,1e4);async function vV(t,e,n){if(us(t.app))return Promise.reject(Ps(t,"operation-not-supported-in-this-environment"));const i=sm(t);mP(t,e,yx);const a=Jk(i,n);return new Ka(i,"signInViaPopup",e,a).executeNotNull()}class Ka extends Zk{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=xx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bV.get())};e()}}Ka.currentPopupAction=null;const wV="pendingRedirect",ef=new Map;class _V extends Zk{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const i=await TV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TV(t,e){const n=kV(e),i=SV(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function EV(t,e){ef.set(t._key(),e)}function SV(t){return Ki(t._redirectPersistence)}function kV(t){return Zh(wV,t.config.apiKey,t.name)}async function NV(t,e,n=!1){if(us(t.app))return Promise.reject(Qa(t));const i=sm(t),a=Jk(i,e),c=await new _V(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const AV=600*1e3;class CV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eN(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ps(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AV&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(e))}saveEventToCache(e){this.cachedEventUids.add(IT(e)),this.lastProcessedEventTime=Date.now()}}function IT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function RV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eN(t);default:return!1}}async function jV(t,e={}){return Pl(t,"GET","/v1/projects",e)}const IV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DV=/^https?/;async function MV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jV(t);for(const n of e)try{if(PV(n))return}catch{}vi(t,"unauthorized-domain")}function PV(t){const e=Yg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!DV.test(n))return!1;if(IV.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const VV=new Fu(3e4,6e4);function DT(){const t=pi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OV(t){return new Promise((e,n)=>{function i(){DT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DT(),n(Ps(t,"network-request-failed"))},timeout:VV.get()})}if(pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pi().gapi?.load)i();else{const a=BP("iframefcb");return pi()[a]=()=>{gapi.load?i():n(Ps(t,"network-request-failed"))},UP(`${zP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw tf=null,e})}let tf=null;function LV(t){return tf=tf||OV(t),tf}const UV=new Fu(5e3,15e3),zV="__/auth/iframe",BV="emulator/auth/iframe",FV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qV(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hx(e,BV):`https://${t.config.authDomain}/${zV}`,i={apiKey:e.apiKey,appName:t.name,v:lo},a=HV.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Bu(i).slice(1)}`}async function GV(t){const e=await LV(t),n=pi().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:qV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FV,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ps(t,"network-request-failed"),h=pi().setTimeout(()=>{l(c)},UV.get());function m(){pi().clearTimeout(h),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const $V={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KV=500,YV=600,XV="_blank",QV="http://localhost";class MT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WV(t,e,n,i=KV,a=YV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m={...$V,width:i.toString(),height:a.toString(),top:l,left:c},p=wn().toLowerCase();n&&(h=Mk(p)?XV:n),Ik(p)&&(e=e||QV,m.scrollbars="yes");const x=Object.entries(m).reduce((w,[E,R])=>`${w}${E}=${R},`,"");if(jP(p)&&h!=="_self")return JV(e||"",h),new MT(null);const b=window.open(e||"",h,x);Me(b,t,"popup-blocked");try{b.focus()}catch{}return new MT(b)}function JV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const ZV="__/auth/handler",eO="emulator/auth/handler",tO=encodeURIComponent("fac");async function PT(t,e,n,i,a,l){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:lo,eventId:a};if(e instanceof yx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",e6(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries({}))c[x]=b}if(e instanceof Hu){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(c.scopes=x.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const m=await t._getAppCheckToken(),p=m?`#${tO}=${encodeURIComponent(m)}`:"";return`${nO(t)}?${Bu(h).slice(1)}${p}`}function nO({config:t}){return t.emulator?hx(t,eO):`https://${t.authDomain}/${ZV}`}const ng="webStorageSupport";class sO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kk,this._completeRedirectFn=NV,this._overrideRedirectResult=EV}async _openPopup(e,n,i,a){er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await PT(e,n,i,Yg(),a);return WV(e,l,xx())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await PT(e,n,i,Yg(),a);return aV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(er(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await GV(e),i=new CV(e);return n.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ng,{type:ng},a=>{const l=a?.[0]?.[ng];l!==void 0&&n(!!l),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Uk()||Dk()||px()}}const iO=sO;var VT="@firebase/auth",OT="1.12.0";class rO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oO(t){eo(new na("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zk(t)},p=new OP(i,a,l,m);return HP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),eo(new na("auth-internal",e=>{const n=sm(e.getProvider("auth").getImmediate());return(i=>new rO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(VT,OT,aO(t)),mi(VT,OT,"esm2020")}const lO=300,cO=xk("authIdTokenMaxAge")||lO;let LT=null;const uO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>cO)return;const a=n?.token;LT!==a&&(LT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function dO(t=cx()){const e=nm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FP(t,{popupRedirectResolver:iO,persistence:[pV,sV,Kk]}),i=xk("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=uO(l.toString());JP(n,c,()=>c(n.currentUser)),WP(n,h=>c(h))}}const a=pk("auth");return a&&qP(n,`http://${a}`),n}function hO(){return document.getElementsByTagName("head")?.[0]??document}LP({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Ps("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",hO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oO("Browser");var fO="firebase",mO="12.9.0";mi(fO,mO,"app");var UT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qr,tN;(function(){var t;function e(D,S){function N(){}N.prototype=S.prototype,D.F=S.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(O,L,F){for(var j=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)j[Re-2]=arguments[Re];return S.prototype[L].apply(O,j)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,S,N){N||(N=0);const O=Array(16);if(typeof S=="string")for(var L=0;L<16;++L)O[L]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(L=0;L<16;++L)O[L]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=D.g[0],N=D.g[1],L=D.g[2];let F=D.g[3],j;j=S+(F^N&(L^F))+O[0]+3614090360&4294967295,S=N+(j<<7&4294967295|j>>>25),j=F+(L^S&(N^L))+O[1]+3905402710&4294967295,F=S+(j<<12&4294967295|j>>>20),j=L+(N^F&(S^N))+O[2]+606105819&4294967295,L=F+(j<<17&4294967295|j>>>15),j=N+(S^L&(F^S))+O[3]+3250441966&4294967295,N=L+(j<<22&4294967295|j>>>10),j=S+(F^N&(L^F))+O[4]+4118548399&4294967295,S=N+(j<<7&4294967295|j>>>25),j=F+(L^S&(N^L))+O[5]+1200080426&4294967295,F=S+(j<<12&4294967295|j>>>20),j=L+(N^F&(S^N))+O[6]+2821735955&4294967295,L=F+(j<<17&4294967295|j>>>15),j=N+(S^L&(F^S))+O[7]+4249261313&4294967295,N=L+(j<<22&4294967295|j>>>10),j=S+(F^N&(L^F))+O[8]+1770035416&4294967295,S=N+(j<<7&4294967295|j>>>25),j=F+(L^S&(N^L))+O[9]+2336552879&4294967295,F=S+(j<<12&4294967295|j>>>20),j=L+(N^F&(S^N))+O[10]+4294925233&4294967295,L=F+(j<<17&4294967295|j>>>15),j=N+(S^L&(F^S))+O[11]+2304563134&4294967295,N=L+(j<<22&4294967295|j>>>10),j=S+(F^N&(L^F))+O[12]+1804603682&4294967295,S=N+(j<<7&4294967295|j>>>25),j=F+(L^S&(N^L))+O[13]+4254626195&4294967295,F=S+(j<<12&4294967295|j>>>20),j=L+(N^F&(S^N))+O[14]+2792965006&4294967295,L=F+(j<<17&4294967295|j>>>15),j=N+(S^L&(F^S))+O[15]+1236535329&4294967295,N=L+(j<<22&4294967295|j>>>10),j=S+(L^F&(N^L))+O[1]+4129170786&4294967295,S=N+(j<<5&4294967295|j>>>27),j=F+(N^L&(S^N))+O[6]+3225465664&4294967295,F=S+(j<<9&4294967295|j>>>23),j=L+(S^N&(F^S))+O[11]+643717713&4294967295,L=F+(j<<14&4294967295|j>>>18),j=N+(F^S&(L^F))+O[0]+3921069994&4294967295,N=L+(j<<20&4294967295|j>>>12),j=S+(L^F&(N^L))+O[5]+3593408605&4294967295,S=N+(j<<5&4294967295|j>>>27),j=F+(N^L&(S^N))+O[10]+38016083&4294967295,F=S+(j<<9&4294967295|j>>>23),j=L+(S^N&(F^S))+O[15]+3634488961&4294967295,L=F+(j<<14&4294967295|j>>>18),j=N+(F^S&(L^F))+O[4]+3889429448&4294967295,N=L+(j<<20&4294967295|j>>>12),j=S+(L^F&(N^L))+O[9]+568446438&4294967295,S=N+(j<<5&4294967295|j>>>27),j=F+(N^L&(S^N))+O[14]+3275163606&4294967295,F=S+(j<<9&4294967295|j>>>23),j=L+(S^N&(F^S))+O[3]+4107603335&4294967295,L=F+(j<<14&4294967295|j>>>18),j=N+(F^S&(L^F))+O[8]+1163531501&4294967295,N=L+(j<<20&4294967295|j>>>12),j=S+(L^F&(N^L))+O[13]+2850285829&4294967295,S=N+(j<<5&4294967295|j>>>27),j=F+(N^L&(S^N))+O[2]+4243563512&4294967295,F=S+(j<<9&4294967295|j>>>23),j=L+(S^N&(F^S))+O[7]+1735328473&4294967295,L=F+(j<<14&4294967295|j>>>18),j=N+(F^S&(L^F))+O[12]+2368359562&4294967295,N=L+(j<<20&4294967295|j>>>12),j=S+(N^L^F)+O[5]+4294588738&4294967295,S=N+(j<<4&4294967295|j>>>28),j=F+(S^N^L)+O[8]+2272392833&4294967295,F=S+(j<<11&4294967295|j>>>21),j=L+(F^S^N)+O[11]+1839030562&4294967295,L=F+(j<<16&4294967295|j>>>16),j=N+(L^F^S)+O[14]+4259657740&4294967295,N=L+(j<<23&4294967295|j>>>9),j=S+(N^L^F)+O[1]+2763975236&4294967295,S=N+(j<<4&4294967295|j>>>28),j=F+(S^N^L)+O[4]+1272893353&4294967295,F=S+(j<<11&4294967295|j>>>21),j=L+(F^S^N)+O[7]+4139469664&4294967295,L=F+(j<<16&4294967295|j>>>16),j=N+(L^F^S)+O[10]+3200236656&4294967295,N=L+(j<<23&4294967295|j>>>9),j=S+(N^L^F)+O[13]+681279174&4294967295,S=N+(j<<4&4294967295|j>>>28),j=F+(S^N^L)+O[0]+3936430074&4294967295,F=S+(j<<11&4294967295|j>>>21),j=L+(F^S^N)+O[3]+3572445317&4294967295,L=F+(j<<16&4294967295|j>>>16),j=N+(L^F^S)+O[6]+76029189&4294967295,N=L+(j<<23&4294967295|j>>>9),j=S+(N^L^F)+O[9]+3654602809&4294967295,S=N+(j<<4&4294967295|j>>>28),j=F+(S^N^L)+O[12]+3873151461&4294967295,F=S+(j<<11&4294967295|j>>>21),j=L+(F^S^N)+O[15]+530742520&4294967295,L=F+(j<<16&4294967295|j>>>16),j=N+(L^F^S)+O[2]+3299628645&4294967295,N=L+(j<<23&4294967295|j>>>9),j=S+(L^(N|~F))+O[0]+4096336452&4294967295,S=N+(j<<6&4294967295|j>>>26),j=F+(N^(S|~L))+O[7]+1126891415&4294967295,F=S+(j<<10&4294967295|j>>>22),j=L+(S^(F|~N))+O[14]+2878612391&4294967295,L=F+(j<<15&4294967295|j>>>17),j=N+(F^(L|~S))+O[5]+4237533241&4294967295,N=L+(j<<21&4294967295|j>>>11),j=S+(L^(N|~F))+O[12]+1700485571&4294967295,S=N+(j<<6&4294967295|j>>>26),j=F+(N^(S|~L))+O[3]+2399980690&4294967295,F=S+(j<<10&4294967295|j>>>22),j=L+(S^(F|~N))+O[10]+4293915773&4294967295,L=F+(j<<15&4294967295|j>>>17),j=N+(F^(L|~S))+O[1]+2240044497&4294967295,N=L+(j<<21&4294967295|j>>>11),j=S+(L^(N|~F))+O[8]+1873313359&4294967295,S=N+(j<<6&4294967295|j>>>26),j=F+(N^(S|~L))+O[15]+4264355552&4294967295,F=S+(j<<10&4294967295|j>>>22),j=L+(S^(F|~N))+O[6]+2734768916&4294967295,L=F+(j<<15&4294967295|j>>>17),j=N+(F^(L|~S))+O[13]+1309151649&4294967295,N=L+(j<<21&4294967295|j>>>11),j=S+(L^(N|~F))+O[4]+4149444226&4294967295,S=N+(j<<6&4294967295|j>>>26),j=F+(N^(S|~L))+O[11]+3174756917&4294967295,F=S+(j<<10&4294967295|j>>>22),j=L+(S^(F|~N))+O[2]+718787259&4294967295,L=F+(j<<15&4294967295|j>>>17),j=N+(F^(L|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(L+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+F&4294967295}i.prototype.v=function(D,S){S===void 0&&(S=D.length);const N=S-this.blockSize,O=this.C;let L=this.h,F=0;for(;F<S;){if(L==0)for(;F<=N;)a(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<S;)if(O[L++]=D.charCodeAt(F++),L==this.blockSize){a(this,O),L=0;break}}else for(;F<S;)if(O[L++]=D[F++],L==this.blockSize){a(this,O),L=0;break}}this.h=L,this.o+=S},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)D[S++]=this.g[N]>>>O&255;return D};function l(D,S){var N=h;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=S(D)}function c(D,S){this.h=S;const N=[];let O=!0;for(let L=D.length-1;L>=0;L--){const F=D[L]|0;O&&F==S||(N[L]=F,O=!1)}this.g=N}var h={};function m(D){return-128<=D&&D<128?l(D,function(S){return new c([S|0],S<0?-1:0)}):new c([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return P(p(-D));const S=[];let N=1;for(let O=0;D>=N;O++)S[O]=D/N|0,N*=4294967296;return new c(S,0)}function x(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return P(x(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(S,8));let O=b;for(let F=0;F<D.length;F+=8){var L=Math.min(8,D.length-F);const j=parseInt(D.substring(F,F+L),S);L<8?(L=p(Math.pow(S,L)),O=O.j(L).add(p(j))):(O=O.j(N),O=O.add(p(j)))}return O}var b=m(0),w=m(1),E=m(16777216);t=c.prototype,t.m=function(){if(M(this))return-P(this).m();let D=0,S=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);D+=(O>=0?O:4294967296+O)*S,S*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(R(this))return"0";if(M(this))return"-"+P(this).toString(D);const S=p(Math.pow(D,6));var N=this;let O="";for(;;){const L=K(N,S).g;N=V(N,L.j(S));let F=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=L,R(N))return F+O;for(;F.length<6;)F="0"+F;O=F+O}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function R(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=V(this,D),M(D)?-1:R(D)?0:1};function P(D){const S=D.g.length,N=[];for(let O=0;O<S;O++)N[O]=~D.g[O];return new c(N,~D.h).add(w)}t.abs=function(){return M(this)?P(this):this},t.add=function(D){const S=Math.max(this.g.length,D.g.length),N=[];let O=0;for(let L=0;L<=S;L++){let F=O+(this.i(L)&65535)+(D.i(L)&65535),j=(F>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);O=j>>>16,F&=65535,j&=65535,N[L]=j<<16|F}return new c(N,N[N.length-1]&-2147483648?-1:0)};function V(D,S){return D.add(P(S))}t.j=function(D){if(R(this)||R(D))return b;if(M(this))return M(D)?P(this).j(P(D)):P(P(this).j(D));if(M(D))return P(this.j(P(D)));if(this.l(E)<0&&D.l(E)<0)return p(this.m()*D.m());const S=this.g.length+D.g.length,N=[];for(var O=0;O<2*S;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let L=0;L<D.g.length;L++){const F=this.i(O)>>>16,j=this.i(O)&65535,Re=D.i(L)>>>16,je=D.i(L)&65535;N[2*O+2*L]+=j*je,B(N,2*O+2*L),N[2*O+2*L+1]+=F*je,B(N,2*O+2*L+1),N[2*O+2*L+1]+=j*Re,B(N,2*O+2*L+1),N[2*O+2*L+2]+=F*Re,B(N,2*O+2*L+2)}for(D=0;D<S;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=S;D<2*S;D++)N[D]=0;return new c(N,0)};function B(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function q(D,S){this.g=D,this.h=S}function K(D,S){if(R(S))throw Error("division by zero");if(R(D))return new q(b,b);if(M(D))return S=K(P(D),S),new q(P(S.g),P(S.h));if(M(S))return S=K(D,P(S)),new q(P(S.g),S.h);if(D.g.length>30){if(M(D)||M(S))throw Error("slowDivide_ only works with positive integers.");for(var N=w,O=S;O.l(D)<=0;)N=ie(N),O=ie(O);var L=he(N,1),F=he(O,1);for(O=he(O,2),N=he(N,2);!R(O);){var j=F.add(O);j.l(D)<=0&&(L=L.add(N),F=j),O=he(O,1),N=he(N,1)}return S=V(D,L.j(S)),new q(L,S)}for(L=b;D.l(S)>=0;){for(N=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),F=p(N),j=F.j(S);M(j)||j.l(D)>0;)N-=O,F=p(N),j=F.j(S);R(F)&&(F=w),L=L.add(F),D=V(D,j)}return new q(L,D)}t.B=function(D){return K(this,D).h},t.and=function(D){const S=Math.max(this.g.length,D.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)&D.i(O);return new c(N,this.h&D.h)},t.or=function(D){const S=Math.max(this.g.length,D.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)|D.i(O);return new c(N,this.h|D.h)},t.xor=function(D){const S=Math.max(this.g.length,D.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)^D.i(O);return new c(N,this.h^D.h)};function ie(D){const S=D.g.length+1,N=[];for(let O=0;O<S;O++)N[O]=D.i(O)<<1|D.i(O-1)>>>31;return new c(N,D.h)}function he(D,S){const N=S>>5;S%=32;const O=D.g.length-N,L=[];for(let F=0;F<O;F++)L[F]=S>0?D.i(F+N)>>>S|D.i(F+N+1)<<32-S:D.i(F+N);return new c(L,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,tN=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=x,Qr=c}).apply(typeof UT<"u"?UT:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nN,tu,sN,nf,Wg,iN,rN,aN;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(f,v){if(v)e:{var T=i;f=f.split(".");for(var C=0;C<f.length-1;C++){var X=f[C];if(!(X in T))break e;T=T[X]}f=f[f.length-1],C=T[f],v=v(C),v!=C&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(v){var T=[],C;for(C in v)Object.prototype.hasOwnProperty.call(v,C)&&T.push([C,v[C]]);return T}});var l=l||{},c=this||self;function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,T){return f.call.apply(f.bind,arguments)}function p(f,v,T){return p=m,p.apply(null,arguments)}function x(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function b(f,v){function T(){}T.prototype=v.prototype,f.Z=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(C,X,te){for(var pe=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)pe[Le-2]=arguments[Le];return v.prototype[X].apply(C,pe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const v=f.length;if(v>0){const T=Array(v);for(let C=0;C<v;C++)T[C]=f[C];return T}return[]}function R(f,v){for(let C=1;C<arguments.length;C++){const X=arguments[C];var T=typeof X;if(T=T!="object"?T:X?Array.isArray(X)?"array":T:"null",T=="array"||T=="object"&&typeof X.length=="number"){T=f.length||0;const te=X.length||0;f.length=T+te;for(let pe=0;pe<te;pe++)f[T+pe]=X[pe]}else f.push(X)}}class M{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(f){c.setTimeout(()=>{throw f},0)}function V(){var f=D;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,T){const C=q.get();C.set(v,T),this.h?this.h.next=C:this.g=C,this.h=C}}var q=new M(()=>new K,f=>f.reset());class K{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,he=!1,D=new B,S=()=>{const f=Promise.resolve(void 0);ie=()=>{f.then(N)}};function N(){for(var f;f=V();){try{f.h.call(f.g)}catch(T){P(T)}var v=q;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}he=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return f})();function j(f){return/^[\s\xa0]*$/.test(f)}function Re(f,v){L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}b(Re,L),Re.prototype.init=function(f,v){const T=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var je="closure_listenable_"+(Math.random()*1e6|0),z=0;function ne(f,v,T,C,X){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!C,this.ha=X,this.key=++z,this.da=this.fa=!1}function Z(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ve(f,v,T){for(const C in f)v.call(T,f[C],C,f)}function re(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function I(f){const v={};for(const T in f)v[T]=f[T];return v}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(f,v){let T,C;for(let X=1;X<arguments.length;X++){C=arguments[X];for(T in C)f[T]=C[T];for(let te=0;te<G.length;te++)T=G[te],Object.prototype.hasOwnProperty.call(C,T)&&(f[T]=C[T])}}function ee(f){this.src=f,this.g={},this.h=0}ee.prototype.add=function(f,v,T,C,X){const te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);const pe=me(f,v,C,X);return pe>-1?(v=f[pe],T||(v.fa=!1)):(v=new ne(v,this.src,te,!!C,X),v.fa=T,f.push(v)),v};function de(f,v){const T=v.type;if(T in f.g){var C=f.g[T],X=Array.prototype.indexOf.call(C,v,void 0),te;(te=X>=0)&&Array.prototype.splice.call(C,X,1),te&&(Z(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function me(f,v,T,C){for(let X=0;X<f.length;++X){const te=f[X];if(!te.da&&te.listener==v&&te.capture==!!T&&te.ha==C)return X}return-1}var be="closure_lm_"+(Math.random()*1e6|0),fe={};function ke(f,v,T,C,X){if(Array.isArray(v)){for(let te=0;te<v.length;te++)ke(f,v[te],T,C,X);return null}return T=Gl(T),f&&f[je]?f.J(v,T,h(C)?!!C.capture:!1,X):We(f,v,T,!1,C,X)}function We(f,v,T,C,X,te){if(!v)throw Error("Invalid event type");const pe=h(X)?!!X.capture:!!X;let Le=Un(f);if(Le||(f[be]=Le=new ee(f)),T=Le.add(v,T,C,pe,te),T.proxy)return T;if(C=bt(),T.proxy=C,C.src=f,C.listener=T,f.addEventListener)F||(X=pe),X===void 0&&(X=!1),f.addEventListener(v.toString(),C,X);else if(f.attachEvent)f.attachEvent(Gt(v.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function bt(){function f(T){return v.call(f.src,f.listener,T)}const v=_n;return f}function pn(f,v,T,C,X){if(Array.isArray(v))for(var te=0;te<v.length;te++)pn(f,v[te],T,C,X);else C=h(C)?!!C.capture:!!C,T=Gl(T),f&&f[je]?(f=f.i,te=String(v).toString(),te in f.g&&(v=f.g[te],T=me(v,T,C,X),T>-1&&(Z(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete f.g[te],f.h--)))):f&&(f=Un(f))&&(v=f.g[v.toString()],f=-1,v&&(f=me(v,T,C,X)),(T=f>-1?v[f]:null)&&Fs(T))}function Fs(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[je])de(v.i,f);else{var T=f.type,C=f.proxy;v.removeEventListener?v.removeEventListener(T,C,f.capture):v.detachEvent?v.detachEvent(Gt(T),C):v.addListener&&v.removeListener&&v.removeListener(C),(T=Un(v))?(de(T,f),T.h==0&&(T.src=null,v[be]=null)):Z(f)}}}function Gt(f){return f in fe?fe[f]:fe[f]="on"+f}function _n(f,v){if(f.da)f=!0;else{v=new Re(v,this);const T=f.listener,C=f.ha||f.src;f.fa&&Fs(f),f=T.call(C,v)}return f}function Un(f){return f=f[be],f instanceof ee?f:null}var ql="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gl(f){return typeof f=="function"?f:(f[ql]||(f[ql]=function(v){return f.handleEvent(v)}),f[ql])}function It(){O.call(this),this.i=new ee(this),this.M=this,this.G=null}b(It,O),It.prototype[je]=!0,It.prototype.removeEventListener=function(f,v,T,C){pn(this,f,v,T,C)};function $t(f,v){var T,C=f.G;if(C)for(T=[];C;C=C.G)T.push(C);if(f=f.M,C=v.type||v,typeof v=="string")v=new L(v,f);else if(v instanceof L)v.target=v.target||f;else{var X=v;v=new L(C,f),Y(v,X)}X=!0;let te,pe;if(T)for(pe=T.length-1;pe>=0;pe--)te=v.g=T[pe],X=or(te,C,!0,v)&&X;if(te=v.g=f,X=or(te,C,!0,v)&&X,X=or(te,C,!1,v)&&X,T)for(pe=0;pe<T.length;pe++)te=v.g=T[pe],X=or(te,C,!1,v)&&X}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const T=f.g[v];for(let C=0;C<T.length;C++)Z(T[C]);delete f.g[v],f.h--}}this.G=null},It.prototype.J=function(f,v,T,C){return this.i.add(String(f),v,!1,T,C)},It.prototype.K=function(f,v,T,C){return this.i.add(String(f),v,!0,T,C)};function or(f,v,T,C){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let X=!0;for(let te=0;te<v.length;++te){const pe=v[te];if(pe&&!pe.da&&pe.capture==T){const Le=pe.listener,Nt=pe.ha||pe.src;pe.fa&&de(f.i,pe),X=Le.call(Nt,C)!==!1&&X}}return X&&!C.defaultPrevented}function km(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(f,v||0)}function Zu(f){f.g=km(()=>{f.g=null,f.i&&(f.i=!1,Zu(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Tn extends O{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Zu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(f){O.call(this),this.h=f,this.g={}}b(ha,O);var $l=[];function Kl(f){ve(f.g,function(v,T){this.g.hasOwnProperty(T)&&Fs(v)},f),f.g={}}ha.prototype.N=function(){ha.Z.N.call(this),Kl(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=c.JSON.stringify,Nm=c.JSON.parse,ed=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function td(){}function nd(){}var gs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){L.call(this,"d")}b(rn,L);function Wn(){L.call(this,"c")}b(Wn,L);var kt={},sd=null;function fo(){return sd=sd||new It}kt.Ia="serverreachability";function id(f){L.call(this,kt.Ia,f)}b(id,L);function Hs(f){const v=fo();$t(v,new id(v))}kt.STAT_EVENT="statevent";function fa(f,v){L.call(this,kt.STAT_EVENT,f),this.stat=v}b(fa,L);function Dt(f){const v=fo();$t(v,new fa(v,f))}kt.Ja="timingevent";function qs(f,v){L.call(this,kt.Ja,f),this.size=v}b(qs,L);function Gs(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},v)}function ys(){this.g=!0}ys.prototype.ua=function(){this.g=!1};function Am(f,v,T,C,X,te){f.info(function(){if(f.g)if(te){var pe="",Le=te.split("&");for(let et=0;et<Le.length;et++){var Nt=Le[et].split("=");if(Nt.length>1){const gt=Nt[0];Nt=Nt[1];const ts=gt.split("_");pe=ts.length>=2&&ts[1]=="type"?pe+(gt+"="+Nt+"&"):pe+(gt+"=redacted&")}}}else pe=null;else pe=te;return"XMLHTTP REQ ("+C+") [attempt "+X+"]: "+v+`
`+T+`
`+pe})}function rd(f,v,T,C,X,te,pe){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+X+"]: "+v+`
`+T+`
`+te+" "+pe})}function $s(f,v,T,C){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Cm(f,T)+(C?" "+C:"")})}function ma(f,v){f.info(function(){return"TIMEOUT: "+v})}ys.prototype.info=function(){};function Cm(f,v){if(!f.g)return v;if(!v)return null;try{const te=JSON.parse(v);if(te){for(f=0;f<te.length;f++)if(Array.isArray(te[f])){var T=te[f];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var X=C[0];if(X!="noop"&&X!="stop"&&X!="close")for(let pe=1;pe<C.length;pe++)C[pe]=""}}}}return lr(te)}catch{return v}}var pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xl;function ga(){}b(ga,td),ga.prototype.g=function(){return new XMLHttpRequest},Xl=new ga;function Si(f){return encodeURIComponent(String(f))}function ad(f){var v=1;f=f.split(":");const T=[];for(;v>0&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function xs(f,v,T,C){this.j=f,this.i=v,this.l=T,this.S=C||1,this.V=new ha(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bs}function bs(){this.i=null,this.g="",this.h=!1}var Mt={},Jt={};function Ks(f,v,T){f.M=1,f.A=ya(Vt(v)),f.u=T,f.R=!0,mo(f,null)}function mo(f,v){f.F=Date.now(),Ys(f),f.B=Vt(f.A);var T=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),xo(T.i,"t",C),f.C=0,T=f.j.L,f.h=new bs,f.g=wd(f.j,T?v:null,!f.u),f.P>0&&(f.O=new Tn(p(f.Y,f,f.g),f.P)),v=f.V,T=f.g,C=f.ba;var X="readystatechange";Array.isArray(X)||(X&&($l[0]=X.toString()),X=$l);for(let te=0;te<X.length;te++){const pe=ke(T,X[te],C||v.handleEvent,!1,v.h||v);if(!pe)break;v.g[pe.key]=pe}v=f.J?I(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),Hs(),Am(f.i,f.v,f.B,f.l,f.S,f.u)}xs.prototype.ba=function(f){f=f.target;const v=this.O;v&&_s(f)==3?v.j():this.Y(f)},xs.prototype.Y=function(f){try{if(f==this.g)e:{const Le=_s(this.g),Nt=this.g.ya(),et=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Le!=4||Nt==7||(Nt==8||et<=0?Hs(3):Hs(2)),Xs(this);var v=this.g.ca();this.X=v;var T=Rm(this);if(this.o=v==200,rd(this.i,this.v,this.B,this.l,this.S,Le,v),this.o){if(this.U&&!this.L){t:{if(this.g){var C,X=this.g;if((C=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(C)){var te=C;break t}}te=null}if(f=te)$s(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qs(this,f);else{this.o=!1,this.m=3,Dt(12),zn(this),Jn(this);break e}}if(this.R){f=!0;let gt;for(;!this.K&&this.C<T.length;)if(gt=ld(this,T),gt==Jt){Le==4&&(this.m=4,Dt(14),f=!1),$s(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Mt){this.m=4,Dt(15),$s(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else $s(this.i,this.l,gt,null),Qs(this,gt);if(od(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||T.length!=0||this.h.h||(this.m=1,Dt(16),f=!1),this.o=this.o&&f,!f)$s(this.i,this.l,T,"[Invalid Chunked Response]"),zn(this),Jn(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),uc(pe),pe.P=!0,Dt(11))}}else $s(this.i,this.l,T,null),Qs(this,T);Le==4&&zn(this),this.o&&!this.K&&(Le==4?yd(this.j,this):(this.o=!1,Ys(this)))}else Ni(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),zn(this),Jn(this)}}}catch{}};function Rm(f){if(!od(f))return f.g.la();const v=an(f.g);if(v==="")return"";let T="";const C=v.length,X=_s(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return zn(f),Jn(f),"";f.h.i=new c.TextDecoder}for(let te=0;te<C;te++)f.h.h=!0,T+=f.h.i.decode(v[te],{stream:!(X&&te==C-1)});return v.length=0,f.h.g+=T,f.C=0,f.h.g}function od(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ld(f,v){var T=f.C,C=v.indexOf(`
`,T);return C==-1?Jt:(T=Number(v.substring(T,C)),isNaN(T)?Mt:(C+=1,C+T>v.length?Jt:(v=v.slice(C,C+T),f.C=C+T,v)))}xs.prototype.cancel=function(){this.K=!0,zn(this)};function Ys(f){f.T=Date.now()+f.H,po(f,f.H)}function po(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Gs(p(f.aa,f),v)}function Xs(f){f.D&&(c.clearTimeout(f.D),f.D=null)}xs.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ma(this.i,this.B),this.M!=2&&(Hs(),Dt(17)),zn(this),this.m=2,Jn(this)):po(this,this.T-f)};function Jn(f){f.j.I==0||f.K||yd(f.j,f)}function zn(f){Xs(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,Kl(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function Qs(f,v){try{var T=f.j;if(T.I!=0&&(T.g==f||Js(T.h,f))){if(!f.L&&Js(T.h,f)&&T.I==3){try{var C=T.Ba.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var X=C;if(X[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)To(T),gr(T);else break e;Ea(T),Dt(18)}}else T.xa=X[1],0<T.xa-T.K&&X[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Gs(p(T.Va,T),6e3));Ws(T.h)<=1&&T.ta&&(T.ta=void 0)}else ii(T,11)}else if((f.L||T.g==f)&&To(T),!j(v))for(X=T.Ba.g.parse(v),v=0;v<X.length;v++){let et=X[v];const gt=et[0];if(!(gt<=T.K))if(T.K=gt,et=et[1],T.I==2)if(et[0]=="c"){T.M=et[1],T.ba=et[2];const ts=et[3];ts!=null&&(T.ka=ts,T.j.info("VER="+T.ka));const ri=et[4];ri!=null&&(T.za=ri,T.j.info("SVER="+T.za));const Ts=et[5];Ts!=null&&typeof Ts=="number"&&Ts>0&&(C=1.5*Ts,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const Es=f.g;if(Es){const Sa=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var te=C.h;te.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Jl(te,te.h),te.h=null))}if(C.G){const Eo=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(C.wa=Eo,st(C.J,C.G,Eo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var pe=f;if(C.na=vd(C,C.L?C.ba:null,C.W),pe.L){Zl(C.h,pe);var Le=pe,Nt=C.O;Nt&&(Le.H=Nt),Le.D&&(Xs(Le),Ys(Le)),C.g=pe}else pd(C);T.i.length>0&&si(T)}else et[0]!="stop"&&et[0]!="close"||ii(T,7);else T.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?ii(T,7):lc(T):et[0]!="noop"&&T.l&&T.l.qa(et),T.A=0)}}Hs(4)}catch{}}var Pt=class{constructor(f,v){this.g=f,this.map=v}};function Ql(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ws(f){return f.h?1:f.g?f.g.size:0}function Js(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Jl(f,v){f.g?f.g.add(v):f.h=v}function Zl(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Ql.prototype.cancel=function(){if(this.i=ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ec(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.G);return v}return E(f.i)}var cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function go(f,v){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const C=f[T].indexOf("=");let X,te=null;C>=0?(X=f[T].substring(0,C),te=f[T].substring(C+1)):X=f[T],v(X,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Bn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof Bn?(this.l=f.l,Zt(this,f.j),this.o=f.o,this.g=f.g,cr(this,f.u),this.h=f.h,tc(this,fd(f.i)),this.m=f.m):f&&(v=String(f).match(cd))?(this.l=!1,Zt(this,v[1]||"",!0),this.o=Zs(v[2]||""),this.g=Zs(v[3]||"",!0),cr(this,v[4]),this.h=Zs(v[5]||"",!0),tc(this,v[6]||"",!0),this.m=Zs(v[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}Bn.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(xa(v,yo,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(xa(v,yo,!0),"@"),f.push(Si(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(xa(T,T.charAt(0)=="/"?nc:ud,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",xa(T,dd)),f.join("")},Bn.prototype.resolve=function(f){const v=Vt(this);let T=!!f.j;T?Zt(v,f.j):T=!!f.o,T?v.o=f.o:T=!!f.g,T?v.g=f.g:T=f.u!=null;var C=f.h;if(T)cr(v,f.u);else if(T=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var X=v.h.lastIndexOf("/");X!=-1&&(C=v.h.slice(0,X+1)+C)}if(X=C,X==".."||X==".")C="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){C=X.lastIndexOf("/",0)==0,X=X.split("/");const te=[];for(let pe=0;pe<X.length;){const Le=X[pe++];Le=="."?C&&pe==X.length&&te.push(""):Le==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),C&&pe==X.length&&te.push("")):(te.push(Le),C=!0)}C=te.join("/")}else C=X}return T?v.h=C:T=f.i.toString()!=="",T?tc(v,fd(f.i)):T=!!f.m,T&&(v.m=f.m),v};function Vt(f){return new Bn(f)}function Zt(f,v,T){f.j=T?Zs(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function cr(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function tc(f,v,T){v instanceof dr?(f.i=v,bo(f.i,f.l)):(T||(v=xa(v,ur)),f.i=new dr(v,f.l))}function st(f,v,T){f.i.set(v,T)}function ya(f){return st(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Zs(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xa(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,Cn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Cn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var yo=/[#\/\?@]/g,ud=/[#\?:]/g,nc=/[#\?]/g,ur=/[#\?@]/g,dd=/#/g;function dr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Rn(f){f.g||(f.g=new Map,f.h=0,f.i&&go(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=dr.prototype,t.add=function(f,v){Rn(this),this.i=null,f=hr(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function hd(f,v){Rn(f),v=hr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function sc(f,v){return Rn(f),v=hr(f,v),f.g.has(v)}t.forEach=function(f,v){Rn(this),this.g.forEach(function(T,C){T.forEach(function(X){f.call(v,X,C,this)},this)},this)};function ic(f,v){Rn(f);let T=[];if(typeof v=="string")sc(f,v)&&(T=T.concat(f.g.get(hr(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)T=T.concat(f[v]);return T}t.set=function(f,v){return Rn(this),this.i=null,f=hr(this,f),sc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=ic(this,f),f.length>0?String(f[0]):v):v};function xo(f,v,T){hd(f,v),T.length>0&&(f.i=null,f.g.set(hr(f,v),E(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let C=0;C<v.length;C++){var T=v[C];const X=Si(T);T=ic(this,T);for(let te=0;te<T.length;te++){let pe=X;T[te]!==""&&(pe+="="+Si(T[te])),f.push(pe)}}return this.i=f.join("&")};function fd(f){const v=new dr;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function hr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function bo(f,v){v&&!f.j&&(Rn(f),f.i=null,f.g.forEach(function(T,C){const X=C.toLowerCase();C!=X&&(hd(this,C),xo(this,X,T))},f)),f.j=v}function vs(f,v){const T=new ys;if(c.Image){const C=new Image;C.onload=x(Zn,T,"TestLoadImage: loaded",!0,v,C),C.onerror=x(Zn,T,"TestLoadImage: error",!1,v,C),C.onabort=x(Zn,T,"TestLoadImage: abort",!1,v,C),C.ontimeout=x(Zn,T,"TestLoadImage: timeout",!1,v,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else v(!1)}function rc(f,v){const T=new ys,C=new AbortController,X=setTimeout(()=>{C.abort(),Zn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:C.signal}).then(te=>{clearTimeout(X),te.ok?Zn(T,"TestPingServer: ok",!0,v):Zn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(X),Zn(T,"TestPingServer: error",!1,v)})}function Zn(f,v,T,C,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),C(T)}catch{}}function fr(){this.g=new ed}function ei(f){this.i=f.Sb||null,this.h=f.ab||!1}b(ei,td),ei.prototype.g=function(){return new ba(this.i,this.h)};function ba(f,v){It.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ba,It),t=ba.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,ws(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function vo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?mr(this):ws(this),this.readyState==3&&vo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,mr(this))},t.Na=function(f){this.g&&(this.response=f,mr(this))},t.ga=function(){this.g&&mr(this)};function mr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ws(f)}t.setRequestHeader=function(f,v){this.A.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function ws(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function es(f){let v="";return ve(f,function(T,C){v+=C,v+=":",v+=T,v+=`\r
`}),v}function va(f,v,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=es(T),typeof f=="string"?T!=null&&Si(T):st(f,v,T))}function at(f){It.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(at,It);var ti=/^https?$/i,ac=["POST","PUT"];t=at.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,v,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xl.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(te){wa(this,te);return}if(f=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var X in C)T.set(X,C[X]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const te of C.keys())T.set(te,C.get(te));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),X=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(ac,v,void 0)>=0)||C||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,pe]of T)this.g.setRequestHeader(te,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(te){wa(this,te)}};function wa(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,oc(f),ki(f)}function oc(f){f.A||(f.A=!0,$t(f,"complete"),$t(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,$t(this,"complete"),$t(this,"abort"),ki(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_a(this):this.Xa())},t.Xa=function(){_a(this)};function _a(f){if(f.h&&typeof l<"u"){if(f.v&&_s(f)==4)setTimeout(f.Ca.bind(f),0);else if($t(f,"readystatechange"),_s(f)==4){f.h=!1;try{const te=f.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var C;if(C=te===0){let pe=String(f.D).match(cd)[1]||null;!pe&&c.self&&c.self.location&&(pe=c.self.location.protocol.slice(0,-1)),C=!ti.test(pe?pe.toLowerCase():"")}T=C}if(T)$t(f,"complete"),$t(f,"success");else{f.o=6;try{var X=_s(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",oc(f)}}finally{ki(f)}}}}function ki(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,v||$t(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _s(f){return f.g?f.g.readyState:0}t.ca=function(){try{return _s(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Nm(v)}};function an(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(f){const v={};f=(f.g&&_s(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(j(f[C]))continue;var T=ad(f[C]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=v[X]||[];v[X]=te,te.push(T)}re(v,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ni(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function pr(f){this.za=0,this.i=[],this.j=new ys,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ni("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ni("baseRetryDelayMs",5e3,f),this.Za=ni("retryDelaySeedMs",1e4,f),this.Ta=ni("forwardChannelMaxRetries",2,f),this.va=ni("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ql(f&&f.concurrentRequestLimit),this.Ba=new fr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=pr.prototype,t.ka=8,t.I=1,t.connect=function(f,v,T,C){Dt(0),this.W=f,this.H=v||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=vd(this,null,this.W),si(this)};function lc(f){if(wo(f),f.I==3){var v=f.V++,T=Vt(f.J);if(st(T,"SID",f.M),st(T,"RID",v),st(T,"TYPE","terminate"),Ta(f,T),v=new xs(f,f.j,v),v.M=2,v.A=ya(Vt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=wd(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ys(v)}bd(f)}function gr(f){f.g&&(uc(f),f.g.cancel(),f.g=null)}function wo(f){gr(f),f.v&&(c.clearTimeout(f.v),f.v=null),To(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function si(f){if(!Wl(f.h)&&!f.m){f.m=!0;var v=f.Ea;ie||S(),he||(ie(),he=!0),D.add(v,f),f.D=0}}function _o(f,v){return Ws(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Gs(p(f.Ea,f,v),xd(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new xs(this,this.j,f);let te=this.o;if(this.U&&(te?(te=I(te),Y(te,this.U)):te=this.U),this.u!==null||this.R||(X.J=te,te=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=md(this,X,v),T=Vt(this.J),st(T,"RID",f),st(T,"CVER",22),this.G&&st(T,"X-HTTP-Session-Id",this.G),Ta(this,T),te&&(this.R?v="headers="+Si(es(te))+"&"+v:this.u&&va(T,this.u,te)),Jl(this.h,X),this.Ra&&st(T,"TYPE","init"),this.S?(st(T,"$req",v),st(T,"SID","null"),X.U=!0,Ks(X,T,null)):Ks(X,T,v),this.I=2}}else this.I==3&&(f?cc(this,f):this.i.length==0||Wl(this.h)||cc(this))};function cc(f,v){var T;v?T=v.l:T=f.V++;const C=Vt(f.J);st(C,"SID",f.M),st(C,"RID",T),st(C,"AID",f.K),Ta(f,C),f.u&&f.o&&va(C,f.u,f.o),T=new xs(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),v&&(f.i=v.G.concat(f.i)),v=md(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Jl(f.h,T),Ks(T,C,v)}function Ta(f,v){f.H&&ve(f.H,function(T,C){st(v,C,T)}),f.l&&ve({},function(T,C){st(v,C,T)})}function md(f,v,T){T=Math.min(f.i.length,T);const C=f.l?p(f.l.Ka,f.l,f):null;e:{var X=f.i;let Le=-1;for(;;){const Nt=["count="+T];Le==-1?T>0?(Le=X[0].g,Nt.push("ofs="+Le)):Le=0:Nt.push("ofs="+Le);let et=!0;for(let gt=0;gt<T;gt++){var te=X[gt].g;const ts=X[gt].map;if(te-=Le,te<0)Le=Math.max(0,X[gt].g-100),et=!1;else try{te="req"+te+"_"||"";try{var pe=ts instanceof Map?ts:Object.entries(ts);for(const[ri,Ts]of pe){let Es=Ts;h(Ts)&&(Es=lr(Ts)),Nt.push(te+ri+"="+encodeURIComponent(Es))}}catch(ri){throw Nt.push(te+"type="+encodeURIComponent("_badmap")),ri}}catch{C&&C(ts)}}if(et){pe=Nt.join("&");break e}}pe=void 0}return f=f.i.splice(0,T),v.G=f,pe}function pd(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;ie||S(),he||(ie(),he=!0),D.add(v,f),f.A=0}}function Ea(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Gs(p(f.Da,f),xd(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,gd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Gs(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),gr(this),gd(this))};function uc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function gd(f){f.g=new xs(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=Vt(f.na);st(v,"RID","rpc"),st(v,"SID",f.M),st(v,"AID",f.K),st(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&st(v,"TO",f.ia),st(v,"TYPE","xmlhttp"),Ta(f,v),f.u&&f.o&&va(v,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=ya(Vt(v)),T.u=null,T.R=!0,mo(T,f)}t.Va=function(){this.C!=null&&(this.C=null,gr(this),Ea(this),Dt(19))};function To(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function yd(f,v){var T=null;if(f.g==v){To(f),uc(f),f.g=null;var C=2}else if(Js(f.h,v))T=v.G,Zl(f.h,v),C=1;else return;if(f.I!=0){if(v.o)if(C==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var X=f.D;C=fo(),$t(C,new qs(C,T)),si(f)}else pd(f);else if(X=v.m,X==3||X==0&&v.X>0||!(C==1&&_o(f,v)||C==2&&Ea(f)))switch(T&&T.length>0&&(v=f.h,v.i=v.i.concat(T)),X){case 1:ii(f,5);break;case 4:ii(f,10);break;case 3:ii(f,6);break;default:ii(f,2)}}}function xd(f,v){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*v}function ii(f,v){if(f.j.info("Error code "+v),v==2){var T=p(f.bb,f),C=f.Ua;const X=!C;C=new Bn(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zt(C,"https"),ya(C),X?vs(C.toString(),T):rc(C.toString(),T)}else Dt(2);f.I=0,f.l&&f.l.pa(v),bd(f),wo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function bd(f){if(f.I=0,f.ja=[],f.l){const v=ec(f.h);(v.length!=0||f.i.length!=0)&&(R(f.ja,v),R(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function vd(f,v,T){var C=T instanceof Bn?Vt(T):new Bn(T);if(C.g!="")v&&(C.g=v+"."+C.g),cr(C,C.u);else{var X=c.location;C=X.protocol,v=v?v+"."+X.hostname:X.hostname,X=+X.port;const te=new Bn(null);C&&Zt(te,C),v&&(te.g=v),X&&cr(te,X),T&&(te.h=T),C=te}return T=f.G,v=f.wa,T&&v&&st(C,T,v),st(C,"VER",f.ka),Ta(f,C),C}function wd(f,v,T){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new at(new ei({ab:T})):new at(f.ma),v.Fa(f.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _d(){}t=_d.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function yr(){}yr.prototype.g=function(f,v){return new En(f,v)};function En(f,v){It.call(this),this.g=new pr(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!j(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Ai(this)}b(En,It),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){lc(this.g)},En.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=lr(f),f=T);v.i.push(new Pt(v.Ya++,f)),v.I==3&&si(v)},En.prototype.N=function(){this.g.l=null,delete this.j,lc(this.g),delete this.g,En.Z.N.call(this)};function Td(f){rn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}b(Td,rn);function Ed(){Wn.call(this),this.status=1}b(Ed,Wn);function Ai(f){this.g=f}b(Ai,_d),Ai.prototype.ra=function(){$t(this.g,"a")},Ai.prototype.qa=function(f){$t(this.g,new Td(f))},Ai.prototype.pa=function(f){$t(this.g,new Ed)},Ai.prototype.oa=function(){$t(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,aN=function(){return new yr},rN=function(){return fo()},iN=kt,Wg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,nf=pa,Yl.COMPLETE="complete",sN=Yl,nd.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",It.prototype.listen=It.prototype.J,tu=nd,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,nN=at}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Vl="12.9.0";function pO(t){Vl=t}const no=new ox("@firebase/firestore");function nl(){return no.logLevel}function we(t,...e){if(no.logLevel<=$e.DEBUG){const n=e.map(vx);no.debug(`Firestore (${Vl}): ${t}`,...n)}}function tr(t,...e){if(no.logLevel<=$e.ERROR){const n=e.map(vx);no.error(`Firestore (${Vl}): ${t}`,...n)}}function so(t,...e){if(no.logLevel<=$e.WARN){const n=e.map(vx);no.warn(`Firestore (${Vl}): ${t}`,...n)}}function vx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function De(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,oN(t,i,n)}function oN(t,e,n){let i=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw tr(i),new Error(i)}function nt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||oN(e,a,i)}function Oe(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class yO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class xO{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(nt(typeof i.accessToken=="string",31837,{l:i}),new lN(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class bO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class vO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new bO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,us(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const i=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _O(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class wx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=_O(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function Jg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return sg(a)===sg(l)?Ke(a,l):sg(a)?1:-1}return Ke(t.length,e.length)}const TO=55296,EO=57343;function sg(t){const e=t.charCodeAt(0);return e>=TO&&e<=EO}function wl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const BT="__name__";class hi{constructor(e,n,i){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&De(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=hi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const i=hi.isNumericId(e),a=hi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?hi.extractNumericId(e).compare(hi.extractNumericId(n)):Jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class dt extends hi{construct(e,n,i){return new dt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const SO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends hi{construct(e,n,i){return new fn(e,n,i)}static isValidIdentifier(e){return SO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BT}static keyField(){return new fn([BT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(dt.fromString(e))}static fromName(e){return new Ce(dt.fromString(e).popFirst(5))}static empty(){return new Ce(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new dt(e.slice()))}}function cN(t,e,n){if(!n)throw new xe(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kO(t,e,n,i){if(e===!0&&i===!0)throw new xe(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FT(t){if(!Ce.isDocumentKey(t))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HT(t){if(Ce.isDocumentKey(t))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function am(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function Vs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=am(t);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function NO(t,e){if(e<=0)throw new xe(le.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gu(t,e){if(!uN(t))throw new xe(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new xe(le.INVALID_ARGUMENT,n);return!0}const qT=-62135596800,GT=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*GT);return new pt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qT)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gu(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:qt("string",pt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new pt(0,0))}static max(){return new Pe(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ku=-1;function AO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Pe.fromTimestamp(i===1e9?new pt(n+1,0):new pt(n,i));return new sa(a,Ce.empty(),e)}function CO(t){return new sa(t.readTime,t.key,ku)}class sa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new sa(Pe.min(),Ce.empty(),ku)}static max(){return new sa(Pe.max(),Ce.empty(),ku)}}function RO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const jO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ol(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==jO)throw t;we("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,i)=>{n(e)}))}static reject(e){return new ue(((n,i)=>{i(e)}))}static waitFor(e){return new ue(((n,i)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ue.resolve(!1);for(const i of e)n=n.next((a=>a?ue.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ue(((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((x=>{c[p]=x,++h,h===l&&i(c)}),(x=>a(x)))}}))}static doWhile(e,n){return new ue(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function DO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ll(t){return t.name==="IndexedDbTransactionError"}class om{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}om.ce=-1;const _x=-1;function lm(t){return t==null}function Cf(t){return t===0&&1/t==-1/0}function MO(t){return typeof t=="number"&&Number.isInteger(t)&&!Cf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const dN="";function PO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$T(e)),e=VO(t.get(n),e);return $T(e)}function VO(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case dN:n+="";break;default:n+=l}}return n}function $T(t){return t+dN+""}function KT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class wt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new hn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YT(this.data.getIterator())}getIteratorFrom(e){return new YT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class YT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new Qt(fn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class fN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new fN("Invalid base64 string: "+l):l}})(e);return new mn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const OO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=OO.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ra(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}const mN="server_timestamp",pN="__type__",gN="__previous_value__",yN="__local_write_time__";function Tx(t){return(t?.mapValue?.fields||{})[pN]?.stringValue===mN}function cm(t){const e=t.mapValue.fields[gN];return Tx(e)?cm(e):e}function Nu(t){const e=ia(t.mapValue.fields[yN].timestampValue);return new pt(e.seconds,e.nanos)}class LO{constructor(e,n,i,a,l,c,h,m,p,x,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=x,this.apiKey=b}}const Rf="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||Rf}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Rf}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}function UO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(t.options.projectId,e)}const xN="__type__",zO="__max__",Vh={mapValue:{}},bN="__vector__",jf="value";function aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tx(t)?4:FO(t)?9007199254740991:BO(t)?10:11:De(28295,{value:t})}function wi(t,e){if(t===e)return!0;const n=aa(t);if(n!==aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nu(t).isEqual(Nu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ia(a.timestampValue),h=ia(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ra(a.bytesValue).isEqual(ra(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Rt(a.doubleValue),h=Rt(l.doubleValue);return c===h?Cf(c)===Cf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return wl(t.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(KT(c)!==KT(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!wi(c[m],h[m])))return!1;return!0})(t,e);default:return De(52216,{left:t})}}function Cu(t,e){return(t.values||[]).find((n=>wi(n,e)))!==void 0}function _l(t,e){if(t===e)return 0;const n=aa(t),i=aa(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Rt(l.integerValue||l.doubleValue),m=Rt(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return XT(t.timestampValue,e.timestampValue);case 4:return XT(Nu(t),Nu(e));case 5:return Jg(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=ra(l),m=ra(c);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),m=c.split("/");for(let p=0;p<h.length&&p<m.length;p++){const x=Ke(h[p],m[p]);if(x!==0)return x}return Ke(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Ke(Rt(l.latitude),Rt(c.latitude));return h!==0?h:Ke(Rt(l.longitude),Rt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return QT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},m=c.fields||{},p=h[jf]?.arrayValue,x=m[jf]?.arrayValue,b=Ke(p?.values?.length||0,x?.values?.length||0);return b!==0?b:QT(p,x)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Vh.mapValue&&c===Vh.mapValue)return 0;if(l===Vh.mapValue)return 1;if(c===Vh.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=c.fields||{},x=Object.keys(p);m.sort(),x.sort();for(let b=0;b<m.length&&b<x.length;++b){const w=Jg(m[b],x[b]);if(w!==0)return w;const E=_l(h[m[b]],p[x[b]]);if(E!==0)return E}return Ke(m.length,x.length)})(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function XT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=ia(t),i=ia(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function QT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=_l(n[a],i[a]);if(l)return l}return Ke(n.length,i.length)}function Tl(t){return Zg(t)}function Zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ia(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ra(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Zg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Zg(n.fields[c])}`;return a+"}"})(t.mapValue):De(61005,{value:t})}function sf(t){switch(aa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cm(t);return e?16+sf(e):16;case 5:return 2*t.stringValue.length;case 6:return ra(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+sf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return ua(i.fields,((l,c)=>{a+=l.length+sf(c)})),a})(t.mapValue);default:throw De(13486,{value:t})}}function WT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ey(t){return!!t&&"integerValue"in t}function Ex(t){return!!t&&"arrayValue"in t}function JT(t){return!!t&&"nullValue"in t}function ZT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}function BO(t){return(t?.mapValue?.fields||{})[xN]?.stringValue===bN}function hu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=hu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return{...t}}function FO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zO}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=fn.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=hu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];rf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ua(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new On(hu(this.value))}}function vN(t){const e=[];return ua(t.fields,((n,i)=>{const a=new fn([n]);if(rf(i)){const l=vN(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Xn(e)}class bn{constructor(e,n,i,a,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new bn(e,0,Pe.min(),Pe.min(),Pe.min(),On.empty(),0)}static newFoundDocument(e,n,i,a){return new bn(e,1,n,Pe.min(),i,a,0)}static newNoDocument(e,n){return new bn(e,2,n,Pe.min(),Pe.min(),On.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Pe.min(),Pe.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class If{constructor(e,n){this.position=e,this.inclusive=n}}function eE(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ce.comparator(Ce.fromName(c.referenceValue),n.key):i=_l(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function tE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wi(t.position[n],e.position[n]))return!1;return!0}class Ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function HO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class wN{}class Ht extends wN{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new GO(e,n,i):n==="array-contains"?new YO(e,i):n==="in"?new XO(e,i):n==="not-in"?new QO(e,i):n==="array-contains-any"?new WO(e,i):new Ht(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new $O(e,i):new KO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_l(n,this.value)):n!==null&&aa(this.value)===aa(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zs extends wN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zs(e,n)}matches(e){return _N(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _N(t){return t.op==="and"}function TN(t){return qO(t)&&_N(t)}function qO(t){for(const e of t.filters)if(e instanceof zs)return!1;return!0}function ty(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(TN(t))return t.filters.map((e=>ty(e))).join(",");{const e=t.filters.map((n=>ty(n))).join(",");return`${t.op}(${e})`}}function EN(t,e){return t instanceof Ht?(function(i,a){return a instanceof Ht&&i.op===a.op&&i.field.isEqual(a.field)&&wi(i.value,a.value)})(t,e):t instanceof zs?(function(i,a){return a instanceof zs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,h)=>l&&EN(c,a.filters[h])),!0):!1})(t,e):void De(19439)}function SN(t){return t instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`})(t):t instanceof zs?(function(n){return n.op.toString()+" {"+n.getFilters().map(SN).join(" ,")+"}"})(t):"Filter"}class GO extends Ht{constructor(e,n,i){super(e,n,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class $O extends Ht{constructor(e,n){super(e,"in",n),this.keys=kN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KO extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=kN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kN(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class YO extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ex(n)&&Cu(n.arrayValue,this.value)}}class XO extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class QO extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cu(this.value.arrayValue,n)}}class WO extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ex(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Cu(this.value.arrayValue,i)))}}class JO{constructor(e,n=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function nE(t,e=null,n=[],i=[],a=null,l=null,c=null){return new JO(t,e,n,i,a,l,c)}function Sx(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ty(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Tl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Tl(i))).join(",")),e.Te=n}return e.Te}function kx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tE(t.startAt,e.startAt)&&tE(t.endAt,e.endAt)}function ny(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ul{constructor(e,n=null,i=[],a=[],l=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZO(t,e,n,i,a,l,c,h){return new Ul(t,e,n,i,a,l,c,h)}function Nx(t){return new Ul(t)}function sE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eL(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function NN(t){return t.collectionGroup!==null}function fu(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Qt(fn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Ru(l,i))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new Ru(fn.keyField(),i))}return e.Ie}function gi(t){const e=Oe(t);return e.Ee||(e.Ee=tL(e,fu(t))),e.Ee}function tL(t,e){if(t.limitType==="F")return nE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Ru(a.field,l)}));const n=t.endAt?new If(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new If(t.startAt.position,t.startAt.inclusive):null;return nE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function sy(t,e){const n=t.filters.concat([e]);return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nL(t,e){const n=t.explicitOrderBy.concat([e]);return new Ul(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Df(t,e,n){return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function um(t,e){return kx(gi(t),gi(e))&&t.limitType===e.limitType}function AN(t){return`${Sx(gi(t))}|lt:${t.limitType}`}function sl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>SN(a))).join(", ")}]`),lm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Tl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Tl(a))).join(",")),`Target(${i})`})(gi(t))}; limitType=${t.limitType})`}function dm(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ce.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of fu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,m){const p=eE(c,h,m);return c.inclusive?p<=0:p<0})(i.startAt,fu(i),a)||i.endAt&&!(function(c,h,m){const p=eE(c,h,m);return c.inclusive?p>=0:p>0})(i.endAt,fu(i),a))})(t,e)}function sL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CN(t){return(e,n)=>{let i=!1;for(const a of fu(t)){const l=iL(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function iL(t,e,n){const i=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(l,c,h){const m=c.data.field(l),p=h.data.field(l);return m!==null&&p!==null?_l(m,p):De(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return De(19790,{direction:t.dir})}}class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return hN(this.inner)}size(){return this.innerSize}}const rL=new wt(Ce.comparator);function nr(){return rL}const RN=new wt(Ce.comparator);function nu(...t){let e=RN;for(const n of t)e=e.insert(n.key,n);return e}function jN(t){let e=RN;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ya(){return mu()}function IN(){return mu()}function mu(){return new co((t=>t.toString()),((t,e)=>t.isEqual(e)))}const aL=new wt(Ce.comparator),oL=new Qt(Ce.comparator);function Ye(...t){let e=oL;for(const n of t)e=e.add(n);return e}const lL=new Qt(Ke);function cL(){return lL}function Ax(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cf(e)?"-0":e}}function DN(t){return{integerValue:""+t}}function uL(t,e){return MO(e)?DN(e):Ax(t,e)}class hm{constructor(){this._=void 0}}function dL(t,e,n){return t instanceof ju?(function(a,l){const c={fields:{[pN]:{stringValue:mN},[yN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Tx(l)&&(l=cm(l)),l&&(c.fields[gN]=l),{mapValue:c}})(n,e):t instanceof El?PN(t,e):t instanceof Sl?VN(t,e):(function(a,l){const c=MN(a,l),h=iE(c)+iE(a.Ae);return ey(c)&&ey(a.Ae)?DN(h):Ax(a.serializer,h)})(t,e)}function hL(t,e,n){return t instanceof El?PN(t,e):t instanceof Sl?VN(t,e):n}function MN(t,e){return t instanceof Mf?(function(i){return ey(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class ju extends hm{}class El extends hm{constructor(e){super(),this.elements=e}}function PN(t,e){const n=ON(e);for(const i of t.elements)n.some((a=>wi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Sl extends hm{constructor(e){super(),this.elements=e}}function VN(t,e){let n=ON(e);for(const i of t.elements)n=n.filter((a=>!wi(a,i)));return{arrayValue:{values:n}}}class Mf extends hm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iE(t){return Rt(t.integerValue||t.doubleValue)}function ON(t){return Ex(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Cx{constructor(e,n){this.field=e,this.transform=n}}function fL(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof El&&a instanceof El||i instanceof Sl&&a instanceof Sl?wl(i.elements,a.elements,wi):i instanceof Mf&&a instanceof Mf?wi(i.Ae,a.Ae):i instanceof ju&&a instanceof ju})(t.transform,e.transform)}class mL{constructor(e,n){this.version=e,this.transformResults=n}}class Os{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Os}static exists(e){return new Os(void 0,e)}static updateTime(e){return new Os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fm{}function LN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zN(t.key,Os.none()):new $u(t.key,t.data,Os.none());{const n=t.data,i=On.empty();let a=new Qt(fn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new da(t.key,i,new Xn(a.toArray()),Os.none())}}function pL(t,e,n){t instanceof $u?(function(a,l,c){const h=a.value.clone(),m=aE(a.fieldTransforms,l,c.transformResults);h.setAll(m),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof da?(function(a,l,c){if(!af(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=aE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(UN(a)),m.setAll(h),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function pu(t,e,n,i){return t instanceof $u?(function(l,c,h,m){if(!af(l.precondition,c))return h;const p=l.value.clone(),x=oE(l.fieldTransforms,m,c);return p.setAll(x),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof da?(function(l,c,h,m){if(!af(l.precondition,c))return h;const p=oE(l.fieldTransforms,m,c),x=c.data;return x.setAll(UN(l)),x.setAll(p),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,c,h){return af(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function gL(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=MN(i.transform,a||null);l!=null&&(n===null&&(n=On.empty()),n.set(i.field,l))}return n||null}function rE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&wl(i,a,((l,c)=>fL(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $u extends fm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class da extends fm{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function UN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function aE(t,e,n){const i=new Map;nt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,hL(c,h,n[a]))}return i}function oE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,dL(l,c,e))}return i}class zN extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yL extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xL{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&pL(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=pu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=pu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=IN();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const m=LN(c,h);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Pe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&wl(this.mutations,e.mutations,((n,i)=>rE(n,i)))&&wl(this.baseMutations,e.baseMutations,((n,i)=>rE(n,i)))}}class Rx{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){nt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return aL})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Rx(e,n,i,a)}}class bL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Bt,Qe;function wL(t){switch(t){case le.OK:return De(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function BN(t){if(t===void 0)return tr("GRPC error has no .code"),le.UNKNOWN;switch(t){case Bt.OK:return le.OK;case Bt.CANCELLED:return le.CANCELLED;case Bt.UNKNOWN:return le.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return le.INTERNAL;case Bt.UNAVAILABLE:return le.UNAVAILABLE;case Bt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Bt.NOT_FOUND:return le.NOT_FOUND;case Bt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Bt.ABORTED:return le.ABORTED;case Bt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Bt.DATA_LOSS:return le.DATA_LOSS;default:return De(39323,{code:t})}}(Qe=Bt||(Bt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function _L(){return new TextEncoder}const TL=new Qr([4294967295,4294967295],0);function lE(t){const e=_L().encode(t),n=new tN;return n.update(e),new Uint8Array(n.digest())}function cE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Qr([n,i],0),new Qr([a,l],0)]}class jx{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(i<0)throw new su(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Qr.fromNumber(i)));return a.compare(TL)===1&&(a=new Qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lE(e),[i,a]=cE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new jx(l,a,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=lE(e),[i,a]=cE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mm{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new mm(Pe.min(),a,new wt(Ke),nr(),Ye())}}class Ku{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ku(i,n,Ye(),Ye(),Ye())}}class of{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class FN{constructor(e,n){this.targetId=e,this.Ce=n}}class HN{constructor(e,n,i=mn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class uE{constructor(){this.ve=0,this.Fe=dE(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:De(38017,{changeType:l})}})),new Ku(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=dE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class EL{constructor(e){this.Ge=e,this.ze=new Map,this.je=nr(),this.He=Oh(),this.Je=Oh(),this.Ze=new wt(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ny(l))if(i===0){const c=new Ce(l.path);this.et(n,c,bn.newNoDocument(c,Pe.min()))}else nt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),m=h?this.ct(h,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=ra(i).toUint8Array()}catch(m){if(m instanceof fN)return so("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new jx(c,a,l)}catch(m){return so(m instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&ny(h.target)){const m=new Ce(h.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,bn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ye();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new mm(e,n,this.Ze,this.je,i);return this.je=nr(),this.He=Oh(),this.Je=Oh(),this.Ze=new wt(Ke),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new uE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Qt(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Qt(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Oh(){return new wt(Ce.comparator)}function dE(){return new wt(Ce.comparator)}const SL={asc:"ASCENDING",desc:"DESCENDING"},kL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NL={and:"AND",or:"OR"};class AL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iy(t,e){return t.useProto3Json||lm(e)?e:{value:e}}function Pf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CL(t,e){return Pf(t,e.toTimestamp())}function yi(t){return nt(!!t,49232),Pe.fromTimestamp((function(n){const i=ia(n);return new pt(i.seconds,i.nanos)})(t))}function Ix(t,e){return ry(t,e).canonicalString()}function ry(t,e){const n=(function(a){return new dt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function GN(t){const e=dt.fromString(t);return nt(QN(e),10190,{key:e.toString()}),e}function ay(t,e){return Ix(t.databaseId,e.path)}function ig(t,e){const n=GN(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(KN(n))}function $N(t,e){return Ix(t.databaseId,e)}function RL(t){const e=GN(t);return e.length===4?dt.emptyPath():KN(e)}function oy(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KN(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hE(t,e,n){return{name:ay(t,e),fields:n.value.mapValue.fields}}function jL(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,x){return p.useProto3Json?(nt(x===void 0||typeof x=="string",58123),mn.fromBase64String(x||"")):(nt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),mn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const x=p.code===void 0?le.UNKNOWN:BN(p.code);return new xe(x,p.message||"")})(c);n=new HN(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ig(t,i.document.name),l=yi(i.document.updateTime),c=i.document.createTime?yi(i.document.createTime):Pe.min(),h=new On({mapValue:{fields:i.document.fields}}),m=bn.newFoundDocument(a,l,c,h),p=i.targetIds||[],x=i.removedTargetIds||[];n=new of(p,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ig(t,i.document),l=i.readTime?yi(i.readTime):Pe.min(),c=bn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new of([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ig(t,i.document),l=i.removedTargetIds||[];n=new of([],l,a,null)}else{if(!("filter"in e))return De(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new vL(a,l),h=i.targetId;n=new FN(h,c)}}return n}function IL(t,e){let n;if(e instanceof $u)n={update:hE(t,e.key,e.value)};else if(e instanceof zN)n={delete:ay(t,e.key)};else if(e instanceof da)n={update:hE(t,e.key,e.data),updateMask:BL(e.fieldMask)};else{if(!(e instanceof yL))return De(16599,{dt:e.type});n={verify:ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof ju)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof El)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Sl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Mf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw De(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:CL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De(27497)})(t,e.precondition)),n}function DL(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?yi(a.updateTime):yi(l);return c.isEqual(Pe.min())&&(c=yi(l)),new mL(c,a.transformResults||[])})(n,e)))):[]}function ML(t,e){return{documents:[$N(t,e.path)]}}function PL(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=$N(t,a);const l=(function(p){if(p.length!==0)return XN(zs.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((x=>(function(w){return{field:il(w.field),direction:LL(w.dir)}})(x)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=iy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function VL(t){let e=RL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){nt(i===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];n.where&&(l=(function(b){const w=YN(b);return w instanceof zs&&TN(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((w=>(function(R){return new Ru(rl(R.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let w;return w=typeof b=="object"?b.value:b,lm(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,E=b.values||[];return new If(E,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,E=b.values||[];return new If(E,w)})(n.endAt)),ZO(e,a,c,l,h,"F",m,p)}function OL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=rl(n.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=rl(n.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rl(n.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rl(n.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ht.create(rl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return zs.create(n.compositeFilter.filters.map((i=>YN(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(t):De(30097,{filter:t})}function LL(t){return SL[t]}function UL(t){return kL[t]}function zL(t){return NL[t]}function il(t){return{fieldPath:t.canonicalString()}}function rl(t){return fn.fromServerFormat(t.fieldPath)}function XN(t){return t instanceof Ht?(function(n){if(n.op==="=="){if(ZT(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(JT(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZT(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(JT(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:UL(n.op),value:n.value}}})(t):t instanceof zs?(function(n){const i=n.getFilters().map((a=>XN(a)));return i.length===1?i[0]:{compositeFilter:{op:zL(n.op),filters:i}}})(t):De(54877,{filter:t})}function BL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function WN(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Kr{constructor(e,n,i,a,l=Pe.min(),c=Pe.min(),h=mn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FL{constructor(e){this.yt=e}}function HL(t){const e=VL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Df(e,e.limit,"L"):e}class qL{constructor(){this.Sn=new GL}addToCollectionParentIndex(e,n){return this.Sn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(sa.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(sa.min())}updateCollectionGroup(e,n,i){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class GL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Qt(dt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Qt(dt.comparator)).toArray()}}const fE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JN=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(JN,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class kl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new kl(0)}static ar(){return new kl(-1)}}const mE="LruGarbageCollector",$L=1048576;function pE([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class KL{constructor(e){this.Pr=e,this.buffer=new Qt(pE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();pE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YL{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(mE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ll(n)?we(mE,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Ar(3e5)}))}}class XL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(om.ce);const i=new KL(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(fE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,h,m,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,h=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),nl()<=$e.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-x}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function QL(t,e){return new XL(t,e)}class WL{constructor(){this.changes=new co((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ue.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ZL{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&pu(i.mutation,a,Xn.empty(),pt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=Ya();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=nu();return l.forEach(((h,m)=>{c=c.insert(h,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Ya();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,a){let l=nr();const c=mu(),h=(function(){return mu()})();return n.forEach(((m,p)=>{const x=i.get(p.key);a.has(p.key)&&(x===void 0||x.mutation instanceof da)?l=l.insert(p.key,p):x!==void 0?(c.set(p.key,x.mutation.getFieldMask()),pu(x.mutation,p,x.mutation.getFieldMask(),pt.now())):c.set(p.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,x)=>c.set(p,x))),n.forEach(((p,x)=>h.set(p,new JL(x,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=mu();let a=new wt(((c,h)=>c-h)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let x=i.get(m)||Xn.empty();x=h.applyToLocalView(p,x),i.set(m,x);const b=(a.get(h.batchId)||Ye()).add(m);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,x=m.value,b=IN();x.forEach((w=>{if(!l.has(w)){const E=LN(n.get(w),i.get(w));E!==null&&b.set(w,E),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ue.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return eL(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ue.resolve(Ya());let h=ku,m=l;return c.next((p=>ue.forEach(p,((x,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(x)?ue.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{m=m.insert(x,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ye()))).next((x=>({batchId:h,changes:jN(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((i=>{let a=nu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(e,l).next((h=>ue.forEach(h,(m=>{const p=(function(b,w){return new Ul(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((x=>{x.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,p)=>{const x=p.getKey();c.get(x)===null&&(c=c.insert(x,bn.newInvalidDocument(x)))}));let h=nu();return c.forEach(((m,p)=>{const x=l.get(m);x!==void 0&&pu(x.mutation,p,Xn.empty(),pt.now()),dm(n,p)&&(h=h.insert(m,p))})),h}))}}class e9{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ue.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:yi(a.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:HL(a.bundledQuery),readTime:yi(a.readTime)}})(n)),ue.resolve()}}class t9{constructor(){this.overlays=new wt(Ce.comparator),this.Lr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ya();return ue.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),ue.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ue.resolve()}getOverlaysForCollection(e,n,i){const a=Ya(),l=n.length+1,c=new Ce(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new wt(((p,x)=>p-x));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let x=l.get(p.largestBatchId);x===null&&(x=Ya(),l=l.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const h=Ya(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,x)=>h.set(p,x))),!(h.size()>=a)););return ue.resolve(h)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new bL(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ye(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class n9{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}class Dx{constructor(){this.kr=new Qt(nn.Kr),this.qr=new Qt(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new nn(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new nn(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ce(new dt([])),i=new nn(n,e),a=new nn(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ce(new dt([])),i=new nn(n,e),a=new nn(n,e+1);let l=Ye();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new nn(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class nn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ce.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Ce.comparator(e.key,n.key)}}class s9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Qt(nn.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new xL(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new nn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,n){return ue.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?_x:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new nn(n,0),a=new nn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Qt(Ke);return n.forEach((a=>{const l=new nn(a,0),c=new nn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{i=i.add(h.Hr)}))})),ue.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ce.isDocumentKey(l)||(l=l.child(""));const c=new nn(new Ce(l),0);let h=new Qt(Ke);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Hr)),!0)}),c),ue.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){nt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ue.forEach(n.mutations,(a=>{const l=new nn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new nn(n,0),a=this.Jr.firstAfterOrEqual(i);return ue.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class i9{constructor(e){this.ti=e,this.docs=(function(){return new wt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ue.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let i=nr();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():bn.newInvalidDocument(a))})),ue.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=nr();const c=n.path,h=new Ce(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:x}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||RO(CO(x),i)<=0||(a.has(x.key)||dm(n,x))&&(l=l.insert(x.key,x.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,n,i,a){De(9500)}ni(e,n){return ue.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new r9(this)}getSize(e){return ue.resolve(this.size)}}class r9 extends WL{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ue.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class a9{constructor(e){this.persistence=e,this.ri=new co((n=>Sx(n)),kx),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.ii=0,this.si=new Dx,this.targetCount=0,this.oi=kl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ue.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new kl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.lr(n),ue.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ue.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ue.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ue.resolve(i)}containsKey(e,n){return ue.resolve(this.si.containsKey(n))}}class ZN{constructor(e,n){this._i={},this.overlays={},this.ai=new om(0),this.ui=!1,this.ui=!0,this.ci=new n9,this.referenceDelegate=e(this),this.li=new a9(this),this.indexManager=new qL,this.remoteDocumentCache=(function(a){return new i9(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new FL(n),this.Pi=new e9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new s9(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){we("MemoryPersistence","Starting transaction:",e);const a=new o9(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ue.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class o9 extends IO{constructor(e){super(),this.currentSequenceNumber=e}}class Mx{constructor(e){this.persistence=e,this.Ri=new Dx,this.Ai=null}static Vi(e){return new Mx(e)}get di(){if(this.Ai)return this.Ai;throw De(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ue.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(i=>{const a=Ce.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Pe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Vf{constructor(e,n){this.persistence=e,this.fi=new co((i=>PO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=QL(this,n)}static Vi(e,n){return new Vf(e,n)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ue.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ue.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(i++,l.removeEntry(c,Pe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sf(e.data.value)),n}wr(e,n,i){return ue.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Px{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Px(e,n.fromCache,i,a)}}class l9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class c9{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return YM()?8:DO(wn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new l9;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(nl()<=$e.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(nl()<=$e.DEBUG&&we("QueryEngine","Query:",sl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(nl()<=$e.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):ue.resolve())}gs(e,n){if(sE(n))return ue.resolve(null);let i=gi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Df(n,null,"F"),i=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.bs(n,h);return this.Ss(n,p,c,m.readTime)?this.gs(e,Df(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,i,a){return sE(n)||a.isEqual(Pe.min())?ue.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?ue.resolve(null):(nl()<=$e.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),sl(n)),this.Ds(e,c,n,AO(a,ku)).next((h=>h)))}))}bs(e,n){let i=new Qt(CN(e));return n.forEach(((a,l)=>{dm(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return nl()<=$e.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",sl(n)),this.fs.getDocumentsMatchingQuery(e,n,sa.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Vx="LocalStore",u9=3e8;class d9{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new wt(Ke),this.Fs=new co((l=>Sx(l)),kx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function h9(t,e,n,i){return new d9(t,e,n,i)}async function eA(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let m=Ye();for(const p of a){c.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}for(const p of l){h.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function f9(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,x){const b=p.batch,w=b.keys();let E=ue.resolve();return w.forEach((R=>{E=E.next((()=>x.getEntry(m,R))).next((M=>{const P=p.docVersions.get(R);nt(P!==null,48541),M.version.compareTo(P)<0&&(b.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),x.addEntry(M)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(m,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=Ye();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function tA(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function m9(t,e){const n=Oe(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((x,b)=>{const w=a.get(b);if(!w)return;h.push(n.li.removeMatchingKeys(l,x.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,x.addedDocuments,b))));let E=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?E=E.withResumeToken(mn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):x.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(x.resumeToken,i)),a=a.insert(b,E),(function(M,P,V){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=u9?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(w,E,x)&&h.push(n.li.updateTargetData(l,E))}));let m=nr(),p=Ye();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,x))})),h.push(p9(l,c,e.documentUpdates).next((x=>{m=x.Bs,p=x.Ls}))),!i.isEqual(Pe.min())){const x=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(x)}return ue.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function p9(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=nr();return n.forEach(((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Pe.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):we(Vx,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function g9(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=_x),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function y9(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,ue.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Kr(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function ly(t,e,n){const i=Oe(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ll(c))throw c;we(Vx,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function gE(t,e,n){const i=Oe(t);let a=Pe.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,x){const b=Oe(m),w=b.Fs.get(x);return w!==void 0?ue.resolve(b.vs.get(w)):b.li.getTargetData(p,x)})(i,c,gi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:Pe.min(),n?l:Ye()))).next((h=>(x9(i,sL(e),h),{documents:h,ks:l})))))}function x9(t,e,n){let i=t.Ms.get(e)||Pe.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class yE{constructor(){this.activeTargetIds=cL()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b9{constructor(){this.vo=new yE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new yE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class v9{Mo(e){}shutdown(){}}const xE="ConnectivityMonitor";class bE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(xE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lh=null;function cy(){return Lh===null?Lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lh++,"0x"+Lh.toString(16)}const rg="RestConnection",w9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class _9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Rf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=cy(),h=this.Qo(e,n.toUriEncodedString());we(rg,`Sending RPC '${e}' ${c}:`,h,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(h),x=oo(p);return this.zo(e,h,m,i,x).then((b=>(we(rg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw so(rg,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",i),b}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=w9[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class T9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const yn="WebChannelConnection",Wc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class pl extends _9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!pl.c_){const e=rN();Wc(e,iN.STAT_EVENT,(n=>{n.stat===Wg.PROXY?we(yn,"STAT_EVENT: detected buffering proxy"):n.stat===Wg.NOPROXY&&we(yn,"STAT_EVENT: detected no buffering proxy")})),pl.c_=!0}}zo(e,n,i,a,l){const c=cy();return new Promise(((h,m)=>{const p=new nN;p.setWithCredentials(!0),p.listenOnce(sN.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case nf.NO_ERROR:const b=p.getResponseJson();we(yn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case nf.TIMEOUT:we(yn,`RPC '${e}' ${c} timed out`),m(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const w=p.getStatus();if(we(yn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const R=E?.error;if(R&&R.status&&R.message){const M=(function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(B)>=0?B:le.UNKNOWN})(R.status);m(new xe(M,R.message))}else m(new xe(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new xe(le.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{we(yn,`RPC '${e}' ${c} completed.`)}}));const x=JSON.stringify(a);we(yn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",x,i,15)}))}T_(e,n,i){const a=cy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=l.join("");we(yn,`Creating RPC '${e}' stream ${a}: ${p}`,h);const x=c.createWebChannel(p,h);this.I_(x);let b=!1,w=!1;const E=new T9({Ho:R=>{w?we(yn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(b||(we(yn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),b=!0),we(yn,`RPC '${e}' stream ${a} sending:`,R),x.send(R))},Jo:()=>x.close()});return Wc(x,tu.EventType.OPEN,(()=>{w||(we(yn,`RPC '${e}' stream ${a} transport opened.`),E.i_())})),Wc(x,tu.EventType.CLOSE,(()=>{w||(w=!0,we(yn,`RPC '${e}' stream ${a} transport closed`),E.o_(),this.E_(x))})),Wc(x,tu.EventType.ERROR,(R=>{w||(w=!0,so(yn,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),E.o_(new xe(le.UNAVAILABLE,"The operation could not be completed")))})),Wc(x,tu.EventType.MESSAGE,(R=>{if(!w){const M=R.data[0];nt(!!M,16349);const P=M,V=P?.error||P[0]?.error;if(V){we(yn,`RPC '${e}' stream ${a} received error:`,V);const B=V.status;let q=(function(he){const D=Bt[he];if(D!==void 0)return BN(D)})(B),K=V.message;B==="NOT_FOUND"&&K.includes("database")&&K.includes("does not exist")&&K.includes(this.databaseId.database)&&so(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),q===void 0&&(q=le.INTERNAL,K="Unknown error status: "+B+" with message "+V.message),w=!0,E.o_(new xe(q,K)),x.close()}else we(yn,`RPC '${e}' stream ${a} received:`,M),E.__(M)}})),pl.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return aN()}}function E9(t){return new pl(t)}function ag(){return typeof document<"u"?document:null}function pm(t){return new AL(t,!0)}pl.c_=!1;class nA{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const vE="PersistentStream";class sA{constructor(e,n,i,a,l,c,h,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new xe(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(vE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(vE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class S9 extends sA{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jL(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Pe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?yi(c.readTime):Pe.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=oy(this.serializer),n.addTarget=(function(l,c){let h;const m=c.target;if(h=ny(m)?{documents:ML(l,m)}:{query:PL(l,m).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=qN(l,c.resumeToken);const p=iy(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Pe.min())>0){h.readTime=Pf(l,c.snapshotVersion.toTimestamp());const p=iy(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=OL(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=oy(this.serializer),n.removeTarget=e,this.K_(n)}}class k9 extends sA{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=DL(e.writeResults,e.commitTime),i=yi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=oy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>IL(this.serializer,i)))};this.K_(n)}}class N9{}class A9 extends N9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,ry(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(le.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,ry(n,i),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(le.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function C9(t,e,n,i){return new A9(t,e,n,i)}class R9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const io="RemoteStore";class j9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{uo(this)&&(we(io,"Restarting streams for network reachability change."),await(async function(m){const p=Oe(m);p.Ea.add(4),await Yu(p),p.Va.set("Unknown"),p.Ea.delete(4),await gm(p)})(this))}))})),this.Va=new R9(i,a)}}async function gm(t){if(uo(t))for(const e of t.Ra)await e(!0)}async function Yu(t){for(const e of t.Ra)await e(!1)}function iA(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zx(n)?Ux(n):zl(n).O_()&&Lx(n,e))}function Ox(t,e){const n=Oe(t),i=zl(n);n.Ia.delete(e),i.O_()&&rA(n,e),n.Ia.size===0&&(i.O_()?i.L_():uo(n)&&n.Va.set("Unknown"))}function Lx(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(t).Z_(e)}function rA(t,e){t.da.$e(e),zl(t).X_(e)}function Ux(t){t.da=new EL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zl(t).start(),t.Va.ua()}function zx(t){return uo(t)&&!zl(t).x_()&&t.Ia.size>0}function uo(t){return Oe(t).Ea.size===0}function aA(t){t.da=void 0}async function I9(t){t.Va.set("Online")}async function D9(t){t.Ia.forEach(((e,n)=>{Lx(t,e)}))}async function M9(t,e){aA(t),zx(t)?(t.Va.ha(e),Ux(t)):t.Va.set("Unknown")}async function P9(t,e,n){if(t.Va.set("Online"),e instanceof HN&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(i){we(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Of(t,i)}else if(e instanceof of?t.da.Xe(e):e instanceof FN?t.da.st(e):t.da.tt(e),!n.isEqual(Pe.min()))try{const i=await tA(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const x=l.Ia.get(p);x&&l.Ia.set(p,x.withResumeToken(m.resumeToken,c))}})),h.targetMismatches.forEach(((m,p)=>{const x=l.Ia.get(m);if(!x)return;l.Ia.set(m,x.withResumeToken(mn.EMPTY_BYTE_STRING,x.snapshotVersion)),rA(l,m);const b=new Kr(x.target,m,p,x.sequenceNumber);Lx(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){we(io,"Failed to raise snapshot:",i),await Of(t,i)}}async function Of(t,e,n){if(!Ll(e))throw e;t.Ea.add(1),await Yu(t),t.Va.set("Offline"),n||(n=()=>tA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(io,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gm(t)}))}function oA(t,e){return e().catch((n=>Of(t,n,e)))}async function ym(t){const e=Oe(t),n=oa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_x;for(;V9(e);)try{const a=await g9(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,O9(e,a)}catch(a){await Of(e,a)}lA(e)&&cA(e)}function V9(t){return uo(t)&&t.Ta.length<10}function O9(t,e){t.Ta.push(e);const n=oa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function lA(t){return uo(t)&&!oa(t).x_()&&t.Ta.length>0}function cA(t){oa(t).start()}async function L9(t){oa(t).ra()}async function U9(t){const e=oa(t);for(const n of t.Ta)e.ea(n.mutations)}async function z9(t,e,n){const i=t.Ta.shift(),a=Rx.from(i,e,n);await oA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await ym(t)}async function B9(t,e){e&&oa(t).Y_&&await(async function(i,a){if((function(c){return wL(c)&&c!==le.ABORTED})(a.code)){const l=i.Ta.shift();oa(i).B_(),await oA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await ym(i)}})(t,e),lA(t)&&cA(t)}async function wE(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),we(io,"RemoteStore received new credentials");const i=uo(n);n.Ea.add(3),await Yu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gm(n)}async function F9(t,e){const n=Oe(t);e?(n.Ea.delete(2),await gm(n)):e||(n.Ea.add(2),await Yu(n),n.Va.set("Unknown"))}function zl(t){return t.ma||(t.ma=(function(n,i,a){const l=Oe(n);return l.sa(),new S9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:I9.bind(null,t),Yo:D9.bind(null,t),t_:M9.bind(null,t),J_:P9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),zx(t)?Ux(t):t.Va.set("Unknown")):(await t.ma.stop(),aA(t))}))),t.ma}function oa(t){return t.fa||(t.fa=(function(n,i,a){const l=Oe(n);return l.sa(),new k9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:L9.bind(null,t),t_:B9.bind(null,t),ta:U9.bind(null,t),na:z9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await ym(t)):(await t.fa.stop(),t.Ta.length>0&&(we(io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Bx{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,h=new Bx(e,n,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fx(t,e){if(tr("AsyncQueue",`${e}: ${t}`),Ll(t))return new xe(le.UNAVAILABLE,`${e}: ${t}`);throw t}class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ce.comparator(n.key,i.key):(n,i)=>Ce.comparator(n.key,i.key),this.keyedMap=nu(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new gl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class _E{constructor(){this.ga=new wt(Ce.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Nl{constructor(e,n,i,a,l,c,h,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Nl(e,n,gl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class H9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class q9{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Oe(n),l=a.queries;a.queries=TE(),l.forEach(((c,h)=>{for(const m of h.ba)m.onError(i)}))})(this,new xe(le.ABORTED,"Firestore shutting down"))}}function TE(){return new co((t=>AN(t)),um)}async function uA(t,e){const n=Oe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new H9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=Fx(c,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Hx(n)}async function dA(t,e){const n=Oe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function G9(t,e){const n=Oe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&Hx(n)}function $9(t,e,n){const i=Oe(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Hx(t){t.Ca.forEach((e=>{e.next()}))}var uy,EE;(EE=uy||(uy={})).Ma="default",EE.Cache="cache";class hA{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Nl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uy.Cache}}class fA{constructor(e){this.key=e}}class mA{constructor(e){this.key=e}}class K9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=CN(e),this.tu=new gl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new _E,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,b)=>{const w=a.get(x),E=dm(this.query,b)?b:null,R=!!w&&this.mutatedKeys.has(w.key),M=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let P=!1;w&&E?w.data.isEqual(E.data)?R!==M&&(i.track({type:3,doc:E}),P=!0):this.su(w,E)||(i.track({type:2,doc:E}),P=!0,(m&&this.eu(E,m)>0||p&&this.eu(E,p)<0)&&(h=!0)):!w&&E?(i.track({type:0,doc:E}),P=!0):w&&!E&&(i.track({type:1,doc:w}),P=!0,(m||p)&&(h=!0)),P&&(E?(c=c.add(E),l=M?l.add(x):l.delete(x)):(c=c.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),l=l.delete(x.key),i.track({type:1,doc:x})}return{tu:c,iu:i,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((x,b)=>(function(E,R){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Vt:P})}};return M(E)-M(R)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new Nl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _E,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new mA(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new fA(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const qx="SyncEngine";class Y9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class X9{constructor(e){this.key=e,this.hu=!1}}class Q9{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new co((h=>AN(h)),um),this.Iu=new Map,this.Eu=new Set,this.Ru=new wt(Ce.comparator),this.Au=new Map,this.Vu=new Dx,this.du={},this.mu=new Map,this.fu=kl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W9(t,e,n=!0){const i=vA(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await pA(i,e,n,!0),a}async function J9(t,e){const n=vA(t);await pA(n,e,!0,!1)}async function pA(t,e,n,i){const a=await y9(t.localStore,gi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await Z9(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&iA(t.remoteStore,a),h}async function Z9(t,e,n,i,a){t.pu=(b,w,E)=>(async function(M,P,V,B){let q=P.view.ru(V);q.Ss&&(q=await gE(M.localStore,P.query,!1).then((({documents:D})=>P.view.ru(D,q))));const K=B&&B.targetChanges.get(P.targetId),ie=B&&B.targetMismatches.get(P.targetId)!=null,he=P.view.applyChanges(q,M.isPrimaryClient,K,ie);return kE(M,P.targetId,he.au),he.snapshot})(t,b,w,E);const l=await gE(t.localStore,e,!0),c=new K9(e,l.ks),h=c.ru(l.documents),m=Ku.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(h,t.isPrimaryClient,m);kE(t,n,p.au);const x=new Y9(e,n,c);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function e8(t,e,n){const i=Oe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!um(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ly(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Ox(i.remoteStore,a.targetId),dy(i,a.targetId)})).catch(Ol)):(dy(i,a.targetId),await ly(i.localStore,a.targetId,!0))}async function t8(t,e){const n=Oe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ox(n.remoteStore,i.targetId))}async function n8(t,e,n){const i=c8(t);try{const a=await(function(c,h){const m=Oe(c),p=pt.now(),x=h.reduce(((E,R)=>E.add(R.key)),Ye());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let R=nr(),M=Ye();return m.xs.getEntries(E,x).next((P=>{R=P,R.forEach(((V,B)=>{B.isValidDocument()||(M=M.add(V))}))})).next((()=>m.localDocuments.getOverlayedDocuments(E,R))).next((P=>{b=P;const V=[];for(const B of h){const q=gL(B,b.get(B.key).overlayedDocument);q!=null&&V.push(new da(B.key,q,vN(q.value.mapValue),Os.exists(!0)))}return m.mutationQueue.addMutationBatch(E,p,V,h)})).next((P=>{w=P;const V=P.applyToLocalDocumentSet(b,M);return m.documentOverlayCache.saveOverlays(E,P.batchId,V)}))})).then((()=>({batchId:w.batchId,changes:jN(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,m){let p=c.du[c.currentUser.toKey()];p||(p=new wt(Ke)),p=p.insert(h,m),c.du[c.currentUser.toKey()]=p})(i,a.batchId,n),await Xu(i,a.changes),await ym(i.remoteStore)}catch(a){const l=Fx(a,"Failed to persist write");n.reject(l)}}async function gA(t,e){const n=Oe(t);try{const i=await m9(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?nt(c.hu,14607):a.removedDocuments.size>0&&(nt(c.hu,42227),c.hu=!1))})),await Xu(n,i,e)}catch(i){await Ol(i)}}function SE(t,e,n){const i=Oe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const m=Oe(c);m.onlineState=h;let p=!1;m.queries.forEach(((x,b)=>{for(const w of b.ba)w.va(h)&&(p=!0)})),p&&Hx(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function s8(t,e,n){const i=Oe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new wt(Ce.comparator);c=c.insert(l,bn.newNoDocument(l,Pe.min()));const h=Ye().add(l),m=new mm(Pe.min(),new Map,new wt(Ke),c,h);await gA(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),Gx(i)}else await ly(i.localStore,e,!1).then((()=>dy(i,e,n))).catch(Ol)}async function i8(t,e){const n=Oe(t),i=e.batch.batchId;try{const a=await f9(n.localStore,e);xA(n,i,null),yA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Xu(n,a)}catch(a){await Ol(a)}}async function r8(t,e,n){const i=Oe(t);try{const a=await(function(c,h){const m=Oe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let x;return m.mutationQueue.lookupMutationBatch(p,h).next((b=>(nt(b!==null,37113),x=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,x,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x))).next((()=>m.localDocuments.getDocuments(p,x)))}))})(i.localStore,e);xA(i,e,n),yA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Xu(i,a)}catch(a){await Ol(a)}}function yA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function xA(t,e,n){const i=Oe(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function dy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||bA(t,i)}))}function bA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Ox(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Gx(t))}function kE(t,e,n){for(const i of n)i instanceof fA?(t.Vu.addReference(i.key,e),a8(t,i)):i instanceof mA?(we(qx,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||bA(t,i.key)):De(19791,{wu:i})}function a8(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(we(qx,"New document in limbo: "+n),t.Eu.add(i),Gx(t))}function Gx(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(dt.fromString(e)),i=t.fu.next();t.Au.set(i,new X9(n)),t.Ru=t.Ru.insert(n,i),iA(t.remoteStore,new Kr(gi(Nx(n.path)),i,"TargetPurposeLimboResolution",om.ce))}}async function Xu(t,e,n){const i=Oe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{c.push(i.pu(m,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const x=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(p){a.push(p);const x=Px.Es(m.targetId,p);l.push(x)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(m,p){const x=Oe(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ue.forEach(p,(w=>ue.forEach(w.Ts,(E=>x.persistence.referenceDelegate.addReference(b,w.targetId,E))).next((()=>ue.forEach(w.Is,(E=>x.persistence.referenceDelegate.removeReference(b,w.targetId,E)))))))))}catch(b){if(!Ll(b))throw b;we(Vx,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const E=x.vs.get(w),R=E.snapshotVersion,M=E.withLastLimboFreeSnapshotVersion(R);x.vs=x.vs.insert(w,M)}}})(i.localStore,l))}async function o8(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){we(qx,"User change. New user:",e.toKey());const i=await eA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new xe(le.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xu(n,i.Ns)}}function l8(t,e){const n=Oe(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function vA(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s8.bind(null,e),e.Pu.J_=G9.bind(null,e.eventManager),e.Pu.yu=$9.bind(null,e.eventManager),e}function c8(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r8.bind(null,e),e}class Lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return h9(this.persistence,new c9,e.initialUser,this.serializer)}Cu(e){return new ZN(Mx.Vi,this.serializer)}Du(e){return new b9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lf.provider={build:()=>new Lf};class u8 extends Lf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof Vf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new YL(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new ZN((i=>Vf.Vi(i,n)),this.serializer)}}class hy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>SE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=o8.bind(null,this.syncEngine),await F9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new q9})()}createDatastore(e){const n=pm(e.databaseInfo.databaseId),i=E9(e.databaseInfo);return C9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,h){return new j9(i,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>SE(this.syncEngine,n,0)),(function(){return bE.v()?new bE:new v9})())}createSyncEngine(e,n){return(function(a,l,c,h,m,p,x){const b=new Q9(a,l,c,h,m,p);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Oe(n);we(io,"RemoteStore shutting down."),i.Ea.add(5),await Yu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hy.provider={build:()=>new hy};class wA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const la="FirestoreClient";class d8{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=xn.UNAUTHENTICATED,this.clientId=wx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{we(la,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(we(la,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Fx(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),we(la,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await eA(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function NE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await h8(t);we(la,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>wE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>wE(e.remoteStore,a))),t._onlineComponents=e}async function h8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(la,"Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new Lf)}}else we(la,"Using default OfflineComponentProvider"),await og(t,new u8(void 0));return t._offlineComponents}async function _A(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(la,"Using user provided OnlineComponentProvider"),await NE(t,t._uninitializedComponentsProvider._online)):(we(la,"Using default OnlineComponentProvider"),await NE(t,new hy))),t._onlineComponents}function f8(t){return _A(t).then((e=>e.syncEngine))}async function fy(t){const e=await _A(t),n=e.eventManager;return n.onListen=W9.bind(null,e.syncEngine),n.onUnlisten=e8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t8.bind(null,e.syncEngine),n}function m8(t,e,n,i){const a=new wA(i),l=new hA(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>uA(await fy(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>dA(await fy(t),l)))}}function p8(t,e,n={}){const i=new Wr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,m,p){const x=new wA({next:w=>{x.Nu(),c.enqueueAndForget((()=>dA(l,b))),w.fromCache&&m.source==="server"?p.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new hA(h,x,{includeMetadataChanges:!0,Ka:!0});return uA(l,b)})(await fy(t),t.asyncQueue,e,n,i))),i.promise}function g8(t,e){const n=new Wr;return t.asyncQueue.enqueueAndForget((async()=>n8(await f8(t),e,n))),n.promise}function TA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const y8="ComponentProvider",AE=new Map;function x8(t,e,n,i,a){return new LO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,TA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const EA="firestore.googleapis.com",CE=!0;class RE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EA,this.ssl=CE}else this.host=e.host,this.ssl=e.ssl??CE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$L)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new gO;switch(i.type){case"firstParty":return new vO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=AE.get(n);i&&(we(y8,"Removing Datastore"),AE.delete(n),i.terminate())})(this),Promise.resolve()}}function b8(t,e,n,i={}){t=Vs(t,xm);const a=oo(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(rx(`https://${h}`),ax("Firestore",!0)),l.host!==EA&&l.host!==h&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:i};if(!Ji(m,c)&&(t._setSettings(m),i.mockUserToken)){let p,x;if(typeof i.mockUserToken=="string")p=i.mockUserToken,x=xn.MOCK_USER;else{p=bk(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new xn(b)}t._authCredentials=new yO(new lN(p,x))}}class ir{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ir(this.firestore,e,this._query)}}class jt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Gu(n,jt._jsonSchema))return new jt(e,i||null,new Ce(dt.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:qt("string",jt._jsonSchemaVersion),referencePath:qt("string")};class Jr extends ir{constructor(e,n,i){super(e,n,Nx(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Ce(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function js(t,e,...n){if(t=Wt(t),cN("collection","path",e),t instanceof xm){const i=dt.fromString(e,...n);return HT(i),new Jr(t,null,i)}{if(!(t instanceof jt||t instanceof Jr))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return HT(i),new Jr(t.firestore,null,i)}}function Zr(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=wx.newId()),cN("doc","path",e),t instanceof xm){const i=dt.fromString(e,...n);return FT(i),new jt(t,null,new Ce(i))}{if(!(t instanceof jt||t instanceof Jr))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return FT(i),new jt(t.firestore,t instanceof Jr?t.converter:null,new Ce(i))}}const jE="AsyncQueue";class IE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nA(this,"async_queue_retry"),this._c=()=>{const i=ag();i&&we(jE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ll(e))throw e;we(jE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",DE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Bx.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&De(47125,{Pc:DE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function DE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ro extends xm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new IE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IE(e),this._firestoreClient=void 0,await e}}}function v8(t,e){const n=typeof t=="object"?t:cx(),i=typeof t=="string"?t:Rf,a=nm(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=gk("firestore");l&&b8(a,...l)}return a}function $x(t){if(t._terminated)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w8(t),t._firestoreClient}function w8(t){const e=t._freezeSettings(),n=x8(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new d8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ds(mn.fromBase64String(e))}catch(n){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ds(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ds._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gu(e,ds._jsonSchema))return ds.fromBase64String(e.bytes)}}ds._jsonSchemaVersion="firestore/bytes/1.0",ds._jsonSchema={type:qt("string",ds._jsonSchemaVersion),bytes:qt("string")};class Kx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bl{constructor(e){this._methodName=e}}class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(Gu(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:qt("string",xi._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class Ls{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gu(e,Ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ls(e.vectorValues);throw new xe(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ls._jsonSchemaVersion="firestore/vectorValue/1.0",Ls._jsonSchema={type:qt("string",Ls._jsonSchemaVersion),vectorValues:qt("object")};const _8=/^__.*__$/;class T8{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,n,this.fieldTransforms):new $u(e,this.data,n,this.fieldTransforms)}}class SA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new da(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{dataSource:t})}}class bm{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new bm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Uf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(kA(this.dataSource)&&_8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class E8{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||pm(e)}createContext(e,n,i,a=!1){return new bm({dataSource:e,methodName:n,targetDoc:i,path:fn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vm(t){const e=t._freezeSettings(),n=pm(t._databaseId);return new E8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NA(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Wx("Data must be an object, but it was:",c,i);const h=CA(i,c);let m,p;if(l.merge)m=new Xn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const x=[];for(const b of l.mergeFields){const w=ao(e,b,n);if(!c.contains(w))throw new xe(le.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);IA(x,w)||x.push(w)}m=new Xn(x),p=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=c.fieldTransforms;return new T8(new On(h),m,p)}class wm extends Bl{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}function AA(t,e,n){return new bm({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Yx extends Bl{_toFieldTransform(e){return new Cx(e.path,new ju)}isEqual(e){return e instanceof Yx}}class Xx extends Bl{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=AA(this,e,!0),i=this.Ac.map((l=>ho(l,n))),a=new El(i);return new Cx(e.path,a)}isEqual(e){return e instanceof Xx&&Ji(this.Ac,e.Ac)}}class Qx extends Bl{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=AA(this,e,!0),i=this.Ac.map((l=>ho(l,n))),a=new Sl(i);return new Cx(e.path,a)}isEqual(e){return e instanceof Qx&&Ji(this.Ac,e.Ac)}}function S8(t,e,n,i){const a=t.createContext(1,e,n);Wx("Data must be an object, but it was:",a,i);const l=[],c=On.empty();ua(i,((m,p)=>{const x=jA(e,m,n);p=Wt(p);const b=a.childContextForFieldPath(x);if(p instanceof wm)l.push(x);else{const w=ho(p,b);w!=null&&(l.push(x),c.set(x,w))}}));const h=new Xn(l);return new SA(c,h,a.fieldTransforms)}function k8(t,e,n,i,a,l){const c=t.createContext(1,e,n),h=[ao(e,i,n)],m=[a];if(l.length%2!=0)throw new xe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(ao(e,l[w])),m.push(l[w+1]);const p=[],x=On.empty();for(let w=h.length-1;w>=0;--w)if(!IA(p,h[w])){const E=h[w];let R=m[w];R=Wt(R);const M=c.childContextForFieldPath(E);if(R instanceof wm)p.push(E);else{const P=ho(R,M);P!=null&&(p.push(E),x.set(E,P))}}const b=new Xn(p);return new SA(x,b,c.fieldTransforms)}function N8(t,e,n,i=!1){return ho(n,t.createContext(i?4:3,e))}function ho(t,e){if(RA(t=Wt(t)))return Wx("Unsupported field value:",e,t),CA(t,e);if(t instanceof Bl)return(function(i,a){if(!kA(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const h of i){let m=ho(h,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uL(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=pt.fromDate(i);return{timestampValue:Pf(a.serializer,l)}}if(i instanceof pt){const l=new pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pf(a.serializer,l)}}if(i instanceof xi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ds)return{bytesValue:qN(a.serializer,i._byteString)};if(i instanceof jt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ix(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ls)return(function(c,h){const m=c instanceof Ls?c.toArray():c;return{mapValue:{fields:{[xN]:{stringValue:bN},[jf]:{arrayValue:{values:m.map((x=>{if(typeof x!="number")throw h.createError("VectorValues must only contain numeric values.");return Ax(h.serializer,x)}))}}}}}})(i,a);if(WN(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${am(i)}`)})(t,e)}function CA(t,e){const n={};return hN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,((i,a)=>{const l=ho(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function RA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof xi||t instanceof ds||t instanceof jt||t instanceof Bl||t instanceof Ls||WN(t))}function Wx(t,e,n){if(!RA(n)||!uN(n)){const i=am(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function ao(t,e,n){if((e=Wt(e))instanceof Kx)return e._internalPath;if(typeof e=="string")return jA(t,e);throw Uf("Field path arguments must be of type string or ",t,!1,void 0,n)}const A8=new RegExp("[~\\*/\\[\\]]");function jA(t,e,n){if(e.search(A8)>=0)throw Uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kx(...e.split("."))._internalPath}catch{throw Uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new xe(le.INVALID_ARGUMENT,h+t+m)}function IA(t,e){return t.some((n=>n.isEqual(e)))}class C8{convertValue(e,n="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ua(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[jf].arrayValue?.values?.map((i=>Rt(i.doubleValue)));return new Ls(n)}convertGeoPoint(e){return new xi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=cm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Nu(e));default:return null}}convertTimestamp(e){const n=ia(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=dt.fromString(e);nt(QN(i),9688,{name:e});const a=new Au(i.get(1),i.get(3)),l=new Ce(i.popFirst(5));return a.isEqual(n)||tr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Jx extends C8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function ME(){return new Yx("serverTimestamp")}function lg(...t){return new Xx("arrayUnion",t)}function PE(...t){return new Qx("arrayRemove",t)}const VE="@firebase/firestore",OE="4.11.0";function LE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class DA{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ao("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class R8 extends DA{data(){return super.data()}}function MA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zx{}class eb extends Zx{}function Wa(t,e,...n){let i=[];e instanceof Zx&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((m=>m instanceof tb)).length,h=l.filter((m=>m instanceof _m)).length;if(c>1||c>0&&h>0)throw new xe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class _m extends eb{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new _m(e,n,i)}_apply(e){const n=this._parse(e);return PA(e._query,n),new ir(e.firestore,e.converter,sy(e._query,n))}_parse(e){const n=vm(e.firestore);return(function(l,c,h,m,p,x,b){let w;if(p.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){zE(b,x);const R=[];for(const M of b)R.push(UE(m,l,M));w={arrayValue:{values:R}}}else w=UE(m,l,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||zE(b,x),w=N8(h,c,b,x==="in"||x==="not-in");return Ht.create(p,x,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cg(t,e,n){const i=e,a=ao("where",t);return _m._create(a,i,n)}class tb extends Zx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tb(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:zs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const m of h)PA(c,m),c=sy(c,m)})(e._query,n),new ir(e.firestore,e.converter,sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nb extends eb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nb(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(l,c)})(e._query,this._field,this._direction);return new ir(e.firestore,e.converter,nL(e._query,n))}}function Tm(t,e="asc"){const n=e,i=ao("orderBy",t);return nb._create(i,n)}class sb extends eb{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new sb(e,n,i)}_apply(e){return new ir(e.firestore,e.converter,Df(e._query,this._limit,this._limitType))}}function Qu(t){return NO("limit",t),sb._create("limit",t,"F")}function UE(t,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NN(e)&&n.indexOf("/")!==-1)throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(dt.fromString(n));if(!Ce.isDocumentKey(i))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return WT(t,new Ce(i))}if(n instanceof jt)return WT(t,n._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${am(n)}.`)}function zE(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PA(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function VA(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ja extends DA{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ao("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ja._jsonSchema={type:qt("string",Ja._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class lf extends Ja{data(e={}){return super.data(e)}}class Za{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new iu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new lf(this._firestore,this._userDataWriter,i.key,i,new iu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const m=new lf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new iu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new lf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new iu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,x=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),x=c.indexOf(h.doc.key)),{type:j8(h.type),doc:m,oldIndex:p,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:qt("string",Za._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};function ib(t){t=Vs(t,ir);const e=Vs(t.firestore,ro),n=$x(e),i=new Jx(e);return MA(t._query),p8(n,t._query).then((a=>new Za(e,i,t,a)))}function I8(t,e,n){t=Vs(t,jt);const i=Vs(t.firestore,ro),a=VA(t.converter,e),l=vm(i);return rb(i,[NA(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Os.none())])}function gu(t,e,n,...i){t=Vs(t,jt);const a=Vs(t.firestore,ro),l=vm(a);let c;return c=typeof(e=Wt(e))=="string"||e instanceof Kx?k8(l,"updateDoc",t._key,e,n,i):S8(l,"updateDoc",t._key,e),rb(a,[c.toMutation(t._key,Os.exists(!0))])}function cf(t,e){const n=Vs(t.firestore,ro),i=Zr(t),a=VA(t.converter,e),l=vm(t.firestore);return rb(n,[NA(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Os.exists(!1))]).then((()=>i))}function Iu(t,...e){t=Wt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||LE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(LE(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,c,h;if(t instanceof jt)c=Vs(t.firestore,ro),h=Nx(t._key.path),l={next:p=>{e[i]&&e[i](D8(c,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Vs(t,ir);c=Vs(p.firestore,ro),h=p._query;const x=new Jx(c);l={next:b=>{e[i]&&e[i](new Za(c,x,p,b))},error:e[i+1],complete:e[i+2]},MA(t._query)}const m=$x(c);return m8(m,h,a,l)}function rb(t,e){const n=$x(t);return g8(n,e)}function D8(t,e,n){const i=n.docs.get(e._key),a=new Jx(t);return new Ja(t,a,e._key,i,new iu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){pO(lo),eo(new na("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new ro(new xO(i.getProvider("auth-internal")),new wO(c,i.getProvider("app-check-internal")),UO(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),mi(VE,OE,e),mi(VE,OE,"esm2020")})();const OA="firebasestorage.googleapis.com",M8="storageBucket",P8=120*1e3,V8=600*1e3;class Ei extends Ti{constructor(e,n,i=0){super(ug(e),`Firebase Storage: ${n} (${ug(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ei.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ug(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _i;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_i||(_i={}));function ug(t){return"storage/"+t}function O8(){const t="An unknown error occurred, please check the error payload for server response.";return new Ei(_i.UNKNOWN,t)}function L8(){return new Ei(_i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function U8(){return new Ei(_i.CANCELED,"User canceled the upload/download.")}function z8(t){return new Ei(_i.INVALID_URL,"Invalid URL '"+t+"'.")}function B8(t){return new Ei(_i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function BE(t){return new Ei(_i.INVALID_ARGUMENT,t)}function LA(){return new Ei(_i.APP_DELETED,"The Firebase app was deleted.")}function F8(t){return new Ei(_i.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ds{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ds.makeFromUrl(e,n)}catch{return new Ds(e,"")}if(i.path==="")return i;throw B8(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(K){K.path_=decodeURIComponent(K.path)}const x="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",E=new RegExp(`^https?://${b}/${x}/b/${a}/o${w}`,"i"),R={bucket:1,path:3},M=n===OA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",V=new RegExp(`^https?://${M}/${a}/${P}`,"i"),q=[{regex:h,indices:m,postModify:l},{regex:E,indices:R,postModify:p},{regex:V,indices:{bucket:1,path:2},postModify:p}];for(let K=0;K<q.length;K++){const ie=q[K],he=ie.regex.exec(e);if(he){const D=he[ie.indices.bucket];let S=he[ie.indices.path];S||(S=""),i=new Ds(D,S),ie.postModify(i);break}}if(i==null)throw z8(e);return i}}class H8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function q8(t,e,n){let i=1,a=null,l=null,c=!1,h=0;function m(){return h===2}let p=!1;function x(...P){p||(p=!0,e.apply(null,P))}function b(P){a=setTimeout(()=>{a=null,t(E,m())},P)}function w(){l&&clearTimeout(l)}function E(P,...V){if(p){w();return}if(P){w(),x.call(null,P,...V);return}if(m()||c){w(),x.call(null,P,...V);return}i<64&&(i*=2);let q;h===1?(h=2,q=0):q=(i+Math.random())*1e3,b(q)}let R=!1;function M(P){R||(R=!0,w(),!p&&(a!==null?(P||(h=2),clearTimeout(a),b(0)):P||(h=1)))}return b(0),l=setTimeout(()=>{c=!0,M(!0)},n),M}function G8(t){t(!1)}function $8(t){return t!==void 0}function FE(t,e,n,i){if(i<e)throw BE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw BE(`Invalid value for '${t}'. Expected ${n} or less.`)}function K8(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var zf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zf||(zf={}));function Y8(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class X8{constructor(e,n,i,a,l,c,h,m,p,x,b,w=!0,E=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=x,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,M)=>{this.resolve_=R,this.reject_=M,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Uh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const m=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===zf.NO_ERROR,m=l.getStatus();if(!h||Y8(m,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===zf.ABORT;i(!1,new Uh(!1,null,x));return}const p=this.successCodes_.indexOf(m)!==-1;i(!0,new Uh(p,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());$8(m)?l(m):l()}catch(m){c(m)}else if(h!==null){const m=O8();m.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,m)):c(m)}else if(a.canceled){const m=this.appDelete_?LA():U8();c(m)}else{const m=L8();c(m)}};this.canceled_?n(!1,new Uh(!1,null,!0)):this.backoffId_=q8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&G8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Q8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function W8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Z8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function e7(t,e,n,i,a,l,c=!0,h=!1){const m=K8(t.urlParams),p=t.url+m,x=Object.assign({},t.headers);return J8(x,e),Q8(x,n),W8(x,l),Z8(x,i),new X8(p,t.method,x,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function t7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function n7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Bf{constructor(e,n){this._service=e,n instanceof Ds?this._location=n:this._location=Ds.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Bf(e,n)}get root(){const e=new Ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return n7(this._location.path)}get storage(){return this._service}get parent(){const e=t7(this._location.path);if(e===null)return null;const n=new Ds(this._location.bucket,e);return new Bf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw F8(e)}}function HE(t,e){const n=e?.[M8];return n==null?null:Ds.makeFromBucketSpec(n,t)}function s7(t,e,n,i={}){t.host=`${e}:${n}`;const a=oo(e);a&&(rx(`https://${t.host}/b`),ax("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:bk(l,t.app.options.projectId))}class i7{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=OA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=P8,this._maxUploadRetryTime=V8,this._requests=new Set,a!=null?this._bucket=Ds.makeFromBucketSpec(a,this._host):this._bucket=HE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ds.makeFromBucketSpec(this._url,e):this._bucket=HE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(us(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bf(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new H8(LA());{const c=e7(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const qE="@firebase/storage",GE="0.14.0";const UA="storage";function r7(t=cx(),e){t=Wt(t);const i=nm(t,UA).getImmediate({identifier:e}),a=gk("storage");return a&&a7(i,...a),i}function a7(t,e,n,i={}){s7(t,e,n,i)}function o7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new i7(n,i,a,e,lo)}function l7(){eo(new na(UA,o7,"PUBLIC").setMultipleInstances(!0)),mi(qE,GE,""),mi(qE,GE,"esm2020")}l7();const c7={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},ab=_k(c7),dg=dO(ab),u7=new Gi,sn=v8(ab);r7(ab);const zA=A.createContext(void 0);function d7({children:t}){const[e,n]=A.useState(null),[i,a]=A.useState(!0);A.useEffect(()=>{const h=ZP(dg,m=>{n(m),a(!1)});return()=>h()},[]);const l=async()=>{try{await vV(dg,u7)}catch(h){console.error("Error signing in with Google",h)}},c=async()=>{try{await eV(dg)}catch(h){console.error("Error signing out",h)}};return d.jsx(zA.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:c},children:!i&&t})}function rr(){const t=A.useContext(zA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const BA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const h7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const f7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const $E=t=>{const e=f7(t);return e.charAt(0).toUpperCase()+e.slice(1)};var m7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const g7=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},m)=>A.createElement("svg",{ref:m,...m7,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:BA("lucide",a),...!l&&!p7(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,x])=>A.createElement(p,x)),...Array.isArray(l)?l:[l]]));const ye=(t,e)=>{const n=A.forwardRef(({className:i,...a},l)=>A.createElement(g7,{ref:l,iconNode:e,className:BA(`lucide-${h7($E(t))}`,`lucide-${t}`,i),...a}));return n.displayName=$E(t),n};const y7=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],x7=ye("arrow-down-right",y7);const b7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],v7=ye("arrow-left",b7);const w7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],FA=ye("arrow-right",w7);const _7=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],T7=ye("arrow-up-right",_7);const E7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],HA=ye("award",E7);const S7=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],k7=ye("bell-off",S7);const N7=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],A7=ye("bell",N7);const C7=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],qA=ye("book-marked",C7);const R7=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],An=ye("book-open",R7);const j7=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],I7=ye("book",j7);const D7=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],M7=ye("bug",D7);const P7=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],uf=ye("calendar-clock",P7);const V7=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],KE=ye("calendar-range",V7);const O7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ff=ye("calendar",O7);const L7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],U7=ye("chart-column",L7);const z7=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],B7=ye("chart-pie",z7);const F7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],GA=ye("check",F7);const H7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],q7=ye("chevron-down",H7);const G7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Hf=ye("chevron-left",G7);const $7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ob=ye("chevron-right",$7);const K7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lb=ye("circle-alert",K7);const Y7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ar=ye("circle-check",Y7);const X7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Q7=ye("circle-plus",X7);const W7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],my=ye("circle-user",W7);const J7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Z7=ye("circle",J7);const eU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qf=ye("clock",eU);const tU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],nU=ye("copy",tU);const sU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cb=ye("download",sU);const iU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rU=ye("ellipsis-vertical",iU);const aU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],df=ye("flame",aU);const oU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],lU=ye("funnel",oU);const cU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],uU=ye("globe",cU);const dU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],$A=ye("graduation-cap",dU);const hU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],fU=ye("hash",hU);const mU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pU=ye("info",mU);const gU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],YE=ye("layout-dashboard",gU);const yU=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],xU=ye("layout-grid",yU);const bU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vU=ye("loader-circle",bU);const wU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gf=ye("log-out",wU);const _U=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],hg=ye("medal",_U);const TU=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],py=ye("message-circle",TU);const EU=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],SU=ye("monitor",EU);const kU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],$f=ye("moon",kU);const NU=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],AU=ye("pause",NU);const CU=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],KA=ye("pen-tool",CU);const RU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jU=ye("pen",RU);const IU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Wu=ye("pencil",IU);const DU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],MU=ye("play",DU);const PU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xi=ye("plus",PU);const VU=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],OU=ye("quote",VU);const LU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],UU=ye("refresh-cw",LU);const zU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],YA=ye("rotate-ccw",zU);const BU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Kf=ye("save",BU);const FU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],XE=ye("search",FU);const HU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qU=ye("send",HU);const GU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QE=ye("settings",GU);const $U=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ru=ye("shield-check",$U);const KU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],YU=ye("shield",KU);const XU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],WE=ye("square-pen",XU);const QU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],gy=ye("sun",QU);const WU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],XA=ye("target",WU);const JU=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],JE=ye("timer",JU);const ZU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ju=ye("trash-2",ZU);const ez=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yl=ye("trending-up",ez);const tz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nz=ye("triangle-alert",tz);const sz=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Bs=ye("trophy",sz);const iz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rz=ye("upload",iz);const az=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],oz=ye("user-minus",az);const lz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cz=ye("user-plus",lz);const uz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xl=ye("users",uz);const dz=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],QA=ye("volume-2",dz);const hz=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],WA=ye("volume-x",hz);const fz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ms=ye("x",fz);const mz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Du=ye("zap",mz),JA=A.createContext(void 0);function Em(){const t=A.useContext(JA);if(!t)throw new Error("useToast must be used within a ToastProvider");return t.toast}function pz({children:t}){const[e,n]=A.useState([]),i=A.useCallback((c,h)=>{const m=Math.random().toString(36).substring(2,9);n(p=>[...p,{id:m,message:c,type:h}]),setTimeout(()=>{n(p=>p.filter(x=>x.id!==m))},3e3)},[]),a=A.useCallback(c=>{n(h=>h.filter(m=>m.id!==c))},[]),l={success:c=>i(c,"success"),error:c=>i(c,"error"),info:c=>i(c,"info"),warning:c=>i(c,"warning")};return d.jsxs(JA.Provider,{value:{toast:l,removeToast:a},children:[t,O5.createPortal(d.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:d.jsx(Ln,{children:e.map(c=>d.jsx(gz,{toast:c,onRemove:a},c.id))})}),document.body)]})}function gz({toast:t,onRemove:e}){const n={success:d.jsx(ar,{className:"w-5 h-5 text-emerald-500"}),error:d.jsx(lb,{className:"w-5 h-5 text-red-500"}),info:d.jsx(pU,{className:"w-5 h-5 text-blue-500"}),warning:d.jsx(nz,{className:"w-5 h-5 text-amber-500"})},i={success:"bg-white dark:bg-slate-800 border-emerald-100 dark:border-emerald-900/30",error:"bg-white dark:bg-slate-800 border-red-100 dark:border-red-900/30",info:"bg-white dark:bg-slate-800 border-blue-100 dark:border-blue-900/30",warning:"bg-white dark:bg-slate-800 border-amber-100 dark:border-amber-900/30"};return d.jsxs(ge.div,{layout:!0,initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.2}},className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border ${i[t.type]} min-w-[300px] max-w-sm backdrop-blur-sm`,children:[d.jsx("div",{className:"shrink-0",children:n[t.type]}),d.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex-1",children:t.message}),d.jsx("button",{onClick:()=>e(t.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 dark:text-slate-500 transition-colors",children:d.jsx(ms,{className:"w-4 h-4"})})]})}const yu=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:""},{name:"    "},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "},{name:"-"},{name:"  "},{name:""},{name:""},{name:"  "},{name:"   "},{name:" "}]},{name:"",topics:[{name:""}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"bg-teal-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"bg-violet-500",chapters:[{name:"",topics:[{name:" "},{name:"  "},{name:"   "},{name:"   "},{name:""},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:" "},{name:" "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:" "},{name:" "},{name:""},{name:"   "}]},{name:"   ",topics:[{name:"- "},{name:" "},{name:" "},{name:" "}]},{name:" ",topics:[{name:" "},{name:" "},{name:"    "},{name:""}]},{name:" ",topics:[{name:""},{name:"   "},{name:"   "},{name:" "}]},{name:" ",topics:[{name:" "},{name:""},{name:""},{name:""}]},{name:"  ",topics:[{name:"  "},{name:"- "},{name:" "},{name:"- "},{name:"-"}]},{name:" ",topics:[{name:"   "},{name:" "},{name:""},{name:"   "},{name:"   "}]},{name:"  ",topics:[{name:" "},{name:"- "},{name:""},{name:" "},{name:""}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:"  ",topics:[{name:"  "},{name:"  "},{name:"   "},{name:" "},{name:" "}]},{name:" ",topics:[{name:"  (  )"},{name:" "},{name:",    "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:" "},{name:""}]},{name:"  ",topics:[{name:"  (s, p, d, f )"},{name:"  ( ,  )"},{name:" "},{name:" "},{name:" (Hybridization)"},{name:"VSEPR    "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"- "},{name:"   Kc, Kp"},{name:"- "},{name:"pH   "},{name:"    "}]},{name:" ",topics:[{name:"   "},{name:"  (, )"},{name:"  "},{name:"   "}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:" ",topics:[{name:"  (, )"},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"    "},{name:"    (BOD, COD)"}]},{name:" ",topics:[{name:"     "},{name:""},{name:" (IUPAC)"},{name:" (, , )"},{name:"   "},{name:" "},{name:"  "},{name:"  "},{name:"    "},{name:""},{name:"  "}]},{name:" ",topics:[{name:"    "},{name:"  (, )"},{name:"- "},{name:"- "},{name:""},{name:"- "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"  "},{name:"    "},{name:"   "},{name:"pH "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:"   "},{name:"   "},{name:"   "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"  ",topics:[{name:" "},{name:" ,   "},{name:"   "},{name:" "},{name:" "}]},{name:"",topics:[{name:" "},{name:"   "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:"   "},{name:"  "},{name:"   "}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "}]},{name:"  ",topics:[{name:"    "},{name:""},{name:""},{name:"   "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:""}]},{name:"   ",topics:[{name:"  -"},{name:"-   "},{name:" "},{name:" "}]},{name:"",topics:[{name:"  "},{name:""},{name:"  "},{name:" "},{name:"  "}]},{name:"",topics:[{name:" "},{name:" "},{name:" "},{name:" "},{name:" "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"   ",topics:[{name:"  "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"   ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"  "},{name:""},{name:"  "}]},{name:"",topics:[{name:" (Parabola)"},{name:" (Ellipse)"},{name:" (Hyperbola)"},{name:" "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:"  "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:"    "}]},{name:"",topics:[{name:" "},{name:""},{name:" "},{name:" "}]},{name:"   ",topics:[{name:", , "},{name:"   "},{name:" "},{name:"   "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:"    "},{name:"  "},{name:"  "},{name:""},{name:""},{name:"DNA  RNA  "},{name:"DNA "},{name:"  "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:""},{name:"   "},{name:" "}]},{name:"  ",topics:[{name:" (Riccia)"},{name:" (Pteris)"}]},{name:"  ",topics:[{name:" (Cycas)"},{name:" (Poaceae) "},{name:" (Malvaceae) "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "},{name:"   /"}]},{name:" ",topics:[{name:"  "},{name:""},{name:" (   )"},{name:"C3  C4 "},{name:" (  )"},{name:"   "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:"  "},{name:" DNA "},{name:" "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:" "},{name:"-  (Major Phyla)"},{name:"   "}]},{name:" ",topics:[{name:" (, , )"},{name:" (, ,  )"},{name:"  (,  , )"}]},{name:"  ",topics:[{name:"   "},{name:"   (, , )"},{name:"   "},{name:""}]},{name:"  ",topics:[{name:"   "},{name:" "},{name:"   "},{name:" "},{name:"  "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:"  "},{name:"   "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:" "},{name:""}]}]},{name:"   ",icon:"Cpu",color:"bg-indigo-500",chapters:[{name:"  -    ",topics:[{name:" "},{name:" "},{name:""},{name:""},{name:" "},{name:""},{name:""},{name:" "},{name:""}]},{name:"  -  ",topics:[{name:"    "},{name:""},{name:"  ( )"},{name:"  (Bluetooth, WiFi, WiMax)"},{name:" "},{name:"   "},{name:" "}]},{name:"  -     ",topics:[{name:"  "},{name:"  "},{name:" (BCD, ASCII)"},{name:" "},{name:"  (  )"},{name:"  "},{name:" (  )"},{name:"  "}]},{name:"  -   ",topics:[{name:" "},{name:"HTML  "},{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"  -   (C)",topics:[{name:"  "},{name:"  "},{name:"   "},{name:"  "},{name:"  (if-else)"},{name:" (for, while)"},{name:""},{name:""}]}]}]}],fg=[{level:1,minXP:0,title:"Novice"},{level:2,minXP:500,title:"Apprentice"},{level:3,minXP:1200,title:"Scholar"},{level:4,minXP:2500,title:"Sage"},{level:5,minXP:5e3,title:"Master"},{level:6,minXP:1e4,title:"Grandmaster"},{level:7,minXP:2e4,title:"Legend"}],yy=t=>{const e=[...fg].reverse().find(i=>t>=i.minXP)||fg[0],n=fg.find(i=>i.level===e.level+1);return{currentLevel:e.level,currentTitle:e.title,nextLevelXP:n?n.minXP:null,progress:n?(t-e.minXP)/(n.minXP-e.minXP)*100:100}},ZE={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0,xp:0,level:1,role:"student",scheduledSessions:[]},mg="study-tracker-data",yz=()=>{const t=yu[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},ZA=A.createContext(void 0);function xz({children:t}){const{user:e}=rr(),n=Em(),[i,a]=A.useState(()=>{try{const re=localStorage.getItem(mg);if(re){const I=JSON.parse(re);if(I.userProfile)return I.userProfile}}catch(re){console.error("Failed to load profile:",re)}return ZE}),[l,c]=A.useState(()=>{try{const re=localStorage.getItem(mg);if(re){const I=JSON.parse(re);if(I.subjects&&I.subjects.length>0)return I.subjects.map(G=>({...G,chapters:(G.chapters||[]).map(Y=>({...Y,topics:Y.topics||[]}))}))}}catch(re){console.error("Failed to load subjects:",re)}return yz()}),h=A.useCallback(async(re,I)=>{if(e)try{await I8(Zr(sn,"users",e.uid),{userProfile:re,subjects:I})}catch(G){console.error("Cloud save failed:",G)}else localStorage.setItem(mg,JSON.stringify({userProfile:re,subjects:I}))},[e]),m=A.useRef(!0);A.useEffect(()=>{if(m.current){m.current=!1;return}const re=l.reduce((Y,ee)=>Y+ee.chapters.length,0);let I=0;l.forEach(Y=>{Y.chapters.forEach(ee=>{ee.topics?.length>0?ee.topics.every(de=>de.isCompleted)&&I++:ee.isCompleted&&I++})});const G=re===0?0:Math.round(I/re*100);i.syllabusCompletionPercentage!==G&&a(Y=>({...Y,syllabusCompletionPercentage:G})),h({...i,syllabusCompletionPercentage:G},l)},[l,i,h]),A.useEffect(()=>{if(!e)return;const I=e.email==="channel.data.transfer@gmail.com",G=Iu(Zr(sn,"users",e.uid),Y=>{if(Y.exists()){const ee=Y.data();let de=ee.userProfile;I?de.role!=="admin"&&(de={...de,role:"admin"}):de.role==="admin"&&(de={...de,role:"student"},gu(Zr(sn,"users",e.uid),{"userProfile.role":"student"}).catch(me=>console.error("Failed to revoke role:",me))),ee.userProfile&&a(de),ee.subjects&&c(ee.subjects)}else I&&a(ee=>({...ee,role:"admin"}))});return()=>G()},[e]),A.useEffect(()=>{const re=yu[0];if(!re)return;let I=!1;const G=[...l];re.subjects.forEach(Y=>{G.some(de=>de.name===Y.name)||(G.push({id:crypto.randomUUID(),name:Y.name,color:Y.color,icon:Y.icon,chapters:Y.chapters.map(de=>({id:crypto.randomUUID(),name:de.name,isCompleted:!1,completedAt:null,topics:de.topics.map(me=>({id:crypto.randomUUID(),name:me.name,isCompleted:!1,completedAt:null}))}))}),I=!0)}),I&&c(G)},[l]);const p=A.useCallback(re=>{a(I=>({...I,...re}))},[]),x=A.useCallback((re,I)=>{a(G=>{const Y=G.xp+re,{currentLevel:ee}=yy(G.xp),{currentLevel:de,currentTitle:me}=yy(Y);return de>ee&&n.success(` Level Up! You are now a ${me}!`),{...G,xp:Y,level:de}})},[n]),b=re=>{c(I=>[...I,{...re,id:crypto.randomUUID(),chapters:[]}])},w=(re,I)=>{c(G=>G.map(Y=>Y.id===re?{...Y,...I}:Y))},E=re=>{c(I=>I.filter(G=>G.id!==re))},R=(re,I)=>{c(G=>G.map(Y=>Y.id===re?{...Y,chapters:[...Y.chapters,{id:crypto.randomUUID(),name:I,isCompleted:!1,topics:[]}]}:Y))},M=(re,I,G)=>{c(Y=>Y.map(ee=>ee.id===re?{...ee,chapters:ee.chapters.map(de=>de.id===I?{...de,name:G}:de)}:ee))},P=(re,I)=>{c(G=>G.map(Y=>Y.id===re?{...Y,chapters:Y.chapters.map(ee=>ee.id===I?{...ee,isCompleted:!ee.isCompleted,completedAt:ee.isCompleted?null:new Date().toISOString()}:ee)}:Y))},V=(re,I)=>{c(G=>G.map(Y=>Y.id===re?{...Y,chapters:Y.chapters.filter(ee=>ee.id!==I)}:Y))},B=(re,I,G)=>{c(Y=>Y.map(ee=>ee.id===re?{...ee,chapters:ee.chapters.map(de=>de.id===I?{...de,topics:[...de.topics,{id:crypto.randomUUID(),name:G,isCompleted:!1,completedAt:null}]}:de)}:ee))},q=(re,I,G,Y)=>{c(ee=>ee.map(de=>de.id===re?{...de,chapters:de.chapters.map(me=>me.id===I?{...me,topics:me.topics.map(be=>be.id===G?{...be,name:Y}:be)}:me)}:de))},K=(re,I,G)=>{let Y=0;c(ee=>ee.map(de=>de.id===re?{...de,chapters:de.chapters.map(me=>{if(me.id===I){const be=me.topics.map(ke=>ke.id===G?(ke.isCompleted||(Y=50),{...ke,isCompleted:!ke.isCompleted,completedAt:ke.isCompleted?null:new Date().toISOString()}):ke),fe=be.length>0&&be.every(ke=>ke.isCompleted);return{...me,topics:be,isCompleted:fe,completedAt:fe?new Date().toISOString():null}}return me})}:de)),Y>0&&(x(Y,"Topic Completed"),n.success("+50 XP: Topic Completed!"))},ie=(re,I,G)=>{c(Y=>Y.map(ee=>ee.id===re?{...ee,chapters:ee.chapters.map(de=>de.id===I?{...de,topics:de.topics.filter(me=>me.id!==G)}:de)}:ee))},he=()=>{const re={userProfile:i,subjects:l,timestamp:new Date().toISOString()},I=new Blob([JSON.stringify(re,null,2)],{type:"application/json"}),G=URL.createObjectURL(I),Y=document.createElement("a");Y.href=G,Y.download="study-tracker-backup.json",Y.click(),URL.revokeObjectURL(G)},D=re=>{try{const I=JSON.parse(re);if(I.userProfile&&Array.isArray(I.subjects))return a(I.userProfile),c(I.subjects),!0}catch(I){console.error("Import failed:",I)}return!1},S=re=>{const I=re.map(G=>({id:crypto.randomUUID(),name:G.name,color:G.color,icon:G.icon,chapters:G.chapters.map(Y=>({id:crypto.randomUUID(),name:Y.name,isCompleted:!1,completedAt:null,topics:Y.topics.map(ee=>({id:crypto.randomUUID(),name:ee.name,isCompleted:!1,completedAt:null}))}))}));c(G=>[...G,...I])},N=()=>{window.confirm("Reset all progress?")&&(a(ZE),c([]))},O=async(re,I,G)=>{const Y=new Date,ee=Y.toISOString().split("T")[0];if(a(me=>{const be=me.totalStudyTime+re;let fe=me.currentStreak||0,ke=me.todayStudyTime||0;if(me.lastStudyDate!==ee){const We=new Date;We.setDate(We.getDate()-1),me.lastStudyDate===We.toISOString().split("T")[0]?fe+=1:fe=1,ke=re}else ke+=re;return{...me,totalStudyTime:be,todayStudyTime:ke,currentStreak:fe,lastStudyDate:ee,weeklyStudyTime:(me.weeklyStudyTime||0)+re,monthlyStudyTime:(me.monthlyStudyTime||0)+re}}),e)try{await cf(js(sn,"study_sessions"),{userId:e.uid,userName:e.displayName||i.name,durationInSeconds:re,subjectId:I||null,sessionGoal:G||null,createdAt:Y.toISOString()})}catch(me){console.error("Session log failed:",me)}const de=Math.floor(re/300)*10;de>0&&(x(de,"Study Session"),n.success(`+${de} XP earned!`))},L=re=>{const I={...re,id:crypto.randomUUID(),isCompleted:!1};p({scheduledSessions:[...i.scheduledSessions||[],I]}),n.success("Study session scheduled!")},F=re=>{const I=(i.scheduledSessions||[]).map(G=>G.id===re?{...G,isCompleted:!G.isCompleted}:G);p({scheduledSessions:I})},j=re=>{const I=(i.scheduledSessions||[]).filter(G=>G.id!==re);p({scheduledSessions:I})},Re=A.useCallback(()=>{const re=new Date;re.setHours(0,0,0,0);const I=[],G=[...i.scheduledSessions||[]];l.forEach(Y=>{if(!Y.examDate)return;const ee=new Date(Y.examDate);if(ee.setHours(0,0,0,0),ee<=re)return;const de=[];if(Y.chapters.forEach(We=>{We.topics.forEach(bt=>{bt.isCompleted||de.push({chapterId:We.id,topicId:bt.id})})}),de.length===0)return;const me=ee.getTime()-re.getTime(),be=Math.floor(me/(1e3*60*60*24));if(be<=0)return;const fe=Math.ceil(de.length/be);let ke=0;for(let We=1;We<=be&&ke<de.length;We++){const bt=new Date(re);bt.setDate(re.getDate()+We);const pn=bt.toISOString().split("T")[0];if(!G.some(Gt=>Gt.date===pn&&Gt.subjectId===Y.id))for(let Gt=0;Gt<fe&&ke<de.length;Gt++){const _n=de[ke];I.push({id:crypto.randomUUID(),subjectId:Y.id,chapterId:_n.chapterId,topicId:_n.topicId,date:pn,time:"18:00",durationMinutes:45,isCompleted:!1}),ke++}}}),I.length>0?(p({scheduledSessions:[...G,...I]}),n.success(`AI Path Generated: ${I.length} sessions added!`)):n.info("No new topics could be scheduled. Ensure your subjects have future exam dates.")},[l,i.scheduledSessions,p,n]),je=i.majorExams||[],z=re=>{const I={...re,id:crypto.randomUUID()};p({majorExams:[...je,I]}),n.success("Major exam scheduled!")},ne=(re,I)=>{const G=je.map(Y=>Y.id===re?{...Y,...I}:Y);p({majorExams:G})},Z=re=>{const I=je.filter(G=>G.id!==re);p({majorExams:I})};A.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const re=setInterval(()=>{const I=new Date;a(G=>{const Y=(G.scheduledSessions||[]).map(ee=>{if(ee.isCompleted||ee.reminderSent||!ee.time)return ee;const me=(new Date(`${ee.date}T${ee.time}`).getTime()-I.getTime())/6e4;if(me<=10&&me>-5){if(Notification.permission==="granted"){const be=l.find(fe=>fe.id===ee.subjectId);new Notification(`Study Session: ${be?.name||"Upcoming"}`,{body:`Starting in ${Math.round(Math.max(0,me))} minutes!`,icon:"/pwa-192x192.png"})}return{...ee,reminderSent:!0}}return ee});return{...G,scheduledSessions:Y}})},6e4);return()=>clearInterval(re)},[l]);const ve=i.role==="admin";return d.jsx(ZA.Provider,{value:{userProfile:i,subjects:l,isAdmin:ve,updateProfile:p,addSubject:b,editSubject:w,deleteSubject:E,addChapter:R,editChapter:M,toggleChapter:P,deleteChapter:V,addTopic:B,editTopic:q,toggleTopic:K,deleteTopic:ie,resetData:N,exportData:he,importData:D,importSyllabusData:S,saveStudySession:O,addScheduledSession:L,toggleScheduledSession:F,deleteScheduledSession:j,generateSmartSchedule:Re,majorExams:je,addMajorExam:z,editMajorExam:ne,deleteMajorExam:Z},children:t})}function St(){const t=A.useContext(ZA);if(!t)throw new Error("useStudy must be used within StudyProvider");return t}const bz=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function ub({subject:t,onClose:e}){const{editSubject:n}=St(),[i,a]=A.useState(t.name),[l,c]=A.useState(t.color),[h,m]=A.useState(t.examDate||""),p=x=>{x.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l,examDate:h||void 0}),e())};return d.jsx(Ln,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),d.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(ms,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(An,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:i,onChange:x=>a(x.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:bz.map(x=>d.jsx("button",{type:"button",onClick:()=>c(x),className:`w-full h-8 rounded-lg ${x} ${l===x?"ring-2 ring-offset-2 ring-indigo-500":""}`},x))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Exam Date (Optional)"}),d.jsx("input",{type:"date",value:h,onChange:x=>m(x.target.value),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:d.jsx(An,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const vz=ge(tn);function wz({subject:t,index:e=0}){const[n,i]=A.useState(!1),a=t.chapters.length,l=t.chapters.filter(x=>x.isCompleted).length;let c=0;t.chapters.forEach(x=>{x.topics&&x.topics.length>0?c+=x.topics.filter(b=>b.isCompleted).length/x.topics.length*100:c+=x.isCompleted?100:0});const h=a===0?0:Math.round(c/a),m=t.examDate?Math.ceil((new Date(t.examDate).getTime()-new Date().getTime())/(1e3*60*60*24)):null,p=m!==null&&m<=7&&m>=0;return d.jsxs(d.Fragment,{children:[d.jsxs(vz,{to:`/subject/${t.id}`,whileHover:{y:-8,transition:{duration:.3,ease:[.25,1,.5,1]}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-4 md:p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-2xl hover:shadow-blue-500/15 dark:hover:shadow-blue-900/20 transition-all overflow-hidden h-full flex flex-col",children:[d.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-gradient-to-br ${t.color.replace("bg-","from-").replace("-500","-500/10")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-bl-full pointer-events-none`}),d.jsx(ge.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.preventDefault(),x.stopPropagation(),i(!0)},className:"absolute top-2 right-2 md:top-4 md:right-4 p-1.5 md:p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-xl transition-colors opacity-100 md:opacity-0 md:group-hover:opacity-100 z-10",title:"Edit Subject",children:d.jsx(Wu,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),d.jsxs("div",{className:"flex items-start justify-between mb-4 md:mb-6 relative z-10",children:[d.jsx(ge.div,{whileHover:{rotate:15,scale:1.1},className:`w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl ${t.color} flex items-center justify-center text-white shadow-lg shadow-blue-500/20`,children:d.jsx(An,{className:"w-5 h-5 md:w-7 md:h-7"})}),d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 backdrop-blur-sm px-2 py-1 md:px-3 md:py-1.5 rounded-lg md:rounded-xl text-[10px] md:text-xs font-bold text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-600",children:[h,"%"]})]}),t.examDate&&m!==null&&m>=0&&d.jsxs("div",{className:`absolute top-16 right-4 text-xs font-bold px-2 py-1 rounded-lg flex items-center gap-1 ${p?"bg-red-100 text-red-600 animate-pulse":"bg-indigo-50 text-indigo-600"}`,children:[d.jsx(uf,{className:"w-3 h-3"}),d.jsxs("span",{children:[m," days left"]})]}),d.jsx("h3",{className:"text-sm md:text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 text-xs md:text-sm text-slate-500 dark:text-slate-400 mb-4 md:mb-6 mt-auto",children:[d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-slate-50 dark:bg-slate-700/50 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[d.jsx(An,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),d.jsx("span",{children:a})]}),l>0&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[d.jsx(ar,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),d.jsx("span",{children:l})]})]}),d.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[d.jsxs("div",{className:"hidden md:flex justify-between text-xs text-slate-400 dark:text-slate-500 font-medium",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[h,"%"]})]}),d.jsx("div",{className:"h-1.5 md:h-2.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${h}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color} rounded-full`})})]}),d.jsxs("div",{className:"mt-4 md:mt-5 pt-3 md:pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-xs md:text-sm",children:[d.jsx("span",{className:"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"Details"}),d.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:d.jsx(FA,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]}),n&&d.jsx(ub,{subject:t,onClose:()=>i(!1)})]})}const eS=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function _z({onClose:t}){const{addSubject:e}=St(),[n,i]=A.useState(""),[a,l]=A.useState(eS[0]),c=h=>{h.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[d.jsx(I7,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),d.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(ms,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),d.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:h=>i(h.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:eS.map(h=>d.jsx("button",{type:"button",onClick:()=>l(h),className:`w-8 h-8 rounded-full ${h} transition-all ${a===h?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},h))})]}),d.jsx("div",{className:"pt-2",children:d.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[d.jsx(Kf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const Tz={start_strong:{icon:ar,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:df,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:HA,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:$f,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function Ez({type:t,isLocked:e=!1,dateEarned:n}){const i=Tz[t],a=i.icon,[l,c]=A.useState(!1);return d.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[d.jsx(ge.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:d.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),d.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[d.jsx("p",{className:"font-semibold",children:i.label}),d.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&d.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function Sz(){const{updateProfile:t}=St(),[e,n]=A.useState(""),[i,a]=A.useState(""),l=c=>{if(c.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),d.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),d.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[d.jsx(my,{className:"w-4 h-4"}),"Your Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[d.jsx($A,{className:"w-4 h-4"}),"Class / Grade"]}),d.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),d.jsx("div",{className:"pt-2",children:d.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function kz(){const{userProfile:t,updateProfile:e}=St(),[n,i]=A.useState(!1),[a,l]=A.useState(t.dailyGoal?t.dailyGoal/3600:2),c=t.dailyGoal||7200,h=t.todayStudyTime||0,m=Math.min(100,Math.round(h/c*100)),p=()=>{e({dailyGoal:a*3600}),i(!1)};return d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[d.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[d.jsx(XA,{className:"w-4 h-4"}),"Daily Goal"]}),n?d.jsxs("button",{onClick:p,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",d.jsx(GA,{className:"w-3 h-3"})]}):d.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",d.jsx(jU,{className:"w-3 h-3"})]})]}),d.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[d.jsxs("div",{className:"space-y-1",children:[n?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:x=>l(parseFloat(x.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),d.jsx("span",{className:"text-slate-500",children:"hrs"})]}):d.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(h/3600),d.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(h%3600/60),d.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),d.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(c/3600),"h goal"]})]}),d.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[d.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[d.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),d.jsx(ge.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*m/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${m>=100?"text-green-500":"text-blue-500"}`})]}),d.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[m,"%"]})]})]}),m>=100&&d.jsxs(ge.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[d.jsx(Bs,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),d.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function Nz(){const{userProfile:t,subjects:e,toggleScheduledSession:n,saveStudySession:i}=St(),a=jl(),l=new Date().toISOString().split("T")[0],c=(t.scheduledSessions||[]).filter(w=>!w.isCompleted&&w.date>=l).sort((w,E)=>w.date!==E.date?w.date.localeCompare(E.date):(w.time||"").localeCompare(E.time||""))[0];if(!c)return d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-3xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col items-center justify-center text-center gap-3 h-full",children:[d.jsx("div",{className:"w-12 h-12 bg-white dark:bg-slate-800 rounded-2xl flex items-center justify-center shadow-sm",children:d.jsx(Du,{className:"w-6 h-6 text-slate-300"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:"No Active Path"}),d.jsx("p",{className:"text-[10px] text-slate-500 mt-1 max-w-[150px]",children:"Generate an AI Path in the Planner to get daily targets."})]}),d.jsxs("button",{onClick:()=>a("/planner"),className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:["Go to Planner ",d.jsx(ob,{className:"w-3 h-3"})]})]});const h=e.find(w=>w.id===c.subjectId),m=h?.chapters.find(w=>w.id===c.chapterId),p=m?.topics.find(w=>w.id===c.topicId),x=c.date===l,b=async()=>{confirm(`Mark "${p?.name||h?.name}" as completed?`)&&(await i(c.durationMinutes*60,c.subjectId),n(c.id))};return d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-3xl p-5 border border-slate-100 dark:border-slate-700 shadow-xl shadow-indigo-500/5 flex flex-col relative overflow-hidden h-full group",children:[d.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-indigo-500/5 rounded-full blur-2xl group-hover:bg-indigo-500/10 transition-colors"}),d.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"p-1.5 bg-indigo-500 rounded-lg shadow-lg shadow-indigo-500/20",children:d.jsx(Du,{className:"w-4 h-4 text-white fill-white"})}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-600 dark:text-indigo-400",children:x?"Target for Today":"Next Up"})]}),x&&d.jsx("div",{className:"px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 text-[10px] font-bold rounded-lg animate-pulse",children:"Priority"})]}),d.jsxs("div",{className:"space-y-4 relative z-10 flex-1 flex flex-col justify-center",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-tighter mb-1 line-clamp-1",children:h?.name||"Unknown"}),d.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white leading-tight line-clamp-2",children:p?.name||m?.name||"General Study"})]}),d.jsxs("div",{className:"flex items-center gap-4 text-slate-500 dark:text-slate-400",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx(qf,{className:"w-3.5 h-3.5 text-indigo-500"}),d.jsx("span",{className:"text-xs font-bold",children:c.time})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx(An,{className:"w-3.5 h-3.5 text-indigo-500"}),d.jsxs("span",{className:"text-xs font-bold",children:[c.durationMinutes,"m"]})]})]})]}),d.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-50 dark:border-slate-700 flex gap-2 relative z-10",children:[d.jsxs("button",{onClick:b,className:"flex-1 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-xs font-bold transition-all flex items-center justify-center gap-2",children:[d.jsx(ar,{className:"w-3.5 h-3.5"}),"Done"]}),d.jsx("button",{onClick:()=>a("/timer"),className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-xl text-xs font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all font-mono",children:"Start"})]})]})}const Jc=[{text:"   ,   ",author:" -: "},{text:",   !     ",author:" : "},{text:",           ?",author:" -: "},{text:"     ",author:" -: "},{text:"      ",author:" : "},{text:"       ",author:" -: "},{text:"    ",author:" -: "},{text:"       ",author:" -: "},{text:" !       ",author:" -: "},{text:"      ",author:" -: "},{text:"       ",author:" -: "},{text:"  !           ",author:" : -"},{text:"     ?",author:" -: "},{text:"   ",author:" : "},{text:"      ",author:"  : "},{text:"     ",author:" : "},{text:"  ",author:" : "},{text:"  ",author:"   "},{text:"    ",author:" : "},{text:"  ",author:" : "},{text:"      ",author:" "},{text:"   ",author:" : "},{text:"       ",author:" : "},{text:"     ",author:" "},{text:"    ",author:" "},{text:"  -    ",author:""},{text:"     ",author:"   "},{text:"     ",author:" "}];function Az(){const[t,e]=A.useState(()=>Math.floor(Math.random()*Jc.length)),[n,i]=A.useState(!1),a=()=>{i(!0),setTimeout(()=>{let l;do l=Math.floor(Math.random()*Jc.length);while(l===t&&Jc.length>1);e(l),i(!1)},300)};return d.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4 relative z-10",children:[d.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:d.jsx(OU,{className:"w-5 h-5 text-white"})}),d.jsx("button",{onClick:a,disabled:n,className:"p-2.5 text-white/70 hover:text-white hover:bg-white/20 rounded-full transition-all active:scale-95 disabled:opacity-50",title:"Get New Quote",children:d.jsx(ge.div,{animate:n?{rotate:360}:{rotate:0},transition:{duration:.3,ease:"easeInOut"},children:d.jsx(UU,{className:"w-5 h-5"})})})]}),d.jsx("div",{className:"relative z-10 flex-1 flex flex-col justify-center",children:d.jsx(Ln,{mode:"wait",children:d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[d.jsx("p",{className:"text-xl md:text-2xl font-bold mb-4 leading-relaxed tracking-wide",children:Jc[t].text}),d.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",Jc[t].author]})]},t)})}),d.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}function Cz(){const{user:t}=rr(),[e,n]=A.useState([]),[i,a]=A.useState(!0);return A.useEffect(()=>{(async()=>{try{const c=Wa(js(sn,"users"),Tm("userProfile.syllabusCompletionPercentage","desc"),Qu(10)),h=await ib(c),m=[];h.forEach(p=>{const x=p.data();x.userProfile&&m.push({uid:p.id,name:x.userProfile.name||"Anonymous",percentage:x.userProfile.syllabusCompletionPercentage||0,grade:x.userProfile.grade||"Student"})}),n(m)}catch(c){console.error("Error fetching leaderboard:",c)}finally{a(!1)}})()},[]),i?d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex items-center justify-center min-h-[300px]",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex flex-col",children:[d.jsxs("h3",{className:"text-slate-800 dark:text-white font-bold text-lg mb-4 flex items-center gap-2",children:[d.jsx(Bs,{className:"w-5 h-5 text-amber-500"}),"Leaderboard"]}),d.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-slate-500 dark:text-slate-400 py-8 h-full",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mb-3",children:d.jsx(Bs,{className:"w-8 h-8 text-slate-300 dark:text-slate-500 opacity-50"})}),d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"No champions yet!"}),d.jsx("p",{className:"text-xs max-w-[150px] mt-1",children:"Complete chapters to climb the ranks."})]}):e.map((l,c)=>{const h=t?.uid===l.uid;let m=null;return c===0?m=d.jsx(hg,{className:"w-5 h-5 text-yellow-500"}):c===1?m=d.jsx(hg,{className:"w-5 h-5 text-slate-400"}):c===2?m=d.jsx(hg,{className:"w-5 h-5 text-amber-700"}):m=d.jsx("span",{className:"text-sm font-bold text-slate-400 w-5 text-center",children:c+1}),d.jsxs(ge.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:c*.1},className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${h?"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-8",children:m}),d.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-300",children:l.name[0].toUpperCase()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("p",{className:`text-sm font-medium truncate ${h?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-200"}`,children:[l.name," ",h&&"(You)"]}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:l.grade})]}),d.jsxs("div",{className:"font-bold text-slate-800 dark:text-white text-sm",children:[l.percentage,"%"]})]},l.uid)})})]})}function eC({className:t="",limit:e}){const{subjects:n,editSubject:i,majorExams:a,addMajorExam:l,editMajorExam:c,deleteMajorExam:h}=St(),[m,p]=A.useState("subjects"),[x,b]=A.useState(null),[w,E]=A.useState(null),[R,M]=A.useState(!1),[P,V]=A.useState(!1),[B,q]=A.useState({name:"",date:new Date().toISOString().split("T")[0],color:"bg-indigo-500"}),K=(n||[]).filter(j=>{if(!j.examDate)return!1;const Re=new Date(j.examDate);return!isNaN(Re.getTime())}).sort((j,Re)=>new Date(j.examDate).getTime()-new Date(Re.examDate).getTime()),ie=[...a||[]].sort((j,Re)=>new Date(j.date).getTime()-new Date(Re.date).getTime()),he=(n||[]).filter(j=>!j.examDate),D=m==="subjects"?e?K.slice(0,e):K:e?ie.slice(0,e):ie,S=j=>{const Re=new Date;Re.setHours(0,0,0,0);const je=new Date(j);if(isNaN(je.getTime()))return null;je.setHours(0,0,0,0);const z=je.getTime()-Re.getTime();return Math.ceil(z/(1e3*60*60*24))},N=j=>{b(j),M(!1)},O=(j,Re)=>{Re.stopPropagation(),window.confirm("Remove this exam date?")&&i(j,{examDate:void 0})},L=(j,Re)=>{Re.stopPropagation(),window.confirm("Delete this major exam schedule?")&&h(j)},F=j=>{j.preventDefault(),w?(c(w.id,B),E(null)):l(B),V(!1),q({name:"",date:new Date().toISOString().split("T")[0],color:"bg-indigo-500"})};return d.jsxs("div",{className:`space-y-4 ${t}`,children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(uf,{className:"w-5 h-5 text-indigo-500"}),"Upcoming Exams"]}),d.jsx("button",{onClick:()=>{m==="subjects"?M(!0):V(!0)},className:"p-1.5 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:m==="subjects"?"Add Subject Exam":"Add Major Exam",children:d.jsx(Xi,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl",children:[d.jsxs("button",{onClick:()=>p("subjects"),className:`flex-1 flex items-center justify-center gap-2 py-1.5 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${m==="subjects"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white shadow-sm":"text-slate-500"}`,children:[d.jsx(xU,{className:"w-3 h-3"}),"Subject wise"]}),d.jsxs("button",{onClick:()=>p("major"),className:`flex-1 flex items-center justify-center gap-2 py-1.5 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all ${m==="major"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white shadow-sm":"text-slate-500"}`,children:[d.jsx(KE,{className:"w-3 h-3"}),"Exam wise"]})]})]}),D.length===0?d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-dashed border-slate-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center mx-auto mb-3",children:d.jsx(uf,{className:"w-6 h-6 text-slate-300"})}),d.jsx("h3",{className:"text-slate-800 dark:text-white font-bold text-sm mb-1",children:m==="subjects"?"No Subject Exams":"No Major Exams"}),d.jsx("p",{className:"text-slate-500 text-[10px] leading-tight mb-4 px-4",children:m==="subjects"?"Set exam dates for individual subjects like Physics or History.":"Track major schedules like Half Yearly, Yearly, or HSC exams."}),d.jsxs("button",{onClick:()=>{m==="subjects"?M(!0):V(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-xs font-black uppercase tracking-widest rounded-xl hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors shadow-sm",children:[d.jsx(Xi,{className:"w-3.5 h-3.5"}),"Add ",m==="subjects"?"Subject":"Major"," Exam"]})]}):d.jsx("div",{className:"grid gap-3",children:D.map(j=>{const Re=m==="subjects"?j.examDate:j.date,je=S(Re),z=je!==null&&je<=7&&je>=0,ne=je!==null&&je<0,Z=isNaN(new Date(Re).getTime())?"Invalid Date":new Date(Re).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"});return d.jsxs(ge.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative bg-white dark:bg-slate-900/50 rounded-2xl p-4 border border-slate-100 dark:border-slate-800 hover:border-indigo-200 dark:hover:border-indigo-900/50 transition-all flex items-center gap-4 overflow-hidden",children:[d.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${ne?"bg-slate-400":z?"bg-red-500":"bg-indigo-500"}`}),d.jsx("div",{className:`w-12 h-12 rounded-xl ${j.color||"bg-slate-500"} flex items-center justify-center text-white shadow-lg shadow-black/5 flex-shrink-0`,children:m==="subjects"?d.jsx(An,{className:"w-5 h-5"}):d.jsx(KE,{className:"w-6 h-6"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-200 text-base truncate tracking-tight",children:j.name}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>{m==="subjects"?b(j):(E(j),q({name:j.name,date:j.date,color:j.color}),V(!0))},className:"p-1.5 text-slate-400 hover:text-indigo-500 dark:hover:text-indigo-400 bg-slate-50 dark:bg-slate-800 rounded-lg transition-colors",children:d.jsx(Wu,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:ve=>m==="subjects"?O(j.id,ve):L(j.id,ve),className:"p-1.5 text-slate-400 hover:text-rose-500 dark:hover:text-rose-400 bg-slate-50 dark:bg-slate-800 rounded-lg transition-colors",children:d.jsx(Ju,{className:"w-3.5 h-3.5"})})]})]}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest mt-0.5",children:Z})]}),d.jsxs("div",{className:`text-right flex-shrink-0 min-w-[50px] ${ne?"text-slate-400":z?"text-red-500":"text-indigo-500"}`,children:[d.jsx("div",{className:"text-xl font-black leading-none",children:ne||je===null?"":je}),d.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest mt-1",children:ne?"Past":"Days"})]}),z&&!ne&&d.jsx("div",{className:"absolute top-2 right-2",children:d.jsx(lb,{className:"w-4 h-4 text-red-500 animate-pulse"})})]},j.id)})}),d.jsx(Ln,{children:R&&d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/40 backdrop-blur-[2px]",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white dark:bg-slate-800 rounded-3xl w-full max-w-sm shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{className:"p-4 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Schedule Subject Exam"}),d.jsx("button",{onClick:()=>M(!1),className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:d.jsx(ms,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-4 max-h-[60vh] overflow-y-auto custom-scrollbar text-left",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 px-1 font-medium",children:"Select a subject to set its exam date."}),d.jsx("div",{className:"grid gap-2",children:he.length>0?he.map(j=>d.jsxs("button",{onClick:()=>N(j),className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all group text-left border border-transparent hover:border-slate-100 dark:hover:border-slate-600",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl ${j.color||"bg-slate-500"} flex items-center justify-center text-white shadow-sm flex-shrink-0`,children:d.jsx(An,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-bold text-slate-800 dark:text-white text-sm truncate",children:j.name}),d.jsxs("div",{className:"text-[10px] text-slate-500 uppercase tracking-widest p-0.5",children:[j.chapters?.length||0," Chapters"]})]}),d.jsx(Xi,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-500 transition-colors"})]},j.id)):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"w-12 h-12 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(uf,{className:"w-6 h-6 text-slate-300"})}),d.jsx("p",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-tighter",children:"All subjects have exams!"})]})})]})]})})}),d.jsx(Ln,{children:P&&d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/40 backdrop-blur-[2px]",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white dark:bg-slate-800 rounded-3xl w-full max-w-sm shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{className:"p-4 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:w?"Edit Major Exam":"Add Major Exam"}),d.jsx("button",{onClick:()=>{V(!1),E(null),q({name:"",date:new Date().toISOString().split("T")[0],color:"bg-indigo-500"})},className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:d.jsx(ms,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:F,className:"p-6 space-y-5 text-left",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Exam Name"}),d.jsx("input",{required:!0,type:"text",placeholder:"e.g. Year Final Exam",value:B.name,onChange:j=>q({...B,name:j.target.value}),className:"w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all placeholder:text-slate-300 dark:placeholder:text-slate-600"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Event Date"}),d.jsx("input",{required:!0,type:"date",value:B.date,onChange:j=>q({...B,date:j.target.value}),className:"w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Theme Color"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:["bg-indigo-500","bg-emerald-500","bg-amber-500","bg-rose-500","bg-purple-500","bg-blue-500"].map(j=>d.jsx("button",{type:"button",onClick:()=>q({...B,color:j}),className:`w-8 h-8 rounded-full ${j} transition-all ${B.color===j?"ring-4 ring-offset-2 ring-indigo-500 dark:ring-offset-slate-800":"opacity-60 hover:opacity-100"}`},j))})]}),d.jsx("button",{type:"submit",className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-black uppercase tracking-widest text-[11px] rounded-2xl shadow-xl shadow-indigo-500/20 transition-all hover:scale-[1.02] active:scale-[0.98] mt-2",children:w?"Update Schedule":"Launch Schedule"})]})]})})}),x&&d.jsx(ub,{subject:x,onClose:()=>b(null)})]})}const tS={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},pg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function Rz(){const{userProfile:t,subjects:e}=St(),[n,i]=A.useState(!1),a=t.name==="Student",l=e.reduce((p,x)=>p+x.chapters.length,0),c=e.reduce((p,x)=>p+x.chapters.filter(b=>b.isCompleted).length,0);let h=0;e.forEach(p=>{p.chapters.forEach(x=>{x.topics&&x.topics.length>0?h+=x.topics.filter(b=>b.isCompleted).length/x.topics.length*100:h+=x.isCompleted?100:0})});const m=l===0?0:Math.round(h/l);return d.jsxs(ge.div,{className:"space-y-6 md:space-y-8",variants:tS,initial:"hidden",animate:"show",exit:"exit",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors tracking-tight",children:["Hello, ",d.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-500 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),d.jsx("span",{className:"inline-block animate-wave ml-2",children:""})]}),d.jsxs("p",{className:"text-base text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[d.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-md mr-2",children:t.grade}),"Ready to crush your goals today?"]})]}),d.jsxs(ge.button,{id:"add-subject-btn",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(37, 99, 235, 0.4)"},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3.5 rounded-2xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-blue-500/30 transition-all text-sm md:text-base w-full md:w-auto",children:[d.jsx(Xi,{className:"w-5 h-5"}),"New Subject"]})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-12 md:gap-6 auto-rows-min",children:[d.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4 md:gap-6 order-1",children:[d.jsx(kz,{}),d.jsx(Nz,{})]}),d.jsx("div",{className:"md:col-span-full lg:col-span-4 h-full min-h-[400px] order-3 lg:order-2",children:d.jsx(Cz,{})}),d.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4 md:gap-6 order-2 lg:order-3",children:[d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl p-6 border border-slate-100 dark:border-slate-700/50 shadow-xl shadow-blue-500/5 relative overflow-hidden group transition-all hover:shadow-blue-500/10",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent -translate-x-full group-hover:animate-shimmer pointer-events-none"}),d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 group-hover:opacity-20 transition-all duration-500",children:d.jsx(B7,{className:"w-24 h-24 text-blue-500"})}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between relative z-10 gap-6",children:[d.jsxs("div",{className:"flex-1 w-full space-y-5",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-xl shadow-inner",children:d.jsx(Bs,{className:"w-5 h-5 text-amber-500"})}),d.jsx("h3",{className:"text-slate-800 dark:text-white font-bold text-lg tracking-tight",children:"Syllabus Status"})]}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-end justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[10px] uppercase font-black tracking-widest text-slate-400 dark:text-slate-500",children:"Chapters"}),d.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:[c," ",d.jsxs("span",{className:"text-slate-400 font-medium",children:["/ ",l]})]})]}),d.jsxs("span",{className:"text-sm font-black text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/40 px-2 py-0.5 rounded-lg border border-blue-100 dark:border-blue-800/50",children:[Math.round(c/(l||1)*100),"%"]})]}),d.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700/50 rounded-full overflow-hidden p-0.5 ring-1 ring-slate-200 dark:ring-slate-700",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${c/(l||1)*100}%`},transition:{duration:1.5,ease:"circOut"},className:"h-full bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full shadow-lg shadow-blue-500/20"})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-end justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[10px] uppercase font-black tracking-widest text-slate-400 dark:text-slate-500",children:"Total Progress"}),d.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Completion Rate"})]}),d.jsxs("span",{className:"text-sm font-black text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/40 px-2 py-0.5 rounded-lg border border-emerald-100 dark:border-emerald-800/50",children:[m,"%"]})]}),d.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700/50 rounded-full overflow-hidden p-0.5 ring-1 ring-slate-200 dark:ring-slate-700",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${m}%`},transition:{duration:1.5,ease:"circOut",delay:.2},className:"h-full bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full shadow-lg shadow-emerald-500/20"})})]})]})]}),d.jsxs("div",{className:"relative w-32 h-32 md:w-40 md:h-40 flex-shrink-0 group/circle",children:[d.jsx("div",{className:"absolute inset-0 bg-blue-500/5 dark:bg-blue-500/10 rounded-full blur-2xl group-hover/circle:bg-blue-500/20 transition-all duration-700"}),d.jsxs("svg",{className:"w-full h-full transform -rotate-90 relative z-10",viewBox:"0 0 100 100",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",stopColor:"#60A5FA"}),d.jsx("stop",{offset:"100%",stopColor:"#3B82F6"})]})}),d.jsx("circle",{className:"text-slate-100 dark:text-slate-700/50",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"38",cx:"50",cy:"50"}),d.jsx(ge.circle,{stroke:"url(#progressGradient)",strokeWidth:"8",strokeDasharray:238.76,strokeDashoffset:238.76,strokeLinecap:"round",fill:"transparent",r:"38",cx:"50",cy:"50",initial:{strokeDashoffset:238.76},animate:{strokeDashoffset:238.76-238.76*m/100},transition:{duration:2,ease:"circOut"}})]}),d.jsxs("div",{className:"absolute top-0 left-0 w-full h-full flex flex-col items-center justify-center z-20",children:[d.jsxs(ge.span,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:10,stiffness:100,delay:.5},className:"text-3xl md:text-4xl font-black text-slate-800 dark:text-white",children:[m,d.jsx("span",{className:"text-sm md:text-lg text-blue-500",children:"%"})]}),d.jsx("span",{className:"text-[8px] md:text-[10px] uppercase font-black tracking-tighter text-slate-400 dark:text-slate-500",children:"Done"})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 gap-4 md:gap-6 flex-1",children:[d.jsx(eC,{limit:3,className:"h-full"}),d.jsx(Az,{})]})]})]}),t.earnedBadges&&t.earnedBadges.length>0&&d.jsxs(ge.div,{variants:pg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[d.jsx(Bs,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),d.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,x)=>d.jsx(Ez,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${x}`))})]}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",d.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?d.jsxs(ge.div,{variants:tS,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[e.map((p,x)=>d.jsx(ge.div,{variants:pg,children:d.jsx(wz,{subject:p,index:x})},p.id)),d.jsxs(ge.button,{variants:pg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:d.jsx(Xi,{className:"w-6 h-6"})}),d.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(qA,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),d.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&d.jsx(_z,{onClose:()=>i(!1)}),a&&d.jsx(Sz,{})]})}function jz({subjectId:t,onClose:e}){const{addChapter:n}=St(),[i,a]=A.useState(""),l=c=>{c.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[d.jsx(qA,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),d.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(ms,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),d.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),d.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),d.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[d.jsx(Xi,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const Iz={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function Sm({children:t,className:e=""}){return d.jsx(ge.div,{variants:Iz,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const tC=A.createContext(void 0);function Dz({children:t}){const[e,n]=A.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=A.useRef(null);A.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=p=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const x=i.current,b=x.createOscillator(),w=x.createGain();b.connect(w),w.connect(x.destination);const E=x.currentTime;switch(p){case"pop":b.type="sine",b.frequency.setValueAtTime(800,E),b.frequency.exponentialRampToValueAtTime(1200,E+.1),w.gain.setValueAtTime(.1,E),w.gain.exponentialRampToValueAtTime(.01,E+.1),b.start(E),b.stop(E+.1);break;case"success":c(x,523.25,E,.1,"sine"),c(x,659.25,E+.1,.1,"sine"),c(x,783.99,E+.2,.2,"sine");break;case"complete":b.type="triangle",b.frequency.setValueAtTime(440,E),b.frequency.linearRampToValueAtTime(880,E+.5),w.gain.setValueAtTime(.1,E),w.gain.linearRampToValueAtTime(.3,E+.2),w.gain.linearRampToValueAtTime(0,E+1.5),b.start(E),b.stop(E+1.5);break;case"click":b.type="square",b.frequency.setValueAtTime(200,E),w.gain.setValueAtTime(.05,E),w.gain.exponentialRampToValueAtTime(.01,E+.05),b.start(E),b.stop(E+.05);break;case"error":b.type="sawtooth",b.frequency.setValueAtTime(150,E),b.frequency.linearRampToValueAtTime(100,E+.2),w.gain.setValueAtTime(.1,E),w.gain.linearRampToValueAtTime(0,E+.3),b.start(E),b.stop(E+.3);break}},c=(p,x,b,w,E="sine")=>{const R=p.createOscillator(),M=p.createGain();R.connect(M),M.connect(p.destination),R.type=E,R.frequency.setValueAtTime(x,b),M.gain.setValueAtTime(.1,b),M.gain.exponentialRampToValueAtTime(.01,b+w),R.start(b),R.stop(b+w)},h=p=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(p)},m=()=>{n(p=>!p),e&&a()};return d.jsx(tC.Provider,{value:{isMuted:e,toggleMute:m,playSound:h},children:t})}function db(){const t=A.useContext(tC);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function Mz({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=St(),[c,h]=A.useState(i);A.useEffect(()=>{h(i)},[i]);const m=p=>{p.preventDefault(),c.trim()&&(l(t,e,n,c.trim()),a())};return d.jsx(Ln,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),d.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(ms,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(KA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:c,onChange:p=>h(p.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function Pz({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=St(),{playSound:l}=db(),[c,h]=A.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsxs(ge.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[d.jsx(ge.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:d.jsx(ar,{className:"w-3 h-3"})}),d.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>h(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:d.jsx(Wu,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:d.jsx(Ju,{className:"w-3.5 h-3.5"})})]})]}),c&&d.jsx(Mz,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>h(!1)})]})}function Vz({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=St(),[l,c]=A.useState(n);A.useEffect(()=>{c(n)},[n]);const h=m=>{m.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return d.jsx(Ln,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),d.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(ms,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(KA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function Oz({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=St(),[c,h]=A.useState(!1),[m,p]=A.useState(!1),x=b=>{b.preventDefault();const w=b.target.elements.namedItem("topicName");w.value.trim()&&(l(t,e.id,w.value.trim()),w.value="",h(!1))};return d.jsxs("div",{className:"group transition-colors",children:[d.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[d.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:d.jsx(ge.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:d.jsx(q7,{className:"w-5 h-5"})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),d.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[d.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(b=>b.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&d.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[d.jsx(ar,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&d.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(b=>b.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),d.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[d.jsx(ge.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),h(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:d.jsx(Xi,{className:"w-4 h-4"})}),d.jsx(ge.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),p(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:d.jsx(Wu,{className:"w-4 h-4"})}),d.jsx(ge.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:d.jsx(Ju,{className:"w-4 h-4"})})]})]}),d.jsx(Ln,{children:n&&d.jsx(ge.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:d.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(b=>d.jsx(Pz,{subjectId:t,chapterId:e.id,topic:b},b.id)):d.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&d.jsxs(ge.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:x,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[d.jsx(Z7,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),d.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>h(!1),200)}),d.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),m&&d.jsx(Vz,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>p(!1)})]})}function Lz(){const{id:t}=Fj(),e=jl(),{subjects:n,deleteSubject:i}=St(),[a,l]=A.useState(!1),[c,h]=A.useState(!1),[m,p]=A.useState({}),x=n.find(V=>V.id===t);if(!x)return d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:d.jsx(An,{className:"w-8 h-8 text-slate-300"})}),d.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),d.jsx(tn,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const b=()=>{confirm(`Are you sure you want to delete ${x.name}? ALL progress will be lost.`)&&(i(x.id),e("/"))},w=V=>{p(B=>({...B,[V]:!B[V]}))},E=x.chapters.length,R=x.chapters.filter(V=>V.isCompleted).length;let M=0;x.chapters.forEach(V=>{V.topics&&V.topics.length>0?M+=V.topics.filter(B=>B.isCompleted).length/V.topics.length*100:M+=V.isCompleted?100:0});const P=E===0?0:Math.round(M/E);return d.jsxs(Sm,{className:"max-w-3xl mx-auto pb-12",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs(tn,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[d.jsx(v7,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${x.color}`,children:[d.jsx(An,{className:"w-3 h-3"}),x.name]}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:x.name}),d.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[R," of ",E," chapters completed"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>h(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:d.jsx(Wu,{className:"w-5 h-5"})}),d.jsx("button",{onClick:b,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:d.jsx(Ju,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[P,"%"]}),d.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),d.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${P}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${x.color}`})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[d.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),d.jsxs(ge.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[d.jsx(Xi,{className:"w-4 h-4"}),"Add Chapter"]})]}),d.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:x.chapters.length>0?x.chapters.map(V=>d.jsx(Oz,{subjectId:x.id,chapter:V,isExpanded:!!m[V.id],onToggle:()=>w(V.id)},V.id)):d.jsxs("div",{className:"p-12 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:d.jsx(An,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),d.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&d.jsx(jz,{subjectId:x.id,onClose:()=>l(!1)}),c&&d.jsx(ub,{subject:x,onClose:()=>h(!1)})]})}const nC=A.createContext(void 0);function Uz({children:t}){const[e,n]=A.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");A.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return d.jsx(nC.Provider,{value:{theme:e,toggleTheme:i},children:t})}function sC(){const t=A.useContext(nC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function zz({onClose:t}){const[e,n]=A.useState(yu[0].id),[i,a]=A.useState(new Set),l=yu.find(m=>m.id===e),c=m=>{const p=new Set(i);p.has(m)?p.delete(m):p.add(m),a(p)},h=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(p=>p.name));a(m)}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(An,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),d.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(ms,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[d.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[d.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),d.jsx("div",{className:"space-y-2",children:yu.map(m=>d.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),d.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),d.jsx("button",{onClick:h,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),d.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>d.jsxs("div",{onClick:()=>c(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[d.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(m.name)&&d.jsx(GA,{className:"w-3.5 h-3.5 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:`font-semibold ${i.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),d.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},m.name))})]})]}),d.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[d.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),d.jsx(Bz,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function Bz({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=St(),l=()=>{if(t===0||!e)return;const c=e.subjects.filter(h=>n.has(h.name));a(c),i()};return d.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[d.jsx(cb,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function Fz(){const{user:t,logout:e}=rr(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:c}=St(),{isMuted:h,toggleMute:m}=db(),{theme:p,toggleTheme:x}=sC(),b=A.useRef(null),w=A.useRef(null),[E,R]=A.useState(!1),[M,P]=A.useState(!1),[V,B]=A.useState("Notification"in window&&Notification.permission==="granted"),q=Em(),K=()=>{const S=b.current?.value.trim()||"",N=w.current?.value.trim()||"";if(!S){q.error("Please enter your name");return}i({name:S,grade:N}),P(!1),q.success("Profile updated successfully!")},ie=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=N=>{const O=N.target.files?.[0];if(O){const L=new FileReader;L.onload=F=>{const j=F.target?.result;c(j)&&alert("Data imported successfully!")},L.readAsText(O)}},S.click()},he=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},D=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")B(!V);else if(Notification.permission!=="denied"){const S=await Notification.requestPermission();B(S==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return d.jsxs(Sm,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(my,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),d.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),d.jsxs(ge.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(my,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),d.jsx("input",{ref:b,type:"text",defaultValue:n?.name||"",disabled:!M,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${M?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),d.jsx("input",{ref:w,type:"text",defaultValue:n?.grade||"",disabled:!M,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${M?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),d.jsx("div",{className:"pt-2 flex gap-3",children:M?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>P(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),d.jsxs("button",{onClick:K,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[d.jsx(Kf,{className:"w-4 h-4"}),"Save Changes"]})]}):d.jsxs("button",{onClick:()=>P(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(WE,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),d.jsxs(ge.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(SU,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${p==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:p==="dark"?d.jsx($f,{className:"w-5 h-5"}):d.jsx(gy,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),d.jsx("button",{onClick:x,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p==="dark"?"bg-blue-600":"bg-slate-200"}`,children:d.jsx("span",{className:`${p==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${h?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:h?d.jsx(WA,{className:"w-5 h-5"}):d.jsx(QA,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),d.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${h?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:d.jsx("span",{className:`${h?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${V?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:V?d.jsx(A7,{className:"w-5 h-5"}):d.jsx(k7,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),d.jsx("button",{onClick:D,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${V?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:d.jsx("span",{className:`${V?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:d.jsx(uU,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),d.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[d.jsx("option",{children:"English"}),d.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),d.jsxs(ge.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Kf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>R(!0),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:d.jsx(An,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),d.jsx("button",{className:"text-slate-400",children:d.jsx(WE,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[d.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[d.jsx(cb,{className:"w-4 h-4"}),"Export Data"]}),d.jsxs("button",{onClick:ie,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[d.jsx(rz,{className:"w-4 h-4"}),"Import Data"]})]}),d.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:d.jsx(Ju,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),d.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),d.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),d.jsxs(ge.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(YU,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:he,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:d.jsx(YA,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),d.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:d.jsx(M7,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Report issues via our WhatsApp group"})]})]})}),d.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:d.jsx(py,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),d.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center rounded-2xl",children:d.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&d.jsxs(ge.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Gf,{className:"w-5 h-5"}),"Sign Out"]}),d.jsx(Ln,{children:E&&d.jsx(zz,{onClose:()=>R(!1)})})]})}function zh({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring",damping:15,stiffness:100},className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl p-6 border border-slate-100 dark:border-slate-700/50 shadow-xl shadow-slate-200/50 dark:shadow-none flex items-center justify-between transition-all hover:scale-[1.02] hover:shadow-2xl active:scale-[0.98] group",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("h3",{className:"text-slate-400 dark:text-slate-500 font-bold text-[10px] uppercase tracking-widest flex items-center gap-2 group-hover:text-slate-500 transition-colors",children:[d.jsx(n,{className:`w-3.5 h-3.5 ${i}`})," ",t]}),d.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white transition-colors tracking-tight",children:e})]}),d.jsx("div",{className:`w-14 h-14 ${a} rounded-2xl flex items-center justify-center transition-all group-hover:rotate-6 shadow-inner ring-1 ring-white/20 dark:ring-white/5`,children:d.jsx(n,{className:`w-7 h-7 ${i}`})})]})}function Hz(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(i+=c.topics.length,c.topics.forEach(h=>{h.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function qz(t){const e=new Date,i=Array.from({length:7},(l,c)=>{const h=new Date;return h.setDate(e.getDate()-(6-c)),h.toISOString().split("T")[0]}).map(l=>{let c=0;return t.forEach(h=>{h.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function Gz(t){const e=new Set;t.forEach(h=>h.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((h,m)=>new Date(m).getTime()-new Date(h).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const h=n[0];if(h===a||h===c){i=1;let m=new Date(h);for(let p=1;p<n.length;p++){const x=new Date(n[p]),b=Math.abs(m.getTime()-x.getTime());if(Math.round(b/(1e3*60*60*24))===1)i++,m=x;else break}}}return i}function $z(){const{subjects:t}=St(),{completedChapters:e,totalTopics:n,completedTopics:i}=Hz(t),{activityData:a,maxCount:l}=qz(t),c=Gz(t),h=n>0?Math.round(i/n*100):0,m={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return d.jsxs(Sm,{className:"max-w-5xl mx-auto pb-16",children:[d.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-10",children:d.jsxs("div",{children:[d.jsxs("h1",{className:"text-4xl font-black text-slate-800 dark:text-white flex items-center gap-4 tracking-tight transition-colors",children:[d.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-500/20",children:d.jsx(yl,{className:"w-8 h-8 text-white"})}),"Study Analytics"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 font-medium",children:"Track your progress and stay motivated"})]})}),d.jsxs(ge.div,{variants:m,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[d.jsx("div",{className:"sm:col-span-1",children:d.jsx(zh,{title:"Focus Streak",value:`${c} days`,icon:HA,colorClass:"text-orange-500",bgClass:"bg-orange-100/50 dark:bg-orange-500/10",delay:.1})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(zh,{title:"Topics Mastered",value:`${i}`,icon:An,colorClass:"text-blue-500",bgClass:"bg-blue-100/50 dark:bg-blue-500/10",delay:.2})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(zh,{title:"Chapters Done",value:`${e}`,icon:Bs,colorClass:"text-amber-500",bgClass:"bg-amber-100/50 dark:bg-amber-500/10",delay:.3})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(zh,{title:"Efficiency",value:`${h}%`,icon:ar,colorClass:"text-emerald-500",bgClass:"bg-emerald-100/50 dark:bg-emerald-500/10",delay:.4})})]}),d.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"lg:col-span-2 bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl p-8 rounded-[2rem] border border-slate-100 dark:border-slate-700/50 shadow-xl shadow-slate-200/50 dark:shadow-none transition-all group",children:[d.jsxs("div",{className:"flex items-center justify-between mb-10",children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-3 transition-colors",children:[d.jsx(U7,{className:"w-6 h-6 text-blue-500"}),"Activity Trend"]}),d.jsx("div",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:"Last 7 Days"})]}),d.jsx("div",{className:"flex items-end justify-between gap-3 md:gap-6 h-64 px-2",children:a.map((p,x)=>d.jsxs("div",{className:"flex-1 flex flex-col items-center gap-4 group/bar",children:[d.jsxs("div",{className:"w-full bg-slate-50 dark:bg-slate-900/50 rounded-2xl relative h-full flex items-end overflow-hidden transition-colors border border-slate-100 dark:border-slate-700/30",children:[d.jsx("div",{className:"absolute inset-x-0 h-px bg-slate-200 dark:bg-slate-700/50 top-1/4"}),d.jsx("div",{className:"absolute inset-x-0 h-px bg-slate-200 dark:bg-slate-700/50 top-2/4"}),d.jsx("div",{className:"absolute inset-x-0 h-px bg-slate-200 dark:bg-slate-700/50 top-3/4"}),d.jsxs(ge.div,{initial:{height:0},animate:{height:`${p.count/(l||1)*100}%`},transition:{duration:1.5,delay:x*.1,ease:[.34,1.56,.64,1]},className:"w-full bg-gradient-to-t from-blue-600 to-indigo-400 rounded-t-xl transition-all duration-300 group-hover/bar:brightness-110 relative shadow-lg shadow-blue-500/20",children:[d.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-white/20 rounded-full mx-1 mt-1"}),d.jsxs("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 text-[10px] font-black py-1.5 px-3 rounded-xl opacity-0 scale-90 group-hover/bar:opacity-100 group-hover/bar:scale-100 transition-all whitespace-nowrap z-20 shadow-xl pointer-events-none",children:[p.count," TOPICS"]})]})]}),d.jsx("span",{className:`text-[10px] sm:text-xs font-bold uppercase tracking-wider transition-colors ${x===a.length-1?"text-blue-500":"text-slate-400"}`,children:new Date(p.date).toLocaleDateString("en-US",{weekday:"short"})})]},p.date))})]}),d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl p-8 rounded-[2rem] border border-slate-100 dark:border-slate-700/50 shadow-xl shadow-slate-200/50 dark:shadow-none transition-all",children:[d.jsx("div",{className:"flex items-center justify-between mb-8",children:d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-3 transition-colors",children:[d.jsx(An,{className:"w-6 h-6 text-indigo-500"}),"Progress"]})}),d.jsxs("div",{className:"space-y-6 max-h-[400px] overflow-y-auto pr-3 custom-scrollbar",children:[t.map((p,x)=>{const b=p.chapters.reduce((R,M)=>R+(M.topics?.length||0),0),w=p.chapters.reduce((R,M)=>R+(M.topics?.filter(P=>P.isCompleted).length||0),0),E=b>0?Math.round(w/b*100):0;return d.jsxs(ge.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5+x*.05},className:"group",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-sm font-black text-slate-700 dark:text-slate-200 group-hover:text-blue-500 transition-colors uppercase tracking-tight",children:p.name}),d.jsxs("span",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-500 transition-colors",children:[w," of ",b," Topics"]})]}),d.jsxs("span",{className:`text-xs font-black px-2 py-1 rounded-lg border ${E===100?"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/30 dark:border-emerald-800/50":"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/30 dark:border-blue-800/50"}`,children:[E,"%"]})]}),d.jsx("div",{className:"h-2.5 w-full bg-slate-100 dark:bg-slate-900/50 rounded-full overflow-hidden p-0.5 ring-1 ring-slate-200/50 dark:ring-slate-700/30",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${E}%`},transition:{duration:1.5,ease:"backOut"},className:`h-full rounded-full shadow-lg ${p.color.replace("text-","bg-")} bg-gradient-to-r from-transparent to-white/20`})})]},p.id)}),t.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-400 text-center space-y-3",children:[d.jsx(An,{className:"w-10 h-10 opacity-20"}),d.jsx("p",{className:"text-sm font-bold uppercase tracking-widest opacity-50",children:"No subjects tracked yet"})]})]})]})]})]})}function Kz(){const t=Em(),{saveStudySession:e,subjects:n}=St(),{user:i}=rr(),{playSound:a,isMuted:l,toggleMute:c}=db(),[h,m]=A.useState("stopwatch"),[p,x]=A.useState(!1),[b,w]=A.useState(0),[E,R]=A.useState(0),[M,P]=A.useState(30),[V,B]=A.useState("timer"),[q,K]=A.useState("today"),[ie,he]=A.useState(""),[D,S]=A.useState(""),[N,O]=A.useState(""),[L,F]=A.useState(!1),[j,Re]=A.useState([]),[je,z]=A.useState(!0),ne=A.useRef(null);A.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const Z=(fe,ke)=>{Notification.permission==="granted"&&new Notification(fe,{body:ke,icon:"/vite.svg"})};A.useEffect(()=>(p?ne.current=window.setInterval(()=>{w(fe=>h==="stopwatch"?fe+1:fe<=1?(x(!1),a("complete"),Z("Time's Up! ","Your study session is complete. Take a break!"),0):fe-1)},1e3):ne.current&&clearInterval(ne.current),()=>{ne.current&&clearInterval(ne.current)}),[p,h,a]),A.useEffect(()=>{if(x(!1),F(!1),h==="stopwatch")w(0),R(0);else if(h==="pomodoro"||h==="countdown"){const fe=M*60;w(fe),R(fe)}},[h,M]),A.useEffect(()=>{(async()=>{if(i){z(!0);try{const ke=js(sn,"users");let We="userProfile.todayStudyTime";q==="week"?We="userProfile.weeklyStudyTime":q==="month"?We="userProfile.monthlyStudyTime":q==="all_time"&&(We="userProfile.totalStudyTime");const bt=Wa(ke,Tm(We,"desc"),Qu(10)),pn=await ib(bt),Fs=[];pn.forEach(Gt=>{const _n=Gt.data();if(_n.userProfile){let Un=0;q==="today"?Un=_n.userProfile.todayStudyTime||0:q==="week"?Un=_n.userProfile.weeklyStudyTime||0:q==="month"?Un=_n.userProfile.monthlyStudyTime||0:Un=_n.userProfile.totalStudyTime||0,Fs.push({userId:Gt.id,userName:_n.userProfile.name||"Anonymous",displayTime:Un})}}),Re(Fs)}catch(ke){console.error("Error fetching leaderboard:",ke)}finally{z(!1)}}})()},[i,V,q]),A.useEffect(()=>(p?document.title=`${G(b)} - ${N||(h==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[p,b,h,N]);const ve=()=>{!p&&h!=="stopwatch"&&b===0&&w(E),x(!p),a("click")},re=()=>{x(!1),F(!1),w(h==="stopwatch"?0:E),a("click")},I=async()=>{if(!D){t.error("Please select a subject to save session.");return}let fe=0;if(h==="stopwatch"?fe=b:fe=E-b,fe<60){t.error("Session must be at least 1 minute to save.");return}await e(fe,D,N),F(!0),a("success"),t.success("Session Saved! Great Job.")},G=fe=>{const ke=Math.floor(fe/3600),We=Math.floor(fe%3600/60),bt=fe%60;return ke>0?`${ke}:${We.toString().padStart(2,"0")}:${bt.toString().padStart(2,"0")}`:`${We.toString().padStart(2,"0")}:${bt.toString().padStart(2,"0")}`},Y=fe=>{const ke=Math.floor(fe/3600),We=Math.floor(fe%3600/60),bt=fe%60;return`${ke.toString().padStart(2,"0")}:${We.toString().padStart(2,"0")}:${bt.toString().padStart(2,"0")}`},ee=h==="stopwatch"?100:Math.max(0,b/E*100),de=120,me=2*Math.PI*de,be=me-ee/100*me;return d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsxs("header",{className:"flex items-center justify-between",children:[d.jsx("div",{children:d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),d.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:l?d.jsx(WA,{className:"w-6 h-6"}):d.jsx(QA,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[d.jsx("button",{onClick:()=>B("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${V==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),d.jsx("button",{onClick:()=>B("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${V==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:`${V==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:N,onChange:fe=>O(fe.target.value),disabled:p}),d.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:D,onChange:fe=>S(fe.target.value),disabled:p,children:[d.jsx("option",{value:"",children:"Subject"}),n.map(fe=>d.jsx("option",{value:fe.id,children:fe.name},fe.id))]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[d.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[d.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[d.jsx("circle",{cx:"50%",cy:"50%",r:de,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),d.jsx("circle",{cx:"50%",cy:"50%",r:de,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:me,strokeDashoffset:h==="stopwatch"?0:be,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${p?h==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[d.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${p?h==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:G(b)}),d.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:p?"Running":"Paused"})]})]}),d.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!p&&d.jsx("button",{onClick:re,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:d.jsx(YA,{className:"w-5 h-5"})}),d.jsx("button",{onClick:ve,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${p?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:p?d.jsx(AU,{className:"w-8 h-8 fill-current"}):d.jsx(MU,{className:"w-8 h-8 ml-1 fill-current"})}),!p&&(h==="stopwatch"&&b>60||h!=="stopwatch"&&b!==E)&&!L&&d.jsx("button",{onClick:I,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:d.jsx(Kf,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"mt-8 flex gap-2",children:[d.jsx("button",{onClick:()=>{m("stopwatch"),P(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),d.jsx("button",{onClick:()=>{m("pomodoro"),P(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),d.jsx("button",{onClick:()=>{m("countdown"),P(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!p&&(h==="pomodoro"||h==="countdown")&&d.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[d.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),d.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:M,onChange:fe=>P(Number(fe.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),d.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[M,"m"]})]})]})]}),d.jsxs("div",{className:`${V==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[d.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Bs,{className:"w-6 h-6 text-yellow-500"}),d.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search name...",value:ie,onChange:fe=>he(fe.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),d.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),d.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(fe=>d.jsx("button",{onClick:()=>K(fe),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${q===fe?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:fe==="all_time"?"Lifetime":fe==="today"?"24 Hours":fe==="week"?"7 Days":"1 Month"},fe))})]}),je?d.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),d.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):d.jsxs("div",{className:"space-y-3",children:[j.filter(fe=>fe.userName.toLowerCase().includes(ie.toLowerCase())).map((fe,ke)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${fe.userId===i?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[ke+1,"."]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${ke===0?"bg-yellow-100 text-yellow-600 border-yellow-200":ke===1?"bg-slate-200 text-slate-600 border-slate-300":ke===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:fe.userName.charAt(0).toUpperCase()}),d.jsxs("div",{children:[d.jsx("p",{className:`font-bold text-sm ${fe.userId===i?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:fe.userName}),d.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${fe.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),d.jsx("span",{className:"text-xs text-slate-400 font-medium",children:fe.displayTime>3600?"Studying":"Offline"})]})]})]})]}),d.jsx("div",{className:"text-right",children:d.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:Y(fe.displayTime)})})]},fe.userId)),j.length===0&&d.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-sm",children:"No records found for this period."}),d.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),d.jsx(Ln,{children:L&&d.jsxs(ge.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[d.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:d.jsx(ar,{className:"w-4 h-4 text-white"})}),d.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const iC=A.createContext(void 0);function Yz({children:t}){const{user:e}=rr(),n=Em(),[i,a]=A.useState([]),[l,c]=A.useState([]);A.useEffect(()=>{if(!e){a([]),c([]);return}const E=Wa(js(sn,"groups"),cg("memberIds","array-contains",e.uid)),R=Iu(E,V=>{const B=[];V.forEach(q=>{B.push({id:q.id,...q.data()})}),a(B)},V=>{console.error("Error loading groups:",V)}),M=Wa(js(sn,"challenges"),cg("participants","array-contains",e.uid)),P=Iu(M,V=>{const B=[];V.forEach(q=>{B.push({id:q.id,...q.data()})}),c(B)},V=>{console.error("Error loading challenges:",V)});return()=>{R(),P()}},[e]);const h=async(E,R)=>{if(e)try{const M={name:E,description:R,createdBy:e.uid,createdAt:new Date().toISOString(),members:[{userId:e.uid,name:e.displayName||"Unknown",joinedAt:new Date().toISOString(),role:"admin"}],memberIds:[e.uid],inviteCode:Math.random().toString(36).substring(2,8).toUpperCase()};await cf(js(sn,"groups"),M),n.success("Group created successfully!")}catch(M){console.error("Error creating group:",M),n.error("Failed to create group.")}},m=async E=>{if(e)try{const R=Wa(js(sn,"groups"),cg("inviteCode","==",E.trim().toUpperCase()),Qu(1)),M=await ib(R);if(M.empty){n.error("Invalid invite code.");return}const P=M.docs[0],V=P.data();if(V.memberIds.includes(e.uid)){n.info("You are already a member of this group.");return}const B={userId:e.uid,name:e.displayName||"Anonymous",joinedAt:new Date().toISOString(),role:"member"};await gu(Zr(sn,"groups",P.id),{members:lg(B),memberIds:lg(e.uid)}),n.success(`Joined ${V.name}!`)}catch(R){console.error("Error joining group:",R),n.error("Failed to join group.")}},p=async E=>{if(e)try{const R=i.find(P=>P.id===E);if(!R)return;const M=R.members.find(P=>P.userId===e.uid);if(!M)return;await gu(Zr(sn,"groups",E),{members:PE(M),memberIds:PE(e.uid)}),n.success("Left group successfully.")}catch(R){console.error("Error leaving group:",R),n.error("Failed to leave group.")}},x=async(E,R)=>{if(e)try{await cf(js(sn,"groups",E,"messages"),{senderId:e.uid,senderName:e.displayName||"User",text:R,timestamp:ME()})}catch(M){console.error("Error sending message:",M),n.error("Failed to send message.")}},b=async(E,R,M,P)=>{if(e)try{const V=new Date,B=new Date;B.setDate(V.getDate()+P);const q={groupId:E,title:R,goalXP:M,startDate:V.toISOString(),endDate:B.toISOString(),participants:[e.uid],isCompleted:!1,createdAt:ME()};await cf(js(sn,"challenges"),q),n.success("Challenge created! Go go go!")}catch(V){console.error("Error creating challenge:",V),n.error("Failed to create challenge.")}},w=async E=>{if(e)try{await gu(Zr(sn,"challenges",E),{participants:lg(e.uid)}),n.success("Joined the challenge!")}catch(R){console.error("Error joining challenge:",R),n.error("Failed to join challenge.")}};return d.jsx(iC.Provider,{value:{groups:i,challenges:l,createGroup:h,joinGroup:m,leaveGroup:p,sendMessage:x,createChallenge:b,joinChallenge:w},children:t})}function Xz(){const t=A.useContext(iC);if(t===void 0)throw new Error("useSocial must be used within a SocialProvider");return t}function rC(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=rC(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Qz(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=rC(t))&&(i&&(i+=" "),i+=e);return i}const Wz=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},Jz=(t,e)=>({classGroupId:t,validator:e}),aC=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Yf="-",nS=[],Zz="arbitrary..",eB=t=>{const e=nB(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return tB(c);const h=c.split(Yf),m=h[0]===""&&h.length>1?1:0;return oC(h,m,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const m=i[c],p=n[c];return m?p?Wz(p,m):m:p||nS}return n[c]||nS}}},oC=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=oC(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const h=e===0?t.join(Yf):t.slice(e).join(Yf),m=c.length;for(let p=0;p<m;p++){const x=c[p];if(x.validator(h))return x.classGroupId}},tB=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?Zz+i:void 0})(),nB=t=>{const{theme:e,classGroups:n}=t;return sB(n,e)},sB=(t,e)=>{const n=aC();for(const i in t){const a=t[i];hb(a,n,i,e)}return n},hb=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];iB(c,e,n,i)}},iB=(t,e,n,i)=>{if(typeof t=="string"){rB(t,e,n);return}if(typeof t=="function"){aB(t,e,n,i);return}oB(t,e,n,i)},rB=(t,e,n)=>{const i=t===""?e:lC(e,t);i.classGroupId=n},aB=(t,e,n,i)=>{if(lB(t)){hb(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(Jz(n,t))},oB=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,m]=a[c];hb(m,lC(e,h),n,i)}},lC=(t,e)=>{let n=t;const i=e.split(Yf),a=i.length;for(let l=0;l<a;l++){const c=i[l];let h=n.nextPart.get(c);h||(h=aC(),n.nextPart.set(c,h)),n=h}return n},lB=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,cB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},xy="!",sS=":",uB=[],iS=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),dB=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,h=0,m=0,p;const x=a.length;for(let M=0;M<x;M++){const P=a[M];if(c===0&&h===0){if(P===sS){l.push(a.slice(m,M)),m=M+1;continue}if(P==="/"){p=M;continue}}P==="["?c++:P==="]"?c--:P==="("?h++:P===")"&&h--}const b=l.length===0?a:a.slice(m);let w=b,E=!1;b.endsWith(xy)?(w=b.slice(0,-1),E=!0):b.startsWith(xy)&&(w=b.slice(1),E=!0);const R=p&&p>m?p-m:void 0;return iS(l,E,w,R)};if(e){const a=e+sS,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):iS(uB,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},hB=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",m=e.has(c);h||m?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},fB=t=>({cache:cB(t.cacheSize),parseClassName:dB(t),sortModifiers:hB(t),...eB(t)}),mB=/\s+/,pB=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(mB);let m="";for(let p=h.length-1;p>=0;p-=1){const x=h[p],{isExternal:b,modifiers:w,hasImportantModifier:E,baseClassName:R,maybePostfixModifierPosition:M}=n(x);if(b){m=x+(m.length>0?" "+m:m);continue}let P=!!M,V=i(P?R.substring(0,M):R);if(!V){if(!P){m=x+(m.length>0?" "+m:m);continue}if(V=i(R),!V){m=x+(m.length>0?" "+m:m);continue}P=!1}const B=w.length===0?"":w.length===1?w[0]:l(w).join(":"),q=E?B+xy:B,K=q+V;if(c.indexOf(K)>-1)continue;c.push(K);const ie=a(V,P);for(let he=0;he<ie.length;++he){const D=ie[he];c.push(q+D)}m=x+(m.length>0?" "+m:m)}return m},gB=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=cC(n))&&(a&&(a+=" "),a+=i);return a},cC=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=cC(t[i]))&&(n&&(n+=" "),n+=e);return n},yB=(t,...e)=>{let n,i,a,l;const c=m=>{const p=e.reduce((x,b)=>b(x),t());return n=fB(p),i=n.cache.get,a=n.cache.set,l=h,h(m)},h=m=>{const p=i(m);if(p)return p;const x=pB(m,n);return a(m,x),x};return l=c,(...m)=>l(gB(...m))},xB=[],Yt=t=>{const e=n=>n[t]||xB;return e.isThemeGetter=!0,e},uC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bB=/^\d+\/\d+$/,vB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_B=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,TB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,el=t=>bB.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Br=t=>!!t&&Number.isInteger(Number(t)),gg=t=>t.endsWith("%")&&Be(t.slice(0,-1)),qi=t=>vB.test(t),SB=()=>!0,kB=t=>wB.test(t)&&!_B.test(t),hC=()=>!1,NB=t=>TB.test(t),AB=t=>EB.test(t),CB=t=>!Te(t)&&!Ee(t),RB=t=>Fl(t,pC,hC),Te=t=>uC.test(t),Fa=t=>Fl(t,gC,kB),yg=t=>Fl(t,PB,Be),rS=t=>Fl(t,fC,hC),jB=t=>Fl(t,mC,AB),Bh=t=>Fl(t,yC,NB),Ee=t=>dC.test(t),Zc=t=>Hl(t,gC),IB=t=>Hl(t,VB),aS=t=>Hl(t,fC),DB=t=>Hl(t,pC),MB=t=>Hl(t,mC),Fh=t=>Hl(t,yC,!0),Fl=(t,e,n)=>{const i=uC.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Hl=(t,e,n=!1)=>{const i=dC.exec(t);return i?i[1]?e(i[1]):n:!1},fC=t=>t==="position"||t==="percentage",mC=t=>t==="image"||t==="url",pC=t=>t==="length"||t==="size"||t==="bg-size",gC=t=>t==="length",PB=t=>t==="number",VB=t=>t==="family-name",yC=t=>t==="shadow",OB=()=>{const t=Yt("color"),e=Yt("font"),n=Yt("text"),i=Yt("font-weight"),a=Yt("tracking"),l=Yt("leading"),c=Yt("breakpoint"),h=Yt("container"),m=Yt("spacing"),p=Yt("radius"),x=Yt("shadow"),b=Yt("inset-shadow"),w=Yt("text-shadow"),E=Yt("drop-shadow"),R=Yt("blur"),M=Yt("perspective"),P=Yt("aspect"),V=Yt("ease"),B=Yt("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ie=()=>[...K(),Ee,Te],he=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],S=()=>[Ee,Te,m],N=()=>[el,"full","auto",...S()],O=()=>[Br,"none","subgrid",Ee,Te],L=()=>["auto",{span:["full",Br,Ee,Te]},Br,Ee,Te],F=()=>[Br,"auto",Ee,Te],j=()=>["auto","min","max","fr",Ee,Te],Re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],je=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...S()],ne=()=>[el,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],Z=()=>[t,Ee,Te],ve=()=>[...K(),aS,rS,{position:[Ee,Te]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",DB,RB,{size:[Ee,Te]}],G=()=>[gg,Zc,Fa],Y=()=>["","none","full",p,Ee,Te],ee=()=>["",Be,Zc,Fa],de=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],be=()=>[Be,gg,aS,rS],fe=()=>["","none",R,Ee,Te],ke=()=>["none",Be,Ee,Te],We=()=>["none",Be,Ee,Te],bt=()=>[Be,Ee,Te],pn=()=>[el,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qi],breakpoint:[qi],color:[SB],container:[qi],"drop-shadow":[qi],ease:["in","out","in-out"],font:[CB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qi],shadow:[qi],spacing:["px",Be],text:[qi],"text-shadow":[qi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",el,Te,Ee,P]}],container:["container"],columns:[{columns:[Be,Te,Ee,h]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ie()}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Br,"auto",Ee,Te]}],basis:[{basis:[el,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,el,"auto","initial","none",Te]}],grow:[{grow:["",Be,Ee,Te]}],shrink:[{shrink:["",Be,Ee,Te]}],order:[{order:[Br,"first","last","none",Ee,Te]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Re(),"normal"]}],"justify-items":[{"justify-items":[...je(),"normal"]}],"justify-self":[{"justify-self":["auto",...je()]}],"align-content":[{content:["normal",...Re()]}],"align-items":[{items:[...je(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...je(),{baseline:["","last"]}]}],"place-content":[{"place-content":Re()}],"place-items":[{"place-items":[...je(),"baseline"]}],"place-self":[{"place-self":["auto",...je()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[h,"screen",...ne()]}],"min-w":[{"min-w":[h,"screen","none",...ne()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,Zc,Fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ee,yg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",gg,Te]}],"font-family":[{font:[IB,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ee,Te]}],"line-clamp":[{"line-clamp":[Be,"none",Ee,yg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",Ee,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",Ee,Fa]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Be,"auto",Ee,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Br,Ee,Te],radial:["",Ee,Te],conic:[Br,Ee,Te]},MB,jB]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,Ee,Te]}],"outline-w":[{outline:["",Be,Zc,Fa]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",x,Fh,Bh]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",b,Fh,Bh]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Be,Fa]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",w,Fh,Bh]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Be,Ee,Te]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":be()}],"mask-image-linear-to-pos":[{"mask-linear-to":be()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":be()}],"mask-image-t-to-pos":[{"mask-t-to":be()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":be()}],"mask-image-r-to-pos":[{"mask-r-to":be()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":be()}],"mask-image-b-to-pos":[{"mask-b-to":be()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":be()}],"mask-image-l-to-pos":[{"mask-l-to":be()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":be()}],"mask-image-x-to-pos":[{"mask-x-to":be()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":be()}],"mask-image-y-to-pos":[{"mask-y-to":be()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[Ee,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":be()}],"mask-image-radial-to-pos":[{"mask-radial-to":be()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":be()}],"mask-image-conic-to-pos":[{"mask-conic-to":be()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,Te]}],filter:[{filter:["","none",Ee,Te]}],blur:[{blur:fe()}],brightness:[{brightness:[Be,Ee,Te]}],contrast:[{contrast:[Be,Ee,Te]}],"drop-shadow":[{"drop-shadow":["","none",E,Fh,Bh]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Be,Ee,Te]}],"hue-rotate":[{"hue-rotate":[Be,Ee,Te]}],invert:[{invert:["",Be,Ee,Te]}],saturate:[{saturate:[Be,Ee,Te]}],sepia:[{sepia:["",Be,Ee,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,Te]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[Be,Ee,Te]}],"backdrop-contrast":[{"backdrop-contrast":[Be,Ee,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,Ee,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,Ee,Te]}],"backdrop-invert":[{"backdrop-invert":["",Be,Ee,Te]}],"backdrop-opacity":[{"backdrop-opacity":[Be,Ee,Te]}],"backdrop-saturate":[{"backdrop-saturate":[Be,Ee,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,Ee,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",Ee,Te]}],ease:[{ease:["linear","initial",V,Ee,Te]}],delay:[{delay:[Be,Ee,Te]}],animate:[{animate:["none",B,Ee,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,Ee,Te]}],"perspective-origin":[{"perspective-origin":ie()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:bt()}],"skew-x":[{"skew-x":bt()}],"skew-y":[{"skew-y":bt()}],transform:[{transform:[Ee,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:ie()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pn()}],"translate-x":[{"translate-x":pn()}],"translate-y":[{"translate-y":pn()}],"translate-z":[{"translate-z":pn()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,Te]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Be,Zc,Fa,yg]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},LB=yB(OB);function ui(...t){return LB(Qz(t))}const UB=t=>t?(typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"?t.toDate():new Date(t)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...";function zB(){const{user:t}=rr(),{groups:e,challenges:n,createGroup:i,joinGroup:a,sendMessage:l,leaveGroup:c,createChallenge:h,joinChallenge:m}=Xz(),[p,x]=A.useState(null),[b,w]=A.useState([]),[E,R]=A.useState(""),[M,P]=A.useState(!1),[V,B]=A.useState("chat"),q=A.useRef(null);A.useEffect(()=>{const N=window.innerWidth<768;!p&&e.length>0&&!N&&x(e[0])},[e,p]),A.useEffect(()=>{if(!p)return;const N=Wa(js(sn,"groups",p.id,"messages"),Tm("timestamp","asc"),Qu(50)),O=Iu(N,L=>{const F=[];L.forEach(j=>{F.push({id:j.id,...j.data()})}),w(F)},L=>console.error("Msg Load Err",L));return()=>{O(),w([])}},[p]),A.useEffect(()=>{q.current?.scrollIntoView({behavior:"smooth"})},[b]);const K=async N=>{N.preventDefault(),!(!E.trim()||!p||M)&&(P(!0),await l(p.id,E.trim()),R(""),P(!1))},ie=()=>{const N=prompt("Enter Group Name:");if(!N)return;const O=prompt("Enter Description (optional):")||"";i(N,O)},he=()=>{const N=prompt("Enter Invitation Code:");N&&a(N)},D=()=>{p&&confirm(`Leave group "${p.name}"?`)&&(c(p.id),x(null))},S=()=>{p&&(navigator.clipboard.writeText(p.inviteCode),alert("Invite code copied: "+p.inviteCode))};return d.jsxs(Sm,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col md:flex-row overflow-hidden",children:[d.jsx("div",{className:`md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 ${p?"hidden":"flex"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(xl,{className:"w-6 h-6 text-indigo-500"}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[200px]",children:"Study Groups"})]})}),p&&d.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>x(null),className:"flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[d.jsx(Hf,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"Back"})]}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[150px]",children:p.name}),d.jsx("button",{onClick:D,className:"text-red-500",children:d.jsx(Gf,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:`flex-col bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 w-full md:w-72 md:flex ${p?"hidden":"flex"}`,children:[d.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 hidden md:flex justify-between items-center",children:d.jsxs("h2",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(xl,{className:"w-6 h-6 text-indigo-500"}),"My Groups"]})}),d.jsxs("div",{className:"p-4 space-y-2",children:[d.jsxs("button",{onClick:ie,className:"w-full flex items-center justify-center gap-2 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[d.jsx(Xi,{className:"w-4 h-4"})," Create Group"]}),d.jsxs("button",{onClick:he,className:"w-full flex items-center justify-center gap-2 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-lg font-medium transition-colors",children:[d.jsx(fU,{className:"w-4 h-4"})," Join via Code"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[e.length===0&&d.jsx("div",{className:"text-center text-slate-500 text-sm py-4",children:"You haven't joined any groups yet."}),e.map(N=>d.jsxs("button",{onClick:()=>{x(N)},className:ui("w-full text-left px-3 py-3 rounded-xl flex items-center gap-3 transition-all",p?.id===N.id?"bg-white dark:bg-slate-800 shadow-sm ring-1 ring-indigo-500/20":"hover:bg-slate-100 dark:hover:bg-slate-800"),children:[d.jsx("div",{className:ui("w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm",p?.id===N.id?"bg-indigo-500":"bg-slate-400"),children:N.name[0].toUpperCase()}),d.jsxs("div",{children:[d.jsx("div",{className:ui("font-medium text-sm",p?.id===N.id?"text-indigo-900 dark:text-indigo-100":"text-slate-700 dark:text-slate-300"),children:N.name}),d.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-[140px]",children:[N.members.length," members"]})]})]},N.id))]})]}),d.jsx("div",{className:`flex-1 flex-col bg-white dark:bg-slate-800 relative md:flex ${p?"flex":"hidden"}`,children:p?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col border-b border-slate-100 dark:border-slate-700 shadow-sm z-10 bg-white dark:bg-slate-800",children:[d.jsxs("div",{className:"flex items-center justify-between p-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>x(null),className:"md:hidden p-1 text-slate-500",children:d.jsx(Hf,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsxs("h2",{className:"font-bold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[p.name,d.jsxs("span",{className:"text-xs font-normal px-2 py-0.5 bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300 rounded-full",children:[p.members.length," Members"]})]}),d.jsx("p",{className:"text-xs text-slate-500 hidden md:block",children:p.description||"No description set"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:S,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-500",title:"Copy Invite Code",children:d.jsx(nU,{className:"w-5 h-5"})}),d.jsx("button",{onClick:D,className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-red-500",title:"Leave Group",children:d.jsx(Gf,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"flex px-4 border-t border-slate-50 dark:border-slate-700/50",children:[d.jsxs("button",{onClick:()=>B("chat"),className:ui("py-3 px-4 text-sm font-medium border-b-2 transition-all flex items-center gap-2",V==="chat"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-slate-500 hover:text-slate-700"),children:[d.jsx(py,{className:"w-4 h-4"}),"Chat"]}),d.jsxs("button",{onClick:()=>B("challenges"),className:ui("py-3 px-4 text-sm font-medium border-b-2 transition-all flex items-center gap-2",V==="challenges"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-slate-500 hover:text-slate-700"),children:[d.jsx(Bs,{className:"w-4 h-4"}),"Challenges"]}),d.jsxs("button",{onClick:()=>B("leaderboard"),className:ui("py-3 px-4 text-sm font-medium border-b-2 transition-all flex items-center gap-2",V==="leaderboard"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-slate-500 hover:text-slate-700"),children:[d.jsx(df,{className:"w-4 h-4"}),"Leaderboard"]})]})]}),d.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[V==="chat"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[b.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[d.jsx(py,{className:"w-12 h-12 mb-2 opacity-50"}),d.jsx("p",{children:"No messages yet. Start the conversation!"}),d.jsxs("p",{className:"text-xs mt-2",children:["Invite Code: ",d.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-800 px-1 rounded select-all",children:p.inviteCode})]})]}),b.map(N=>{const O=N.senderId===t?.uid;return d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:ui("flex gap-3",O?"flex-row-reverse":""),children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-xs font-bold text-indigo-700 dark:text-indigo-300 flex-shrink-0",children:N.senderName[0]}),d.jsxs("div",{className:ui("max-w-[75%]",O?"items-end":"items-start"),children:[d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:N.senderName}),d.jsx("span",{className:"text-[10px] text-slate-400",children:UB(N.timestamp)})]}),d.jsx("div",{className:ui("px-4 py-2 rounded-2xl text-sm shadow-sm",O?"bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-sm"),children:N.text})]})]},N.id)}),d.jsx("div",{ref:q})]}),d.jsx("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:d.jsxs("form",{onSubmit:K,className:"flex gap-2",children:[d.jsx("input",{value:E,onChange:N=>R(N.target.value),placeholder:`Message #${p.name}`,className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-900 rounded-xl border-none focus:ring-2 focus:ring-indigo-500"}),d.jsx("button",{disabled:M||!E.trim(),className:"p-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50",children:M?d.jsx(vU,{className:"animate-spin w-5 h-5"}):d.jsx(qU,{className:"w-5 h-5"})})]})})]}),V==="challenges"&&d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-slate-50/50 dark:bg-slate-900/50",children:[d.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Bs,{className:"w-5 h-5 text-yellow-500"}),"Group Challenges"]}),d.jsx("p",{className:"text-xs text-slate-500",children:"Achieve study goals together!"})]}),d.jsx("button",{onClick:()=>{const N=prompt("Challenge Title (e.g., Weekend Warrior):");if(!N)return;const O=parseInt(prompt("Goal XP:")||"1000"),L=parseInt(prompt("Duration in days:")||"7");h(p.id,N,O,L)},className:"p-2 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 rounded-xl hover:bg-indigo-100 transition-colors",children:d.jsx(Q7,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"grid gap-4",children:[n.filter(N=>N.groupId===p.id).length===0&&d.jsxs("div",{className:"text-center py-12 text-slate-400",children:[d.jsx(XA,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),d.jsx("p",{children:"No active challenges for this group."}),d.jsx("p",{className:"text-xs",children:"Create one to motivate your team!"})]}),n.filter(N=>N.groupId===p.id).map(N=>{const O=N.participants.includes(t?.uid||""),L=Math.ceil((new Date(N.endDate).getTime()-new Date().getTime())/(1e3*3600*24));return d.jsxs(ge.div,{layout:!0,className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 group hover:border-indigo-500/30 transition-all",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-600 transition-colors",children:N.title}),d.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[d.jsxs("span",{className:"text-xs flex items-center gap-1 text-slate-500",children:[d.jsx(df,{className:"w-3 h-3 text-orange-500"}),N.goalXP," XP Goal"]}),d.jsxs("span",{className:"text-xs flex items-center gap-1 text-slate-500",children:[d.jsx(Ff,{className:"w-3 h-3"}),L>0?`${L} days left`:"Ended"]})]})]}),!O&&L>0&&d.jsx("button",{onClick:()=>m(N.id),className:"px-4 py-1.5 bg-indigo-600 text-white text-xs font-bold rounded-full hover:bg-indigo-700 shadow-lg shadow-indigo-500/20",children:"Join"}),O&&d.jsxs("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 text-[10px] font-bold rounded-full flex items-center gap-1",children:[d.jsx(ar,{className:"w-3 h-3"})," Joined"]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex -space-x-2",children:[N.participants.slice(0,5).map(F=>d.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-700 border-2 border-white dark:border-slate-800 flex items-center justify-center text-[8px] font-bold text-slate-500",children:F[0].toUpperCase()},F)),N.participants.length>5&&d.jsxs("div",{className:"w-6 h-6 rounded-full bg-slate-100 dark:bg-slate-700 border-2 border-white dark:border-slate-800 flex items-center justify-center text-[8px] font-bold text-slate-500",children:["+",N.participants.length-5]})]}),d.jsxs("span",{className:"text-[10px] text-slate-400",children:[N.participants.length," students participating"]})]})]},N.id)})]})]}),V==="leaderboard"&&d.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50/50 dark:bg-slate-900/50",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"bg-indigo-600 p-6 text-white",children:[d.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[d.jsx(df,{className:"w-6 h-6"}),"Group Standings"]}),d.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:"Real-time ranking of study partners"})]}),d.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:p.members.map((N,O)=>d.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:ui("w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm",O===0?"bg-yellow-100 text-yellow-700":O===1?"bg-slate-100 text-slate-500":O===2?"bg-orange-100 text-orange-700":"text-slate-400"),children:O+1}),d.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-indigo-700 dark:text-indigo-300 font-bold",children:N.name[0]}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[N.name,N.userId===t?.uid&&d.jsx("span",{className:"text-[10px] bg-indigo-500 text-white px-1.5 rounded-full",children:"Me"})]}),d.jsxs("div",{className:"text-xs text-slate-500",children:["Joined ",new Date(N.joinedAt).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"font-bold text-indigo-600 dark:text-indigo-400",children:"... XP"}),d.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-bold",children:N.role})]})]},N.userId))})]})})]})]}):d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[d.jsx(xl,{className:"w-16 h-16 mb-4 opacity-50"}),d.jsx("h3",{className:"text-lg font-medium text-slate-600 dark:text-slate-300",children:"Select a Group"}),d.jsx("p",{className:"max-w-xs text-center mt-2",children:"Join a study group or create your own to collaborate with friends."})]})})]})}function BB({steps:t,onComplete:e,onSkip:n}){const[i,a]=A.useState(0),[l,c]=A.useState(null),h=t[i];A.useEffect(()=>{if(h.targetId){const x=document.getElementById(h.targetId);x?(c(x.getBoundingClientRect()),x.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[i,h,t]);const m=()=>{i<t.length-1?a(x=>x+1):e()},p=()=>{i>0&&a(x=>x-1)};return d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&d.jsx(ge.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),d.jsx(Ln,{mode:"wait",children:d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&h.position!=="center"?{top:h.position==="bottom"?l.bottom+20:h.position==="top"?l.top-200:void 0,left:h.position==="right"?l.right+20:h.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(h.position==="bottom",0)}:{},children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),d.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:d.jsx(ms,{className:"w-4 h-4"})})]}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:h.title}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:h.description}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("button",{onClick:p,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(Hf,{className:"w-4 h-4"})," Back"]}),d.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&d.jsx(ob,{className:"w-4 h-4"})]})]})]},i)})]})}const FB="/Study-Mate/assets/logo-C0C7fgvJ.png";function HB({deferredPrompt:t,onInstall:e}){const[n,i]=A.useState(!1);A.useEffect(()=>{const l=setTimeout(()=>i(!0),3e3);return()=>clearTimeout(l)},[]);const a=()=>{i(!1)};return!n||!t?null:d.jsx(Ln,{children:d.jsx(ge.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 md:bottom-6 left-1/2 transform -translate-x-1/2 z-50 w-[90%] md:w-auto",children:d.jsxs("div",{className:"bg-slate-900/90 dark:bg-white/90 backdrop-blur-md text-white dark:text-slate-900 px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 border border-white/10 dark:border-slate-200/20",children:[d.jsx("div",{className:"bg-indigo-500 rounded-xl p-2",children:d.jsx(cb,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-bold text-sm",children:"Install App"}),d.jsx("p",{className:"text-xs text-slate-300 dark:text-slate-600",children:"Add to home screen for better experience"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 dark:hover:bg-slate-200/50 rounded-lg transition-colors",children:d.jsx(ms,{className:"w-4 h-4"})}),d.jsx("button",{onClick:e,className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-4 py-2 rounded-lg text-sm font-bold shadow-lg active:scale-95 transition-transform",children:"Install"})]})]})})})}function qB(){const{userProfile:t}=St();A.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const e=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.lastStudyDate?new Date(t.lastStudyDate):null;if(!a)return;const l=new Date,c=Math.abs(l.getTime()-a.getTime()),h=Math.ceil(c/(1e3*60*60*24));if(h>=3){const m=localStorage.getItem("tracked_last_reminder"),p=m?new Date(m):null;(p?(l.getTime()-p.getTime())/(1e3*60*60):999)>24&&(new Notification("Miss you! ",{body:`It's been ${h} days since your last study session. Keep your streak alive!`,icon:"/pwa-icon.svg",tag:"inactivity-reminder"}),localStorage.setItem("tracked_last_reminder",l.toISOString()))}},n=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.dailyGoal||7200,l=t.todayStudyTime||0,c=a-l;if(c>0&&c<=1800){const h=localStorage.getItem("tracked_goal_reminder"),m=new Date().toISOString().split("T")[0];h!==m&&(new Notification("Almost there! ",{body:"You're less than 30 minutes away from your daily goal. Finish strong!",icon:"/pwa-icon.svg",tag:"goal-reminder"}),localStorage.setItem("tracked_goal_reminder",m))}},i=setTimeout(()=>{e(),n()},5e3);return()=>clearTimeout(i)},[t.lastStudyDate,t.todayStudyTime,t.dailyGoal])}const GB=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function $B(){const{logout:t}=rr(),{theme:e,toggleTheme:n}=sC(),{userProfile:i,isAdmin:a}=St(),{currentTitle:l,nextLevelXP:c,progress:h}=yy(i.xp||0),m=i.level||1,p=sr(),x=Bj();qB();const[b,w]=A.useState(!1),[E,R]=A.useState(null);A.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true");const B=q=>{q.preventDefault(),R(q)};return window.addEventListener("beforeinstallprompt",B),()=>window.removeEventListener("beforeinstallprompt",B)},[]);const M=()=>{w(!1),localStorage.setItem("tracked_tour_completed","true")},P=async()=>{if(!E)return;E.prompt();const{outcome:B}=await E.userChoice;B==="accepted"&&R(null)},V=B=>p.pathname===B;return d.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[b&&d.jsx(BB,{steps:GB,onComplete:M,onSkip:M}),d.jsxs("header",{className:"glass sticky top-0 z-20 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xs shadow-md",children:m}),d.jsx("div",{children:d.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"TrackEd"})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm","aria-label":"Toggle Theme",children:e==="light"?d.jsx($f,{className:"w-5 h-5"}):d.jsx(gy,{className:"w-5 h-5"})}),d.jsx(tn,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm",children:d.jsx(QE,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"md:flex max-w-7xl mx-auto",children:[d.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-[calc(100vh-2rem)] sticky top-4 m-4 rounded-3xl glass shadow-2xl shadow-slate-200/60 dark:shadow-slate-900/50 p-6 transition-all duration-300 z-10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-10 pl-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:FB,alt:"TrackEd Logo",className:"w-10 h-10 rounded-xl object-contain shadow-md"}),d.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"TrackEd"})]}),d.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-700/50 rounded-xl transition-colors","aria-label":"Toggle Theme",children:e==="light"?d.jsx($f,{className:"w-5 h-5"}):d.jsx(gy,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"mb-8 px-2",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-500/30 ring-2 ring-white dark:ring-slate-700",children:m}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white leading-tight",children:i.name}),d.jsx("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:l})]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex justify-between text-[10px] font-semibold text-slate-400 uppercase tracking-wider",children:[d.jsxs("span",{children:[i.xp," XP"]}),d.jsx("span",{children:c?`${c} XP`:"MAX"})]}),d.jsx("div",{className:"w-full h-2.5 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden shadow-inner ring-1 ring-slate-900/5 dark:ring-white/5",children:d.jsx(ge.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full",initial:{width:0},animate:{width:`${h}%`},transition:{duration:1,ease:"easeOut"}})})]})]}),d.jsxs("nav",{className:"space-y-1.5 flex-1",children:[d.jsxs(tn,{to:"/",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(YE,{className:"w-5 h-5"}),"Dashboard"]}),d.jsxs(tn,{to:"/planner",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${V("/planner")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[d.jsx(Ff,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${V("/planner")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),d.jsx("span",{className:"font-medium",children:"Planner"}),V("/planner")&&d.jsx(ge.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),d.jsxs(tn,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/analytics")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(yl,{className:"w-5 h-5"}),"Analytics"]}),d.jsxs(tn,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${p.pathname==="/timer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(JE,{className:"w-5 h-5"}),"Timer"]}),d.jsxs(tn,{to:"/chat",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${V("/chat")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[d.jsx(xl,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${V("/chat")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),d.jsx("span",{className:"font-medium",children:"Study Groups"}),V("/chat")&&d.jsx(ge.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),d.jsxs(tn,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/settings")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(QE,{className:"w-5 h-5"}),"Settings"]}),a&&d.jsxs(tn,{to:"/admin",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${V("/admin")?"bg-rose-600 text-white shadow-lg shadow-rose-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(ru,{className:"w-5 h-5"}),"Admin Panel"]})]}),d.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200/50 dark:border-slate-700/50",children:[d.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left mb-4 group",children:[d.jsx(Gf,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),"Sign Out"]}),d.jsxs("div",{className:"text-xs text-center text-slate-400 dark:text-slate-500 font-medium",children:[d.jsx("p",{children:"Empowering Students"}),d.jsx("p",{className:"mt-1 opacity-70",children:" 2026 TrackEd"})]})]})]}),d.jsx("main",{className:"flex-1 p-4 md:p-8",children:d.jsx(Ln,{mode:"wait",children:x&&A.cloneElement(x,{key:p.pathname})})})]}),d.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[d.jsxs(tn,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${V("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(YE,{className:"w-6 h-6"}),d.jsx("span",{children:"Home"})]}),d.jsxs(tn,{to:"/planner",className:`flex flex-col items-center gap-1 text-xs ${V("/planner")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(Ff,{className:"w-6 h-6"}),d.jsx("span",{children:"Planner"})]}),d.jsxs(tn,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${V("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(JE,{className:"w-6 h-6"}),d.jsx("span",{children:"Timer"})]}),d.jsxs(tn,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${V("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(xl,{className:"w-6 h-6"}),d.jsx("span",{children:"Groups"})]}),d.jsxs(tn,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${V("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(yl,{className:"w-6 h-6"}),d.jsx("span",{children:"Stats"})]})]}),E&&d.jsx(HB,{deferredPrompt:E,onInstall:P})]})}function KB(){const{signInWithGoogle:t,user:e}=rr(),n=jl();return lS.useEffect(()=>{e&&n("/")},[e,n]),d.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[d.jsxs("div",{className:"absolute inset-0 z-0",children:[d.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),d.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[d.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[d.jsx("div",{className:"flex justify-center mb-8",children:d.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:d.jsx($A,{className:"w-10 h-10 text-white"})})}),d.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",d.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),d.jsxs(ge.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[d.jsx("div",{className:"bg-white p-1 rounded-full",children:d.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),d.jsx("span",{children:"Sign in with Google"}),d.jsx(FA,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),d.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}const YB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function XB(){const{subjects:t,userProfile:e,addScheduledSession:n,toggleScheduledSession:i,deleteScheduledSession:a,saveStudySession:l,generateSmartSchedule:c}=St(),[h,m]=A.useState(new Date),[p,x]=A.useState(new Date),[b,w]=A.useState(!1),[E,R]=A.useState({subjectId:"",chapterId:"",topicId:"",time:"18:00",durationMinutes:60,notes:""}),M=()=>{t.length>0&&R(z=>({...z,subjectId:t[0].id})),w(!0)},P=z=>{if(z.preventDefault(),!p||!E.subjectId)return;const ne=p.getFullYear(),Z=String(p.getMonth()+1).padStart(2,"0"),ve=String(p.getDate()).padStart(2,"0"),re=`${ne}-${Z}-${ve}`;n({subjectId:E.subjectId,date:re,time:E.time,durationMinutes:E.durationMinutes,chapterId:E.chapterId||void 0,topicId:E.topicId||void 0,notes:E.notes}),w(!1)},V=A.useMemo(()=>{if(!p||!e.scheduledSessions)return[];const z=p.getFullYear(),ne=String(p.getMonth()+1).padStart(2,"0"),Z=String(p.getDate()).padStart(2,"0"),ve=`${z}-${ne}-${Z}`;return e.scheduledSessions.filter(re=>re.date===ve)},[p,e.scheduledSessions]),B=z=>{if(!e.scheduledSessions)return!1;const ne=h.getFullYear(),Z=String(h.getMonth()+1).padStart(2,"0"),ve=String(z).padStart(2,"0"),re=`${ne}-${Z}-${ve}`;return e.scheduledSessions.some(I=>I.date===re&&!I.isCompleted)},q=async z=>{z.isCompleted||confirm("Mark as done? Do you want to log this time to your stats?")&&await l(z.durationMinutes*60,z.subjectId),i(z.id)},K=(z,ne)=>new Date(z,ne+1,0).getDate(),ie=(z,ne)=>new Date(z,ne,1).getDay(),he=h.getFullYear(),D=h.getMonth(),S=K(he,D),N=ie(he,D),O=()=>m(new Date(he,D-1,1)),L=()=>m(new Date(he,D+1,1)),F=new Date,j=z=>z===F.getDate()&&D===F.getMonth()&&he===F.getFullYear(),Re=z=>p&&z===p.getDate()&&D===p.getMonth()&&he===p.getFullYear(),je=A.useMemo(()=>{const z=[];return t.forEach(ne=>{ne.chapters.forEach(Z=>{Z.isCompleted||Z.topics.forEach(ve=>{ve.isCompleted||z.push({subjectName:ne.name,chapterName:Z.name,topicName:ve.name,priority:Math.random()})})})}),z.sort((ne,Z)=>Z.priority-ne.priority).slice(0,3)},[t]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Study Planner"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage your schedule and stay on track."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Ff,{className:"w-5 h-5 text-blue-500"}),h.toLocaleString("default",{month:"long",year:"numeric"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:O,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(Hf,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})}),d.jsx("button",{onClick:L,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(ob,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})})]})]}),d.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:YB.map(z=>d.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider py-2",children:z},z))}),d.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:N}).map((z,ne)=>d.jsx("div",{className:"aspect-square"},`empty-${ne}`)),Array.from({length:S}).map((z,ne)=>{const Z=ne+1,ve=j(Z)?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 font-bold":"",re=Re(Z)&&!j(Z)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold":"";return d.jsxs(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(new Date(he,D,Z)),className:`aspect-square rounded-xl flex items-center justify-center text-sm cursor-pointer transition-all hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 relative ${ve} ${re}`,children:[Z,B(Z)&&d.jsx("div",{className:"absolute bottom-1 w-1 h-1 bg-indigo-500 rounded-full"})]},Z)})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(qf,{className:"w-5 h-5 text-indigo-500"}),p?.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})]}),d.jsx("button",{onClick:M,className:"text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:underline",children:"+ Add"})]}),d.jsx("div",{className:"space-y-3 min-h-[100px]",children:V.length>0?V.map(z=>{const ne=t.find(ve=>ve.id===z.subjectId);let Z="";if(ne&&z.chapterId){const ve=ne.chapters.find(re=>re.id===z.chapterId);if(ve&&(Z=ve.name,z.topicId)){const re=ve.topics.find(I=>I.id===z.topicId);re&&(Z+=` > ${re.name}`)}}return d.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:[d.jsx("input",{type:"checkbox",checked:z.isCompleted,onChange:()=>q(z),className:"mt-1 w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:`font-semibold text-sm ${z.isCompleted?"line-through text-slate-400":"text-slate-800 dark:text-slate-200"}`,children:ne?.name||"Unknown Subject"}),d.jsx("button",{onClick:()=>a(z.id),className:"text-slate-400 hover:text-red-500",children:""})]}),Z&&d.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium mt-0.5",children:Z}),d.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex gap-2",children:[d.jsx("span",{className:"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-1.5 py-0.5 rounded",children:z.time}),d.jsxs("span",{children:[z.durationMinutes,"m"]})]}),z.notes&&d.jsxs("p",{className:"text-xs text-slate-500 mt-1 italic",children:['"',z.notes,'"']})]})]},z.id)}):d.jsxs("div",{className:"text-center py-8 text-slate-400 text-sm",children:[d.jsx("p",{children:"No study sessions scheduled."}),d.jsx("button",{onClick:M,className:"mt-4 px-4 py-2 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-lg text-sm font-semibold hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",children:"+ Schedule Session"})]})})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:d.jsx(eC,{})}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg overflow-hidden relative",children:[d.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h3",{className:"font-bold text-lg mb-1 flex items-center gap-2",children:[d.jsx(Du,{className:"w-5 h-5 text-yellow-300 fill-yellow-300"}),"AI Study Path"]}),d.jsx("p",{className:"text-indigo-100 text-xs mb-4",children:"Automatically distribute your remaining topics until your exam dates."}),d.jsxs("button",{onClick:()=>{confirm("This will automatically schedule your incomplete topics across the calendar until your next exam dates. Existing manually scheduled sessions for those subjects on the same days will be skipped. Proceed?")&&c()},className:"w-full py-2.5 bg-white text-indigo-600 rounded-xl text-sm font-bold shadow-lg shadow-indigo-900/20 hover:bg-indigo-50 transition-all flex items-center justify-center gap-2",children:[d.jsx(Du,{className:"w-4 h-4 fill-indigo-600"}),"Generate AI Path"]})]})]}),d.jsxs("div",{className:"space-y-3 mt-4",children:[d.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest pl-1 mb-2",children:"Smart Suggestions"}),je.length>0?je.map((z,ne)=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 border border-slate-100 dark:border-slate-700 hover:border-indigo-200 dark:hover:border-indigo-900/50 transition-colors cursor-pointer shadow-sm",children:[d.jsx("div",{className:"text-[10px] font-medium text-indigo-600 dark:text-indigo-400 uppercase tracking-wider mb-1",children:z.subjectName}),d.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm line-clamp-1",children:z.topicName}),d.jsx("div",{className:"text-[10px] text-slate-500 mt-0.5 line-clamp-1",children:z.chapterName})]},ne)):d.jsxs("div",{className:"text-center py-4 text-indigo-100",children:[d.jsx("p",{children:" All caught up!"}),d.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Great job clearing your backlog."})]})]})]})]}),b&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Schedule Study Session"}),d.jsxs("form",{onSubmit:P,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subject"}),d.jsx("select",{value:E.subjectId,onChange:z=>R({...E,subjectId:z.target.value,chapterId:"",topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",children:t.map(z=>d.jsx("option",{value:z.id,children:z.name},z.id))})]}),E.subjectId&&d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Chapter (Opt)"}),d.jsxs("select",{value:E.chapterId,onChange:z=>R({...E,chapterId:z.target.value,topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",children:[d.jsx("option",{value:"",children:"Any Chapter"}),t.find(z=>z.id===E.subjectId)?.chapters.map(z=>d.jsx("option",{value:z.id,children:z.name},z.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Topic (Opt)"}),d.jsxs("select",{value:E.topicId,onChange:z=>R({...E,topicId:z.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",disabled:!E.chapterId,children:[d.jsx("option",{value:"",children:"Any Topic"}),E.chapterId&&t.find(z=>z.id===E.subjectId)?.chapters.find(z=>z.id===E.chapterId)?.topics.map(z=>d.jsx("option",{value:z.id,children:z.name},z.id))]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Time"}),d.jsx("input",{type:"time",value:E.time,onChange:z=>R({...E,time:z.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Duration (mins)"}),d.jsx("input",{type:"number",min:"5",step:"5",value:E.durationMinutes,onChange:z=>R({...E,durationMinutes:parseInt(z.target.value)}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes (Optional)"}),d.jsx("textarea",{value:E.notes,onChange:z=>R({...E,notes:z.target.value}),placeholder:"What topics will you cover?",className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none h-20 resize-none"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[d.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg font-medium",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg font-medium shadow-sm shadow-indigo-200 dark:shadow-none",children:"Schedule"})]})]})]})})]})}function QB(){const[t,e]=A.useState("overview"),[n,i]=A.useState([]),[a,l]=A.useState(!0),[c,h]=A.useState(""),[m,p]=A.useState(null),[x,b]=A.useState(!1),{isAdmin:w}=St(),E=jl();A.useEffect(()=>{w||E("/",{replace:!0})},[w,E]),A.useEffect(()=>{if(!w)return;const K=Wa(js(sn,"users"),Tm("userProfile.xp","desc"),Qu(100)),ie=Iu(K,he=>{const D=[];he.forEach(S=>{const N=S.data();N.userProfile&&D.push({id:S.id,userProfile:N.userProfile,lastActive:N.lastActive})}),i(D),l(!1)});return()=>ie()},[]);const R=n.reduce((K,ie)=>K+(ie.userProfile.totalStudyTime||0),0),M=n.length>0?(n.reduce((K,ie)=>K+(ie.userProfile.level||1),0)/n.length).toFixed(1):"0",P=n.filter(K=>K.userProfile.role==="admin").length,V=[{label:"Total Students",value:n.length.toString(),icon:xl,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",trend:"+12%",trendUp:!0},{label:"Total Study Hours",value:(R/3600).toFixed(1),icon:qf,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20",trend:"+8%",trendUp:!0},{label:"Average Level",value:M,icon:Bs,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20",trend:"Rising",trendUp:!0},{label:"Active Admins",value:P.toString(),icon:ru,color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-900/20",trend:"Secured",trendUp:!0}],B=n.filter(K=>K.userProfile.name?.toLowerCase().includes(c.toLowerCase())||K.id.toLowerCase().includes(c.toLowerCase())),q=async(K,ie,he)=>{b(!0);try{const D=Zr(sn,"users",K);await gu(D,{[`userProfile.${ie}`]:he}),m&&m.id===K&&p({...m,userProfile:{...m.userProfile,[ie]:he}})}catch(D){console.error("Error updating user:",D),alert("Failed to update user record.")}finally{b(!1)}};return d.jsxs("div",{className:"space-y-8 pb-20 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"p-2.5 bg-indigo-600 rounded-2xl shadow-lg shadow-indigo-500/20",children:d.jsx(ru,{className:"w-6 h-6 text-white"})}),d.jsx("h1",{className:"text-3xl font-black text-slate-800 dark:text-white tracking-tight",children:"Admin Center"})]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium tracking-tight",children:"System-wide monitoring & granular student control"})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-1.5 bg-slate-100/50 dark:bg-slate-800/50 backdrop-blur-md rounded-2xl border border-slate-200/50 dark:border-slate-700/50",children:[d.jsx("button",{onClick:()=>e("overview"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${t==="overview"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white shadow-sm ring-1 ring-slate-200/50 dark:ring-slate-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-white/50 dark:hover:bg-white/5"}`,children:"Overview"}),d.jsx("button",{onClick:()=>e("users"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${t==="users"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white shadow-sm ring-1 ring-slate-200/50 dark:ring-slate-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-white/50 dark:hover:bg-white/5"}`,children:"Management"}),d.jsx("button",{onClick:()=>e("system"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${t==="system"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white shadow-sm ring-1 ring-slate-200/50 dark:ring-slate-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-white/50 dark:hover:bg-white/5"}`,children:"System"})]})]}),t==="overview"&&d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-8",children:[d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:V.map((K,ie)=>d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:ie*.1},className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl p-6 rounded-[2rem] border border-slate-100 dark:border-slate-700/50 shadow-xl shadow-slate-200/50 dark:shadow-none transition-all group hover:scale-[1.02] hover:shadow-2xl",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:`p-4 rounded-2xl shadow-inner ${K.bg}`,children:d.jsx(K.icon,{className:`w-6 h-6 ${K.color}`})}),d.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] font-black uppercase tracking-widest ${K.trendUp?"text-emerald-600 dark:text-emerald-400":"text-rose-500"}`,children:[K.trendUp?d.jsx(T7,{className:"w-4 h-4"}):d.jsx(x7,{className:"w-4 h-4"}),K.trend]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white tracking-tight",children:K.value}),d.jsx("div",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest",children:K.label})]})]},ie))}),d.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm p-8 rounded-[2.5rem] border border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center text-center py-20",children:[d.jsx(yl,{className:"w-12 h-12 text-slate-200 dark:text-slate-700 mb-4"}),d.jsx("h3",{className:"text-lg font-bold text-slate-400 dark:text-slate-600 uppercase tracking-widest",children:"Global Analytics Feed"}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-600 mt-2",children:"Aggregated user behavior data will stream here in real-time"})]})]}),t==="users"&&d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 py-2",children:[d.jsxs("div",{className:"relative w-full md:w-96",children:[d.jsx(XE,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search students by name or UID...",value:c,onChange:K=>h(K.target.value),className:"bg-white/80 dark:bg-slate-800 uppercase text-[10px] font-black tracking-widest dark:text-white border border-slate-200 dark:border-slate-700/50 rounded-2xl py-3.5 pl-12 pr-6 focus:ring-4 focus:ring-indigo-500/10 outline-none w-full shadow-lg shadow-slate-200/30 dark:shadow-none transition-all placeholder:text-slate-300 dark:placeholder:text-slate-600"})]}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 bg-white dark:bg-slate-800 text-[10px] font-black text-slate-500 uppercase tracking-widest rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm hover:bg-slate-50 transition-all",children:[d.jsx(lU,{className:"w-4 h-4"})," Filter By Role"]})})]}),d.jsx("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-[2.5rem] border border-slate-100 dark:border-slate-700/50 shadow-2xl shadow-slate-400/5 dark:shadow-none overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50/50 dark:bg-slate-900/30",children:[d.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 dark:border-slate-700/50",children:"Registered Student"}),d.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 dark:border-slate-700/50 text-center",children:"Status"}),d.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 dark:border-slate-700/50 text-center",children:"XP & Power"}),d.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 dark:border-slate-700/50 text-center",children:"Engagement"}),d.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 dark:border-slate-700/50 text-right",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-700/30",children:a?[1,2,3,4,5].map(K=>d.jsx("tr",{className:"animate-pulse",children:d.jsxs("td",{colSpan:5,className:"px-8 py-10",children:[d.jsx("div",{className:"h-4 bg-slate-100 dark:bg-slate-700 rounded-full w-48 mb-2"}),d.jsx("div",{className:"h-2 bg-slate-50 dark:bg-slate-700/50 rounded-full w-32"})]})},K)):B.length>0?B.map(K=>d.jsxs("tr",{className:"hover:bg-indigo-50/20 dark:hover:bg-indigo-500/5 transition-colors group",children:[d.jsx("td",{className:"px-8 py-6",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black text-lg shadow-xl shadow-indigo-500/20 ring-4 ring-white dark:ring-slate-700 group-hover:scale-110 transition-transform",children:K.userProfile.name?.charAt(0)||"?"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-black text-slate-800 dark:text-white text-sm tracking-tight",children:K.userProfile.name}),d.jsxs("div",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-black tracking-widest uppercase mt-0.5",children:[K.id.substring(0,12),"..."]})]})]})}),d.jsx("td",{className:"px-6 py-6 text-center",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black tracking-widest uppercase border ${K.userProfile.role==="admin"?"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-950/30 dark:border-rose-900/50":"bg-slate-100 text-slate-500 border-slate-200 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-400"}`,children:K.userProfile.role||"Student"})}),d.jsx("td",{className:"px-6 py-6 text-center",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("span",{className:"text-xs font-black text-slate-700 dark:text-slate-300",children:["Level ",K.userProfile.level||1]}),d.jsxs("span",{className:"text-[9px] font-bold text-indigo-500 uppercase tracking-widest",children:[(K.userProfile.xp||0).toLocaleString()," XP"]})]})}),d.jsx("td",{className:"px-6 py-6 text-center",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("span",{className:"text-xs font-black text-slate-700 dark:text-slate-300",children:[Math.round((K.userProfile.totalStudyTime||0)/3600)," HRS"]}),d.jsxs("span",{className:"text-[9px] font-bold text-emerald-500 uppercase tracking-widest",children:[K.userProfile.currentStreak||0," DAY STREAK"]})]})}),d.jsx("td",{className:"px-8 py-6 text-right",children:d.jsx("button",{onClick:()=>p(K),className:"p-2.5 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 bg-slate-50 dark:bg-slate-700/50 rounded-xl hover:shadow-lg transition-all",children:d.jsx(rU,{className:"w-5 h-5"})})})]},K.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"px-8 py-20 text-center",children:d.jsxs("div",{className:"flex flex-col items-center text-slate-400 dark:text-slate-600",children:[d.jsx(XE,{className:"w-12 h-12 mb-4 opacity-20"}),d.jsx("p",{className:"font-black text-sm uppercase tracking-widest",children:"No matching user records found"})]})})})})]})})})]}),t==="system"&&d.jsxs(ge.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl p-8 rounded-[2.5rem] border border-slate-100 dark:border-slate-700/50 shadow-xl space-y-8",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-3 mb-6 transition-colors tracking-tight",children:[d.jsx(ru,{className:"w-6 h-6 text-indigo-500"}),"System Controls"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("button",{className:"flex flex-col items-center justify-center p-6 bg-slate-50/50 dark:bg-slate-900/50 rounded-3xl border border-slate-100 dark:border-slate-700/50 hover:bg-white dark:hover:bg-slate-700 transition-all group border-dashed",children:[d.jsx(qf,{className:"w-8 h-8 text-slate-400 mb-3 group-hover:text-indigo-500 transition-colors"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Maintenance"})]}),d.jsxs("button",{className:"flex flex-col items-center justify-center p-6 bg-slate-50/50 dark:bg-slate-900/50 rounded-3xl border border-slate-100 dark:border-slate-700/50 hover:bg-white dark:hover:bg-slate-700 transition-all group border-dashed",children:[d.jsx(yl,{className:"w-8 h-8 text-slate-400 mb-3 group-hover:text-amber-500 transition-colors"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Force Sync"})]})]})]}),d.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700/50",children:[d.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-4",children:"Broadcast Message"}),d.jsx("textarea",{placeholder:"Global message to all users...",className:"w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-100 dark:border-slate-700/50 rounded-2xl p-4 text-sm font-medium focus:ring-4 focus:ring-indigo-500/10 outline-none h-32 transition-all resize-none"}),d.jsx("button",{className:"w-full mt-4 py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white font-black uppercase tracking-widest text-[10px] rounded-2xl shadow-xl shadow-indigo-500/20 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Send Global Notification"})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 p-8 rounded-[2.5rem] shadow-2xl shadow-indigo-500/30 text-white flex flex-col justify-between overflow-hidden relative",children:[d.jsx(ru,{className:"absolute -top-10 -right-10 w-48 h-48 opacity-10 rotate-12"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("h2",{className:"text-2xl font-black mb-2 flex items-center gap-3 tracking-tight",children:"Security Status"}),d.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-md rounded-full text-[10px] font-black tracking-widest uppercase border border-white/30",children:"Protected by Antigravity Shield"})]}),d.jsxs("div",{className:"space-y-4 relative z-10 mt-20",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs font-bold p-4 bg-white/10 rounded-2xl border border-white/10 backdrop-blur-sm",children:[d.jsx("span",{children:"Firestore Rules"}),d.jsx("span",{className:"text-emerald-400",children:"ACTIVE"})]}),d.jsxs("div",{className:"flex items-center justify-between text-xs font-bold p-4 bg-white/10 rounded-2xl border border-white/10 backdrop-blur-sm",children:[d.jsx("span",{children:"Auth Persistence"}),d.jsx("span",{className:"text-emerald-400",children:"ENABLED"})]}),d.jsxs("div",{className:"flex items-center justify-between text-xs font-bold p-4 bg-white/10 rounded-2xl border border-white/10 backdrop-blur-sm",children:[d.jsx("span",{children:"Admin Encryption"}),d.jsx("span",{className:"text-emerald-400",children:"SOLID"})]})]})]})]}),d.jsx(Ln,{children:m&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[d.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>p(null),className:"absolute inset-0 bg-slate-900/40 backdrop-blur-md"}),d.jsxs(ge.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{className:"p-8 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-900/30",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black text-xl shadow-xl shadow-indigo-500/20",children:m.userProfile.name?.charAt(0)||"?"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-black text-slate-800 dark:text-white leading-tight",children:m.userProfile.name}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:m.id})]})]}),d.jsx("button",{onClick:()=>p(null),className:"p-2.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-2xl text-slate-400 transition-colors",children:d.jsx(ms,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Authority Role"}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("button",{onClick:()=>q(m.id,"role",m.userProfile.role==="admin"?"student":"admin"),disabled:x,className:`flex-1 py-3 px-4 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${m.userProfile.role==="admin"?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-600 border-slate-100"} border`,children:[m.userProfile.role==="admin"?d.jsx(oz,{className:"w-4 h-4"}):d.jsx(cz,{className:"w-4 h-4"}),m.userProfile.role==="admin"?"Remove Admin":"Make Admin"]})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Account Level"}),d.jsx("div",{className:"flex items-center gap-2 pt-0.5",children:d.jsx("div",{className:"flex-1 bg-indigo-50/50 dark:bg-indigo-500/10 border border-indigo-100/50 dark:border-indigo-500/20 rounded-2xl py-2.5 px-4 text-center",children:d.jsxs("span",{className:"text-sm font-black text-indigo-600 dark:text-indigo-400",children:["Level ",m.userProfile.level||1]})})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:"text-xs font-black text-slate-800 dark:text-white uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Du,{className:"w-4 h-4 text-amber-500"})," Granular Control"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-900/50 p-6 rounded-3xl border border-slate-100 dark:border-slate-700/50 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total XP"}),d.jsx(Bs,{className:"w-4 h-4 text-amber-500"})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("input",{type:"number",value:m.userProfile.xp||0,onChange:K=>q(m.id,"xp",parseInt(K.target.value)),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-2 px-4 text-sm font-black text-indigo-600"})})]}),d.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-900/50 p-6 rounded-3xl border border-slate-100 dark:border-slate-700/50 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Streak Days"}),d.jsx(yl,{className:"w-4 h-4 text-orange-500"})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("input",{type:"number",value:m.userProfile.currentStreak||0,onChange:K=>q(m.id,"currentStreak",parseInt(K.target.value)),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-2 px-4 text-sm font-black text-orange-600"})})]})]})]}),d.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700/50",children:[d.jsxs("h3",{className:"text-xs font-black text-rose-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[d.jsx(lb,{className:"w-4 h-4"})," Reset Controls"]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{className:"flex-1 py-3 bg-rose-50 hover:bg-rose-100 text-rose-600 text-[10px] font-black uppercase tracking-widest rounded-2xl transition-all",children:"Clear XP"}),d.jsx("button",{className:"flex-1 py-3 bg-rose-50 hover:bg-rose-100 text-rose-600 text-[10px] font-black uppercase tracking-widest rounded-2xl transition-all",children:"Reset Streak"})]})]})]}),d.jsxs("div",{className:"p-8 bg-slate-50/50 dark:bg-slate-900/30 border-t border-slate-50 dark:border-slate-700 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>p(null),className:"px-6 py-2.5 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 font-black text-[10px] uppercase tracking-widest rounded-xl shadow-sm border border-slate-100 dark:border-slate-700",children:"Dismiss"}),d.jsx("button",{onClick:()=>p(null),className:"px-6 py-2.5 bg-indigo-600 text-white font-black text-[10px] uppercase tracking-widest rounded-xl shadow-xl shadow-indigo-500/20",children:"Complete Audit"})]})]})]})})]})}function WB({children:t}){const{user:e,loading:n}=rr();return n?d.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:"Loading..."}):e?d.jsx(d.Fragment,{children:t}):d.jsx(TS,{to:"/login"})}function JB({children:t}){const{isAdmin:e}=St();return e?d.jsx(d.Fragment,{children:t}):d.jsx(TS,{to:"/",replace:!0})}function ZB(){return d.jsx(pz,{children:d.jsx(xz,{children:d.jsx(Yz,{children:d.jsx(N5,{basename:"/Study-Mate/",children:d.jsxs(s5,{children:[d.jsx(Cs,{path:"/login",element:d.jsx(KB,{})}),d.jsxs(Cs,{path:"/",element:d.jsx(WB,{children:d.jsx($B,{})}),children:[d.jsx(Cs,{index:!0,element:d.jsx(Rz,{})}),d.jsx(Cs,{path:"subject/:id",element:d.jsx(Lz,{})}),d.jsx(Cs,{path:"planner",element:d.jsx(XB,{})}),d.jsx(Cs,{path:"analytics",element:d.jsx($z,{})}),d.jsx(Cs,{path:"timer",element:d.jsx(Kz,{})}),d.jsx(Cs,{path:"chat",element:d.jsx(zB,{})}),d.jsx(Cs,{path:"settings",element:d.jsx(Fz,{})}),d.jsx(Cs,{path:"admin",element:d.jsx(JB,{children:d.jsx(QB,{})})})]})]})})})})})}class eF extends A.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),d.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),d.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}sj.createRoot(document.getElementById("root")).render(d.jsx(lS.StrictMode,{children:d.jsx(eF,{children:d.jsx(d7,{children:d.jsx(Uz,{children:d.jsx(Dz,{children:d.jsx(ZB,{})})})})})}));
