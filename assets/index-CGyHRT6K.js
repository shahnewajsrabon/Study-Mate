(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function rS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xg={exports:{}},qc={};var M1;function tI(){if(M1)return qc;M1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return qc.Fragment=e,qc.jsx=n,qc.jsxs=n,qc}var V1;function nI(){return V1||(V1=1,xg.exports=tI()),xg.exports}var g=nI(),_g={exports:{}},Oe={};var O1;function sI(){if(O1)return Oe;O1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,V={};function z(U,ee,ce){this.props=U,this.context=ee,this.refs=V,this.updater=ce||D}z.prototype.isReactComponent={},z.prototype.setState=function(U,ee){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ee,"setState")},z.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=z.prototype;function G(U,ee,ce){this.props=U,this.context=ee,this.refs=V,this.updater=ce||D}var te=G.prototype=new F;te.constructor=G,O(te,z.prototype),te.isPureReactComponent=!0;var re=Array.isArray;function he(){}var j={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function k(U,ee,ce){var ue=ce.ref;return{$$typeof:t,type:U,key:ee,ref:ue!==void 0?ue:null,props:ce}}function M(U,ee){return k(U.type,ee,U.props)}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function P(U){var ee={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return ee[ce]})}var I=/\/+/g;function pe(U,ee){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):ee.toString(36)}function ge(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(he,he):(U.status="pending",U.then(function(ee){U.status==="pending"&&(U.status="fulfilled",U.value=ee)},function(ee){U.status==="pending"&&(U.status="rejected",U.reason=ee)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function H(U,ee,ce,ue,Ae){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var le=!1;if(U===null)le=!0;else switch(De){case"bigint":case"string":case"number":le=!0;break;case"object":switch(U.$$typeof){case t:case e:le=!0;break;case v:return le=U._init,H(le(U._payload),ee,ce,ue,Ae)}}if(le)return Ae=Ae(U),le=ue===""?"."+pe(U,0):ue,re(Ae)?(ce="",le!=null&&(ce=le.replace(I,"$&/")+"/"),H(Ae,ee,ce,"",function(xt){return xt})):Ae!=null&&(R(Ae)&&(Ae=M(Ae,ce+(Ae.key==null||U&&U.key===Ae.key?"":(""+Ae.key).replace(I,"$&/")+"/")+le)),ee.push(Ae)),1;le=0;var Re=ue===""?".":ue+":";if(re(U))for(var Me=0;Me<U.length;Me++)ue=U[Me],De=Re+pe(ue,Me),le+=H(ue,ee,ce,De,Ae);else if(Me=S(U),typeof Me=="function")for(U=Me.call(U),Me=0;!(ue=U.next()).done;)ue=ue.value,De=Re+pe(ue,Me++),le+=H(ue,ee,ce,De,Ae);else if(De==="object"){if(typeof U.then=="function")return H(ge(U),ee,ce,ue,Ae);throw ee=String(U),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return le}function Z(U,ee,ce){if(U==null)return U;var ue=[],Ae=0;return H(U,ue,"","",function(De){return ee.call(ce,De,Ae++)}),ue}function $(U){if(U._status===-1){var ee=U._result;ee=ee(),ee.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=ee)}if(U._status===1)return U._result.default;throw U._result}var me=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Te={map:Z,forEach:function(U,ee,ce){Z(U,function(){ee.apply(this,arguments)},ce)},count:function(U){var ee=0;return Z(U,function(){ee++}),ee},toArray:function(U){return Z(U,function(ee){return ee})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Oe.Activity=b,Oe.Children=Te,Oe.Component=z,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=G,Oe.StrictMode=i,Oe.Suspense=f,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return j.H.useMemoCache(U)}},Oe.cache=function(U){return function(){return U.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(U,ee,ce){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ue=O({},U.props),Ae=U.key;if(ee!=null)for(De in ee.key!==void 0&&(Ae=""+ee.key),ee)!E.call(ee,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ee.ref===void 0||(ue[De]=ee[De]);var De=arguments.length-2;if(De===1)ue.children=ce;else if(1<De){for(var le=Array(De),Re=0;Re<De;Re++)le[Re]=arguments[Re+2];ue.children=le}return k(U.type,Ae,ue)},Oe.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Oe.createElement=function(U,ee,ce){var ue,Ae={},De=null;if(ee!=null)for(ue in ee.key!==void 0&&(De=""+ee.key),ee)E.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ae[ue]=ee[ue]);var le=arguments.length-2;if(le===1)Ae.children=ce;else if(1<le){for(var Re=Array(le),Me=0;Me<le;Me++)Re[Me]=arguments[Me+2];Ae.children=Re}if(U&&U.defaultProps)for(ue in le=U.defaultProps,le)Ae[ue]===void 0&&(Ae[ue]=le[ue]);return k(U,De,Ae)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:h,render:U}},Oe.isValidElement=R,Oe.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:$}},Oe.memo=function(U,ee){return{$$typeof:p,type:U,compare:ee===void 0?null:ee}},Oe.startTransition=function(U){var ee=j.T,ce={};j.T=ce;try{var ue=U(),Ae=j.S;Ae!==null&&Ae(ce,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(he,me)}catch(De){me(De)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),j.T=ee}},Oe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Oe.use=function(U){return j.H.use(U)},Oe.useActionState=function(U,ee,ce){return j.H.useActionState(U,ee,ce)},Oe.useCallback=function(U,ee){return j.H.useCallback(U,ee)},Oe.useContext=function(U){return j.H.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U,ee){return j.H.useDeferredValue(U,ee)},Oe.useEffect=function(U,ee){return j.H.useEffect(U,ee)},Oe.useEffectEvent=function(U){return j.H.useEffectEvent(U)},Oe.useId=function(){return j.H.useId()},Oe.useImperativeHandle=function(U,ee,ce){return j.H.useImperativeHandle(U,ee,ce)},Oe.useInsertionEffect=function(U,ee){return j.H.useInsertionEffect(U,ee)},Oe.useLayoutEffect=function(U,ee){return j.H.useLayoutEffect(U,ee)},Oe.useMemo=function(U,ee){return j.H.useMemo(U,ee)},Oe.useOptimistic=function(U,ee){return j.H.useOptimistic(U,ee)},Oe.useReducer=function(U,ee,ce){return j.H.useReducer(U,ee,ce)},Oe.useRef=function(U){return j.H.useRef(U)},Oe.useState=function(U){return j.H.useState(U)},Oe.useSyncExternalStore=function(U,ee,ce){return j.H.useSyncExternalStore(U,ee,ce)},Oe.useTransition=function(){return j.H.useTransition()},Oe.version="19.2.4",Oe}var P1;function py(){return P1||(P1=1,_g.exports=sI()),_g.exports}var N=py();const gy=rS(N);var wg={exports:{}},Gc={},Tg={exports:{}},Eg={};var L1;function iI(){return L1||(L1=1,(function(t){function e(H,Z){var $=H.length;H.push(Z);e:for(;0<$;){var me=$-1>>>1,Te=H[me];if(0<a(Te,Z))H[me]=Z,H[$]=Te,$=me;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Z=H[0],$=H.pop();if($!==Z){H[0]=$;e:for(var me=0,Te=H.length,U=Te>>>1;me<U;){var ee=2*(me+1)-1,ce=H[ee],ue=ee+1,Ae=H[ue];if(0>a(ce,$))ue<Te&&0>a(Ae,ce)?(H[me]=Ae,H[ue]=$,me=ue):(H[me]=ce,H[ee]=$,me=ee);else if(ue<Te&&0>a(Ae,$))H[me]=Ae,H[ue]=$,me=ue;else break e}}return Z}function a(H,Z){var $=H.sortIndex-Z.sortIndex;return $!==0?$:H.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],p=[],v=1,b=null,w=3,S=!1,D=!1,O=!1,V=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function te(H){for(var Z=n(p);Z!==null;){if(Z.callback===null)i(p);else if(Z.startTime<=H)i(p),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(p)}}function re(H){if(O=!1,te(H),!D)if(n(f)!==null)D=!0,he||(he=!0,P());else{var Z=n(p);Z!==null&&ge(re,Z.startTime-H)}}var he=!1,j=-1,E=5,k=-1;function M(){return V?!0:!(t.unstable_now()-k<E)}function R(){if(V=!1,he){var H=t.unstable_now();k=H;var Z=!0;try{e:{D=!1,O&&(O=!1,F(j),j=-1),S=!0;var $=w;try{t:{for(te(H),b=n(f);b!==null&&!(b.expirationTime>H&&M());){var me=b.callback;if(typeof me=="function"){b.callback=null,w=b.priorityLevel;var Te=me(b.expirationTime<=H);if(H=t.unstable_now(),typeof Te=="function"){b.callback=Te,te(H),Z=!0;break t}b===n(f)&&i(f),te(H)}else i(f);b=n(f)}if(b!==null)Z=!0;else{var U=n(p);U!==null&&ge(re,U.startTime-H),Z=!1}}break e}finally{b=null,w=$,S=!1}Z=void 0}}finally{Z?P():he=!1}}}var P;if(typeof G=="function")P=function(){G(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,pe=I.port2;I.port1.onmessage=R,P=function(){pe.postMessage(null)}}else P=function(){z(R,0)};function ge(H,Z){j=z(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var $=w;w=Z;try{return H()}finally{w=$}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=w;w=H;try{return Z()}finally{w=$}},t.unstable_scheduleCallback=function(H,Z,$){var me=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?me+$:me):$=me,H){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=$+Te,H={id:v++,callback:Z,priorityLevel:H,startTime:$,expirationTime:Te,sortIndex:-1},$>me?(H.sortIndex=$,e(p,H),n(f)===null&&H===n(p)&&(O?(F(j),j=-1):O=!0,ge(re,$-me))):(H.sortIndex=Te,e(f,H),D||S||(D=!0,he||(he=!0,P()))),H},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(H){var Z=w;return function(){var $=w;w=Z;try{return H.apply(this,arguments)}finally{w=$}}}})(Eg)),Eg}var U1;function rI(){return U1||(U1=1,Tg.exports=iI()),Tg.exports}var Sg={exports:{}},pn={};var z1;function aI(){if(z1)return pn;z1=1;var t=py();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,v)},pn.flushSync=function(f){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=p,i.p=v,i.d.f()}},pn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},pn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},pn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,b=h(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):v==="script"&&i.d.X(f,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},pn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=h(v,p.crossOrigin);i.d.L(f,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pn.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},pn.requestFormReset=function(f){i.d.r(f)},pn.unstable_batchedUpdates=function(f,p){return f(p)},pn.useFormState=function(f,p,v){return c.H.useFormState(f,p,v)},pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},pn.version="19.2.4",pn}var B1;function oI(){if(B1)return Sg.exports;B1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sg.exports=aI(),Sg.exports}var F1;function lI(){if(F1)return Gc;F1=1;var t=rI(),e=py(),n=oI();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),s;if(y===u)return f(m),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=y;else{for(var _=!1,A=m.child;A;){if(A===o){_=!0,o=m,u=y;break}if(A===u){_=!0,u=m,o=y;break}A=A.sibling}if(!_){for(A=y.child;A;){if(A===o){_=!0,o=y,u=m;break}if(A===u){_=!0,u=y,o=m;break}A=A.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),G=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=R&&s[R]||s["@@iterator"],typeof s=="function"?s:null)}var I=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===I?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case z:return"Profiler";case V:return"StrictMode";case re:return"Suspense";case he:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case G:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case te:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return r=s.displayName||null,r!==null?r:pe(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return pe(s(r))}catch{}}return null}var ge=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},me=[],Te=-1;function U(s){return{current:s}}function ee(s){0>Te||(s.current=me[Te],me[Te]=null,Te--)}function ce(s,r){Te++,me[Te]=s.current,s.current=r}var ue=U(null),Ae=U(null),De=U(null),le=U(null);function Re(s,r){switch(ce(De,r),ce(Ae,s),ce(ue,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?s1(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=s1(r),s=i1(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(ue),ce(ue,s)}function Me(){ee(ue),ee(Ae),ee(De)}function xt(s){s.memoizedState!==null&&ce(le,s);var r=ue.current,o=i1(r,s.type);r!==o&&(ce(Ae,s),ce(ue,o))}function kn(s){Ae.current===s&&(ee(ue),ee(Ae)),le.current===s&&(ee(le),zc._currentValue=$)}var Cn,wi;function tn(s){if(Cn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Cn=r&&r[1]||"",wi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cn+s+wi}var vs=!1;function ha(s,r){if(!s||vs)return"";vs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var X=J}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(J){X=J}s.call(ae.prototype)}}else{try{throw Error()}catch(J){X=J}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],A=y[1];if(_&&A){var L=_.split(`
`),Q=A.split(`
`);for(m=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(u===L.length||m===Q.length)for(u=L.length-1,m=Q.length-1;1<=u&&0<=m&&L[u]!==Q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(L[u]!==Q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||L[u]!==Q[m]){var ne=`
`+L[u].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=u&&0<=m);break}}}finally{vs=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?tn(o):""}function Bl(s,r){switch(s.tag){case 26:case 27:case 5:return tn(s.type);case 16:return tn("Lazy");case 13:return s.child!==r&&r!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return ha(s.type,!1);case 11:return ha(s.type.render,!1);case 1:return ha(s.type,!0);case 31:return tn("Activity");default:return""}}function Fl(s){try{var r="",o=null;do r+=Bl(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var jt=Object.prototype.hasOwnProperty,$t=t.unstable_scheduleCallback,ir=t.unstable_cancelCallback,wm=t.unstable_shouldYield,Xu=t.unstable_requestPaint,_n=t.unstable_now,da=t.unstable_getCurrentPriorityLevel,Hl=t.unstable_ImmediatePriority,ql=t.unstable_UserBlockingPriority,rr=t.unstable_NormalPriority,Tm=t.unstable_LowPriority,Wu=t.unstable_IdlePriority,Ju=t.log,Zu=t.unstable_setDisableYieldValue,bs=null,nn=null;function Jn(s){if(typeof Ju=="function"&&Zu(s),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(bs,s)}catch{}}var Ct=Math.clz32?Math.clz32:th,eh=Math.log,ho=Math.LN2;function th(s){return s>>>=0,s===0?32:31-(eh(s)/ho|0)|0}var zs=256,fa=262144,Mt=4194304;function Bs(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Fs(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var m=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?m=Bs(u):(_&=A,_!==0?m=Bs(_):o||(o=A&~s,o!==0&&(m=Bs(o))))):(A=u&~y,A!==0?m=Bs(A):_!==0?m=Bs(_):o||(o=u&~s,o!==0&&(m=Bs(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function xs(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Em(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nh(){var s=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),s}function Hs(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ma(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Sm(s,r,o,u,m,y){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,L=s.expirationTimes,Q=s.hiddenUpdates;for(o=_&~o;0<o;){var ne=31-Ct(o),ae=1<<ne;A[ne]=0,L[ne]=-1;var X=Q[ne];if(X!==null)for(Q[ne]=null,ne=0;ne<X.length;ne++){var J=X[ne];J!==null&&(J.lane&=-536870913)}o&=~ae}u!==0&&pa(s,u,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~r))}function pa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Ct(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Gl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-Ct(o),m=1<<u;m&r|s[u]&r&&(s[u]|=r),o&=~m}}function $l(s,r){var o=r&-r;return o=(o&42)!==0?1:ga(o),(o&(s.suspendedLanes|r))!==0?0:o}function ga(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ti(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sh(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:k1(s.type))}function _s(s,r){var o=Z.p;try{return Z.p=s,r()}finally{Z.p=o}}var ws=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ws,Wt="__reactProps$"+ws,qs="__reactContainer$"+ws,fo="__reactEvents$"+ws,Am="__reactListeners$"+ws,ih="__reactHandles$"+ws,rh="__reactResources$"+ws,Gs="__reactMarker$"+ws;function mo(s){delete s[Vt],delete s[Wt],delete s[fo],delete s[Am],delete s[ih]}function $s(s){var r=s[Vt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[qs]||o[Vt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=h1(s);s!==null;){if(o=s[Vt])return o;s=h1(s)}return r}s=o,o=s.parentNode}return null}function Zn(s){if(s=s[Vt]||s[qs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function zn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ks(s){var r=s[rh];return r||(r=s[rh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(s){s[Gs]=!0}var Kl=new Set,Yl={};function Ys(s,r){Qs(s,r),Qs(s+"Capture",r)}function Qs(s,r){for(Yl[s]=r,s=0;s<r.length;s++)Kl.add(r[s])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Wl={};function ah(s){return jt.call(Wl,s)?!0:jt.call(Xl,s)?!1:Ql.test(s)?Wl[s]=!0:(Xl[s]=!0,!1)}function po(s,r,o){if(ah(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Bn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Pt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Jt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ar(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jl(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function nt(s){if(!s._valueTracker){var r=ar(s)?"checked":"value";s._valueTracker=Jl(s,r,""+s[r])}}function ya(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=ar(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Xs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var va=/[\n"\\]/g;function Nn(s){return s.replace(va,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function go(s,r,o,u,m,y,_,A){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Jt(r)):s.value!==""+Jt(r)&&(s.value=""+Jt(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?Zl(s,_,Jt(r)):o!=null?Zl(s,_,Jt(o)):u!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Jt(A):s.removeAttribute("name")}function oh(s,r,o,u,m,y,_,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){nt(s);return}o=o!=null?""+Jt(o):"",r=r!=null?""+Jt(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),nt(s)}function Zl(s,r,o){r==="number"&&Xs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function or(s,r,o,u){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Jt(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function lh(s,r,o){if(r!=null&&(r=""+Jt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Jt(o):""}function lr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(ge(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Jt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),nt(s)}function Rn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var ch=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ec(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||ch.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function tc(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&ec(s,m,u)}else for(var y in r)r.hasOwnProperty(y)&&ec(s,y,r[y])}function yo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(s){return cr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ts(){}var nc=null;function es(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ur=null,Ws=null;function ba(s){var r=Zn(s);if(r&&(s=r.stateNode)){var o=s[Wt]||null;e:switch(s=r.stateNode,r.type){case"input":if(go(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Nn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var m=u[Wt]||null;if(!m)throw Error(i(90));go(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&ya(u)}break e;case"textarea":lh(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&or(s,!!o.multiple,r,!1)}}}var bo=!1;function hr(s,r,o){if(bo)return s(r,o);bo=!0;try{var u=s(r);return u}finally{if(bo=!1,(ur!==null||Ws!==null)&&(sd(),ur&&(r=ur,s=Ws,Ws=ur=null,ba(r),s)))for(r=0;r<s.length;r++)ba(s[r])}}function Es(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Wt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=!1;if(ts)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){xa=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{xa=!1}var Js=null,sc=null,_a=null;function ic(){if(_a)return _a;var s,r=sc,o=r.length,u,m="value"in Js?Js.value:Js.textContent,y=m.length;for(s=0;s<o&&r[s]===m[s];s++);var _=o-s;for(u=1;u<=_&&r[o-u]===m[y-u];u++);return _a=m.slice(s,1<u?1-u:void 0)}function wa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function Ss(){return!1}function sn(s){function r(o,u,m,y,_){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ei:Ss,this.isPropagationStopped=Ss,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),r}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=sn(Si),dr=b({},Si,{view:0,detail:0}),rc=sn(dr),fr,xo,ei,_o=b({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ei&&(ei&&s.type==="mousemove"?(fr=s.screenX-ei.screenX,xo=s.screenY-ei.screenY):xo=fr=0,ei=s),fr)},movementY:function(s){return"movementY"in s?s.movementY:xo}}),ac=sn(_o),Ta=b({},_o,{dataTransfer:0}),hh=sn(Ta),dh=b({},dr,{relatedTarget:0}),Ea=sn(dh),oc=b({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),fh=sn(oc),wo=b({},Si,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mh=sn(wo),ph=b({},Si,{data:0}),ti=sn(ph),gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=vh[s])?!!r[s]:!1}function mr(){return bh}var wn=b({},dr,{key:function(s){if(s.key){var r=gh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(s){return s.type==="keypress"?wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),xh=sn(wn),_h=b({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ai=sn(_h),d=b({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),x=sn(d),T=b({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=sn(T),K=b({},_o,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),W=sn(K),de=b({},Si,{newState:0,oldState:0}),Le=sn(de),Nt=[9,13,27,32],Ze=ts&&"CompositionEvent"in window,pt=null;ts&&"documentMode"in document&&(pt=document.documentMode);var ns=ts&&"TextEvent"in window&&!pt,ni=ts&&(!Ze||pt&&8<pt&&11>=pt),As=" ",ks=!1;function Sa(s,r){switch(s){case"keyup":return Nt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function To(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Eo=!1;function SN(s,r){switch(s){case"compositionend":return To(r);case"keypress":return r.which!==32?null:(ks=!0,As);case"textInput":return s=r.data,s===As&&ks?null:s;default:return null}}function AN(s,r){if(Eo)return s==="compositionend"||!Ze&&Sa(s,r)?(s=ic(),_a=sc=Js=null,Eo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ni&&r.locale!=="ko"?null:r.data;default:return null}}var kN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mb(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!kN[s.type]:r==="textarea"}function pb(s,r,o,u){ur?Ws?Ws.push(u):Ws=[u]:ur=u,r=ud(r,"onChange"),0<r.length&&(o=new Zs("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var lc=null,cc=null;function CN(s){W_(s,0)}function wh(s){var r=zn(s);if(ya(r))return s}function gb(s,r){if(s==="change")return r}var yb=!1;if(ts){var km;if(ts){var Cm="oninput"in document;if(!Cm){var vb=document.createElement("div");vb.setAttribute("oninput","return;"),Cm=typeof vb.oninput=="function"}km=Cm}else km=!1;yb=km&&(!document.documentMode||9<document.documentMode)}function bb(){lc&&(lc.detachEvent("onpropertychange",xb),cc=lc=null)}function xb(s){if(s.propertyName==="value"&&wh(cc)){var r=[];pb(r,cc,s,es(s)),hr(CN,r)}}function NN(s,r,o){s==="focusin"?(bb(),lc=r,cc=o,lc.attachEvent("onpropertychange",xb)):s==="focusout"&&bb()}function RN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wh(cc)}function IN(s,r){if(s==="click")return wh(r)}function DN(s,r){if(s==="input"||s==="change")return wh(r)}function jN(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Fn=typeof Object.is=="function"?Object.is:jN;function uc(s,r){if(Fn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!jt.call(r,m)||!Fn(s[m],r[m]))return!1}return!0}function _b(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wb(s,r){var o=_b(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_b(o)}}function Tb(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Tb(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Eb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Xs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Xs(s.document)}return r}function Nm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var MN=ts&&"documentMode"in document&&11>=document.documentMode,So=null,Rm=null,hc=null,Im=!1;function Sb(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Im||So==null||So!==Xs(u)||(u=So,"selectionStart"in u&&Nm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hc&&uc(hc,u)||(hc=u,u=ud(Rm,"onSelect"),0<u.length&&(r=new Zs("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=So)))}function Aa(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Ao={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},Dm={},Ab={};ts&&(Ab=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function ka(s){if(Dm[s])return Dm[s];if(!Ao[s])return s;var r=Ao[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ab)return Dm[s]=r[o];return s}var kb=ka("animationend"),Cb=ka("animationiteration"),Nb=ka("animationstart"),VN=ka("transitionrun"),ON=ka("transitionstart"),PN=ka("transitioncancel"),Rb=ka("transitionend"),Ib=new Map,jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jm.push("scrollEnd");function Cs(s,r){Ib.set(s,r),Ys(r,[s])}var Th=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ss=[],ko=0,Mm=0;function Eh(){for(var s=ko,r=Mm=ko=0;r<s;){var o=ss[r];ss[r++]=null;var u=ss[r];ss[r++]=null;var m=ss[r];ss[r++]=null;var y=ss[r];if(ss[r++]=null,u!==null&&m!==null){var _=u.pending;_===null?m.next=m:(m.next=_.next,_.next=m),u.pending=m}y!==0&&Db(o,m,y)}}function Sh(s,r,o,u){ss[ko++]=s,ss[ko++]=r,ss[ko++]=o,ss[ko++]=u,Mm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Vm(s,r,o,u){return Sh(s,r,o,u),Ah(s)}function Ca(s,r){return Sh(s,null,null,r),Ah(s)}function Db(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&r!==null&&(m=31-Ct(o),s=y.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=o|536870912),y):null}function Ah(s){if(50<jc)throw jc=0,qp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Co={};function LN(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(s,r,o,u){return new LN(s,r,o,u)}function Om(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ki(s,r){var o=s.alternate;return o===null?(o=Hn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function jb(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function kh(s,r,o,u,m,y){var _=0;if(u=s,typeof s=="function")Om(s)&&(_=1);else if(typeof s=="string")_=HR(s,o,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=Hn(31,o,r,m),s.elementType=k,s.lanes=y,s;case O:return Na(o.children,m,y,r);case V:_=8,m|=24;break;case z:return s=Hn(12,o,r,m|2),s.elementType=z,s.lanes=y,s;case re:return s=Hn(13,o,r,m),s.elementType=re,s.lanes=y,s;case he:return s=Hn(19,o,r,m),s.elementType=he,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case G:_=10;break e;case F:_=9;break e;case te:_=11;break e;case j:_=14;break e;case E:_=16,u=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Hn(_,o,r,m),r.elementType=s,r.type=u,r.lanes=y,r}function Na(s,r,o,u){return s=Hn(7,s,u,r),s.lanes=o,s}function Pm(s,r,o){return s=Hn(6,s,null,r),s.lanes=o,s}function Mb(s){var r=Hn(18,null,null,0);return r.stateNode=s,r}function Lm(s,r,o){return r=Hn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Vb=new WeakMap;function is(s,r){if(typeof s=="object"&&s!==null){var o=Vb.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Fl(r)},Vb.set(s,r),r)}return{value:s,source:r,stack:Fl(r)}}var No=[],Ro=0,Ch=null,dc=0,rs=[],as=0,pr=null,si=1,ii="";function Ci(s,r){No[Ro++]=dc,No[Ro++]=Ch,Ch=s,dc=r}function Ob(s,r,o){rs[as++]=si,rs[as++]=ii,rs[as++]=pr,pr=s;var u=si;s=ii;var m=32-Ct(u)-1;u&=~(1<<m),o+=1;var y=32-Ct(r)+m;if(30<y){var _=m-m%5;y=(u&(1<<_)-1).toString(32),u>>=_,m-=_,si=1<<32-Ct(r)+m|o<<m|u,ii=y+s}else si=1<<y|o<<m|u,ii=s}function Um(s){s.return!==null&&(Ci(s,1),Ob(s,1,0))}function zm(s){for(;s===Ch;)Ch=No[--Ro],No[Ro]=null,dc=No[--Ro],No[Ro]=null;for(;s===pr;)pr=rs[--as],rs[as]=null,ii=rs[--as],rs[as]=null,si=rs[--as],rs[as]=null}function Pb(s,r){rs[as++]=si,rs[as++]=ii,rs[as++]=pr,si=r.id,ii=r.overflow,pr=s}var rn=null,dt=null,Qe=!1,gr=null,os=!1,Bm=Error(i(519));function yr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fc(is(r,s)),Bm}function Lb(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Vt]=s,r[Wt]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Vc.length;o++)He(Vc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),oh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),lr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||t1(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=Ts),r=!0):r=!1,r||yr(s,!0)}function Ub(s){for(rn=s.return;rn;)switch(rn.tag){case 5:case 31:case 13:os=!1;return;case 27:case 3:os=!0;return;default:rn=rn.return}}function Io(s){if(s!==rn)return!1;if(!Qe)return Ub(s),Qe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||rg(s.type,s.memoizedProps)),o=!o),o&&dt&&yr(s),Ub(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));dt=u1(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));dt=u1(s)}else r===27?(r=dt,Ir(s.type)?(s=ug,ug=null,dt=s):dt=r):dt=rn?cs(s.stateNode.nextSibling):null;return!0}function Ra(){dt=rn=null,Qe=!1}function Fm(){var s=gr;return s!==null&&(Mn===null?Mn=s:Mn.push.apply(Mn,s),gr=null),s}function fc(s){gr===null?gr=[s]:gr.push(s)}var Hm=U(null),Ia=null,Ni=null;function vr(s,r,o){ce(Hm,r._currentValue),r._currentValue=o}function Ri(s){s._currentValue=Hm.current,ee(Hm)}function qm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Gm(s,r,o,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var _=m.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=m;for(var L=0;L<r.length;L++)if(A.context===r[L]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),qm(y.return,o,s),u||(_=null);break e}y=A.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(i(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),qm(_,o,s),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function Do(s,r,o,u){s=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var A=m.type;Fn(m.pendingProps.value,_.value)||(s!==null?s.push(A):s=[A])}}else if(m===le.current){if(_=m.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(zc):s=[zc])}m=m.return}s!==null&&Gm(r,s,o,u),r.flags|=262144}function Nh(s){for(s=s.firstContext;s!==null;){if(!Fn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Da(s){Ia=s,Ni=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function an(s){return zb(Ia,s)}function Rh(s,r){return Ia===null&&Da(s),zb(s,r)}function zb(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ni===null){if(s===null)throw Error(i(308));Ni=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ni=Ni.next=r;return o}var UN=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},zN=t.unstable_scheduleCallback,BN=t.unstable_NormalPriority,Lt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $m(){return{controller:new UN,data:new Map,refCount:0}}function mc(s){s.refCount--,s.refCount===0&&zN(BN,function(){s.controller.abort()})}var pc=null,Km=0,jo=0,Mo=null;function FN(s,r){if(pc===null){var o=pc=[];Km=0,jo=Xp(),Mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Km++,r.then(Bb,Bb),r}function Bb(){if(--Km===0&&pc!==null){Mo!==null&&(Mo.status="fulfilled");var s=pc;pc=null,jo=0,Mo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function HN(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Fb=H.S;H.S=function(s,r){S_=_n(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&FN(s,r),Fb!==null&&Fb(s,r)};var ja=U(null);function Ym(){var s=ja.current;return s!==null?s:ct.pooledCache}function Ih(s,r){r===null?ce(ja,ja.current):ce(ja,r.pool)}function Hb(){var s=Ym();return s===null?null:{parent:Lt._currentValue,pool:s}}var Vo=Error(i(460)),Qm=Error(i(474)),Dh=Error(i(542)),jh={then:function(){}};function qb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Gb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Ts,Ts),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Kb(s),s;default:if(typeof r.status=="string")r.then(Ts,Ts);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Kb(s),s}throw Va=r,Vo}}function Ma(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Va=o,Vo):o}}var Va=null;function $b(){if(Va===null)throw Error(i(459));var s=Va;return Va=null,s}function Kb(s){if(s===Vo||s===Dh)throw Error(i(483))}var Oo=null,gc=0;function Mh(s){var r=gc;return gc+=1,Oo===null&&(Oo=[]),Gb(Oo,s,r)}function yc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Vh(s,r){throw r.$$typeof===w?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Yb(s){function r(q,B){if(s){var Y=q.deletions;Y===null?(q.deletions=[B],q.flags|=16):Y.push(B)}}function o(q,B){if(!s)return null;for(;B!==null;)r(q,B),B=B.sibling;return null}function u(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function m(q,B){return q=ki(q,B),q.index=0,q.sibling=null,q}function y(q,B,Y){return q.index=Y,s?(Y=q.alternate,Y!==null?(Y=Y.index,Y<B?(q.flags|=67108866,B):Y):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function _(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function A(q,B,Y,se){return B===null||B.tag!==6?(B=Pm(Y,q.mode,se),B.return=q,B):(B=m(B,Y),B.return=q,B)}function L(q,B,Y,se){var ke=Y.type;return ke===O?ne(q,B,Y.props.children,se,Y.key):B!==null&&(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===E&&Ma(ke)===B.type)?(B=m(B,Y.props),yc(B,Y),B.return=q,B):(B=kh(Y.type,Y.key,Y.props,null,q.mode,se),yc(B,Y),B.return=q,B)}function Q(q,B,Y,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Lm(Y,q.mode,se),B.return=q,B):(B=m(B,Y.children||[]),B.return=q,B)}function ne(q,B,Y,se,ke){return B===null||B.tag!==7?(B=Na(Y,q.mode,se,ke),B.return=q,B):(B=m(B,Y),B.return=q,B)}function ae(q,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Pm(""+B,q.mode,Y),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return Y=kh(B.type,B.key,B.props,null,q.mode,Y),yc(Y,B),Y.return=q,Y;case D:return B=Lm(B,q.mode,Y),B.return=q,B;case E:return B=Ma(B),ae(q,B,Y)}if(ge(B)||P(B))return B=Na(B,q.mode,Y,null),B.return=q,B;if(typeof B.then=="function")return ae(q,Mh(B),Y);if(B.$$typeof===G)return ae(q,Rh(q,B),Y);Vh(q,B)}return null}function X(q,B,Y,se){var ke=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ke!==null?null:A(q,B,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===ke?L(q,B,Y,se):null;case D:return Y.key===ke?Q(q,B,Y,se):null;case E:return Y=Ma(Y),X(q,B,Y,se)}if(ge(Y)||P(Y))return ke!==null?null:ne(q,B,Y,se,null);if(typeof Y.then=="function")return X(q,B,Mh(Y),se);if(Y.$$typeof===G)return X(q,B,Rh(q,Y),se);Vh(q,Y)}return null}function J(q,B,Y,se,ke){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(Y)||null,A(B,q,""+se,ke);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return q=q.get(se.key===null?Y:se.key)||null,L(B,q,se,ke);case D:return q=q.get(se.key===null?Y:se.key)||null,Q(B,q,se,ke);case E:return se=Ma(se),J(q,B,Y,se,ke)}if(ge(se)||P(se))return q=q.get(Y)||null,ne(B,q,se,ke,null);if(typeof se.then=="function")return J(q,B,Y,Mh(se),ke);if(se.$$typeof===G)return J(q,B,Y,Rh(B,se),ke);Vh(B,se)}return null}function ve(q,B,Y,se){for(var ke=null,We=null,Ee=B,ze=B=0,Ge=null;Ee!==null&&ze<Y.length;ze++){Ee.index>ze?(Ge=Ee,Ee=null):Ge=Ee.sibling;var Je=X(q,Ee,Y[ze],se);if(Je===null){Ee===null&&(Ee=Ge);break}s&&Ee&&Je.alternate===null&&r(q,Ee),B=y(Je,B,ze),We===null?ke=Je:We.sibling=Je,We=Je,Ee=Ge}if(ze===Y.length)return o(q,Ee),Qe&&Ci(q,ze),ke;if(Ee===null){for(;ze<Y.length;ze++)Ee=ae(q,Y[ze],se),Ee!==null&&(B=y(Ee,B,ze),We===null?ke=Ee:We.sibling=Ee,We=Ee);return Qe&&Ci(q,ze),ke}for(Ee=u(Ee);ze<Y.length;ze++)Ge=J(Ee,q,ze,Y[ze],se),Ge!==null&&(s&&Ge.alternate!==null&&Ee.delete(Ge.key===null?ze:Ge.key),B=y(Ge,B,ze),We===null?ke=Ge:We.sibling=Ge,We=Ge);return s&&Ee.forEach(function(Or){return r(q,Or)}),Qe&&Ci(q,ze),ke}function Ne(q,B,Y,se){if(Y==null)throw Error(i(151));for(var ke=null,We=null,Ee=B,ze=B=0,Ge=null,Je=Y.next();Ee!==null&&!Je.done;ze++,Je=Y.next()){Ee.index>ze?(Ge=Ee,Ee=null):Ge=Ee.sibling;var Or=X(q,Ee,Je.value,se);if(Or===null){Ee===null&&(Ee=Ge);break}s&&Ee&&Or.alternate===null&&r(q,Ee),B=y(Or,B,ze),We===null?ke=Or:We.sibling=Or,We=Or,Ee=Ge}if(Je.done)return o(q,Ee),Qe&&Ci(q,ze),ke;if(Ee===null){for(;!Je.done;ze++,Je=Y.next())Je=ae(q,Je.value,se),Je!==null&&(B=y(Je,B,ze),We===null?ke=Je:We.sibling=Je,We=Je);return Qe&&Ci(q,ze),ke}for(Ee=u(Ee);!Je.done;ze++,Je=Y.next())Je=J(Ee,q,ze,Je.value,se),Je!==null&&(s&&Je.alternate!==null&&Ee.delete(Je.key===null?ze:Je.key),B=y(Je,B,ze),We===null?ke=Je:We.sibling=Je,We=Je);return s&&Ee.forEach(function(eI){return r(q,eI)}),Qe&&Ci(q,ze),ke}function lt(q,B,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===O&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:e:{for(var ke=Y.key;B!==null;){if(B.key===ke){if(ke=Y.type,ke===O){if(B.tag===7){o(q,B.sibling),se=m(B,Y.props.children),se.return=q,q=se;break e}}else if(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===E&&Ma(ke)===B.type){o(q,B.sibling),se=m(B,Y.props),yc(se,Y),se.return=q,q=se;break e}o(q,B);break}else r(q,B);B=B.sibling}Y.type===O?(se=Na(Y.props.children,q.mode,se,Y.key),se.return=q,q=se):(se=kh(Y.type,Y.key,Y.props,null,q.mode,se),yc(se,Y),se.return=q,q=se)}return _(q);case D:e:{for(ke=Y.key;B!==null;){if(B.key===ke)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){o(q,B.sibling),se=m(B,Y.children||[]),se.return=q,q=se;break e}else{o(q,B);break}else r(q,B);B=B.sibling}se=Lm(Y,q.mode,se),se.return=q,q=se}return _(q);case E:return Y=Ma(Y),lt(q,B,Y,se)}if(ge(Y))return ve(q,B,Y,se);if(P(Y)){if(ke=P(Y),typeof ke!="function")throw Error(i(150));return Y=ke.call(Y),Ne(q,B,Y,se)}if(typeof Y.then=="function")return lt(q,B,Mh(Y),se);if(Y.$$typeof===G)return lt(q,B,Rh(q,Y),se);Vh(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(o(q,B.sibling),se=m(B,Y),se.return=q,q=se):(o(q,B),se=Pm(Y,q.mode,se),se.return=q,q=se),_(q)):o(q,B)}return function(q,B,Y,se){try{gc=0;var ke=lt(q,B,Y,se);return Oo=null,ke}catch(Ee){if(Ee===Vo||Ee===Dh)throw Ee;var We=Hn(29,Ee,null,q.mode);return We.lanes=se,We.return=q,We}}}var Oa=Yb(!0),Qb=Yb(!1),br=!1;function Xm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _r(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Ah(s),Db(s,null,o),r}return Sh(s,u,r,o),Ah(s)}function vc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Gl(s,o)}}function Jm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Zm=!1;function bc(){if(Zm){var s=Mo;if(s!==null)throw s}}function xc(s,r,o,u){Zm=!1;var m=s.updateQueue;br=!1;var y=m.firstBaseUpdate,_=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var L=A,Q=L.next;L.next=null,_===null?y=Q:_.next=Q,_=L;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==_&&(A===null?ne.firstBaseUpdate=Q:A.next=Q,ne.lastBaseUpdate=L))}if(y!==null){var ae=m.baseState;_=0,ne=Q=L=null,A=y;do{var X=A.lane&-536870913,J=X!==A.lane;if(J?(qe&X)===X:(u&X)===X){X!==0&&X===jo&&(Zm=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=s,Ne=A;X=r;var lt=o;switch(Ne.tag){case 1:if(ve=Ne.payload,typeof ve=="function"){ae=ve.call(lt,ae,X);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ne.payload,X=typeof ve=="function"?ve.call(lt,ae,X):ve,X==null)break e;ae=b({},ae,X);break e;case 2:br=!0}}X=A.callback,X!==null&&(s.flags|=64,J&&(s.flags|=8192),J=m.callbacks,J===null?m.callbacks=[X]:J.push(X))}else J={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(Q=ne=J,L=ae):ne=ne.next=J,_|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;J=A,A=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ne===null&&(L=ae),m.baseState=L,m.firstBaseUpdate=Q,m.lastBaseUpdate=ne,y===null&&(m.shared.lanes=0),Ar|=_,s.lanes=_,s.memoizedState=ae}}function Xb(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Wb(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Xb(o[s],r)}var Po=U(null),Oh=U(0);function Jb(s,r){s=Ui,ce(Oh,s),ce(Po,r),Ui=s|r.baseLanes}function ep(){ce(Oh,Ui),ce(Po,Po.current)}function tp(){Ui=Oh.current,ee(Po),ee(Oh)}var qn=U(null),ls=null;function wr(s){var r=s.alternate;ce(Rt,Rt.current&1),ce(qn,s),ls===null&&(r===null||Po.current!==null||r.memoizedState!==null)&&(ls=s)}function np(s){ce(Rt,Rt.current),ce(qn,s),ls===null&&(ls=s)}function Zb(s){s.tag===22?(ce(Rt,Rt.current),ce(qn,s),ls===null&&(ls=s)):Tr()}function Tr(){ce(Rt,Rt.current),ce(qn,qn.current)}function Gn(s){ee(qn),ls===s&&(ls=null),ee(Rt)}var Rt=U(0);function Ph(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||lg(o)||cg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ii=0,Ue=null,at=null,Ut=null,Lh=!1,Lo=!1,Pa=!1,Uh=0,_c=0,Uo=null,qN=0;function _t(){throw Error(i(321))}function sp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Fn(s[o],r[o]))return!1;return!0}function ip(s,r,o,u,m,y){return Ii=y,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=s===null||s.memoizedState===null?Ox:bp,Pa=!1,y=o(u,m),Pa=!1,Lo&&(y=tx(r,o,u,m)),ex(s),y}function ex(s){H.H=Ec;var r=at!==null&&at.next!==null;if(Ii=0,Ut=at=Ue=null,Lh=!1,_c=0,Uo=null,r)throw Error(i(300));s===null||zt||(s=s.dependencies,s!==null&&Nh(s)&&(zt=!0))}function tx(s,r,o,u){Ue=s;var m=0;do{if(Lo&&(Uo=null),_c=0,Lo=!1,25<=m)throw Error(i(301));if(m+=1,Ut=at=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=Px,y=r(o,u)}while(Lo);return y}function GN(){var s=H.H,r=s.useState()[0];return r=typeof r.then=="function"?wc(r):r,s=s.useState()[0],(at!==null?at.memoizedState:null)!==s&&(Ue.flags|=1024),r}function rp(){var s=Uh!==0;return Uh=0,s}function ap(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function op(s){if(Lh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Lh=!1}Ii=0,Ut=at=Ue=null,Lo=!1,_c=Uh=0,Uo=null}function Tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ue.memoizedState=Ut=s:Ut=Ut.next=s,Ut}function It(){if(at===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=at.next;var r=Ut===null?Ue.memoizedState:Ut.next;if(r!==null)Ut=r,at=s;else{if(s===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));at=s,s={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ut===null?Ue.memoizedState=Ut=s:Ut=Ut.next=s}return Ut}function zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(s){var r=_c;return _c+=1,Uo===null&&(Uo=[]),s=Gb(Uo,s,r),r=Ue,(Ut===null?r.memoizedState:Ut.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?Ox:bp),s}function Bh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wc(s);if(s.$$typeof===G)return an(s)}throw Error(i(438,String(s)))}function lp(s){var r=null,o=Ue.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=zh(),Ue.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=M;return r.index++,o}function Di(s,r){return typeof r=="function"?r(s):r}function Fh(s){var r=It();return cp(r,at,s)}function cp(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=s.baseQueue,y=u.pending;if(y!==null){if(m!==null){var _=m.next;m.next=y.next,y.next=_}r.baseQueue=m=y,u.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{r=m.next;var A=_=null,L=null,Q=r,ne=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(qe&ae)===ae:(Ii&ae)===ae){var X=Q.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===jo&&(ne=!0);else if((Ii&X)===X){Q=Q.next,X===jo&&(ne=!0);continue}else ae={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(A=L=ae,_=y):L=L.next=ae,Ue.lanes|=X,Ar|=X;ae=Q.action,Pa&&o(y,ae),y=Q.hasEagerState?Q.eagerState:o(y,ae)}else X={lane:ae,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(A=L=X,_=y):L=L.next=X,Ue.lanes|=ae,Ar|=ae;Q=Q.next}while(Q!==null&&Q!==r);if(L===null?_=y:L.next=A,!Fn(y,s.memoizedState)&&(zt=!0,ne&&(o=Mo,o!==null)))throw o;s.memoizedState=y,s.baseState=_,s.baseQueue=L,u.lastRenderedState=y}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function up(s){var r=It(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do y=s(y,_.action),_=_.next;while(_!==m);Fn(y,r.memoizedState)||(zt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function nx(s,r,o){var u=Ue,m=It(),y=Qe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!Fn((at||m).memoizedState,o);if(_&&(m.memoizedState=o,zt=!0),m=m.queue,fp(rx.bind(null,u,m,s),[s]),m.getSnapshot!==r||_||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,zo(9,{destroy:void 0},ix.bind(null,u,m,o,r),null),ct===null)throw Error(i(349));y||(Ii&127)!==0||sx(u,r,o)}return o}function sx(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ue.updateQueue,r===null?(r=zh(),Ue.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function ix(s,r,o,u){r.value=o,r.getSnapshot=u,ax(r)&&ox(s)}function rx(s,r,o){return o(function(){ax(r)&&ox(s)})}function ax(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Fn(s,o)}catch{return!0}}function ox(s){var r=Ca(s,2);r!==null&&Vn(r,s,2)}function hp(s){var r=Tn();if(typeof s=="function"){var o=s;if(s=o(),Pa){Jn(!0);try{o()}finally{Jn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:s},r}function lx(s,r,o,u){return s.baseState=o,cp(s,at,typeof u=="function"?u:Di)}function $N(s,r,o,u,m){if(Gh(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};H.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,cx(r,y)):(y.next=o.next,r.pending=o.next=y)}}function cx(s,r){var o=r.action,u=r.payload,m=s.state;if(r.isTransition){var y=H.T,_={};H.T=_;try{var A=o(m,u),L=H.S;L!==null&&L(_,A),ux(s,r,A)}catch(Q){dp(s,r,Q)}finally{y!==null&&_.types!==null&&(y.types=_.types),H.T=y}}else try{y=o(m,u),ux(s,r,y)}catch(Q){dp(s,r,Q)}}function ux(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){hx(s,r,u)},function(u){return dp(s,r,u)}):hx(s,r,o)}function hx(s,r,o){r.status="fulfilled",r.value=o,dx(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,cx(s,o)))}function dp(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,dx(r),r=r.next;while(r!==u)}s.action=null}function dx(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function fx(s,r){return r}function mx(s,r){if(Qe){var o=ct.formState;if(o!==null){e:{var u=Ue;if(Qe){if(dt){t:{for(var m=dt,y=os;m.nodeType!==8;){if(!y){m=null;break t}if(m=cs(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){dt=cs(m.nextSibling),u=m.data==="F!";break e}}yr(u)}u=!1}u&&(r=o[0])}}return o=Tn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fx,lastRenderedState:r},o.queue=u,o=jx.bind(null,Ue,u),u.dispatch=o,u=hp(!1),y=vp.bind(null,Ue,!1,u.queue),u=Tn(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,o=$N.bind(null,Ue,m,y,o),m.dispatch=o,u.memoizedState=s,[r,o,!1]}function px(s){var r=It();return gx(r,at,s)}function gx(s,r,o){if(r=cp(s,r,fx)[0],s=Fh(Di)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=wc(r)}catch(_){throw _===Vo?Dh:_}else u=r;r=It();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(Ue.flags|=2048,zo(9,{destroy:void 0},KN.bind(null,m,o),null)),[u,y,s]}function KN(s,r){s.action=r}function yx(s){var r=It(),o=at;if(o!==null)return gx(r,o,s);It(),r=r.memoizedState,o=It();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function zo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=zh(),Ue.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function vx(){return It().memoizedState}function Hh(s,r,o,u){var m=Tn();Ue.flags|=s,m.memoizedState=zo(1|r,{destroy:void 0},o,u===void 0?null:u)}function qh(s,r,o,u){var m=It();u=u===void 0?null:u;var y=m.memoizedState.inst;at!==null&&u!==null&&sp(u,at.memoizedState.deps)?m.memoizedState=zo(r,y,o,u):(Ue.flags|=s,m.memoizedState=zo(1|r,y,o,u))}function bx(s,r){Hh(8390656,8,s,r)}function fp(s,r){qh(2048,8,s,r)}function YN(s){Ue.flags|=4;var r=Ue.updateQueue;if(r===null)r=zh(),Ue.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function xx(s){var r=It().memoizedState;return YN({ref:r,nextImpl:s}),function(){if((et&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function _x(s,r){return qh(4,2,s,r)}function wx(s,r){return qh(4,4,s,r)}function Tx(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Ex(s,r,o){o=o!=null?o.concat([s]):null,qh(4,4,Tx.bind(null,r,s),o)}function mp(){}function Sx(s,r){var o=It();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&sp(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function Ax(s,r){var o=It();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&sp(r,u[1]))return u[0];if(u=s(),Pa){Jn(!0);try{s()}finally{Jn(!1)}}return o.memoizedState=[u,r],u}function pp(s,r,o){return o===void 0||(Ii&1073741824)!==0&&(qe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=k_(),Ue.lanes|=s,Ar|=s,o)}function kx(s,r,o,u){return Fn(o,r)?o:Po.current!==null?(s=pp(s,o,u),Fn(s,r)||(zt=!0),s):(Ii&42)===0||(Ii&1073741824)!==0&&(qe&261930)===0?(zt=!0,s.memoizedState=o):(s=k_(),Ue.lanes|=s,Ar|=s,r)}function Cx(s,r,o,u,m){var y=Z.p;Z.p=y!==0&&8>y?y:8;var _=H.T,A={};H.T=A,vp(s,!1,r,o);try{var L=m(),Q=H.S;if(Q!==null&&Q(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ne=HN(L,u);Tc(s,r,ne,Yn(s))}else Tc(s,r,u,Yn(s))}catch(ae){Tc(s,r,{then:function(){},status:"rejected",reason:ae},Yn())}finally{Z.p=y,_!==null&&A.types!==null&&(_.types=A.types),H.T=_}}function QN(){}function gp(s,r,o,u){if(s.tag!==5)throw Error(i(476));var m=Nx(s).queue;Cx(s,m,r,$,o===null?QN:function(){return Rx(s),o(u)})}function Nx(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:$},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Rx(s){var r=Nx(s);r.next===null&&(r=s.alternate.memoizedState),Tc(s,r.next.queue,{},Yn())}function yp(){return an(zc)}function Ix(){return It().memoizedState}function Dx(){return It().memoizedState}function XN(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Yn();s=xr(o);var u=_r(r,s,o);u!==null&&(Vn(u,r,o),vc(u,r,o)),r={cache:$m()},s.payload=r;return}r=r.return}}function WN(s,r,o){var u=Yn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gh(s)?Mx(r,o):(o=Vm(s,r,o,u),o!==null&&(Vn(o,s,u),Vx(o,r,u)))}function jx(s,r,o){var u=Yn();Tc(s,r,o,u)}function Tc(s,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gh(s))Mx(r,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,A=y(_,o);if(m.hasEagerState=!0,m.eagerState=A,Fn(A,_))return Sh(s,r,m,0),ct===null&&Eh(),!1}catch{}if(o=Vm(s,r,m,u),o!==null)return Vn(o,s,u),Vx(o,r,u),!0}return!1}function vp(s,r,o,u){if(u={lane:2,revertLane:Xp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Gh(s)){if(r)throw Error(i(479))}else r=Vm(s,o,u,2),r!==null&&Vn(r,s,2)}function Gh(s){var r=s.alternate;return s===Ue||r!==null&&r===Ue}function Mx(s,r){Lo=Lh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Vx(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Gl(s,o)}}var Ec={readContext:an,use:Bh,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Ec.useEffectEvent=_t;var Ox={readContext:an,use:Bh,useCallback:function(s,r){return Tn().memoizedState=[s,r===void 0?null:r],s},useContext:an,useEffect:bx,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Hh(4194308,4,Tx.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Hh(4194308,4,s,r)},useInsertionEffect:function(s,r){Hh(4,2,s,r)},useMemo:function(s,r){var o=Tn();r=r===void 0?null:r;var u=s();if(Pa){Jn(!0);try{s()}finally{Jn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=Tn();if(o!==void 0){var m=o(r);if(Pa){Jn(!0);try{o(r)}finally{Jn(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=WN.bind(null,Ue,s),[u.memoizedState,s]},useRef:function(s){var r=Tn();return s={current:s},r.memoizedState=s},useState:function(s){s=hp(s);var r=s.queue,o=jx.bind(null,Ue,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:mp,useDeferredValue:function(s,r){var o=Tn();return pp(o,s,r)},useTransition:function(){var s=hp(!1);return s=Cx.bind(null,Ue,s.queue,!0,!1),Tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Ue,m=Tn();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ct===null)throw Error(i(349));(qe&127)!==0||sx(u,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,bx(rx.bind(null,u,y,s),[s]),u.flags|=2048,zo(9,{destroy:void 0},ix.bind(null,u,y,o,r),null),o},useId:function(){var s=Tn(),r=ct.identifierPrefix;if(Qe){var o=ii,u=si;o=(u&~(1<<32-Ct(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Uh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=qN++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:yp,useFormState:mx,useActionState:mx,useOptimistic:function(s){var r=Tn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=vp.bind(null,Ue,!0,o),o.dispatch=r,[s,r]},useMemoCache:lp,useCacheRefresh:function(){return Tn().memoizedState=XN.bind(null,Ue)},useEffectEvent:function(s){var r=Tn(),o={impl:s};return r.memoizedState=o,function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},bp={readContext:an,use:Bh,useCallback:Sx,useContext:an,useEffect:fp,useImperativeHandle:Ex,useInsertionEffect:_x,useLayoutEffect:wx,useMemo:Ax,useReducer:Fh,useRef:vx,useState:function(){return Fh(Di)},useDebugValue:mp,useDeferredValue:function(s,r){var o=It();return kx(o,at.memoizedState,s,r)},useTransition:function(){var s=Fh(Di)[0],r=It().memoizedState;return[typeof s=="boolean"?s:wc(s),r]},useSyncExternalStore:nx,useId:Ix,useHostTransitionStatus:yp,useFormState:px,useActionState:px,useOptimistic:function(s,r){var o=It();return lx(o,at,s,r)},useMemoCache:lp,useCacheRefresh:Dx};bp.useEffectEvent=xx;var Px={readContext:an,use:Bh,useCallback:Sx,useContext:an,useEffect:fp,useImperativeHandle:Ex,useInsertionEffect:_x,useLayoutEffect:wx,useMemo:Ax,useReducer:up,useRef:vx,useState:function(){return up(Di)},useDebugValue:mp,useDeferredValue:function(s,r){var o=It();return at===null?pp(o,s,r):kx(o,at.memoizedState,s,r)},useTransition:function(){var s=up(Di)[0],r=It().memoizedState;return[typeof s=="boolean"?s:wc(s),r]},useSyncExternalStore:nx,useId:Ix,useHostTransitionStatus:yp,useFormState:yx,useActionState:yx,useOptimistic:function(s,r){var o=It();return at!==null?lx(o,at,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:lp,useCacheRefresh:Dx};Px.useEffectEvent=xx;function xp(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var _p={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Yn(),m=xr(u);m.payload=r,o!=null&&(m.callback=o),r=_r(s,m,u),r!==null&&(Vn(r,s,u),vc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Yn(),m=xr(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=_r(s,m,u),r!==null&&(Vn(r,s,u),vc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Yn(),u=xr(o);u.tag=2,r!=null&&(u.callback=r),r=_r(s,u,o),r!==null&&(Vn(r,s,o),vc(r,s,o))}};function Lx(s,r,o,u,m,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,_):r.prototype&&r.prototype.isPureReactComponent?!uc(o,u)||!uc(m,y):!0}function Ux(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&_p.enqueueReplaceState(r,r.state,null)}function La(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function zx(s){Th(s)}function Bx(s){console.error(s)}function Fx(s){Th(s)}function $h(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Hx(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function wp(s,r,o){return o=xr(o),o.tag=3,o.payload={element:null},o.callback=function(){$h(s,r)},o}function qx(s){return s=xr(s),s.tag=3,s}function Gx(s,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;s.payload=function(){return m(y)},s.callback=function(){Hx(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Hx(r,o,u),typeof m!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function JN(s,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Do(r,o,m,!0),o=qn.current,o!==null){switch(o.tag){case 31:case 13:return ls===null?id():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===jh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Kp(s,u,m)),!1;case 22:return o.flags|=65536,u===jh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Kp(s,u,m)),!1}throw Error(i(435,o.tag))}return Kp(s,u,m),id(),!1}if(Qe)return r=qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==Bm&&(s=Error(i(422),{cause:u}),fc(is(s,o)))):(u!==Bm&&(r=Error(i(423),{cause:u}),fc(is(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=is(u,o),m=wp(s.stateNode,u,m),Jm(s,m),wt!==4&&(wt=2)),!1;var y=Error(i(520),{cause:u});if(y=is(y,o),Dc===null?Dc=[y]:Dc.push(y),wt!==4&&(wt=2),r===null)return!0;u=is(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=wp(o.stateNode,u,s),Jm(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(kr===null||!kr.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=qx(m),Gx(m,s,o,u),Jm(o,m),!1}o=o.return}while(o!==null);return!1}var Tp=Error(i(461)),zt=!1;function on(s,r,o,u){r.child=s===null?Qb(r,null,o,u):Oa(r,s.child,o,u)}function $x(s,r,o,u,m){o=o.render;var y=r.ref;if("ref"in u){var _={};for(var A in u)A!=="ref"&&(_[A]=u[A])}else _=u;return Da(r),u=ip(s,r,o,_,y,m),A=rp(),s!==null&&!zt?(ap(s,r,m),ji(s,r,m)):(Qe&&A&&Um(r),r.flags|=1,on(s,r,u,m),r.child)}function Kx(s,r,o,u,m){if(s===null){var y=o.type;return typeof y=="function"&&!Om(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Yx(s,r,y,u,m)):(s=kh(o.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!Ip(s,m)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:uc,o(_,u)&&s.ref===r.ref)return ji(s,r,m)}return r.flags|=1,s=ki(y,u),s.ref=r.ref,s.return=r,r.child=s}function Yx(s,r,o,u,m){if(s!==null){var y=s.memoizedProps;if(uc(y,u)&&s.ref===r.ref)if(zt=!1,r.pendingProps=u=y,Ip(s,m))(s.flags&131072)!==0&&(zt=!0);else return r.lanes=s.lanes,ji(s,r,m)}return Ep(s,r,o,u,m)}function Qx(s,r,o,u){var m=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,r.child=null;return Xx(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ih(r,y!==null?y.cachePool:null),y!==null?Jb(r,y):ep(),Zb(r);else return u=r.lanes=536870912,Xx(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(Ih(r,y.cachePool),Jb(r,y),Tr(),r.memoizedState=null):(s!==null&&Ih(r,null),ep(),Tr());return on(s,r,m,o),r.child}function Sc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Xx(s,r,o,u,m){var y=Ym();return y=y===null?null:{parent:Lt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&Ih(r,null),ep(),Zb(r),s!==null&&Do(s,r,u,!0),r.childLanes=m,null}function Kh(s,r){return r=Qh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Wx(s,r,o){return Oa(r,s.child,null,o),s=Kh(r,r.pendingProps),s.flags|=2,Gn(r),r.memoizedState=null,s}function ZN(s,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Qe){if(u.mode==="hidden")return s=Kh(r,u),r.lanes=536870912,Sc(null,s);if(np(r),(s=dt)?(s=c1(s,os),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:pr!==null?{id:si,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},o=Mb(s),o.return=r,r.child=o,rn=r,dt=null)):s=null,s===null)throw yr(r);return r.lanes=536870912,null}return Kh(r,u)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(np(r),m)if(r.flags&256)r.flags&=-257,r=Wx(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(zt||Do(s,r,o,!1),m=(o&s.childLanes)!==0,zt||m){if(u=ct,u!==null&&(_=$l(u,o),_!==0&&_!==y.retryLane))throw y.retryLane=_,Ca(s,_),Vn(u,s,_),Tp;id(),r=Wx(s,r,o)}else s=y.treeContext,dt=cs(_.nextSibling),rn=r,Qe=!0,gr=null,os=!1,s!==null&&Pb(r,s),r=Kh(r,u),r.flags|=4096;return r}return s=ki(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Yh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Ep(s,r,o,u,m){return Da(r),o=ip(s,r,o,u,void 0,m),u=rp(),s!==null&&!zt?(ap(s,r,m),ji(s,r,m)):(Qe&&u&&Um(r),r.flags|=1,on(s,r,o,m),r.child)}function Jx(s,r,o,u,m,y){return Da(r),r.updateQueue=null,o=tx(r,u,o,m),ex(s),u=rp(),s!==null&&!zt?(ap(s,r,y),ji(s,r,y)):(Qe&&u&&Um(r),r.flags|=1,on(s,r,o,y),r.child)}function Zx(s,r,o,u,m){if(Da(r),r.stateNode===null){var y=Co,_=o.contextType;typeof _=="object"&&_!==null&&(y=an(_)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=_p,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Xm(r),_=o.contextType,y.context=typeof _=="object"&&_!==null?an(_):Co,y.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(xp(r,o,_,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&_p.enqueueReplaceState(y,y.state,null),xc(r,u,y,m),bc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var A=r.memoizedProps,L=La(o,A);y.props=L;var Q=y.context,ne=o.contextType;_=Co,typeof ne=="object"&&ne!==null&&(_=an(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||Q!==_)&&Ux(r,y,u,_),br=!1;var X=r.memoizedState;y.state=X,xc(r,u,y,m),bc(),Q=r.memoizedState,A||X!==Q||br?(typeof ae=="function"&&(xp(r,o,ae,u),Q=r.memoizedState),(L=br||Lx(r,o,L,u,X,Q,_))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Q),y.props=u,y.state=Q,y.context=_,u=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Wm(s,r),_=r.memoizedProps,ne=La(o,_),y.props=ne,ae=r.pendingProps,X=y.context,Q=o.contextType,L=Co,typeof Q=="object"&&Q!==null&&(L=an(Q)),A=o.getDerivedStateFromProps,(Q=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==ae||X!==L)&&Ux(r,y,u,L),br=!1,X=r.memoizedState,y.state=X,xc(r,u,y,m),bc();var J=r.memoizedState;_!==ae||X!==J||br||s!==null&&s.dependencies!==null&&Nh(s.dependencies)?(typeof A=="function"&&(xp(r,o,A,u),J=r.memoizedState),(ne=br||Lx(r,o,ne,u,X,J,L)||s!==null&&s.dependencies!==null&&Nh(s.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,J,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,J,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=J),y.props=u,y.state=J,y.context=L,u=ne):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Yh(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=Oa(r,s.child,null,m),r.child=Oa(r,null,o,m)):on(s,r,o,m),r.memoizedState=y.state,s=r.child):s=ji(s,r,m),s}function e_(s,r,o,u){return Ra(),r.flags|=256,on(s,r,o,u),r.child}var Sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ap(s){return{baseLanes:s,cachePool:Hb()}}function kp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Kn),s}function t_(s,r,o){var u=r.pendingProps,m=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(Rt.current&2)!==0),_&&(m=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(Qe){if(m?wr(r):Tr(),(s=dt)?(s=c1(s,os),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:pr!==null?{id:si,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},o=Mb(s),o.return=r,r.child=o,rn=r,dt=null)):s=null,s===null)throw yr(r);return cg(s)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,m?(Tr(),m=r.mode,A=Qh({mode:"hidden",children:A},m),u=Na(u,m,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=Ap(o),u.childLanes=kp(s,_,o),r.memoizedState=Sp,Sc(null,u)):(wr(r),Cp(r,A))}var L=s.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(y)r.flags&256?(wr(r),r.flags&=-257,r=Np(s,r,o)):r.memoizedState!==null?(Tr(),r.child=s.child,r.flags|=128,r=null):(Tr(),A=u.fallback,m=r.mode,u=Qh({mode:"visible",children:u.children},m),A=Na(A,m,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,Oa(r,s.child,null,o),u=r.child,u.memoizedState=Ap(o),u.childLanes=kp(s,_,o),r.memoizedState=Sp,r=Sc(null,u));else if(wr(r),cg(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var Q=_.dgst;_=Q,u=Error(i(419)),u.stack="",u.digest=_,fc({value:u,source:null,stack:null}),r=Np(s,r,o)}else if(zt||Do(s,r,o,!1),_=(o&s.childLanes)!==0,zt||_){if(_=ct,_!==null&&(u=$l(_,o),u!==0&&u!==L.retryLane))throw L.retryLane=u,Ca(s,u),Vn(_,s,u),Tp;lg(A)||id(),r=Np(s,r,o)}else lg(A)?(r.flags|=192,r.child=s.child,r=null):(s=L.treeContext,dt=cs(A.nextSibling),rn=r,Qe=!0,gr=null,os=!1,s!==null&&Pb(r,s),r=Cp(r,u.children),r.flags|=4096);return r}return m?(Tr(),A=u.fallback,m=r.mode,L=s.child,Q=L.sibling,u=ki(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,Q!==null?A=ki(Q,A):(A=Na(A,m,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,Sc(null,u),u=r.child,A=s.child.memoizedState,A===null?A=Ap(o):(m=A.cachePool,m!==null?(L=Lt._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=Hb(),A={baseLanes:A.baseLanes|o,cachePool:m}),u.memoizedState=A,u.childLanes=kp(s,_,o),r.memoizedState=Sp,Sc(s.child,u)):(wr(r),o=s.child,s=o.sibling,o=ki(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function Cp(s,r){return r=Qh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Qh(s,r){return s=Hn(22,s,null,r),s.lanes=0,s}function Np(s,r,o){return Oa(r,s.child,null,o),s=Cp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function n_(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),qm(s.return,r,o)}function Rp(s,r,o,u,m,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=m,_.treeForkCount=y)}function s_(s,r,o){var u=r.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var _=Rt.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,ce(Rt,_),on(s,r,u,o),u=Qe?dc:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&n_(s,o,r);else if(s.tag===19)n_(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Ph(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Rp(r,!1,m,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Ph(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}Rp(r,!0,o,null,y,u);break;case"together":Rp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ji(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Ar|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Do(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=ki(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=ki(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Ip(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Nh(s)))}function eR(s,r,o){switch(r.tag){case 3:Re(r,r.stateNode.containerInfo),vr(r,Lt,s.memoizedState.cache),Ra();break;case 27:case 5:xt(r);break;case 4:Re(r,r.stateNode.containerInfo);break;case 10:vr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,np(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(wr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?t_(s,r,o):(wr(r),s=ji(s,r,o),s!==null?s.sibling:null);wr(r);break;case 19:var m=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Do(s,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return s_(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Rt,Rt.current),u)break;return null;case 22:return r.lanes=0,Qx(s,r,o,r.pendingProps);case 24:vr(r,Lt,s.memoizedState.cache)}return ji(s,r,o)}function i_(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)zt=!0;else{if(!Ip(s,o)&&(r.flags&128)===0)return zt=!1,eR(s,r,o);zt=(s.flags&131072)!==0}else zt=!1,Qe&&(r.flags&1048576)!==0&&Ob(r,dc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Ma(r.elementType),r.type=s,typeof s=="function")Om(s)?(u=La(s,u),r.tag=1,r=Zx(null,r,s,u,o)):(r.tag=0,r=Ep(null,r,s,u,o));else{if(s!=null){var m=s.$$typeof;if(m===te){r.tag=11,r=$x(null,r,s,u,o);break e}else if(m===j){r.tag=14,r=Kx(null,r,s,u,o);break e}}throw r=pe(s)||s,Error(i(306,r,""))}}return r;case 0:return Ep(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=La(u,r.pendingProps),Zx(s,r,u,m,o);case 3:e:{if(Re(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;m=y.element,Wm(s,r),xc(r,u,null,o);var _=r.memoizedState;if(u=_.cache,vr(r,Lt,u),u!==y.cache&&Gm(r,[Lt],o,!0),bc(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=e_(s,r,u,o);break e}else if(u!==m){m=is(Error(i(424)),r),fc(m),r=e_(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,dt=cs(s.firstChild),rn=r,Qe=!0,gr=null,os=!0,o=Qb(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ra(),u===m){r=ji(s,r,o);break e}on(s,r,u,o)}r=r.child}return r;case 26:return Yh(s,r),s===null?(o=p1(r.type,null,r.pendingProps,null))?r.memoizedState=o:Qe||(o=r.type,s=r.pendingProps,u=hd(De.current).createElement(o),u[Vt]=r,u[Wt]=s,ln(u,o,s),Ot(u),r.stateNode=u):r.memoizedState=p1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return xt(r),s===null&&Qe&&(u=r.stateNode=d1(r.type,r.pendingProps,De.current),rn=r,os=!0,m=dt,Ir(r.type)?(ug=m,dt=cs(u.firstChild)):dt=m),on(s,r,r.pendingProps.children,o),Yh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Qe&&((m=u=dt)&&(u=RR(u,r.type,r.pendingProps,os),u!==null?(r.stateNode=u,rn=r,dt=cs(u.firstChild),os=!1,m=!0):m=!1),m||yr(r)),xt(r),m=r.type,y=r.pendingProps,_=s!==null?s.memoizedProps:null,u=y.children,rg(m,y)?u=null:_!==null&&rg(m,_)&&(r.flags|=32),r.memoizedState!==null&&(m=ip(s,r,GN,null,null,o),zc._currentValue=m),Yh(s,r),on(s,r,u,o),r.child;case 6:return s===null&&Qe&&((s=o=dt)&&(o=IR(o,r.pendingProps,os),o!==null?(r.stateNode=o,rn=r,dt=null,s=!0):s=!1),s||yr(r)),null;case 13:return t_(s,r,o);case 4:return Re(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Oa(r,null,u,o):on(s,r,u,o),r.child;case 11:return $x(s,r,r.type,r.pendingProps,o);case 7:return on(s,r,r.pendingProps,o),r.child;case 8:return on(s,r,r.pendingProps.children,o),r.child;case 12:return on(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,vr(r,r.type,u.value),on(s,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Da(r),m=an(m),u=u(m),r.flags|=1,on(s,r,u,o),r.child;case 14:return Kx(s,r,r.type,r.pendingProps,o);case 15:return Yx(s,r,r.type,r.pendingProps,o);case 19:return s_(s,r,o);case 31:return ZN(s,r,o);case 22:return Qx(s,r,o,r.pendingProps);case 24:return Da(r),u=an(Lt),s===null?(m=Ym(),m===null&&(m=ct,y=$m(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:u,cache:m},Xm(r),vr(r,Lt,m)):((s.lanes&o)!==0&&(Wm(s,r),xc(r,null,null,o),bc()),m=s.memoizedState,y=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),vr(r,Lt,u)):(u=y.cache,vr(r,Lt,u),u!==m.cache&&Gm(r,[Lt],o,!0))),on(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Mi(s){s.flags|=4}function Dp(s,r,o,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(I_())s.flags|=8192;else throw Va=jh,Qm}else s.flags&=-16777217}function r_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!x1(r))if(I_())s.flags|=8192;else throw Va=jh,Qm}function Xh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?nh():536870912,s.lanes|=r,qo|=r)}function Ac(s,r){if(!Qe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ft(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function tR(s,r,o){var u=r.pendingProps;switch(zm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ri(Lt),Me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Io(r)?Mi(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fm())),ft(r),null;case 26:var m=r.type,y=r.memoizedState;return s===null?(Mi(r),y!==null?(ft(r),r_(r,y)):(ft(r),Dp(r,m,null,u,o))):y?y!==s.memoizedState?(Mi(r),ft(r),r_(r,y)):(ft(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Mi(r),ft(r),Dp(r,m,s,u,o)),null;case 27:if(kn(r),o=De.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Mi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}s=ue.current,Io(r)?Lb(r):(s=d1(m,u,o),r.stateNode=s,Mi(r))}return ft(r),null;case 5:if(kn(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Mi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}if(y=ue.current,Io(r))Lb(r);else{var _=hd(De.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(m,{is:u.is}):_.createElement(m)}}y[Vt]=r,y[Wt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(ln(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Mi(r)}}return ft(r),Dp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Mi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=De.current,Io(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,m=rn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Vt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||t1(s.nodeValue,o)),s||yr(r,!0)}else s=hd(s).createTextNode(u),s[Vt]=r,r.stateNode=s}return ft(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Io(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Vt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),s=!1}else o=Fm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Gn(r),r):(Gn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ft(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Io(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Vt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),m=!1}else m=Fm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Gn(r),r):(Gn(r),null)}return Gn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Xh(r,r.updateQueue),ft(r),null);case 4:return Me(),s===null&&eg(r.stateNode.containerInfo),ft(r),null;case 10:return Ri(r.type),ft(r),null;case 19:if(ee(Rt),u=r.memoizedState,u===null)return ft(r),null;if(m=(r.flags&128)!==0,y=u.rendering,y===null)if(m)Ac(u,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Ph(s),y!==null){for(r.flags|=128,Ac(u,!1),s=y.updateQueue,r.updateQueue=s,Xh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)jb(o,s),o=o.sibling;return ce(Rt,Rt.current&1|2),Qe&&Ci(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&_n()>td&&(r.flags|=128,m=!0,Ac(u,!1),r.lanes=4194304)}else{if(!m)if(s=Ph(y),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,Xh(r,s),Ac(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Qe)return ft(r),null}else 2*_n()-u.renderingStartTime>td&&o!==536870912&&(r.flags|=128,m=!0,Ac(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=_n(),s.sibling=null,o=Rt.current,ce(Rt,m?o&1|2:o&1),Qe&&Ci(r,u.treeForkCount),s):(ft(r),null);case 22:case 23:return Gn(r),tp(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),o=r.updateQueue,o!==null&&Xh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&ee(ja),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ri(Lt),ft(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function nR(s,r){switch(zm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ri(Lt),Me(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return kn(r),null;case 31:if(r.memoizedState!==null){if(Gn(r),r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Gn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ee(Rt),null;case 4:return Me(),null;case 10:return Ri(r.type),null;case 22:case 23:return Gn(r),tp(),s!==null&&ee(ja),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ri(Lt),null;case 25:return null;default:return null}}function a_(s,r){switch(zm(r),r.tag){case 3:Ri(Lt),Me();break;case 26:case 27:case 5:kn(r);break;case 4:Me();break;case 31:r.memoizedState!==null&&Gn(r);break;case 13:Gn(r);break;case 19:ee(Rt);break;case 10:Ri(r.type);break;case 22:case 23:Gn(r),tp(),s!==null&&ee(ja);break;case 24:Ri(Lt)}}function kc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&s)===s){u=void 0;var y=o.create,_=o.inst;u=y(),_.destroy=u}o=o.next}while(o!==m)}}catch(A){it(r,r.return,A)}}function Er(s,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&s)===s){var _=u.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,m=r;var L=o,Q=A;try{Q()}catch(ne){it(m,L,ne)}}}u=u.next}while(u!==y)}}catch(ne){it(r,r.return,ne)}}function o_(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Wb(r,o)}catch(u){it(s,s.return,u)}}}function l_(s,r,o){o.props=La(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){it(s,r,u)}}function Cc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(m){it(s,r,m)}}function ri(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){it(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){it(s,r,m)}else o.current=null}function c_(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){it(s,s.return,m)}}function jp(s,r,o){try{var u=s.stateNode;ER(u,s.type,o,r),u[Wt]=r}catch(m){it(s,s.return,m)}}function u_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ir(s.type)||s.tag===4}function Mp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||u_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ir(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ts));else if(u!==4&&(u===27&&Ir(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Vp(s,r,o),s=s.sibling;s!==null;)Vp(s,r,o),s=s.sibling}function Wh(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Ir(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Wh(s,r,o),s=s.sibling;s!==null;)Wh(s,r,o),s=s.sibling}function h_(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);ln(r,u,o),r[Vt]=s,r[Wt]=o}catch(y){it(s,s.return,y)}}var Vi=!1,Bt=!1,Op=!1,d_=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function sR(s,r){if(s=s.containerInfo,sg=vd,s=Eb(s),Nm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,A=-1,L=-1,Q=0,ne=0,ae=s,X=null;t:for(;;){for(var J;ae!==o||m!==0&&ae.nodeType!==3||(A=_+m),ae!==y||u!==0&&ae.nodeType!==3||(L=_+u),ae.nodeType===3&&(_+=ae.nodeValue.length),(J=ae.firstChild)!==null;)X=ae,ae=J;for(;;){if(ae===s)break t;if(X===o&&++Q===m&&(A=_),X===y&&++ne===u&&(L=_),(J=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=J}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(ig={focusedElem:s,selectionRange:o},vd=!1,Zt=r;Zt!==null;)if(r=Zt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Zt=s;else for(;Zt!==null;){switch(r=Zt,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var ve=La(o.type,m);s=u.getSnapshotBeforeUpdate(ve,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){it(o,o.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)og(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":og(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Zt=s;break}Zt=r.return}}function f_(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Pi(s,o),u&4&&kc(5,o);break;case 1:if(Pi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){it(o,o.return,_)}else{var m=La(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){it(o,o.return,_)}}u&64&&o_(o),u&512&&Cc(o,o.return);break;case 3:if(Pi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Wb(s,r)}catch(_){it(o,o.return,_)}}break;case 27:r===null&&u&4&&h_(o);case 26:case 5:Pi(s,o),r===null&&u&4&&c_(o),u&512&&Cc(o,o.return);break;case 12:Pi(s,o);break;case 31:Pi(s,o),u&4&&g_(s,o);break;case 13:Pi(s,o),u&4&&y_(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=dR.bind(null,o),DR(s,o))));break;case 22:if(u=o.memoizedState!==null||Vi,!u){r=r!==null&&r.memoizedState!==null||Bt,m=Vi;var y=Bt;Vi=u,(Bt=r)&&!y?Li(s,o,(o.subtreeFlags&8772)!==0):Pi(s,o),Vi=m,Bt=y}break;case 30:break;default:Pi(s,o)}}function m_(s){var r=s.alternate;r!==null&&(s.alternate=null,m_(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&mo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var gt=null,In=!1;function Oi(s,r,o){for(o=o.child;o!==null;)p_(s,r,o),o=o.sibling}function p_(s,r,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(bs,o)}catch{}switch(o.tag){case 26:Bt||ri(o,r),Oi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||ri(o,r);var u=gt,m=In;Ir(o.type)&&(gt=o.stateNode,In=!1),Oi(s,r,o),Pc(o.stateNode),gt=u,In=m;break;case 5:Bt||ri(o,r);case 6:if(u=gt,m=In,gt=null,Oi(s,r,o),gt=u,In=m,gt!==null)if(In)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(y){it(o,r,y)}else try{gt.removeChild(o.stateNode)}catch(y){it(o,r,y)}break;case 18:gt!==null&&(In?(s=gt,o1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Jo(s)):o1(gt,o.stateNode));break;case 4:u=gt,m=In,gt=o.stateNode.containerInfo,In=!0,Oi(s,r,o),gt=u,In=m;break;case 0:case 11:case 14:case 15:Er(2,o,r),Bt||Er(4,o,r),Oi(s,r,o);break;case 1:Bt||(ri(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&l_(o,r,u)),Oi(s,r,o);break;case 21:Oi(s,r,o);break;case 22:Bt=(u=Bt)||o.memoizedState!==null,Oi(s,r,o),Bt=u;break;default:Oi(s,r,o)}}function g_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Jo(s)}catch(o){it(r,r.return,o)}}}function y_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Jo(s)}catch(o){it(r,r.return,o)}}function iR(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new d_),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new d_),r;default:throw Error(i(435,s.tag))}}function Jh(s,r){var o=iR(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=fR.bind(null,s,u);u.then(m,m)}})}function Dn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=s,_=r,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Ir(A.type)){gt=A.stateNode,In=!1;break e}break;case 5:gt=A.stateNode,In=!1;break e;case 3:case 4:gt=A.stateNode.containerInfo,In=!0;break e}A=A.return}if(gt===null)throw Error(i(160));p_(y,_,m),gt=null,In=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)v_(r,s),r=r.sibling}var Ns=null;function v_(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Dn(r,s),jn(s),u&4&&(Er(3,s,s.return),kc(3,s),Er(5,s,s.return));break;case 1:Dn(r,s),jn(s),u&512&&(Bt||o===null||ri(o,o.return)),u&64&&Vi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Ns;if(Dn(r,s),jn(s),u&512&&(Bt||o===null||ri(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Gs]||y[Vt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),ln(y,u,o),y[Vt]=s,Ot(y),u=y;break e;case"link":var _=v1("link","href",m).get(u+(o.href||""));if(_){for(var A=0;A<_.length;A++)if(y=_[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(A,1);break t}}y=m.createElement(u),ln(y,u,o),m.head.appendChild(y);break;case"meta":if(_=v1("meta","content",m).get(u+(o.content||""))){for(A=0;A<_.length;A++)if(y=_[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(A,1);break t}}y=m.createElement(u),ln(y,u,o),m.head.appendChild(y);break;default:throw Error(i(468,u))}y[Vt]=s,Ot(y),u=y}s.stateNode=u}else b1(m,s.type,s.stateNode);else s.stateNode=y1(m,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?b1(m,s.type,s.stateNode):y1(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&jp(s,s.memoizedProps,o.memoizedProps)}break;case 27:Dn(r,s),jn(s),u&512&&(Bt||o===null||ri(o,o.return)),o!==null&&u&4&&jp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Dn(r,s),jn(s),u&512&&(Bt||o===null||ri(o,o.return)),s.flags&32){m=s.stateNode;try{Rn(m,"")}catch(ve){it(s,s.return,ve)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,jp(s,m,o!==null?o.memoizedProps:m)),u&1024&&(Op=!0);break;case 6:if(Dn(r,s),jn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(ve){it(s,s.return,ve)}}break;case 3:if(md=null,m=Ns,Ns=dd(r.containerInfo),Dn(r,s),Ns=m,jn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Jo(r.containerInfo)}catch(ve){it(s,s.return,ve)}Op&&(Op=!1,b_(s));break;case 4:u=Ns,Ns=dd(s.stateNode.containerInfo),Dn(r,s),jn(s),Ns=u;break;case 12:Dn(r,s),jn(s);break;case 31:Dn(r,s),jn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Jh(s,u)));break;case 13:Dn(r,s),jn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ed=_n()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Jh(s,u)));break;case 22:m=s.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,Q=Vi,ne=Bt;if(Vi=Q||m,Bt=ne||L,Dn(r,s),Bt=ne,Vi=Q,jn(s),u&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||L||Vi||Bt||Ua(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(y=L.stateNode,m)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=L.stateNode;var ae=L.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ve){it(L,L.return,ve)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(ve){it(L,L.return,ve)}}}else if(r.tag===18){if(o===null){L=r;try{var J=L.stateNode;m?l1(J,!0):l1(L.stateNode,!1)}catch(ve){it(L,L.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Jh(s,o))));break;case 19:Dn(r,s),jn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Jh(s,u)));break;case 30:break;case 21:break;default:Dn(r,s),jn(s)}}function jn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(u_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=Mp(s);Wh(s,y,m);break;case 5:var _=o.stateNode;o.flags&32&&(Rn(_,""),o.flags&=-33);var A=Mp(s);Wh(s,A,_);break;case 3:case 4:var L=o.stateNode.containerInfo,Q=Mp(s);Vp(s,Q,L);break;default:throw Error(i(161))}}catch(ne){it(s,s.return,ne)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function b_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;b_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Pi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)f_(s,r.alternate,r),r=r.sibling}function Ua(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Er(4,r,r.return),Ua(r);break;case 1:ri(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&l_(r,r.return,o),Ua(r);break;case 27:Pc(r.stateNode);case 26:case 5:ri(r,r.return),Ua(r);break;case 22:r.memoizedState===null&&Ua(r);break;case 30:Ua(r);break;default:Ua(r)}s=s.sibling}}function Li(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:Li(m,y,o),kc(4,y);break;case 1:if(Li(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){it(u,u.return,Q)}if(u=y,m=u.updateQueue,m!==null){var A=u.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)Xb(L[m],A)}catch(Q){it(u,u.return,Q)}}o&&_&64&&o_(y),Cc(y,y.return);break;case 27:h_(y);case 26:case 5:Li(m,y,o),o&&u===null&&_&4&&c_(y),Cc(y,y.return);break;case 12:Li(m,y,o);break;case 31:Li(m,y,o),o&&_&4&&g_(m,y);break;case 13:Li(m,y,o),o&&_&4&&y_(m,y);break;case 22:y.memoizedState===null&&Li(m,y,o),Cc(y,y.return);break;case 30:break;default:Li(m,y,o)}r=r.sibling}}function Pp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&mc(o))}function Lp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&mc(s))}function Rs(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)x_(s,r,o,u),r=r.sibling}function x_(s,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Rs(s,r,o,u),m&2048&&kc(9,r);break;case 1:Rs(s,r,o,u);break;case 3:Rs(s,r,o,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&mc(s)));break;case 12:if(m&2048){Rs(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,_=y.id,A=y.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){it(r,r.return,L)}}else Rs(s,r,o,u);break;case 31:Rs(s,r,o,u);break;case 13:Rs(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?Rs(s,r,o,u):Nc(s,r):y._visibility&2?Rs(s,r,o,u):(y._visibility|=2,Bo(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Pp(_,r);break;case 24:Rs(s,r,o,u),m&2048&&Lp(r.alternate,r);break;default:Rs(s,r,o,u)}}function Bo(s,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,_=r,A=o,L=u,Q=_.flags;switch(_.tag){case 0:case 11:case 15:Bo(y,_,A,L,m),kc(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?Bo(y,_,A,L,m):Nc(y,_):(ne._visibility|=2,Bo(y,_,A,L,m)),m&&Q&2048&&Pp(_.alternate,_);break;case 24:Bo(y,_,A,L,m),m&&Q&2048&&Lp(_.alternate,_);break;default:Bo(y,_,A,L,m)}r=r.sibling}}function Nc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,m=u.flags;switch(u.tag){case 22:Nc(o,u),m&2048&&Pp(u.alternate,u);break;case 24:Nc(o,u),m&2048&&Lp(u.alternate,u);break;default:Nc(o,u)}r=r.sibling}}var Rc=8192;function Fo(s,r,o){if(s.subtreeFlags&Rc)for(s=s.child;s!==null;)__(s,r,o),s=s.sibling}function __(s,r,o){switch(s.tag){case 26:Fo(s,r,o),s.flags&Rc&&s.memoizedState!==null&&qR(o,Ns,s.memoizedState,s.memoizedProps);break;case 5:Fo(s,r,o);break;case 3:case 4:var u=Ns;Ns=dd(s.stateNode.containerInfo),Fo(s,r,o),Ns=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Rc,Rc=16777216,Fo(s,r,o),Rc=u):Fo(s,r,o));break;default:Fo(s,r,o)}}function w_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ic(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,E_(u,s)}w_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)T_(s),s=s.sibling}function T_(s){switch(s.tag){case 0:case 11:case 15:Ic(s),s.flags&2048&&Er(9,s,s.return);break;case 3:Ic(s);break;case 12:Ic(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Zh(s)):Ic(s);break;default:Ic(s)}}function Zh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,E_(u,s)}w_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Er(8,r,r.return),Zh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Zh(r));break;default:Zh(r)}s=s.sibling}}function E_(s,r){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:Er(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Zt=u;else e:for(o=s;Zt!==null;){u=Zt;var m=u.sibling,y=u.return;if(m_(u),u===o){Zt=null;break e}if(m!==null){m.return=y,Zt=m;break e}Zt=y}}}var rR={getCacheForType:function(s){var r=an(Lt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return an(Lt).controller.signal}},aR=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Fe=null,qe=0,st=0,$n=null,Sr=!1,Ho=!1,Up=!1,Ui=0,wt=0,Ar=0,za=0,zp=0,Kn=0,qo=0,Dc=null,Mn=null,Bp=!1,ed=0,S_=0,td=1/0,nd=null,kr=null,Kt=0,Cr=null,Go=null,zi=0,Fp=0,Hp=null,A_=null,jc=0,qp=null;function Yn(){return(et&2)!==0&&qe!==0?qe&-qe:H.T!==null?Xp():sh()}function k_(){if(Kn===0)if((qe&536870912)===0||Qe){var s=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),Kn=s}else Kn=536870912;return s=qn.current,s!==null&&(s.flags|=32),Kn}function Vn(s,r,o){(s===ct&&(st===2||st===9)||s.cancelPendingCommit!==null)&&($o(s,0),Nr(s,qe,Kn,!1)),ma(s,o),((et&2)===0||s!==ct)&&(s===ct&&((et&2)===0&&(za|=o),wt===4&&Nr(s,qe,Kn,!1)),ai(s))}function C_(s,r,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||xs(s,r),m=u?cR(s,r):$p(s,r,!0),y=u;do{if(m===0){Ho&&!u&&Nr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!oR(o)){m=$p(s,r,!1),y=!1;continue}if(m===2){if(y=r,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var A=s;m=Dc;var L=A.current.memoizedState.isDehydrated;if(L&&($o(A,_).flags|=256),_=$p(A,_,!1),_!==2){if(Up&&!L){A.errorRecoveryDisabledLanes|=y,za|=y,m=4;break e}y=Mn,Mn=m,y!==null&&(Mn===null?Mn=y:Mn.push.apply(Mn,y))}m=_}if(y=!1,m!==2)continue}}if(m===1){$o(s,0),Nr(s,r,0,!0);break}e:{switch(u=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Nr(u,r,Kn,!Sr);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=ed+300-_n(),10<m)){if(Nr(u,r,Kn,!Sr),Fs(u,0,!0)!==0)break e;zi=r,u.timeoutHandle=r1(N_.bind(null,u,o,Mn,nd,Bp,r,Kn,za,qo,Sr,y,"Throttled",-0,0),m);break e}N_(u,o,Mn,nd,Bp,r,Kn,za,qo,Sr,y,null,-0,0)}}break}while(!0);ai(s)}function N_(s,r,o,u,m,y,_,A,L,Q,ne,ae,X,J){if(s.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ts},__(r,y,ae);var ve=(y&62914560)===y?ed-_n():(y&4194048)===y?S_-_n():0;if(ve=GR(ae,ve),ve!==null){zi=y,s.cancelPendingCommit=ve(P_.bind(null,s,r,y,o,u,m,_,A,L,ne,ae,null,X,J)),Nr(s,y,_,!Q);return}}P_(s,r,y,o,u,m,_,A,L)}function oR(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!Fn(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Nr(s,r,o,u){r&=~zp,r&=~za,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var y=31-Ct(m),_=1<<y;u[y]=-1,m&=~_}o!==0&&pa(s,o,r)}function sd(){return(et&6)===0?(Mc(0),!1):!0}function Gp(){if(Fe!==null){if(st===0)var s=Fe.return;else s=Fe,Ni=Ia=null,op(s),Oo=null,gc=0,s=Fe;for(;s!==null;)a_(s.alternate,s),s=s.return;Fe=null}}function $o(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,kR(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),zi=0,Gp(),ct=s,Fe=o=ki(s.current,null),qe=r,st=0,$n=null,Sr=!1,Ho=xs(s,r),Up=!1,qo=Kn=zp=za=Ar=wt=0,Mn=Dc=null,Bp=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-Ct(u),y=1<<m;r|=s[m],u&=~y}return Ui=r,Eh(),o}function R_(s,r){Ue=null,H.H=Ec,r===Vo||r===Dh?(r=$b(),st=3):r===Qm?(r=$b(),st=4):st=r===Tp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$n=r,Fe===null&&(wt=1,$h(s,is(r,s.current)))}function I_(){var s=qn.current;return s===null?!0:(qe&4194048)===qe?ls===null:(qe&62914560)===qe||(qe&536870912)!==0?s===ls:!1}function D_(){var s=H.H;return H.H=Ec,s===null?Ec:s}function j_(){var s=H.A;return H.A=rR,s}function id(){wt=4,Sr||(qe&4194048)!==qe&&qn.current!==null||(Ho=!0),(Ar&134217727)===0&&(za&134217727)===0||ct===null||Nr(ct,qe,Kn,!1)}function $p(s,r,o){var u=et;et|=2;var m=D_(),y=j_();(ct!==s||qe!==r)&&(nd=null,$o(s,r)),r=!1;var _=wt;e:do try{if(st!==0&&Fe!==null){var A=Fe,L=$n;switch(st){case 8:Gp(),_=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(r=!0);var Q=st;if(st=0,$n=null,Ko(s,A,L,Q),o&&Ho){_=0;break e}break;default:Q=st,st=0,$n=null,Ko(s,A,L,Q)}}lR(),_=wt;break}catch(ne){R_(s,ne)}while(!0);return r&&s.shellSuspendCounter++,Ni=Ia=null,et=u,H.H=m,H.A=y,Fe===null&&(ct=null,qe=0,Eh()),_}function lR(){for(;Fe!==null;)M_(Fe)}function cR(s,r){var o=et;et|=2;var u=D_(),m=j_();ct!==s||qe!==r?(nd=null,td=_n()+500,$o(s,r)):Ho=xs(s,r);e:do try{if(st!==0&&Fe!==null){r=Fe;var y=$n;t:switch(st){case 1:st=0,$n=null,Ko(s,r,y,1);break;case 2:case 9:if(qb(y)){st=0,$n=null,V_(r);break}r=function(){st!==2&&st!==9||ct!==s||(st=7),ai(s)},y.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:qb(y)?(st=0,$n=null,V_(r)):(st=0,$n=null,Ko(s,r,y,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var A=Fe;if(_?x1(_):A.stateNode.complete){st=0,$n=null;var L=A.sibling;if(L!==null)Fe=L;else{var Q=A.return;Q!==null?(Fe=Q,rd(Q)):Fe=null}break t}}st=0,$n=null,Ko(s,r,y,5);break;case 6:st=0,$n=null,Ko(s,r,y,6);break;case 8:Gp(),wt=6;break e;default:throw Error(i(462))}}uR();break}catch(ne){R_(s,ne)}while(!0);return Ni=Ia=null,H.H=u,H.A=m,et=o,Fe!==null?0:(ct=null,qe=0,Eh(),wt)}function uR(){for(;Fe!==null&&!wm();)M_(Fe)}function M_(s){var r=i_(s.alternate,s,Ui);s.memoizedProps=s.pendingProps,r===null?rd(s):Fe=r}function V_(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Jx(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Jx(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:op(r);default:a_(o,r),r=Fe=jb(r,Ui),r=i_(o,r,Ui)}s.memoizedProps=s.pendingProps,r===null?rd(s):Fe=r}function Ko(s,r,o,u){Ni=Ia=null,op(r),Oo=null,gc=0;var m=r.return;try{if(JN(s,m,r,o,qe)){wt=1,$h(s,is(o,s.current)),Fe=null;return}}catch(y){if(m!==null)throw Fe=m,y;wt=1,$h(s,is(o,s.current)),Fe=null;return}r.flags&32768?(Qe||u===1?s=!0:Ho||(qe&536870912)!==0?s=!1:(Sr=s=!0,(u===2||u===9||u===3||u===6)&&(u=qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),O_(r,s)):rd(r)}function rd(s){var r=s;do{if((r.flags&32768)!==0){O_(r,Sr);return}s=r.return;var o=tR(r.alternate,r,Ui);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);wt===0&&(wt=5)}function O_(s,r){do{var o=nR(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);wt=6,Fe=null}function P_(s,r,o,u,m,y,_,A,L){s.cancelPendingCommit=null;do ad();while(Kt!==0);if((et&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=Mm,Sm(s,o,y,_,A,L),s===ct&&(Fe=ct=null,qe=0),Go=r,Cr=s,zi=o,Fp=y,Hp=m,A_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,mR(rr,function(){return F_(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,m=Z.p,Z.p=2,_=et,et|=4;try{sR(s,r,o)}finally{et=_,Z.p=m,H.T=u}}Kt=1,L_(),U_(),z_()}}function L_(){if(Kt===1){Kt=0;var s=Cr,r=Go,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=Z.p;Z.p=2;var m=et;et|=4;try{v_(r,s);var y=ig,_=Eb(s.containerInfo),A=y.focusedElem,L=y.selectionRange;if(_!==A&&A&&A.ownerDocument&&Tb(A.ownerDocument.documentElement,A)){if(L!==null&&Nm(A)){var Q=L.start,ne=L.end;if(ne===void 0&&(ne=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ne,A.value.length);else{var ae=A.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var J=X.getSelection(),ve=A.textContent.length,Ne=Math.min(L.start,ve),lt=L.end===void 0?Ne:Math.min(L.end,ve);!J.extend&&Ne>lt&&(_=lt,lt=Ne,Ne=_);var q=wb(A,Ne),B=wb(A,lt);if(q&&B&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var Y=ae.createRange();Y.setStart(q.node,q.offset),J.removeAllRanges(),Ne>lt?(J.addRange(Y),J.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),J.addRange(Y))}}}}for(ae=[],J=A;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var se=ae[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}vd=!!sg,ig=sg=null}finally{et=m,Z.p=u,H.T=o}}s.current=r,Kt=2}}function U_(){if(Kt===2){Kt=0;var s=Cr,r=Go,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=Z.p;Z.p=2;var m=et;et|=4;try{f_(s,r.alternate,r)}finally{et=m,Z.p=u,H.T=o}}Kt=3}}function z_(){if(Kt===4||Kt===3){Kt=0,Xu();var s=Cr,r=Go,o=zi,u=A_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,Go=Cr=null,B_(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(kr=null),Ti(o),r=r.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(bs,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=H.T,m=Z.p,Z.p=2,H.T=null;try{for(var y=s.onRecoverableError,_=0;_<u.length;_++){var A=u[_];y(A.value,{componentStack:A.stack})}}finally{H.T=r,Z.p=m}}(zi&3)!==0&&ad(),ai(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===qp?jc++:(jc=0,qp=s):jc=0,Mc(0)}}function B_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,mc(r)))}function ad(){return L_(),U_(),z_(),F_()}function F_(){if(Kt!==5)return!1;var s=Cr,r=Fp;Fp=0;var o=Ti(zi),u=H.T,m=Z.p;try{Z.p=32>o?32:o,H.T=null,o=Hp,Hp=null;var y=Cr,_=zi;if(Kt=0,Go=Cr=null,zi=0,(et&6)!==0)throw Error(i(331));var A=et;if(et|=4,T_(y.current),x_(y,y.current,_,o),et=A,Mc(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(bs,y)}catch{}return!0}finally{Z.p=m,H.T=u,B_(s,r)}}function H_(s,r,o){r=is(o,r),r=wp(s.stateNode,r,2),s=_r(s,r,2),s!==null&&(ma(s,2),ai(s))}function it(s,r,o){if(s.tag===3)H_(s,s,o);else for(;r!==null;){if(r.tag===3){H_(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(kr===null||!kr.has(u))){s=is(o,s),o=qx(2),u=_r(r,o,2),u!==null&&(Gx(o,u,r,s),ma(u,2),ai(u));break}}r=r.return}}function Kp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new aR;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(Up=!0,m.add(o),s=hR.bind(null,s,r,o),r.then(s,s))}function hR(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ct===s&&(qe&o)===o&&(wt===4||wt===3&&(qe&62914560)===qe&&300>_n()-ed?(et&2)===0&&$o(s,0):zp|=o,qo===qe&&(qo=0)),ai(s)}function q_(s,r){r===0&&(r=nh()),s=Ca(s,r),s!==null&&(ma(s,r),ai(s))}function dR(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),q_(s,o)}function fR(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),q_(s,o)}function mR(s,r){return $t(s,r)}var od=null,Yo=null,Yp=!1,ld=!1,Qp=!1,Rr=0;function ai(s){s!==Yo&&s.next===null&&(Yo===null?od=Yo=s:Yo=Yo.next=s),ld=!0,Yp||(Yp=!0,gR())}function Mc(s,r){if(!Qp&&ld){Qp=!0;do for(var o=!1,u=od;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var _=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-Ct(42|s)+1)-1,y&=m&~(_&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Y_(u,y))}else y=qe,y=Fs(u,u===ct?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||xs(u,y)||(o=!0,Y_(u,y));u=u.next}while(o);Qp=!1}}function pR(){G_()}function G_(){ld=Yp=!1;var s=0;Rr!==0&&AR()&&(s=Rr);for(var r=_n(),o=null,u=od;u!==null;){var m=u.next,y=$_(u,r);y===0?(u.next=null,o===null?od=m:o.next=m,m===null&&(Yo=o)):(o=u,(s!==0||(y&3)!==0)&&(ld=!0)),u=m}Kt!==0&&Kt!==5||Mc(s),Rr!==0&&(Rr=0)}function $_(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-Ct(y),A=1<<_,L=m[_];L===-1?((A&o)===0||(A&u)!==0)&&(m[_]=Em(A,r)):L<=r&&(s.expiredLanes|=A),y&=~A}if(r=ct,o=qe,o=Fs(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ir(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||xs(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&ir(u),Ti(o)){case 2:case 8:o=ql;break;case 32:o=rr;break;case 268435456:o=Wu;break;default:o=rr}return u=K_.bind(null,s),o=$t(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&ir(u),s.callbackPriority=2,s.callbackNode=null,2}function K_(s,r){if(Kt!==0&&Kt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(ad()&&s.callbackNode!==o)return null;var u=qe;return u=Fs(s,s===ct?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(C_(s,u,r),$_(s,_n()),s.callbackNode!=null&&s.callbackNode===o?K_.bind(null,s):null)}function Y_(s,r){if(ad())return null;C_(s,r,!0)}function gR(){CR(function(){(et&6)!==0?$t(Hl,pR):G_()})}function Xp(){if(Rr===0){var s=jo;s===0&&(s=zs,zs<<=1,(zs&261888)===0&&(zs=256)),Rr=s}return Rr}function Q_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:vo(""+s)}function X_(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function yR(s,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var y=Q_((m[Wt]||null).action),_=u.submitter;_&&(r=(r=_[Wt]||null)?Q_(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var A=new Zs("action","action",null,u,m);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Rr!==0){var L=_?X_(m,_):new FormData(m);gp(o,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(A.preventDefault(),L=_?X_(m,_):new FormData(m),gp(o,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var Wp=0;Wp<jm.length;Wp++){var Jp=jm[Wp],vR=Jp.toLowerCase(),bR=Jp[0].toUpperCase()+Jp.slice(1);Cs(vR,"on"+bR)}Cs(kb,"onAnimationEnd"),Cs(Cb,"onAnimationIteration"),Cs(Nb,"onAnimationStart"),Cs("dblclick","onDoubleClick"),Cs("focusin","onFocus"),Cs("focusout","onBlur"),Cs(VN,"onTransitionRun"),Cs(ON,"onTransitionStart"),Cs(PN,"onTransitionCancel"),Cs(Rb,"onTransitionEnd"),Qs("onMouseEnter",["mouseout","mouseover"]),Qs("onMouseLeave",["mouseout","mouseover"]),Qs("onPointerEnter",["pointerout","pointerover"]),Qs("onPointerLeave",["pointerout","pointerover"]),Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function W_(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],m=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var _=u.length-1;0<=_;_--){var A=u[_],L=A.instance,Q=A.currentTarget;if(A=A.listener,L!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=Q;try{y(m)}catch(ne){Th(ne)}m.currentTarget=null,y=L}else for(_=0;_<u.length;_++){if(A=u[_],L=A.instance,Q=A.currentTarget,A=A.listener,L!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=Q;try{y(m)}catch(ne){Th(ne)}m.currentTarget=null,y=L}}}}function He(s,r){var o=r[fo];o===void 0&&(o=r[fo]=new Set);var u=s+"__bubble";o.has(u)||(J_(r,s,2,!1),o.add(u))}function Zp(s,r,o){var u=0;r&&(u|=4),J_(o,s,u,r)}var cd="_reactListening"+Math.random().toString(36).slice(2);function eg(s){if(!s[cd]){s[cd]=!0,Kl.forEach(function(o){o!=="selectionchange"&&(xR.has(o)||Zp(o,!1,s),Zp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[cd]||(r[cd]=!0,Zp("selectionchange",!1,r))}}function J_(s,r,o,u){switch(k1(r)){case 2:var m=YR;break;case 8:m=QR;break;default:m=pg}o=m.bind(null,r,o,s),m=void 0,!xa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function tg(s,r,o,u,m){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var A=u.stateNode.containerInfo;if(A===m)break;if(_===4)for(_=u.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;A!==null;){if(_=$s(A),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){u=y=_;continue e}A=A.parentNode}}u=u.return}hr(function(){var Q=y,ne=es(o),ae=[];e:{var X=Ib.get(s);if(X!==void 0){var J=Zs,ve=s;switch(s){case"keypress":if(wa(o)===0)break e;case"keydown":case"keyup":J=xh;break;case"focusin":ve="focus",J=Ea;break;case"focusout":ve="blur",J=Ea;break;case"beforeblur":case"afterblur":J=Ea;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=x;break;case kb:case Cb:case Nb:J=fh;break;case Rb:J=C;break;case"scroll":case"scrollend":J=rc;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ai;break;case"toggle":case"beforetoggle":J=Le}var Ne=(r&4)!==0,lt=!Ne&&(s==="scroll"||s==="scrollend"),q=Ne?X!==null?X+"Capture":null:X;Ne=[];for(var B=Q,Y;B!==null;){var se=B;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||q===null||(se=Es(B,q),se!=null&&Ne.push(Oc(B,se,Y))),lt)break;B=B.return}0<Ne.length&&(X=new J(X,ve,null,o,ne),ae.push({event:X,listeners:Ne}))}}if((r&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",X&&o!==nc&&(ve=o.relatedTarget||o.fromElement)&&($s(ve)||ve[qs]))break e;if((J||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,J?(ve=o.relatedTarget||o.toElement,J=Q,ve=ve?$s(ve):null,ve!==null&&(lt=l(ve),Ne=ve.tag,ve!==lt||Ne!==5&&Ne!==27&&Ne!==6)&&(ve=null)):(J=null,ve=Q),J!==ve)){if(Ne=ac,se="onMouseLeave",q="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=Ai,se="onPointerLeave",q="onPointerEnter",B="pointer"),lt=J==null?X:zn(J),Y=ve==null?X:zn(ve),X=new Ne(se,B+"leave",J,o,ne),X.target=lt,X.relatedTarget=Y,se=null,$s(ne)===Q&&(Ne=new Ne(q,B+"enter",ve,o,ne),Ne.target=Y,Ne.relatedTarget=lt,se=Ne),lt=se,J&&ve)t:{for(Ne=_R,q=J,B=ve,Y=0,se=q;se;se=Ne(se))Y++;se=0;for(var ke=B;ke;ke=Ne(ke))se++;for(;0<Y-se;)q=Ne(q),Y--;for(;0<se-Y;)B=Ne(B),se--;for(;Y--;){if(q===B||B!==null&&q===B.alternate){Ne=q;break t}q=Ne(q),B=Ne(B)}Ne=null}else Ne=null;J!==null&&Z_(ae,X,J,Ne,!1),ve!==null&&lt!==null&&Z_(ae,lt,ve,Ne,!0)}}e:{if(X=Q?zn(Q):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var We=gb;else if(mb(X))if(yb)We=DN;else{We=RN;var Ee=NN}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&yo(Q.elementType)&&(We=gb):We=IN;if(We&&(We=We(s,Q))){pb(ae,We,o,ne);break e}Ee&&Ee(s,X,Q),s==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&Zl(X,"number",X.value)}switch(Ee=Q?zn(Q):window,s){case"focusin":(mb(Ee)||Ee.contentEditable==="true")&&(So=Ee,Rm=Q,hc=null);break;case"focusout":hc=Rm=So=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,Sb(ae,o,ne);break;case"selectionchange":if(MN)break;case"keydown":case"keyup":Sb(ae,o,ne)}var ze;if(Ze)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Eo?Sa(s,o)&&(Ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(ni&&o.locale!=="ko"&&(Eo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Eo&&(ze=ic()):(Js=ne,sc="value"in Js?Js.value:Js.textContent,Eo=!0)),Ee=ud(Q,Ge),0<Ee.length&&(Ge=new ti(Ge,s,null,o,ne),ae.push({event:Ge,listeners:Ee}),ze?Ge.data=ze:(ze=To(o),ze!==null&&(Ge.data=ze)))),(ze=ns?SN(s,o):AN(s,o))&&(Ge=ud(Q,"onBeforeInput"),0<Ge.length&&(Ee=new ti("onBeforeInput","beforeinput",null,o,ne),ae.push({event:Ee,listeners:Ge}),Ee.data=ze)),yR(ae,s,Q,o,ne)}W_(ae,r)})}function Oc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function ud(s,r){for(var o=r+"Capture",u=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Es(s,o),m!=null&&u.unshift(Oc(s,m,y)),m=Es(s,r),m!=null&&u.push(Oc(s,m,y))),s.tag===3)return u;s=s.return}return[]}function _R(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Z_(s,r,o,u,m){for(var y=r._reactName,_=[];o!==null&&o!==u;){var A=o,L=A.alternate,Q=A.stateNode;if(A=A.tag,L!==null&&L===u)break;A!==5&&A!==26&&A!==27||Q===null||(L=Q,m?(Q=Es(o,y),Q!=null&&_.unshift(Oc(o,Q,L))):m||(Q=Es(o,y),Q!=null&&_.push(Oc(o,Q,L)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var wR=/\r\n?/g,TR=/\u0000|\uFFFD/g;function e1(s){return(typeof s=="string"?s:""+s).replace(wR,`
`).replace(TR,"")}function t1(s,r){return r=e1(r),e1(s)===r}function ot(s,r,o,u,m,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Rn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Rn(s,""+u);break;case"className":Bn(s,"class",u);break;case"tabIndex":Bn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(s,o,u);break;case"style":tc(s,u,y);break;case"data":if(r!=="object"){Bn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=vo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&ot(s,r,"name",m.name,m,null),ot(s,r,"formEncType",m.formEncType,m,null),ot(s,r,"formMethod",m.formMethod,m,null),ot(s,r,"formTarget",m.formTarget,m,null)):(ot(s,r,"encType",m.encType,m,null),ot(s,r,"method",m.method,m,null),ot(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=vo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Ts);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=vo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":He("beforetoggle",s),He("toggle",s),po(s,"popover",u);break;case"xlinkActuate":Pt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Pt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Pt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Pt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Pt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Pt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":po(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=uh.get(o)||o,po(s,o,u))}}function ng(s,r,o,u,m,y){switch(o){case"style":tc(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Rn(s,u):(typeof u=="number"||typeof u=="bigint")&&Rn(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=s[Wt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,m);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):po(s,o,u)}}}function ln(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,y,_,o,null)}}m&&ot(s,r,"srcSet",o.srcSet,o,null),u&&ot(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var A=y=_=m=null,L=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":m=ne;break;case"type":_=ne;break;case"checked":L=ne;break;case"defaultChecked":Q=ne;break;case"value":y=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,r));break;default:ot(s,r,u,ne,o,null)}}oh(s,y,A,L,Q,_,m,!1);return;case"select":He("invalid",s),u=_=y=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":y=A;break;case"defaultValue":_=A;break;case"multiple":u=A;default:ot(s,r,m,A,o,null)}r=y,o=_,s.multiple=!!u,r!=null?or(s,!!u,r,!1):o!=null&&or(s,!!u,o,!0);return;case"textarea":He("invalid",s),y=m=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(A=o[_],A!=null))switch(_){case"value":u=A;break;case"defaultValue":m=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ot(s,r,_,A,o,null)}lr(s,u,m,y);return;case"option":for(L in o)o.hasOwnProperty(L)&&(u=o[L],u!=null)&&(L==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ot(s,r,L,u,o,null));return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<Vc.length;u++)He(Vc[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,Q,u,o,null)}return;default:if(yo(r)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&ng(s,r,ne,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ot(s,r,A,u,o,null))}function ER(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,_=null,A=null,L=null,Q=null,ne=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=ae;default:u.hasOwnProperty(J)||ot(s,r,J,null,u,ae)}}for(var X in u){var J=u[X];if(ae=o[X],u.hasOwnProperty(X)&&(J!=null||ae!=null))switch(X){case"type":y=J;break;case"name":m=J;break;case"checked":Q=J;break;case"defaultChecked":ne=J;break;case"value":_=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:J!==ae&&ot(s,r,X,J,u,ae)}}go(s,_,A,L,Q,ne,y,m);return;case"select":J=_=A=X=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":J=L;default:u.hasOwnProperty(y)||ot(s,r,y,null,u,L)}for(m in u)if(y=u[m],L=o[m],u.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":X=y;break;case"defaultValue":A=y;break;case"multiple":_=y;default:y!==L&&ot(s,r,m,y,u,L)}r=A,o=_,u=J,X!=null?or(s,!!o,X,!1):!!u!=!!o&&(r!=null?or(s,!!o,r,!0):or(s,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ot(s,r,A,null,u,m)}for(_ in u)if(m=u[_],y=o[_],u.hasOwnProperty(_)&&(m!=null||y!=null))switch(_){case"value":X=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&ot(s,r,_,m,u,y)}lh(s,X,J);return;case"option":for(var ve in o)X=o[ve],o.hasOwnProperty(ve)&&X!=null&&!u.hasOwnProperty(ve)&&(ve==="selected"?s.selected=!1:ot(s,r,ve,null,u,X));for(L in u)X=u[L],J=o[L],u.hasOwnProperty(L)&&X!==J&&(X!=null||J!=null)&&(L==="selected"?s.selected=X&&typeof X!="function"&&typeof X!="symbol":ot(s,r,L,X,u,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in o)X=o[Ne],o.hasOwnProperty(Ne)&&X!=null&&!u.hasOwnProperty(Ne)&&ot(s,r,Ne,null,u,X);for(Q in u)if(X=u[Q],J=o[Q],u.hasOwnProperty(Q)&&X!==J&&(X!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:ot(s,r,Q,X,u,J)}return;default:if(yo(r)){for(var lt in o)X=o[lt],o.hasOwnProperty(lt)&&X!==void 0&&!u.hasOwnProperty(lt)&&ng(s,r,lt,void 0,u,X);for(ne in u)X=u[ne],J=o[ne],!u.hasOwnProperty(ne)||X===J||X===void 0&&J===void 0||ng(s,r,ne,X,u,J);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!u.hasOwnProperty(q)&&ot(s,r,q,null,u,X);for(ae in u)X=u[ae],J=o[ae],!u.hasOwnProperty(ae)||X===J||X==null&&J==null||ot(s,r,ae,X,u,J)}function n1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],y=m.transferSize,_=m.initiatorType,A=m.duration;if(y&&A&&n1(_)){for(_=0,A=m.responseEnd,u+=1;u<o.length;u++){var L=o[u],Q=L.startTime;if(Q>A)break;var ne=L.transferSize,ae=L.initiatorType;ne&&n1(ae)&&(L=L.responseEnd,_+=ne*(L<A?1:(A-Q)/(L-Q)))}if(--u,r+=8*(y+_)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var sg=null,ig=null;function hd(s){return s.nodeType===9?s:s.ownerDocument}function s1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i1(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function rg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ag=null;function AR(){var s=window.event;return s&&s.type==="popstate"?s===ag?!1:(ag=s,!0):(ag=null,!1)}var r1=typeof setTimeout=="function"?setTimeout:void 0,kR=typeof clearTimeout=="function"?clearTimeout:void 0,a1=typeof Promise=="function"?Promise:void 0,CR=typeof queueMicrotask=="function"?queueMicrotask:typeof a1<"u"?function(s){return a1.resolve(null).then(s).catch(NR)}:r1;function NR(s){setTimeout(function(){throw s})}function Ir(s){return s==="head"}function o1(s,r){var o=r,u=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(m),Jo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Pc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Pc(o);for(var y=o.firstChild;y;){var _=y.nextSibling,A=y.nodeName;y[Gs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=_}}else o==="body"&&Pc(s.ownerDocument.body);o=m}while(o);Jo(r)}function l1(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function og(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":og(o),mo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function RR(s,r,o,u){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Gs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=cs(s.nextSibling),s===null)break}return null}function IR(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=cs(s.nextSibling),s===null))return null;return s}function c1(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=cs(s.nextSibling),s===null))return null;return s}function lg(s){return s.data==="$?"||s.data==="$~"}function cg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function DR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function cs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var ug=null;function u1(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return cs(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function h1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function d1(s,r,o){switch(r=hd(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Pc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);mo(s)}var us=new Map,f1=new Set;function dd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Bi=Z.d;Z.d={f:jR,r:MR,D:VR,C:OR,L:PR,m:LR,X:zR,S:UR,M:BR};function jR(){var s=Bi.f(),r=sd();return s||r}function MR(s){var r=Zn(s);r!==null&&r.tag===5&&r.type==="form"?Rx(r):Bi.r(s)}var Qo=typeof document>"u"?null:document;function m1(s,r,o){var u=Qo;if(u&&typeof r=="string"&&r){var m=Nn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),f1.has(m)||(f1.add(m),s={rel:s,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),ln(r,"link",s),Ot(r),u.head.appendChild(r)))}}function VR(s){Bi.D(s),m1("dns-prefetch",s,null)}function OR(s,r){Bi.C(s,r),m1("preconnect",s,r)}function PR(s,r,o){Bi.L(s,r,o);var u=Qo;if(u&&s&&r){var m='link[rel="preload"][as="'+Nn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Nn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Nn(o.imageSizes)+'"]')):m+='[href="'+Nn(s)+'"]';var y=m;switch(r){case"style":y=Xo(s);break;case"script":y=Wo(s)}us.has(y)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),us.set(y,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(Lc(y))||r==="script"&&u.querySelector(Uc(y))||(r=u.createElement("link"),ln(r,"link",s),Ot(r),u.head.appendChild(r)))}}function LR(s,r){Bi.m(s,r);var o=Qo;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Nn(u)+'"][href="'+Nn(s)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Wo(s)}if(!us.has(y)&&(s=b({rel:"modulepreload",href:s},r),us.set(y,s),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Uc(y)))return}u=o.createElement("link"),ln(u,"link",s),Ot(u),o.head.appendChild(u)}}}function UR(s,r,o){Bi.S(s,r,o);var u=Qo;if(u&&s){var m=Ks(u).hoistableStyles,y=Xo(s);r=r||"default";var _=m.get(y);if(!_){var A={loading:0,preload:null};if(_=u.querySelector(Lc(y)))A.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=us.get(y))&&hg(s,o);var L=_=u.createElement("link");Ot(L),ln(L,"link",s),L._p=new Promise(function(Q,ne){L.onload=Q,L.onerror=ne}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,fd(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:A},m.set(y,_)}}}function zR(s,r){Bi.X(s,r);var o=Qo;if(o&&s){var u=Ks(o).hoistableScripts,m=Wo(s),y=u.get(m);y||(y=o.querySelector(Uc(m)),y||(s=b({src:s,async:!0},r),(r=us.get(m))&&dg(s,r),y=o.createElement("script"),Ot(y),ln(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function BR(s,r){Bi.M(s,r);var o=Qo;if(o&&s){var u=Ks(o).hoistableScripts,m=Wo(s),y=u.get(m);y||(y=o.querySelector(Uc(m)),y||(s=b({src:s,async:!0,type:"module"},r),(r=us.get(m))&&dg(s,r),y=o.createElement("script"),Ot(y),ln(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function p1(s,r,o,u){var m=(m=De.current)?dd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Xo(o.href),o=Ks(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Xo(o.href);var y=Ks(m).hoistableStyles,_=y.get(s);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=m.querySelector(Lc(s)))&&!y._p&&(_.instance=y,_.state.loading=5),us.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},us.set(s,o),y||FR(m,s,o,_.state))),r&&u===null)throw Error(i(528,""));return _}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wo(o),o=Ks(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Xo(s){return'href="'+Nn(s)+'"'}function Lc(s){return'link[rel="stylesheet"]['+s+"]"}function g1(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function FR(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),ln(r,"link",o),Ot(r),s.head.appendChild(r))}function Wo(s){return'[src="'+Nn(s)+'"]'}function Uc(s){return"script[async]"+s}function y1(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Nn(o.href)+'"]');if(u)return r.instance=u,Ot(u),u;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ot(u),ln(u,"style",m),fd(u,o.precedence,s),r.instance=u;case"stylesheet":m=Xo(o.href);var y=s.querySelector(Lc(m));if(y)return r.state.loading|=4,r.instance=y,Ot(y),y;u=g1(o),(m=us.get(m))&&hg(u,m),y=(s.ownerDocument||s).createElement("link"),Ot(y);var _=y;return _._p=new Promise(function(A,L){_.onload=A,_.onerror=L}),ln(y,"link",u),r.state.loading|=4,fd(y,o.precedence,s),r.instance=y;case"script":return y=Wo(o.src),(m=s.querySelector(Uc(y)))?(r.instance=m,Ot(m),m):(u=o,(m=us.get(y))&&(u=b({},o),dg(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ot(m),ln(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,fd(u,o.precedence,s));return r.instance}function fd(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,_=0;_<u.length;_++){var A=u[_];if(A.dataset.precedence===r)y=A;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function hg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function dg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var md=null;function v1(s,r,o){if(md===null){var u=new Map,m=md=new Map;m.set(o,u)}else m=md,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var y=o[m];if(!(y[Gs]||y[Vt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=s+_;var A=u.get(_);A?A.push(y):u.set(_,[y])}}return u}function b1(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function HR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function x1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function qR(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Xo(u.href),y=r.querySelector(Lc(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=pd.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Ot(y);return}y=r.ownerDocument||r,u=g1(u),(m=us.get(m))&&hg(u,m),y=y.createElement("link"),Ot(y);var _=y;_._p=new Promise(function(A,L){_.onload=A,_.onerror=L}),ln(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=pd.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var fg=0;function GR(s,r){return s.stylesheets&&s.count===0&&yd(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&yd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&fg===0&&(fg=62500*SR());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&yd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>fg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var gd=null;function yd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,gd=new Map,r.forEach($R,s),gd=null,pd.call(s))}function $R(s,r){if(!(r.state.loading&4)){var o=gd.get(s);if(o)var u=o.get(null);else{o=new Map,gd.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var _=m[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}m=r.instance,_=m.getAttribute("data-precedence"),y=o.get(_)||u,y===u&&o.set(null,m),o.set(_,m),this.count++,u=pd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var zc={$$typeof:G,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function KR(s,r,o,u,m,y,_,A,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.hiddenUpdates=Hs(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function _1(s,r,o,u,m,y,_,A,L,Q,ne,ae){return s=new KR(s,r,o,_,L,Q,ne,ae,A),r=1,y===!0&&(r|=24),y=Hn(3,null,null,r),s.current=y,y.stateNode=s,r=$m(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Xm(y),s}function w1(s){return s?(s=Co,s):Co}function T1(s,r,o,u,m,y){m=w1(m),u.context===null?u.context=m:u.pendingContext=m,u=xr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=_r(s,u,r),o!==null&&(Vn(o,s,r),vc(o,s,r))}function E1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function mg(s,r){E1(s,r),(s=s.alternate)&&E1(s,r)}function S1(s){if(s.tag===13||s.tag===31){var r=Ca(s,67108864);r!==null&&Vn(r,s,67108864),mg(s,67108864)}}function A1(s){if(s.tag===13||s.tag===31){var r=Yn();r=ga(r);var o=Ca(s,r);o!==null&&Vn(o,s,r),mg(s,r)}}var vd=!0;function YR(s,r,o,u){var m=H.T;H.T=null;var y=Z.p;try{Z.p=2,pg(s,r,o,u)}finally{Z.p=y,H.T=m}}function QR(s,r,o,u){var m=H.T;H.T=null;var y=Z.p;try{Z.p=8,pg(s,r,o,u)}finally{Z.p=y,H.T=m}}function pg(s,r,o,u){if(vd){var m=gg(u);if(m===null)tg(s,r,u,bd,o),C1(s,u);else if(WR(m,s,r,o,u))u.stopPropagation();else if(C1(s,u),r&4&&-1<XR.indexOf(s)){for(;m!==null;){var y=Zn(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Bs(y.pendingLanes);if(_!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var L=1<<31-Ct(_);A.entanglements[1]|=L,_&=~L}ai(y),(et&6)===0&&(td=_n()+500,Mc(0))}}break;case 31:case 13:A=Ca(y,2),A!==null&&Vn(A,y,2),sd(),mg(y,2)}if(y=gg(u),y===null&&tg(s,r,u,bd,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else tg(s,r,u,null,o)}}function gg(s){return s=es(s),yg(s)}var bd=null;function yg(s){if(bd=null,s=$s(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return bd=s,null}function k1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(da()){case Hl:return 2;case ql:return 8;case rr:case Tm:return 32;case Wu:return 268435456;default:return 32}default:return 32}}var vg=!1,Dr=null,jr=null,Mr=null,Bc=new Map,Fc=new Map,Vr=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C1(s,r){switch(s){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Bc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(r.pointerId)}}function Hc(s,r,o,u,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},r!==null&&(r=Zn(r),r!==null&&S1(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function WR(s,r,o,u,m){switch(r){case"focusin":return Dr=Hc(Dr,s,r,o,u,m),!0;case"dragenter":return jr=Hc(jr,s,r,o,u,m),!0;case"mouseover":return Mr=Hc(Mr,s,r,o,u,m),!0;case"pointerover":var y=m.pointerId;return Bc.set(y,Hc(Bc.get(y)||null,s,r,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Fc.set(y,Hc(Fc.get(y)||null,s,r,o,u,m)),!0}return!1}function N1(s){var r=$s(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,_s(s.priority,function(){A1(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,_s(s.priority,function(){A1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=gg(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);nc=u,o.target.dispatchEvent(u),nc=null}else return r=Zn(o),r!==null&&S1(r),s.blockedOn=o,!1;r.shift()}return!0}function R1(s,r,o){xd(s)&&o.delete(r)}function JR(){vg=!1,Dr!==null&&xd(Dr)&&(Dr=null),jr!==null&&xd(jr)&&(jr=null),Mr!==null&&xd(Mr)&&(Mr=null),Bc.forEach(R1),Fc.forEach(R1)}function _d(s,r){s.blockedOn===r&&(s.blockedOn=null,vg||(vg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JR)))}var wd=null;function I1(s){wd!==s&&(wd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wd===s&&(wd=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(yg(u||o)===null)continue;break}var y=Zn(o);y!==null&&(s.splice(r,3),r-=3,gp(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Jo(s){function r(L){return _d(L,s)}Dr!==null&&_d(Dr,s),jr!==null&&_d(jr,s),Mr!==null&&_d(Mr,s),Bc.forEach(r),Fc.forEach(r);for(var o=0;o<Vr.length;o++){var u=Vr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Vr.length&&(o=Vr[0],o.blockedOn===null);)N1(o),o.blockedOn===null&&Vr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],_=m[Wt]||null;if(typeof y=="function")_||I1(o);else if(_){var A=null;if(y&&y.hasAttribute("formAction")){if(m=y,_=y[Wt]||null)A=_.formAction;else if(yg(m)!==null)continue}else A=_.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),I1(o)}}}function D1(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function bg(s){this._internalRoot=s}Td.prototype.render=bg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Yn();T1(o,u,s,r,null,null)},Td.prototype.unmount=bg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;T1(s.current,2,null,s,null,null),sd(),r[qs]=null}};function Td(s){this._internalRoot=s}Td.prototype.unstable_scheduleHydration=function(s){if(s){var r=sh();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Vr.length&&r!==0&&r<Vr[o].priority;o++);Vr.splice(o,0,s),o===0&&N1(s)}};var j1=e.version;if(j1!=="19.2.4")throw Error(i(527,j1,"19.2.4"));Z.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var ZR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ed.isDisabled&&Ed.supportsFiber)try{bs=Ed.inject(ZR),nn=Ed}catch{}}return Gc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",m=zx,y=Bx,_=Fx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=_1(s,1,!1,null,null,o,u,null,m,y,_,D1),s[qs]=r.current,eg(s),new bg(r)},Gc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,m="",y=zx,_=Bx,A=Fx,L=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=_1(s,1,!0,r,o??null,u,m,L,y,_,A,D1),r.context=w1(null),o=r.current,u=Yn(),u=ga(u),m=xr(u),m.callback=null,_r(o,m,u),o=u,r.current.lanes=o,ma(r,o),ai(r),s[qs]=r.current,eg(s),new Td(r)},Gc.version="19.2.4",Gc}var H1;function cI(){if(H1)return wg.exports;H1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wg.exports=lI(),wg.exports}var uI=cI();const hI=rS(uI);var q1="popstate";function dI(t={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return p0("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:mu(a)}return mI(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ps(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fI(){return Math.random().toString(36).substring(2,10)}function G1(t,e){return{usr:t.state,key:t.key,idx:e}}function p0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Al(e):e,state:n,key:e&&e.key||i||fI()}}function mu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function mI(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",f=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){h="POP";let V=v(),z=V==null?null:V-p;p=V,f&&f({action:h,location:O.location,delta:z})}function w(V,z){h="PUSH";let F=p0(O.location,V,z);p=v()+1;let G=G1(F,p),te=O.createHref(F);try{c.pushState(G,"",te)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(te)}l&&f&&f({action:h,location:O.location,delta:1})}function S(V,z){h="REPLACE";let F=p0(O.location,V,z);p=v();let G=G1(F,p),te=O.createHref(F);c.replaceState(G,"",te),l&&f&&f({action:h,location:O.location,delta:0})}function D(V){return pI(V)}let O={get action(){return h},get location(){return t(a,c)},listen(V){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(q1,b),f=V,()=>{a.removeEventListener(q1,b),f=null}},createHref(V){return e(a,V)},createURL:D,encodeLocation(V){let z=D(V);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:S,go(V){return c.go(V)}};return O}function pI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:mu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function aS(t,e,n="/"){return gI(t,e,n,!1)}function gI(t,e,n,i){let a=typeof e=="string"?Al(e):e,l=Qi(a.pathname||"/",n);if(l==null)return null;let c=oS(t);yI(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=CI(l);h=AI(c[f],p,i)}return h}function oS(t,e=[],n=[],i="",a=!1){let l=(c,h,f=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;yt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Ki([i,v.relativePath]),w=n.concat(v);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),oS(c.children,e,w,b,f)),!(c.path==null&&!c.index)&&e.push({path:b,score:EI(b,c.index),routesMeta:w})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let f of lS(c.path))l(c,h,!0,f)}),e}function lS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=lS(i.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function yI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var vI=/^:[\w-]+$/,bI=3,xI=2,_I=1,wI=10,TI=-2,$1=t=>t==="*";function EI(t,e){let n=t.split("/"),i=n.length;return n.some($1)&&(i+=TI),e&&(i+=xI),n.filter(a=>!$1(a)).reduce((a,l)=>a+(vI.test(l)?bI:l===""?_I:wI),i)}function SI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function AI(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=cf({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),w=f.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=cf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Ki([l,b.pathname]),pathnameBase:DI(Ki([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=Ki([l,b.pathnameBase]))}return c}function cf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=kI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},w)=>{if(v==="*"){let D=h[w]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const S=h[w];return b&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function kI(t,e=!1,n=!0){Ps(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function CI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ps(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var NI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function RI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Al(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=K1(n.substring(1),"/"):l=K1(n,e)):l=e,{pathname:l,search:jI(i),hash:MI(a)}}function K1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ag(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function II(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yy(t){let e=II(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function vy(t,e,n,i=!1){let a;typeof t=="string"?a=Al(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),Ag("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Ag("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Ag("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}h=b>=0?e[b]:"/"}let f=RI(a,h),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Ki=t=>t.join("/").replace(/\/\/+/g,"/"),DI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,VI=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function OI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function PI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uS(t,e){let n=t;if(typeof n!="string"||!NI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(cS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Qi(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{Ps(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hS=["POST","PUT","PATCH","DELETE"];new Set(hS);var LI=["GET",...hS];new Set(LI);var kl=N.createContext(null);kl.displayName="DataRouter";var Bf=N.createContext(null);Bf.displayName="DataRouterState";var UI=N.createContext(!1),dS=N.createContext({isTransitioning:!1});dS.displayName="ViewTransition";var zI=N.createContext(new Map);zI.displayName="Fetchers";var BI=N.createContext(null);BI.displayName="Await";var Wn=N.createContext(null);Wn.displayName="Navigation";var Du=N.createContext(null);Du.displayName="Location";var ys=N.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var by=N.createContext(null);by.displayName="RouteError";var fS="REACT_ROUTER_ERROR",FI="REDIRECT",HI="ROUTE_ERROR_RESPONSE";function qI(t){if(t.startsWith(`${fS}:${FI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function GI(t){if(t.startsWith(`${fS}:${HI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new VI(e.status,e.statusText,e.data)}catch{}}function $I(t,{relative:e}={}){yt(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(Wn),{hash:a,pathname:l,search:c}=ju(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Ki([n,l])),i.createHref({pathname:h,search:c,hash:a})}function Cl(){return N.useContext(Du)!=null}function nr(){return yt(Cl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Du).location}var mS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pS(t){N.useContext(Wn).static||N.useLayoutEffect(t)}function Ff(){let{isDataRoute:t}=N.useContext(ys);return t?lD():KI()}function KI(){yt(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(kl),{basename:e,navigator:n}=N.useContext(Wn),{matches:i}=N.useContext(ys),{pathname:a}=nr(),l=JSON.stringify(yy(i)),c=N.useRef(!1);return pS(()=>{c.current=!0}),N.useCallback((f,p={})=>{if(Ps(c.current,mS),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=vy(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ki([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var YI=N.createContext(null);function QI(t){let e=N.useContext(ys).outlet;return N.useMemo(()=>e&&N.createElement(YI.Provider,{value:t},e),[e,t])}function XI(){let{matches:t}=N.useContext(ys),e=t[t.length-1];return e?e.params:{}}function ju(t,{relative:e}={}){let{matches:n}=N.useContext(ys),{pathname:i}=nr(),a=JSON.stringify(yy(n));return N.useMemo(()=>vy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function WI(t,e){return gS(t,e)}function gS(t,e,n,i,a){yt(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Wn),{matches:c}=N.useContext(ys),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let F=b&&b.path||"";vS(p,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=nr(),S;if(e){let F=typeof e=="string"?Al(e):e;yt(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=w;let D=S.pathname||"/",O=D;if(v!=="/"){let F=v.replace(/^\//,"").split("/");O="/"+D.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=aS(t,{pathname:O});Ps(b||V!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ps(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=nD(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:Ki([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Ki([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,i,a);return e&&z?N.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function JI(){let t=oD(),e=OI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,c)}var ZI=N.createElement(JI,null),yS=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=GI(t.digest);n&&(t=n)}let e=t!==void 0?N.createElement(ys.Provider,{value:this.props.routeContext},N.createElement(by.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(eD,{error:t},e):e}};yS.contextType=UI;var kg=new WeakMap;function eD({children:t,error:e}){let{basename:n}=N.useContext(Wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=qI(e.digest);if(i){let a=kg.get(e);if(a)throw a;let l=uS(i.location,n);if(cS&&!kg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw kg.set(e,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function tD({routeContext:t,match:e,children:n}){let i=N.useContext(kl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ys.Provider,{value:t},n)}function nD(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let h=!1,f=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=v),b.route.id){let{loaderData:w,errors:S}=n,D=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||D){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&i?(v,b)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:PI(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,w)=>{let S,D=!1,O=null,V=null;n&&(S=c&&b.route.id?c[b.route.id]:void 0,O=b.route.errorElement||ZI,h&&(f<0&&w===0?(vS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,V=null):f===w&&(D=!0,V=b.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,w+1)),F=()=>{let G;return S?G=O:D?G=V:b.route.Component?G=N.createElement(b.route.Component,null):b.route.element?G=b.route.element:G=v,N.createElement(tD,{match:b,routeContext:{outlet:v,matches:z,isDataRoute:n!=null},children:G})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?N.createElement(yS,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:F(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):F()},null)}function xy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sD(t){let e=N.useContext(kl);return yt(e,xy(t)),e}function iD(t){let e=N.useContext(Bf);return yt(e,xy(t)),e}function rD(t){let e=N.useContext(ys);return yt(e,xy(t)),e}function _y(t){let e=rD(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aD(){return _y("useRouteId")}function oD(){let t=N.useContext(by),e=iD("useRouteError"),n=_y("useRouteError");return t!==void 0?t:e.errors?.[n]}function lD(){let{router:t}=sD("useNavigate"),e=_y("useNavigate"),n=N.useRef(!1);return pS(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{Ps(n.current,mS),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Y1={};function vS(t,e,n){!e&&!Y1[t]&&(Y1[t]=!0,Ps(!1,n))}N.memo(cD);function cD({routes:t,future:e,state:n,onError:i}){return gS(t,void 0,n,i,e)}function uD({to:t,replace:e,state:n,relative:i}){yt(Cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(Wn);Ps(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(ys),{pathname:c}=nr(),h=Ff(),f=vy(t,yy(l),c,i==="path"),p=JSON.stringify(f);return N.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function Hi(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hD({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){yt(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=Al(n));let{pathname:p="/",search:v="",hash:b="",state:w=null,key:S="default"}=n,D=N.useMemo(()=>{let O=Qi(p,h);return O==null?null:{location:{pathname:O,search:v,hash:b,state:w,key:S},navigationType:i}},[h,p,v,b,w,S,i]);return Ps(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:N.createElement(Wn.Provider,{value:f},N.createElement(Du.Provider,{children:e,value:D}))}function dD({children:t,location:e}){return WI(g0(t),e)}function g0(t,e=[]){let n=[];return N.Children.forEach(t,(i,a)=>{if(!N.isValidElement(i))return;let l=[...e,a];if(i.type===N.Fragment){n.push.apply(n,g0(i.props.children,l));return}yt(i.type===Hi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=g0(i.props.children,l)),n.push(c)}),n}var Hd="get",qd="application/x-www-form-urlencoded";function Hf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function fD(t){return Hf(t)&&t.tagName.toLowerCase()==="button"}function mD(t){return Hf(t)&&t.tagName.toLowerCase()==="form"}function pD(t){return Hf(t)&&t.tagName.toLowerCase()==="input"}function gD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yD(t,e){return t.button===0&&(!e||e==="_self")&&!gD(t)}var Sd=null;function vD(){if(Sd===null)try{new FormData(document.createElement("form"),0),Sd=!1}catch{Sd=!0}return Sd}var bD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cg(t){return t!=null&&!bD.has(t)?(Ps(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qd}"`),null):t}function xD(t,e){let n,i,a,l,c;if(mD(t)){let h=t.getAttribute("action");i=h?Qi(h,e):null,n=t.getAttribute("method")||Hd,a=Cg(t.getAttribute("enctype"))||qd,l=new FormData(t)}else if(fD(t)||pD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?Qi(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Hd,a=Cg(t.getAttribute("formenctype"))||Cg(h.getAttribute("enctype"))||qd,l=new FormData(h,t),!vD()){let{name:p,type:v,value:b}=t;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,b)}}else{if(Hf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hd,i=null,a=qd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _D(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Qi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function wD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ED(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await wD(l,n);return c.links?c.links():[]}return[]}));return CD(i.flat(1).filter(TD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Q1(t,e,n,i,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function SD(t,e,{includeHydrateFallback:n}={}){return AD(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function AD(t){return[...new Set(t)]}function kD(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function CD(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(kD(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function bS(){let t=N.useContext(kl);return wy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ND(){let t=N.useContext(Bf);return wy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ty=N.createContext(void 0);Ty.displayName="FrameworkContext";function xS(){let t=N.useContext(Ty);return wy(t,"You must render this element inside a <HydratedRouter> element"),t}function RD(t,e){let n=N.useContext(Ty),[i,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,w=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let O=z=>{z.forEach(F=>{c(F.isIntersecting)})},V=new IntersectionObserver(O,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[t]),N.useEffect(()=>{if(i){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[i]);let S=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:$c(h,S),onBlur:$c(f,D),onMouseEnter:$c(p,S),onMouseLeave:$c(v,D),onTouchStart:$c(b,S)}]:[!1,w,{}]}function $c(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ID({page:t,...e}){let{router:n}=bS(),i=N.useMemo(()=>aS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(jD,{page:t,matches:i,...e}):null}function DD(t){let{manifest:e,routeModules:n}=xS(),[i,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return ED(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function jD({page:t,matches:e,...n}){let i=nr(),{future:a,manifest:l,routeModules:c}=xS(),{basename:h}=bS(),{loaderData:f,matches:p}=ND(),v=N.useMemo(()=>Q1(t,e,p,l,i,"data"),[t,e,p,l,i]),b=N.useMemo(()=>Q1(t,e,p,l,i,"assets"),[t,e,p,l,i]),w=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let O=new Set,V=!1;if(e.forEach(F=>{let G=l.routes[F.route.id];!G||!G.hasLoader||(!v.some(te=>te.route.id===F.route.id)&&F.route.id in f&&c[F.route.id]?.shouldRevalidate||G.hasClientLoader?V=!0:O.add(F.route.id))}),O.size===0)return[];let z=_D(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return V&&O.size>0&&z.searchParams.set("_routes",e.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[z.pathname+z.search]},[h,a.unstable_trailingSlashAwareDataRequests,f,i,l,v,e,t,c]),S=N.useMemo(()=>SD(b,l),[b,l]),D=DD(b);return N.createElement(N.Fragment,null,w.map(O=>N.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),S.map(O=>N.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),D.map(({key:O,link:V})=>N.createElement("link",{key:O,nonce:n.nonce,...V,crossOrigin:V.crossOrigin??n.crossOrigin})))}function MD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VD&&(window.__reactRouterVersion="7.13.0")}catch{}function OD({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=N.useRef();a.current==null&&(a.current=dI({window:i,v5Compat:!0}));let l=a.current,[c,h]=N.useState({action:l.action,location:l.location}),f=N.useCallback(p=>{n===!1?h(p):N.startTransition(()=>h(p))},[n]);return N.useLayoutEffect(()=>l.listen(f),[l,f]),N.createElement(hD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var _S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cn=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...S},D){let{basename:O,unstable_useTransitions:V}=N.useContext(Wn),z=typeof p=="string"&&_S.test(p),F=uS(p,O);p=F.to;let G=$I(p,{relative:a}),[te,re,he]=RD(i,S),j=zD(p,{replace:c,state:h,target:f,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:V});function E(M){e&&e(M),M.defaultPrevented||j(M)}let k=N.createElement("a",{...S,...he,href:F.absoluteURL||G,onClick:F.isExternal||l?e:E,ref:MD(D,re),target:f,"data-discover":!z&&n==="render"?"true":void 0});return te&&!z?N.createElement(N.Fragment,null,k,N.createElement(ID,{page:G})):k});cn.displayName="Link";var PD=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...p},v){let b=ju(c,{relative:p.relative}),w=nr(),S=N.useContext(Bf),{navigator:D,basename:O}=N.useContext(Wn),V=S!=null&&GD(b)&&h===!0,z=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,F=w.pathname,G=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(F=F.toLowerCase(),G=G?G.toLowerCase():null,z=z.toLowerCase()),G&&O&&(G=Qi(G,O)||G);const te=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let re=F===z||!a&&F.startsWith(z)&&F.charAt(te)==="/",he=G!=null&&(G===z||!a&&G.startsWith(z)&&G.charAt(z.length)==="/"),j={isActive:re,isPending:he,isTransitioning:V},E=re?e:void 0,k;typeof i=="function"?k=i(j):k=[i,re?"active":null,he?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(j):l;return N.createElement(cn,{...p,"aria-current":E,className:k,ref:v,style:M,to:c,viewTransition:h},typeof f=="function"?f(j):f)});PD.displayName="NavLink";var LD=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Hd,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...S},D)=>{let{unstable_useTransitions:O}=N.useContext(Wn),V=HD(),z=qD(h,{relative:p}),F=c.toLowerCase()==="get"?"get":"post",G=typeof h=="string"&&_S.test(h),te=re=>{if(f&&f(re),re.defaultPrevented)return;re.preventDefault();let he=re.nativeEvent.submitter,j=he?.getAttribute("formmethod")||c,E=()=>V(he||re.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w});O&&n!==!1?N.startTransition(()=>E()):E()};return N.createElement("form",{ref:D,method:F,action:z,onSubmit:i?f:te,...S,"data-discover":!G&&t==="render"?"true":void 0})});LD.displayName="Form";function UD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wS(t){let e=N.useContext(kl);return yt(e,UD(t)),e}function zD(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let p=Ff(),v=nr(),b=ju(t,{relative:l});return N.useCallback(w=>{if(yD(w,e)){w.preventDefault();let S=n!==void 0?n:mu(v)===mu(b),D=()=>p(t,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});f?N.startTransition(()=>D()):D()}},[v,p,b,n,i,e,t,a,l,c,h,f])}var BD=0,FD=()=>`__${String(++BD)}__`;function HD(){let{router:t}=wS("useSubmit"),{basename:e}=N.useContext(Wn),n=aD(),i=t.fetch,a=t.navigate;return N.useCallback(async(l,c={})=>{let{action:h,method:f,encType:p,formData:v,body:b}=xD(l,e);if(c.navigate===!1){let w=c.fetcherKey||FD();await i(w,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function qD(t,{relative:e}={}){let{basename:n}=N.useContext(Wn),i=N.useContext(ys);yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ju(t||".",{relative:e})},c=nr();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ki([n,l.pathname])),mu(l)}function GD(t,{relative:e}={}){let n=N.useContext(dS);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=wS("useViewTransitionState"),a=ju(t,{relative:e});if(!n.isTransitioning)return!1;let l=Qi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Qi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return cf(a.pathname,c)!=null||cf(a.pathname,l)!=null}const Ey=N.createContext({});function Sy(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const TS=typeof window<"u",ES=TS?N.useLayoutEffect:N.useEffect,qf=N.createContext(null);function Ay(t,e){t.indexOf(e)===-1&&t.push(e)}function uf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vi=(t,e,n)=>n>e?e:n<t?t:n;let ky=()=>{};const Xi={},SS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function AS(t){return typeof t=="object"&&t!==null}const kS=t=>/^0[^.\s]+$/u.test(t);function Cy(t){let e;return()=>(e===void 0&&(e=t()),e)}const ms=t=>t,$D=(t,e)=>n=>e(t(n)),Mu=(...t)=>t.reduce($D),pu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Ny{constructor(){this.subscriptions=[]}add(e){return Ay(this.subscriptions,e),()=>uf(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ms=t=>t*1e3,fs=t=>t/1e3;function CS(t,e){return e?t*(1e3/e):0}const NS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,KD=1e-7,YD=12;function QD(t,e,n,i,a){let l,c,h=0;do c=e+(n-e)/2,l=NS(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>KD&&++h<YD);return c}function Vu(t,e,n,i){if(t===e&&n===i)return ms;const a=l=>QD(l,0,1,t,n);return l=>l===0||l===1?l:NS(a(l),e,i)}const RS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,IS=t=>e=>1-t(1-e),DS=Vu(.33,1.53,.69,.99),Ry=IS(DS),jS=RS(Ry),MS=t=>(t*=2)<1?.5*Ry(t):.5*(2-Math.pow(2,-10*(t-1))),Iy=t=>1-Math.sin(Math.acos(t)),VS=IS(Iy),OS=RS(Iy),XD=Vu(.42,0,1,1),WD=Vu(0,0,.58,1),PS=Vu(.42,0,.58,1),JD=t=>Array.isArray(t)&&typeof t[0]!="number",LS=t=>Array.isArray(t)&&typeof t[0]=="number",ZD={linear:ms,easeIn:XD,easeInOut:PS,easeOut:WD,circIn:Iy,circInOut:OS,circOut:VS,backIn:Ry,backInOut:jS,backOut:DS,anticipate:MS},e4=t=>typeof t=="string",X1=t=>{if(LS(t)){ky(t.length===4);const[e,n,i,a]=t;return Vu(e,n,i,a)}else if(e4(t))return ZD[t];return t},Ad=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function t4(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(v){c.has(v)&&(p.schedule(v),t()),v(h)}const p={schedule:(v,b=!1,w=!1)=>{const D=w&&a?n:i;return b&&c.add(v),D.has(v)||D.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(h=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const n4=40;function US(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Ad.reduce((G,te)=>(G[te]=t4(l),G),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:v,update:b,preRender:w,render:S,postRender:D}=c,O=()=>{const G=Xi.useManualTiming?a.timestamp:performance.now();n=!1,Xi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(G-a.timestamp,n4),1)),a.timestamp=G,a.isProcessing=!0,h.process(a),f.process(a),p.process(a),v.process(a),b.process(a),w.process(a),S.process(a),D.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(O))},V=()=>{n=!0,i=!0,a.isProcessing||t(O)};return{schedule:Ad.reduce((G,te)=>{const re=c[te];return G[te]=(he,j=!1,E=!1)=>(n||V(),re.schedule(he,j,E)),G},{}),cancel:G=>{for(let te=0;te<Ad.length;te++)c[Ad[te]].cancel(G)},state:a,steps:c}}const{schedule:ht,cancel:Xr,state:un,steps:Ng}=US(typeof requestAnimationFrame<"u"?requestAnimationFrame:ms,!0);let Gd;function s4(){Gd=void 0}const Sn={now:()=>(Gd===void 0&&Sn.set(un.isProcessing||Xi.useManualTiming?un.timestamp:performance.now()),Gd),set:t=>{Gd=t,queueMicrotask(s4)}},zS=t=>e=>typeof e=="string"&&e.startsWith(t),BS=zS("--"),i4=zS("var(--"),Dy=t=>i4(t)?r4.test(t.split("/*")[0].trim()):!1,r4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function W1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Nl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gu={...Nl,transform:t=>vi(0,1,t)},kd={...Nl,default:1},nu=t=>Math.round(t*1e5)/1e5,jy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function a4(t){return t==null}const o4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,My=(t,e)=>n=>!!(typeof n=="string"&&o4.test(n)&&n.startsWith(t)||e&&!a4(n)&&Object.prototype.hasOwnProperty.call(n,e)),FS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(jy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},l4=t=>vi(0,255,t),Rg={...Nl,transform:t=>Math.round(l4(t))},Ga={test:My("rgb","red"),parse:FS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Rg.transform(t)+", "+Rg.transform(e)+", "+Rg.transform(n)+", "+nu(gu.transform(i))+")"};function c4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const y0={test:My("#"),parse:c4,transform:Ga.transform},Ou=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ur=Ou("deg"),di=Ou("%"),_e=Ou("px"),u4=Ou("vh"),h4=Ou("vw"),J1={...di,parse:t=>di.parse(t)/100,transform:t=>di.transform(t*100)},al={test:My("hsl","hue"),parse:FS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+di.transform(nu(e))+", "+di.transform(nu(n))+", "+nu(gu.transform(i))+")"},Ht={test:t=>Ga.test(t)||y0.test(t)||al.test(t),parse:t=>Ga.test(t)?Ga.parse(t):al.test(t)?al.parse(t):y0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ga.transform(t):al.transform(t),getAnimatableNone:t=>{const e=Ht.parse(t);return e.alpha=0,Ht.transform(e)}},d4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f4(t){return isNaN(t)&&typeof t=="string"&&(t.match(jy)?.length||0)+(t.match(d4)?.length||0)>0}const HS="number",qS="color",m4="var",p4="var(",Z1="${}",g4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(g4,f=>(Ht.test(f)?(i.color.push(l),a.push(qS),n.push(Ht.parse(f))):f.startsWith(p4)?(i.var.push(l),a.push(m4),n.push(f)):(i.number.push(l),a.push(HS),n.push(parseFloat(f))),++l,Z1)).split(Z1);return{values:n,split:h,indexes:i,types:a}}function GS(t){return yu(t).values}function $S(t){const{split:e,types:n}=yu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===HS?l+=nu(a[c]):h===qS?l+=Ht.transform(a[c]):l+=a[c]}return l}}const y4=t=>typeof t=="number"?0:Ht.test(t)?Ht.getAnimatableNone(t):t;function v4(t){const e=GS(t);return $S(t)(e.map(y4))}const Wr={test:f4,parse:GS,createTransformer:$S,getAnimatableNone:v4};function Ig(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function b4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=Ig(f,h,t+1/3),l=Ig(f,h,t),c=Ig(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function hf(t,e){return n=>n>0?e:t}const vt=(t,e,n)=>t+(e-t)*n,Dg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},x4=[y0,Ga,al],_4=t=>x4.find(e=>e.test(t));function ew(t){const e=_4(t);if(!e)return!1;let n=e.parse(t);return e===al&&(n=b4(n)),n}const tw=(t,e)=>{const n=ew(t),i=ew(e);if(!n||!i)return hf(t,e);const a={...n};return l=>(a.red=Dg(n.red,i.red,l),a.green=Dg(n.green,i.green,l),a.blue=Dg(n.blue,i.blue,l),a.alpha=vt(n.alpha,i.alpha,l),Ga.transform(a))},v0=new Set(["none","hidden"]);function w4(t,e){return v0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function T4(t,e){return n=>vt(t,e,n)}function Vy(t){return typeof t=="number"?T4:typeof t=="string"?Dy(t)?hf:Ht.test(t)?tw:A4:Array.isArray(t)?KS:typeof t=="object"?Ht.test(t)?tw:E4:hf}function KS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Vy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function E4(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Vy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function S4(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;n[a]=h,i[l]++}return n}const A4=(t,e)=>{const n=Wr.createTransformer(e),i=yu(t),a=yu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?v0.has(t)&&!a.values.length||v0.has(e)&&!i.values.length?w4(t,e):Mu(KS(S4(i,a),a.values),n):hf(t,e)};function YS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):Vy(t)(t,e)}const k4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>Xr(e),now:()=>un.isProcessing?un.timestamp:Sn.now()}},QS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},df=2e4;function Oy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<df;)e+=n,i=t.next(e);return e>=df?1/0:e}function C4(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Oy(i),df);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:fs(a)}}const N4=5;function XS(t,e,n){const i=Math.max(e-N4,0);return CS(n-t(i),e-i)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jg=.001;function R4({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:i=Tt.mass}){let a,l,c=1-e;c=vi(Tt.minDamping,Tt.maxDamping,c),t=vi(Tt.minDuration,Tt.maxDuration,fs(t)),c<1?(a=p=>{const v=p*c,b=v*t,w=v-n,S=b0(p,c),D=Math.exp(-b);return jg-w/S*D},l=p=>{const b=p*c*t,w=b*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,D=Math.exp(-b),O=b0(Math.pow(p,2),c);return(-a(p)+jg>0?-1:1)*((w-S)*D)/O}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-jg+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const h=5/t,f=D4(a,l,h);if(t=Ms(t),isNaN(f))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const I4=12;function D4(t,e,n){let i=n;for(let a=1;a<I4;a++)i=i-t(i)/e(i);return i}function b0(t,e){return t*Math.sqrt(1-e*e)}const j4=["duration","bounce"],M4=["stiffness","damping","mass"];function nw(t,e){return e.some(n=>t[n]!==void 0)}function V4(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!nw(t,M4)&&nw(t,j4))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*vi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:l}}else{const n=R4(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function ff(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:v,duration:b,velocity:w,isResolvedFromDuration:S}=V4({...n,velocity:-fs(n.velocity||0)}),D=w||0,O=p/(2*Math.sqrt(f*v)),V=c-l,z=fs(Math.sqrt(f/v)),F=Math.abs(V)<5;i||(i=F?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=F?Tt.restDelta.granular:Tt.restDelta.default);let G;if(O<1){const re=b0(z,O);G=he=>{const j=Math.exp(-O*z*he);return c-j*((D+O*z*V)/re*Math.sin(re*he)+V*Math.cos(re*he))}}else if(O===1)G=re=>c-Math.exp(-z*re)*(V+(D+z*V)*re);else{const re=z*Math.sqrt(O*O-1);G=he=>{const j=Math.exp(-O*z*he),E=Math.min(re*he,300);return c-j*((D+O*z*V)*Math.sinh(E)+re*V*Math.cosh(E))/re}}const te={calculatedDuration:S&&b||null,next:re=>{const he=G(re);if(S)h.done=re>=b;else{let j=re===0?D:0;O<1&&(j=re===0?Ms(D):XS(G,re,he));const E=Math.abs(j)<=i,k=Math.abs(c-he)<=a;h.done=E&&k}return h.value=h.done?c:he,h},toString:()=>{const re=Math.min(Oy(te),df),he=QS(j=>te.next(re*j).value,re,30);return re+"ms "+he},toTransition:()=>{}};return te}ff.applyToOptions=t=>{const e=C4(t,100,ff);return t.ease=e.ease,t.duration=Ms(e.duration),t.type="keyframes",t};function x0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:p=.5,restSpeed:v}){const b=t[0],w={done:!1,value:b},S=E=>h!==void 0&&E<h||f!==void 0&&E>f,D=E=>h===void 0?f:f===void 0||Math.abs(h-E)<Math.abs(f-E)?h:f;let O=n*e;const V=b+O,z=c===void 0?V:c(V);z!==V&&(O=z-b);const F=E=>-O*Math.exp(-E/i),G=E=>z+F(E),te=E=>{const k=F(E),M=G(E);w.done=Math.abs(k)<=p,w.value=w.done?z:M};let re,he;const j=E=>{S(w.value)&&(re=E,he=ff({keyframes:[w.value,D(w.value)],velocity:XS(G,E,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return j(0),{calculatedDuration:null,next:E=>{let k=!1;return!he&&re===void 0&&(k=!0,te(E),j(E)),re!==void 0&&E>=re?he.next(E-re):(!k&&te(E),w)}}}function O4(t,e,n){const i=[],a=n||Xi.mix||YS,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||ms:e;h=Mu(f,h)}i.push(h)}return i}function P4(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(ky(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=O4(e,i,a),f=h.length,p=v=>{if(c&&v<t[0])return e[0];let b=0;if(f>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const w=pu(t[b],t[b+1],v);return h[b](w)};return n?v=>p(vi(t[0],t[l-1],v)):p}function L4(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=pu(0,e,i);t.push(vt(n,1,a))}}function U4(t){const e=[0];return L4(e,t.length-1),e}function z4(t,e){return t.map(n=>n*e)}function B4(t,e){return t.map(()=>e||PS).splice(0,t.length-1)}function su({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=JD(i)?i.map(X1):X1(i),l={done:!1,value:e[0]},c=z4(n&&n.length===e.length?n:U4(e),t),h=P4(c,e,{ease:Array.isArray(a)?a:B4(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const F4=t=>t!==null;function Py(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(F4),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const H4={decay:x0,inertia:x0,tween:su,keyframes:su,spring:ff};function WS(t){typeof t.type=="string"&&(t.type=H4[t.type])}class Ly{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const q4=t=>t/100;class Uy extends Ly{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Sn.now()&&this.tick(Sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;WS(e);const{type:n=su,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const f=n||su;f!==su&&typeof h[0]!="number"&&(this.mixKeyframes=Mu(q4,YS(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Oy(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:w,repeatDelay:S,type:D,onUpdate:O,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,te=i;if(b){const E=Math.min(this.currentTime,a)/h;let k=Math.floor(E),M=E%1;!M&&E>=1&&(M=1),M===1&&k--,k=Math.min(k,b+1),k%2&&(w==="reverse"?(M=1-M,S&&(M-=S/h)):w==="mirror"&&(te=c)),G=vi(0,1,M)*h}const re=F?{done:!1,value:v[0]}:te.next(G);l&&(re.value=l(re.value));let{done:he}=re;!F&&f!==null&&(he=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&he);return j&&D!==x0&&(re.value=Py(v,this.options,V,this.speed)),O&&O(re.value),j&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return fs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fs(e)}get time(){return fs(this.currentTime)}set time(e){e=Ms(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Sn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=k4,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function G4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $a=t=>t*180/Math.PI,_0=t=>{const e=$a(Math.atan2(t[1],t[0]));return w0(e)},$4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:_0,rotateZ:_0,skewX:t=>$a(Math.atan(t[1])),skewY:t=>$a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},w0=t=>(t=t%360,t<0&&(t+=360),t),sw=_0,iw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),K4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iw,scaleY:rw,scale:t=>(iw(t)+rw(t))/2,rotateX:t=>w0($a(Math.atan2(t[6],t[5]))),rotateY:t=>w0($a(Math.atan2(-t[2],t[0]))),rotateZ:sw,rotate:sw,skewX:t=>$a(Math.atan(t[4])),skewY:t=>$a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function T0(t){return t.includes("scale")?1:0}function E0(t,e){if(!t||t==="none")return T0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=K4,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=$4,a=h}if(!a)return T0(e);const l=i[e],c=a[1].split(",").map(Q4);return typeof l=="function"?l(c):c[l]}const Y4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return E0(n,e)};function Q4(t){return parseFloat(t.trim())}const Rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(Rl),aw=t=>t===Nl||t===_e,X4=new Set(["x","y","z"]),W4=Rl.filter(t=>!X4.has(t));function J4(t){const e=[];return W4.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const qr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>E0(e,"x"),y:(t,{transform:e})=>E0(e,"y")};qr.translateX=qr.x;qr.translateY=qr.y;const Qa=new Set;let S0=!1,A0=!1,k0=!1;function JS(){if(A0){const t=Array.from(Qa).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=J4(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}A0=!1,S0=!1,Qa.forEach(t=>t.complete(k0)),Qa.clear()}function ZS(){Qa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(A0=!0)})}function Z4(){k0=!0,ZS(),JS(),k0=!1}class zy{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Qa.add(this),S0||(S0=!0,ht.read(ZS),ht.resolveKeyframes(JS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}G4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qa.delete(this)}cancel(){this.state==="scheduled"&&(Qa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const e5=t=>t.startsWith("--");function t5(t,e,n){e5(e)?t.style.setProperty(e,n):t.style[e]=n}const n5=Cy(()=>window.ScrollTimeline!==void 0),s5={};function i5(t,e){const n=Cy(t);return()=>s5[e]??n()}const eA=i5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,ow={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wc([0,.65,.55,1]),circOut:Wc([.55,0,1,.45]),backIn:Wc([.31,.01,.66,-.59]),backOut:Wc([.33,1.53,.69,.99])};function tA(t,e){if(t)return typeof t=="function"?eA()?QS(t,e):"ease-out":LS(t)?Wc(t):Array.isArray(t)?t.map(n=>tA(n,e)||ow.easeOut):ow[t]}function r5(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},p=void 0){const v={[e]:n};f&&(v.offset=f);const b=tA(h,a);Array.isArray(b)&&(v.easing=b);const w={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(v,w)}function nA(t){return typeof t=="function"&&"applyToOptions"in t}function a5({type:t,...e}){return nA(t)&&eA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class sA extends Ly{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,ky(typeof e.type!="string");const p=a5(e);this.animation=r5(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Py(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):t5(n,i,v),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return fs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fs(e)}get time(){return fs(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ms(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&n5()?(this.animation.timeline=e,ms):n(this)}}const iA={anticipate:MS,backInOut:jS,circInOut:OS};function o5(t){return t in iA}function l5(t){typeof t.ease=="string"&&o5(t.ease)&&(t.ease=iA[t.ease])}const Mg=10;class c5 extends sA{constructor(e){l5(e),WS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Uy({...c,autoplay:!1}),f=Math.max(Mg,Sn.now()-this.startTime),p=vi(0,Mg,f-Mg);n.setWithVelocity(h.sample(Math.max(0,f-p)).value,h.sample(f).value,p),h.stop()}}const lw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wr.test(t)||t==="0")&&!t.startsWith("url("));function u5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function h5(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=lw(a,e),h=lw(l,e);return!c||!h?!1:u5(t)||(n==="spring"||nA(n))&&i}function C0(t){t.duration=0,t.type="keyframes"}const d5=new Set(["opacity","clipPath","filter","transform"]),f5=Cy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function m5(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return f5()&&n&&d5.has(n)&&(n!=="transform"||!p)&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const p5=40;class g5 extends Ly{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:p,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Sn.now();const w={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:v,...b},S=v?.KeyframeResolver||zy;this.keyframeResolver=new S(h,(D,O,V)=>this.onKeyframesResolved(D,O,w,!V),f,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:p,onUpdate:v}=i;this.resolvedAt=Sn.now(),h5(e,l,c,h)||((Xi.instantAnimations||!f)&&v?.(Py(e,i,n)),e[0]=e[e.length-1],C0(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>p5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!p&&m5(w),D=w.motionValue?.owner?.current,O=S?new c5({...w,element:D}):new Uy(w);O.finished.then(()=>{this.notifyFinished()}).catch(ms),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Z4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function rA(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,h=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:h-l*i}const y5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function v5(t){const e=y5.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function aA(t,e,n=1){const[i,a]=v5(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return SS(c)?parseFloat(c):c}return Dy(a)?aA(a,e,n+1):a}const b5={type:"spring",stiffness:500,damping:25,restSpeed:10},x5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_5={type:"keyframes",duration:.8},w5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T5=(t,{keyframes:e})=>e.length>2?_5:Il.has(t)?t.startsWith("scale")?x5(e[1]):b5:w5,E5=t=>t!==null;function S5(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(E5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function oA(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function By(t,e){const n=t?.[e]??t?.default??t;return n!==t?oA(n,t):n}function A5({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const Fy=(t,e,n,i={},a,l)=>c=>{const h=By(i,t)||{},f=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ms(f);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};A5(h)||Object.assign(v,T5(t,v)),v.duration&&(v.duration=Ms(v.duration)),v.repeatDelay&&(v.repeatDelay=Ms(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(C0(v),v.delay===0&&(b=!0)),(Xi.instantAnimations||Xi.skipAnimations||a?.shouldSkipAnimations)&&(b=!0,C0(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const w=S5(v.keyframes,h);if(w!==void 0){ht.update(()=>{v.onUpdate(w),v.onComplete()});return}}return h.isSync?new Uy(v):new g5(v)};function cw(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Hy(t,e,n,i){if(typeof e=="function"){const[a,l]=cw(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=cw(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function hl(t,e,n){const i=t.getProps();return Hy(i,e,n!==void 0?n:i.custom,t)}const lA=new Set(["width","height","top","left","right","bottom",...Rl]),uw=30,k5=t=>!isNaN(parseFloat(t));class C5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Sn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=k5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ny);const i=this.events[e].add(n);return e==="change"?()=>{i(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>uw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,uw);return CS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(t,e){return new C5(t,e)}const N0=t=>Array.isArray(t);function N5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vl(n))}function R5(t){return N0(t)?t[t.length-1]||0:t}function I5(t,e){const n=hl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const h=R5(l[c]);N5(t,c,h)}}const bn=t=>!!(t&&t.getVelocity);function D5(t){return!!(bn(t)&&t.add)}function R0(t,e){const n=t.getValue("willChange");if(D5(n))return n.add(e);if(!n&&Xi.WillChange){const i=new Xi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function qy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const j5="framerAppearId",cA="data-"+qy(j5);function uA(t){return t.props[cA]}function M5({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function hA(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:c,...h}=e;const f=t.getDefaultTransition();l=l?oA(l,f):f;const p=l?.reduceMotion;i&&(l=i);const v=[],b=a&&t.animationState&&t.animationState.getState()[a];for(const w in h){const S=t.getValue(w,t.latestValues[w]??null),D=h[w];if(D===void 0||b&&M5(b,w))continue;const O={delay:n,...By(l||{},w)},V=S.get();if(V!==void 0&&!S.isAnimating&&!Array.isArray(D)&&D===V&&!O.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const te=uA(t);if(te){const re=window.MotionHandoffAnimation(te,w,ht);re!==null&&(O.startTime=re,z=!0)}}R0(t,w);const F=p??t.shouldReduceMotion;S.start(Fy(w,S,D,F&&lA.has(w)?{type:!1}:O,t,z));const G=S.animation;G&&v.push(G)}if(c){const w=()=>ht.update(()=>{c&&I5(t,c)});v.length?Promise.all(v).then(w):w()}return v}function I0(t,e,n={}){const i=hl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(hA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:b}=a;return V5(t,e,f,p,v,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,p]=h==="beforeChildren"?[l,c]:[c,l];return f().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function V5(t,e,n=0,i=0,a=0,l=1,c){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(I0(f,e,{...c,delay:n+(typeof i=="function"?0:i)+rA(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function O5(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>I0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=I0(t,e,n);else{const a=typeof e=="function"?hl(t,e,n.custom):e;i=Promise.all(hA(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const P5={test:t=>t==="auto",parse:t=>t},dA=t=>e=>e.test(t),fA=[Nl,_e,di,Ur,h4,u4,P5],hw=t=>fA.find(dA(t));function L5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kS(t):!0}const U5=new Set(["brightness","contrast","saturate","opacity"]);function z5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(jy)||[];if(!i)return t;const a=n.replace(i,"");let l=U5.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const B5=/\b([a-z-]*)\(.*?\)/gu,D0={...Wr,getAnimatableNone:t=>{const e=t.match(B5);return e?e.map(z5).join(" "):t}},dw={...Nl,transform:Math.round},F5={rotate:Ur,rotateX:Ur,rotateY:Ur,rotateZ:Ur,scale:kd,scaleX:kd,scaleY:kd,scaleZ:kd,skew:Ur,skewX:Ur,skewY:Ur,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:gu,originX:J1,originY:J1,originZ:_e},Gy={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,inset:_e,insetBlock:_e,insetBlockStart:_e,insetBlockEnd:_e,insetInline:_e,insetInlineStart:_e,insetInlineEnd:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,paddingBlock:_e,paddingBlockStart:_e,paddingBlockEnd:_e,paddingInline:_e,paddingInlineStart:_e,paddingInlineEnd:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,marginBlock:_e,marginBlockStart:_e,marginBlockEnd:_e,marginInline:_e,marginInlineStart:_e,marginInlineEnd:_e,fontSize:_e,backgroundPositionX:_e,backgroundPositionY:_e,...F5,zIndex:dw,fillOpacity:gu,strokeOpacity:gu,numOctaves:dw},H5={...Gy,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:D0,WebkitFilter:D0},mA=t=>H5[t];function pA(t,e){let n=mA(t);return n!==D0&&(n=Wr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const q5=new Set(["auto","none","0"]);function G5(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!q5.has(l)&&yu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=pA(n,a)}class $5 extends zy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let b=e[v];if(typeof b=="string"&&(b=b.trim(),Dy(b))){const w=aA(b,n.current);w!==void 0&&(e[v]=w),v===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!lA.has(i)||e.length!==2)return;const[a,l]=e,c=hw(a),h=hw(l),f=W1(a),p=W1(l);if(f!==p&&qr[i]){this.needsMeasurement=!0;return}if(c!==h)if(aw(c)&&aw(h))for(let v=0;v<e.length;v++){const b=e[v];typeof b=="string"&&(e[v]=parseFloat(b))}else qr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||L5(e[a]))&&i.push(a);i.length&&G5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=qr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const K5=new Set(["opacity","clipPath","filter","transform"]);function gA(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const yA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function j0(t){return AS(t)&&"offsetHeight"in t}const{schedule:$y}=US(queueMicrotask,!1),Ds={x:!1,y:!1};function vA(){return Ds.x||Ds.y}function Y5(t){return t==="x"||t==="y"?Ds[t]?null:(Ds[t]=!0,()=>{Ds[t]=!1}):Ds.x||Ds.y?null:(Ds.x=Ds.y=!0,()=>{Ds.x=Ds.y=!1})}function bA(t,e){const n=gA(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function Q5(t){return!(t.pointerType==="touch"||vA())}function X5(t,e,n={}){const[i,a,l]=bA(t,n);return i.forEach(c=>{let h=!1,f=!1,p;const v=()=>{c.removeEventListener("pointerleave",D)},b=V=>{p&&(p(V),p=void 0),v()},w=V=>{h=!1,window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",w),f&&(f=!1,b(V))},S=()=>{h=!0,window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",w,a)},D=V=>{if(V.pointerType!=="touch"){if(h){f=!0;return}b(V)}},O=V=>{if(!Q5(V))return;f=!1;const z=e(c,V);typeof z=="function"&&(p=z,c.addEventListener("pointerleave",D,a))};c.addEventListener("pointerenter",O,a),c.addEventListener("pointerdown",S,a)}),l}const xA=(t,e)=>e?t===e?!0:xA(t,e.parentElement):!1,Ky=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,W5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function J5(t){return W5.has(t.tagName)||t.isContentEditable===!0}const Z5=new Set(["INPUT","SELECT","TEXTAREA"]);function ej(t){return Z5.has(t.tagName)||t.isContentEditable===!0}const $d=new WeakSet;function fw(t){return e=>{e.key==="Enter"&&t(e)}}function Vg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tj=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=fw(()=>{if($d.has(n))return;Vg(n,"down");const a=fw(()=>{Vg(n,"up")}),l=()=>Vg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function mw(t){return Ky(t)&&!vA()}const pw=new WeakSet;function nj(t,e,n={}){const[i,a,l]=bA(t,n),c=h=>{const f=h.currentTarget;if(!mw(h)||pw.has(h))return;$d.add(f),n.stopPropagation&&pw.add(h);const p=e(f,h),v=(S,D)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),$d.has(f)&&$d.delete(f),mw(S)&&typeof p=="function"&&p(S,{success:D})},b=S=>{v(S,f===window||f===document||n.useGlobalTarget||xA(f,S.target))},w=S=>{v(S,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),j0(h)&&(h.addEventListener("focus",p=>tj(p,a)),!J5(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Yy(t){return AS(t)&&"ownerSVGElement"in t}const Kd=new WeakMap;let Yd;const _A=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:Yy(i)&&"getBBox"in i?i.getBBox()[e]:i[n],sj=_A("inline","width","offsetWidth"),ij=_A("block","height","offsetHeight");function rj({target:t,borderBoxSize:e}){Kd.get(t)?.forEach(n=>{n(t,{get width(){return sj(t,e)},get height(){return ij(t,e)}})})}function aj(t){t.forEach(rj)}function oj(){typeof ResizeObserver>"u"||(Yd=new ResizeObserver(aj))}function lj(t,e){Yd||oj();const n=gA(t);return n.forEach(i=>{let a=Kd.get(i);a||(a=new Set,Kd.set(i,a)),a.add(e),Yd?.observe(i)}),()=>{n.forEach(i=>{const a=Kd.get(i);a?.delete(e),a?.size||Yd?.unobserve(i)})}}const Qd=new Set;let ol;function cj(){ol=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Qd.forEach(e=>e(t))},window.addEventListener("resize",ol)}function uj(t){return Qd.add(t),ol||cj(),()=>{Qd.delete(t),!Qd.size&&typeof ol=="function"&&(window.removeEventListener("resize",ol),ol=void 0)}}function gw(t,e){return typeof t=="function"?uj(t):lj(t,e)}function hj(t){return Yy(t)&&t.tagName==="svg"}const dj=[...fA,Ht,Wr],fj=t=>dj.find(dA(t)),yw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:yw(),y:yw()}),vw=()=>({min:0,max:0}),Qt=()=>({x:vw(),y:vw()}),mj=new WeakMap;function Gf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vu(t){return typeof t=="string"||Array.isArray(t)}const Qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xy=["initial",...Qy];function $f(t){return Gf(t.animate)||Xy.some(e=>vu(t[e]))}function wA(t){return!!($f(t)||t.variants)}function pj(t,e,n){for(const i in e){const a=e[i],l=n[i];if(bn(a))t.addValue(i,a);else if(bn(l))t.addValue(i,vl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,vl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const M0={current:null},TA={current:!1},gj=typeof window<"u";function yj(){if(TA.current=!0,!!gj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>M0.current=t.matches;t.addEventListener("change",e),e()}else M0.current=!1}const bw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let mf={};function EA(t){mf=t}function vj(){return mf}class bj{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:h},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=zy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Sn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ht.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=$f(n),this.isVariantNode=wA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in w){const D=w[S];p[S]!==void 0&&bn(D)&&D.set(p[S])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,mj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(TA.current||yj(),this.shouldReduceMotion=M0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Xr(this.notifyUpdate),Xr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&K5.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:h,times:f,ease:p,duration:v}=n.accelerate,b=new sA({element:this.current,name:e,keyframes:h,times:f,ease:p,duration:Ms(v)}),w=c(b);this.valueSubscriptions.set(e,()=>{w(),b.cancel()});return}const i=Il.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ht.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mf){const n=mf[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<bw.length;i++){const a=bw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=pj(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=vl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(SS(i)||kS(i))?i=parseFloat(i):!fj(i)&&Wr.test(n)&&(i=pA(e,n)),this.setBaseTarget(e,bn(i)?i.get():i)),bn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Hy(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!bn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ny),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){$y.render(this.render)}}class SA extends bj{constructor(){super(...arguments),this.KeyframeResolver=$5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function AA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function xj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _j(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Og(t){return t===void 0||t===1}function V0({scale:t,scaleX:e,scaleY:n}){return!Og(t)||!Og(e)||!Og(n)}function Ha(t){return V0(t)||kA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kA(t){return xw(t.x)||xw(t.y)}function xw(t){return t&&t!=="0%"}function pf(t,e,n){const i=t-n,a=e*i;return n+a}function _w(t,e,n,i,a){return a!==void 0&&(t=pf(t,a,i)),pf(t,n,i)+e}function O0(t,e=0,n=1,i,a){t.min=_w(t.min,e,n,i,a),t.max=_w(t.max,e,n,i,a)}function CA(t,{x:e,y:n}){O0(t.x,e.translate,e.scale,e.originPoint),O0(t.y,n.translate,n.scale,n.originPoint)}const ww=.999999999999,Tw=1.0000000000001;function wj(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ul(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,CA(t,c)),i&&Ha(l.latestValues)&&ul(t,l.latestValues))}e.x<Tw&&e.x>ww&&(e.x=1),e.y<Tw&&e.y>ww&&(e.y=1)}function cl(t,e){t.min=t.min+e,t.max=t.max+e}function Ew(t,e,n,i,a=.5){const l=vt(t.min,t.max,a);O0(t,e,n,l,i)}function ul(t,e){Ew(t.x,e.x,e.scaleX,e.scale,e.originX),Ew(t.y,e.y,e.scaleY,e.scale,e.originY)}function NA(t,e){return AA(_j(t.getBoundingClientRect(),e))}function Tj(t,e,n){const i=NA(t,n),{scroll:a}=e;return a&&(cl(i.x,a.offset.x),cl(i.y,a.offset.y)),i}const Ej={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Sj=Rl.length;function Aj(t,e,n){let i="",a=!0;for(let l=0;l<Sj;l++){const c=Rl[l],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number")f=h===(c.startsWith("scale")?1:0);else{const p=parseFloat(h);f=c.startsWith("scale")?p===1:p===0}if(!f||n){const p=yA(h,Gy[c]);if(!f){a=!1;const v=Ej[c]||c;i+=`${v}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Wy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const f in e){const p=e[f];if(Il.has(f)){c=!0;continue}else if(BS(f)){a[f]=p;continue}else{const v=yA(p,Gy[f]);f.startsWith("origin")?(h=!0,l[f]=v):i[f]=v}}if(e.transform||(c||n?i.transform=Aj(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${f} ${p} ${v}`}}function RA(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function Sw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const n=Sw(t,e.target.x),i=Sw(t,e.target.y);return`${n}% ${i}%`}},kj={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Wr.parse(t);if(a.length>5)return i;const l=Wr.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=f;const p=vt(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},P0={borderRadius:{...Kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kc,borderTopRightRadius:Kc,borderBottomLeftRadius:Kc,borderBottomRightRadius:Kc,boxShadow:kj};function IA(t,{layout:e,layoutId:n}){return Il.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!P0[t]||t==="opacity")}function Jy(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(bn(i[c])||a&&bn(a[c])||IA(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function Cj(t){return window.getComputedStyle(t)}class Nj extends SA{constructor(){super(...arguments),this.type="html",this.renderInstance=RA}readValueFromInstance(e,n){if(Il.has(n))return this.projection?.isProjecting?T0(n):Y4(e,n);{const i=Cj(e),a=(BS(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NA(e,n)}build(e,n,i){Wy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Jy(e,n,i)}}const Rj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ij={offset:"strokeDashoffset",array:"strokeDasharray"};function Dj(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?Rj:Ij;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const jj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function DA(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},f,p,v){if(Wy(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w}=t;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=v?.transformBox??"fill-box",delete b.transformBox);for(const S of jj)b[S]!==void 0&&(w[S]=b[S],delete b[S]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&Dj(b,a,l,c,!1)}const jA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),MA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Mj(t,e,n,i){RA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(jA.has(a)?a:qy(a),e.attrs[a])}function VA(t,e,n){const i=Jy(t,e,n);for(const a in t)if(bn(t[a])||bn(e[a])){const l=Rl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class Vj extends SA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Il.has(n)){const i=mA(n);return i&&i.default||0}return n=jA.has(n)?n:qy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return VA(e,n,i)}build(e,n,i){DA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){Mj(e,n,i,a)}mount(e){this.isSVGTag=MA(e.tagName),super.mount(e)}}const Oj=Xy.length;function OA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?OA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Oj;n++){const i=Xy[n],a=t.props[i];(vu(a)||a===!1)&&(e[i]=a)}return e}function PA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Pj=[...Qy].reverse(),Lj=Qy.length;function Uj(t){return e=>Promise.all(e.map(({animation:n,options:i})=>O5(t,n,i)))}function zj(t){let e=Uj(t),n=Aw(),i=!0;const a=f=>(p,v)=>{const b=hl(t,v,f==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:S,...D}=b;p={...p,...D,...S}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,v=OA(t.parent)||{},b=[],w=new Set;let S={},D=1/0;for(let V=0;V<Lj;V++){const z=Pj[V],F=n[z],G=p[z]!==void 0?p[z]:v[z],te=vu(G),re=z===f?F.isActive:null;re===!1&&(D=V);let he=G===v[z]&&G!==p[z]&&te;if(he&&i&&t.manuallyAnimateOnMount&&(he=!1),F.protectedKeys={...S},!F.isActive&&re===null||!G&&!F.prevProp||Gf(G)||typeof G=="boolean")continue;if(z==="exit"&&F.isActive&&re!==!0){F.prevResolvedValues&&(S={...S,...F.prevResolvedValues});continue}const j=Bj(F.prevProp,G);let E=j||z===f&&F.isActive&&!he&&te||V>D&&te,k=!1;const M=Array.isArray(G)?G:[G];let R=M.reduce(a(z),{});re===!1&&(R={});const{prevResolvedValues:P={}}=F,I={...P,...R},pe=Z=>{E=!0,w.has(Z)&&(k=!0,w.delete(Z)),F.needsAnimating[Z]=!0;const $=t.getValue(Z);$&&($.liveStyle=!1)};for(const Z in I){const $=R[Z],me=P[Z];if(S.hasOwnProperty(Z))continue;let Te=!1;N0($)&&N0(me)?Te=!PA($,me):Te=$!==me,Te?$!=null?pe(Z):w.add(Z):$!==void 0&&w.has(Z)?pe(Z):F.protectedKeys[Z]=!0}F.prevProp=G,F.prevResolvedValues=R,F.isActive&&(S={...S,...R}),i&&t.blockInitialAnimation&&(E=!1);const ge=he&&j;E&&(!ge||k)&&b.push(...M.map(Z=>{const $={type:z};if(typeof Z=="string"&&i&&!ge&&t.manuallyAnimateOnMount&&t.parent){const{parent:me}=t,Te=hl(me,Z);if(me.enteringChildren&&Te){const{delayChildren:U}=Te.transition||{};$.delay=rA(me.enteringChildren,t,U)}}return{animation:Z,options:$}}))}if(w.size){const V={};if(typeof p.initial!="boolean"){const z=hl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(V.transition=z.transition)}w.forEach(z=>{const F=t.getBaseTarget(z),G=t.getValue(z);G&&(G.liveStyle=!0),V[z]=F??null}),b.push({animation:V})}let O=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(O=!1),i=!1,O?e(b):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(f,p)),n[f].isActive=p;const v=c(f);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Aw()}}}function Bj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!PA(e,t):!1}function Ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Aw(){return{animate:Ba(!0),whileInView:Ba(),whileHover:Ba(),whileTap:Ba(),whileDrag:Ba(),whileFocus:Ba(),exit:Ba()}}function kw(t,e){t.min=e.min,t.max=e.max}function Is(t,e){kw(t.x,e.x),kw(t.y,e.y)}function Cw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const LA=1e-4,Fj=1-LA,Hj=1+LA,UA=.01,qj=0-UA,Gj=0+UA;function An(t){return t.max-t.min}function $j(t,e,n){return Math.abs(t-e)<=n}function Nw(t,e,n,i=.5){t.origin=i,t.originPoint=vt(e.min,e.max,t.origin),t.scale=An(n)/An(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Fj&&t.scale<=Hj||isNaN(t.scale))&&(t.scale=1),(t.translate>=qj&&t.translate<=Gj||isNaN(t.translate))&&(t.translate=0)}function iu(t,e,n,i){Nw(t.x,e.x,n.x,i?i.originX:void 0),Nw(t.y,e.y,n.y,i?i.originY:void 0)}function Rw(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function Kj(t,e,n){Rw(t.x,e.x,n.x),Rw(t.y,e.y,n.y)}function Iw(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function gf(t,e,n){Iw(t.x,e.x,n.x),Iw(t.y,e.y,n.y)}function Dw(t,e,n,i,a){return t-=e,t=pf(t,1/n,i),a!==void 0&&(t=pf(t,1/a,i)),t}function Yj(t,e=0,n=1,i=.5,a,l=t,c=t){if(di.test(e)&&(e=parseFloat(e),e=vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=vt(l.min,l.max,i);t===l&&(h-=e),t.min=Dw(t.min,e,n,h,a),t.max=Dw(t.max,e,n,h,a)}function jw(t,e,[n,i,a],l,c){Yj(t,e[n],e[i],e[a],e.scale,l,c)}const Qj=["x","scaleX","originX"],Xj=["y","scaleY","originY"];function Mw(t,e,n,i){jw(t.x,e,Qj,n?n.x:void 0,i?i.x:void 0),jw(t.y,e,Xj,n?n.y:void 0,i?i.y:void 0)}function Vw(t){return t.translate===0&&t.scale===1}function zA(t){return Vw(t.x)&&Vw(t.y)}function Ow(t,e){return t.min===e.min&&t.max===e.max}function Wj(t,e){return Ow(t.x,e.x)&&Ow(t.y,e.y)}function Pw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function BA(t,e){return Pw(t.x,e.x)&&Pw(t.y,e.y)}function Lw(t){return An(t.x)/An(t.y)}function Uw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function li(t){return[t("x"),t("y")]}function Jj(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:w,skewX:S,skewY:D}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),b&&(i+=`rotateX(${b}deg) `),w&&(i+=`rotateY(${w}deg) `),S&&(i+=`skewX(${S}deg) `),D&&(i+=`skewY(${D}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const FA=["TopLeft","TopRight","BottomLeft","BottomRight"],Zj=FA.length,zw=t=>typeof t=="string"?parseFloat(t):t,Bw=t=>typeof t=="number"||_e.test(t);function eM(t,e,n,i,a,l){a?(t.opacity=vt(0,n.opacity??1,tM(i)),t.opacityExit=vt(e.opacity??1,0,nM(i))):l&&(t.opacity=vt(e.opacity??1,n.opacity??1,i));for(let c=0;c<Zj;c++){const h=`border${FA[c]}Radius`;let f=Fw(e,h),p=Fw(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Bw(f)===Bw(p)?(t[h]=Math.max(vt(zw(f),zw(p),i),0),(di.test(p)||di.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,i))}function Fw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tM=HA(0,.5,VS),nM=HA(.5,.95,ms);function HA(t,e,n){return i=>i<t?0:i>e?1:n(pu(t,e,i))}function sM(t,e,n){const i=bn(t)?t:vl(t);return i.start(Fy("",i,e,n)),i.animation}function bu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const iM=(t,e)=>t.depth-e.depth;class rM{constructor(){this.children=[],this.isDirty=!1}add(e){Ay(this.children,e),this.isDirty=!0}remove(e){uf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iM),this.isDirty=!1,this.children.forEach(e)}}function aM(t,e){const n=Sn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Xr(i),t(l-e))};return ht.setup(i,!0),()=>Xr(i)}function Xd(t){return bn(t)?t.get():t}class oM{constructor(){this.members=[]}add(e){Ay(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&uf(this.members,i)}e.scheduleRender()}remove(e){if(uf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const f=i.instance;f&&f.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Wd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Pg=["","X","Y","Z"],lM=1e3;let cM=0;function Lg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function qA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&qA(i)}function GA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=cM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(dM),this.nodes.forEach(gM),this.nodes.forEach(yM),this.nodes.forEach(fM)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new rM)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ny),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Yy(c)&&!hj(c),this.instance=c;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let v,b=0;const w=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{b=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,v&&v(),v=aM(w,250),Wd.hasAnimatedSinceResize&&(Wd.hasAnimatedSinceResize=!1,this.nodes.forEach(Gw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||wM,{onLayoutAnimationStart:O,onLayoutAnimationComplete:V}=p.getProps(),z=!this.targetLayout||!BA(this.targetLayout,S),F=!b&&w;if(this.options.layoutRoot||this.resumeFrom||F||b&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...By(D,"layout"),onPlay:O,onComplete:V};(p.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(v,F)}else b||Gw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pM),this.nodes.forEach(uM),this.nodes.forEach(hM)):this.nodes.forEach(qw),this.clearAllSnapshots();const h=Sn.now();un.delta=vi(0,1e3/60,h-un.timestamp),un.timestamp=h,un.isProcessing=!0,Ng.update.process(un),Ng.preRender.process(un),Ng.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$y.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mM),this.sharedNodes.forEach(bM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!An(this.snapshot.measuredBox.x)&&!An(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!zA(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||Ha(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),TM(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Qt();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(EM))){const{scroll:p}=this.root;p&&(cl(h.x,p.offset.x),cl(h.y,p.offset.y))}return h}removeElementScroll(c){const h=Qt();if(Is(h,c),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:v,options:b}=p;p!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Is(h,c),cl(h.x,v.offset.x),cl(h.y,v.offset.y))}return h}applyTransform(c,h=!1){const f=Qt();Is(f,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ul(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ha(v.latestValues)&&ul(f,v.latestValues)}return Ha(this.latestValues)&&ul(f,this.latestValues),f}removeTransform(c){const h=Qt();Is(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ha(p.latestValues))continue;V0(p.latestValues)&&p.updateSnapshot();const v=Qt(),b=p.measurePageBox();Is(v,b),Mw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ha(this.latestValues)&&Mw(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=un.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Is(this.target,this.layout.layoutBox),CA(this.target,this.targetDelta)):Is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||V0(this.parent.latestValues)||kA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),gf(this.relativeTargetOrigin,h,f),Is(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===un.timestamp&&(f=!1),f)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Is(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;wj(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Qt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cw(this.prevProjectionDelta.x,this.projectionDelta.x),Cw(this.prevProjectionDelta.y,this.projectionDelta.y)),iu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!Uw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Uw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ll(),this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll()}setAnimationOrigin(c,h=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},b=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Qt(),S=f?f.source:void 0,D=this.layout?this.layout.source:void 0,O=S!==D,V=this.getStack(),z=!V||V.members.length<=1,F=!!(O&&!z&&this.options.crossfade===!0&&!this.path.some(_M));this.animationProgress=0;let G;this.mixTargetDelta=te=>{const re=te/1e3;$w(b.x,c.x,re),$w(b.y,c.y,re),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xM(this.relativeTarget,this.relativeTargetOrigin,w,re),G&&Wj(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=Qt()),Is(G,this.relativeTarget)),O&&(this.animationValues=v,eM(v,p,this.latestValues,re,F,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Wd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vl(0)),this.currentAnimation=sM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:v}=c;if(!(!h||!f||!p)){if(this!==c&&this.layout&&p&&$A(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Qt();const b=An(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+b;const w=An(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+w}Is(h,f),ul(h,v),iu(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new oM),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&Lg("z",c,p,this.animationValues);for(let v=0;v<Pg.length;v++)Lg(`rotate${Pg[v]}`,c,p,this.animationValues),Lg(`skew${Pg[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Xd(h?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Xd(h?.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=Jj(this.projectionDeltaWithTransform,this.treeScale,v);f&&(b=f(v,b)),c.transform=b;const{x:w,y:S}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const D in P0){if(v[D]===void 0)continue;const{correct:O,applyTo:V,isCSSVariable:z}=P0[D],F=b==="none"?v[D]:O(v[D],p);if(V){const G=V.length;for(let te=0;te<G;te++)c[V[te]]=F}else z?this.options.visualElement.renderState.vars[D]=F:c[D]=F}this.options.layoutId&&(c.pointerEvents=p===this?Xd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Hw),this.root.sharedNodes.clear()}}}function uM(t){t.updateLayout()}function hM(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?li(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=An(b);b.min=n[v].min,b.max=b.min+w}):$A(a,e.layoutBox,n)&&li(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=An(n[v]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const c=ll();iu(c,n,e.layoutBox);const h=ll();l?iu(h,t.applyTransform(i,!0),e.measuredBox):iu(h,n,e.layoutBox);const f=!zA(c);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:w}=v;if(b&&w){const S=Qt();gf(S,e.layoutBox,b.layoutBox);const D=Qt();gf(D,n,w.layoutBox),BA(S,D)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function dM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mM(t){t.clearSnapshot()}function Hw(t){t.clearMeasurements()}function qw(t){t.isLayoutDirty=!1}function pM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gM(t){t.resolveTargetDelta()}function yM(t){t.calcProjection()}function vM(t){t.resetSkewAndRotation()}function bM(t){t.removeLeadSnapshot()}function $w(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Kw(t,e,n,i){t.min=vt(e.min,n.min,i),t.max=vt(e.max,n.max,i)}function xM(t,e,n,i){Kw(t.x,e.x,n.x,i),Kw(t.y,e.y,n.y,i)}function _M(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wM={duration:.45,ease:[.4,0,.1,1]},Yw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Qw=Yw("applewebkit/")&&!Yw("chrome/")?Math.round:ms;function Xw(t){t.min=Qw(t.min),t.max=Qw(t.max)}function TM(t){Xw(t.x),Xw(t.y)}function $A(t,e,n){return t==="position"||t==="preserve-aspect"&&!$j(Lw(e),Lw(n),.2)}function EM(t){return t!==t.root&&t.scroll?.wasRoot}const SM=GA({attachResizeListener:(t,e)=>bu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Ug={current:void 0},KA=GA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ug.current){const t=new SM({});t.mount(window),t.setOptions({layoutScroll:!0}),Ug.current=t}return Ug.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Zy=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Ww(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function AM(...t){return e=>{let n=!1;const i=t.map(a=>{const l=Ww(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Ww(t[a],null)}}}}function kM(...t){return N.useCallback(AM(...t),t)}class CM extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=j0(i)&&i.offsetWidth||0,l=j0(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function NM({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const c=N.useId(),h=N.useRef(null),f=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=N.useContext(Zy),v=t.props?.ref??t?.ref,b=kM(h,v);return N.useInsertionEffect(()=>{const{width:w,height:S,top:D,left:O,right:V,bottom:z}=f.current;if(e||l===!1||!h.current||!w||!S)return;const F=n==="left"?`left: ${O}`:`right: ${V}`,G=i==="bottom"?`bottom: ${z}`:`top: ${D}`;h.current.dataset.motionPopId=c;const te=document.createElement("style");p&&(te.nonce=p);const re=a??document.head;return re.appendChild(te),te.sheet&&te.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${S}px !important;
            ${F}px !important;
            ${G}px !important;
          }
        `),()=>{re.contains(te)&&re.removeChild(te)}},[e]),g.jsx(CM,{isPresent:e,childRef:h,sizeRef:f,pop:l,children:l===!1?t:N.cloneElement(t,{ref:b})})}const RM=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:f,root:p})=>{const v=Sy(IM),b=N.useId();let w=!0,S=N.useMemo(()=>(w=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:D=>{v.set(D,!0);for(const O of v.values())if(!O)return;i&&i()},register:D=>(v.set(D,!1),()=>v.delete(D))}),[n,v,i]);return l&&w&&(S={...S}),N.useMemo(()=>{v.forEach((D,O)=>v.set(O,!1))},[n]),N.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=g.jsx(NM,{pop:c==="popLayout",isPresent:n,anchorX:h,anchorY:f,root:p,children:t}),g.jsx(qf.Provider,{value:S,children:t})};function IM(){return new Map}function YA(t=!0){const e=N.useContext(qf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const c=N.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Cd=t=>t.key||"";function Jw(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const Ln=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:f="top",root:p})=>{const[v,b]=YA(c),w=N.useMemo(()=>Jw(t),[t]),S=c&&!v?[]:w.map(Cd),D=N.useRef(!0),O=N.useRef(w),V=Sy(()=>new Map),z=N.useRef(new Set),[F,G]=N.useState(w),[te,re]=N.useState(w);ES(()=>{D.current=!1,O.current=w;for(let E=0;E<te.length;E++){const k=Cd(te[E]);S.includes(k)?(V.delete(k),z.current.delete(k)):V.get(k)!==!0&&V.set(k,!1)}},[te,S.length,S.join("-")]);const he=[];if(w!==F){let E=[...w];for(let k=0;k<te.length;k++){const M=te[k],R=Cd(M);S.includes(R)||(E.splice(k,0,M),he.push(M))}return l==="wait"&&he.length&&(E=he),re(Jw(E)),G(w),null}const{forceRender:j}=N.useContext(Ey);return g.jsx(g.Fragment,{children:te.map(E=>{const k=Cd(E),M=c&&!v?!1:w===te||S.includes(k),R=()=>{if(z.current.has(k))return;if(z.current.add(k),V.has(k))V.set(k,!0);else return;let P=!0;V.forEach(I=>{I||(P=!1)}),P&&(j?.(),re(O.current),c&&b?.(),i&&i())};return g.jsx(RM,{isPresent:M,initial:!D.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:M?void 0:R,anchorX:h,anchorY:f,children:E},k)})})},QA=N.createContext({strict:!1}),Zw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let eT=!1;function DM(){if(eT)return;const t={};for(const e in Zw)t[e]={isEnabled:n=>Zw[e].some(i=>!!n[i])};EA(t),eT=!0}function XA(){return DM(),vj()}function jM(t){const e=XA();for(const n in t)e[n]={...e[n],...t[n]};EA(e)}const MM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function yf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||MM.has(t)}let WA=t=>!yf(t);function VM(t){typeof t=="function"&&(WA=e=>e.startsWith("on")?!yf(e):t(e))}try{VM(require("@emotion/is-prop-valid").default)}catch{}function OM(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(WA(a)||n===!0&&yf(a)||!e&&!yf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Kf=N.createContext({});function PM(t,e){if($f(t)){const{initial:n,animate:i}=t;return{initial:n===!1||vu(n)?n:void 0,animate:vu(i)?i:void 0}}return t.inherit!==!1?e:{}}function LM(t){const{initial:e,animate:n}=PM(t,N.useContext(Kf));return N.useMemo(()=>({initial:e,animate:n}),[tT(e),tT(n)])}function tT(t){return Array.isArray(t)?t.join(" "):t}const ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JA(t,e,n){for(const i in e)!bn(e[i])&&!IA(i,n)&&(t[i]=e[i])}function UM({transformTemplate:t},e){return N.useMemo(()=>{const n=ev();return Wy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function zM(t,e){const n=t.style||{},i={};return JA(i,n,t),Object.assign(i,UM(t,e)),i}function BM(t,e){const n={},i=zM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const ZA=()=>({...ev(),attrs:{}});function FM(t,e,n,i){const a=N.useMemo(()=>{const l=ZA();return DA(l,e,MA(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};JA(l,t.style,t),a.style={...l,...a.style}}return a}const HM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(t){return typeof t!="string"||t.includes("-")?!1:!!(HM.indexOf(t)>-1||/[A-Z]/u.test(t))}function qM(t,e,n,{latestValues:i},a,l=!1,c){const f=(c??tv(t)?FM:BM)(e,i,a,t),p=OM(e,typeof t=="string",l),v=t!==N.Fragment?{...p,...f,ref:n}:{},{children:b}=e,w=N.useMemo(()=>bn(b)?b.get():b,[b]);return N.createElement(t,{...v,children:w})}function GM({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:$M(n,i,a,t),renderState:e()}}function $M(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=Xd(l[w]);let{initial:c,animate:h}=t;const f=$f(t),p=wA(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?h:c;if(b&&typeof b!="boolean"&&!Gf(b)){const w=Array.isArray(b)?b:[b];for(let S=0;S<w.length;S++){const D=Hy(t,w[S]);if(D){const{transitionEnd:O,transition:V,...z}=D;for(const F in z){let G=z[F];if(Array.isArray(G)){const te=v?G.length-1:0;G=G[te]}G!==null&&(a[F]=G)}for(const F in O)a[F]=O[F]}}}return a}const e2=t=>(e,n)=>{const i=N.useContext(Kf),a=N.useContext(qf),l=()=>GM(t,e,i,a);return n?l():Sy(l)},KM=e2({scrapeMotionValuesFromProps:Jy,createRenderState:ev}),YM=e2({scrapeMotionValuesFromProps:VA,createRenderState:ZA}),QM=Symbol.for("motionComponentSymbol");function XM(t,e,n){const i=N.useRef(n);N.useInsertionEffect(()=>{i.current=n});const a=N.useRef(null);return N.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const t2=N.createContext({});function el(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function WM(t,e,n,i,a,l){const{visualElement:c}=N.useContext(Kf),h=N.useContext(QA),f=N.useContext(qf),p=N.useContext(Zy),v=p.reducedMotion,b=p.skipAnimations,w=N.useRef(null),S=N.useRef(!1);i=i||h.renderer,!w.current&&i&&(w.current=i(t,{visualState:e,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:v,skipAnimations:b,isSVG:l}),S.current&&w.current&&(w.current.manuallyAnimateOnMount=!0));const D=w.current,O=N.useContext(t2);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&JM(w.current,n,a,O);const V=N.useRef(!1);N.useInsertionEffect(()=>{D&&V.current&&D.update(n,f)});const z=n[cA],F=N.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return ES(()=>{S.current=!0,D&&(V.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),F.current&&D.animationState&&D.animationState.animateChanges())}),N.useEffect(()=>{D&&(!F.current&&D.animationState&&D.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),F.current=!1),D.enteringChildren=void 0)}),D}function JM(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:n2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&el(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:f,layoutRoot:p})}function n2(t){if(t)return t.options.allowProjection!==!1?t.projection:n2(t.parent)}function zg(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&jM(i);const l=n?n==="svg":tv(t),c=l?YM:KM;function h(p,v){let b;const w={...N.useContext(Zy),...p,layoutId:ZM(p)},{isStatic:S}=w,D=LM(p),O=c(p,S);if(!S&&TS){e3();const V=t3(w);b=V.MeasureLayout,D.visualElement=WM(t,O,w,a,V.ProjectionNode,l)}return g.jsxs(Kf.Provider,{value:D,children:[b&&D.visualElement?g.jsx(b,{visualElement:D.visualElement,...w}):null,qM(t,p,XM(O,D.visualElement,v),O,S,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=N.forwardRef(h);return f[QM]=t,f}function ZM({layoutId:t}){const e=N.useContext(Ey).id;return e&&t!==void 0?e+"-"+t:t}function e3(t,e){N.useContext(QA).strict}function t3(t){const e=XA(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function n3(t,e){if(typeof Proxy>"u")return zg;const n=new Map,i=(l,c)=>zg(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,zg(c,void 0,t,e)),n.get(c))})}const s3=(t,e)=>e.isSVG??tv(t)?new Vj(e):new Nj(e,{allowProjection:t!==N.Fragment});class i3 extends aa{constructor(e){super(e),e.animationState||(e.animationState=zj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let r3=0;class a3 extends aa{constructor(){super(...arguments),this.id=r3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const o3={animation:{Feature:i3},exit:{Feature:a3}};function Pu(t){return{point:{x:t.pageX,y:t.pageY}}}const l3=t=>e=>Ky(e)&&t(e,Pu(e));function ru(t,e,n,i){return bu(t,e,l3(n),i)}const s2=({current:t})=>t?t.ownerDocument.defaultView:null,nT=(t,e)=>Math.abs(t-e);function c3(t,e){const n=nT(t.x,e.x),i=nT(t.y,e.y);return Math.sqrt(n**2+i**2)}const sT=new Set(["auto","scroll"]);class i2{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Fg(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,O=c3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!O)return;const{point:V}=S,{timestamp:z}=un;this.history.push({...V,timestamp:z});const{onStart:F,onMove:G}=this.handlers;D||(F&&F(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,S)},this.handlePointerMove=(S,D)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Bg(D,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(S,D)=>{this.end();const{onEnd:O,onSessionEnd:V,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Fg(S.type==="pointercancel"?this.lastMoveEventInfo:Bg(D,this.transformPagePoint),this.history);this.startEvent&&O&&O(S,F),V&&V(S,F)},!Ky(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=Pu(e),p=Bg(f,this.transformPagePoint),{point:v}=p,{timestamp:b}=un;this.history=[{...v,timestamp:b}];const{onSessionStart:w}=n;w&&w(e,Fg(p,this.history)),this.removeListeners=Mu(ru(this.contextWindow,"pointermove",this.handlePointerMove),ru(this.contextWindow,"pointerup",this.handlePointerUp),ru(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(sT.has(i.overflowX)||sT.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),ht.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Xr(this.updatePoint)}}function Bg(t,e){return e?{point:e(t.point)}:t}function iT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fg({point:t},e){return{point:t,delta:iT(t,r2(e)),offset:iT(t,u3(e)),velocity:h3(e,.1)}}function u3(t){return t[0]}function r2(t){return t[t.length-1]}function h3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=r2(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Ms(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Ms(e)*2&&(i=t[1]);const l=fs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function d3(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?vt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?vt(n,t,i.max):Math.min(t,n)),t}function rT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function f3(t,{top:e,left:n,bottom:i,right:a}){return{x:rT(t.x,n,a),y:rT(t.y,e,i)}}function aT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function m3(t,e){return{x:aT(t.x,e.x),y:aT(t.y,e.y)}}function p3(t,e){let n=.5;const i=An(t),a=An(e);return a>i?n=pu(e.min,e.max-i,t.min):i>a&&(n=pu(t.min,t.max-a,e.min)),vi(0,1,n)}function g3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const L0=.35;function y3(t=L0){return t===!1?t=0:t===!0&&(t=L0),{x:oT(t,"left","right"),y:oT(t,"top","bottom")}}function oT(t,e,n){return{min:lT(t,e),max:lT(t,n)}}function lT(t,e){return typeof t=="number"?t:t[e]||0}const v3=new WeakMap;class b3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n&&this.snapToCursor(Pu(b).point),this.stopAnimation()},c=(b,w)=>{const{drag:S,dragPropagation:D,onDragStart:O}=this.getProps();if(S&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Y5(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),li(z=>{let F=this.getAxisMotionValue(z).get()||0;if(di.test(F)){const{projection:G}=this.visualElement;if(G&&G.layout){const te=G.layout.layoutBox[z];te&&(F=An(te)*(parseFloat(F)/100))}}this.originPoint[z]=F}),O&&ht.update(()=>O(b,w),!1,!0),R0(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},h=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:D,onDirectionLock:O,onDrag:V}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:z}=w;if(D&&this.currentDirection===null){this.currentDirection=_3(z),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,z),this.updateAxis("y",w.point,z),this.visualElement.render(),V&&ht.update(()=>V(b,w),!1,!0)},f=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new i2(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:s2(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ht.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Nd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=d3(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&el(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=f3(i.layoutBox,e):this.constraints=!1,this.elastic=y3(n),a!==this.constraints&&!el(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&li(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=g3(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!el(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Tj(i,a.root,this.visualElement.getTransformPagePoint());let c=m3(a.layout.layoutBox,l);if(n){const h=n(xj(c));this.hasMutatedConstraints=!!h,h&&(c=AA(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=li(v=>{if(!Nd(v,n,this.currentDirection))return;let b=f&&f[v]||{};c&&(b={min:0,max:0});const w=a?200:1e6,S=a?40:1e7,D={type:"inertia",velocity:i?e[v]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,D)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return R0(this.visualElement,e),i.start(Fy(e,i,0,n,this.visualElement,!1))}stopAnimation(){li(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){li(n=>{const{drag:i}=this.getProps();if(!Nd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],f=l.get()||0;l.set(e[n]-vt(c,h,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!el(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};li(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=p3({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),li(c=>{if(!Nd(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];h.set(vt(f,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;v3.set(this.visualElement,this);const e=this.visualElement.current,n=ru(e,"pointerdown",p=>{const{drag:v,dragListener:b=!0}=this.getProps(),w=p.target,S=w!==e&&ej(w);v&&b&&!S&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();el(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=x3(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ht.read(a);const h=bu(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&(li(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=p[b].translate,w.set(w.get()+p[b].translate))}),this.visualElement.render())}));return()=>{h(),n(),c(),f&&f(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=L0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function cT(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function x3(t,e,n){const i=gw(t,cT(n)),a=gw(e,cT(n));return()=>{i(),a()}}function Nd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class w3 extends aa{constructor(e){super(e),this.removeGroupControls=ms,this.removeListeners=ms,this.controls=new b3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ms}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Hg=t=>(e,n)=>{t&&ht.update(()=>t(e,n),!1,!0)};class T3 extends aa{constructor(){super(...arguments),this.removePointerDownListener=ms}onPointerDown(e){this.session=new i2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:s2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Hg(e),onStart:Hg(n),onMove:Hg(i),onEnd:(l,c)=>{delete this.session,a&&ht.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=ru(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let qg=!1;class E3 extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),qg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Wd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),qg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ht.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$y.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;qg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a2(t){const[e,n]=YA(),i=N.useContext(Ey);return g.jsx(E3,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(t2),isPresent:e,safeToRemove:n})}const S3={pan:{Feature:T3},drag:{Feature:w3,ProjectionNode:KA,MeasureLayout:a2}};function uT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ht.postRender(()=>l(e,Pu(e)))}class A3 extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=X5(e,(n,i)=>(uT(this.node,i,"Start"),a=>uT(this.node,a,"End"))))}unmount(){}}class k3 extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mu(bu(this.node.current,"focus",()=>this.onFocus()),bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hT(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ht.postRender(()=>l(e,Pu(e)))}class C3 extends aa{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=nj(e,(a,l)=>(hT(this.node,l,"Start"),(c,{success:h})=>hT(this.node,c,h?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const U0=new WeakMap,Gg=new WeakMap,N3=t=>{const e=U0.get(t.target);e&&e(t)},R3=t=>{t.forEach(N3)};function I3({root:t,...e}){const n=t||document;Gg.has(n)||Gg.set(n,{});const i=Gg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(R3,{root:t,...e})),i[a]}function D3(t,e,n){const i=I3(e);return U0.set(t,n),i.observe(t),()=>{U0.delete(t),i.unobserve(t)}}const j3={some:0,all:1};class M3 extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:j3[a]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),w=p?v:b;w&&w(f)};return D3(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(V3(e,n))&&this.startObserver()}unmount(){}}function V3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const O3={inView:{Feature:M3},tap:{Feature:C3},focus:{Feature:k3},hover:{Feature:A3}},P3={layout:{ProjectionNode:KA,MeasureLayout:a2}},L3={...o3,...O3,...S3,...P3},Se=n3(L3,s3),U3=()=>{};var dT={};const o2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},z3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},l2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,v=l>>2,b=(l&3)<<4|h>>4;let w=(h&15)<<2|p>>6,S=p&63;f||(S=64,c||(w=64)),i.push(n[v],n[b],n[w],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||b==null)throw new B3;const w=l<<2|h>>4;if(i.push(w),p!==64){const S=h<<4&240|p>>2;if(i.push(S),b!==64){const D=p<<6&192|b;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F3=function(t){const e=o2(t);return l2.encodeByteArray(e,!0)},vf=function(t){return F3(t).replace(/\./g,"")},c2=function(t){try{return l2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function H3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const q3=()=>H3().__FIREBASE_DEFAULTS__,G3=()=>{if(typeof process>"u"||typeof dT>"u")return;const t=dT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c2(t[1]);return e&&JSON.parse(e)},Yf=()=>{try{return U3()||q3()||G3()||$3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u2=t=>Yf()?.emulatorHosts?.[t],h2=t=>{const e=u2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},d2=()=>Yf()?.config,f2=t=>Yf()?.[`_${t}`];class K3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function oa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nv(t){return(await fetch(t,{credentials:"include"})).ok}function m2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vf(JSON.stringify(n)),vf(JSON.stringify(c)),""].join(".")}const au={};function Y3(){const t={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?t.emulator.push(e):t.prod.push(e);return t}function Q3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fT=!1;function sv(t,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||au[t]===e||au[t]||fT)return;au[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=Y3().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{fT=!0,c()},w}function v(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=Q3(i),S=n("text"),D=document.getElementById(S)||document.createElement("span"),O=n("learnmore"),V=document.getElementById(O)||document.createElement("a"),z=n("preprendIcon"),F=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const G=w.element;h(G),v(V,O);const te=p();f(F,z),G.append(F,D,V,te),document.body.appendChild(G)}l?(D.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function W3(){const t=Yf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function e6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t6(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function n6(){return!W3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s6(){try{return typeof indexedDB=="object"}catch{return!1}}function i6(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const r6="FirebaseError";class _i extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=r6,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?a6(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new _i(a,h,i)}}function a6(t,e){return t.replace(o6,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const o6=/\{\$([^}]+)}/g;function l6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(mT(l)&&mT(c)){if(!eo(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function mT(t){return t!==null&&typeof t=="object"}function Uu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function c6(t,e){const n=new u6(t,e);return n.subscribe.bind(n)}class u6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");h6(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=$g),a.error===void 0&&(a.error=$g),a.complete===void 0&&(a.complete=$g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $g(){}function St(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class d6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new K3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m6(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:f6(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f6(t){return t===qa?void 0:t}function m6(t){return t.instantiationMode==="EAGER"}class p6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new d6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const g6={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},y6=$e.INFO,v6={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},b6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=v6[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iv{constructor(e){this.name=e,this._logLevel=y6,this._logHandler=b6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const x6=(t,e)=>e.some(n=>t instanceof n);let pT,gT;function _6(){return pT||(pT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w6(){return gT||(gT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p2=new WeakMap,z0=new WeakMap,g2=new WeakMap,Kg=new WeakMap,rv=new WeakMap;function T6(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n($r(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&p2.set(n,t)}).catch(()=>{}),rv.set(e,t),e}function E6(t){if(z0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});z0.set(t,e)}let B0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return z0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S6(t){B0=t(B0)}function A6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Yg(this),e,...n);return g2.set(i,e.sort?e.sort():[e]),$r(i)}:w6().includes(t)?function(...e){return t.apply(Yg(this),e),$r(p2.get(this))}:function(...e){return $r(t.apply(Yg(this),e))}}function k6(t){return typeof t=="function"?A6(t):(t instanceof IDBTransaction&&E6(t),x6(t,_6())?new Proxy(t,B0):t)}function $r(t){if(t instanceof IDBRequest)return T6(t);if(Kg.has(t))return Kg.get(t);const e=k6(t);return e!==t&&(Kg.set(t,e),rv.set(e,t)),e}const Yg=t=>rv.get(t);function C6(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=$r(c);return i&&c.addEventListener("upgradeneeded",f=>{i($r(c.result),f.oldVersion,f.newVersion,$r(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const N6=["get","getKey","getAll","getAllKeys","count"],R6=["put","add","delete","clear"],Qg=new Map;function yT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qg.get(e))return Qg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=R6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||N6.includes(n)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&f.done]))[0]};return Qg.set(e,l),l}S6(t=>({...t,get:(e,n,i)=>yT(e,n)||t.get(e,n,i),has:(e,n)=>!!yT(e,n)||t.has(e,n)}));class I6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function D6(t){return t.getComponent()?.type==="VERSION"}const F0="@firebase/app",vT="0.14.8";const Wi=new iv("@firebase/app"),j6="@firebase/app-compat",M6="@firebase/analytics-compat",V6="@firebase/analytics",O6="@firebase/app-check-compat",P6="@firebase/app-check",L6="@firebase/auth",U6="@firebase/auth-compat",z6="@firebase/database",B6="@firebase/data-connect",F6="@firebase/database-compat",H6="@firebase/functions",q6="@firebase/functions-compat",G6="@firebase/installations",$6="@firebase/installations-compat",K6="@firebase/messaging",Y6="@firebase/messaging-compat",Q6="@firebase/performance",X6="@firebase/performance-compat",W6="@firebase/remote-config",J6="@firebase/remote-config-compat",Z6="@firebase/storage",eV="@firebase/storage-compat",tV="@firebase/firestore",nV="@firebase/ai",sV="@firebase/firestore-compat",iV="firebase",rV="12.9.0";const H0="[DEFAULT]",aV={[F0]:"fire-core",[j6]:"fire-core-compat",[V6]:"fire-analytics",[M6]:"fire-analytics-compat",[P6]:"fire-app-check",[O6]:"fire-app-check-compat",[L6]:"fire-auth",[U6]:"fire-auth-compat",[z6]:"fire-rtdb",[B6]:"fire-data-connect",[F6]:"fire-rtdb-compat",[H6]:"fire-fn",[q6]:"fire-fn-compat",[G6]:"fire-iid",[$6]:"fire-iid-compat",[K6]:"fire-fcm",[Y6]:"fire-fcm-compat",[Q6]:"fire-perf",[X6]:"fire-perf-compat",[W6]:"fire-rc",[J6]:"fire-rc-compat",[Z6]:"fire-gcs",[eV]:"fire-gcs-compat",[tV]:"fire-fst",[sV]:"fire-fst-compat",[nV]:"fire-vertex","fire-js":"fire-js",[iV]:"fire-js-all"};const bf=new Map,oV=new Map,q0=new Map;function bT(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function to(t){const e=t.name;if(q0.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;q0.set(e,t);for(const n of bf.values())bT(n,t);for(const n of oV.values())bT(n,t);return!0}function Qf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hs(t){return t==null?!1:t.settings!==void 0}const lV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Lu("app","Firebase",lV);class cV{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const lo=rV;function y2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:H0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=d2()),!n)throw Kr.create("no-options");const l=bf.get(a);if(l){if(eo(n,l.options)&&eo(i,l.config))return l;throw Kr.create("duplicate-app",{appName:a})}const c=new p6(a);for(const f of q0.values())c.addComponent(f);const h=new cV(n,i,c);return bf.set(a,h),h}function av(t=H0){const e=bf.get(t);if(!e&&t===H0&&d2())return y2();if(!e)throw Kr.create("no-app",{appName:t});return e}function fi(t,e,n){let i=aV[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(c.join(" "));return}to(new Jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const uV="firebase-heartbeat-database",hV=1,xu="firebase-heartbeat-store";let Xg=null;function v2(){return Xg||(Xg=C6(uV,hV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Xg}async function dV(t){try{const n=(await v2()).transaction(xu),i=await n.objectStore(xu).get(b2(t));return await n.done,i}catch(e){if(e instanceof _i)Wi.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(n.message)}}}async function xT(t,e){try{const i=(await v2()).transaction(xu,"readwrite");await i.objectStore(xu).put(e,b2(t)),await i.done}catch(n){if(n instanceof _i)Wi.warn(n.message);else{const i=Kr.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(i.message)}}}function b2(t){return`${t.name}!${t.options.appId}`}const fV=1024,mV=30;class pV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_T();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>mV){const a=vV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_T(),{heartbeatsToSend:n,unsentEntries:i}=gV(this._heartbeatsCache.heartbeats),a=vf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Wi.warn(e),""}}}function _T(){return new Date().toISOString().substring(0,10)}function gV(t,e=fV){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),wT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),wT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s6()?i6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return xT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return xT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wT(t){return vf(JSON.stringify({version:2,heartbeats:t})).length}function vV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function bV(t){to(new Jr("platform-logger",e=>new I6(e),"PRIVATE")),to(new Jr("heartbeat",e=>new pV(e),"PRIVATE")),fi(F0,vT,t),fi(F0,vT,"esm2020"),fi("fire-js","")}bV("");function x2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xV=x2,_2=new Lu("auth","Firebase",x2());const xf=new iv("@firebase/auth");function _V(t,...e){xf.logLevel<=$e.WARN&&xf.warn(`Auth (${lo}): ${t}`,...e)}function Jd(t,...e){xf.logLevel<=$e.ERROR&&xf.error(`Auth (${lo}): ${t}`,...e)}function bi(t,...e){throw lv(t,...e)}function Vs(t,...e){return lv(t,...e)}function ov(t,e,n){const i={...xV(),[e]:n};return new Lu("auth","Firebase",i).create(e,{appName:t.name})}function Xa(t){return ov(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wV(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&bi(t,"argument-error"),ov(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return _2.create(t,...e)}function je(t,e,...n){if(!t)throw lv(e,...n)}function Gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jd(e),new Error(e)}function Ji(t,e){t||Gi(e)}function G0(){return typeof self<"u"&&self.location?.href||""}function TV(){return TT()==="http:"||TT()==="https:"}function TT(){return typeof self<"u"&&self.location?.protocol||null}function EV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TV()||Z3()||"connection"in navigator)?navigator.onLine:!0}function SV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=X3()||e6()}get(){return EV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cv(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class w2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CV=new zu(3e4,6e4);function uv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Dl(t,e,n,i,a={}){return T2(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Uu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return J3()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&oa(t.emulatorConfig.host)&&(p.credentials="include"),w2.fetch()(await E2(t,t.config.apiHost,n,h),p)})}async function T2(t,e,n){t._canInitEmulator=!1;const i={...AV,...e};try{const a=new RV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Rd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rd(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Rd(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Rd(t,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ov(t,v,p);bi(t,v)}}catch(a){if(a instanceof _i)throw a;bi(t,"network-request-failed",{message:String(a)})}}async function NV(t,e,n,i,a={}){const l=await Dl(t,e,n,i,a);return"mfaPendingCredential"in l&&bi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function E2(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?cv(t.config,a):`${t.config.apiScheme}://${a}`;return kV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class RV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vs(this.auth,"network-request-failed")),CV.get())})}}function Rd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Vs(t,e,i);return a.customData._tokenResponse=n,a}async function IV(t,e){return Dl(t,"POST","/v1/accounts:delete",e)}async function _f(t,e){return Dl(t,"POST","/v1/accounts:lookup",e)}function ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DV(t,e=!1){const n=St(t),i=await n.getIdToken(e),a=hv(i);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:ou(Wg(a.auth_time)),issuedAtTime:ou(Wg(a.iat)),expirationTime:ou(Wg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Wg(t){return Number(t)*1e3}function hv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const a=c2(n);return a?JSON.parse(a):(Jd("Failed to decode base64 JWT payload"),null)}catch(a){return Jd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ET(t){const e=hv(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof _i&&jV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function jV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class MV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wf(t){const e=t.auth,n=await t.getIdToken(),i=await _u(t,_f(e,{idToken:n}));je(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?S2(a.providerUserInfo):[],c=OV(t.providerData,l),h=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!c?.length,p=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new $0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function VV(t){const e=St(t);await wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OV(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function S2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function PV(t,e){const n=await T2(t,{},async()=>{const i=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await E2(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return t.emulatorConfig&&oa(t.emulatorConfig.host)&&(f.credentials="include"),w2.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LV(t,e){return Dl(t,"POST","/v2/accounts:revokeToken",uv(t,e))}class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ET(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=ET(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await PV(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new dl;return i&&(je(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(je(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return Gi("not implemented")}}function Pr(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class js{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new MV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new $0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DV(this,e)}reload(){return VV(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new js({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await wf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hs(this.auth.app))return Promise.reject(Xa(this.auth));const e=await this.getIdToken();return await _u(this,IV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:S,providerData:D,stsTokenManager:O}=n;je(b&&O,e,"internal-error");const V=dl.fromJSON(this.name,O);je(typeof b=="string",e,"internal-error"),Pr(i,e.name),Pr(a,e.name),je(typeof w=="boolean",e,"internal-error"),je(typeof S=="boolean",e,"internal-error"),Pr(l,e.name),Pr(c,e.name),Pr(h,e.name),Pr(f,e.name),Pr(p,e.name),Pr(v,e.name);const z=new js({uid:b,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:V,createdAt:p,lastLoginAt:v});return D&&Array.isArray(D)&&(z.providerData=D.map(F=>({...F}))),f&&(z._redirectEventId=f),z}static async _fromIdTokenResponse(e,n,i=!1){const a=new dl;a.updateFromServerResponse(n);const l=new js({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await wf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?S2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new dl;h.updateFromIdToken(i);const f=new js({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new $0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,p),f}}const ST=new Map;function $i(t){Ji(t instanceof Function,"Expected a class definition");let e=ST.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ST.set(t,e),e)}class A2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A2.type="NONE";const AT=A2;function Zd(t,e,n){return`firebase:${t}:${e}:${n}`}class fl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Zd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Zd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _f(this.auth,{idToken:e}).catch(()=>{});return n?js._fromGetAccountInfoResponse(this.auth,n,e):null}return js._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new fl($i(AT),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||$i(AT);const c=Zd(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const w=await _f(e,{idToken:v}).catch(()=>{});if(!w)break;b=await js._fromGetAccountInfoResponse(e,w,v)}else b=js._fromJSON(e,v);p!==l&&(h=b),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new fl(l,e,i):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new fl(l,e,i))}}function kT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D2(e))return"Blackberry";if(j2(e))return"Webos";if(C2(e))return"Safari";if((e.includes("chrome/")||N2(e))&&!e.includes("edge/"))return"Chrome";if(I2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function k2(t=xn()){return/firefox\//i.test(t)}function C2(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N2(t=xn()){return/crios\//i.test(t)}function R2(t=xn()){return/iemobile/i.test(t)}function I2(t=xn()){return/android/i.test(t)}function D2(t=xn()){return/blackberry/i.test(t)}function j2(t=xn()){return/webos/i.test(t)}function dv(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UV(t=xn()){return dv(t)&&!!window.navigator?.standalone}function zV(){return t6()&&document.documentMode===10}function M2(t=xn()){return dv(t)||I2(t)||j2(t)||D2(t)||/windows phone/i.test(t)||R2(t)}function V2(t,e=[]){let n;switch(t){case"Browser":n=kT(xn());break;case"Worker":n=`${kT(xn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${i}`}class BV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function FV(t,e={}){return Dl(t,"GET","/v2/passwordPolicy",uv(t,e))}const HV=6;class qV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class GV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CT(this),this.idTokenSubscription=new CT(this),this.beforeStateQueue=new BV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _f(this,{idToken:e}),i=await js._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hs(this.app))return Promise.reject(Xa(this));const n=e?St(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hs(this.app)?Promise.reject(Xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hs(this.app)?Promise.reject(Xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FV(this),n=new qV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await LV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_V(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xf(t){return St(t)}class CT{constructor(e){this.auth=e,this.observer=null,this.addObserver=c6(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $V(t){fv=t}function KV(t){return fv.loadJS(t)}function YV(){return fv.gapiScript}function QV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function XV(t,e){const n=Qf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(eo(l,e??{}))return a;bi(a,"already-initialized")}return n.initialize({options:e})}function WV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map($i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function JV(t,e,n){const i=Xf(t);je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=O2(e),{host:c,port:h}=ZV(e),f=h===null?"":`:${h}`,p={url:`${l}//${c}${f}/`},v=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(eo(p,i.config.emulator)&&eo(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,oa(c)?(nv(`${l}//${c}${f}`),sv("Auth",!0)):eO()}function O2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZV(t){const e=O2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:NT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:NT(c)}}}function NT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class P2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function ml(t,e){return NV(t,"POST","/v1/accounts:signInWithIdp",uv(t,e))}const tO="http://localhost";class no extends P2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new no(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ml(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:tO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uu(n)}return e}}class mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bu extends mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zr extends Bu{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";class qi extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return qi.credential(n,i)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";class Br extends Bu{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";class Fr extends Bu{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Fr.credential(n,i)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";class bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await js._fromIdTokenResponse(e,i,a),c=RT(i);return new bl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=RT(i);return new bl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function RT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Tf extends _i{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Tf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Tf(e,n,i,a)}}function L2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Tf._fromErrorAndOperation(t,l,e,i):l})}async function nO(t,e,n=!1){const i=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bl._forOperation(t,"link",i)}async function sO(t,e,n=!1){const{auth:i}=t;if(hs(i.app))return Promise.reject(Xa(i));const a="reauthenticate";try{const l=await _u(t,L2(i,a,e,t),n);je(l.idToken,i,"internal-error");const c=hv(l.idToken);je(c,i,"internal-error");const{sub:h}=c;return je(t.uid===h,i,"user-mismatch"),bl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&bi(i,"user-mismatch"),l}}async function iO(t,e,n=!1){if(hs(t.app))return Promise.reject(Xa(t));const i="signIn",a=await L2(t,i,e),l=await bl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function rO(t,e,n,i){return St(t).onIdTokenChanged(e,n,i)}function aO(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function oO(t,e,n,i){return St(t).onAuthStateChanged(e,n,i)}function lO(t){return St(t).signOut()}const Ef="__sak";class U2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ef,"1"),this.storage.removeItem(Ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cO=1e3,uO=10;class z2 extends U2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);zV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,uO):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},cO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}z2.type="LOCAL";const hO=z2;class B2 extends U2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B2.type="SESSION";const F2=B2;function dO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Wf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(n.origin,l)),f=await dO(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];function pv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class fO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const p=pv("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function mi(){return window}function mO(t){mi().location.href=t}function H2(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function pO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gO(){return navigator?.serviceWorker?.controller||null}function yO(){return H2()?self:null}const q2="firebaseLocalStorageDb",vO=1,Sf="firebaseLocalStorage",G2="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jf(t,e){return t.transaction([Sf],e?"readwrite":"readonly").objectStore(Sf)}function bO(){const t=indexedDB.deleteDatabase(q2);return new Fu(t).toPromise()}function K0(){const t=indexedDB.open(q2,vO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Sf,{keyPath:G2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Sf)?e(i):(i.close(),await bO(),e(await K0()))})})}async function IT(t,e,n){const i=Jf(t,!0).put({[G2]:e,value:n});return new Fu(i).toPromise()}async function xO(t,e){const n=Jf(t,!1).get(e),i=await new Fu(n).toPromise();return i===void 0?null:i.value}function DT(t,e){const n=Jf(t,!0).delete(e);return new Fu(n).toPromise()}const _O=800,wO=3;class $2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>wO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(yO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pO(),!this.activeServiceWorker)return;this.sender=new fO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K0();return await IT(e,Ef,"1"),await DT(e,Ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>IT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>xO(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Jf(a,!1).getAll();return new Fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$2.type="LOCAL";const TO=$2;new zu(3e4,6e4);function K2(t,e){return e?$i(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class gv extends P2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EO(t){return iO(t.auth,new gv(t),t.bypassAuthState)}function SO(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),sO(n,new gv(t),t.bypassAuthState)}async function AO(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),nO(n,new gv(t),t.bypassAuthState)}class Y2{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EO;case"linkViaPopup":case"linkViaRedirect":return AO;case"reauthViaPopup":case"reauthViaRedirect":return SO;default:bi(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kO=new zu(2e3,1e4);async function CO(t,e,n){if(hs(t.app))return Promise.reject(Vs(t,"operation-not-supported-in-this-environment"));const i=Xf(t);wV(t,e,mv);const a=K2(i,n);return new Ka(i,"signInViaPopup",e,a).executeNotNull()}class Ka extends Y2{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kO.get())};e()}}Ka.currentPopupAction=null;const NO="pendingRedirect",ef=new Map;class RO extends Y2{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const i=await IO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IO(t,e){const n=MO(e),i=jO(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function DO(t,e){ef.set(t._key(),e)}function jO(t){return $i(t._redirectPersistence)}function MO(t){return Zd(NO,t.config.apiKey,t.name)}async function VO(t,e,n=!1){if(hs(t.app))return Promise.reject(Xa(t));const i=Xf(t),a=K2(i,e),c=await new RO(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const OO=600*1e3;class PO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Q2(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OO&&this.cachedEventUids.clear(),this.cachedEventUids.has(jT(e))}saveEventToCache(e){this.cachedEventUids.add(jT(e)),this.lastProcessedEventTime=Date.now()}}function jT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Q2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function LO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q2(t);default:return!1}}async function UO(t,e={}){return Dl(t,"GET","/v1/projects",e)}const zO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BO=/^https?/;async function FO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UO(t);for(const n of e)try{if(HO(n))return}catch{}bi(t,"unauthorized-domain")}function HO(t){const e=G0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!BO.test(n))return!1;if(zO.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const qO=new zu(3e4,6e4);function MT(){const t=mi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GO(t){return new Promise((e,n)=>{function i(){MT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MT(),n(Vs(t,"network-request-failed"))},timeout:qO.get()})}if(mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(mi().gapi?.load)i();else{const a=QV("iframefcb");return mi()[a]=()=>{gapi.load?i():n(Vs(t,"network-request-failed"))},KV(`${YV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw tf=null,e})}let tf=null;function $O(t){return tf=tf||GO(t),tf}const KO=new zu(5e3,15e3),YO="__/auth/iframe",QO="emulator/auth/iframe",XO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JO(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cv(e,QO):`https://${t.config.authDomain}/${YO}`,i={apiKey:e.apiKey,appName:t.name,v:lo},a=WO.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Uu(i).slice(1)}`}async function ZO(t){const e=await $O(t),n=mi().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:JO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Vs(t,"network-request-failed"),h=mi().setTimeout(()=>{l(c)},KO.get());function f(){mi().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{l(c)})}))}const eP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tP=500,nP=600,sP="_blank",iP="http://localhost";class VT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rP(t,e,n,i=tP,a=nP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...eP,width:i.toString(),height:a.toString(),top:l,left:c},p=xn().toLowerCase();n&&(h=N2(p)?sP:n),k2(p)&&(e=e||iP,f.scrollbars="yes");const v=Object.entries(f).reduce((w,[S,D])=>`${w}${S}=${D},`,"");if(UV(p)&&h!=="_self")return aP(e||"",h),new VT(null);const b=window.open(e||"",h,v);je(b,t,"popup-blocked");try{b.focus()}catch{}return new VT(b)}function aP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const oP="__/auth/handler",lP="emulator/auth/handler",cP=encodeURIComponent("fac");async function OT(t,e,n,i,a,l){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:lo,eventId:a};if(e instanceof mv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",l6(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Bu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),p=f?`#${cP}=${encodeURIComponent(f)}`:"";return`${uP(t)}?${Uu(h).slice(1)}${p}`}function uP({config:t}){return t.emulator?cv(t,lP):`https://${t.authDomain}/${oP}`}const Jg="webStorageSupport";class hP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F2,this._completeRedirectFn=VO,this._overrideRedirectResult=DO}async _openPopup(e,n,i,a){Ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await OT(e,n,i,G0(),a);return rP(e,l,pv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await OT(e,n,i,G0(),a);return mO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ji(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await ZO(e),i=new PO(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jg,{type:Jg},a=>{const l=a?.[0]?.[Jg];l!==void 0&&n(!!l),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M2()||C2()||dv()}}const dP=hP;var PT="@firebase/auth",LT="1.12.0";class fP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pP(t){to(new Jr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V2(t)},p=new GV(i,a,l,f);return WV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),to(new Jr("auth-internal",e=>{const n=Xf(e.getProvider("auth").getImmediate());return(i=>new fP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fi(PT,LT,mP(t)),fi(PT,LT,"esm2020")}const gP=300,yP=f2("authIdTokenMaxAge")||gP;let UT=null;const vP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>yP)return;const a=n?.token;UT!==a&&(UT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function bP(t=av()){const e=Qf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XV(t,{popupRedirectResolver:dP,persistence:[TO,hO,F2]}),i=f2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=vP(l.toString());aO(n,c,()=>c(n.currentUser)),rO(n,h=>c(h))}}const a=u2("auth");return a&&JV(n,`http://${a}`),n}function xP(){return document.getElementsByTagName("head")?.[0]??document}$V({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Vs("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",xP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pP("Browser");var _P="firebase",wP="12.9.0";fi(_P,wP,"app");var zT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yr,X2;(function(){var t;function e(j,E){function k(){}k.prototype=E.prototype,j.F=E.prototype,j.prototype=new k,j.prototype.constructor=j,j.D=function(M,R,P){for(var I=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)I[pe-2]=arguments[pe];return E.prototype[R].apply(M,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,E,k){k||(k=0);const M=Array(16);if(typeof E=="string")for(var R=0;R<16;++R)M[R]=E.charCodeAt(k++)|E.charCodeAt(k++)<<8|E.charCodeAt(k++)<<16|E.charCodeAt(k++)<<24;else for(R=0;R<16;++R)M[R]=E[k++]|E[k++]<<8|E[k++]<<16|E[k++]<<24;E=j.g[0],k=j.g[1],R=j.g[2];let P=j.g[3],I;I=E+(P^k&(R^P))+M[0]+3614090360&4294967295,E=k+(I<<7&4294967295|I>>>25),I=P+(R^E&(k^R))+M[1]+3905402710&4294967295,P=E+(I<<12&4294967295|I>>>20),I=R+(k^P&(E^k))+M[2]+606105819&4294967295,R=P+(I<<17&4294967295|I>>>15),I=k+(E^R&(P^E))+M[3]+3250441966&4294967295,k=R+(I<<22&4294967295|I>>>10),I=E+(P^k&(R^P))+M[4]+4118548399&4294967295,E=k+(I<<7&4294967295|I>>>25),I=P+(R^E&(k^R))+M[5]+1200080426&4294967295,P=E+(I<<12&4294967295|I>>>20),I=R+(k^P&(E^k))+M[6]+2821735955&4294967295,R=P+(I<<17&4294967295|I>>>15),I=k+(E^R&(P^E))+M[7]+4249261313&4294967295,k=R+(I<<22&4294967295|I>>>10),I=E+(P^k&(R^P))+M[8]+1770035416&4294967295,E=k+(I<<7&4294967295|I>>>25),I=P+(R^E&(k^R))+M[9]+2336552879&4294967295,P=E+(I<<12&4294967295|I>>>20),I=R+(k^P&(E^k))+M[10]+4294925233&4294967295,R=P+(I<<17&4294967295|I>>>15),I=k+(E^R&(P^E))+M[11]+2304563134&4294967295,k=R+(I<<22&4294967295|I>>>10),I=E+(P^k&(R^P))+M[12]+1804603682&4294967295,E=k+(I<<7&4294967295|I>>>25),I=P+(R^E&(k^R))+M[13]+4254626195&4294967295,P=E+(I<<12&4294967295|I>>>20),I=R+(k^P&(E^k))+M[14]+2792965006&4294967295,R=P+(I<<17&4294967295|I>>>15),I=k+(E^R&(P^E))+M[15]+1236535329&4294967295,k=R+(I<<22&4294967295|I>>>10),I=E+(R^P&(k^R))+M[1]+4129170786&4294967295,E=k+(I<<5&4294967295|I>>>27),I=P+(k^R&(E^k))+M[6]+3225465664&4294967295,P=E+(I<<9&4294967295|I>>>23),I=R+(E^k&(P^E))+M[11]+643717713&4294967295,R=P+(I<<14&4294967295|I>>>18),I=k+(P^E&(R^P))+M[0]+3921069994&4294967295,k=R+(I<<20&4294967295|I>>>12),I=E+(R^P&(k^R))+M[5]+3593408605&4294967295,E=k+(I<<5&4294967295|I>>>27),I=P+(k^R&(E^k))+M[10]+38016083&4294967295,P=E+(I<<9&4294967295|I>>>23),I=R+(E^k&(P^E))+M[15]+3634488961&4294967295,R=P+(I<<14&4294967295|I>>>18),I=k+(P^E&(R^P))+M[4]+3889429448&4294967295,k=R+(I<<20&4294967295|I>>>12),I=E+(R^P&(k^R))+M[9]+568446438&4294967295,E=k+(I<<5&4294967295|I>>>27),I=P+(k^R&(E^k))+M[14]+3275163606&4294967295,P=E+(I<<9&4294967295|I>>>23),I=R+(E^k&(P^E))+M[3]+4107603335&4294967295,R=P+(I<<14&4294967295|I>>>18),I=k+(P^E&(R^P))+M[8]+1163531501&4294967295,k=R+(I<<20&4294967295|I>>>12),I=E+(R^P&(k^R))+M[13]+2850285829&4294967295,E=k+(I<<5&4294967295|I>>>27),I=P+(k^R&(E^k))+M[2]+4243563512&4294967295,P=E+(I<<9&4294967295|I>>>23),I=R+(E^k&(P^E))+M[7]+1735328473&4294967295,R=P+(I<<14&4294967295|I>>>18),I=k+(P^E&(R^P))+M[12]+2368359562&4294967295,k=R+(I<<20&4294967295|I>>>12),I=E+(k^R^P)+M[5]+4294588738&4294967295,E=k+(I<<4&4294967295|I>>>28),I=P+(E^k^R)+M[8]+2272392833&4294967295,P=E+(I<<11&4294967295|I>>>21),I=R+(P^E^k)+M[11]+1839030562&4294967295,R=P+(I<<16&4294967295|I>>>16),I=k+(R^P^E)+M[14]+4259657740&4294967295,k=R+(I<<23&4294967295|I>>>9),I=E+(k^R^P)+M[1]+2763975236&4294967295,E=k+(I<<4&4294967295|I>>>28),I=P+(E^k^R)+M[4]+1272893353&4294967295,P=E+(I<<11&4294967295|I>>>21),I=R+(P^E^k)+M[7]+4139469664&4294967295,R=P+(I<<16&4294967295|I>>>16),I=k+(R^P^E)+M[10]+3200236656&4294967295,k=R+(I<<23&4294967295|I>>>9),I=E+(k^R^P)+M[13]+681279174&4294967295,E=k+(I<<4&4294967295|I>>>28),I=P+(E^k^R)+M[0]+3936430074&4294967295,P=E+(I<<11&4294967295|I>>>21),I=R+(P^E^k)+M[3]+3572445317&4294967295,R=P+(I<<16&4294967295|I>>>16),I=k+(R^P^E)+M[6]+76029189&4294967295,k=R+(I<<23&4294967295|I>>>9),I=E+(k^R^P)+M[9]+3654602809&4294967295,E=k+(I<<4&4294967295|I>>>28),I=P+(E^k^R)+M[12]+3873151461&4294967295,P=E+(I<<11&4294967295|I>>>21),I=R+(P^E^k)+M[15]+530742520&4294967295,R=P+(I<<16&4294967295|I>>>16),I=k+(R^P^E)+M[2]+3299628645&4294967295,k=R+(I<<23&4294967295|I>>>9),I=E+(R^(k|~P))+M[0]+4096336452&4294967295,E=k+(I<<6&4294967295|I>>>26),I=P+(k^(E|~R))+M[7]+1126891415&4294967295,P=E+(I<<10&4294967295|I>>>22),I=R+(E^(P|~k))+M[14]+2878612391&4294967295,R=P+(I<<15&4294967295|I>>>17),I=k+(P^(R|~E))+M[5]+4237533241&4294967295,k=R+(I<<21&4294967295|I>>>11),I=E+(R^(k|~P))+M[12]+1700485571&4294967295,E=k+(I<<6&4294967295|I>>>26),I=P+(k^(E|~R))+M[3]+2399980690&4294967295,P=E+(I<<10&4294967295|I>>>22),I=R+(E^(P|~k))+M[10]+4293915773&4294967295,R=P+(I<<15&4294967295|I>>>17),I=k+(P^(R|~E))+M[1]+2240044497&4294967295,k=R+(I<<21&4294967295|I>>>11),I=E+(R^(k|~P))+M[8]+1873313359&4294967295,E=k+(I<<6&4294967295|I>>>26),I=P+(k^(E|~R))+M[15]+4264355552&4294967295,P=E+(I<<10&4294967295|I>>>22),I=R+(E^(P|~k))+M[6]+2734768916&4294967295,R=P+(I<<15&4294967295|I>>>17),I=k+(P^(R|~E))+M[13]+1309151649&4294967295,k=R+(I<<21&4294967295|I>>>11),I=E+(R^(k|~P))+M[4]+4149444226&4294967295,E=k+(I<<6&4294967295|I>>>26),I=P+(k^(E|~R))+M[11]+3174756917&4294967295,P=E+(I<<10&4294967295|I>>>22),I=R+(E^(P|~k))+M[2]+718787259&4294967295,R=P+(I<<15&4294967295|I>>>17),I=k+(P^(R|~E))+M[9]+3951481745&4294967295,j.g[0]=j.g[0]+E&4294967295,j.g[1]=j.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,j.g[2]=j.g[2]+R&4294967295,j.g[3]=j.g[3]+P&4294967295}i.prototype.v=function(j,E){E===void 0&&(E=j.length);const k=E-this.blockSize,M=this.C;let R=this.h,P=0;for(;P<E;){if(R==0)for(;P<=k;)a(this,j,P),P+=this.blockSize;if(typeof j=="string"){for(;P<E;)if(M[R++]=j.charCodeAt(P++),R==this.blockSize){a(this,M),R=0;break}}else for(;P<E;)if(M[R++]=j[P++],R==this.blockSize){a(this,M),R=0;break}}this.h=R,this.o+=E},i.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var E=1;E<j.length-8;++E)j[E]=0;E=this.o*8;for(var k=j.length-8;k<j.length;++k)j[k]=E&255,E/=256;for(this.v(j),j=Array(16),E=0,k=0;k<4;++k)for(let M=0;M<32;M+=8)j[E++]=this.g[k]>>>M&255;return j};function l(j,E){var k=h;return Object.prototype.hasOwnProperty.call(k,j)?k[j]:k[j]=E(j)}function c(j,E){this.h=E;const k=[];let M=!0;for(let R=j.length-1;R>=0;R--){const P=j[R]|0;M&&P==E||(k[R]=P,M=!1)}this.g=k}var h={};function f(j){return-128<=j&&j<128?l(j,function(E){return new c([E|0],E<0?-1:0)}):new c([j|0],j<0?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return b;if(j<0)return V(p(-j));const E=[];let k=1;for(let M=0;j>=k;M++)E[M]=j/k|0,k*=4294967296;return new c(E,0)}function v(j,E){if(j.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(j.charAt(0)=="-")return V(v(j.substring(1),E));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=p(Math.pow(E,8));let M=b;for(let P=0;P<j.length;P+=8){var R=Math.min(8,j.length-P);const I=parseInt(j.substring(P,P+R),E);R<8?(R=p(Math.pow(E,R)),M=M.j(R).add(p(I))):(M=M.j(k),M=M.add(p(I)))}return M}var b=f(0),w=f(1),S=f(16777216);t=c.prototype,t.m=function(){if(O(this))return-V(this).m();let j=0,E=1;for(let k=0;k<this.g.length;k++){const M=this.i(k);j+=(M>=0?M:4294967296+M)*E,E*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(D(this))return"0";if(O(this))return"-"+V(this).toString(j);const E=p(Math.pow(j,6));var k=this;let M="";for(;;){const R=te(k,E).g;k=z(k,R.j(E));let P=((k.g.length>0?k.g[0]:k.h)>>>0).toString(j);if(k=R,D(k))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function D(j){if(j.h!=0)return!1;for(let E=0;E<j.g.length;E++)if(j.g[E]!=0)return!1;return!0}function O(j){return j.h==-1}t.l=function(j){return j=z(this,j),O(j)?-1:D(j)?0:1};function V(j){const E=j.g.length,k=[];for(let M=0;M<E;M++)k[M]=~j.g[M];return new c(k,~j.h).add(w)}t.abs=function(){return O(this)?V(this):this},t.add=function(j){const E=Math.max(this.g.length,j.g.length),k=[];let M=0;for(let R=0;R<=E;R++){let P=M+(this.i(R)&65535)+(j.i(R)&65535),I=(P>>>16)+(this.i(R)>>>16)+(j.i(R)>>>16);M=I>>>16,P&=65535,I&=65535,k[R]=I<<16|P}return new c(k,k[k.length-1]&-2147483648?-1:0)};function z(j,E){return j.add(V(E))}t.j=function(j){if(D(this)||D(j))return b;if(O(this))return O(j)?V(this).j(V(j)):V(V(this).j(j));if(O(j))return V(this.j(V(j)));if(this.l(S)<0&&j.l(S)<0)return p(this.m()*j.m());const E=this.g.length+j.g.length,k=[];for(var M=0;M<2*E;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(let R=0;R<j.g.length;R++){const P=this.i(M)>>>16,I=this.i(M)&65535,pe=j.i(R)>>>16,ge=j.i(R)&65535;k[2*M+2*R]+=I*ge,F(k,2*M+2*R),k[2*M+2*R+1]+=P*ge,F(k,2*M+2*R+1),k[2*M+2*R+1]+=I*pe,F(k,2*M+2*R+1),k[2*M+2*R+2]+=P*pe,F(k,2*M+2*R+2)}for(j=0;j<E;j++)k[j]=k[2*j+1]<<16|k[2*j];for(j=E;j<2*E;j++)k[j]=0;return new c(k,0)};function F(j,E){for(;(j[E]&65535)!=j[E];)j[E+1]+=j[E]>>>16,j[E]&=65535,E++}function G(j,E){this.g=j,this.h=E}function te(j,E){if(D(E))throw Error("division by zero");if(D(j))return new G(b,b);if(O(j))return E=te(V(j),E),new G(V(E.g),V(E.h));if(O(E))return E=te(j,V(E)),new G(V(E.g),E.h);if(j.g.length>30){if(O(j)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var k=w,M=E;M.l(j)<=0;)k=re(k),M=re(M);var R=he(k,1),P=he(M,1);for(M=he(M,2),k=he(k,2);!D(M);){var I=P.add(M);I.l(j)<=0&&(R=R.add(k),P=I),M=he(M,1),k=he(k,1)}return E=z(j,R.j(E)),new G(R,E)}for(R=b;j.l(E)>=0;){for(k=Math.max(1,Math.floor(j.m()/E.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=p(k),I=P.j(E);O(I)||I.l(j)>0;)k-=M,P=p(k),I=P.j(E);D(P)&&(P=w),R=R.add(P),j=z(j,I)}return new G(R,j)}t.B=function(j){return te(this,j).h},t.and=function(j){const E=Math.max(this.g.length,j.g.length),k=[];for(let M=0;M<E;M++)k[M]=this.i(M)&j.i(M);return new c(k,this.h&j.h)},t.or=function(j){const E=Math.max(this.g.length,j.g.length),k=[];for(let M=0;M<E;M++)k[M]=this.i(M)|j.i(M);return new c(k,this.h|j.h)},t.xor=function(j){const E=Math.max(this.g.length,j.g.length),k=[];for(let M=0;M<E;M++)k[M]=this.i(M)^j.i(M);return new c(k,this.h^j.h)};function re(j){const E=j.g.length+1,k=[];for(let M=0;M<E;M++)k[M]=j.i(M)<<1|j.i(M-1)>>>31;return new c(k,j.h)}function he(j,E){const k=E>>5;E%=32;const M=j.g.length-k,R=[];for(let P=0;P<M;P++)R[P]=E>0?j.i(P+k)>>>E|j.i(P+k+1)<<32-E:j.i(P+k);return new c(R,j.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,X2=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Yr=c}).apply(typeof zT<"u"?zT:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var W2,Jc,J2,nf,Y0,Z2,ek,tk;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var x=0;x<d.length;++x){var T=d[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(d,x){if(x)e:{var T=i;d=d.split(".");for(var C=0;C<d.length-1;C++){var K=d[C];if(!(K in T))break e;T=T[K]}d=d[d.length-1],C=T[d],x=x(C),x!=C&&x!=null&&e(T,d,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(x){var T=[],C;for(C in x)Object.prototype.hasOwnProperty.call(x,C)&&T.push([C,x[C]]);return T}});var l=l||{},c=this||self;function h(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function f(d,x,T){return d.call.apply(d.bind,arguments)}function p(d,x,T){return p=f,p.apply(null,arguments)}function v(d,x){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function b(d,x){function T(){}T.prototype=x.prototype,d.Z=x.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(C,K,W){for(var de=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)de[Le-2]=arguments[Le];return x.prototype[K].apply(C,de)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const x=d.length;if(x>0){const T=Array(x);for(let C=0;C<x;C++)T[C]=d[C];return T}return[]}function D(d,x){for(let C=1;C<arguments.length;C++){const K=arguments[C];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=d.length||0;const W=K.length||0;d.length=T+W;for(let de=0;de<W;de++)d[T+de]=K[de]}else d.push(K)}}class O{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function V(d){c.setTimeout(()=>{throw d},0)}function z(){var d=j;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,T){const C=G.get();C.set(x,T),this.h?this.h.next=C:this.g=C,this.h=C}}var G=new O(()=>new te,d=>d.reset());class te{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,he=!1,j=new F,E=()=>{const d=Promise.resolve(void 0);re=()=>{d.then(k)}};function k(){for(var d;d=z();){try{d.h.call(d.g)}catch(T){V(T)}var x=G;x.j(d),x.h<100&&(x.h++,d.next=x.g,x.g=d)}he=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return d})();function I(d){return/^[\s\xa0]*$/.test(d)}function pe(d,x){R.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,x)}b(pe,R),pe.prototype.init=function(d,x){const T=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget,x||(T=="mouseover"?x=d.fromElement:T=="mouseout"&&(x=d.toElement)),this.relatedTarget=x,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),H=0;function Z(d,x,T,C,K){this.listener=d,this.proxy=null,this.src=x,this.type=T,this.capture=!!C,this.ha=K,this.key=++H,this.da=this.fa=!1}function $(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function me(d,x,T){for(const C in d)x.call(T,d[C],C,d)}function Te(d,x){for(const T in d)x.call(void 0,d[T],T,d)}function U(d){const x={};for(const T in d)x[T]=d[T];return x}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(d,x){let T,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(T in C)d[T]=C[T];for(let W=0;W<ee.length;W++)T=ee[W],Object.prototype.hasOwnProperty.call(C,T)&&(d[T]=C[T])}}function ue(d){this.src=d,this.g={},this.h=0}ue.prototype.add=function(d,x,T,C,K){const W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);const de=De(d,x,C,K);return de>-1?(x=d[de],T||(x.fa=!1)):(x=new Z(x,this.src,W,!!C,K),x.fa=T,d.push(x)),x};function Ae(d,x){const T=x.type;if(T in d.g){var C=d.g[T],K=Array.prototype.indexOf.call(C,x,void 0),W;(W=K>=0)&&Array.prototype.splice.call(C,K,1),W&&($(x),d.g[T].length==0&&(delete d.g[T],d.h--))}}function De(d,x,T,C){for(let K=0;K<d.length;++K){const W=d[K];if(!W.da&&W.listener==x&&W.capture==!!T&&W.ha==C)return K}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Re={};function Me(d,x,T,C,K){if(Array.isArray(x)){for(let W=0;W<x.length;W++)Me(d,x[W],T,C,K);return null}return T=Fl(T),d&&d[ge]?d.J(x,T,h(C)?!!C.capture:!1,K):xt(d,x,T,!1,C,K)}function xt(d,x,T,C,K,W){if(!x)throw Error("Invalid event type");const de=h(K)?!!K.capture:!!K;let Le=ha(d);if(Le||(d[le]=Le=new ue(d)),T=Le.add(x,T,C,de,W),T.proxy)return T;if(C=kn(),T.proxy=C,C.src=d,C.listener=T,d.addEventListener)P||(K=de),K===void 0&&(K=!1),d.addEventListener(x.toString(),C,K);else if(d.attachEvent)d.attachEvent(tn(x.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function kn(){function d(T){return x.call(d.src,d.listener,T)}const x=vs;return d}function Cn(d,x,T,C,K){if(Array.isArray(x))for(var W=0;W<x.length;W++)Cn(d,x[W],T,C,K);else C=h(C)?!!C.capture:!!C,T=Fl(T),d&&d[ge]?(d=d.i,W=String(x).toString(),W in d.g&&(x=d.g[W],T=De(x,T,C,K),T>-1&&($(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete d.g[W],d.h--)))):d&&(d=ha(d))&&(x=d.g[x.toString()],d=-1,x&&(d=De(x,T,C,K)),(T=d>-1?x[d]:null)&&wi(T))}function wi(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[ge])Ae(x.i,d);else{var T=d.type,C=d.proxy;x.removeEventListener?x.removeEventListener(T,C,d.capture):x.detachEvent?x.detachEvent(tn(T),C):x.addListener&&x.removeListener&&x.removeListener(C),(T=ha(x))?(Ae(T,d),T.h==0&&(T.src=null,x[le]=null)):$(d)}}}function tn(d){return d in Re?Re[d]:Re[d]="on"+d}function vs(d,x){if(d.da)d=!0;else{x=new pe(x,this);const T=d.listener,C=d.ha||d.src;d.fa&&wi(d),d=T.call(C,x)}return d}function ha(d){return d=d[le],d instanceof ue?d:null}var Bl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fl(d){return typeof d=="function"?d:(d[Bl]||(d[Bl]=function(x){return d.handleEvent(x)}),d[Bl])}function jt(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}b(jt,M),jt.prototype[ge]=!0,jt.prototype.removeEventListener=function(d,x,T,C){Cn(this,d,x,T,C)};function $t(d,x){var T,C=d.G;if(C)for(T=[];C;C=C.G)T.push(C);if(d=d.M,C=x.type||x,typeof x=="string")x=new R(x,d);else if(x instanceof R)x.target=x.target||d;else{var K=x;x=new R(C,d),ce(x,K)}K=!0;let W,de;if(T)for(de=T.length-1;de>=0;de--)W=x.g=T[de],K=ir(W,C,!0,x)&&K;if(W=x.g=d,K=ir(W,C,!0,x)&&K,K=ir(W,C,!1,x)&&K,T)for(de=0;de<T.length;de++)W=x.g=T[de],K=ir(W,C,!1,x)&&K}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var d=this.i;for(const x in d.g){const T=d.g[x];for(let C=0;C<T.length;C++)$(T[C]);delete d.g[x],d.h--}}this.G=null},jt.prototype.J=function(d,x,T,C){return this.i.add(String(d),x,!1,T,C)},jt.prototype.K=function(d,x,T,C){return this.i.add(String(d),x,!0,T,C)};function ir(d,x,T,C){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let W=0;W<x.length;++W){const de=x[W];if(de&&!de.da&&de.capture==T){const Le=de.listener,Nt=de.ha||de.src;de.fa&&Ae(d.i,de),K=Le.call(Nt,C)!==!1&&K}}return K&&!C.defaultPrevented}function wm(d,x){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(d,x||0)}function Xu(d){d.g=wm(()=>{d.g=null,d.i&&(d.i=!1,Xu(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class _n extends M{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Xu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(d){M.call(this),this.h=d,this.g={}}b(da,M);var Hl=[];function ql(d){me(d.g,function(x,T){this.g.hasOwnProperty(T)&&wi(x)},d),d.g={}}da.prototype.N=function(){da.Z.N.call(this),ql(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=c.JSON.stringify,Tm=c.JSON.parse,Wu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Ju(){}function Zu(){}var bs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){R.call(this,"d")}b(nn,R);function Jn(){R.call(this,"c")}b(Jn,R);var Ct={},eh=null;function ho(){return eh=eh||new jt}Ct.Ia="serverreachability";function th(d){R.call(this,Ct.Ia,d)}b(th,R);function zs(d){const x=ho();$t(x,new th(x))}Ct.STAT_EVENT="statevent";function fa(d,x){R.call(this,Ct.STAT_EVENT,d),this.stat=x}b(fa,R);function Mt(d){const x=ho();$t(x,new fa(x,d))}Ct.Ja="timingevent";function Bs(d,x){R.call(this,Ct.Ja,d),this.size=x}b(Bs,R);function Fs(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},x)}function xs(){this.g=!0}xs.prototype.ua=function(){this.g=!1};function Em(d,x,T,C,K,W){d.info(function(){if(d.g)if(W){var de="",Le=W.split("&");for(let Ze=0;Ze<Le.length;Ze++){var Nt=Le[Ze].split("=");if(Nt.length>1){const pt=Nt[0];Nt=Nt[1];const ns=pt.split("_");de=ns.length>=2&&ns[1]=="type"?de+(pt+"="+Nt+"&"):de+(pt+"=redacted&")}}}else de=null;else de=W;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+x+`
`+T+`
`+de})}function nh(d,x,T,C,K,W,de){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+x+`
`+T+`
`+W+" "+de})}function Hs(d,x,T,C){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Sm(d,T)+(C?" "+C:"")})}function ma(d,x){d.info(function(){return"TIMEOUT: "+x})}xs.prototype.info=function(){};function Sm(d,x){if(!d.g)return x;if(!x)return null;try{const W=JSON.parse(x);if(W){for(d=0;d<W.length;d++)if(Array.isArray(W[d])){var T=W[d];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var K=C[0];if(K!="noop"&&K!="stop"&&K!="close")for(let de=1;de<C.length;de++)C[de]=""}}}}return rr(W)}catch{return x}}var pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$l;function ga(){}b(ga,Ju),ga.prototype.g=function(){return new XMLHttpRequest},$l=new ga;function Ti(d){return encodeURIComponent(String(d))}function sh(d){var x=1;d=d.split(":");const T=[];for(;x>0&&d.length;)T.push(d.shift()),x--;return d.length&&T.push(d.join(":")),T}function _s(d,x,T,C){this.j=d,this.i=x,this.l=T,this.S=C||1,this.V=new da(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ws}function ws(){this.i=null,this.g="",this.h=!1}var Vt={},Wt={};function qs(d,x,T){d.M=1,d.A=ya(Pt(x)),d.u=T,d.R=!0,fo(d,null)}function fo(d,x){d.F=Date.now(),Gs(d),d.B=Pt(d.A);var T=d.B,C=d.S;Array.isArray(C)||(C=[String(C)]),yo(T.i,"t",C),d.C=0,T=d.j.L,d.h=new ws,d.g=vh(d.j,T?x:null,!d.u),d.P>0&&(d.O=new _n(p(d.Y,d,d.g),d.P)),x=d.V,T=d.g,C=d.ba;var K="readystatechange";Array.isArray(K)||(K&&(Hl[0]=K.toString()),K=Hl);for(let W=0;W<K.length;W++){const de=Me(T,K[W],C||x.handleEvent,!1,x.h||x);if(!de)break;x.g[de.key]=de}x=d.J?U(d.J):{},d.u?(d.v||(d.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,x)):(d.v="GET",d.g.ea(d.B,d.v,null,x)),zs(),Em(d.i,d.v,d.B,d.l,d.S,d.u)}_s.prototype.ba=function(d){d=d.target;const x=this.O;x&&Ss(d)==3?x.j():this.Y(d)},_s.prototype.Y=function(d){try{if(d==this.g)e:{const Le=Ss(this.g),Nt=this.g.ya(),Ze=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Le!=4||Nt==7||(Nt==8||Ze<=0?zs(3):zs(2)),$s(this);var x=this.g.ca();this.X=x;var T=Am(this);if(this.o=x==200,nh(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var C,K=this.g;if((C=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(C)){var W=C;break t}}W=null}if(d=W)Hs(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ks(this,d);else{this.o=!1,this.m=3,Mt(12),zn(this),Zn(this);break e}}if(this.R){d=!0;let pt;for(;!this.K&&this.C<T.length;)if(pt=rh(this,T),pt==Wt){Le==4&&(this.m=4,Mt(14),d=!1),Hs(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Vt){this.m=4,Mt(15),Hs(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Hs(this.i,this.l,pt,null),Ks(this,pt);if(ih(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||T.length!=0||this.h.h||(this.m=1,Mt(16),d=!1),this.o=this.o&&d,!d)Hs(this.i,this.l,T,"[Invalid Chunked Response]"),zn(this),Zn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),oc(de),de.P=!0,Mt(11))}}else Hs(this.i,this.l,T,null),Ks(this,T);Le==4&&zn(this),this.o&&!this.K&&(Le==4?mh(this.j,this):(this.o=!1,Gs(this)))}else Si(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),zn(this),Zn(this)}}}catch{}};function Am(d){if(!ih(d))return d.g.la();const x=sn(d.g);if(x==="")return"";let T="";const C=x.length,K=Ss(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return zn(d),Zn(d),"";d.h.i=new c.TextDecoder}for(let W=0;W<C;W++)d.h.h=!0,T+=d.h.i.decode(x[W],{stream:!(K&&W==C-1)});return x.length=0,d.h.g+=T,d.C=0,d.h.g}function ih(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function rh(d,x){var T=d.C,C=x.indexOf(`
`,T);return C==-1?Wt:(T=Number(x.substring(T,C)),isNaN(T)?Vt:(C+=1,C+T>x.length?Wt:(x=x.slice(C,C+T),d.C=C+T,x)))}_s.prototype.cancel=function(){this.K=!0,zn(this)};function Gs(d){d.T=Date.now()+d.H,mo(d,d.H)}function mo(d,x){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Fs(p(d.aa,d),x)}function $s(d){d.D&&(c.clearTimeout(d.D),d.D=null)}_s.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ma(this.i,this.B),this.M!=2&&(zs(),Mt(17)),zn(this),this.m=2,Zn(this)):mo(this,this.T-d)};function Zn(d){d.j.I==0||d.K||mh(d.j,d)}function zn(d){$s(d);var x=d.O;x&&typeof x.dispose=="function"&&x.dispose(),d.O=null,ql(d.V),d.g&&(x=d.g,d.g=null,x.abort(),x.dispose())}function Ks(d,x){try{var T=d.j;if(T.I!=0&&(T.g==d||Qs(T.h,d))){if(!d.L&&Qs(T.h,d)&&T.I==3){try{var C=T.Ba.g.parse(x)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)wo(T),fr(T);else break e;Ea(T),Mt(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Fs(p(T.Va,T),6e3));Ys(T.h)<=1&&T.ta&&(T.ta=void 0)}else ti(T,11)}else if((d.L||T.g==d)&&wo(T),!I(x))for(K=T.Ba.g.parse(x),x=0;x<K.length;x++){let Ze=K[x];const pt=Ze[0];if(!(pt<=T.K))if(T.K=pt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const ns=Ze[3];ns!=null&&(T.ka=ns,T.j.info("VER="+T.ka));const ni=Ze[4];ni!=null&&(T.za=ni,T.j.info("SVER="+T.za));const As=Ze[5];As!=null&&typeof As=="number"&&As>0&&(C=1.5*As,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const ks=d.g;if(ks){const Sa=ks.g?ks.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var W=C.h;W.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ql(W,W.h),W.h=null))}if(C.G){const To=ks.g?ks.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(C.wa=To,nt(C.J,C.G,To))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var de=d;if(C.na=yh(C,C.L?C.ba:null,C.W),de.L){Xl(C.h,de);var Le=de,Nt=C.O;Nt&&(Le.H=Nt),Le.D&&($s(Le),Gs(Le)),C.g=de}else dh(C);T.i.length>0&&ei(T)}else Ze[0]!="stop"&&Ze[0]!="close"||ti(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ti(T,7):rc(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}zs(4)}catch{}}var Ot=class{constructor(d,x){this.g=d,this.map=x}};function Kl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ys(d){return d.h?1:d.g?d.g.size:0}function Qs(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function Ql(d,x){d.g?d.g.add(x):d.h=x}function Xl(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}Kl.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Wl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const T of d.g.values())x=x.concat(T.G);return x}return S(d.i)}var ah=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function po(d,x){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const C=d[T].indexOf("=");let K,W=null;C>=0?(K=d[T].substring(0,C),W=d[T].substring(C+1)):K=d[T],x(K,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Bn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;d instanceof Bn?(this.l=d.l,Jt(this,d.j),this.o=d.o,this.g=d.g,ar(this,d.u),this.h=d.h,Jl(this,uh(d.i)),this.m=d.m):d&&(x=String(d).match(ah))?(this.l=!1,Jt(this,x[1]||"",!0),this.o=Xs(x[2]||""),this.g=Xs(x[3]||"",!0),ar(this,x[4]),this.h=Xs(x[5]||"",!0),Jl(this,x[6]||"",!0),this.m=Xs(x[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}Bn.prototype.toString=function(){const d=[];var x=this.j;x&&d.push(va(x,go,!0),":");var T=this.g;return(T||x=="file")&&(d.push("//"),(x=this.o)&&d.push(va(x,go,!0),"@"),d.push(Ti(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(va(T,T.charAt(0)=="/"?Zl:oh,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",va(T,lh)),d.join("")},Bn.prototype.resolve=function(d){const x=Pt(this);let T=!!d.j;T?Jt(x,d.j):T=!!d.o,T?x.o=d.o:T=!!d.g,T?x.g=d.g:T=d.u!=null;var C=d.h;if(T)ar(x,d.u);else if(T=!!d.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var K=x.h.lastIndexOf("/");K!=-1&&(C=x.h.slice(0,K+1)+C)}if(K=C,K==".."||K==".")C="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){C=K.lastIndexOf("/",0)==0,K=K.split("/");const W=[];for(let de=0;de<K.length;){const Le=K[de++];Le=="."?C&&de==K.length&&W.push(""):Le==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),C&&de==K.length&&W.push("")):(W.push(Le),C=!0)}C=W.join("/")}else C=K}return T?x.h=C:T=d.i.toString()!=="",T?Jl(x,uh(d.i)):T=!!d.m,T&&(x.m=d.m),x};function Pt(d){return new Bn(d)}function Jt(d,x,T){d.j=T?Xs(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function ar(d,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);d.u=x}else d.u=null}function Jl(d,x,T){x instanceof lr?(d.i=x,vo(d.i,d.l)):(T||(x=va(x,or)),d.i=new lr(x,d.l))}function nt(d,x,T){d.i.set(x,T)}function ya(d){return nt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Xs(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function va(d,x,T){return typeof d=="string"?(d=encodeURI(d).replace(x,Nn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Nn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var go=/[#\/\?@]/g,oh=/[#\?:]/g,Zl=/[#\?]/g,or=/[#\?@]/g,lh=/#/g;function lr(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function Rn(d){d.g||(d.g=new Map,d.h=0,d.i&&po(d.i,function(x,T){d.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=lr.prototype,t.add=function(d,x){Rn(this),this.i=null,d=cr(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(x),this.h+=1,this};function ch(d,x){Rn(d),x=cr(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function ec(d,x){return Rn(d),x=cr(d,x),d.g.has(x)}t.forEach=function(d,x){Rn(this),this.g.forEach(function(T,C){T.forEach(function(K){d.call(x,K,C,this)},this)},this)};function tc(d,x){Rn(d);let T=[];if(typeof x=="string")ec(d,x)&&(T=T.concat(d.g.get(cr(d,x))));else for(d=Array.from(d.g.values()),x=0;x<d.length;x++)T=T.concat(d[x]);return T}t.set=function(d,x){return Rn(this),this.i=null,d=cr(this,d),ec(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},t.get=function(d,x){return d?(d=tc(this,d),d.length>0?String(d[0]):x):x};function yo(d,x,T){ch(d,x),T.length>0&&(d.i=null,d.g.set(cr(d,x),S(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(let C=0;C<x.length;C++){var T=x[C];const K=Ti(T);T=tc(this,T);for(let W=0;W<T.length;W++){let de=K;T[W]!==""&&(de+="="+Ti(T[W])),d.push(de)}}return this.i=d.join("&")};function uh(d){const x=new lr;return x.i=d.i,d.g&&(x.g=new Map(d.g),x.h=d.h),x}function cr(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function vo(d,x){x&&!d.j&&(Rn(d),d.i=null,d.g.forEach(function(T,C){const K=C.toLowerCase();C!=K&&(ch(this,C),yo(this,K,T))},d)),d.j=x}function Ts(d,x){const T=new xs;if(c.Image){const C=new Image;C.onload=v(es,T,"TestLoadImage: loaded",!0,x,C),C.onerror=v(es,T,"TestLoadImage: error",!1,x,C),C.onabort=v(es,T,"TestLoadImage: abort",!1,x,C),C.ontimeout=v(es,T,"TestLoadImage: timeout",!1,x,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else x(!1)}function nc(d,x){const T=new xs,C=new AbortController,K=setTimeout(()=>{C.abort(),es(T,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:C.signal}).then(W=>{clearTimeout(K),W.ok?es(T,"TestPingServer: ok",!0,x):es(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),es(T,"TestPingServer: error",!1,x)})}function es(d,x,T,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(T)}catch{}}function ur(){this.g=new Wu}function Ws(d){this.i=d.Sb||null,this.h=d.ab||!1}b(Ws,Ju),Ws.prototype.g=function(){return new ba(this.i,this.h)};function ba(d,x){jt.call(this),this.H=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ba,jt),t=ba.prototype,t.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=x,this.readyState=1,Es(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(x.body=d),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Es(this)),this.g&&(this.readyState=3,Es(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?hr(this):Es(this),this.readyState==3&&bo(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,hr(this))},t.Na=function(d){this.g&&(this.response=d,hr(this))},t.ga=function(){this.g&&hr(this)};function hr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Es(d)}t.setRequestHeader=function(d,x){this.A.append(d,x)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=x.next();return d.join(`\r
`)};function Es(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ts(d){let x="";return me(d,function(T,C){x+=C,x+=":",x+=T,x+=`\r
`}),x}function xa(d,x,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=ts(T),typeof d=="string"?T!=null&&Ti(T):nt(d,x,T))}function rt(d){jt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(rt,jt);var Js=/^https?$/i,sc=["POST","PUT"];t=rt.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,x,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$l.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(W){_a(this,W);return}if(d=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)T.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const W of C.keys())T.set(W,C.get(W));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),K=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(sc,x,void 0)>=0)||C||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of T)this.g.setRequestHeader(W,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(W){_a(this,W)}};function _a(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.o=5,ic(d),Ei(d)}function ic(d){d.A||(d.A=!0,$t(d,"complete"),$t(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,$t(this,"complete"),$t(this,"abort"),Ei(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},t.Xa=function(){wa(this)};function wa(d){if(d.h&&typeof l<"u"){if(d.v&&Ss(d)==4)setTimeout(d.Ca.bind(d),0);else if($t(d,"readystatechange"),Ss(d)==4){d.h=!1;try{const W=d.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var C;if(C=W===0){let de=String(d.D).match(ah)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),C=!Js.test(de?de.toLowerCase():"")}T=C}if(T)$t(d,"complete"),$t(d,"success");else{d.o=6;try{var K=Ss(d)>2?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.ca()+"]",ic(d)}}finally{Ei(d)}}}}function Ei(d,x){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,x||$t(d,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ss(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),Tm(x)}};function sn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Si(d){const x={};d=(d.g&&Ss(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(I(d[C]))continue;var T=sh(d[C]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=x[K]||[];x[K]=W,W.push(T)}Te(x,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(d,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||x}function dr(d){this.za=0,this.i=[],this.j=new xs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zs("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zs("baseRetryDelayMs",5e3,d),this.Za=Zs("retryDelaySeedMs",1e4,d),this.Ta=Zs("forwardChannelMaxRetries",2,d),this.va=Zs("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Kl(d&&d.concurrentRequestLimit),this.Ba=new ur,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dr.prototype,t.ka=8,t.I=1,t.connect=function(d,x,T,C){Mt(0),this.W=d,this.H=x||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=yh(this,null,this.W),ei(this)};function rc(d){if(xo(d),d.I==3){var x=d.V++,T=Pt(d.J);if(nt(T,"SID",d.M),nt(T,"RID",x),nt(T,"TYPE","terminate"),Ta(d,T),x=new _s(d,d.j,x),x.M=2,x.A=ya(Pt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=vh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Gs(x)}gh(d)}function fr(d){d.g&&(oc(d),d.g.cancel(),d.g=null)}function xo(d){fr(d),d.v&&(c.clearTimeout(d.v),d.v=null),wo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function ei(d){if(!Yl(d.h)&&!d.m){d.m=!0;var x=d.Ea;re||E(),he||(re(),he=!0),j.add(x,d),d.D=0}}function _o(d,x){return Ys(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=x.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Fs(p(d.Ea,d,x),ph(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const K=new _s(this,this.j,d);let W=this.o;if(this.U&&(W?(W=U(W),ce(W,this.U)):W=this.U),this.u!==null||this.R||(K.J=W,W=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(x+=C,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=hh(this,K,x),T=Pt(this.J),nt(T,"RID",d),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),Ta(this,T),W&&(this.R?x="headers="+Ti(ts(W))+"&"+x:this.u&&xa(T,this.u,W)),Ql(this.h,K),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",x),nt(T,"SID","null"),K.U=!0,qs(K,T,null)):qs(K,T,x),this.I=2}}else this.I==3&&(d?ac(this,d):this.i.length==0||Yl(this.h)||ac(this))};function ac(d,x){var T;x?T=x.l:T=d.V++;const C=Pt(d.J);nt(C,"SID",d.M),nt(C,"RID",T),nt(C,"AID",d.K),Ta(d,C),d.u&&d.o&&xa(C,d.u,d.o),T=new _s(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),x&&(d.i=x.G.concat(d.i)),x=hh(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ql(d.h,T),qs(T,C,x)}function Ta(d,x){d.H&&me(d.H,function(T,C){nt(x,C,T)}),d.l&&me({},function(T,C){nt(x,C,T)})}function hh(d,x,T){T=Math.min(d.i.length,T);const C=d.l?p(d.l.Ka,d.l,d):null;e:{var K=d.i;let Le=-1;for(;;){const Nt=["count="+T];Le==-1?T>0?(Le=K[0].g,Nt.push("ofs="+Le)):Le=0:Nt.push("ofs="+Le);let Ze=!0;for(let pt=0;pt<T;pt++){var W=K[pt].g;const ns=K[pt].map;if(W-=Le,W<0)Le=Math.max(0,K[pt].g-100),Ze=!1;else try{W="req"+W+"_"||"";try{var de=ns instanceof Map?ns:Object.entries(ns);for(const[ni,As]of de){let ks=As;h(As)&&(ks=rr(As)),Nt.push(W+ni+"="+encodeURIComponent(ks))}}catch(ni){throw Nt.push(W+"type="+encodeURIComponent("_badmap")),ni}}catch{C&&C(ns)}}if(Ze){de=Nt.join("&");break e}}de=void 0}return d=d.i.splice(0,T),x.G=d,de}function dh(d){if(!d.g&&!d.v){d.Y=1;var x=d.Da;re||E(),he||(re(),he=!0),j.add(x,d),d.A=0}}function Ea(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Fs(p(d.Da,d),ph(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,fh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Fs(p(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),fr(this),fh(this))};function oc(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function fh(d){d.g=new _s(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var x=Pt(d.na);nt(x,"RID","rpc"),nt(x,"SID",d.M),nt(x,"AID",d.K),nt(x,"CI",d.F?"0":"1"),!d.F&&d.ia&&nt(x,"TO",d.ia),nt(x,"TYPE","xmlhttp"),Ta(d,x),d.u&&d.o&&xa(x,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=ya(Pt(x)),T.u=null,T.R=!0,fo(T,d)}t.Va=function(){this.C!=null&&(this.C=null,fr(this),Ea(this),Mt(19))};function wo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function mh(d,x){var T=null;if(d.g==x){wo(d),oc(d),d.g=null;var C=2}else if(Qs(d.h,x))T=x.G,Xl(d.h,x),C=1;else return;if(d.I!=0){if(x.o)if(C==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var K=d.D;C=ho(),$t(C,new Bs(C,T)),ei(d)}else dh(d);else if(K=x.m,K==3||K==0&&x.X>0||!(C==1&&_o(d,x)||C==2&&Ea(d)))switch(T&&T.length>0&&(x=d.h,x.i=x.i.concat(T)),K){case 1:ti(d,5);break;case 4:ti(d,10);break;case 3:ti(d,6);break;default:ti(d,2)}}}function ph(d,x){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*x}function ti(d,x){if(d.j.info("Error code "+x),x==2){var T=p(d.bb,d),C=d.Ua;const K=!C;C=new Bn(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Jt(C,"https"),ya(C),K?Ts(C.toString(),T):nc(C.toString(),T)}else Mt(2);d.I=0,d.l&&d.l.pa(x),gh(d),xo(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function gh(d){if(d.I=0,d.ja=[],d.l){const x=Wl(d.h);(x.length!=0||d.i.length!=0)&&(D(d.ja,x),D(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function yh(d,x,T){var C=T instanceof Bn?Pt(T):new Bn(T);if(C.g!="")x&&(C.g=x+"."+C.g),ar(C,C.u);else{var K=c.location;C=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const W=new Bn(null);C&&Jt(W,C),x&&(W.g=x),K&&ar(W,K),T&&(W.h=T),C=W}return T=d.G,x=d.wa,T&&x&&nt(C,T,x),nt(C,"VER",d.ka),Ta(d,C),C}function vh(d,x,T){if(x&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Aa&&!d.ma?new rt(new Ws({ab:T})):new rt(d.ma),x.Fa(d.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bh(){}t=bh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mr(){}mr.prototype.g=function(d,x){return new wn(d,x)};function wn(d,x){jt.call(this),this.g=new dr(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(d?d["X-WebChannel-Client-Profile"]=x.sa:d={"X-WebChannel-Client-Profile":x.sa}),this.g.U=d,(d=x&&x.Qb)&&!I(d)&&(this.g.u=d),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!I(x)&&(this.g.G=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new Ai(this)}b(wn,jt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){rc(this.g)},wn.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=rr(d),d=T);x.i.push(new Ot(x.Ya++,d)),x.I==3&&ei(x)},wn.prototype.N=function(){this.g.l=null,delete this.j,rc(this.g),delete this.g,wn.Z.N.call(this)};function xh(d){nn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const T in x){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}b(xh,nn);function _h(){Jn.call(this),this.status=1}b(_h,Jn);function Ai(d){this.g=d}b(Ai,bh),Ai.prototype.ra=function(){$t(this.g,"a")},Ai.prototype.qa=function(d){$t(this.g,new xh(d))},Ai.prototype.pa=function(d){$t(this.g,new _h)},Ai.prototype.oa=function(){$t(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,tk=function(){return new mr},ek=function(){return ho()},Z2=Ct,Y0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,nf=pa,Gl.COMPLETE="complete",J2=Gl,Zu.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",jt.prototype.listen=jt.prototype.J,Jc=Zu,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,W2=rt}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let jl="12.9.0";function TP(t){jl=t}const so=new iv("@firebase/firestore");function tl(){return so.logLevel}function ye(t,...e){if(so.logLevel<=$e.DEBUG){const n=e.map(yv);so.debug(`Firestore (${jl}): ${t}`,...n)}}function Zi(t,...e){if(so.logLevel<=$e.ERROR){const n=e.map(yv);so.error(`Firestore (${jl}): ${t}`,...n)}}function io(t,...e){if(so.logLevel<=$e.WARN){const n=e.map(yv);so.warn(`Firestore (${jl}): ${t}`,...n)}}function yv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ie(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,nk(t,i,n)}function nk(t,e,n){let i=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Zi(i),new Error(i)}function tt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||nk(e,a,i)}function Pe(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends _i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class sk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(yn.UNAUTHENTICATED)))}shutdown(){}}class SP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AP{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new sk(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class kP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class CP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new kP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class BT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new BT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function RP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=RP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function Q0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Zg(a)===Zg(l)?Ke(a,l):Zg(a)?1:-1}return Ke(t.length,e.length)}const IP=55296,DP=57343;function Zg(t){const e=t.charCodeAt(0);return e>=IP&&e<=DP}function xl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const FT="__name__";class ci{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ie(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ci.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const i=ci.isNumericId(e),a=ci.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ci.extractNumericId(e).compare(ci.extractNumericId(n)):Q0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class ut extends ci{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const jP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends ci{construct(e,n,i){return new dn(e,n,i)}static isValidIdentifier(e){return jP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FT}static keyField(){return new dn([FT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(ut.fromString(e))}static fromName(e){return new Ce(ut.fromString(e).popFirst(5))}static empty(){return new Ce(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new ut(e.slice()))}}function ik(t,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MP(t,e,n,i){if(e===!0&&i===!0)throw new fe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HT(t){if(!Ce.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qT(t){if(Ce.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function Un(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zf(t);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function VP(t,e){if(e<=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hu(t,e){if(!rk(t))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}const GT=-62135596800,$T=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*$T);return new mt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<GT)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$T}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-GT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Gt("string",mt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new mt(0,0))}static max(){return new Ve(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function OP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(i===1e9?new mt(n+1,0):new mt(n,i));return new Zr(a,Ce.empty(),e)}function PP(t){return new Zr(t.readTime,t.key,wu)}class Zr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Zr(Ve.min(),Ce.empty(),wu)}static max(){return new Zr(Ve.max(),Ce.empty(),wu)}}function LP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const UP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ml(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==UP)throw t;ye("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,i)=>{n(e)}))}static reject(e){return new oe(((n,i)=>{i(e)}))}static waitFor(e){return new oe(((n,i)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(f=>i(f)))})),c=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const i of e)n=n.next((a=>a?oe.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new oe(((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((v=>{c[p]=v,++h,h===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new oe(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function BP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}class em{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}em.ce=-1;const bv=-1;function tm(t){return t==null}function Af(t){return t===0&&1/t==-1/0}function FP(t){return typeof t=="number"&&Number.isInteger(t)&&!Af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const ak="";function HP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KT(e)),e=qP(t.get(n),e);return KT(e)}function qP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case ak:n+="";break;default:n+=l}}return n}function KT(t){return t+ak+""}function YT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ok(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dd(this.root,e,this.comparator,!0)}}class Dd{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new hn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QT(this.data.getIterator())}getIteratorFrom(e){return new QT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class QT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Xt(dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class lk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new lk("Invalid base64 string: "+l):l}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const GP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=GP.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}const ck="server_timestamp",uk="__type__",hk="__previous_value__",dk="__local_write_time__";function xv(t){return(t?.mapValue?.fields||{})[uk]?.stringValue===ck}function nm(t){const e=t.mapValue.fields[hk];return xv(e)?nm(e):e}function Tu(t){const e=ea(t.mapValue.fields[dk].timestampValue);return new mt(e.seconds,e.nanos)}class $P{constructor(e,n,i,a,l,c,h,f,p,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=b}}const kf="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||kf}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===kf}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}function KP(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(t.options.projectId,e)}const fk="__type__",YP="__max__",jd={mapValue:{}},mk="__vector__",Cf="value";function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xv(t)?4:XP(t)?9007199254740991:QP(t)?10:11:Ie(28295,{value:t})}function xi(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tu(t).isEqual(Tu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ea(a.timestampValue),h=ea(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ta(a.bytesValue).isEqual(ta(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Dt(a.geoPointValue.latitude)===Dt(l.geoPointValue.latitude)&&Dt(a.geoPointValue.longitude)===Dt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Dt(a.integerValue)===Dt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Dt(a.doubleValue),h=Dt(l.doubleValue);return c===h?Af(c)===Af(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return xl(t.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(YT(c)!==YT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!xi(c[f],h[f])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function Su(t,e){return(t.values||[]).find((n=>xi(n,e)))!==void 0}function _l(t,e){if(t===e)return 0;const n=na(t),i=na(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Dt(l.integerValue||l.doubleValue),f=Dt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return XT(t.timestampValue,e.timestampValue);case 4:return XT(Tu(t),Tu(e));case 5:return Q0(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=ta(l),f=ta(c);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),f=c.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=Ke(h[p],f[p]);if(v!==0)return v}return Ke(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Ke(Dt(l.latitude),Dt(c.latitude));return h!==0?h:Ke(Dt(l.longitude),Dt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return WT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},f=c.fields||{},p=h[Cf]?.arrayValue,v=f[Cf]?.arrayValue,b=Ke(p?.values?.length||0,v?.values?.length||0);return b!==0?b:WT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===jd.mapValue&&c===jd.mapValue)return 0;if(l===jd.mapValue)return 1;if(c===jd.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=c.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const w=Q0(f[b],v[b]);if(w!==0)return w;const S=_l(h[f[b]],p[v[b]]);if(S!==0)return S}return Ke(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function XT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=ea(t),i=ea(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function WT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=_l(n[a],i[a]);if(l)return l}return Ke(n.length,i.length)}function wl(t){return X0(t)}function X0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ea(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ta(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=X0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${X0(n.fields[c])}`;return a+"}"})(t.mapValue):Ie(61005,{value:t})}function sf(t){switch(na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(t);return e?16+sf(e):16;case 5:return 2*t.stringValue.length;case 6:return ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+sf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return la(i.fields,((l,c)=>{a+=l.length+sf(c)})),a})(t.mapValue);default:throw Ie(13486,{value:t})}}function JT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function W0(t){return!!t&&"integerValue"in t}function _v(t){return!!t&&"arrayValue"in t}function ZT(t){return!!t&&"nullValue"in t}function eE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}function QP(t){return(t?.mapValue?.fields||{})[fk]?.stringValue===mk}function lu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=lu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(t.arrayValue.values[n]);return e}return{...t}}function XP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YP}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=dn.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=lu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];rf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){la(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Pn(lu(this.value))}}function pk(t){const e=[];return la(t.fields,((n,i)=>{const a=new dn([n]);if(rf(i)){const l=pk(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Qn(e)}class vn{constructor(e,n,i,a,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new vn(e,0,Ve.min(),Ve.min(),Ve.min(),Pn.empty(),0)}static newFoundDocument(e,n,i,a){return new vn(e,1,n,Ve.min(),i,a,0)}static newNoDocument(e,n){return new vn(e,2,n,Ve.min(),Ve.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,Ve.min(),Ve.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nf{constructor(e,n){this.position=e,this.inclusive=n}}function tE(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ce.comparator(Ce.fromName(c.referenceValue),n.key):i=_l(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function nE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xi(t.position[n],e.position[n]))return!1;return!0}class Au{constructor(e,n="asc"){this.field=e,this.dir=n}}function WP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class gk{}class qt extends gk{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new ZP(e,n,i):n==="array-contains"?new nL(e,i):n==="in"?new sL(e,i):n==="not-in"?new iL(e,i):n==="array-contains-any"?new rL(e,i):new qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new eL(e,i):new tL(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_l(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends gk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ls(e,n)}matches(e){return yk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yk(t){return t.op==="and"}function vk(t){return JP(t)&&yk(t)}function JP(t){for(const e of t.filters)if(e instanceof Ls)return!1;return!0}function J0(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+wl(t.value);if(vk(t))return t.filters.map((e=>J0(e))).join(",");{const e=t.filters.map((n=>J0(n))).join(",");return`${t.op}(${e})`}}function bk(t,e){return t instanceof qt?(function(i,a){return a instanceof qt&&i.op===a.op&&i.field.isEqual(a.field)&&xi(i.value,a.value)})(t,e):t instanceof Ls?(function(i,a){return a instanceof Ls&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,h)=>l&&bk(c,a.filters[h])),!0):!1})(t,e):void Ie(19439)}function xk(t){return t instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`})(t):t instanceof Ls?(function(n){return n.op.toString()+" {"+n.getFilters().map(xk).join(" ,")+"}"})(t):"Filter"}class ZP extends qt{constructor(e,n,i){super(e,n,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class eL extends qt{constructor(e,n){super(e,"in",n),this.keys=_k("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tL extends qt{constructor(e,n){super(e,"not-in",n),this.keys=_k("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _k(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class nL extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _v(n)&&Su(n.arrayValue,this.value)}}class sL extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class iL extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Su(this.value.arrayValue,n)}}class rL extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_v(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Su(this.value.arrayValue,i)))}}class aL{constructor(e,n=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function sE(t,e=null,n=[],i=[],a=null,l=null,c=null){return new aL(t,e,n,i,a,l,c)}function wv(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>J0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>wl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>wl(i))).join(",")),e.Te=n}return e.Te}function Tv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nE(t.startAt,e.startAt)&&nE(t.endAt,e.endAt)}function Z0(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ol{constructor(e,n=null,i=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function oL(t,e,n,i,a,l,c,h){return new Ol(t,e,n,i,a,l,c,h)}function sm(t){return new Ol(t)}function iE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lL(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function wk(t){return t.collectionGroup!==null}function cu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Xt(dn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Au(l,i))})),n.has(dn.keyField().canonicalString())||e.Ie.push(new Au(dn.keyField(),i))}return e.Ie}function pi(t){const e=Pe(t);return e.Ee||(e.Ee=cL(e,cu(t))),e.Ee}function cL(t,e){if(t.limitType==="F")return sE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Au(a.field,l)}));const n=t.endAt?new Nf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Nf(t.startAt.position,t.startAt.inclusive):null;return sE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function ey(t,e){const n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uL(t,e){const n=t.explicitOrderBy.concat([e]);return new Ol(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Rf(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function im(t,e){return Tv(pi(t),pi(e))&&t.limitType===e.limitType}function Tk(t){return`${wv(pi(t))}|lt:${t.limitType}`}function nl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>xk(a))).join(", ")}]`),tm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>wl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>wl(a))).join(",")),`Target(${i})`})(pi(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ce.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of cu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const p=tE(c,h,f);return c.inclusive?p<=0:p<0})(i.startAt,cu(i),a)||i.endAt&&!(function(c,h,f){const p=tE(c,h,f);return c.inclusive?p>=0:p>0})(i.endAt,cu(i),a))})(t,e)}function hL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ek(t){return(e,n)=>{let i=!1;for(const a of cu(t)){const l=dL(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function dL(t,e,n){const i=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(l,c,h){const f=c.data.field(l),p=h.data.field(l);return f!==null&&p!==null?_l(f,p):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:t.dir})}}class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return ok(this.inner)}size(){return this.innerSize}}const fL=new bt(Ce.comparator);function er(){return fL}const Sk=new bt(Ce.comparator);function Zc(...t){let e=Sk;for(const n of t)e=e.insert(n.key,n);return e}function Ak(t){let e=Sk;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ya(){return uu()}function kk(){return uu()}function uu(){return new co((t=>t.toString()),((t,e)=>t.isEqual(e)))}const mL=new bt(Ce.comparator),pL=new Xt(Ce.comparator);function Ye(...t){let e=pL;for(const n of t)e=e.add(n);return e}const gL=new Xt(Ke);function yL(){return gL}function Ev(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function Ck(t){return{integerValue:""+t}}function vL(t,e){return FP(e)?Ck(e):Ev(t,e)}class am{constructor(){this._=void 0}}function bL(t,e,n){return t instanceof ku?(function(a,l){const c={fields:{[uk]:{stringValue:ck},[dk]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&xv(l)&&(l=nm(l)),l&&(c.fields[hk]=l),{mapValue:c}})(n,e):t instanceof Cu?Rk(t,e):t instanceof Nu?Ik(t,e):(function(a,l){const c=Nk(a,l),h=rE(c)+rE(a.Ae);return W0(c)&&W0(a.Ae)?Ck(h):Ev(a.serializer,h)})(t,e)}function xL(t,e,n){return t instanceof Cu?Rk(t,e):t instanceof Nu?Ik(t,e):n}function Nk(t,e){return t instanceof If?(function(i){return W0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class ku extends am{}class Cu extends am{constructor(e){super(),this.elements=e}}function Rk(t,e){const n=Dk(e);for(const i of t.elements)n.some((a=>xi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Nu extends am{constructor(e){super(),this.elements=e}}function Ik(t,e){let n=Dk(e);for(const i of t.elements)n=n.filter((a=>!xi(a,i)));return{arrayValue:{values:n}}}class If extends am{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rE(t){return Dt(t.integerValue||t.doubleValue)}function Dk(t){return _v(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class _L{constructor(e,n){this.field=e,this.transform=n}}function wL(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Cu&&a instanceof Cu||i instanceof Nu&&a instanceof Nu?xl(i.elements,a.elements,xi):i instanceof If&&a instanceof If?xi(i.Ae,a.Ae):i instanceof ku&&a instanceof ku})(t.transform,e.transform)}class TL{constructor(e,n){this.version=e,this.transformResults=n}}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class om{}function jk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sv(t.key,ps.none()):new qu(t.key,t.data,ps.none());{const n=t.data,i=Pn.empty();let a=new Xt(dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ca(t.key,i,new Qn(a.toArray()),ps.none())}}function EL(t,e,n){t instanceof qu?(function(a,l,c){const h=a.value.clone(),f=oE(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ca?(function(a,l,c){if(!af(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=oE(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(Mk(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function hu(t,e,n,i){return t instanceof qu?(function(l,c,h,f){if(!af(l.precondition,c))return h;const p=l.value.clone(),v=lE(l.fieldTransforms,f,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof ca?(function(l,c,h,f){if(!af(l.precondition,c))return h;const p=lE(l.fieldTransforms,f,c),v=c.data;return v.setAll(Mk(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,c,h){return af(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function SL(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=Nk(i.transform,a||null);l!=null&&(n===null&&(n=Pn.empty()),n.set(i.field,l))}return n||null}function aE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&xl(i,a,((l,c)=>wL(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qu extends om{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ca extends om{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Mk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function oE(t,e,n){const i=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,xL(c,h,n[a]))}return i}function lE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,bL(l,c,e))}return i}class Sv extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AL extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kL{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&EL(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=hu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=hu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=kk();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const f=jk(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((n,i)=>aE(n,i)))&&xl(this.baseMutations,e.baseMutations,((n,i)=>aE(n,i)))}}class Av{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return mL})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Av(e,n,i,a)}}class CL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ft,Xe;function RL(t){switch(t){case ie.OK:return Ie(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function Vk(t){if(t===void 0)return Zi("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Ft.OK:return ie.OK;case Ft.CANCELLED:return ie.CANCELLED;case Ft.UNKNOWN:return ie.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ie.INTERNAL;case Ft.UNAVAILABLE:return ie.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ie.NOT_FOUND;case Ft.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ft.ABORTED:return ie.ABORTED;case Ft.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ft.DATA_LOSS:return ie.DATA_LOSS;default:return Ie(39323,{code:t})}}(Xe=Ft||(Ft={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function IL(){return new TextEncoder}const DL=new Yr([4294967295,4294967295],0);function cE(t){const e=IL().encode(t),n=new X2;return n.update(e),new Uint8Array(n.digest())}function uE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Yr([n,i],0),new Yr([a,l],0)]}class kv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(i<0)throw new eu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Yr.fromNumber(i)));return a.compare(DL)===1&&(a=new Yr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cE(e),[i,a]=uE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new kv(l,a,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=cE(e),[i,a]=uE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lm{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new lm(Ve.min(),a,new bt(Ke),er(),Ye())}}class Gu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Gu(i,n,Ye(),Ye(),Ye())}}class of{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class Ok{constructor(e,n){this.targetId=e,this.Ce=n}}class Pk{constructor(e,n,i=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class hE{constructor(){this.ve=0,this.Fe=dE(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ie(38017,{changeType:l})}})),new Gu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=dE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class jL{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.He=Md(),this.Je=Md(),this.Ze=new bt(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Z0(l))if(i===0){const c=new Ce(l.path);this.et(n,c,vn.newNoDocument(c,Ve.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=ta(i).toUint8Array()}catch(f){if(f instanceof lk)return io("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new kv(c,a,l)}catch(f){return io(f instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&Z0(h.target)){const f=new Ce(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,vn.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ye();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new lm(e,n,this.Ze,this.je,i);return this.je=er(),this.He=Md(),this.Je=Md(),this.Ze=new bt(Ke),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new hE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xt(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xt(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Md(){return new bt(Ce.comparator)}function dE(){return new bt(Ce.comparator)}const ML={asc:"ASCENDING",desc:"DESCENDING"},VL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OL={and:"AND",or:"OR"};class PL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ty(t,e){return t.useProto3Json||tm(e)?e:{value:e}}function Df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LL(t,e){return Df(t,e.toTimestamp())}function gi(t){return tt(!!t,49232),Ve.fromTimestamp((function(n){const i=ea(n);return new mt(i.seconds,i.nanos)})(t))}function Cv(t,e){return ny(t,e).canonicalString()}function ny(t,e){const n=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Uk(t){const e=ut.fromString(t);return tt(qk(e),10190,{key:e.toString()}),e}function sy(t,e){return Cv(t.databaseId,e.path)}function e0(t,e){const n=Uk(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(Bk(n))}function zk(t,e){return Cv(t.databaseId,e)}function UL(t){const e=Uk(t);return e.length===4?ut.emptyPath():Bk(e)}function iy(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bk(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fE(t,e,n){return{name:sy(t,e),fields:n.value.mapValue.fields}}function zL(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(tt(v===void 0||typeof v=="string",58123),fn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),fn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const v=p.code===void 0?ie.UNKNOWN:Vk(p.code);return new fe(v,p.message||"")})(c);n=new Pk(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=e0(t,i.document.name),l=gi(i.document.updateTime),c=i.document.createTime?gi(i.document.createTime):Ve.min(),h=new Pn({mapValue:{fields:i.document.fields}}),f=vn.newFoundDocument(a,l,c,h),p=i.targetIds||[],v=i.removedTargetIds||[];n=new of(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=e0(t,i.document),l=i.readTime?gi(i.readTime):Ve.min(),c=vn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new of([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=e0(t,i.document),l=i.removedTargetIds||[];n=new of([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new NL(a,l),h=i.targetId;n=new Ok(h,c)}}return n}function BL(t,e){let n;if(e instanceof qu)n={update:fE(t,e.key,e.value)};else if(e instanceof Sv)n={delete:sy(t,e.key)};else if(e instanceof ca)n={update:fE(t,e.key,e.data),updateMask:XL(e.fieldMask)};else{if(!(e instanceof AL))return Ie(16599,{dt:e.type});n={verify:sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof ku)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Cu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Nu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof If)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ie(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:LL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(t,e.precondition)),n}function FL(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?gi(a.updateTime):gi(l);return c.isEqual(Ve.min())&&(c=gi(l)),new TL(c,a.transformResults||[])})(n,e)))):[]}function HL(t,e){return{documents:[zk(t,e.path)]}}function qL(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=zk(t,a);const l=(function(p){if(p.length!==0)return Hk(Ls.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:sl(w.field),direction:KL(w.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=ty(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function GL(t){let e=UL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){tt(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const w=Fk(b);return w instanceof Ls&&vk(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((w=>(function(D){return new Au(il(D.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let w;return w=typeof b=="object"?b.value:b,tm(w)?null:w})(n.limit));let f=null;n.startAt&&(f=(function(b){const w=!!b.before,S=b.values||[];return new Nf(S,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,S=b.values||[];return new Nf(S,w)})(n.endAt)),oL(e,a,c,l,h,"F",f,p)}function $L(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=il(n.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=il(n.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=il(n.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=il(n.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return qt.create(il(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ls.create(n.compositeFilter.filters.map((i=>Fk(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function KL(t){return ML[t]}function YL(t){return VL[t]}function QL(t){return OL[t]}function sl(t){return{fieldPath:t.canonicalString()}}function il(t){return dn.fromServerFormat(t.fieldPath)}function Hk(t){return t instanceof qt?(function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(ZT(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(ZT(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:YL(n.op),value:n.value}}})(t):t instanceof Ls?(function(n){const i=n.getFilters().map((a=>Hk(a)));return i.length===1?i[0]:{compositeFilter:{op:QL(n.op),filters:i}}})(t):Ie(54877,{filter:t})}function XL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function qk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Gk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Gr{constructor(e,n,i,a,l=Ve.min(),c=Ve.min(),h=fn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WL{constructor(e){this.yt=e}}function JL(t){const e=GL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rf(e,e.limit,"L"):e}class ZL{constructor(){this.Sn=new e9}addToCollectionParentIndex(e,n){return this.Sn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Zr.min())}updateCollectionGroup(e,n,i){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class e9{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Xt(ut.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Xt(ut.comparator)).toArray()}}const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$k=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On($k,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class Tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Tl(0)}static ar(){return new Tl(-1)}}const pE="LruGarbageCollector",t9=1048576;function gE([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class n9{constructor(e){this.Pr=e,this.buffer=new Xt(gE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();gE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class s9{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ye(pE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?ye(pE,"Ignoring IndexedDB error during garbage collection: ",n):await Ml(n)}await this.Ar(3e5)}))}}class i9{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(em.ce);const i=new n9(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(mE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,h=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),tl()<=$e.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function r9(t,e){return new i9(t,e)}class a9{constructor(){this.changes=new co((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?oe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class o9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class l9{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&hu(i.mutation,a,Qn.empty(),mt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=Ya();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Zc();return l.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Ya();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,a){let l=er();const c=uu(),h=(function(){return uu()})();return n.forEach(((f,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof ca)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),hu(v.mutation,p,v.mutation.getFieldMask(),mt.now())):c.set(p.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>h.set(p,new o9(v,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=uu();let a=new bt(((c,h)=>c-h)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let v=i.get(f)||Qn.empty();v=h.applyToLocalView(p,v),i.set(f,v);const b=(a.get(h.batchId)||Ye()).add(f);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,b=kk();v.forEach((w=>{if(!l.has(w)){const S=jk(n.get(w),i.get(w));S!==null&&b.set(w,S),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return oe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return lL(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):oe.resolve(Ya());let h=wu,f=l;return c.next((p=>oe.forEach(p,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{f=f.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Ye()))).next((v=>({batchId:h,changes:Ak(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((i=>{let a=Zc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Zc();return this.indexManager.getCollectionParents(e,l).next((h=>oe.forEach(h,(f=>{const p=(function(b,w){return new Ol(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((f,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,vn.newInvalidDocument(v)))}));let h=Zc();return c.forEach(((f,p)=>{const v=l.get(f);v!==void 0&&hu(v.mutation,p,Qn.empty(),mt.now()),rm(n,p)&&(h=h.insert(f,p))})),h}))}}class c9{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return oe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:gi(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:JL(a.bundledQuery),readTime:gi(a.readTime)}})(n)),oe.resolve()}}class u9{constructor(){this.overlays=new bt(Ce.comparator),this.Lr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ya();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),oe.resolve()}getOverlaysForCollection(e,n,i){const a=Ya(),l=n.length+1,c=new Ce(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new bt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=Ya(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=Ya(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=a)););return oe.resolve(h)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new CL(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ye(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class h9{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class Nv{constructor(){this.kr=new Xt(en.Kr),this.qr=new Xt(en.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new en(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new en(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ce(new ut([])),i=new en(n,e),a=new en(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ce(new ut([])),i=new en(n,e),a=new en(n,e+1);let l=Ye();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new en(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class en{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ce.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Ce.comparator(e.key,n.key)}}class d9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(en.Kr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new kL(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new en(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?bv:this.Yn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new en(n,0),a=new en(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xt(Ke);return n.forEach((a=>{const l=new en(a,0),c=new en(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{i=i.add(h.Hr)}))})),oe.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ce.isDocumentKey(l)||(l=l.child(""));const c=new en(new Ce(l),0);let h=new Xt(Ke);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Hr)),!0)}),c),oe.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return oe.forEach(n.mutations,(a=>{const l=new en(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new en(n,0),a=this.Jr.firstAfterOrEqual(i);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class f9{constructor(e){this.ti=e,this.docs=(function(){return new bt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return oe.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let i=er();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))})),oe.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=er();const c=n.path,h=new Ce(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||LP(PP(v),i)<=0||(a.has(v.key)||rm(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ie(9500)}ni(e,n){return oe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new m9(this)}getSize(e){return oe.resolve(this.size)}}class m9 extends a9{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),oe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class p9{constructor(e){this.persistence=e,this.ri=new co((n=>wv(n)),Tv),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new Nv,this.targetCount=0,this.oi=Tl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),oe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Tl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.lr(n),oe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return oe.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),oe.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return oe.resolve(i)}containsKey(e,n){return oe.resolve(this.si.containsKey(n))}}class Kk{constructor(e,n){this._i={},this.overlays={},this.ai=new em(0),this.ui=!1,this.ui=!0,this.ci=new h9,this.referenceDelegate=e(this),this.li=new p9(this),this.indexManager=new ZL,this.remoteDocumentCache=(function(a){return new f9(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new WL(n),this.Pi=new c9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new d9(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ye("MemoryPersistence","Starting transaction:",e);const a=new g9(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return oe.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class g9 extends zP{constructor(e){super(),this.currentSequenceNumber=e}}class Rv{constructor(e){this.persistence=e,this.Ri=new Nv,this.Ai=null}static Vi(e){return new Rv(e)}get di(){if(this.Ai)return this.Ai;throw Ie(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),oe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,(i=>{const a=Ce.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class jf{constructor(e,n){this.persistence=e,this.fi=new co((i=>HP(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=r9(this,n)}static Vi(e,n){return new jf(e,n)}Ti(){}Ii(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return oe.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(i++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sf(e.data.value)),n}wr(e,n,i){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return oe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Iv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Iv(e,n.fromCache,i,a)}}class y9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class v9{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return n6()?8:BP(xn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new y9;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(tl()<=$e.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(tl()<=$e.DEBUG&&ye("QueryEngine","Query:",nl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(tl()<=$e.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):oe.resolve())}gs(e,n){if(iE(n))return oe.resolve(null);let i=pi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Rf(n,null,"F"),i=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const p=this.bs(n,h);return this.Ss(n,p,c,f.readTime)?this.gs(e,Rf(n,null,"F")):this.Ds(e,p,n,f)}))))})))))}ps(e,n,i,a){return iE(n)||a.isEqual(Ve.min())?oe.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?oe.resolve(null):(tl()<=$e.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nl(n)),this.Ds(e,c,n,OP(a,wu)).next((h=>h)))}))}bs(e,n){let i=new Xt(Ek(e));return n.forEach(((a,l)=>{rm(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return tl()<=$e.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",nl(n)),this.fs.getDocumentsMatchingQuery(e,n,Zr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Dv="LocalStore",b9=3e8;class x9{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new bt(Ke),this.Fs=new co((l=>wv(l)),Tv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l9(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function _9(t,e,n,i){return new x9(t,e,n,i)}async function Yk(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let f=Ye();for(const p of a){c.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of l){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(i,f).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function w9(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,v){const b=p.batch,w=b.keys();let S=oe.resolve();return w.forEach((D=>{S=S.next((()=>v.getEntry(f,D))).next((O=>{const V=p.docVersions.get(D);tt(V!==null,48541),O.version.compareTo(V)<0&&(b.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),v.addEntry(O)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ye();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function Qk(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function T9(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((v,b)=>{const w=a.get(b);if(!w)return;h.push(n.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,b))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(fn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),(function(O,V,z){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=b9?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(w,S,v)&&h.push(n.li.updateTargetData(l,S))}));let f=er(),p=Ye();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push(E9(l,c,e.documentUpdates).next((v=>{f=v.Bs,p=v.Ls}))),!i.isEqual(Ve.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(v)}return oe.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.vs=a,l)))}function E9(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=er();return n.forEach(((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ye(Dv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function S9(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=bv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function A9(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,oe.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Gr(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function ry(t,e,n){const i=Pe(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Vl(c))throw c;ye(Dv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function yE(t,e,n){const i=Pe(t);let a=Ve.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,v){const b=Pe(f),w=b.Fs.get(v);return w!==void 0?oe.resolve(b.vs.get(w)):b.li.getTargetData(p,v)})(i,c,pi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((f=>{l=f}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:Ve.min(),n?l:Ye()))).next((h=>(k9(i,hL(e),h),{documents:h,ks:l})))))}function k9(t,e,n){let i=t.Ms.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class vE{constructor(){this.activeTargetIds=yL()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C9{constructor(){this.vo=new vE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new vE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class N9{Mo(e){}shutdown(){}}const bE="ConnectivityMonitor";class xE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ye(bE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ye(bE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vd=null;function ay(){return Vd===null?Vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vd++,"0x"+Vd.toString(16)}const t0="RestConnection",R9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class I9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===kf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=ay(),h=this.Qo(e,n.toUriEncodedString());ye(t0,`Sending RPC '${e}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,l);const{host:p}=new URL(h),v=oa(p);return this.zo(e,h,f,i,v).then((b=>(ye(t0,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw io(t0,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",i),b}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=R9[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class D9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const gn="WebChannelConnection",Yc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class pl extends I9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!pl.c_){const e=ek();Yc(e,Z2.STAT_EVENT,(n=>{n.stat===Y0.PROXY?ye(gn,"STAT_EVENT: detected buffering proxy"):n.stat===Y0.NOPROXY&&ye(gn,"STAT_EVENT: detected no buffering proxy")})),pl.c_=!0}}zo(e,n,i,a,l){const c=ay();return new Promise(((h,f)=>{const p=new W2;p.setWithCredentials(!0),p.listenOnce(J2.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case nf.NO_ERROR:const b=p.getResponseJson();ye(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case nf.TIMEOUT:ye(gn,`RPC '${e}' ${c} timed out`),f(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const w=p.getStatus();if(ye(gn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S?.error;if(D&&D.status&&D.message){const O=(function(z){const F=z.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(F)>=0?F:ie.UNKNOWN})(D.status);f(new fe(O,D.message))}else f(new fe(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(gn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ye(gn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=ay(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=l.join("");ye(gn,`Creating RPC '${e}' stream ${a}: ${p}`,h);const v=c.createWebChannel(p,h);this.I_(v);let b=!1,w=!1;const S=new D9({Ho:D=>{w?ye(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(b||(ye(gn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),ye(gn,`RPC '${e}' stream ${a} sending:`,D),v.send(D))},Jo:()=>v.close()});return Yc(v,Jc.EventType.OPEN,(()=>{w||(ye(gn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),Yc(v,Jc.EventType.CLOSE,(()=>{w||(w=!0,ye(gn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),Yc(v,Jc.EventType.ERROR,(D=>{w||(w=!0,io(gn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),S.o_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),Yc(v,Jc.EventType.MESSAGE,(D=>{if(!w){const O=D.data[0];tt(!!O,16349);const V=O,z=V?.error||V[0]?.error;if(z){ye(gn,`RPC '${e}' stream ${a} received error:`,z);const F=z.status;let G=(function(he){const j=Ft[he];if(j!==void 0)return Vk(j)})(F),te=z.message;F==="NOT_FOUND"&&te.includes("database")&&te.includes("does not exist")&&te.includes(this.databaseId.database)&&io(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),G===void 0&&(G=ie.INTERNAL,te="Unknown error status: "+F+" with message "+z.message),w=!0,S.o_(new fe(G,te)),v.close()}else ye(gn,`RPC '${e}' stream ${a} received:`,O),S.__(O)}})),pl.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return tk()}}function j9(t){return new pl(t)}function n0(){return typeof document<"u"?document:null}function cm(t){return new PL(t,!0)}pl.c_=!1;class Xk{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const _E="PersistentStream";class Wk{constructor(e,n,i,a,l,c,h,f){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new fe(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(_E,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ye(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class M9 extends Wk{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zL(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?gi(c.readTime):Ve.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=iy(this.serializer),n.addTarget=(function(l,c){let h;const f=c.target;if(h=Z0(f)?{documents:HL(l,f)}:{query:qL(l,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Lk(l,c.resumeToken);const p=ty(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ve.min())>0){h.readTime=Df(l,c.snapshotVersion.toTimestamp());const p=ty(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=$L(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=iy(this.serializer),n.removeTarget=e,this.K_(n)}}class V9 extends Wk{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=FL(e.writeResults,e.commitTime),i=gi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=iy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>BL(this.serializer,i)))};this.K_(n)}}class O9{}class P9 extends O9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,ny(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ie.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,ny(n,i),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function L9(t,e,n,i){return new P9(t,e,n,i)}class U9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ro="RemoteStore";class z9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{uo(this)&&(ye(ro,"Restarting streams for network reachability change."),await(async function(f){const p=Pe(f);p.Ea.add(4),await $u(p),p.Va.set("Unknown"),p.Ea.delete(4),await um(p)})(this))}))})),this.Va=new U9(i,a)}}async function um(t){if(uo(t))for(const e of t.Ra)await e(!0)}async function $u(t){for(const e of t.Ra)await e(!1)}function Jk(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ov(n)?Vv(n):Pl(n).O_()&&Mv(n,e))}function jv(t,e){const n=Pe(t),i=Pl(n);n.Ia.delete(e),i.O_()&&Zk(n,e),n.Ia.size===0&&(i.O_()?i.L_():uo(n)&&n.Va.set("Unknown"))}function Mv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pl(t).Z_(e)}function Zk(t,e){t.da.$e(e),Pl(t).X_(e)}function Vv(t){t.da=new jL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pl(t).start(),t.Va.ua()}function Ov(t){return uo(t)&&!Pl(t).x_()&&t.Ia.size>0}function uo(t){return Pe(t).Ea.size===0}function eC(t){t.da=void 0}async function B9(t){t.Va.set("Online")}async function F9(t){t.Ia.forEach(((e,n)=>{Mv(t,e)}))}async function H9(t,e){eC(t),Ov(t)?(t.Va.ha(e),Vv(t)):t.Va.set("Unknown")}async function q9(t,e,n){if(t.Va.set("Online"),e instanceof Pk&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(i){ye(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Mf(t,i)}else if(e instanceof of?t.da.Xe(e):e instanceof Ok?t.da.st(e):t.da.tt(e),!n.isEqual(Ve.min()))try{const i=await Qk(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,p)=>{const v=l.Ia.get(f);if(!v)return;l.Ia.set(f,v.withResumeToken(fn.EMPTY_BYTE_STRING,v.snapshotVersion)),Zk(l,f);const b=new Gr(v.target,f,p,v.sequenceNumber);Mv(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){ye(ro,"Failed to raise snapshot:",i),await Mf(t,i)}}async function Mf(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await $u(t),t.Va.set("Offline"),n||(n=()=>Qk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(ro,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await um(t)}))}function tC(t,e){return e().catch((n=>Mf(t,n,e)))}async function hm(t){const e=Pe(t),n=sa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bv;for(;G9(e);)try{const a=await S9(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,$9(e,a)}catch(a){await Mf(e,a)}nC(e)&&sC(e)}function G9(t){return uo(t)&&t.Ta.length<10}function $9(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function nC(t){return uo(t)&&!sa(t).x_()&&t.Ta.length>0}function sC(t){sa(t).start()}async function K9(t){sa(t).ra()}async function Y9(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function Q9(t,e,n){const i=t.Ta.shift(),a=Av.from(i,e,n);await tC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await hm(t)}async function X9(t,e){e&&sa(t).Y_&&await(async function(i,a){if((function(c){return RL(c)&&c!==ie.ABORTED})(a.code)){const l=i.Ta.shift();sa(i).B_(),await tC(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await hm(i)}})(t,e),nC(t)&&sC(t)}async function wE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ye(ro,"RemoteStore received new credentials");const i=uo(n);n.Ea.add(3),await $u(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await um(n)}async function W9(t,e){const n=Pe(t);e?(n.Ea.delete(2),await um(n)):e||(n.Ea.add(2),await $u(n),n.Va.set("Unknown"))}function Pl(t){return t.ma||(t.ma=(function(n,i,a){const l=Pe(n);return l.sa(),new M9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:B9.bind(null,t),Yo:F9.bind(null,t),t_:H9.bind(null,t),J_:q9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Ov(t)?Vv(t):t.Va.set("Unknown")):(await t.ma.stop(),eC(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,i,a){const l=Pe(n);return l.sa(),new V9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:K9.bind(null,t),t_:X9.bind(null,t),ta:Y9.bind(null,t),na:Q9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await hm(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(ro,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Pv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,h=new Pv(e,n,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lv(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),Vl(t))return new fe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ce.comparator(n.key,i.key):(n,i)=>Ce.comparator(n.key,i.key),this.keyedMap=Zc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new gl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class TE{constructor(){this.ga=new bt(Ce.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class El{constructor(e,n,i,a,l,c,h,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new El(e,n,gl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class J9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Z9{constructor(){this.queries=EE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),l=a.queries;a.queries=EE(),l.forEach(((c,h)=>{for(const f of h.ba)f.onError(i)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function EE(){return new co((t=>Tk(t)),im)}async function Uv(t,e){const n=Pe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new J9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=Lv(c,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Bv(n)}async function zv(t,e){const n=Pe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function eU(t,e){const n=Pe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&Bv(n)}function tU(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Bv(t){t.Ca.forEach((e=>{e.next()}))}var oy,SE;(SE=oy||(oy={})).Ma="default",SE.Cache="cache";class Fv{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new El(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==oy.Cache}}class iC{constructor(e){this.key=e}}class rC{constructor(e){this.key=e}}class nU{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=Ek(e),this.tu=new gl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new TE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const w=a.get(v),S=rm(this.query,b)?b:null,D=!!w&&this.mutatedKeys.has(w.key),O=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let V=!1;w&&S?w.data.isEqual(S.data)?D!==O&&(i.track({type:3,doc:S}),V=!0):this.su(w,S)||(i.track({type:2,doc:S}),V=!0,(f&&this.eu(S,f)>0||p&&this.eu(S,p)<0)&&(h=!0)):!w&&S?(i.track({type:0,doc:S}),V=!0):w&&!S&&(i.track({type:1,doc:w}),V=!0,(f||p)&&(h=!0)),V&&(S?(c=c.add(S),l=O?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(S,D){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:V})}};return O(S)-O(D)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,p=f!==this.Xa;return this.Xa=f,c.length!==0||p?{snapshot:new El(this.query,e.tu,l,c,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new rC(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new iC(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hv="SyncEngine";class sU{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class iU{constructor(e){this.key=e,this.hu=!1}}class rU{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new co((h=>Tk(h)),im),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(Ce.comparator),this.Au=new Map,this.Vu=new Nv,this.du={},this.mu=new Map,this.fu=Tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aU(t,e,n=!0){const i=hC(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await aC(i,e,n,!0),a}async function oU(t,e){const n=hC(t);await aC(n,e,!0,!1)}async function aC(t,e,n,i){const a=await A9(t.localStore,pi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await lU(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Jk(t.remoteStore,a),h}async function lU(t,e,n,i,a){t.pu=(b,w,S)=>(async function(O,V,z,F){let G=V.view.ru(z);G.Ss&&(G=await yE(O.localStore,V.query,!1).then((({documents:j})=>V.view.ru(j,G))));const te=F&&F.targetChanges.get(V.targetId),re=F&&F.targetMismatches.get(V.targetId)!=null,he=V.view.applyChanges(G,O.isPrimaryClient,te,re);return kE(O,V.targetId,he.au),he.snapshot})(t,b,w,S);const l=await yE(t.localStore,e,!0),c=new nU(e,l.ks),h=c.ru(l.documents),f=Gu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(h,t.isPrimaryClient,f);kE(t,n,p.au);const v=new sU(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function cU(t,e,n){const i=Pe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!im(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ry(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&jv(i.remoteStore,a.targetId),ly(i,a.targetId)})).catch(Ml)):(ly(i,a.targetId),await ry(i.localStore,a.targetId,!0))}async function uU(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),jv(n.remoteStore,i.targetId))}async function hU(t,e,n){const i=vU(t);try{const a=await(function(c,h){const f=Pe(c),p=mt.now(),v=h.reduce(((S,D)=>S.add(D.key)),Ye());let b,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let D=er(),O=Ye();return f.xs.getEntries(S,v).next((V=>{D=V,D.forEach(((z,F)=>{F.isValidDocument()||(O=O.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,D))).next((V=>{b=V;const z=[];for(const F of h){const G=SL(F,b.get(F.key).overlayedDocument);G!=null&&z.push(new ca(F.key,G,pk(G.value.mapValue),ps.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,z,h)})).next((V=>{w=V;const z=V.applyToLocalDocumentSet(b,O);return f.documentOverlayCache.saveOverlays(S,V.batchId,z)}))})).then((()=>({batchId:w.batchId,changes:Ak(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let p=c.du[c.currentUser.toKey()];p||(p=new bt(Ke)),p=p.insert(h,f),c.du[c.currentUser.toKey()]=p})(i,a.batchId,n),await Ku(i,a.changes),await hm(i.remoteStore)}catch(a){const l=Lv(a,"Failed to persist write");n.reject(l)}}async function oC(t,e){const n=Pe(t);try{const i=await T9(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Ku(n,i,e)}catch(i){await Ml(i)}}function AE(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=Pe(c);f.onlineState=h;let p=!1;f.queries.forEach(((v,b)=>{for(const w of b.ba)w.va(h)&&(p=!0)})),p&&Bv(f)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dU(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new bt(Ce.comparator);c=c.insert(l,vn.newNoDocument(l,Ve.min()));const h=Ye().add(l),f=new lm(Ve.min(),new Map,new bt(Ke),c,h);await oC(i,f),i.Ru=i.Ru.remove(l),i.Au.delete(e),qv(i)}else await ry(i.localStore,e,!1).then((()=>ly(i,e,n))).catch(Ml)}async function fU(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await w9(n.localStore,e);cC(n,i,null),lC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ku(n,a)}catch(a){await Ml(a)}}async function mU(t,e,n){const i=Pe(t);try{const a=await(function(c,h){const f=Pe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next((b=>(tt(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(p,b)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);cC(i,e,n),lC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ku(i,a)}catch(a){await Ml(a)}}function lC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function cC(t,e,n){const i=Pe(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||uC(t,i)}))}function uC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(jv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),qv(t))}function kE(t,e,n){for(const i of n)i instanceof iC?(t.Vu.addReference(i.key,e),pU(t,i)):i instanceof rC?(ye(Hv,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||uC(t,i.key)):Ie(19791,{wu:i})}function pU(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ye(Hv,"New document in limbo: "+n),t.Eu.add(i),qv(t))}function qv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(ut.fromString(e)),i=t.fu.next();t.Au.set(i,new iU(n)),t.Ru=t.Ru.insert(n,i),Jk(t.remoteStore,new Gr(pi(sm(n.path)),i,"TargetPurposeLimboResolution",em.ce))}}async function Ku(t,e,n){const i=Pe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Iv.Es(f.targetId,p);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(f,p){const v=Pe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>oe.forEach(p,(w=>oe.forEach(w.Ts,(S=>v.persistence.referenceDelegate.addReference(b,w.targetId,S))).next((()=>oe.forEach(w.Is,(S=>v.persistence.referenceDelegate.removeReference(b,w.targetId,S)))))))))}catch(b){if(!Vl(b))throw b;ye(Dv,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const S=v.vs.get(w),D=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(D);v.vs=v.vs.insert(w,O)}}})(i.localStore,l))}async function gU(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ye(Hv,"User change. New user:",e.toKey());const i=await Yk(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new fe(ie.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ku(n,i.Ns)}}function yU(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function hC(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dU.bind(null,e),e.Pu.J_=eU.bind(null,e.eventManager),e.Pu.yu=tU.bind(null,e.eventManager),e}function vU(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mU.bind(null,e),e}class Vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _9(this.persistence,new v9,e.initialUser,this.serializer)}Cu(e){return new Kk(Rv.Vi,this.serializer)}Du(e){return new C9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vf.provider={build:()=>new Vf};class bU extends Vf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof jf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new s9(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Kk((i=>jf.Vi(i,n)),this.serializer)}}class cy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>AE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gU.bind(null,this.syncEngine),await W9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Z9})()}createDatastore(e){const n=cm(e.databaseInfo.databaseId),i=j9(e.databaseInfo);return L9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,h){return new z9(i,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>AE(this.syncEngine,n,0)),(function(){return xE.v()?new xE:new N9})())}createSyncEngine(e,n){return(function(a,l,c,h,f,p,v){const b=new rU(a,l,c,h,f,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);ye(ro,"RemoteStore shutting down."),i.Ea.add(5),await $u(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cy.provider={build:()=>new cy};class Gv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ia="FirestoreClient";class xU{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=yn.UNAUTHENTICATED,this.clientId=vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ye(ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ye(ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Lv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function s0(t,e){t.asyncQueue.verifyOperationInProgress(),ye(ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Yk(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function CE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _U(t);ye(ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>wE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>wE(e.remoteStore,a))),t._onlineComponents=e}async function _U(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(ia,"Using user provided OfflineComponentProvider");try{await s0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await s0(t,new Vf)}}else ye(ia,"Using default OfflineComponentProvider"),await s0(t,new bU(void 0));return t._offlineComponents}async function dC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(ia,"Using user provided OnlineComponentProvider"),await CE(t,t._uninitializedComponentsProvider._online)):(ye(ia,"Using default OnlineComponentProvider"),await CE(t,new cy))),t._onlineComponents}function wU(t){return dC(t).then((e=>e.syncEngine))}async function Of(t){const e=await dC(t),n=e.eventManager;return n.onListen=aU.bind(null,e.syncEngine),n.onUnlisten=cU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uU.bind(null,e.syncEngine),n}function TU(t,e,n,i){const a=new Gv(i),l=new Fv(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Uv(await Of(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>zv(await Of(t),l)))}}function EU(t,e,n={}){const i=new Yi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,p){const v=new Gv({next:w=>{v.Nu(),c.enqueueAndForget((()=>zv(l,b)));const S=w.docs.has(h);!S&&w.fromCache?p.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&f&&f.source==="server"?p.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new Fv(sm(h.path),v,{includeMetadataChanges:!0,Ka:!0});return Uv(l,b)})(await Of(t),t.asyncQueue,e,n,i))),i.promise}function SU(t,e,n={}){const i=new Yi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,p){const v=new Gv({next:w=>{v.Nu(),c.enqueueAndForget((()=>zv(l,b))),w.fromCache&&f.source==="server"?p.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new Fv(h,v,{includeMetadataChanges:!0,Ka:!0});return Uv(l,b)})(await Of(t),t.asyncQueue,e,n,i))),i.promise}function AU(t,e){const n=new Yi;return t.asyncQueue.enqueueAndForget((async()=>hU(await wU(t),e,n))),n.promise}function fC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const kU="ComponentProvider",NE=new Map;function CU(t,e,n,i,a){return new $P(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,fC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const mC="firestore.googleapis.com",RE=!0;class IE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mC,this.ssl=RE}else this.host=e.host,this.ssl=e.ssl??RE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$k;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<t9)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new EP;switch(i.type){case"firstParty":return new CP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=NE.get(n);i&&(ye(kU,"Removing Datastore"),NE.delete(n),i.terminate())})(this),Promise.resolve()}}function NU(t,e,n,i={}){t=Un(t,dm);const a=oa(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(nv(`https://${h}`),sv("Firestore",!0)),l.host!==mC&&l.host!==h&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:i};if(!eo(f,c)&&(t._setSettings(f),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=yn.MOCK_USER;else{p=m2(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new yn(b)}t._authCredentials=new SP(new sk(p,v))}}class sr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new sr(this.firestore,e,this._query)}}class Et{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Hu(n,Et._jsonSchema))return new Et(e,i||null,new Ce(ut.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Gt("string",Et._jsonSchemaVersion),referencePath:Gt("string")};class Qr extends sr{constructor(e,n,i){super(e,n,sm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new Ce(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function Ru(t,e,...n){if(t=St(t),ik("collection","path",e),t instanceof dm){const i=ut.fromString(e,...n);return qT(i),new Qr(t,null,i)}{if(!(t instanceof Et||t instanceof Qr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return qT(i),new Qr(t.firestore,null,i)}}function Sl(t,e,...n){if(t=St(t),arguments.length===1&&(e=vv.newId()),ik("doc","path",e),t instanceof dm){const i=ut.fromString(e,...n);return HT(i),new Et(t,null,new Ce(i))}{if(!(t instanceof Et||t instanceof Qr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return HT(i),new Et(t.firestore,t instanceof Qr?t.converter:null,new Ce(i))}}const DE="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xk(this,"async_queue_retry"),this._c=()=>{const i=n0();i&&ye(DE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=n0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=n0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;ye(DE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",ME(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Pv.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:ME(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ME(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class tr extends dm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new jE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function RU(t,e){const n=typeof t=="object"?t:av(),i=typeof t=="string"?t:kf,a=Qf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=h2("firestore");l&&NU(a,...l)}return a}function fm(t){if(t._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IU(t),t._firestoreClient}function IU(t){const e=t._freezeSettings(),n=CU(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ds(fn.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ds(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ds._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,ds._jsonSchema))return ds.fromBase64String(e.bytes)}}ds._jsonSchemaVersion="firestore/bytes/1.0",ds._jsonSchema={type:Gt("string",ds._jsonSchemaVersion),bytes:Gt("string")};class $v{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mm{constructor(e){this._methodName=e}}class yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,yi._jsonSchema))return new yi(e.latitude,e.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:Gt("string",yi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Os{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,Os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Os(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Os._jsonSchemaVersion="firestore/vectorValue/1.0",Os._jsonSchema={type:Gt("string",Os._jsonSchemaVersion),vectorValues:Gt("object")};const DU=/^__.*__$/;class jU{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new qu(e,this.data,n,this.fieldTransforms)}}class pC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{dataSource:t})}}class Kv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Kv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Pf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(gC(this.dataSource)&&DU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class MU{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||cm(e)}createContext(e,n,i,a=!1){return new Kv({dataSource:e,methodName:n,targetDoc:i,path:dn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),n=cm(t._databaseId);return new MU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yC(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Qv("Data must be an object, but it was:",c,i);const h=vC(i,c);let f,p;if(l.merge)f=new Qn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const w=ao(e,b,n);if(!c.contains(w))throw new fe(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);_C(v,w)||v.push(w)}f=new Qn(v),p=c.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,p=c.fieldTransforms;return new jU(new Pn(h),f,p)}class gm extends mm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}class Yv extends mm{_toFieldTransform(e){return new _L(e.path,new ku)}isEqual(e){return e instanceof Yv}}function VU(t,e,n,i){const a=t.createContext(1,e,n);Qv("Data must be an object, but it was:",a,i);const l=[],c=Pn.empty();la(i,((f,p)=>{const v=xC(e,f,n);p=St(p);const b=a.childContextForFieldPath(v);if(p instanceof gm)l.push(v);else{const w=Yu(p,b);w!=null&&(l.push(v),c.set(v,w))}}));const h=new Qn(l);return new pC(c,h,a.fieldTransforms)}function OU(t,e,n,i,a,l){const c=t.createContext(1,e,n),h=[ao(e,i,n)],f=[a];if(l.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(ao(e,l[w])),f.push(l[w+1]);const p=[],v=Pn.empty();for(let w=h.length-1;w>=0;--w)if(!_C(p,h[w])){const S=h[w];let D=f[w];D=St(D);const O=c.childContextForFieldPath(S);if(D instanceof gm)p.push(S);else{const V=Yu(D,O);V!=null&&(p.push(S),v.set(S,V))}}const b=new Qn(p);return new pC(v,b,c.fieldTransforms)}function PU(t,e,n,i=!1){return Yu(n,t.createContext(i?4:3,e))}function Yu(t,e){if(bC(t=St(t)))return Qv("Unsupported field value:",e,t),vC(t,e);if(t instanceof mm)return(function(i,a){if(!gC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const h of i){let f=Yu(h,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=St(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return vL(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=mt.fromDate(i);return{timestampValue:Df(a.serializer,l)}}if(i instanceof mt){const l=new mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Df(a.serializer,l)}}if(i instanceof yi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ds)return{bytesValue:Lk(a.serializer,i._byteString)};if(i instanceof Et){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Os)return(function(c,h){const f=c instanceof Os?c.toArray():c;return{mapValue:{fields:{[fk]:{stringValue:mk},[Cf]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw h.createError("VectorValues must only contain numeric values.");return Ev(h.serializer,v)}))}}}}}})(i,a);if(Gk(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Zf(i)}`)})(t,e)}function vC(t,e){const n={};return ok(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,((i,a)=>{const l=Yu(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function bC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof yi||t instanceof ds||t instanceof Et||t instanceof mm||t instanceof Os||Gk(t))}function Qv(t,e,n){if(!bC(n)||!rk(n)){const i=Zf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function ao(t,e,n){if((e=St(e))instanceof $v)return e._internalPath;if(typeof e=="string")return xC(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const LU=new RegExp("[~\\*/\\[\\]]");function xC(t,e,n){if(e.search(LU)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $v(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new fe(ie.INVALID_ARGUMENT,h+t+f)}function _C(t,e){return t.some((n=>n.isEqual(e)))}class UU{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return la(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Cf].arrayValue?.values?.map((i=>Dt(i.doubleValue)));return new Os(n)}convertGeoPoint(e){return new yi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=nm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=ea(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);tt(qk(i),9688,{name:e});const a=new Eu(i.get(1),i.get(3)),l=new Ce(i.popFirst(5));return a.isEqual(n)||Zi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Xv extends UU{constructor(e){super(),this.firestore=e}convertBytes(e){return new ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function zU(){return new Yv("serverTimestamp")}const VE="@firebase/firestore",OE="4.11.0";function PE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class wC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ao("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BU extends wC{data(){return super.data()}}function TC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wv{}class Jv extends Wv{}function Zv(t,e,...n){let i=[];e instanceof Wv&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((f=>f instanceof eb)).length,h=l.filter((f=>f instanceof ym)).length;if(c>1||c>0&&h>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class ym extends Jv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ym(e,n,i)}_apply(e){const n=this._parse(e);return EC(e._query,n),new sr(e.firestore,e.converter,ey(e._query,n))}_parse(e){const n=pm(e.firestore);return(function(l,c,h,f,p,v,b){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){UE(b,v);const D=[];for(const O of b)D.push(LE(f,l,O));w={arrayValue:{values:D}}}else w=LE(f,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||UE(b,v),w=PU(h,c,b,v==="in"||v==="not-in");return qt.create(p,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function FU(t,e,n){const i=e,a=ao("where",t);return ym._create(a,i,n)}class eb extends Wv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eb(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ls.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)EC(c,f),c=ey(c,f)})(e._query,n),new sr(e.firestore,e.converter,ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tb extends Jv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tb(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Au(l,c)})(e._query,this._field,this._direction);return new sr(e.firestore,e.converter,uL(e._query,n))}}function nb(t,e="asc"){const n=e,i=ao("orderBy",t);return tb._create(i,n)}class sb extends Jv{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new sb(e,n,i)}_apply(e){return new sr(e.firestore,e.converter,Rf(e._query,this._limit,this._limitType))}}function ib(t){return VP("limit",t),sb._create("limit",t,"F")}function LE(t,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wk(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!Ce.isDocumentKey(i))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return JT(t,new Ce(i))}if(n instanceof Et)return JT(t,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(n)}.`)}function UE(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EC(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function SC(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends wC{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ao("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Gt("string",Wa._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class lf extends Wa{data(e={}){return super.data(e)}}class Ja{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new tu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new lf(this._firestore,this._userDataWriter,i.key,i,new tu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new lf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new tu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new lf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new tu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:HU(h.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Gt("string",Ja._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};function qU(t){t=Un(t,Et);const e=Un(t.firestore,tr),n=fm(e);return EU(n,t._key).then((i=>NC(e,t,i)))}function AC(t){t=Un(t,sr);const e=Un(t.firestore,tr),n=fm(e),i=new Xv(e);return TC(t._query),SU(n,t._query).then((a=>new Ja(e,i,t,a)))}function zE(t,e,n){t=Un(t,Et);const i=Un(t.firestore,tr),a=SC(t.converter,e),l=pm(i);return vm(i,[yC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ps.none())])}function GU(t,e,n,...i){t=Un(t,Et);const a=Un(t.firestore,tr),l=pm(a);let c;return c=typeof(e=St(e))=="string"||e instanceof $v?OU(l,"updateDoc",t._key,e,n,i):VU(l,"updateDoc",t._key,e),vm(a,[c.toMutation(t._key,ps.exists(!0))])}function $U(t){return vm(Un(t.firestore,tr),[new Sv(t._key,ps.none())])}function kC(t,e){const n=Un(t.firestore,tr),i=Sl(t),a=SC(t.converter,e),l=pm(t.firestore);return vm(n,[yC(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,ps.exists(!1))]).then((()=>i))}function CC(t,...e){t=St(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||PE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PE(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,c,h;if(t instanceof Et)c=Un(t.firestore,tr),h=sm(t._key.path),l={next:p=>{e[i]&&e[i](NC(c,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Un(t,sr);c=Un(p.firestore,tr),h=p._query;const v=new Xv(c);l={next:b=>{e[i]&&e[i](new Ja(c,v,p,b))},error:e[i+1],complete:e[i+2]},TC(t._query)}const f=fm(c);return TU(f,h,a,l)}function vm(t,e){const n=fm(t);return AU(n,e)}function NC(t,e,n){const i=n.docs.get(e._key),a=new Xv(t);return new Wa(t,a,e._key,i,new tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){TP(lo),to(new Jr("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new tr(new AP(i.getProvider("auth-internal")),new NP(c,i.getProvider("app-check-internal")),KP(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),fi(VE,OE,e),fi(VE,OE,"esm2020")})();const RC="firebasestorage.googleapis.com",IC="storageBucket",KU=120*1e3,YU=600*1e3;class kt extends _i{constructor(e,n,i=0){super(i0(e),`Firebase Storage: ${n} (${i0(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return i0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function i0(t){return"storage/"+t}function rb(){const t="An unknown error occurred, please check the error payload for server response.";return new kt(At.UNKNOWN,t)}function QU(t){return new kt(At.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function XU(t){return new kt(At.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function WU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kt(At.UNAUTHENTICATED,t)}function JU(){return new kt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZU(t){return new kt(At.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function e8(){return new kt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t8(){return new kt(At.CANCELED,"User canceled the upload/download.")}function n8(t){return new kt(At.INVALID_URL,"Invalid URL '"+t+"'.")}function s8(t){return new kt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function i8(){return new kt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+IC+"' property when initializing the app?")}function r8(){return new kt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function a8(){return new kt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function o8(t){return new kt(At.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function uy(t){return new kt(At.INVALID_ARGUMENT,t)}function DC(){return new kt(At.APP_DELETED,"The Firebase app was deleted.")}function l8(t){return new kt(At.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function du(t,e){return new kt(At.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qc(t){throw new kt(At.INTERNAL_ERROR,"Internal error: "+t)}class Xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Xn.makeFromUrl(e,n)}catch{return new Xn(e,"")}if(i.path==="")return i;throw s8(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function p(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${b}/${v}/b/${a}/o${w}`,"i"),D={bucket:1,path:3},O=n===RC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",z=new RegExp(`^https?://${O}/${a}/${V}`,"i"),G=[{regex:h,indices:f,postModify:l},{regex:S,indices:D,postModify:p},{regex:z,indices:{bucket:1,path:2},postModify:p}];for(let te=0;te<G.length;te++){const re=G[te],he=re.regex.exec(e);if(he){const j=he[re.indices.bucket];let E=he[re.indices.path];E||(E=""),i=new Xn(j,E),re.postModify(i);break}}if(i==null)throw n8(e);return i}}class c8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function u8(t,e,n){let i=1,a=null,l=null,c=!1,h=0;function f(){return h===2}let p=!1;function v(...V){p||(p=!0,e.apply(null,V))}function b(V){a=setTimeout(()=>{a=null,t(S,f())},V)}function w(){l&&clearTimeout(l)}function S(V,...z){if(p){w();return}if(V){w(),v.call(null,V,...z);return}if(f()||c){w(),v.call(null,V,...z);return}i<64&&(i*=2);let G;h===1?(h=2,G=0):G=(i+Math.random())*1e3,b(G)}let D=!1;function O(V){D||(D=!0,w(),!p&&(a!==null?(V||(h=2),clearTimeout(a),b(0)):V||(h=1)))}return b(0),l=setTimeout(()=>{c=!0,O(!0)},n),O}function h8(t){t(!1)}function d8(t){return t!==void 0}function f8(t){return typeof t=="object"&&!Array.isArray(t)}function ab(t){return typeof t=="string"||t instanceof String}function BE(t){return ob()&&t instanceof Blob}function ob(){return typeof Blob<"u"}function FE(t,e,n,i){if(i<e)throw uy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw uy(`Invalid value for '${t}'. Expected ${n} or less.`)}function lb(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function jC(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Za;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Za||(Za={}));function m8(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class p8{constructor(e,n,i,a,l,c,h,f,p,v,b,w=!0,S=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,O)=>{this.resolve_=D,this.reject_=O,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Od(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Za.NO_ERROR,f=l.getStatus();if(!h||m8(f,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Za.ABORT;i(!1,new Od(!1,null,v));return}const p=this.successCodes_.indexOf(f)!==-1;i(!0,new Od(p,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());d8(f)?l(f):l()}catch(f){c(f)}else if(h!==null){const f=rb();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(a.canceled){const f=this.appDelete_?DC():t8();c(f)}else{const f=e8();c(f)}};this.canceled_?n(!1,new Od(!1,null,!0)):this.backoffId_=u8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&h8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Od{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function g8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function v8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function b8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function x8(t,e,n,i,a,l,c=!0,h=!1){const f=jC(t.urlParams),p=t.url+f,v=Object.assign({},t.headers);return v8(v,e),g8(v,n),y8(v,l),b8(v,i),new p8(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function _8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function w8(...t){const e=_8();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(ob())return new Blob(t);throw new kt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function T8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function E8(t){if(typeof atob>"u")throw o8("base-64");return atob(t)}const ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class r0{constructor(e,n){this.data=e,this.contentType=n||null}}function S8(t,e){switch(t){case ui.RAW:return new r0(MC(e));case ui.BASE64:case ui.BASE64URL:return new r0(VC(t,e));case ui.DATA_URL:return new r0(k8(e),C8(e))}throw rb()}function MC(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=t.charCodeAt(++n);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function A8(t){let e;try{e=decodeURIComponent(t)}catch{throw du(ui.DATA_URL,"Malformed data URL.")}return MC(e)}function VC(t,e){switch(t){case ui.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw du(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ui.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw du(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=E8(e)}catch(a){throw a.message.includes("polyfill")?a:du(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class OC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw du(ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=N8(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function k8(t){const e=new OC(t);return e.base64?VC(ui.BASE64,e.rest):A8(e.rest)}function C8(t){return new OC(t).contentType}function N8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Hr{constructor(e,n){let i=0,a="";BE(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(BE(this.data_)){const i=this.data_,a=T8(i,e,n);return a===null?null:new Hr(a)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Hr(i,!0)}}static getBlob(...e){if(ob()){const n=e.map(i=>i instanceof Hr?i.data_:i);return new Hr(w8.apply(null,n))}else{const n=e.map(c=>ab(c)?S8(ui.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return n.forEach(c=>{for(let h=0;h<c.length;h++)a[l++]=c[h]}),new Hr(a,!0)}}uploadData(){return this.data_}}function PC(t){let e;try{e=JSON.parse(t)}catch{return null}return f8(e)?e:null}function R8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function I8(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function LC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function D8(t,e){return e}class En{constructor(e,n,i,a){this.server=e,this.local=n||e,this.writable=!!i,this.xform=a||D8}}let Pd=null;function j8(t){return!ab(t)||t.length<2?t:LC(t)}function UC(){if(Pd)return Pd;const t=[];t.push(new En("bucket")),t.push(new En("generation")),t.push(new En("metageneration")),t.push(new En("name","fullPath",!0));function e(l,c){return j8(c)}const n=new En("name");n.xform=e,t.push(n);function i(l,c){return c!==void 0?Number(c):c}const a=new En("size");return a.xform=i,t.push(a),t.push(new En("timeCreated")),t.push(new En("updated")),t.push(new En("md5Hash",null,!0)),t.push(new En("cacheControl",null,!0)),t.push(new En("contentDisposition",null,!0)),t.push(new En("contentEncoding",null,!0)),t.push(new En("contentLanguage",null,!0)),t.push(new En("contentType",null,!0)),t.push(new En("metadata","customMetadata",!0)),Pd=t,Pd}function M8(t,e){function n(){const i=t.bucket,a=t.fullPath,l=new Xn(i,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function V8(t,e,n){const i={};i.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];i[c.local]=c.xform(i,e[c.server])}return M8(i,t),i}function zC(t,e,n){const i=PC(e);return i===null?null:V8(t,i,n)}function O8(t,e,n,i){const a=PC(e);if(a===null||!ab(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=t.bucket,b=t.fullPath,w="/b/"+c(v)+"/o/"+c(b),S=lb(w,n,i),D=jC({alt:"media",token:p});return S+D})[0]}function P8(t,e){const n={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class BC{constructor(e,n,i,a){this.url=e,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function FC(t){if(!t)throw rb()}function L8(t,e){function n(i,a){const l=zC(t,a,e);return FC(l!==null),l}return n}function U8(t,e){function n(i,a){const l=zC(t,a,e);return FC(l!==null),O8(l,a,t.host,t._protocol)}return n}function HC(t){function e(n,i){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=JU():a=WU():n.getStatus()===402?a=XU(t.bucket):n.getStatus()===403?a=ZU(t.path):a=i,a.status=n.getStatus(),a.serverResponse=i.serverResponse,a}return e}function z8(t){const e=HC(t);function n(i,a){let l=e(i,a);return i.getStatus()===404&&(l=QU(t.path)),l.serverResponse=a.serverResponse,l}return n}function B8(t,e,n){const i=e.fullServerUrl(),a=lb(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,h=new BC(a,l,U8(t,n),c);return h.errorHandler=z8(e),h}function F8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function H8(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=F8(null,e)),i}function q8(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let G="";for(let te=0;te<2;te++)G=G+Math.random().toString().slice(2);return G}const f=h();c["Content-Type"]="multipart/related; boundary="+f;const p=H8(e,i,a),v=P8(p,n),b="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+f+"--",S=Hr.getBlob(b,i,w);if(S===null)throw r8();const D={name:p.fullPath},O=lb(l,t.host,t._protocol),V="POST",z=t.maxUploadRetryTime,F=new BC(O,V,L8(t,n),z);return F.urlParams=D,F.headers=c,F.body=S.uploadData(),F.errorHandler=HC(e),F}class G8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,a,l){if(this.sent_)throw Qc("cannot .send() more than once");if(oa(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $8 extends G8{initXhr(){this.xhr_.responseType="text"}}function qC(){return new $8}class oo{constructor(e,n){this._service=e,n instanceof Xn?this._location=n:this._location=Xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oo(e,n)}get root(){const e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LC(this._location.path)}get storage(){return this._service}get parent(){const e=R8(this._location.path);if(e===null)return null;const n=new Xn(this._location.bucket,e);return new oo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw l8(e)}}function K8(t,e,n){t._throwIfRoot("uploadBytes");const i=q8(t.storage,t._location,UC(),new Hr(e,!0),n);return t.storage.makeRequestWithTokens(i,qC).then(a=>({metadata:a,ref:t}))}function Y8(t){t._throwIfRoot("getDownloadURL");const e=B8(t.storage,t._location,UC());return t.storage.makeRequestWithTokens(e,qC).then(n=>{if(n===null)throw a8();return n})}function Q8(t,e){const n=I8(t._location.path,e),i=new Xn(t._location.bucket,n);return new oo(t.storage,i)}function X8(t){return/^[A-Za-z]+:\/\//.test(t)}function W8(t,e){return new oo(t,e)}function GC(t,e){if(t instanceof cb){const n=t;if(n._bucket==null)throw i8();const i=new oo(n,n._bucket);return e!=null?GC(i,e):i}else return e!==void 0?Q8(t,e):t}function J8(t,e){if(e&&X8(e)){if(t instanceof cb)return W8(t,e);throw uy("To use ref(service, url), the first argument must be a Storage instance.")}else return GC(t,e)}function HE(t,e){const n=e?.[IC];return n==null?null:Xn.makeFromBucketSpec(n,t)}function Z8(t,e,n,i={}){t.host=`${e}:${n}`;const a=oa(e);a&&(nv(`https://${t.host}/b`),sv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:m2(l,t.app.options.projectId))}class cb{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=RC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KU,this._maxUploadRetryTime=YU,this._requests=new Set,a!=null?this._bucket=Xn.makeFromBucketSpec(a,this._host):this._bucket=HE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=HE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oo(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new c8(DC());{const c=x8(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const qE="@firebase/storage",GE="0.14.0";const $C="storage";function e7(t,e,n){return t=St(t),K8(t,e,n)}function t7(t){return t=St(t),Y8(t)}function n7(t,e){return t=St(t),J8(t,e)}function s7(t=av(),e){t=St(t);const i=Qf(t,$C).getImmediate({identifier:e}),a=h2("storage");return a&&i7(i,...a),i}function i7(t,e,n,i={}){Z8(t,e,n,i)}function r7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new cb(n,i,a,e,lo)}function a7(){to(new Jr($C,r7,"PUBLIC").setMultipleInstances(!0)),fi(qE,GE,""),fi(qE,GE,"esm2020")}a7();const o7={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},ub=y2(o7),a0=bP(ub),l7=new qi,hi=RU(ub),c7=s7(ub),KC=N.createContext(void 0);function u7({children:t}){const[e,n]=N.useState(null),[i,a]=N.useState(!0);N.useEffect(()=>{const h=oO(a0,f=>{n(f),a(!1)});return()=>h()},[]);const l=async()=>{try{await CO(a0,l7)}catch(h){console.error("Error signing in with Google",h)}},c=async()=>{try{await lO(a0)}catch(h){console.error("Error signing out",h)}};return g.jsx(KC.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:c},children:!i&&t})}function ua(){const t=N.useContext(KC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const fu=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:""},{name:"    "},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "},{name:"-"},{name:"  "},{name:""},{name:""},{name:"  "},{name:"   "},{name:" "}]},{name:"",topics:[{name:""}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"bg-teal-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"bg-violet-500",chapters:[{name:"",topics:[{name:" "},{name:"  "},{name:"   "},{name:"   "},{name:""},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:" "},{name:" "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:" "},{name:" "},{name:""},{name:"   "}]},{name:"   ",topics:[{name:"- "},{name:" "},{name:" "},{name:" "}]},{name:" ",topics:[{name:" "},{name:" "},{name:"    "},{name:""}]},{name:" ",topics:[{name:""},{name:"   "},{name:"   "},{name:" "}]},{name:" ",topics:[{name:" "},{name:""},{name:""},{name:""}]},{name:"  ",topics:[{name:"  "},{name:"- "},{name:" "},{name:"- "},{name:"-"}]},{name:" ",topics:[{name:"   "},{name:" "},{name:""},{name:"   "},{name:"   "}]},{name:"  ",topics:[{name:" "},{name:"- "},{name:""},{name:" "},{name:""}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:"  ",topics:[{name:"  "},{name:"  "},{name:"   "},{name:" "},{name:" "}]},{name:" ",topics:[{name:"  (  )"},{name:" "},{name:",    "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:" "},{name:""}]},{name:"  ",topics:[{name:"  (s, p, d, f )"},{name:"  ( ,  )"},{name:" "},{name:" "},{name:" (Hybridization)"},{name:"VSEPR    "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"- "},{name:"   Kc, Kp"},{name:"- "},{name:"pH   "},{name:"    "}]},{name:" ",topics:[{name:"   "},{name:"  (, )"},{name:"  "},{name:"   "}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:" ",topics:[{name:"  (, )"},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"    "},{name:"    (BOD, COD)"}]},{name:" ",topics:[{name:"     "},{name:""},{name:" (IUPAC)"},{name:" (, , )"},{name:"   "},{name:" "},{name:"  "},{name:"  "},{name:"    "},{name:""},{name:"  "}]},{name:" ",topics:[{name:"    "},{name:"  (, )"},{name:"- "},{name:"- "},{name:""},{name:"- "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"  "},{name:"    "},{name:"   "},{name:"pH "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:"   "},{name:"   "},{name:"   "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"  ",topics:[{name:" "},{name:" ,   "},{name:"   "},{name:" "},{name:" "}]},{name:"",topics:[{name:" "},{name:"   "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:"   "},{name:"  "},{name:"   "}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "}]},{name:"  ",topics:[{name:"    "},{name:""},{name:""},{name:"   "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:""}]},{name:"   ",topics:[{name:"  -"},{name:"-   "},{name:" "},{name:" "}]},{name:"",topics:[{name:"  "},{name:""},{name:"  "},{name:" "},{name:"  "}]},{name:"",topics:[{name:" "},{name:" "},{name:" "},{name:" "},{name:" "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"   ",topics:[{name:"  "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"   ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"  "},{name:""},{name:"  "}]},{name:"",topics:[{name:" (Parabola)"},{name:" (Ellipse)"},{name:" (Hyperbola)"},{name:" "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:"  "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:"    "}]},{name:"",topics:[{name:" "},{name:""},{name:" "},{name:" "}]},{name:"   ",topics:[{name:", , "},{name:"   "},{name:" "},{name:"   "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:"    "},{name:"  "},{name:"  "},{name:""},{name:""},{name:"DNA  RNA  "},{name:"DNA "},{name:"  "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:""},{name:"   "},{name:" "}]},{name:"  ",topics:[{name:" (Riccia)"},{name:" (Pteris)"}]},{name:"  ",topics:[{name:" (Cycas)"},{name:" (Poaceae) "},{name:" (Malvaceae) "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "},{name:"   /"}]},{name:" ",topics:[{name:"  "},{name:""},{name:" (   )"},{name:"C3  C4 "},{name:" (  )"},{name:"   "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:"  "},{name:" DNA "},{name:" "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:" "},{name:"-  (Major Phyla)"},{name:"   "}]},{name:" ",topics:[{name:" (, , )"},{name:" (, ,  )"},{name:"  (,  , )"}]},{name:"  ",topics:[{name:"   "},{name:"   (, , )"},{name:"   "},{name:""}]},{name:"  ",topics:[{name:"   "},{name:" "},{name:"   "},{name:" "},{name:"  "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:"  "},{name:"   "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:" "},{name:""}]}]},{name:"   ",icon:"Cpu",color:"bg-indigo-500",chapters:[{name:"  -    ",topics:[{name:" "},{name:" "},{name:""},{name:""},{name:" "},{name:""},{name:""},{name:" "},{name:""}]},{name:"  -  ",topics:[{name:"    "},{name:""},{name:"  ( )"},{name:"  (Bluetooth, WiFi, WiMax)"},{name:" "},{name:"   "},{name:" "}]},{name:"  -     ",topics:[{name:"  "},{name:"  "},{name:" (BCD, ASCII)"},{name:" "},{name:"  (  )"},{name:"  "},{name:" (  )"},{name:"  "}]},{name:"  -   ",topics:[{name:" "},{name:"HTML  "},{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"  -   (C)",topics:[{name:"  "},{name:"  "},{name:"   "},{name:"  "},{name:"  (if-else)"},{name:" (for, while)"},{name:""},{name:""}]}]}]}],o0={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0},Ld="study-tracker-data",$E=()=>{const t=fu[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},YC=N.createContext(void 0);function h7({children:t}){const{user:e}=ua(),[n,i]=N.useState(()=>{try{const E=localStorage.getItem(Ld);if(E){const k=JSON.parse(E);if(k.userProfile)return k.userProfile}}catch(E){console.error("Failed to load user profile:",E)}return o0}),[a,l]=N.useState(()=>{try{const E=localStorage.getItem(Ld);if(E){const k=JSON.parse(E);if(k.subjects&&k.subjects.length>0)return k.subjects.map(M=>({...M,chapters:M.chapters.map(R=>({...R,topics:R.topics||[]}))}))}}catch(E){console.error("Failed to load subjects, falling back to default:",E)}return $E()});N.useEffect(()=>{if(e){const E=Sl(hi,"users",e.uid),k=CC(E,M=>{if(M.exists()){const R=M.data();R.userProfile&&i(R.userProfile),R.subjects&&l(R.subjects)}else{const R={userProfile:o0,subjects:a.length>0?a:$E()};try{const P=localStorage.getItem(Ld);if(P){const I=JSON.parse(P);I.userProfile&&(R.userProfile=I.userProfile),I.subjects&&(R.subjects=I.subjects.map(pe=>({...pe,chapters:pe.chapters.map(ge=>({...ge,topics:ge.topics||[]}))})))}}catch(P){console.error("Error reading local storage for migration:",P)}zE(E,R).catch(P=>console.error("Migration failed",P))}},M=>{console.error("Firestore sync error:",M)});return()=>k()}},[e]);const c=gy.useCallback(async(E,k)=>{const M=k.reduce((pe,ge)=>pe+ge.chapters.length,0);let R=0;k.forEach(pe=>{pe.chapters.forEach(ge=>{ge.topics&&ge.topics.length>0?R+=ge.topics.filter(H=>H.isCompleted).length/ge.topics.length*100:R+=ge.isCompleted?100:0})});const P=M===0?0:Math.round(R/M),I={...E,syllabusCompletionPercentage:P};if(i(I),l(k),e)try{await zE(Sl(hi,"users",e.uid),{userProfile:I,subjects:k})}catch(pe){console.error("Failed to save to cloud:",pe)}else localStorage.setItem(Ld,JSON.stringify({userProfile:I,subjects:k}))},[e]);N.useEffect(()=>{const E=fu[0];if(!E)return;let k=!1;const M=[...a];E.subjects.forEach(R=>{const P=M.findIndex(I=>I.name===R.name);if(P===-1){const I={id:crypto.randomUUID(),name:R.name,color:R.color,icon:R.icon,chapters:R.chapters.map(pe=>({id:crypto.randomUUID(),name:pe.name,isCompleted:!1,completedAt:null,topics:pe.topics.map(ge=>({id:crypto.randomUUID(),name:ge.name,isCompleted:!1,completedAt:null}))}))};M.push(I),k=!0}else{const I=M[P];let pe=!1,ge=I.color;ge.startsWith("text-")&&(ge=ge.replace("text-","bg-"),pe=!0);const H=I.chapters.map(Z=>{const $=R.chapters.find(me=>me.name===Z.name);return $&&Z.topics.length===0&&$.topics.length>0?(pe=!0,{...Z,topics:$.topics.map(me=>({id:crypto.randomUUID(),name:me.name,isCompleted:!1,completedAt:null}))}):Z});pe&&(M[P]={...I,color:ge,chapters:H},k=!0)}}),k&&(console.log("Syncing default subjects..."),c(n,M))},[a,n,c]);const h=E=>{c({...n,...E},a)},f=E=>{const k=crypto.randomUUID(),M={...E,id:k,chapters:[]};c(n,[...a,M])},p=(E,k)=>{const M=a.map(R=>R.id===E?{...R,...k}:R);c(n,M)},v=E=>{c(n,a.filter(k=>k.id!==E))},b=(E,k)=>{const M=a.map(R=>R.id===E?{...R,chapters:[...R.chapters,{id:crypto.randomUUID(),name:k,isCompleted:!1,topics:[]}]}:R);c(n,M)},w=(E,k,M)=>{const R=a.map(P=>P.id===E?{...P,chapters:P.chapters.map(I=>I.id===k?{...I,name:M}:I)}:P);c(n,R)},S=(E,k)=>{const M=a.map(R=>R.id===E?{...R,chapters:R.chapters.map(P=>P.id===k?{...P,isCompleted:!P.isCompleted,completedAt:P.isCompleted?null:new Date().toISOString()}:P)}:R);c(n,M)},D=(E,k)=>{const M=a.map(R=>R.id===E?{...R,chapters:R.chapters.filter(P=>P.id!==k)}:R);c(n,M)},O=(E,k,M)=>{const R=a.map(P=>P.id===E?{...P,chapters:P.chapters.map(I=>I.id===k?{...I,topics:[...I.topics,{id:crypto.randomUUID(),name:M,isCompleted:!1,completedAt:null}]}:I)}:P);c(n,R)},V=(E,k,M,R)=>{const P=a.map(I=>I.id===E?{...I,chapters:I.chapters.map(pe=>pe.id===k?{...pe,topics:pe.topics.map(ge=>ge.id===M?{...ge,name:R}:ge)}:pe)}:I);c(n,P)},z=(E,k,M)=>{const R=a.map(P=>P.id===E?{...P,chapters:P.chapters.map(I=>{if(I.id===k){const pe=I.topics.map(H=>H.id===M?{...H,isCompleted:!H.isCompleted,completedAt:H.isCompleted?null:new Date().toISOString()}:H),ge=pe.length>0&&pe.every(H=>H.isCompleted);return{...I,topics:pe,isCompleted:ge,completedAt:ge?new Date().toISOString():null}}return I})}:P);c(n,R)},F=(E,k,M)=>{const R=a.map(P=>P.id===E?{...P,chapters:P.chapters.map(I=>I.id===k?{...I,topics:I.topics.filter(pe=>pe.id!==M)}:I)}:P);c(n,R)},G=()=>{const E={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},k=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),M=URL.createObjectURL(k),R=document.createElement("a");R.href=M,R.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(M)},te=E=>{try{const k=JSON.parse(E);return k.userProfile&&Array.isArray(k.subjects)?(c(k.userProfile,k.subjects),!0):(alert("Invalid backup file format."),!1)}catch(k){return console.error("Import error:",k),alert("Failed to parse backup file."),!1}},re=E=>{const k=E.map(M=>({id:crypto.randomUUID(),name:M.name,color:M.color,icon:M.icon,chapters:M.chapters.map(P=>({id:crypto.randomUUID(),name:P.name,isCompleted:!1,completedAt:null,topics:P.topics.map(pe=>({id:crypto.randomUUID(),name:pe.name,isCompleted:!1,completedAt:null}))}))}));c(n,[...a,...k])},he=()=>{confirm("Are you sure you want to reset all data?")&&c(o0,[])},j=async(E,k,M)=>{const R=new Date,P=R.toISOString().split("T")[0],I=(n.totalStudyTime||0)+E;let pe=n.currentStreak||0,ge=n.lastStudyDate,H=n.todayStudyTime||0;if(ge!==P){const Re=new Date;Re.setDate(Re.getDate()-1);const Me=Re.toISOString().split("T")[0];ge===Me?pe+=1:pe=1,ge=P,H=E}else H+=E;let Z=n.weeklyStudyTime||0,$=n.monthlyStudyTime||0;const me=n.lastStudyDate?new Date(n.lastStudyDate):new Date(0),Te=Re=>{const Me=new Date(Re),xt=Me.getDay(),kn=Me.getDate()-xt+(xt===0?-6:1);return new Date(Me.setDate(kn)).toDateString()};Te(me)!==Te(R)&&(Z=0),(me.getMonth()!==R.getMonth()||me.getFullYear()!==R.getFullYear())&&($=0),Z+=E,$+=E;const U=[...n.earnedBadges||[]],ee=[],ce=R.getHours(),ue=ce>=22||ce<4,Ae=U.some(Re=>Re.type==="night_owl");ue&&!Ae&&ee.push({type:"night_owl",earnedAt:R.toISOString()});const De=U.some(Re=>Re.type==="streak_master");pe>=3&&!De&&ee.push({type:"streak_master",earnedAt:R.toISOString()});const le={...n,totalStudyTime:I,todayStudyTime:H,currentStreak:pe,lastStudyDate:ge,earnedBadges:[...U,...ee],dailyGoal:n.dailyGoal||7200,weeklyStudyTime:Z,monthlyStudyTime:$};if(h(le),e)try{await kC(Ru(hi,"study_sessions"),{userId:e.uid,userName:e.displayName||n.name,startTime:new Date(Date.now()-E*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:E,subjectId:k||null,sessionGoal:M||null,createdAt:new Date().toISOString()})}catch(Re){console.error("Error saving study session:",Re)}};return g.jsx(YC.Provider,{value:{userProfile:n,subjects:a,updateProfile:h,addSubject:f,editSubject:p,deleteSubject:v,addChapter:b,editChapter:w,toggleChapter:S,deleteChapter:D,addTopic:O,editTopic:V,toggleTopic:z,deleteTopic:F,resetData:he,exportData:G,importData:te,importSyllabusData:re,saveStudySession:j},children:t})}function mn(){const t=N.useContext(YC);if(t===void 0)throw new Error("useStudy must be used within a StudyProvider");return t}const QC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const d7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const f7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const KE=t=>{const e=f7(t);return e.charAt(0).toUpperCase()+e.slice(1)};var m7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const g7=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},f)=>N.createElement("svg",{ref:f,...m7,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:QC("lucide",a),...!l&&!p7(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,v])=>N.createElement(p,v)),...Array.isArray(l)?l:[l]]));const we=(t,e)=>{const n=N.forwardRef(({className:i,...a},l)=>N.createElement(g7,{ref:l,iconNode:e,className:QC(`lucide-${d7(KE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=KE(t),n};const y7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],v7=we("arrow-left",y7);const b7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hb=we("arrow-right",b7);const x7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],XC=we("award",x7);const _7=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],w7=we("bell-off",_7);const T7=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],E7=we("bell",T7);const S7=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],WC=we("book-marked",S7);const A7=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gs=we("book-open",A7);const k7=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],C7=we("book",k7);const N7=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],R7=we("bug",N7);const I7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],D7=we("chart-column",I7);const j7=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],M7=we("chart-pie",j7);const V7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JC=we("check",V7);const O7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],P7=we("chevron-down",O7);const L7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ZC=we("chevron-left",L7);const U7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],z7=we("chevron-right",U7);const B7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ll=we("circle-check",B7);const F7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],hy=we("circle-user",F7);const H7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],q7=we("circle",H7);const G7=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$7=we("clock",G7);const K7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bm=we("download",K7);const Y7=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],eN=we("flame",Y7);const Q7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],X7=we("frown",Q7);const W7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],J7=we("globe",W7);const Z7=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],tN=we("graduation-cap",Z7);const ez=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],rl=we("hash",ez);const tz=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],l0=we("heart",tz);const nz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],sz=we("image",nz);const iz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],rz=we("laugh",iz);const az=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],YE=we("layout-dashboard",az);const oz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lz=we("loader-circle",oz);const cz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nN=we("log-out",cz);const uz=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],c0=we("medal",uz);const hz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dz=we("menu",hz);const fz=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],yl=we("message-circle",fz);const mz=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],pz=we("monitor",mz);const gz=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Lf=we("moon",gz);const yz=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],vz=we("pause",yz);const bz=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],sN=we("pen-tool",bz);const xz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_z=we("pen",xz);const wz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],xm=we("pencil",wz);const Tz=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],iN=we("play",Tz);const Ez=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Iu=we("plus",Ez);const Sz=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Az=we("quote",Sz);const kz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Cz=we("refresh-cw",kz);const Nz=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],Rz=we("reply",Nz);const Iz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],rN=we("rotate-ccw",Iz);const Dz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uf=we("save",Dz);const jz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mz=we("send",jz);const Vz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u0=we("settings",Vz);const Oz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Pz=we("shield",Oz);const Lz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Uz=we("smile",Lz);const zz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],QE=we("square-pen",zz);const Bz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],dy=we("sun",Bz);const Fz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Hz=we("target",Fz);const qz=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Gz=we("thumbs-up",qz);const $z=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],XE=we("timer",$z);const Kz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qu=we("trash-2",Kz);const Yz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fy=we("trending-up",Yz);const Qz=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ra=we("trophy",Qz);const Xz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Wz=we("upload",Xz);const Jz=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],aN=we("volume-2",Jz);const Zz=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],oN=we("volume-x",Zz);const eB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Us=we("x",eB),tB=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function lN({subject:t,onClose:e}){const{editSubject:n}=mn(),[i,a]=N.useState(t.name),[l,c]=N.useState(t.color);N.useEffect(()=>{a(t.name),c(t.color)},[t]);const h=f=>{f.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l}),e())};return g.jsx(Ln,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),g.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Us,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:i,onChange:f=>a(f.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:tB.map(f=>g.jsx("button",{type:"button",onClick:()=>c(f),className:`w-8 h-8 rounded-full transition-transform ${f} ${l===f?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-110 opacity-70 hover:opacity-100"}`},f))})]}),g.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:g.jsx(gs,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const nB=Se(cn);function sB({subject:t,index:e=0}){const[n,i]=N.useState(!1),a=t.chapters.length,l=t.chapters.filter(f=>f.isCompleted).length;let c=0;t.chapters.forEach(f=>{f.topics&&f.topics.length>0?c+=f.topics.filter(p=>p.isCompleted).length/f.topics.length*100:c+=f.isCompleted?100:0});const h=a===0?0:Math.round(c/a);return g.jsxs(g.Fragment,{children:[g.jsxs(nB,{to:`/subject/${t.id}`,whileHover:{y:-8,transition:{duration:.3,ease:[.25,1,.5,1]}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-3xl p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-2xl hover:shadow-blue-500/15 dark:hover:shadow-blue-900/20 transition-all overflow-hidden",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${t.color.replace("bg-","from-").replace("-500","-500/10")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-bl-full pointer-events-none`}),g.jsx(Se.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:f=>{f.preventDefault(),f.stopPropagation(),i(!0)},className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-xl transition-colors opacity-0 group-hover:opacity-100 z-10",title:"Edit Subject",children:g.jsx(xm,{className:"w-4 h-4"})}),g.jsxs("div",{className:"flex items-start justify-between mb-6 relative z-10",children:[g.jsx(Se.div,{whileHover:{rotate:15,scale:1.1},className:`w-14 h-14 rounded-2xl ${t.color} flex items-center justify-center text-white shadow-lg shadow-blue-500/20`,children:g.jsx(gs,{className:"w-7 h-7"})}),g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 backdrop-blur-sm px-3 py-1.5 rounded-xl text-xs font-bold text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-600",children:[h,"%"]})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:t.name}),g.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mb-6",children:[g.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 dark:bg-slate-700/50 px-2 py-1 rounded-lg",children:[g.jsx(gs,{className:"w-3.5 h-3.5"}),g.jsx("span",{children:a})]}),l>0&&g.jsxs("div",{className:"flex items-center gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-2 py-1 rounded-lg",children:[g.jsx(Ll,{className:"w-3.5 h-3.5"}),g.jsx("span",{children:l})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-xs text-slate-400 dark:text-slate-500 font-medium",children:[g.jsx("span",{children:"Progress"}),g.jsxs("span",{children:[h,"%"]})]}),g.jsx("div",{className:"h-2.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Se.div,{initial:{width:0},animate:{width:`${h}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color} rounded-full`})})]}),g.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"View Details"}),g.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:g.jsx(hb,{className:"w-4 h-4"})})]})]}),n&&g.jsx(lN,{subject:t,onClose:()=>i(!1)})]})}const WE=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function iB({onClose:t}){const{addSubject:e}=mn(),[n,i]=N.useState(""),[a,l]=N.useState(WE[0]),c=h=>{h.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(C7,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Us,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),g.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:h=>i(h.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:WE.map(h=>g.jsx("button",{type:"button",onClick:()=>l(h),className:`w-8 h-8 rounded-full ${h} transition-all ${a===h?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},h))})]}),g.jsx("div",{className:"pt-2",children:g.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(Uf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const rB={start_strong:{icon:Ll,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:eN,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:XC,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:Lf,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function aB({type:t,isLocked:e=!1,dateEarned:n}){const i=rB[t],a=i.icon,[l,c]=N.useState(!1);return g.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[g.jsx(Se.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:g.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),g.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&g.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[g.jsx("p",{className:"font-semibold",children:i.label}),g.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&g.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function oB(){const{updateProfile:t}=mn(),[e,n]=N.useState(""),[i,a]=N.useState(""),l=c=>{if(c.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:g.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[g.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),g.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(hy,{className:"w-4 h-4"}),"Your Name ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(tN,{className:"w-4 h-4"}),"Class / Grade"]}),g.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function lB(){const{userProfile:t,updateProfile:e}=mn(),[n,i]=N.useState(!1),[a,l]=N.useState(t.dailyGoal?t.dailyGoal/3600:2),c=t.dailyGoal||7200,h=t.todayStudyTime||0,f=Math.min(100,Math.round(h/c*100)),p=()=>{e({dailyGoal:a*3600}),i(!1)};return g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(Hz,{className:"w-4 h-4"}),"Daily Goal"]}),n?g.jsxs("button",{onClick:p,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",g.jsx(JC,{className:"w-3 h-3"})]}):g.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",g.jsx(_z,{className:"w-3 h-3"})]})]}),g.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[g.jsxs("div",{className:"space-y-1",children:[n?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:v=>l(parseFloat(v.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),g.jsx("span",{className:"text-slate-500",children:"hrs"})]}):g.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(h/3600),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(h%3600/60),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),g.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(c/3600),"h goal"]})]}),g.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx(Se.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*f/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${f>=100?"text-green-500":"text-blue-500"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[f,"%"]})]})]}),f>=100&&g.jsxs(Se.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[g.jsx(ra,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),g.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function cB(){const{subjects:t}=mn();let e=null,n=null,i=null;for(const a of t)if(a.chapters.some(c=>!c.isCompleted&&(!c.topics.length||c.topics.some(h=>!h.isCompleted)))){e=a;for(const c of a.chapters)if(!c.isCompleted)if(c.topics.length>0){const h=c.topics.find(f=>!f.isCompleted);if(h){n=c,i=h;break}}else{n=c;break}break}return!e||!n?g.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex flex-col items-center justify-center text-center h-full min-h-[160px]",children:[g.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-3 text-2xl",children:""}),g.jsx("h3",{className:"font-bold text-xl mb-1",children:"All Caught Up!"}),g.jsx("p",{className:"text-emerald-100 text-sm",children:"You've completed everything in your syllabus."}),g.jsx("div",{className:"mt-4 px-4 py-2 bg-white/20 rounded-lg text-sm font-medium backdrop-blur-sm",children:"Time to review or rest!"})]}):g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden h-full flex flex-col justify-between group",children:[g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(iN,{className:"w-4 h-4 text-blue-500 fill-current"}),"Continue Learning"]}),g.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full text-white ${e.color}`,children:e.name})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white line-clamp-1 mb-1",children:i?i.name:n.name}),g.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[g.jsx(gs,{className:"w-3.5 h-3.5"}),n.name]})]})]}),g.jsx("div",{className:"relative z-10",children:g.jsxs(cn,{to:`/subject/${e.id}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-xl font-medium transition-all group-hover:translate-x-1",children:["Resume Study ",g.jsx(hb,{className:"w-4 h-4"})]})}),g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 ${e.color.replace("text-","bg-")}`})]})}const Ud=[{text:"The expert in anything was once a beginner.",author:"Helen Hayes"},{text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{text:"There is no substitute for hard work.",author:"Thomas Edison"},{text:"The future depends on what you do today.",author:"Mahatma Gandhi"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Quality is not an act, it is a habit.",author:"Aristotle"},{text:"Your limitationit's only your imagination.",author:"Unknown"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dream it. Wish it. Do it.",author:"Unknown"},{text:"Success doesn't just find you. You have to go out and get it.",author:"Unknown"},{text:"The harder you work for something, the greater you'll feel when you achieve it.",author:"Unknown"},{text:"Dream bigger. Do bigger.",author:"Unknown"},{text:"Don't stop when you're tired. Stop when you're done.",author:"Unknown"},{text:"Wake up with determination. Go to bed with satisfaction.",author:"Unknown"},{text:"Do something today that your future self will thank you for.",author:"Unknown"},{text:"Little things make big days.",author:"Unknown"},{text:"It's going to be hard, but hard does not mean impossible.",author:"Unknown"}];function uB(){const[t,e]=N.useState(()=>Math.floor(Math.random()*Ud.length)),n=()=>{e(i=>(i+1)%Ud.length)};return g.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:g.jsx(Az,{className:"w-5 h-5 text-white"})}),g.jsx("button",{onClick:n,className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Next Quote",children:g.jsx(Cz,{className:"w-4 h-4"})})]}),g.jsx(Ln,{mode:"wait",children:g.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[g.jsxs("p",{className:"text-lg md:text-xl font-medium mb-3 leading-relaxed",children:['"',Ud[t].text,'"']}),g.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",Ud[t].author]})]},t)}),g.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}function hB(){const{user:t}=ua(),[e,n]=N.useState([]),[i,a]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const c=Zv(Ru(hi,"users"),nb("userProfile.syllabusCompletionPercentage","desc"),ib(10)),h=await AC(c),f=[];h.forEach(p=>{const v=p.data();v.userProfile&&f.push({uid:p.id,name:v.userProfile.name||"Anonymous",percentage:v.userProfile.syllabusCompletionPercentage||0,grade:v.userProfile.grade||"Student"})}),n(f)}catch(c){console.error("Error fetching leaderboard:",c)}finally{a(!1)}})()},[]),i?g.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex items-center justify-center min-h-[300px]",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex flex-col",children:[g.jsxs("h3",{className:"text-slate-800 dark:text-white font-bold text-lg mb-4 flex items-center gap-2",children:[g.jsx(ra,{className:"w-5 h-5 text-amber-500"}),"Leaderboard"]}),g.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:e.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-slate-500 dark:text-slate-400 py-8 h-full",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mb-3",children:g.jsx(ra,{className:"w-8 h-8 text-slate-300 dark:text-slate-500 opacity-50"})}),g.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"No champions yet!"}),g.jsx("p",{className:"text-xs max-w-[150px] mt-1",children:"Complete chapters to climb the ranks."})]}):e.map((l,c)=>{const h=t?.uid===l.uid;let f=null;return c===0?f=g.jsx(c0,{className:"w-5 h-5 text-yellow-500"}):c===1?f=g.jsx(c0,{className:"w-5 h-5 text-slate-400"}):c===2?f=g.jsx(c0,{className:"w-5 h-5 text-amber-700"}):f=g.jsx("span",{className:"text-sm font-bold text-slate-400 w-5 text-center",children:c+1}),g.jsxs(Se.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:c*.1},className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${h?"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[g.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-8",children:f}),g.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-300",children:l.name[0].toUpperCase()}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:`text-sm font-medium truncate ${h?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-200"}`,children:[l.name," ",h&&"(You)"]}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:l.grade})]}),g.jsxs("div",{className:"font-bold text-slate-800 dark:text-white text-sm",children:[l.percentage,"%"]})]},l.uid)})})]})}const JE={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},h0={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function dB(){const{userProfile:t,subjects:e}=mn(),[n,i]=N.useState(!1),a=t.name==="Student",l=e.reduce((p,v)=>p+v.chapters.length,0),c=e.reduce((p,v)=>p+v.chapters.filter(b=>b.isCompleted).length,0);let h=0;e.forEach(p=>{p.chapters.forEach(v=>{v.topics&&v.topics.length>0?h+=v.topics.filter(b=>b.isCompleted).length/v.topics.length*100:h+=v.isCompleted?100:0})});const f=l===0?0:Math.round(h/l);return g.jsxs(Se.div,{className:"space-y-6 md:space-y-8",variants:JE,initial:"hidden",animate:"show",exit:"exit",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors tracking-tight",children:["Hello, ",g.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-500 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),g.jsx("span",{className:"inline-block animate-wave ml-2",children:""})]}),g.jsxs("p",{className:"text-base text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[g.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-md mr-2",children:t.grade}),"Ready to crush your goals today?"]})]}),g.jsxs(Se.button,{id:"add-subject-btn",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(37, 99, 235, 0.4)"},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3.5 rounded-2xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-blue-500/30 transition-all text-sm md:text-base w-full md:w-auto",children:[g.jsx(Iu,{className:"w-5 h-5"}),"New Subject"]})]}),"import AdBanner from '../components/AdBanner'; // ... (imports) // ... inside Dashboard component ...",g.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory -mx-4 px-4 pb-4 gap-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-6 md:mx-0 md:px-0 md:pb-0 md:overflow-visible no-scrollbar",children:[g.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto lg:col-span-1 h-full",children:g.jsx(cB,{})}),g.jsxs("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4 lg:gap-6 h-full",children:[g.jsx(lB,{}),g.jsx(uB,{})]}),g.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-1 gap-4 lg:gap-6 h-full",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:g.jsx(M7,{className:"w-32 h-32 text-blue-500"})}),g.jsxs("div",{className:"flex items-center justify-between relative z-10 h-full",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-2 text-sm",children:[g.jsx(ra,{className:"w-4 h-4 text-amber-500"})," Syllabus Progress"]}),g.jsxs("div",{className:"mt-4 space-y-3",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[g.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:c}),g.jsxs("span",{className:"text-sm text-slate-400 dark:text-slate-500 mb-1",children:["/ ",l," Chapters"]})]}),g.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Se.div,{initial:{width:0},animate:{width:`${c/(l||1)*100}%`},className:"h-full bg-blue-500 rounded-full"})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[g.jsxs("span",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[f,"%"]}),g.jsx("span",{className:"text-sm text-slate-400 dark:text-slate-500 mb-1",children:"Total Completion"})]}),g.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx(Se.div,{initial:{width:0},animate:{width:`${f}%`},className:"h-full bg-emerald-500 rounded-full"})})]})]})]}),g.jsxs("div",{className:"relative w-28 h-28 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[g.jsx("circle",{className:"text-slate-100 dark:text-slate-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50"}),g.jsx(Se.circle,{className:"text-blue-600 dark:text-blue-500 drop-shadow-lg",strokeWidth:"8",strokeDasharray:251.2,strokeDashoffset:251.2-251.2*f/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*f/100},transition:{duration:1.5,ease:"easeOut"}})]}),g.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center flex-col",children:g.jsxs("span",{className:"text-xl font-bold text-slate-800 dark:text-white",children:[f,"%"]})})]})]})]})}),g.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto lg:col-span-1 h-full min-h-[400px]",children:g.jsx(hB,{})})]}),t.earnedBadges&&t.earnedBadges.length>0&&g.jsxs(Se.div,{variants:h0,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx(ra,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),g.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,v)=>g.jsx(aB,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${v}`))})]}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",g.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?g.jsxs(Se.div,{variants:JE,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((p,v)=>g.jsx(Se.div,{variants:h0,children:g.jsx(sB,{subject:p,index:v})},p.id)),g.jsxs(Se.button,{variants:h0,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:g.jsx(Iu,{className:"w-6 h-6"})}),g.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):g.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(WC,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),g.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),g.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&g.jsx(iB,{onClose:()=>i(!1)}),a&&g.jsx(oB,{})]})}function fB({subjectId:t,onClose:e}){const{addChapter:n}=mn(),[i,a]=N.useState(""),l=c=>{c.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(WC,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),g.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Us,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),g.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{className:"flex gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),g.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(Iu,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const mB={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function _m({children:t,className:e=""}){return g.jsx(Se.div,{variants:mB,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const cN=N.createContext(void 0);function pB({children:t}){const[e,n]=N.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=N.useRef(null);N.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=p=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const v=i.current,b=v.createOscillator(),w=v.createGain();b.connect(w),w.connect(v.destination);const S=v.currentTime;switch(p){case"pop":b.type="sine",b.frequency.setValueAtTime(800,S),b.frequency.exponentialRampToValueAtTime(1200,S+.1),w.gain.setValueAtTime(.1,S),w.gain.exponentialRampToValueAtTime(.01,S+.1),b.start(S),b.stop(S+.1);break;case"success":c(v,523.25,S,.1,"sine"),c(v,659.25,S+.1,.1,"sine"),c(v,783.99,S+.2,.2,"sine");break;case"complete":b.type="triangle",b.frequency.setValueAtTime(440,S),b.frequency.linearRampToValueAtTime(880,S+.5),w.gain.setValueAtTime(.1,S),w.gain.linearRampToValueAtTime(.3,S+.2),w.gain.linearRampToValueAtTime(0,S+1.5),b.start(S),b.stop(S+1.5);break;case"click":b.type="square",b.frequency.setValueAtTime(200,S),w.gain.setValueAtTime(.05,S),w.gain.exponentialRampToValueAtTime(.01,S+.05),b.start(S),b.stop(S+.05);break;case"error":b.type="sawtooth",b.frequency.setValueAtTime(150,S),b.frequency.linearRampToValueAtTime(100,S+.2),w.gain.setValueAtTime(.1,S),w.gain.linearRampToValueAtTime(0,S+.3),b.start(S),b.stop(S+.3);break}},c=(p,v,b,w,S="sine")=>{const D=p.createOscillator(),O=p.createGain();D.connect(O),O.connect(p.destination),D.type=S,D.frequency.setValueAtTime(v,b),O.gain.setValueAtTime(.1,b),O.gain.exponentialRampToValueAtTime(.01,b+w),D.start(b),D.stop(b+w)},h=p=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(p)},f=()=>{n(p=>!p),e&&a()};return g.jsx(cN.Provider,{value:{isMuted:e,toggleMute:f,playSound:h},children:t})}function db(){const t=N.useContext(cN);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function gB({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=mn(),[c,h]=N.useState(i);N.useEffect(()=>{h(i)},[i]);const f=p=>{p.preventDefault(),c.trim()&&(l(t,e,n,c.trim()),a())};return g.jsx(Ln,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),g.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Us,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(sN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:c,onChange:p=>h(p.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function yB({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=mn(),{playSound:l}=db(),[c,h]=N.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsxs(Se.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[g.jsx(Se.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:g.jsx(Ll,{className:"w-3 h-3"})}),g.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),g.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>h(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:g.jsx(xm,{className:"w-3.5 h-3.5"})}),g.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:g.jsx(Qu,{className:"w-3.5 h-3.5"})})]})]}),c&&g.jsx(gB,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>h(!1)})]})}function vB({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=mn(),[l,c]=N.useState(n);N.useEffect(()=>{c(n)},[n]);const h=f=>{f.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return g.jsx(Ln,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),g.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Us,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(sN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:l,onChange:f=>c(f.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function bB({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=mn(),[c,h]=N.useState(!1),[f,p]=N.useState(!1),v=b=>{b.preventDefault();const w=b.target.elements.namedItem("topicName");w.value.trim()&&(l(t,e.id,w.value.trim()),w.value="",h(!1))};return g.jsxs("div",{className:"group transition-colors",children:[g.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[g.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:g.jsx(Se.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:g.jsx(P7,{className:"w-5 h-5"})})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),g.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(b=>b.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&g.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[g.jsx(Ll,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&g.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:g.jsx(Se.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(b=>b.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),g.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[g.jsx(Se.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),h(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:g.jsx(Iu,{className:"w-4 h-4"})}),g.jsx(Se.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),p(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:g.jsx(xm,{className:"w-4 h-4"})}),g.jsx(Se.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:g.jsx(Qu,{className:"w-4 h-4"})})]})]}),g.jsx(Ln,{children:n&&g.jsx(Se.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:g.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(b=>g.jsx(yB,{subjectId:t,chapterId:e.id,topic:b},b.id)):g.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&g.jsxs(Se.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:v,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[g.jsx(q7,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),g.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>h(!1),200)}),g.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),f&&g.jsx(vB,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>p(!1)})]})}function xB(){const{id:t}=XI(),e=Ff(),{subjects:n,deleteSubject:i}=mn(),[a,l]=N.useState(!1),[c,h]=N.useState(!1),[f,p]=N.useState({}),v=n.find(z=>z.id===t);if(!v)return g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:g.jsx(gs,{className:"w-8 h-8 text-slate-300"})}),g.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),g.jsx(cn,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const b=()=>{confirm(`Are you sure you want to delete ${v.name}? ALL progress will be lost.`)&&(i(v.id),e("/"))},w=z=>{p(F=>({...F,[z]:!F[z]}))},S=v.chapters.length,D=v.chapters.filter(z=>z.isCompleted).length;let O=0;v.chapters.forEach(z=>{z.topics&&z.topics.length>0?O+=z.topics.filter(F=>F.isCompleted).length/z.topics.length*100:O+=z.isCompleted?100:0});const V=S===0?0:Math.round(O/S);return g.jsxs(_m,{className:"max-w-3xl mx-auto pb-12",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs(cn,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[g.jsx(v7,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),g.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${v.color}`,children:[g.jsx(gs,{className:"w-3 h-3"}),v.name]}),g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:v.name}),g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[D," of ",S," chapters completed"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>h(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:g.jsx(xm,{className:"w-5 h-5"})}),g.jsx("button",{onClick:b,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:g.jsx(Qu,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"flex justify-between items-end mb-2",children:[g.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[V,"%"]}),g.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),g.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(Se.div,{initial:{width:0},animate:{width:`${V}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),g.jsxs(Se.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[g.jsx(Iu,{className:"w-4 h-4"}),"Add Chapter"]})]}),g.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:v.chapters.length>0?v.chapters.map(z=>g.jsx(bB,{subjectId:v.id,chapter:z,isExpanded:!!f[z.id],onToggle:()=>w(z.id)},z.id)):g.jsxs("div",{className:"p-12 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:g.jsx(gs,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),g.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&g.jsx(fB,{subjectId:v.id,onClose:()=>l(!1)}),c&&g.jsx(lN,{subject:v,onClose:()=>h(!1)})]})}const uN=N.createContext(void 0);function _B({children:t}){const[e,n]=N.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");N.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return g.jsx(uN.Provider,{value:{theme:e,toggleTheme:i},children:t})}function hN(){const t=N.useContext(uN);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function wB({onClose:t}){const[e,n]=N.useState(fu[0].id),[i,a]=N.useState(new Set),l=fu.find(f=>f.id===e),c=f=>{const p=new Set(i);p.has(f)?p.delete(f):p.add(f),a(p)},h=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const f=new Set(l.subjects.map(p=>p.name));a(f)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(gs,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Us,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[g.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),g.jsx("div",{className:"space-y-2",children:fu.map(f=>g.jsx("button",{onClick:()=>{n(f.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===f.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:f.name},f.id))})]}),g.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),g.jsx("button",{onClick:h,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),g.jsx("div",{className:"space-y-3",children:l?.subjects.map(f=>g.jsxs("div",{onClick:()=>c(f.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(f.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[g.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(f.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(f.name)&&g.jsx(JC,{className:"w-3.5 h-3.5 text-white"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`font-semibold ${i.has(f.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:f.name}),g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[f.chapters.length," Chapters"]})]}),g.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[f.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},f.name))})]})]}),g.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[g.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),g.jsx(TB,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function TB({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=mn(),l=()=>{if(t===0||!e)return;const c=e.subjects.filter(h=>n.has(h.name));a(c),i()};return g.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[g.jsx(bm,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function EB(){const{user:t,logout:e}=ua(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:c}=mn(),{isMuted:h,toggleMute:f}=db(),{theme:p,toggleTheme:v}=hN(),b=N.useRef(null),w=N.useRef(null),[S,D]=N.useState(!1),[O,V]=N.useState(!1),[z,F]=N.useState("Notification"in window&&Notification.permission==="granted"),G=()=>{const j=b.current?.value.trim()||"",E=w.current?.value.trim()||"";if(!j){alert("Please enter your name");return}i({name:j,grade:E}),V(!1),alert(` Profile updated successfully!

You can update your profile anytime.`)},te=()=>{const j=document.createElement("input");j.type="file",j.accept=".json",j.onchange=E=>{const k=E.target.files?.[0];if(k){const M=new FileReader;M.onload=R=>{const P=R.target?.result;c(P)&&alert("Data imported successfully!")},M.readAsText(k)}},j.click()},re=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},he=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")F(!z);else if(Notification.permission!=="denied"){const j=await Notification.requestPermission();F(j==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return g.jsxs(_m,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(hy,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),g.jsxs(Se.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(hy,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),g.jsx("input",{ref:b,type:"text",defaultValue:n?.name||"",disabled:!O,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${O?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),g.jsx("input",{ref:w,type:"text",defaultValue:n?.grade||"",disabled:!O,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${O?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),g.jsx("div",{className:"pt-2 flex gap-3",children:O?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>V(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),g.jsxs("button",{onClick:G,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[g.jsx(Uf,{className:"w-4 h-4"}),"Save Changes"]})]}):g.jsxs("button",{onClick:()=>V(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[g.jsx(QE,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),g.jsxs(Se.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(pz,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${p==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:p==="dark"?g.jsx(Lf,{className:"w-5 h-5"}):g.jsx(dy,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),g.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p==="dark"?"bg-blue-600":"bg-slate-200"}`,children:g.jsx("span",{className:`${p==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${h?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:h?g.jsx(oN,{className:"w-5 h-5"}):g.jsx(aN,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),g.jsx("button",{onClick:f,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${h?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:g.jsx("span",{className:`${h?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${z?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:z?g.jsx(E7,{className:"w-5 h-5"}):g.jsx(w7,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),g.jsx("button",{onClick:he,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${z?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:g.jsx("span",{className:`${z?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:g.jsx(J7,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),g.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[g.jsx("option",{children:"English"}),g.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),g.jsxs(Se.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(Uf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>D(!0),children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:g.jsx(gs,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),g.jsx("button",{className:"text-slate-400",children:g.jsx(QE,{className:"w-4 h-4"})})]}),g.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[g.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(bm,{className:"w-4 h-4"}),"Export Data"]}),g.jsxs("button",{onClick:te,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(Wz,{className:"w-4 h-4"}),"Import Data"]})]}),g.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:g.jsx(Qu,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),g.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),g.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),g.jsxs(Se.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(Pz,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:re,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:g.jsx(rN,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),g.jsx("a",{href:"https://github.com/shahnewajsrabon/Study-Mate/issues/new?title=Bug%3A%20&body=%23%23%20Bug%20Description",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:g.jsx(R7,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Help us improve by reporting issues"})]})]})}),g.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:g.jsx(yl,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),g.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:g.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&g.jsxs(Se.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[g.jsx(nN,{className:"w-5 h-5"}),"Sign Out"]}),g.jsx(Ln,{children:S&&g.jsx(wB,{onClose:()=>D(!1)})})]})}function zd({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return g.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[g.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),g.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),g.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:g.jsx(n,{className:`w-6 h-6 ${i}`})})]})}function SB(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(i+=c.topics.length,c.topics.forEach(h=>{h.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function AB(t){const e=new Date,i=Array.from({length:7},(l,c)=>{const h=new Date;return h.setDate(e.getDate()-(6-c)),h.toISOString().split("T")[0]}).map(l=>{let c=0;return t.forEach(h=>{h.chapters.forEach(f=>{f.topics&&f.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function kB(t){const e=new Set;t.forEach(h=>h.chapters.forEach(f=>f.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((h,f)=>new Date(f).getTime()-new Date(h).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const h=n[0];if(h===a||h===c){i=1;let f=new Date(h);for(let p=1;p<n.length;p++){const v=new Date(n[p]),b=Math.abs(f.getTime()-v.getTime());if(Math.round(b/(1e3*60*60*24))===1)i++,f=v;else break}}}return i}function CB(){const{subjects:t}=mn(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=SB(t),{activityData:l,maxCount:c}=AB(t),h=kB(t),f=i>0?Math.round(a/i*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return g.jsxs(_m,{className:"max-w-4xl mx-auto pb-12",children:[g.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[g.jsx(fy,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),g.jsxs(Se.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[g.jsx("div",{className:"sm:col-span-1",children:g.jsx(zd,{title:"Total Streak",value:`${h} days`,icon:XC,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(zd,{title:"Topics Done",value:`${a} / ${i}`,icon:gs,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(zd,{title:"Chapters Done",value:`${n} / ${e}`,icon:ra,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(zd,{title:"Completion",value:`${f}%`,icon:Ll,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(D7,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),g.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((v,b)=>g.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[g.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:g.jsx(Se.div,{initial:{height:0},animate:{height:`${v.count/c*100}%`},transition:{duration:1,delay:b*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:g.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[v.count," Topics"]})})}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"})})]},v.date))})]}),g.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(gs,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),g.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(v=>{const b=v.chapters.reduce((D,O)=>D+(O.topics?.length||0),0),w=v.chapters.reduce((D,O)=>D+(O.topics?.filter(V=>V.isCompleted).length||0),0),S=b>0?Math.round(w/b*100):0;return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:v.name}),g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[S,"%"]})]}),g.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(Se.div,{initial:{width:0},animate:{width:`${S}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]},v.id)}),t.length===0&&g.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function NB(){const{saveStudySession:t,subjects:e}=mn(),{user:n}=ua(),{playSound:i,isMuted:a,toggleMute:l}=db(),[c,h]=N.useState("stopwatch"),[f,p]=N.useState(!1),[v,b]=N.useState(0),[w,S]=N.useState(0),[D,O]=N.useState(30),[V,z]=N.useState("timer"),[F,G]=N.useState("today"),[te,re]=N.useState(""),[he,j]=N.useState(""),[E,k]=N.useState(""),[M,R]=N.useState(!1),[P,I]=N.useState([]),[pe,ge]=N.useState(!0),H=N.useRef(null);N.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const Z=(le,Re)=>{Notification.permission==="granted"&&new Notification(le,{body:Re,icon:"/vite.svg"})};N.useEffect(()=>(f?H.current=window.setInterval(()=>{b(le=>c==="stopwatch"?le+1:le<=1?(p(!1),i("complete"),Z("Time's Up! ","Your study session is complete. Take a break!"),0):le-1)},1e3):H.current&&clearInterval(H.current),()=>{H.current&&clearInterval(H.current)}),[f,c,i]),N.useEffect(()=>{if(p(!1),R(!1),c==="stopwatch")b(0),S(0);else if(c==="pomodoro"||c==="countdown"){const le=D*60;b(le),S(le)}},[c,D]),N.useEffect(()=>{(async()=>{if(n){ge(!0);try{const Re=Ru(hi,"users");let Me="userProfile.todayStudyTime";F==="week"?Me="userProfile.weeklyStudyTime":F==="month"?Me="userProfile.monthlyStudyTime":F==="all_time"&&(Me="userProfile.totalStudyTime");const xt=Zv(Re,nb(Me,"desc"),ib(10)),kn=await AC(xt),Cn=[];kn.forEach(wi=>{const tn=wi.data();if(tn.userProfile){let vs=0;F==="today"?vs=tn.userProfile.todayStudyTime||0:F==="week"?vs=tn.userProfile.weeklyStudyTime||0:F==="month"?vs=tn.userProfile.monthlyStudyTime||0:vs=tn.userProfile.totalStudyTime||0,Cn.push({userId:wi.id,userName:tn.userProfile.name||"Anonymous",displayTime:vs})}}),I(Cn)}catch(Re){console.error("Error fetching leaderboard:",Re)}finally{ge(!1)}}})()},[n,V,F]),N.useEffect(()=>(f?document.title=`${U(v)} - ${E||(c==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[f,v,c,E]);const $=()=>{!f&&c!=="stopwatch"&&v===0&&b(w),p(!f),i("click")},me=()=>{p(!1),R(!1),b(c==="stopwatch"?0:w),i("click")},Te=async()=>{if(!he){alert("Please select a subject to save session.");return}let le=0;if(c==="stopwatch"?le=v:le=w-v,le<60){alert("Session must be at least 1 minute to save.");return}await t(le,he,E),R(!0),i("success")},U=le=>{const Re=Math.floor(le/3600),Me=Math.floor(le%3600/60),xt=le%60;return Re>0?`${Re}:${Me.toString().padStart(2,"0")}:${xt.toString().padStart(2,"0")}`:`${Me.toString().padStart(2,"0")}:${xt.toString().padStart(2,"0")}`},ee=le=>{const Re=Math.floor(le/3600),Me=Math.floor(le%3600/60),xt=le%60;return`${Re.toString().padStart(2,"0")}:${Me.toString().padStart(2,"0")}:${xt.toString().padStart(2,"0")}`},ce=c==="stopwatch"?100:Math.max(0,v/w*100),ue=120,Ae=2*Math.PI*ue,De=Ae-ce/100*Ae;return g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("header",{className:"flex items-center justify-between",children:[g.jsx("div",{children:g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),g.jsx("button",{onClick:l,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:a?g.jsx(oN,{className:"w-6 h-6"}):g.jsx(aN,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[g.jsx("button",{onClick:()=>z("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${V==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),g.jsx("button",{onClick:()=>z("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${V==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:`${V==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:E,onChange:le=>k(le.target.value),disabled:f}),g.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:he,onChange:le=>j(le.target.value),disabled:f,children:[g.jsx("option",{value:"",children:"Subject"}),e.map(le=>g.jsx("option",{value:le.id,children:le.name},le.id))]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[g.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"50%",cy:"50%",r:ue,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx("circle",{cx:"50%",cy:"50%",r:ue,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:Ae,strokeDashoffset:c==="stopwatch"?0:De,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${f?c==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[g.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${f?c==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:U(v)}),g.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:f?"Running":"Paused"})]})]}),g.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!f&&g.jsx("button",{onClick:me,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:g.jsx(rN,{className:"w-5 h-5"})}),g.jsx("button",{onClick:$,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${f?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:f?g.jsx(vz,{className:"w-8 h-8 fill-current"}):g.jsx(iN,{className:"w-8 h-8 ml-1 fill-current"})}),!f&&(c==="stopwatch"&&v>60||c!=="stopwatch"&&v!==w)&&!M&&g.jsx("button",{onClick:Te,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:g.jsx(Uf,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"mt-8 flex gap-2",children:[g.jsx("button",{onClick:()=>{h("stopwatch"),O(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${c==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),g.jsx("button",{onClick:()=>{h("pomodoro"),O(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${c==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),g.jsx("button",{onClick:()=>{h("countdown"),O(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${c==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!f&&(c==="pomodoro"||c==="countdown")&&g.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[g.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),g.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:D,onChange:le=>O(Number(le.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),g.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[D,"m"]})]})]})]}),g.jsxs("div",{className:`${V==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[g.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(ra,{className:"w-6 h-6 text-yellow-500"}),g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"Search name...",value:te,onChange:le=>re(le.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),g.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(le=>g.jsx("button",{onClick:()=>G(le),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${F===le?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:le==="all_time"?"Lifetime":le==="today"?"24 Hours":le==="week"?"7 Days":"1 Month"},le))})]}),pe?g.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),g.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):g.jsxs("div",{className:"space-y-3",children:[P.filter(le=>le.userName.toLowerCase().includes(te.toLowerCase())).map((le,Re)=>g.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${le.userId===n?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[Re+1,"."]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${Re===0?"bg-yellow-100 text-yellow-600 border-yellow-200":Re===1?"bg-slate-200 text-slate-600 border-slate-300":Re===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:le.userName.charAt(0).toUpperCase()}),g.jsxs("div",{children:[g.jsx("p",{className:`font-bold text-sm ${le.userId===n?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:le.userName}),g.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${le.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),g.jsx("span",{className:"text-xs text-slate-400 font-medium",children:le.displayTime>3600?"Studying":"Offline"})]})]})]})]}),g.jsx("div",{className:"text-right",children:g.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:ee(le.displayTime)})})]},le.userId)),P.length===0&&g.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[g.jsx("p",{className:"text-sm",children:"No records found for this period."}),g.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),g.jsx(Ln,{children:M&&g.jsxs(Se.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[g.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:g.jsx(Ll,{className:"w-4 h-4 text-white"})}),g.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const RB={start_strong:"",streak_master:"",subject_conqueror:"",night_owl:""},IB={start_strong:"Fast Starter",streak_master:"Streak Master",subject_conqueror:"Subject Conqueror",night_owl:"Night Owl"};function DB({uid:t,isOpen:e,onClose:n}){const[i,a]=N.useState(null),[l,c]=N.useState(!1);return N.useEffect(()=>{e&&t?(async()=>{c(!0);try{const f=Sl(hi,"users",t),p=await qU(f);p.exists()?a(p.data().userProfile):a(null)}catch(f){console.error("Error fetching user profile:",f)}finally{c(!1)}})():a(null)},[e,t]),g.jsx(Ln,{children:e&&g.jsx(g.Fragment,{children:g.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs(Se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:h=>h.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"relative h-24 bg-gradient-to-r from-indigo-500 to-purple-600",children:[g.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-1 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors",children:g.jsx(Us,{className:"w-5 h-5"})}),g.jsx("div",{className:"absolute -bottom-10 left-6",children:g.jsx("div",{className:"w-20 h-20 rounded-full bg-white dark:bg-slate-800 p-1 shadow-lg",children:g.jsx("div",{className:"w-full h-full rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-2xl font-bold text-indigo-600 dark:text-indigo-300",children:i?.name?.charAt(0).toUpperCase()||"?"})})})]}),g.jsx("div",{className:"pt-12 pb-6 px-6",children:l?g.jsx("div",{className:"flex justify-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):i?g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{children:g.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[i.name,g.jsx("span",{className:"text-xs font-normal px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:i.grade})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded-xl border border-orange-100 dark:border-orange-800/50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 mb-1",children:[g.jsx(eN,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase",children:"Streak"})]}),g.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[i.currentStreak," Days"]})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-xl border border-blue-100 dark:border-blue-800/50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 mb-1",children:[g.jsx($7,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase",children:"Total Study"})]}),g.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[Math.floor(i.totalStudyTime/3600),"h ",Math.floor(i.totalStudyTime%3600/60),"m"]})]})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase mb-3 flex items-center gap-2",children:[g.jsx(ra,{className:"w-4 h-4"}),"Badges Earned (",i.earnedBadges?.length||0,")"]}),i.earnedBadges&&i.earnedBadges.length>0?g.jsx("div",{className:"grid grid-cols-4 gap-2",children:i.earnedBadges.map((h,f)=>g.jsx("div",{className:"flex flex-col items-center gap-1 p-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",title:IB[h.type],children:g.jsx("span",{className:"text-2xl",children:RB[h.type]})},f))}):g.jsx("p",{className:"text-sm text-slate-400 italic",children:"No badges earned yet."})]})]}):g.jsx("div",{className:"text-center text-slate-500",children:"User profile not found."})})]})})})})}const jB=t=>t?t.split(/(`[^`]+`|\*\*[^*]+\*\*|\*[^*]+\*|https?:\/\/[^\s]+)/g).map((n,i)=>n.startsWith("`")&&n.endsWith("`")&&n.length>2?g.jsx("code",{className:"bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded text-sm font-mono text-slate-800 dark:text-slate-200",children:n.slice(1,-1)},i):n.startsWith("**")&&n.endsWith("**")&&n.length>4?g.jsx("strong",{className:"font-bold",children:n.slice(2,-2)},i):n.startsWith("*")&&n.endsWith("*")&&n.length>2?g.jsx("em",{className:"italic",children:n.slice(1,-1)},i):n.match(/^https?:\/\//)?g.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline break-all",onClick:a=>a.stopPropagation(),children:n},i):n):[];function dN(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=dN(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function MB(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=dN(t))&&(i&&(i+=" "),i+=e);return i}const VB=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},OB=(t,e)=>({classGroupId:t,validator:e}),fN=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),zf="-",ZE=[],PB="arbitrary..",LB=t=>{const e=zB(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return UB(c);const h=c.split(zf),f=h[0]===""&&h.length>1?1:0;return mN(h,f,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const f=i[c],p=n[c];return f?p?VB(p,f):f:p||ZE}return n[c]||ZE}}},mN=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=mN(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const h=e===0?t.join(zf):t.slice(e).join(zf),f=c.length;for(let p=0;p<f;p++){const v=c[p];if(v.validator(h))return v.classGroupId}},UB=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?PB+i:void 0})(),zB=t=>{const{theme:e,classGroups:n}=t;return BB(n,e)},BB=(t,e)=>{const n=fN();for(const i in t){const a=t[i];fb(a,n,i,e)}return n},fb=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];FB(c,e,n,i)}},FB=(t,e,n,i)=>{if(typeof t=="string"){HB(t,e,n);return}if(typeof t=="function"){qB(t,e,n,i);return}GB(t,e,n,i)},HB=(t,e,n)=>{const i=t===""?e:pN(e,t);i.classGroupId=n},qB=(t,e,n,i)=>{if($B(t)){fb(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(OB(n,t))},GB=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,f]=a[c];fb(f,pN(e,h),n,i)}},pN=(t,e)=>{let n=t;const i=e.split(zf),a=i.length;for(let l=0;l<a;l++){const c=i[l];let h=n.nextPart.get(c);h||(h=fN(),n.nextPart.set(c,h)),n=h}return n},$B=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,KB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},my="!",eS=":",YB=[],tS=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),QB=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,h=0,f=0,p;const v=a.length;for(let O=0;O<v;O++){const V=a[O];if(c===0&&h===0){if(V===eS){l.push(a.slice(f,O)),f=O+1;continue}if(V==="/"){p=O;continue}}V==="["?c++:V==="]"?c--:V==="("?h++:V===")"&&h--}const b=l.length===0?a:a.slice(f);let w=b,S=!1;b.endsWith(my)?(w=b.slice(0,-1),S=!0):b.startsWith(my)&&(w=b.slice(1),S=!0);const D=p&&p>f?p-f:void 0;return tS(l,S,w,D)};if(e){const a=e+eS,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):tS(YB,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},XB=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",f=e.has(c);h||f?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},WB=t=>({cache:KB(t.cacheSize),parseClassName:QB(t),sortModifiers:XB(t),...LB(t)}),JB=/\s+/,ZB=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(JB);let f="";for(let p=h.length-1;p>=0;p-=1){const v=h[p],{isExternal:b,modifiers:w,hasImportantModifier:S,baseClassName:D,maybePostfixModifierPosition:O}=n(v);if(b){f=v+(f.length>0?" "+f:f);continue}let V=!!O,z=i(V?D.substring(0,O):D);if(!z){if(!V){f=v+(f.length>0?" "+f:f);continue}if(z=i(D),!z){f=v+(f.length>0?" "+f:f);continue}V=!1}const F=w.length===0?"":w.length===1?w[0]:l(w).join(":"),G=S?F+my:F,te=G+z;if(c.indexOf(te)>-1)continue;c.push(te);const re=a(z,V);for(let he=0;he<re.length;++he){const j=re[he];c.push(G+j)}f=v+(f.length>0?" "+f:f)}return f},eF=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=gN(n))&&(a&&(a+=" "),a+=i);return a},gN=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=gN(t[i]))&&(n&&(n+=" "),n+=e);return n},tF=(t,...e)=>{let n,i,a,l;const c=f=>{const p=e.reduce((v,b)=>b(v),t());return n=WB(p),i=n.cache.get,a=n.cache.set,l=h,h(f)},h=f=>{const p=i(f);if(p)return p;const v=ZB(f,n);return a(f,v),v};return l=c,(...f)=>l(eF(...f))},nF=[],Yt=t=>{const e=n=>n[t]||nF;return e.isThemeGetter=!0,e},yN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,sF=/^\d+\/\d+$/,iF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zo=t=>sF.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Lr=t=>!!t&&Number.isInteger(Number(t)),d0=t=>t.endsWith("%")&&Be(t.slice(0,-1)),Fi=t=>iF.test(t),cF=()=>!0,uF=t=>rF.test(t)&&!aF.test(t),bN=()=>!1,hF=t=>oF.test(t),dF=t=>lF.test(t),fF=t=>!be(t)&&!xe(t),mF=t=>Ul(t,wN,bN),be=t=>yN.test(t),Fa=t=>Ul(t,TN,uF),f0=t=>Ul(t,bF,Be),nS=t=>Ul(t,xN,bN),pF=t=>Ul(t,_N,dF),Bd=t=>Ul(t,EN,hF),xe=t=>vN.test(t),Xc=t=>zl(t,TN),gF=t=>zl(t,xF),sS=t=>zl(t,xN),yF=t=>zl(t,wN),vF=t=>zl(t,_N),Fd=t=>zl(t,EN,!0),Ul=(t,e,n)=>{const i=yN.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},zl=(t,e,n=!1)=>{const i=vN.exec(t);return i?i[1]?e(i[1]):n:!1},xN=t=>t==="position"||t==="percentage",_N=t=>t==="image"||t==="url",wN=t=>t==="length"||t==="size"||t==="bg-size",TN=t=>t==="length",bF=t=>t==="number",xF=t=>t==="family-name",EN=t=>t==="shadow",_F=()=>{const t=Yt("color"),e=Yt("font"),n=Yt("text"),i=Yt("font-weight"),a=Yt("tracking"),l=Yt("leading"),c=Yt("breakpoint"),h=Yt("container"),f=Yt("spacing"),p=Yt("radius"),v=Yt("shadow"),b=Yt("inset-shadow"),w=Yt("text-shadow"),S=Yt("drop-shadow"),D=Yt("blur"),O=Yt("perspective"),V=Yt("aspect"),z=Yt("ease"),F=Yt("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...te(),xe,be],he=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],E=()=>[xe,be,f],k=()=>[Zo,"full","auto",...E()],M=()=>[Lr,"none","subgrid",xe,be],R=()=>["auto",{span:["full",Lr,xe,be]},Lr,xe,be],P=()=>[Lr,"auto",xe,be],I=()=>["auto","min","max","fr",xe,be],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ge=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...E()],Z=()=>[Zo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],$=()=>[t,xe,be],me=()=>[...te(),sS,nS,{position:[xe,be]}],Te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",yF,mF,{size:[xe,be]}],ee=()=>[d0,Xc,Fa],ce=()=>["","none","full",p,xe,be],ue=()=>["",Be,Xc,Fa],Ae=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[Be,d0,sS,nS],Re=()=>["","none",D,xe,be],Me=()=>["none",Be,xe,be],xt=()=>["none",Be,xe,be],kn=()=>[Be,xe,be],Cn=()=>[Zo,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fi],breakpoint:[Fi],color:[cF],container:[Fi],"drop-shadow":[Fi],ease:["in","out","in-out"],font:[fF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fi],shadow:[Fi],spacing:["px",Be],text:[Fi],"text-shadow":[Fi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zo,be,xe,V]}],container:["container"],columns:[{columns:[Be,be,xe,h]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Lr,"auto",xe,be]}],basis:[{basis:[Zo,"full","auto",h,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Zo,"auto","initial","none",be]}],grow:[{grow:["",Be,xe,be]}],shrink:[{shrink:["",Be,xe,be]}],order:[{order:[Lr,"first","last","none",xe,be]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...ge()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...ge(),"baseline"]}],"place-self":[{"place-self":["auto",...ge()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[h,"screen",...Z()]}],"min-w":[{"min-w":[h,"screen","none",...Z()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,Xc,Fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,xe,f0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",d0,be]}],"font-family":[{font:[gF,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,xe,be]}],"line-clamp":[{"line-clamp":[Be,"none",xe,f0]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",xe,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",xe,Fa]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Be,"auto",xe,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:Te()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Lr,xe,be],radial:["",xe,be],conic:[Lr,xe,be]},vF,pF]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,xe,be]}],"outline-w":[{outline:["",Be,Xc,Fa]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",v,Fd,Bd]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",b,Fd,Bd]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Be,Fa]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",w,Fd,Bd]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Be,xe,be]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[xe,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":te()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:Te()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,be]}],filter:[{filter:["","none",xe,be]}],blur:[{blur:Re()}],brightness:[{brightness:[Be,xe,be]}],contrast:[{contrast:[Be,xe,be]}],"drop-shadow":[{"drop-shadow":["","none",S,Fd,Bd]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Be,xe,be]}],"hue-rotate":[{"hue-rotate":[Be,xe,be]}],invert:[{invert:["",Be,xe,be]}],saturate:[{saturate:[Be,xe,be]}],sepia:[{sepia:["",Be,xe,be]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,be]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[Be,xe,be]}],"backdrop-contrast":[{"backdrop-contrast":[Be,xe,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,xe,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,xe,be]}],"backdrop-invert":[{"backdrop-invert":["",Be,xe,be]}],"backdrop-opacity":[{"backdrop-opacity":[Be,xe,be]}],"backdrop-saturate":[{"backdrop-saturate":[Be,xe,be]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,xe,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",xe,be]}],ease:[{ease:["linear","initial",z,xe,be]}],delay:[{delay:[Be,xe,be]}],animate:[{animate:["none",F,xe,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,xe,be]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:Me()}],"rotate-x":[{"rotate-x":Me()}],"rotate-y":[{"rotate-y":Me()}],"rotate-z":[{"rotate-z":Me()}],scale:[{scale:xt()}],"scale-x":[{"scale-x":xt()}],"scale-y":[{"scale-y":xt()}],"scale-z":[{"scale-z":xt()}],"scale-3d":["scale-3d"],skew:[{skew:kn()}],"skew-x":[{"skew-x":kn()}],"skew-y":[{"skew-y":kn()}],transform:[{transform:[xe,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Cn()}],"translate-x":[{"translate-x":Cn()}],"translate-y":[{"translate-y":Cn()}],"translate-z":[{"translate-z":Cn()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,be]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Be,Xc,Fa,f0]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wF=tF(_F),m0=[{id:"general",name:"General",description:"General discussion",icon:rl},{id:"science",name:"HSC Science",description:"Physics, Chemistry, Biology",icon:rl},{id:"math",name:"Math Problems",description:"Higher Math & General Math",icon:rl},{id:"english",name:"English & Bangla",description:"Language and Literature",icon:rl},{id:"off-topic",name:"Off Topic",description:"Chill zone",icon:rl}],TF=[{emoji:"",icon:l0},{emoji:"",icon:Gz},{emoji:"",icon:rz},{emoji:"",icon:X7},{emoji:"",icon:l0},{emoji:"",icon:l0}];function oi(...t){return wF(MB(t))}function EF(){const{user:t}=ua(),[e,n]=N.useState([]),[i,a]=N.useState(""),[l,c]=N.useState(null),h=N.useRef(null),[f,p]=N.useState(!1),[v,b]=N.useState(null),[w,S]=N.useState(null),[D,O]=N.useState("general"),[V,z]=N.useState(!1),[F,G]=N.useState(null),[te,re]=N.useState(null),he=N.useRef(null);N.useEffect(()=>{n([]);const H=Zv(Ru(hi,"messages"),FU("channelId","==",D),nb("createdAt","asc"),ib(100)),Z=CC(H,$=>{const me=[];$.forEach(Te=>{me.push({id:Te.id,...Te.data()})}),n(me)});return()=>Z()},[D]),N.useEffect(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[e.length,D,te]);const j=H=>{if(H.target.files&&H.target.files[0]){const Z=H.target.files[0];G(Z);const $=new FileReader;$.onloadend=()=>{re($.result)},$.readAsDataURL(Z)}},E=()=>{G(null),re(null),he.current&&(he.current.value="")},k=async H=>{H.preventDefault();const Z=i.trim();if(!(!Z&&!F||!t||f)){p(!0);try{let $="";if(F){const Te=n7(c7,`chat_images/${Date.now()}_${F.name}`),U=await e7(Te,F);$=await t7(U.ref)}const me={text:Z,uid:t.uid,displayName:t.displayName||"Anonymous",createdAt:zU(),channelId:D,...$&&{imageUrl:$},...l&&{replyTo:{id:l.id,displayName:l.displayName,text:l.text}}};await kC(Ru(hi,"messages"),me),a(""),c(null),E()}catch($){console.error("Error sending message:",$),alert("Failed to send message. Please try again.")}finally{p(!1)}}},M=async(H,Z)=>{if(!t)return;b(null);const $=Sl(hi,"messages",H),me=e.find(ce=>ce.id===H);if(!me)return;const Te=me.reactions||{},U=Te[t.uid]===Z,ee={...Te};U?delete ee[t.uid]:ee[t.uid]=Z;try{await GU($,{reactions:ee})}catch(ce){console.error("Failed to update reaction",ce)}},R=async H=>{if(confirm("Delete this message?"))try{await $U(Sl(hi,"messages",H))}catch(Z){console.error("Error deleting message:",Z),alert("Failed to delete message.")}},P=H=>H?H.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...",I=H=>{if(!H)return"";const Z=H.toDate(),$=new Date,me=new Date;return me.setDate(me.getDate()-1),Z.toDateString()===$.toDateString()?"Today":Z.toDateString()===me.toDateString()?"Yesterday":Z.toLocaleDateString()},pe=e.reduce((H,Z)=>{const $=I(Z.createdAt),me=H[H.length-1];return me&&me.date===$?me.msgs.push(Z):H.push({date:$,msgs:[Z]}),H},[]),ge=m0.find(H=>H.id===D)||m0[0];return g.jsxs(_m,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col md:flex-row overflow-hidden",children:[g.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(yl,{className:"w-6 h-6 text-indigo-500"}),g.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:ge.name})]}),g.jsx("button",{onClick:()=>z(!0),className:"p-2 -mr-2 text-slate-600 dark:text-slate-300",children:g.jsx(dz,{className:"w-6 h-6"})})]}),g.jsx(Ln,{children:(V||window.innerWidth>=768)&&g.jsxs(g.Fragment,{children:[g.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>z(!1),className:"md:hidden fixed inset-0 bg-black/50 z-40"}),g.jsxs(Se.div,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:25,stiffness:200},className:oi("fixed md:static inset-y-0 left-0 z-50 w-72 bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 flex flex-col","md:transform-none"),children:[g.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[g.jsxs("h2",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(yl,{className:"w-6 h-6 text-indigo-500"}),"Community"]}),g.jsx("button",{onClick:()=>z(!1),className:"md:hidden p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800",children:g.jsx(ZC,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[g.jsx("h3",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-2",children:"Text Channels"}),m0.map(H=>g.jsxs("button",{onClick:()=>{O(H.id),z(!1)},className:oi("w-full text-left px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",D===H.id?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"),children:[g.jsx(H.icon,{className:"w-4 h-4 opacity-70"}),g.jsx("span",{children:H.name})]},H.id))]}),g.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-indigo-600 dark:text-indigo-300 font-bold",children:t?.displayName?.[0]?.toUpperCase()||"U"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-white truncate",children:t?.displayName||"User"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:"Online"})]})]})})]})]})}),g.jsxs("div",{className:"flex-1 flex flex-col bg-white dark:bg-slate-800 h-full relative",children:[g.jsxs("div",{className:"hidden md:flex items-center gap-2 p-4 border-b border-slate-100 dark:border-slate-700 shadow-sm z-10",children:[g.jsx(rl,{className:"w-5 h-5 text-slate-400"}),g.jsx("h2",{className:"font-bold text-slate-800 dark:text-white",children:ge.name}),g.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-sm border-l pl-2 ml-2 border-slate-300 dark:border-slate-600",children:ge.description})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:[e.length===0&&g.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-50",children:[g.jsx(yl,{className:"w-16 h-16 mb-4 text-slate-300"}),g.jsxs("p",{className:"text-slate-500 text-center",children:["No messages yet in #",ge.name,".",g.jsx("br",{}),"Be the first to say hello!"]})]}),pe.map((H,Z)=>g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"h-px flex-1 bg-slate-200 dark:bg-slate-700"}),g.jsx("span",{className:"text-xs font-medium text-slate-400 dark:text-slate-500",children:H.date}),g.jsx("div",{className:"h-px flex-1 bg-slate-200 dark:bg-slate-700"})]}),H.msgs.map(($,me)=>{const Te=$.uid===t?.uid,U=me===0||H.msgs[me-1].uid!==$.uid,ee=$.reactions&&Object.keys($.reactions).length>0,ce={};return Object.values($.reactions||{}).forEach(ue=>{ce[ue]=(ce[ue]||0)+1}),g.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:oi("group flex gap-4",Te?"flex-row-reverse":"flex-row"),onMouseLeave:()=>b(null),children:[g.jsx("div",{className:"flex-shrink-0 w-10",children:U?g.jsx("button",{onClick:()=>S($.uid),className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-sm font-bold text-slate-600 dark:text-slate-300 overflow-hidden shadow-sm transition-transform hover:scale-105",children:$.displayName?.[0]?.toUpperCase()||"?"}):g.jsx("div",{className:"w-10"})}),g.jsxs("div",{className:oi("flex flex-col max-w-[80%] md:max-w-[70%]",Te?"items-end":"items-start"),children:[U&&g.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[g.jsx("span",{className:oi("text-sm font-bold cursor-pointer hover:underline",Te?"text-indigo-600 dark:text-indigo-400":"text-slate-700 dark:text-slate-300"),onClick:()=>S($.uid),children:$.displayName}),g.jsx("span",{className:"text-[10px] text-slate-400",children:P($.createdAt)})]}),$.replyTo&&g.jsxs("div",{className:"mb-1 text-xs px-2 py-1 -ml-2 rounded-r bg-slate-100 dark:bg-slate-800 border-l-2 border-indigo-400 opacity-80 cursor-pointer",onClick:()=>{},children:[g.jsx("span",{className:"font-bold mr-1",children:$.replyTo.displayName}),g.jsx("span",{className:"italic truncate",children:$.replyTo.text})]}),g.jsxs("div",{className:"relative group/bubble",children:[g.jsxs("div",{className:oi("px-4 py-2 text-sm shadow-sm relative whitespace-pre-wrap leading-relaxed break-words min-w-[60px]",Te?"bg-indigo-600 text-white rounded-2xl rounded-tr-md":"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-2xl rounded-tl-md",!U&&(Te?"rounded-tr-2xl":"rounded-tl-2xl"),$.imageUrl?"p-2":""),children:[$.imageUrl&&g.jsx("div",{className:"mb-2 rounded-lg overflow-hidden max-w-full",children:g.jsx("img",{src:$.imageUrl,alt:"Shared",className:"w-full h-auto max-h-64 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>window.open($.imageUrl,"_blank")})}),$.text&&jB($.text),ee&&g.jsx("div",{className:oi("absolute -bottom-3 flex gap-1 bg-white dark:bg-slate-800 rounded-full px-1.5 py-0.5 shadow-sm border border-slate-100 dark:border-slate-600 text-[10px]",Te?"right-0":"left-0"),children:Object.entries(ce).map(([ue,Ae])=>g.jsxs("span",{className:"flex items-center",children:[ue," ",Ae>1&&g.jsx("span",{className:"ml-0.5 font-bold text-slate-500",children:Ae})]},ue))})]}),g.jsxs("div",{className:oi("absolute -top-6 hidden group-hover/bubble:flex items-center bg-white dark:bg-slate-800 shadow-md rounded-lg p-0.5 border border-slate-100 dark:border-slate-700 z-20",Te?"right-0":"left-0"),children:[g.jsx("button",{onClick:()=>b($.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-500",children:g.jsx(Uz,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>c($),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-500",children:g.jsx(Rz,{className:"w-4 h-4"})}),Te&&g.jsx("button",{onClick:()=>R($.id),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded text-red-500",children:g.jsx(Qu,{className:"w-4 h-4"})})]}),g.jsx(Ln,{children:v===$.id&&g.jsx(Se.div,{initial:{opacity:0,scale:.9,y:5},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9},className:oi("absolute -top-12 z-50 flex gap-1 bg-white dark:bg-slate-800 rounded-full shadow-xl border border-slate-200 dark:border-slate-600 p-1",Te?"right-0":"left-0"),children:TF.map(ue=>g.jsx("button",{onClick:()=>M($.id,ue.emoji),className:oi("p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-lg transition-transform hover:scale-125",$.reactions?.[t?.uid||""]===ue.emoji&&"bg-indigo-100 dark:bg-indigo-900"),children:ue.emoji},ue.emoji))})})]})]})]},$.id)})]},Z)),g.jsx("div",{ref:h,className:"h-2"})]}),g.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800/90 border-t border-slate-200 dark:border-slate-700 backdrop-blur-sm z-20",children:[g.jsxs(Ln,{children:[te&&g.jsxs(Se.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},className:"relative mb-3 w-fit",children:[g.jsx("img",{src:te,alt:"Preview",className:"h-24 rounded-lg border border-slate-200 dark:border-slate-600 shadow-sm"}),g.jsx("button",{onClick:E,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-md hover:bg-red-600 transition-colors",children:g.jsx(Us,{className:"w-3 h-3"})})]}),l&&g.jsxs(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900 p-2 rounded-lg mb-2 text-sm border-l-4 border-indigo-500",children:[g.jsxs("span",{className:"truncate text-slate-500 dark:text-slate-400",children:["Replying to ",g.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l.displayName}),": ",l.text]}),g.jsx("button",{onClick:()=>c(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full",children:g.jsx(Us,{className:"w-4 h-4"})})]})]}),g.jsxs("form",{onSubmit:k,className:"flex gap-2 items-center",children:[g.jsx("input",{type:"file",accept:"image/*",ref:he,onChange:j,className:"hidden"}),g.jsx("button",{type:"button",onClick:()=>he.current?.click(),className:"p-3 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-700 rounded-xl transition-colors",title:"Upload Image",children:g.jsx(sz,{className:"w-5 h-5"})}),g.jsx("input",{type:"text",value:i,onChange:H=>a(H.target.value),placeholder:te?"Add a caption...":`Message #${ge.name}`,className:"flex-1 px-4 py-3 bg-slate-100 dark:bg-slate-900 border-none rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white dark:focus:bg-black transition-all"}),g.jsx("button",{type:"submit",disabled:!i.trim()&&!F||f,className:"p-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-lg shadow-indigo-500/30 transition-all disabled:opacity-50 disabled:shadow-none flex items-center justify-center min-w-[3rem]",children:f?g.jsx(lz,{className:"w-5 h-5 animate-spin"}):g.jsx(Mz,{className:"w-5 h-5"})})]})]})]}),g.jsx(DB,{uid:w||"",isOpen:!!w,onClose:()=>S(null)})]})}function SF({steps:t,onComplete:e,onSkip:n}){const[i,a]=N.useState(0),[l,c]=N.useState(null),h=t[i];N.useEffect(()=>{if(h.targetId){const v=document.getElementById(h.targetId);v?(c(v.getBoundingClientRect()),v.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[i,h,t]);const f=()=>{i<t.length-1?a(v=>v+1):e()},p=()=>{i>0&&a(v=>v-1)};return g.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&g.jsx(Se.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),g.jsx(Ln,{mode:"wait",children:g.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&h.position!=="center"?{top:h.position==="bottom"?l.bottom+20:h.position==="top"?l.top-200:void 0,left:h.position==="right"?l.right+20:h.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(h.position==="bottom",0)}:{},children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),g.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:g.jsx(Us,{className:"w-4 h-4"})})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:h.title}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:h.description}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("button",{onClick:p,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[g.jsx(ZC,{className:"w-4 h-4"})," Back"]}),g.jsxs("button",{onClick:f,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&g.jsx(z7,{className:"w-4 h-4"})]})]})]},i)})]})}const iS="/Study-Mate/assets/logo-C0C7fgvJ.png";function AF({deferredPrompt:t,onInstall:e}){const[n,i]=N.useState(!1);N.useEffect(()=>{if(t){const l=setTimeout(()=>i(!0),3e3);return()=>clearTimeout(l)}else i(!1)},[t]);const a=()=>{i(!1)};return!n||!t?null:g.jsx(Ln,{children:g.jsx(Se.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 md:bottom-6 left-1/2 transform -translate-x-1/2 z-50 w-[90%] md:w-auto",children:g.jsxs("div",{className:"bg-slate-900/90 dark:bg-white/90 backdrop-blur-md text-white dark:text-slate-900 px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 border border-white/10 dark:border-slate-200/20",children:[g.jsx("div",{className:"bg-indigo-500 rounded-xl p-2",children:g.jsx(bm,{className:"w-5 h-5 text-white"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-bold text-sm",children:"Install App"}),g.jsx("p",{className:"text-xs text-slate-300 dark:text-slate-600",children:"Add to home screen for better experience"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 dark:hover:bg-slate-200/50 rounded-lg transition-colors",children:g.jsx(Us,{className:"w-4 h-4"})}),g.jsx("button",{onClick:e,className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-4 py-2 rounded-lg text-sm font-bold shadow-lg active:scale-95 transition-transform",children:"Install"})]})]})})})}function kF(){const{userProfile:t}=mn();N.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const e=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.lastStudyDate?new Date(t.lastStudyDate):null;if(!a)return;const l=new Date,c=Math.abs(l.getTime()-a.getTime()),h=Math.ceil(c/(1e3*60*60*24));if(h>=3){const f=localStorage.getItem("tracked_last_reminder"),p=f?new Date(f):null;(p?(l.getTime()-p.getTime())/(1e3*60*60):999)>24&&(new Notification("Miss you! ",{body:`It's been ${h} days since your last study session. Keep your streak alive!`,icon:"/pwa-icon.svg",tag:"inactivity-reminder"}),localStorage.setItem("tracked_last_reminder",l.toISOString()))}},n=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.dailyGoal||7200,l=t.todayStudyTime||0,c=a-l;if(c>0&&c<=1800){const h=localStorage.getItem("tracked_goal_reminder"),f=new Date().toISOString().split("T")[0];h!==f&&(new Notification("Almost there! ",{body:"You're less than 30 minutes away from your daily goal. Finish strong!",icon:"/pwa-icon.svg",tag:"goal-reminder"}),localStorage.setItem("tracked_goal_reminder",f))}},i=setTimeout(()=>{e(),n()},5e3);return()=>clearTimeout(i)},[t.lastStudyDate,t.todayStudyTime,t.dailyGoal])}const CF=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function NF(){const{logout:t}=ua(),{theme:e,toggleTheme:n}=hN(),i=nr(),a=QI();kF();const[l,c]=N.useState(!1),[h,f]=N.useState(null);N.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true");const w=S=>{S.preventDefault(),f(S)};return window.addEventListener("beforeinstallprompt",w),()=>window.removeEventListener("beforeinstallprompt",w)},[]);const p=()=>{c(!1),localStorage.setItem("tracked_tour_completed","true")},v=async()=>{if(!h)return;h.prompt();const{outcome:w}=await h.userChoice;w==="accepted"&&f(null)},b=w=>i.pathname===w;return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[l&&g.jsx(SF,{steps:CF,onComplete:p,onSkip:p}),g.jsxs("header",{className:"glass sticky top-0 z-20 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("img",{src:iS,alt:"TrackEd Logo",className:"w-9 h-9 rounded-xl object-contain shadow-sm"}),g.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"TrackEd"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm","aria-label":"Toggle Theme",children:e==="light"?g.jsx(Lf,{className:"w-5 h-5"}):g.jsx(dy,{className:"w-5 h-5"})}),g.jsx(cn,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm",children:g.jsx(u0,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"md:flex max-w-7xl mx-auto",children:[g.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-[calc(100vh-2rem)] sticky top-4 m-4 rounded-3xl glass shadow-2xl shadow-slate-200/60 dark:shadow-slate-900/50 p-6 transition-all duration-300 z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-10 pl-2",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:iS,alt:"TrackEd Logo",className:"w-10 h-10 rounded-xl object-contain shadow-md"}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"TrackEd"})]}),g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-700/50 rounded-xl transition-colors","aria-label":"Toggle Theme",children:e==="light"?g.jsx(Lf,{className:"w-5 h-5"}):g.jsx(dy,{className:"w-5 h-5"})})]}),g.jsxs("nav",{className:"space-y-1.5 flex-1",children:[g.jsxs(cn,{to:"/",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${b("/")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(YE,{className:"w-5 h-5"}),"Dashboard"]}),g.jsxs(cn,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${b("/analytics")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(fy,{className:"w-5 h-5"}),"Analytics"]}),g.jsxs(cn,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${i.pathname==="/timer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(XE,{className:"w-5 h-5"}),"Timer"]}),g.jsxs(cn,{to:"/chat",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${b("/chat")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(yl,{className:"w-5 h-5"}),"Community"]}),g.jsxs(cn,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${b("/settings")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(u0,{className:"w-5 h-5"}),"Settings"]})]}),g.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200/50 dark:border-slate-700/50",children:[g.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left mb-4 group",children:[g.jsx(nN,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),"Sign Out"]}),g.jsxs("div",{className:"text-xs text-center text-slate-400 dark:text-slate-500 font-medium",children:[g.jsx("p",{children:"Empowering Students"}),g.jsx("p",{className:"mt-1 opacity-70",children:" 2026 TrackEd"})]})]})]}),g.jsx("main",{className:"flex-1 p-4 md:p-8",children:g.jsx(Ln,{mode:"wait",children:a&&N.cloneElement(a,{key:i.pathname})})})]}),g.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[g.jsxs(cn,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${b("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(YE,{className:"w-6 h-6"}),g.jsx("span",{children:"Home"})]}),g.jsxs(cn,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${b("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(fy,{className:"w-6 h-6"}),g.jsx("span",{children:"Stats"})]}),g.jsxs(cn,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${b("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(XE,{className:"w-6 h-6"}),g.jsx("span",{children:"Timer"})]}),g.jsxs(cn,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${b("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(yl,{className:"w-6 h-6"}),g.jsx("span",{children:"Comm.."})]}),h&&g.jsxs("button",{onClick:v,className:"flex flex-col items-center gap-1 text-xs text-slate-400 dark:text-slate-500 hover:text-indigo-600 dark:hover:text-indigo-400",children:[g.jsx(bm,{className:"w-6 h-6"}),g.jsx("span",{children:"Install"})]}),g.jsxs(cn,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${b("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(u0,{className:"w-6 h-6"}),g.jsx("span",{children:"Settings"})]})]}),g.jsx(AF,{deferredPrompt:h,onInstall:v})]})}function RF(){const{signInWithGoogle:t,user:e}=ua(),n=Ff();return gy.useEffect(()=>{e&&n("/")},[e,n]),g.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),g.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[g.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[g.jsx("div",{className:"flex justify-center mb-8",children:g.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:g.jsx(tN,{className:"w-10 h-10 text-white"})})}),g.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",g.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),g.jsxs(Se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[g.jsx("div",{className:"bg-white p-1 rounded-full",children:g.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),g.jsx("span",{children:"Sign in with Google"}),g.jsx(hb,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),g.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),g.jsx("div",{className:"mt-8 text-center",children:g.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}function IF({children:t}){const{user:e,loading:n}=ua();return n?g.jsx("div",{children:"Loading..."}):e?g.jsx(g.Fragment,{children:t}):g.jsx(uD,{to:"/login"})}function DF(){return g.jsx(OD,{basename:"/Study-Mate/",children:g.jsxs(dD,{children:[g.jsx(Hi,{path:"/login",element:g.jsx(RF,{})}),g.jsxs(Hi,{path:"/",element:g.jsx(IF,{children:g.jsx(NF,{})}),children:[g.jsx(Hi,{index:!0,element:g.jsx(dB,{})}),g.jsx(Hi,{path:"subject/:id",element:g.jsx(xB,{})}),g.jsx(Hi,{path:"analytics",element:g.jsx(CB,{})}),g.jsx(Hi,{path:"timer",element:g.jsx(NB,{})}),g.jsx(Hi,{path:"chat",element:g.jsx(EF,{})}),g.jsx(Hi,{path:"settings",element:g.jsx(EB,{})})]})]})})}class jF extends N.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:g.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),g.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),g.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),g.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");hI.createRoot(document.getElementById("root")).render(g.jsx(gy.StrictMode,{children:g.jsx(jF,{children:g.jsx(u7,{children:g.jsx(h7,{children:g.jsx(_B,{children:g.jsx(pB,{children:g.jsx(DF,{})})})})})})}));
