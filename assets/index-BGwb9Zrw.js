(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function XE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x0={exports:{}},Bc={};var Ew;function OR(){if(Ew)return Bc;Ew=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Bc.Fragment=e,Bc.jsx=n,Bc.jsxs=n,Bc}var Sw;function LR(){return Sw||(Sw=1,x0.exports=OR()),x0.exports}var d=LR(),b0={exports:{}},Me={};var kw;function UR(){if(kw)return Me;kw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function E(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,M={};function O(P,J,ue){this.props=P,this.context=J,this.refs=M,this.updater=ue||I}O.prototype.isReactComponent={},O.prototype.setState=function(P,J){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,J,"setState")},O.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function H(){}H.prototype=O.prototype;function K(P,J,ue){this.props=P,this.context=J,this.refs=M,this.updater=ue||I}var G=K.prototype=new H;G.constructor=K,D(G,O.prototype),G.isPureReactComponent=!0;var ne=Array.isArray;function de(){}var j={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(P,J,ue){var he=ue.ref;return{$$typeof:t,type:P,key:J,ref:he!==void 0?he:null,props:ue}}function z(P,J){return R(P.type,J,P.props)}function U(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function $(P){var J={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return J[ue]})}var V=/\/+/g;function ze(P,J){return typeof P=="object"&&P!==null&&P.key!=null?$(""+P.key):J.toString(36)}function He(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(de,de):(P.status="pending",P.then(function(J){P.status==="pending"&&(P.status="fulfilled",P.value=J)},function(J){P.status==="pending"&&(P.status="rejected",P.reason=J)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function C(P,J,ue,he,pe){var ke=typeof P;(ke==="undefined"||ke==="boolean")&&(P=null);var Ee=!1;if(P===null)Ee=!0;else switch(ke){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(P.$$typeof){case t:case e:Ee=!0;break;case x:return Ee=P._init,C(Ee(P._payload),J,ue,he,pe)}}if(Ee)return pe=pe(P),Ee=he===""?"."+ze(P,0):he,ne(pe)?(ue="",Ee!=null&&(ue=Ee.replace(V,"$&/")+"/"),C(pe,J,ue,"",function(rt){return rt})):pe!=null&&(U(pe)&&(pe=z(pe,ue+(pe.key==null||P&&P.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+Ee)),J.push(pe)),1;Ee=0;var me=he===""?".":he+":";if(ne(P))for(var Ie=0;Ie<P.length;Ie++)he=P[Ie],ke=me+ze(he,Ie),Ee+=C(he,J,ue,ke,pe);else if(Ie=E(P),typeof Ie=="function")for(P=Ie.call(P),Ie=0;!(he=P.next()).done;)he=he.value,ke=me+ze(he,Ie++),Ee+=C(he,J,ue,ke,pe);else if(ke==="object"){if(typeof P.then=="function")return C(He(P),J,ue,he,pe);throw J=String(P),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function F(P,J,ue){if(P==null)return P;var he=[],pe=0;return C(P,he,"","",function(ke){return J.call(ue,ke,pe++)}),he}function B(P){if(P._status===-1){var J=P._result;J=J(),J.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=J)}if(P._status===1)return P._result.default;throw P._result}var se=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ae={map:F,forEach:function(P,J,ue){F(P,function(){J.apply(this,arguments)},ue)},count:function(P){var J=0;return F(P,function(){J++}),J},toArray:function(P){return F(P,function(J){return J})||[]},only:function(P){if(!U(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Me.Activity=b,Me.Children=ae,Me.Component=O,Me.Fragment=n,Me.Profiler=a,Me.PureComponent=K,Me.StrictMode=i,Me.Suspense=m,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Me.__COMPILER_RUNTIME={__proto__:null,c:function(P){return j.H.useMemoCache(P)}},Me.cache=function(P){return function(){return P.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(P,J,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var he=D({},P.props),pe=P.key;if(J!=null)for(ke in J.key!==void 0&&(pe=""+J.key),J)!S.call(J,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&J.ref===void 0||(he[ke]=J[ke]);var ke=arguments.length-2;if(ke===1)he.children=ue;else if(1<ke){for(var Ee=Array(ke),me=0;me<ke;me++)Ee[me]=arguments[me+2];he.children=Ee}return R(P.type,pe,he)},Me.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Me.createElement=function(P,J,ue){var he,pe={},ke=null;if(J!=null)for(he in J.key!==void 0&&(ke=""+J.key),J)S.call(J,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(pe[he]=J[he]);var Ee=arguments.length-2;if(Ee===1)pe.children=ue;else if(1<Ee){for(var me=Array(Ee),Ie=0;Ie<Ee;Ie++)me[Ie]=arguments[Ie+2];pe.children=me}if(P&&P.defaultProps)for(he in Ee=P.defaultProps,Ee)pe[he]===void 0&&(pe[he]=Ee[he]);return R(P,ke,pe)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(P){return{$$typeof:h,render:P}},Me.isValidElement=U,Me.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:B}},Me.memo=function(P,J){return{$$typeof:p,type:P,compare:J===void 0?null:J}},Me.startTransition=function(P){var J=j.T,ue={};j.T=ue;try{var he=P(),pe=j.S;pe!==null&&pe(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(de,se)}catch(ke){se(ke)}finally{J!==null&&ue.types!==null&&(J.types=ue.types),j.T=J}},Me.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Me.use=function(P){return j.H.use(P)},Me.useActionState=function(P,J,ue){return j.H.useActionState(P,J,ue)},Me.useCallback=function(P,J){return j.H.useCallback(P,J)},Me.useContext=function(P){return j.H.useContext(P)},Me.useDebugValue=function(){},Me.useDeferredValue=function(P,J){return j.H.useDeferredValue(P,J)},Me.useEffect=function(P,J){return j.H.useEffect(P,J)},Me.useEffectEvent=function(P){return j.H.useEffectEvent(P)},Me.useId=function(){return j.H.useId()},Me.useImperativeHandle=function(P,J,ue){return j.H.useImperativeHandle(P,J,ue)},Me.useInsertionEffect=function(P,J){return j.H.useInsertionEffect(P,J)},Me.useLayoutEffect=function(P,J){return j.H.useLayoutEffect(P,J)},Me.useMemo=function(P,J){return j.H.useMemo(P,J)},Me.useOptimistic=function(P,J){return j.H.useOptimistic(P,J)},Me.useReducer=function(P,J,ue){return j.H.useReducer(P,J,ue)},Me.useRef=function(P){return j.H.useRef(P)},Me.useState=function(P){return j.H.useState(P)},Me.useSyncExternalStore=function(P,J,ue){return j.H.useSyncExternalStore(P,J,ue)},Me.useTransition=function(){return j.H.useTransition()},Me.version="19.2.4",Me}var Aw;function hy(){return Aw||(Aw=1,b0.exports=UR()),b0.exports}var A=hy();const QE=XE(A);var v0={exports:{}},Fc={},w0={exports:{}},_0={};var Nw;function zR(){return Nw||(Nw=1,(function(t){function e(C,F){var B=C.length;C.push(F);e:for(;0<B;){var se=B-1>>>1,ae=C[se];if(0<a(ae,F))C[se]=F,C[B]=ae,B=se;else break e}}function n(C){return C.length===0?null:C[0]}function i(C){if(C.length===0)return null;var F=C[0],B=C.pop();if(B!==F){C[0]=B;e:for(var se=0,ae=C.length,P=ae>>>1;se<P;){var J=2*(se+1)-1,ue=C[J],he=J+1,pe=C[he];if(0>a(ue,B))he<ae&&0>a(pe,ue)?(C[se]=pe,C[he]=B,se=he):(C[se]=ue,C[J]=B,se=J);else if(he<ae&&0>a(pe,B))C[se]=pe,C[he]=B,se=he;else break e}}return F}function a(C,F){var B=C.sortIndex-F.sortIndex;return B!==0?B:C.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var m=[],p=[],x=1,b=null,w=3,E=!1,I=!1,D=!1,M=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function G(C){for(var F=n(p);F!==null;){if(F.callback===null)i(p);else if(F.startTime<=C)i(p),F.sortIndex=F.expirationTime,e(m,F);else break;F=n(p)}}function ne(C){if(D=!1,G(C),!I)if(n(m)!==null)I=!0,de||(de=!0,$());else{var F=n(p);F!==null&&He(ne,F.startTime-C)}}var de=!1,j=-1,S=5,R=-1;function z(){return M?!0:!(t.unstable_now()-R<S)}function U(){if(M=!1,de){var C=t.unstable_now();R=C;var F=!0;try{e:{I=!1,D&&(D=!1,H(j),j=-1),E=!0;var B=w;try{t:{for(G(C),b=n(m);b!==null&&!(b.expirationTime>C&&z());){var se=b.callback;if(typeof se=="function"){b.callback=null,w=b.priorityLevel;var ae=se(b.expirationTime<=C);if(C=t.unstable_now(),typeof ae=="function"){b.callback=ae,G(C),F=!0;break t}b===n(m)&&i(m),G(C)}else i(m);b=n(m)}if(b!==null)F=!0;else{var P=n(p);P!==null&&He(ne,P.startTime-C),F=!1}}break e}finally{b=null,w=B,E=!1}F=void 0}}finally{F?$():de=!1}}}var $;if(typeof K=="function")$=function(){K(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ze=V.port2;V.port1.onmessage=U,$=function(){ze.postMessage(null)}}else $=function(){O(U,0)};function He(C,F){j=O(function(){C(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(C){switch(w){case 1:case 2:case 3:var F=3;break;default:F=w}var B=w;w=F;try{return C()}finally{w=B}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(C,F){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var B=w;w=C;try{return F()}finally{w=B}},t.unstable_scheduleCallback=function(C,F,B){var se=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?se+B:se):B=se,C){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=B+ae,C={id:x++,callback:F,priorityLevel:C,startTime:B,expirationTime:ae,sortIndex:-1},B>se?(C.sortIndex=B,e(p,C),n(m)===null&&C===n(p)&&(D?(H(j),j=-1):D=!0,He(ne,B-se))):(C.sortIndex=ae,e(m,C),I||E||(I=!0,de||(de=!0,$()))),C},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(C){var F=w;return function(){var B=w;w=F;try{return C.apply(this,arguments)}finally{w=B}}}})(_0)),_0}var Cw;function BR(){return Cw||(Cw=1,w0.exports=zR()),w0.exports}var T0={exports:{}},fn={};var Rw;function FR(){if(Rw)return fn;Rw=1;var t=hy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,fn.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,x)},fn.flushSync=function(m){var p=c.T,x=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=x,i.d.f()}},fn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},fn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},fn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,b=h(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:E}):x==="script"&&i.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},fn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,b=h(x,p.crossOrigin);i.d.L(m,x,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fn.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},fn.requestFormReset=function(m){i.d.r(m)},fn.unstable_batchedUpdates=function(m,p){return m(p)},fn.useFormState=function(m,p,x){return c.H.useFormState(m,p,x)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var jw;function WE(){if(jw)return T0.exports;jw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),T0.exports=FR(),T0.exports}var Iw;function HR(){if(Iw)return Fc;Iw=1;var t=BR(),e=hy(),n=WE();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var g=o.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===o)return m(g),s;if(y===u)return m(g),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=g,u=y;else{for(var _=!1,k=g.child;k;){if(k===o){_=!0,o=g,u=y;break}if(k===u){_=!0,u=g,o=y;break}k=k.sibling}if(!_){for(k=y.child;k;){if(k===o){_=!0,o=y,u=g;break}if(k===u){_=!0,u=y,o=g;break}k=k.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function x(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=x(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),K=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function ze(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case O:return"Profiler";case M:return"StrictMode";case ne:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case K:return s.displayName||"Context";case H:return(s._context.displayName||"Context")+".Consumer";case G:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return r=s.displayName||null,r!==null?r:ze(s.type)||"Memo";case S:r=s._payload,s=s._init;try{return ze(s(r))}catch{}}return null}var He=Array.isArray,C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},se=[],ae=-1;function P(s){return{current:s}}function J(s){0>ae||(s.current=se[ae],se[ae]=null,ae--)}function ue(s,r){ae++,se[ae]=s.current,s.current=r}var he=P(null),pe=P(null),ke=P(null),Ee=P(null);function me(s,r){switch(ue(ke,r),ue(pe,s),ue(he,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?K1(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=K1(r),s=Y1(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(he),ue(he,s)}function Ie(){J(he),J(pe),J(ke)}function rt(s){s.memoizedState!==null&&ue(Ee,s);var r=he.current,o=Y1(r,s.type);r!==o&&(ue(pe,s),ue(he,o))}function jt(s){pe.current===s&&(J(he),J(pe)),Ee.current===s&&(J(Ee),Oc._currentValue=B)}var Mn,wi;function Pn(s){if(Mn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Mn=r&&r[1]||"",wi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mn+s+wi}var Xn=!1;function Vn(s,r){if(!s||Xn)return"";Xn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var Z=te}Reflect.construct(s,[],le)}else{try{le.call()}catch(te){Z=te}s.call(le.prototype)}}else{try{throw Error()}catch(te){Z=te}(le=s())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],k=y[1];if(_&&k){var L=_.split(`
`),W=k.split(`
`);for(g=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;if(u===L.length||g===W.length)for(u=L.length-1,g=W.length-1;1<=u&&0<=g&&L[u]!==W[g];)g--;for(;1<=u&&0<=g;u--,g--)if(L[u]!==W[g]){if(u!==1||g!==1)do if(u--,g--,0>g||L[u]!==W[g]){var ie=`
`+L[u].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=u&&0<=g);break}}}finally{Xn=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Pn(o):""}function Ll(s,r){switch(s.tag){case 26:case 27:case 5:return Pn(s.type);case 16:return Pn("Lazy");case 13:return s.child!==r&&r!==null?Pn("Suspense Fallback"):Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return Vn(s.type,!1);case 11:return Vn(s.type.render,!1);case 1:return Vn(s.type,!0);case 31:return Pn("Activity");default:return""}}function Ul(s){try{var r="",o=null;do r+=Ll(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var It=Object.prototype.hasOwnProperty,Gt=t.unstable_scheduleCallback,sr=t.unstable_cancelCallback,vm=t.unstable_shouldYield,Qu=t.unstable_requestPaint,bn=t.unstable_now,ca=t.unstable_getCurrentPriorityLevel,zl=t.unstable_ImmediatePriority,Bl=t.unstable_UserBlockingPriority,ir=t.unstable_NormalPriority,wm=t.unstable_LowPriority,Wu=t.unstable_IdlePriority,Ju=t.log,Zu=t.unstable_setDisableYieldValue,ps=null,nn=null;function Qn(s){if(typeof Ju=="function"&&Zu(s),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(ps,s)}catch{}}var St=Math.clz32?Math.clz32:td,ed=Math.log,lo=Math.LN2;function td(s){return s>>>=0,s===0?32:31-(ed(s)/lo|0)|0}var zs=256,ua=262144,Dt=4194304;function Bs(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Fs(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var g=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var k=u&134217727;return k!==0?(u=k&~y,u!==0?g=Bs(u):(_&=k,_!==0?g=Bs(_):o||(o=k&~s,o!==0&&(g=Bs(o))))):(k=u&~y,k!==0?g=Bs(k):_!==0?g=Bs(_):o||(o=u&~s,o!==0&&(g=Bs(o)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:g}function gs(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function _m(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nd(){var s=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),s}function Hs(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function da(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Tm(s,r,o,u,g,y){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var k=s.entanglements,L=s.expirationTimes,W=s.hiddenUpdates;for(o=_&~o;0<o;){var ie=31-St(o),le=1<<ie;k[ie]=0,L[ie]=-1;var Z=W[ie];if(Z!==null)for(W[ie]=null,ie=0;ie<Z.length;ie++){var te=Z[ie];te!==null&&(te.lane&=-536870913)}o&=~le}u!==0&&ha(s,u,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~r))}function ha(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-St(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Fl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-St(o),g=1<<u;g&r|s[u]&r&&(s[u]|=r),o&=~g}}function Hl(s,r){var o=r&-r;return o=(o&42)!==0?1:fa(o),(o&(s.suspendedLanes|r))!==0?0:o}function fa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function _i(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sd(){var s=F.p;return s!==0?s:(s=window.event,s===void 0?32:yw(s.type))}function ys(s,r){var o=F.p;try{return F.p=s,r()}finally{F.p=o}}var xs=Math.random().toString(36).slice(2),Mt="__reactFiber$"+xs,Wt="__reactProps$"+xs,qs="__reactContainer$"+xs,co="__reactEvents$"+xs,Em="__reactListeners$"+xs,id="__reactHandles$"+xs,rd="__reactResources$"+xs,Gs="__reactMarker$"+xs;function uo(s){delete s[Mt],delete s[Wt],delete s[co],delete s[Em],delete s[id]}function $s(s){var r=s[Mt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[qs]||o[Mt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=tw(s);s!==null;){if(o=s[Mt])return o;s=tw(s)}return r}s=o,o=s.parentNode}return null}function Wn(s){if(s=s[Mt]||s[qs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function On(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ks(s){var r=s[rd];return r||(r=s[rd]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pt(s){s[Gs]=!0}var ql=new Set,Gl={};function Ys(s,r){Xs(s,r),Xs(s+"Capture",r)}function Xs(s,r){for(Gl[s]=r,s=0;s<r.length;s++)ql.add(r[s])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kl={},Yl={};function ad(s){return It.call(Yl,s)?!0:It.call(Kl,s)?!1:$l.test(s)?Yl[s]=!0:(Kl[s]=!0,!1)}function ho(s,r,o){if(ad(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Ln(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Vt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Jt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function rr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xl(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function nt(s){if(!s._valueTracker){var r=rr(s)?"checked":"value";s._valueTracker=Xl(s,r,""+s[r])}}function ma(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=rr(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Qs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var pa=/[\n"\\]/g;function En(s){return s.replace(pa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fo(s,r,o,u,g,y,_,k){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Jt(r)):s.value!==""+Jt(r)&&(s.value=""+Jt(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?Ql(s,_,Jt(r)):o!=null?Ql(s,_,Jt(o)):u!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Jt(k):s.removeAttribute("name")}function od(s,r,o,u,g,y,_,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){nt(s);return}o=o!=null?""+Jt(o):"",r=r!=null?""+Jt(r):o,k||r===s.value||(s.value=r),s.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=k?s.checked:!!u,s.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),nt(s)}function Ql(s,r,o){r==="number"&&Qs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function ar(s,r,o,u){if(s=s.options,r){r={};for(var g=0;g<o.length;g++)r["$"+o[g]]=!0;for(o=0;o<s.length;o++)g=r.hasOwnProperty("$"+s[o].value),s[o].selected!==g&&(s[o].selected=g),g&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Jt(o),r=null,g=0;g<s.length;g++){if(s[g].value===o){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function ld(s,r,o){if(r!=null&&(r=""+Jt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Jt(o):""}function or(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(He(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Jt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),nt(s)}function Sn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var cd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wl(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||cd.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Jl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&o[g]!==u&&Wl(s,g,u)}else for(var y in r)r.hasOwnProperty(y)&&Wl(s,y,r[y])}function mo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ud=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function po(s){return lr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function bs(){}var Zl=null;function Jn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var cr=null,Ws=null;function ga(s){var r=Wn(s);if(r&&(s=r.stateNode)){var o=s[Wt]||null;e:switch(s=r.stateNode,r.type){case"input":if(fo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+En(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var g=u[Wt]||null;if(!g)throw Error(i(90));fo(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&ma(u)}break e;case"textarea":ld(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ar(s,!!o.multiple,r,!1)}}}var go=!1;function ur(s,r,o){if(go)return s(r,o);go=!0;try{var u=s(r);return u}finally{if(go=!1,(cr!==null||Ws!==null)&&(sh(),cr&&(r=cr,s=Ws,Ws=cr=null,ga(r),s)))for(r=0;r<s.length;r++)ga(s[r])}}function vs(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Wt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=!1;if(Zn)try{var at={};Object.defineProperty(at,"passive",{get:function(){ya=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{ya=!1}var Js=null,ec=null,xa=null;function tc(){if(xa)return xa;var s,r=ec,o=r.length,u,g="value"in Js?Js.value:Js.textContent,y=g.length;for(s=0;s<o&&r[s]===g[s];s++);var _=o-s;for(u=1;u<=_&&r[o-u]===g[y-u];u++);return xa=g.slice(s,1<u?1-u:void 0)}function ba(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ti(){return!0}function ws(){return!1}function sn(s){function r(o,u,g,y,_){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(o=s[k],this[k]=o?o(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ti:ws,this.isPropagationStopped=ws,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),r}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=sn(Ei),dr=b({},Ei,{view:0,detail:0}),nc=sn(dr),hr,yo,ei,xo=b({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ei&&(ei&&s.type==="mousemove"?(hr=s.screenX-ei.screenX,yo=s.screenY-ei.screenY):yo=hr=0,ei=s),hr)},movementY:function(s){return"movementY"in s?s.movementY:yo}}),sc=sn(xo),va=b({},xo,{dataTransfer:0}),dd=sn(va),hd=b({},dr,{relatedTarget:0}),wa=sn(hd),ic=b({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),fd=sn(ic),bo=b({},Ei,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),md=sn(bo),pd=b({},Ei,{data:0}),ti=sn(pd),gd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bd(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=xd[s])?!!r[s]:!1}function fr(){return bd}var vn=b({},dr,{key:function(s){if(s.key){var r=gd[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ba(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(s){return s.type==="keypress"?ba(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ba(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),vd=sn(vn),wd=b({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=sn(wd),f=b({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),v=sn(f),T=b({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=sn(T),X=b({},xo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=sn(X),fe=b({},Ei,{newState:0,oldState:0}),Ve=sn(fe),kt=[9,13,27,32],Ze=Zn&&"CompositionEvent"in window,gt=null;Zn&&"documentMode"in document&&(gt=document.documentMode);var es=Zn&&"TextEvent"in window&&!gt,ni=Zn&&(!Ze||gt&&8<gt&&11>=gt),_s=" ",Ts=!1;function _a(s,r){switch(s){case"keyup":return kt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var wo=!1;function oC(s,r){switch(s){case"compositionend":return vo(r);case"keypress":return r.which!==32?null:(Ts=!0,_s);case"textInput":return s=r.data,s===_s&&Ts?null:s;default:return null}}function lC(s,r){if(wo)return s==="compositionend"||!Ze&&_a(s,r)?(s=tc(),xa=ec=Js=null,wo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ni&&r.locale!=="ko"?null:r.data;default:return null}}var cC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ib(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!cC[s.type]:r==="textarea"}function rb(s,r,o,u){cr?Ws?Ws.push(u):Ws=[u]:cr=u,r=uh(r,"onChange"),0<r.length&&(o=new Zs("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var rc=null,ac=null;function uC(s){B1(s,0)}function _d(s){var r=On(s);if(ma(r))return s}function ab(s,r){if(s==="change")return r}var ob=!1;if(Zn){var Sm;if(Zn){var km="oninput"in document;if(!km){var lb=document.createElement("div");lb.setAttribute("oninput","return;"),km=typeof lb.oninput=="function"}Sm=km}else Sm=!1;ob=Sm&&(!document.documentMode||9<document.documentMode)}function cb(){rc&&(rc.detachEvent("onpropertychange",ub),ac=rc=null)}function ub(s){if(s.propertyName==="value"&&_d(ac)){var r=[];rb(r,ac,s,Jn(s)),ur(uC,r)}}function dC(s,r,o){s==="focusin"?(cb(),rc=r,ac=o,rc.attachEvent("onpropertychange",ub)):s==="focusout"&&cb()}function hC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _d(ac)}function fC(s,r){if(s==="click")return _d(r)}function mC(s,r){if(s==="input"||s==="change")return _d(r)}function pC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Un=typeof Object.is=="function"?Object.is:pC;function oc(s,r){if(Un(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!It.call(r,g)||!Un(s[g],r[g]))return!1}return!0}function db(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hb(s,r){var o=db(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=db(o)}}function fb(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?fb(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function mb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Qs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Qs(s.document)}return r}function Am(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var gC=Zn&&"documentMode"in document&&11>=document.documentMode,_o=null,Nm=null,lc=null,Cm=!1;function pb(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Cm||_o==null||_o!==Qs(u)||(u=_o,"selectionStart"in u&&Am(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),lc&&oc(lc,u)||(lc=u,u=uh(Nm,"onSelect"),0<u.length&&(r=new Zs("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=_o)))}function Ta(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var To={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},Rm={},gb={};Zn&&(gb=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Ea(s){if(Rm[s])return Rm[s];if(!To[s])return s;var r=To[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in gb)return Rm[s]=r[o];return s}var yb=Ea("animationend"),xb=Ea("animationiteration"),bb=Ea("animationstart"),yC=Ea("transitionrun"),xC=Ea("transitionstart"),bC=Ea("transitioncancel"),vb=Ea("transitionend"),wb=new Map,jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jm.push("scrollEnd");function Es(s,r){wb.set(s,r),Ys(r,[s])}var Td=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ts=[],Eo=0,Im=0;function Ed(){for(var s=Eo,r=Im=Eo=0;r<s;){var o=ts[r];ts[r++]=null;var u=ts[r];ts[r++]=null;var g=ts[r];ts[r++]=null;var y=ts[r];if(ts[r++]=null,u!==null&&g!==null){var _=u.pending;_===null?g.next=g:(g.next=_.next,_.next=g),u.pending=g}y!==0&&_b(o,g,y)}}function Sd(s,r,o,u){ts[Eo++]=s,ts[Eo++]=r,ts[Eo++]=o,ts[Eo++]=u,Im|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Dm(s,r,o,u){return Sd(s,r,o,u),kd(s)}function Sa(s,r){return Sd(s,null,null,r),kd(s)}function _b(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var g=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&r!==null&&(g=31-St(o),s=y.hiddenUpdates,u=s[g],u===null?s[g]=[r]:u.push(r),r.lane=o|536870912),y):null}function kd(s){if(50<Rc)throw Rc=0,Fp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var So={};function vC(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(s,r,o,u){return new vC(s,r,o,u)}function Mm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ki(s,r){var o=s.alternate;return o===null?(o=zn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Tb(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Ad(s,r,o,u,g,y){var _=0;if(u=s,typeof s=="function")Mm(s)&&(_=1);else if(typeof s=="string")_=SR(s,o,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=zn(31,o,r,g),s.elementType=R,s.lanes=y,s;case D:return ka(o.children,g,y,r);case M:_=8,g|=24;break;case O:return s=zn(12,o,r,g|2),s.elementType=O,s.lanes=y,s;case ne:return s=zn(13,o,r,g),s.elementType=ne,s.lanes=y,s;case de:return s=zn(19,o,r,g),s.elementType=de,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:_=10;break e;case H:_=9;break e;case G:_=11;break e;case j:_=14;break e;case S:_=16,u=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=zn(_,o,r,g),r.elementType=s,r.type=u,r.lanes=y,r}function ka(s,r,o,u){return s=zn(7,s,u,r),s.lanes=o,s}function Pm(s,r,o){return s=zn(6,s,null,r),s.lanes=o,s}function Eb(s){var r=zn(18,null,null,0);return r.stateNode=s,r}function Vm(s,r,o){return r=zn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Sb=new WeakMap;function ns(s,r){if(typeof s=="object"&&s!==null){var o=Sb.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Ul(r)},Sb.set(s,r),r)}return{value:s,source:r,stack:Ul(r)}}var ko=[],Ao=0,Nd=null,cc=0,ss=[],is=0,mr=null,si=1,ii="";function Ai(s,r){ko[Ao++]=cc,ko[Ao++]=Nd,Nd=s,cc=r}function kb(s,r,o){ss[is++]=si,ss[is++]=ii,ss[is++]=mr,mr=s;var u=si;s=ii;var g=32-St(u)-1;u&=~(1<<g),o+=1;var y=32-St(r)+g;if(30<y){var _=g-g%5;y=(u&(1<<_)-1).toString(32),u>>=_,g-=_,si=1<<32-St(r)+g|o<<g|u,ii=y+s}else si=1<<y|o<<g|u,ii=s}function Om(s){s.return!==null&&(Ai(s,1),kb(s,1,0))}function Lm(s){for(;s===Nd;)Nd=ko[--Ao],ko[Ao]=null,cc=ko[--Ao],ko[Ao]=null;for(;s===mr;)mr=ss[--is],ss[is]=null,ii=ss[--is],ss[is]=null,si=ss[--is],ss[is]=null}function Ab(s,r){ss[is++]=si,ss[is++]=ii,ss[is++]=mr,si=r.id,ii=r.overflow,mr=s}var rn=null,ft=null,Xe=!1,pr=null,rs=!1,Um=Error(i(519));function gr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uc(ns(r,s)),Um}function Nb(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Mt]=s,r[Wt]=u,o){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(o=0;o<Ic.length;o++)Fe(Ic[o],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Fe("invalid",r),od(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Fe("invalid",r);break;case"textarea":Fe("invalid",r),or(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||G1(r.textContent,o)?(u.popover!=null&&(Fe("beforetoggle",r),Fe("toggle",r)),u.onScroll!=null&&Fe("scroll",r),u.onScrollEnd!=null&&Fe("scrollend",r),u.onClick!=null&&(r.onclick=bs),r=!0):r=!1,r||gr(s,!0)}function Cb(s){for(rn=s.return;rn;)switch(rn.tag){case 5:case 31:case 13:rs=!1;return;case 27:case 3:rs=!0;return;default:rn=rn.return}}function No(s){if(s!==rn)return!1;if(!Xe)return Cb(s),Xe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||s0(s.type,s.memoizedProps)),o=!o),o&&ft&&gr(s),Cb(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ft=ew(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ft=ew(s)}else r===27?(r=ft,Rr(s.type)?(s=l0,l0=null,ft=s):ft=r):ft=rn?os(s.stateNode.nextSibling):null;return!0}function Aa(){ft=rn=null,Xe=!1}function zm(){var s=pr;return s!==null&&(Cn===null?Cn=s:Cn.push.apply(Cn,s),pr=null),s}function uc(s){pr===null?pr=[s]:pr.push(s)}var Bm=P(null),Na=null,Ni=null;function yr(s,r,o){ue(Bm,r._currentValue),r._currentValue=o}function Ci(s){s._currentValue=Bm.current,J(Bm)}function Fm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Hm(s,r,o,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var _=g.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=g;for(var L=0;L<r.length;L++)if(k.context===r[L]){y.lanes|=o,k=y.alternate,k!==null&&(k.lanes|=o),Fm(y.return,o,s),u||(_=null);break e}y=k.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(i(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),Fm(_,o,s),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function Co(s,r,o,u){s=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var k=g.type;Un(g.pendingProps.value,_.value)||(s!==null?s.push(k):s=[k])}}else if(g===Ee.current){if(_=g.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Oc):s=[Oc])}g=g.return}s!==null&&Hm(r,s,o,u),r.flags|=262144}function Cd(s){for(s=s.firstContext;s!==null;){if(!Un(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ca(s){Na=s,Ni=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function an(s){return Rb(Na,s)}function Rd(s,r){return Na===null&&Ca(s),Rb(s,r)}function Rb(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ni===null){if(s===null)throw Error(i(308));Ni=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ni=Ni.next=r;return o}var wC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},_C=t.unstable_scheduleCallback,TC=t.unstable_NormalPriority,Ot={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new wC,data:new Map,refCount:0}}function dc(s){s.refCount--,s.refCount===0&&_C(TC,function(){s.controller.abort()})}var hc=null,Gm=0,Ro=0,jo=null;function EC(s,r){if(hc===null){var o=hc=[];Gm=0,Ro=Yp(),jo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Gm++,r.then(jb,jb),r}function jb(){if(--Gm===0&&hc!==null){jo!==null&&(jo.status="fulfilled");var s=hc;hc=null,Ro=0,jo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function SC(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<o.length;g++)(0,o[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var Ib=C.S;C.S=function(s,r){p1=bn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&EC(s,r),Ib!==null&&Ib(s,r)};var Ra=P(null);function $m(){var s=Ra.current;return s!==null?s:ut.pooledCache}function jd(s,r){r===null?ue(Ra,Ra.current):ue(Ra,r.pool)}function Db(){var s=$m();return s===null?null:{parent:Ot._currentValue,pool:s}}var Io=Error(i(460)),Km=Error(i(474)),Id=Error(i(542)),Dd={then:function(){}};function Mb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Pb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(bs,bs),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Ob(s),s;default:if(typeof r.status=="string")r.then(bs,bs);else{if(s=ut,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Ob(s),s}throw Ia=r,Io}}function ja(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ia=o,Io):o}}var Ia=null;function Vb(){if(Ia===null)throw Error(i(459));var s=Ia;return Ia=null,s}function Ob(s){if(s===Io||s===Id)throw Error(i(483))}var Do=null,fc=0;function Md(s){var r=fc;return fc+=1,Do===null&&(Do=[]),Pb(Do,s,r)}function mc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Pd(s,r){throw r.$$typeof===w?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Lb(s){function r(Y,q){if(s){var Q=Y.deletions;Q===null?(Y.deletions=[q],Y.flags|=16):Q.push(q)}}function o(Y,q){if(!s)return null;for(;q!==null;)r(Y,q),q=q.sibling;return null}function u(Y){for(var q=new Map;Y!==null;)Y.key!==null?q.set(Y.key,Y):q.set(Y.index,Y),Y=Y.sibling;return q}function g(Y,q){return Y=ki(Y,q),Y.index=0,Y.sibling=null,Y}function y(Y,q,Q){return Y.index=Q,s?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<q?(Y.flags|=67108866,q):Q):(Y.flags|=67108866,q)):(Y.flags|=1048576,q)}function _(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function k(Y,q,Q,re){return q===null||q.tag!==6?(q=Pm(Q,Y.mode,re),q.return=Y,q):(q=g(q,Q),q.return=Y,q)}function L(Y,q,Q,re){var Ae=Q.type;return Ae===D?ie(Y,q,Q.props.children,re,Q.key):q!==null&&(q.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&ja(Ae)===q.type)?(q=g(q,Q.props),mc(q,Q),q.return=Y,q):(q=Ad(Q.type,Q.key,Q.props,null,Y.mode,re),mc(q,Q),q.return=Y,q)}function W(Y,q,Q,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Vm(Q,Y.mode,re),q.return=Y,q):(q=g(q,Q.children||[]),q.return=Y,q)}function ie(Y,q,Q,re,Ae){return q===null||q.tag!==7?(q=ka(Q,Y.mode,re,Ae),q.return=Y,q):(q=g(q,Q),q.return=Y,q)}function le(Y,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Pm(""+q,Y.mode,Q),q.return=Y,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return Q=Ad(q.type,q.key,q.props,null,Y.mode,Q),mc(Q,q),Q.return=Y,Q;case I:return q=Vm(q,Y.mode,Q),q.return=Y,q;case S:return q=ja(q),le(Y,q,Q)}if(He(q)||$(q))return q=ka(q,Y.mode,Q,null),q.return=Y,q;if(typeof q.then=="function")return le(Y,Md(q),Q);if(q.$$typeof===K)return le(Y,Rd(Y,q),Q);Pd(Y,q)}return null}function Z(Y,q,Q,re){var Ae=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:k(Y,q,""+Q,re);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===Ae?L(Y,q,Q,re):null;case I:return Q.key===Ae?W(Y,q,Q,re):null;case S:return Q=ja(Q),Z(Y,q,Q,re)}if(He(Q)||$(Q))return Ae!==null?null:ie(Y,q,Q,re,null);if(typeof Q.then=="function")return Z(Y,q,Md(Q),re);if(Q.$$typeof===K)return Z(Y,q,Rd(Y,Q),re);Pd(Y,Q)}return null}function te(Y,q,Q,re,Ae){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Y=Y.get(Q)||null,k(q,Y,""+re,Ae);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return Y=Y.get(re.key===null?Q:re.key)||null,L(q,Y,re,Ae);case I:return Y=Y.get(re.key===null?Q:re.key)||null,W(q,Y,re,Ae);case S:return re=ja(re),te(Y,q,Q,re,Ae)}if(He(re)||$(re))return Y=Y.get(Q)||null,ie(q,Y,re,Ae,null);if(typeof re.then=="function")return te(Y,q,Q,Md(re),Ae);if(re.$$typeof===K)return te(Y,q,Q,Rd(q,re),Ae);Pd(q,re)}return null}function ve(Y,q,Q,re){for(var Ae=null,We=null,Se=q,Le=q=0,Ge=null;Se!==null&&Le<Q.length;Le++){Se.index>Le?(Ge=Se,Se=null):Ge=Se.sibling;var Je=Z(Y,Se,Q[Le],re);if(Je===null){Se===null&&(Se=Ge);break}s&&Se&&Je.alternate===null&&r(Y,Se),q=y(Je,q,Le),We===null?Ae=Je:We.sibling=Je,We=Je,Se=Ge}if(Le===Q.length)return o(Y,Se),Xe&&Ai(Y,Le),Ae;if(Se===null){for(;Le<Q.length;Le++)Se=le(Y,Q[Le],re),Se!==null&&(q=y(Se,q,Le),We===null?Ae=Se:We.sibling=Se,We=Se);return Xe&&Ai(Y,Le),Ae}for(Se=u(Se);Le<Q.length;Le++)Ge=te(Se,Y,Le,Q[Le],re),Ge!==null&&(s&&Ge.alternate!==null&&Se.delete(Ge.key===null?Le:Ge.key),q=y(Ge,q,Le),We===null?Ae=Ge:We.sibling=Ge,We=Ge);return s&&Se.forEach(function(Pr){return r(Y,Pr)}),Xe&&Ai(Y,Le),Ae}function Ce(Y,q,Q,re){if(Q==null)throw Error(i(151));for(var Ae=null,We=null,Se=q,Le=q=0,Ge=null,Je=Q.next();Se!==null&&!Je.done;Le++,Je=Q.next()){Se.index>Le?(Ge=Se,Se=null):Ge=Se.sibling;var Pr=Z(Y,Se,Je.value,re);if(Pr===null){Se===null&&(Se=Ge);break}s&&Se&&Pr.alternate===null&&r(Y,Se),q=y(Pr,q,Le),We===null?Ae=Pr:We.sibling=Pr,We=Pr,Se=Ge}if(Je.done)return o(Y,Se),Xe&&Ai(Y,Le),Ae;if(Se===null){for(;!Je.done;Le++,Je=Q.next())Je=le(Y,Je.value,re),Je!==null&&(q=y(Je,q,Le),We===null?Ae=Je:We.sibling=Je,We=Je);return Xe&&Ai(Y,Le),Ae}for(Se=u(Se);!Je.done;Le++,Je=Q.next())Je=te(Se,Y,Le,Je.value,re),Je!==null&&(s&&Je.alternate!==null&&Se.delete(Je.key===null?Le:Je.key),q=y(Je,q,Le),We===null?Ae=Je:We.sibling=Je,We=Je);return s&&Se.forEach(function(VR){return r(Y,VR)}),Xe&&Ai(Y,Le),Ae}function ct(Y,q,Q,re){if(typeof Q=="object"&&Q!==null&&Q.type===D&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:e:{for(var Ae=Q.key;q!==null;){if(q.key===Ae){if(Ae=Q.type,Ae===D){if(q.tag===7){o(Y,q.sibling),re=g(q,Q.props.children),re.return=Y,Y=re;break e}}else if(q.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&ja(Ae)===q.type){o(Y,q.sibling),re=g(q,Q.props),mc(re,Q),re.return=Y,Y=re;break e}o(Y,q);break}else r(Y,q);q=q.sibling}Q.type===D?(re=ka(Q.props.children,Y.mode,re,Q.key),re.return=Y,Y=re):(re=Ad(Q.type,Q.key,Q.props,null,Y.mode,re),mc(re,Q),re.return=Y,Y=re)}return _(Y);case I:e:{for(Ae=Q.key;q!==null;){if(q.key===Ae)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){o(Y,q.sibling),re=g(q,Q.children||[]),re.return=Y,Y=re;break e}else{o(Y,q);break}else r(Y,q);q=q.sibling}re=Vm(Q,Y.mode,re),re.return=Y,Y=re}return _(Y);case S:return Q=ja(Q),ct(Y,q,Q,re)}if(He(Q))return ve(Y,q,Q,re);if($(Q)){if(Ae=$(Q),typeof Ae!="function")throw Error(i(150));return Q=Ae.call(Q),Ce(Y,q,Q,re)}if(typeof Q.then=="function")return ct(Y,q,Md(Q),re);if(Q.$$typeof===K)return ct(Y,q,Rd(Y,Q),re);Pd(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(o(Y,q.sibling),re=g(q,Q),re.return=Y,Y=re):(o(Y,q),re=Pm(Q,Y.mode,re),re.return=Y,Y=re),_(Y)):o(Y,q)}return function(Y,q,Q,re){try{fc=0;var Ae=ct(Y,q,Q,re);return Do=null,Ae}catch(Se){if(Se===Io||Se===Id)throw Se;var We=zn(29,Se,null,Y.mode);return We.lanes=re,We.return=Y,We}}}var Da=Lb(!0),Ub=Lb(!1),xr=!1;function Ym(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function br(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=kd(s),_b(s,null,o),r}return Sd(s,u,r,o),kd(s)}function pc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Fl(s,o)}}function Qm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?g=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?g=y=r:y=y.next=r}else g=y=r;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Wm=!1;function gc(){if(Wm){var s=jo;if(s!==null)throw s}}function yc(s,r,o,u){Wm=!1;var g=s.updateQueue;xr=!1;var y=g.firstBaseUpdate,_=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var L=k,W=L.next;L.next=null,_===null?y=W:_.next=W,_=L;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,k=ie.lastBaseUpdate,k!==_&&(k===null?ie.firstBaseUpdate=W:k.next=W,ie.lastBaseUpdate=L))}if(y!==null){var le=g.baseState;_=0,ie=W=L=null,k=y;do{var Z=k.lane&-536870913,te=Z!==k.lane;if(te?(qe&Z)===Z:(u&Z)===Z){Z!==0&&Z===Ro&&(Wm=!0),ie!==null&&(ie=ie.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ve=s,Ce=k;Z=r;var ct=o;switch(Ce.tag){case 1:if(ve=Ce.payload,typeof ve=="function"){le=ve.call(ct,le,Z);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ce.payload,Z=typeof ve=="function"?ve.call(ct,le,Z):ve,Z==null)break e;le=b({},le,Z);break e;case 2:xr=!0}}Z=k.callback,Z!==null&&(s.flags|=64,te&&(s.flags|=8192),te=g.callbacks,te===null?g.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ie===null?(W=ie=te,L=le):ie=ie.next=te,_|=Z;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;te=k,k=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);ie===null&&(L=le),g.baseState=L,g.firstBaseUpdate=W,g.lastBaseUpdate=ie,y===null&&(g.shared.lanes=0),Sr|=_,s.lanes=_,s.memoizedState=le}}function zb(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Bb(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)zb(o[s],r)}var Mo=P(null),Vd=P(0);function Fb(s,r){s=Li,ue(Vd,s),ue(Mo,r),Li=s|r.baseLanes}function Jm(){ue(Vd,Li),ue(Mo,Mo.current)}function Zm(){Li=Vd.current,J(Mo),J(Vd)}var Bn=P(null),as=null;function wr(s){var r=s.alternate;ue(At,At.current&1),ue(Bn,s),as===null&&(r===null||Mo.current!==null||r.memoizedState!==null)&&(as=s)}function ep(s){ue(At,At.current),ue(Bn,s),as===null&&(as=s)}function Hb(s){s.tag===22?(ue(At,At.current),ue(Bn,s),as===null&&(as=s)):_r()}function _r(){ue(At,At.current),ue(Bn,Bn.current)}function Fn(s){J(Bn),as===s&&(as=null),J(At)}var At=P(0);function Od(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||a0(o)||o0(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ri=0,Oe=null,ot=null,Lt=null,Ld=!1,Po=!1,Ma=!1,Ud=0,xc=0,Vo=null,kC=0;function wt(){throw Error(i(321))}function tp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Un(s[o],r[o]))return!1;return!0}function np(s,r,o,u,g,y){return Ri=y,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,C.H=s===null||s.memoizedState===null?kv:yp,Ma=!1,y=o(u,g),Ma=!1,Po&&(y=Gb(r,o,u,g)),qb(s),y}function qb(s){C.H=wc;var r=ot!==null&&ot.next!==null;if(Ri=0,Lt=ot=Oe=null,Ld=!1,xc=0,Vo=null,r)throw Error(i(300));s===null||Ut||(s=s.dependencies,s!==null&&Cd(s)&&(Ut=!0))}function Gb(s,r,o,u){Oe=s;var g=0;do{if(Po&&(Vo=null),xc=0,Po=!1,25<=g)throw Error(i(301));if(g+=1,Lt=ot=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}C.H=Av,y=r(o,u)}while(Po);return y}function AC(){var s=C.H,r=s.useState()[0];return r=typeof r.then=="function"?bc(r):r,s=s.useState()[0],(ot!==null?ot.memoizedState:null)!==s&&(Oe.flags|=1024),r}function sp(){var s=Ud!==0;return Ud=0,s}function ip(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function rp(s){if(Ld){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ld=!1}Ri=0,Lt=ot=Oe=null,Po=!1,xc=Ud=0,Vo=null}function wn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Oe.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Nt(){if(ot===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=ot.next;var r=Lt===null?Oe.memoizedState:Lt.next;if(r!==null)Lt=r,ot=s;else{if(s===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));ot=s,s={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Lt===null?Oe.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bc(s){var r=xc;return xc+=1,Vo===null&&(Vo=[]),s=Pb(Vo,s,r),r=Oe,(Lt===null?r.memoizedState:Lt.next)===null&&(r=r.alternate,C.H=r===null||r.memoizedState===null?kv:yp),s}function Bd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bc(s);if(s.$$typeof===K)return an(s)}throw Error(i(438,String(s)))}function ap(s){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=zd(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=z;return r.index++,o}function ji(s,r){return typeof r=="function"?r(s):r}function Fd(s){var r=Nt();return op(r,ot,s)}function op(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var g=s.baseQueue,y=u.pending;if(y!==null){if(g!==null){var _=g.next;g.next=y.next,y.next=_}r.baseQueue=g=y,u.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{r=g.next;var k=_=null,L=null,W=r,ie=!1;do{var le=W.lane&-536870913;if(le!==W.lane?(qe&le)===le:(Ri&le)===le){var Z=W.revertLane;if(Z===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),le===Ro&&(ie=!0);else if((Ri&Z)===Z){W=W.next,Z===Ro&&(ie=!0);continue}else le={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(k=L=le,_=y):L=L.next=le,Oe.lanes|=Z,Sr|=Z;le=W.action,Ma&&o(y,le),y=W.hasEagerState?W.eagerState:o(y,le)}else Z={lane:le,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(k=L=Z,_=y):L=L.next=Z,Oe.lanes|=le,Sr|=le;W=W.next}while(W!==null&&W!==r);if(L===null?_=y:L.next=k,!Un(y,s.memoizedState)&&(Ut=!0,ie&&(o=jo,o!==null)))throw o;s.memoizedState=y,s.baseState=_,s.baseQueue=L,u.lastRenderedState=y}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function lp(s){var r=Nt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,g=o.pending,y=r.memoizedState;if(g!==null){o.pending=null;var _=g=g.next;do y=s(y,_.action),_=_.next;while(_!==g);Un(y,r.memoizedState)||(Ut=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function $b(s,r,o){var u=Oe,g=Nt(),y=Xe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!Un((ot||g).memoizedState,o);if(_&&(g.memoizedState=o,Ut=!0),g=g.queue,dp(Xb.bind(null,u,g,s),[s]),g.getSnapshot!==r||_||Lt!==null&&Lt.memoizedState.tag&1){if(u.flags|=2048,Oo(9,{destroy:void 0},Yb.bind(null,u,g,o,r),null),ut===null)throw Error(i(349));y||(Ri&127)!==0||Kb(u,r,o)}return o}function Kb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=zd(),Oe.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Yb(s,r,o,u){r.value=o,r.getSnapshot=u,Qb(r)&&Wb(s)}function Xb(s,r,o){return o(function(){Qb(r)&&Wb(s)})}function Qb(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Un(s,o)}catch{return!0}}function Wb(s){var r=Sa(s,2);r!==null&&Rn(r,s,2)}function cp(s){var r=wn();if(typeof s=="function"){var o=s;if(s=o(),Ma){Qn(!0);try{o()}finally{Qn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},r}function Jb(s,r,o,u){return s.baseState=o,op(s,ot,typeof u=="function"?u:ji)}function NC(s,r,o,u,g){if(Gd(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};C.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,Zb(r,y)):(y.next=o.next,r.pending=o.next=y)}}function Zb(s,r){var o=r.action,u=r.payload,g=s.state;if(r.isTransition){var y=C.T,_={};C.T=_;try{var k=o(g,u),L=C.S;L!==null&&L(_,k),ev(s,r,k)}catch(W){up(s,r,W)}finally{y!==null&&_.types!==null&&(y.types=_.types),C.T=y}}else try{y=o(g,u),ev(s,r,y)}catch(W){up(s,r,W)}}function ev(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){tv(s,r,u)},function(u){return up(s,r,u)}):tv(s,r,o)}function tv(s,r,o){r.status="fulfilled",r.value=o,nv(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Zb(s,o)))}function up(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,nv(r),r=r.next;while(r!==u)}s.action=null}function nv(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function sv(s,r){return r}function iv(s,r){if(Xe){var o=ut.formState;if(o!==null){e:{var u=Oe;if(Xe){if(ft){t:{for(var g=ft,y=rs;g.nodeType!==8;){if(!y){g=null;break t}if(g=os(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ft=os(g.nextSibling),u=g.data==="F!";break e}}gr(u)}u=!1}u&&(r=o[0])}}return o=wn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sv,lastRenderedState:r},o.queue=u,o=Tv.bind(null,Oe,u),u.dispatch=o,u=cp(!1),y=gp.bind(null,Oe,!1,u.queue),u=wn(),g={state:r,dispatch:null,action:s,pending:null},u.queue=g,o=NC.bind(null,Oe,g,y,o),g.dispatch=o,u.memoizedState=s,[r,o,!1]}function rv(s){var r=Nt();return av(r,ot,s)}function av(s,r,o){if(r=op(s,r,sv)[0],s=Fd(ji)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=bc(r)}catch(_){throw _===Io?Id:_}else u=r;r=Nt();var g=r.queue,y=g.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,Oo(9,{destroy:void 0},CC.bind(null,g,o),null)),[u,y,s]}function CC(s,r){s.action=r}function ov(s){var r=Nt(),o=ot;if(o!==null)return av(r,o,s);Nt(),r=r.memoizedState,o=Nt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Oo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=zd(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function lv(){return Nt().memoizedState}function Hd(s,r,o,u){var g=wn();Oe.flags|=s,g.memoizedState=Oo(1|r,{destroy:void 0},o,u===void 0?null:u)}function qd(s,r,o,u){var g=Nt();u=u===void 0?null:u;var y=g.memoizedState.inst;ot!==null&&u!==null&&tp(u,ot.memoizedState.deps)?g.memoizedState=Oo(r,y,o,u):(Oe.flags|=s,g.memoizedState=Oo(1|r,y,o,u))}function cv(s,r){Hd(8390656,8,s,r)}function dp(s,r){qd(2048,8,s,r)}function RC(s){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=zd(),Oe.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function uv(s){var r=Nt().memoizedState;return RC({ref:r,nextImpl:s}),function(){if((et&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function dv(s,r){return qd(4,2,s,r)}function hv(s,r){return qd(4,4,s,r)}function fv(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function mv(s,r,o){o=o!=null?o.concat([s]):null,qd(4,4,fv.bind(null,r,s),o)}function hp(){}function pv(s,r){var o=Nt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&tp(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function gv(s,r){var o=Nt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&tp(r,u[1]))return u[0];if(u=s(),Ma){Qn(!0);try{s()}finally{Qn(!1)}}return o.memoizedState=[u,r],u}function fp(s,r,o){return o===void 0||(Ri&1073741824)!==0&&(qe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=y1(),Oe.lanes|=s,Sr|=s,o)}function yv(s,r,o,u){return Un(o,r)?o:Mo.current!==null?(s=fp(s,o,u),Un(s,r)||(Ut=!0),s):(Ri&42)===0||(Ri&1073741824)!==0&&(qe&261930)===0?(Ut=!0,s.memoizedState=o):(s=y1(),Oe.lanes|=s,Sr|=s,r)}function xv(s,r,o,u,g){var y=F.p;F.p=y!==0&&8>y?y:8;var _=C.T,k={};C.T=k,gp(s,!1,r,o);try{var L=g(),W=C.S;if(W!==null&&W(k,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ie=SC(L,u);vc(s,r,ie,Gn(s))}else vc(s,r,u,Gn(s))}catch(le){vc(s,r,{then:function(){},status:"rejected",reason:le},Gn())}finally{F.p=y,_!==null&&k.types!==null&&(_.types=k.types),C.T=_}}function jC(){}function mp(s,r,o,u){if(s.tag!==5)throw Error(i(476));var g=bv(s).queue;xv(s,g,r,B,o===null?jC:function(){return vv(s),o(u)})}function bv(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:B},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function vv(s){var r=bv(s);r.next===null&&(r=s.alternate.memoizedState),vc(s,r.next.queue,{},Gn())}function pp(){return an(Oc)}function wv(){return Nt().memoizedState}function _v(){return Nt().memoizedState}function IC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Gn();s=br(o);var u=vr(r,s,o);u!==null&&(Rn(u,r,o),pc(u,r,o)),r={cache:qm()},s.payload=r;return}r=r.return}}function DC(s,r,o){var u=Gn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gd(s)?Ev(r,o):(o=Dm(s,r,o,u),o!==null&&(Rn(o,s,u),Sv(o,r,u)))}function Tv(s,r,o){var u=Gn();vc(s,r,o,u)}function vc(s,r,o,u){var g={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gd(s))Ev(r,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,k=y(_,o);if(g.hasEagerState=!0,g.eagerState=k,Un(k,_))return Sd(s,r,g,0),ut===null&&Ed(),!1}catch{}if(o=Dm(s,r,g,u),o!==null)return Rn(o,s,u),Sv(o,r,u),!0}return!1}function gp(s,r,o,u){if(u={lane:2,revertLane:Yp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Gd(s)){if(r)throw Error(i(479))}else r=Dm(s,o,u,2),r!==null&&Rn(r,s,2)}function Gd(s){var r=s.alternate;return s===Oe||r!==null&&r===Oe}function Ev(s,r){Po=Ld=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Sv(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Fl(s,o)}}var wc={readContext:an,use:Bd,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};wc.useEffectEvent=wt;var kv={readContext:an,use:Bd,useCallback:function(s,r){return wn().memoizedState=[s,r===void 0?null:r],s},useContext:an,useEffect:cv,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Hd(4194308,4,fv.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Hd(4194308,4,s,r)},useInsertionEffect:function(s,r){Hd(4,2,s,r)},useMemo:function(s,r){var o=wn();r=r===void 0?null:r;var u=s();if(Ma){Qn(!0);try{s()}finally{Qn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=wn();if(o!==void 0){var g=o(r);if(Ma){Qn(!0);try{o(r)}finally{Qn(!1)}}}else g=r;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=DC.bind(null,Oe,s),[u.memoizedState,s]},useRef:function(s){var r=wn();return s={current:s},r.memoizedState=s},useState:function(s){s=cp(s);var r=s.queue,o=Tv.bind(null,Oe,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:hp,useDeferredValue:function(s,r){var o=wn();return fp(o,s,r)},useTransition:function(){var s=cp(!1);return s=xv.bind(null,Oe,s.queue,!0,!1),wn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Oe,g=wn();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ut===null)throw Error(i(349));(qe&127)!==0||Kb(u,r,o)}g.memoizedState=o;var y={value:o,getSnapshot:r};return g.queue=y,cv(Xb.bind(null,u,y,s),[s]),u.flags|=2048,Oo(9,{destroy:void 0},Yb.bind(null,u,y,o,r),null),o},useId:function(){var s=wn(),r=ut.identifierPrefix;if(Xe){var o=ii,u=si;o=(u&~(1<<32-St(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Ud++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=kC++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:pp,useFormState:iv,useActionState:iv,useOptimistic:function(s){var r=wn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=gp.bind(null,Oe,!0,o),o.dispatch=r,[s,r]},useMemoCache:ap,useCacheRefresh:function(){return wn().memoizedState=IC.bind(null,Oe)},useEffectEvent:function(s){var r=wn(),o={impl:s};return r.memoizedState=o,function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},yp={readContext:an,use:Bd,useCallback:pv,useContext:an,useEffect:dp,useImperativeHandle:mv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:gv,useReducer:Fd,useRef:lv,useState:function(){return Fd(ji)},useDebugValue:hp,useDeferredValue:function(s,r){var o=Nt();return yv(o,ot.memoizedState,s,r)},useTransition:function(){var s=Fd(ji)[0],r=Nt().memoizedState;return[typeof s=="boolean"?s:bc(s),r]},useSyncExternalStore:$b,useId:wv,useHostTransitionStatus:pp,useFormState:rv,useActionState:rv,useOptimistic:function(s,r){var o=Nt();return Jb(o,ot,s,r)},useMemoCache:ap,useCacheRefresh:_v};yp.useEffectEvent=uv;var Av={readContext:an,use:Bd,useCallback:pv,useContext:an,useEffect:dp,useImperativeHandle:mv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:gv,useReducer:lp,useRef:lv,useState:function(){return lp(ji)},useDebugValue:hp,useDeferredValue:function(s,r){var o=Nt();return ot===null?fp(o,s,r):yv(o,ot.memoizedState,s,r)},useTransition:function(){var s=lp(ji)[0],r=Nt().memoizedState;return[typeof s=="boolean"?s:bc(s),r]},useSyncExternalStore:$b,useId:wv,useHostTransitionStatus:pp,useFormState:ov,useActionState:ov,useOptimistic:function(s,r){var o=Nt();return ot!==null?Jb(o,ot,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:ap,useCacheRefresh:_v};Av.useEffectEvent=uv;function xp(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var bp={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Gn(),g=br(u);g.payload=r,o!=null&&(g.callback=o),r=vr(s,g,u),r!==null&&(Rn(r,s,u),pc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Gn(),g=br(u);g.tag=1,g.payload=r,o!=null&&(g.callback=o),r=vr(s,g,u),r!==null&&(Rn(r,s,u),pc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Gn(),u=br(o);u.tag=2,r!=null&&(u.callback=r),r=vr(s,u,o),r!==null&&(Rn(r,s,o),pc(r,s,o))}};function Nv(s,r,o,u,g,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,_):r.prototype&&r.prototype.isPureReactComponent?!oc(o,u)||!oc(g,y):!0}function Cv(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&bp.enqueueReplaceState(r,r.state,null)}function Pa(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var g in s)o[g]===void 0&&(o[g]=s[g])}return o}function Rv(s){Td(s)}function jv(s){console.error(s)}function Iv(s){Td(s)}function $d(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Dv(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function vp(s,r,o){return o=br(o),o.tag=3,o.payload={element:null},o.callback=function(){$d(s,r)},o}function Mv(s){return s=br(s),s.tag=3,s}function Pv(s,r,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;s.payload=function(){return g(y)},s.callback=function(){Dv(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Dv(r,o,u),typeof g!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function MC(s,r,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Co(r,o,g,!0),o=Bn.current,o!==null){switch(o.tag){case 31:case 13:return as===null?ih():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===Dd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Gp(s,u,g)),!1;case 22:return o.flags|=65536,u===Dd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Gp(s,u,g)),!1}throw Error(i(435,o.tag))}return Gp(s,u,g),ih(),!1}if(Xe)return r=Bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==Um&&(s=Error(i(422),{cause:u}),uc(ns(s,o)))):(u!==Um&&(r=Error(i(423),{cause:u}),uc(ns(r,o))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=ns(u,o),g=vp(s.stateNode,u,g),Qm(s,g),_t!==4&&(_t=2)),!1;var y=Error(i(520),{cause:u});if(y=ns(y,o),Cc===null?Cc=[y]:Cc.push(y),_t!==4&&(_t=2),r===null)return!0;u=ns(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=g&-g,o.lanes|=s,s=vp(o.stateNode,u,s),Qm(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(kr===null||!kr.has(y))))return o.flags|=65536,g&=-g,o.lanes|=g,g=Mv(g),Pv(g,s,o,u),Qm(o,g),!1}o=o.return}while(o!==null);return!1}var wp=Error(i(461)),Ut=!1;function on(s,r,o,u){r.child=s===null?Ub(r,null,o,u):Da(r,s.child,o,u)}function Vv(s,r,o,u,g){o=o.render;var y=r.ref;if("ref"in u){var _={};for(var k in u)k!=="ref"&&(_[k]=u[k])}else _=u;return Ca(r),u=np(s,r,o,_,y,g),k=sp(),s!==null&&!Ut?(ip(s,r,g),Ii(s,r,g)):(Xe&&k&&Om(r),r.flags|=1,on(s,r,u,g),r.child)}function Ov(s,r,o,u,g){if(s===null){var y=o.type;return typeof y=="function"&&!Mm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Lv(s,r,y,u,g)):(s=Ad(o.type,null,u,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!Cp(s,g)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:oc,o(_,u)&&s.ref===r.ref)return Ii(s,r,g)}return r.flags|=1,s=ki(y,u),s.ref=r.ref,s.return=r,r.child=s}function Lv(s,r,o,u,g){if(s!==null){var y=s.memoizedProps;if(oc(y,u)&&s.ref===r.ref)if(Ut=!1,r.pendingProps=u=y,Cp(s,g))(s.flags&131072)!==0&&(Ut=!0);else return r.lanes=s.lanes,Ii(s,r,g)}return _p(s,r,o,u,g)}function Uv(s,r,o,u){var g=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,r.child=null;return zv(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&jd(r,y!==null?y.cachePool:null),y!==null?Fb(r,y):Jm(),Hb(r);else return u=r.lanes=536870912,zv(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(jd(r,y.cachePool),Fb(r,y),_r(),r.memoizedState=null):(s!==null&&jd(r,null),Jm(),_r());return on(s,r,g,o),r.child}function _c(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function zv(s,r,o,u,g){var y=$m();return y=y===null?null:{parent:Ot._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&jd(r,null),Jm(),Hb(r),s!==null&&Co(s,r,u,!0),r.childLanes=g,null}function Kd(s,r){return r=Xd({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Bv(s,r,o){return Da(r,s.child,null,o),s=Kd(r,r.pendingProps),s.flags|=2,Fn(r),r.memoizedState=null,s}function PC(s,r,o){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Xe){if(u.mode==="hidden")return s=Kd(r,u),r.lanes=536870912,_c(null,s);if(ep(r),(s=ft)?(s=Z1(s,rs),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:mr!==null?{id:si,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},o=Eb(s),o.return=r,r.child=o,rn=r,ft=null)):s=null,s===null)throw gr(r);return r.lanes=536870912,null}return Kd(r,u)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(ep(r),g)if(r.flags&256)r.flags&=-257,r=Bv(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ut||Co(s,r,o,!1),g=(o&s.childLanes)!==0,Ut||g){if(u=ut,u!==null&&(_=Hl(u,o),_!==0&&_!==y.retryLane))throw y.retryLane=_,Sa(s,_),Rn(u,s,_),wp;ih(),r=Bv(s,r,o)}else s=y.treeContext,ft=os(_.nextSibling),rn=r,Xe=!0,pr=null,rs=!1,s!==null&&Ab(r,s),r=Kd(r,u),r.flags|=4096;return r}return s=ki(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Yd(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function _p(s,r,o,u,g){return Ca(r),o=np(s,r,o,u,void 0,g),u=sp(),s!==null&&!Ut?(ip(s,r,g),Ii(s,r,g)):(Xe&&u&&Om(r),r.flags|=1,on(s,r,o,g),r.child)}function Fv(s,r,o,u,g,y){return Ca(r),r.updateQueue=null,o=Gb(r,u,o,g),qb(s),u=sp(),s!==null&&!Ut?(ip(s,r,y),Ii(s,r,y)):(Xe&&u&&Om(r),r.flags|=1,on(s,r,o,y),r.child)}function Hv(s,r,o,u,g){if(Ca(r),r.stateNode===null){var y=So,_=o.contextType;typeof _=="object"&&_!==null&&(y=an(_)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=bp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Ym(r),_=o.contextType,y.context=typeof _=="object"&&_!==null?an(_):So,y.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(xp(r,o,_,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&bp.enqueueReplaceState(y,y.state,null),yc(r,u,y,g),gc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var k=r.memoizedProps,L=Pa(o,k);y.props=L;var W=y.context,ie=o.contextType;_=So,typeof ie=="object"&&ie!==null&&(_=an(ie));var le=o.getDerivedStateFromProps;ie=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=r.pendingProps!==k,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||W!==_)&&Cv(r,y,u,_),xr=!1;var Z=r.memoizedState;y.state=Z,yc(r,u,y,g),gc(),W=r.memoizedState,k||Z!==W||xr?(typeof le=="function"&&(xp(r,o,le,u),W=r.memoizedState),(L=xr||Nv(r,o,L,u,Z,W,_))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=W),y.props=u,y.state=W,y.context=_,u=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Xm(s,r),_=r.memoizedProps,ie=Pa(o,_),y.props=ie,le=r.pendingProps,Z=y.context,W=o.contextType,L=So,typeof W=="object"&&W!==null&&(L=an(W)),k=o.getDerivedStateFromProps,(W=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==le||Z!==L)&&Cv(r,y,u,L),xr=!1,Z=r.memoizedState,y.state=Z,yc(r,u,y,g),gc();var te=r.memoizedState;_!==le||Z!==te||xr||s!==null&&s.dependencies!==null&&Cd(s.dependencies)?(typeof k=="function"&&(xp(r,o,k,u),te=r.memoizedState),(ie=xr||Nv(r,o,ie,u,Z,te,L)||s!==null&&s.dependencies!==null&&Cd(s.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,te,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,te,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&Z===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Z===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),y.props=u,y.state=te,y.context=L,u=ie):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&Z===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Z===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Yd(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=Da(r,s.child,null,g),r.child=Da(r,null,o,g)):on(s,r,o,g),r.memoizedState=y.state,s=r.child):s=Ii(s,r,g),s}function qv(s,r,o,u){return Aa(),r.flags|=256,on(s,r,o,u),r.child}var Tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ep(s){return{baseLanes:s,cachePool:Db()}}function Sp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=qn),s}function Gv(s,r,o){var u=r.pendingProps,g=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(At.current&2)!==0),_&&(g=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(Xe){if(g?wr(r):_r(),(s=ft)?(s=Z1(s,rs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:mr!==null?{id:si,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},o=Eb(s),o.return=r,r.child=o,rn=r,ft=null)):s=null,s===null)throw gr(r);return o0(s)?r.lanes=32:r.lanes=536870912,null}var k=u.children;return u=u.fallback,g?(_r(),g=r.mode,k=Xd({mode:"hidden",children:k},g),u=ka(u,g,o,null),k.return=r,u.return=r,k.sibling=u,r.child=k,u=r.child,u.memoizedState=Ep(o),u.childLanes=Sp(s,_,o),r.memoizedState=Tp,_c(null,u)):(wr(r),kp(r,k))}var L=s.memoizedState;if(L!==null&&(k=L.dehydrated,k!==null)){if(y)r.flags&256?(wr(r),r.flags&=-257,r=Ap(s,r,o)):r.memoizedState!==null?(_r(),r.child=s.child,r.flags|=128,r=null):(_r(),k=u.fallback,g=r.mode,u=Xd({mode:"visible",children:u.children},g),k=ka(k,g,o,null),k.flags|=2,u.return=r,k.return=r,u.sibling=k,r.child=u,Da(r,s.child,null,o),u=r.child,u.memoizedState=Ep(o),u.childLanes=Sp(s,_,o),r.memoizedState=Tp,r=_c(null,u));else if(wr(r),o0(k)){if(_=k.nextSibling&&k.nextSibling.dataset,_)var W=_.dgst;_=W,u=Error(i(419)),u.stack="",u.digest=_,uc({value:u,source:null,stack:null}),r=Ap(s,r,o)}else if(Ut||Co(s,r,o,!1),_=(o&s.childLanes)!==0,Ut||_){if(_=ut,_!==null&&(u=Hl(_,o),u!==0&&u!==L.retryLane))throw L.retryLane=u,Sa(s,u),Rn(_,s,u),wp;a0(k)||ih(),r=Ap(s,r,o)}else a0(k)?(r.flags|=192,r.child=s.child,r=null):(s=L.treeContext,ft=os(k.nextSibling),rn=r,Xe=!0,pr=null,rs=!1,s!==null&&Ab(r,s),r=kp(r,u.children),r.flags|=4096);return r}return g?(_r(),k=u.fallback,g=r.mode,L=s.child,W=L.sibling,u=ki(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,W!==null?k=ki(W,k):(k=ka(k,g,o,null),k.flags|=2),k.return=r,u.return=r,u.sibling=k,r.child=u,_c(null,u),u=r.child,k=s.child.memoizedState,k===null?k=Ep(o):(g=k.cachePool,g!==null?(L=Ot._currentValue,g=g.parent!==L?{parent:L,pool:L}:g):g=Db(),k={baseLanes:k.baseLanes|o,cachePool:g}),u.memoizedState=k,u.childLanes=Sp(s,_,o),r.memoizedState=Tp,_c(s.child,u)):(wr(r),o=s.child,s=o.sibling,o=ki(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function kp(s,r){return r=Xd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Xd(s,r){return s=zn(22,s,null,r),s.lanes=0,s}function Ap(s,r,o){return Da(r,s.child,null,o),s=kp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function $v(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Fm(s.return,r,o)}function Np(s,r,o,u,g,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=g,_.treeForkCount=y)}function Kv(s,r,o){var u=r.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var _=At.current,k=(_&2)!==0;if(k?(_=_&1|2,r.flags|=128):_&=1,ue(At,_),on(s,r,u,o),u=Xe?cc:0,!k&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$v(s,o,r);else if(s.tag===19)$v(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(o=r.child,g=null;o!==null;)s=o.alternate,s!==null&&Od(s)===null&&(g=o),o=o.sibling;o=g,o===null?(g=r.child,r.child=null):(g=o.sibling,o.sibling=null),Np(r,!1,g,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&Od(s)===null){r.child=g;break}s=g.sibling,g.sibling=o,o=g,g=s}Np(r,!0,o,null,y,u);break;case"together":Np(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ii(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Sr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Co(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=ki(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=ki(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Cp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Cd(s)))}function VC(s,r,o){switch(r.tag){case 3:me(r,r.stateNode.containerInfo),yr(r,Ot,s.memoizedState.cache),Aa();break;case 27:case 5:rt(r);break;case 4:me(r,r.stateNode.containerInfo);break;case 10:yr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ep(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(wr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Gv(s,r,o):(wr(r),s=Ii(s,r,o),s!==null?s.sibling:null);wr(r);break;case 19:var g=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Co(s,r,o,!1),u=(o&r.childLanes)!==0),g){if(u)return Kv(s,r,o);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(At,At.current),u)break;return null;case 22:return r.lanes=0,Uv(s,r,o,r.pendingProps);case 24:yr(r,Ot,s.memoizedState.cache)}return Ii(s,r,o)}function Yv(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ut=!0;else{if(!Cp(s,o)&&(r.flags&128)===0)return Ut=!1,VC(s,r,o);Ut=(s.flags&131072)!==0}else Ut=!1,Xe&&(r.flags&1048576)!==0&&kb(r,cc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=ja(r.elementType),r.type=s,typeof s=="function")Mm(s)?(u=Pa(s,u),r.tag=1,r=Hv(null,r,s,u,o)):(r.tag=0,r=_p(null,r,s,u,o));else{if(s!=null){var g=s.$$typeof;if(g===G){r.tag=11,r=Vv(null,r,s,u,o);break e}else if(g===j){r.tag=14,r=Ov(null,r,s,u,o);break e}}throw r=ze(s)||s,Error(i(306,r,""))}}return r;case 0:return _p(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,g=Pa(u,r.pendingProps),Hv(s,r,u,g,o);case 3:e:{if(me(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;g=y.element,Xm(s,r),yc(r,u,null,o);var _=r.memoizedState;if(u=_.cache,yr(r,Ot,u),u!==y.cache&&Hm(r,[Ot],o,!0),gc(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=qv(s,r,u,o);break e}else if(u!==g){g=ns(Error(i(424)),r),uc(g),r=qv(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ft=os(s.firstChild),rn=r,Xe=!0,pr=null,rs=!0,o=Ub(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Aa(),u===g){r=Ii(s,r,o);break e}on(s,r,u,o)}r=r.child}return r;case 26:return Yd(s,r),s===null?(o=rw(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,s=r.pendingProps,u=dh(ke.current).createElement(o),u[Mt]=r,u[Wt]=s,ln(u,o,s),Pt(u),r.stateNode=u):r.memoizedState=rw(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return rt(r),s===null&&Xe&&(u=r.stateNode=nw(r.type,r.pendingProps,ke.current),rn=r,rs=!0,g=ft,Rr(r.type)?(l0=g,ft=os(u.firstChild)):ft=g),on(s,r,r.pendingProps.children,o),Yd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Xe&&((g=u=ft)&&(u=hR(u,r.type,r.pendingProps,rs),u!==null?(r.stateNode=u,rn=r,ft=os(u.firstChild),rs=!1,g=!0):g=!1),g||gr(r)),rt(r),g=r.type,y=r.pendingProps,_=s!==null?s.memoizedProps:null,u=y.children,s0(g,y)?u=null:_!==null&&s0(g,_)&&(r.flags|=32),r.memoizedState!==null&&(g=np(s,r,AC,null,null,o),Oc._currentValue=g),Yd(s,r),on(s,r,u,o),r.child;case 6:return s===null&&Xe&&((s=o=ft)&&(o=fR(o,r.pendingProps,rs),o!==null?(r.stateNode=o,rn=r,ft=null,s=!0):s=!1),s||gr(r)),null;case 13:return Gv(s,r,o);case 4:return me(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Da(r,null,u,o):on(s,r,u,o),r.child;case 11:return Vv(s,r,r.type,r.pendingProps,o);case 7:return on(s,r,r.pendingProps,o),r.child;case 8:return on(s,r,r.pendingProps.children,o),r.child;case 12:return on(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,yr(r,r.type,u.value),on(s,r,u.children,o),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,Ca(r),g=an(g),u=u(g),r.flags|=1,on(s,r,u,o),r.child;case 14:return Ov(s,r,r.type,r.pendingProps,o);case 15:return Lv(s,r,r.type,r.pendingProps,o);case 19:return Kv(s,r,o);case 31:return PC(s,r,o);case 22:return Uv(s,r,o,r.pendingProps);case 24:return Ca(r),u=an(Ot),s===null?(g=$m(),g===null&&(g=ut,y=qm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=o),g=y),r.memoizedState={parent:u,cache:g},Ym(r),yr(r,Ot,g)):((s.lanes&o)!==0&&(Xm(s,r),yc(r,null,null,o),gc()),g=s.memoizedState,y=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),yr(r,Ot,u)):(u=y.cache,yr(r,Ot,u),u!==g.cache&&Hm(r,[Ot],o,!0))),on(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Di(s){s.flags|=4}function Rp(s,r,o,u,g){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(w1())s.flags|=8192;else throw Ia=Dd,Km}else s.flags&=-16777217}function Xv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!uw(r))if(w1())s.flags|=8192;else throw Ia=Dd,Km}function Qd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?nd():536870912,s.lanes|=r,Bo|=r)}function Tc(s,r){if(!Xe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function mt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var g=s.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function OC(s,r,o){var u=r.pendingProps;switch(Lm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ci(Ot),Ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(No(r)?Di(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,zm())),mt(r),null;case 26:var g=r.type,y=r.memoizedState;return s===null?(Di(r),y!==null?(mt(r),Xv(r,y)):(mt(r),Rp(r,g,null,u,o))):y?y!==s.memoizedState?(Di(r),mt(r),Xv(r,y)):(mt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Di(r),mt(r),Rp(r,g,s,u,o)),null;case 27:if(jt(r),o=ke.current,g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Di(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return mt(r),null}s=he.current,No(r)?Nb(r):(s=nw(g,u,o),r.stateNode=s,Di(r))}return mt(r),null;case 5:if(jt(r),g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Di(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return mt(r),null}if(y=he.current,No(r))Nb(r);else{var _=dh(ke.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(g,{is:u.is}):_.createElement(g)}}y[Mt]=r,y[Wt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(ln(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Di(r)}}return mt(r),Rp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Di(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=ke.current,No(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,g=rn,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Mt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||G1(s.nodeValue,o)),s||gr(r,!0)}else s=dh(s).createTextNode(u),s[Mt]=r,r.stateNode=s}return mt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=No(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Mt]=r}else Aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),s=!1}else o=zm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Fn(r),r):(Fn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return mt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=No(r),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Mt]=r}else Aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),g=!1}else g=zm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Fn(r),r):(Fn(r),null)}return Fn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Qd(r,r.updateQueue),mt(r),null);case 4:return Ie(),s===null&&Jp(r.stateNode.containerInfo),mt(r),null;case 10:return Ci(r.type),mt(r),null;case 19:if(J(At),u=r.memoizedState,u===null)return mt(r),null;if(g=(r.flags&128)!==0,y=u.rendering,y===null)if(g)Tc(u,!1);else{if(_t!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Od(s),y!==null){for(r.flags|=128,Tc(u,!1),s=y.updateQueue,r.updateQueue=s,Qd(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Tb(o,s),o=o.sibling;return ue(At,At.current&1|2),Xe&&Ai(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&bn()>th&&(r.flags|=128,g=!0,Tc(u,!1),r.lanes=4194304)}else{if(!g)if(s=Od(y),s!==null){if(r.flags|=128,g=!0,s=s.updateQueue,r.updateQueue=s,Qd(r,s),Tc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Xe)return mt(r),null}else 2*bn()-u.renderingStartTime>th&&o!==536870912&&(r.flags|=128,g=!0,Tc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=bn(),s.sibling=null,o=At.current,ue(At,g?o&1|2:o&1),Xe&&Ai(r,u.treeForkCount),s):(mt(r),null);case 22:case 23:return Fn(r),Zm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),o=r.updateQueue,o!==null&&Qd(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&J(Ra),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ci(Ot),mt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function LC(s,r){switch(Lm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ci(Ot),Ie(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return jt(r),null;case 31:if(r.memoizedState!==null){if(Fn(r),r.alternate===null)throw Error(i(340));Aa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Fn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Aa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return J(At),null;case 4:return Ie(),null;case 10:return Ci(r.type),null;case 22:case 23:return Fn(r),Zm(),s!==null&&J(Ra),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ci(Ot),null;case 25:return null;default:return null}}function Qv(s,r){switch(Lm(r),r.tag){case 3:Ci(Ot),Ie();break;case 26:case 27:case 5:jt(r);break;case 4:Ie();break;case 31:r.memoizedState!==null&&Fn(r);break;case 13:Fn(r);break;case 19:J(At);break;case 10:Ci(r.type);break;case 22:case 23:Fn(r),Zm(),s!==null&&J(Ra);break;case 24:Ci(Ot)}}function Ec(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&s)===s){u=void 0;var y=o.create,_=o.inst;u=y(),_.destroy=u}o=o.next}while(o!==g)}}catch(k){it(r,r.return,k)}}function Tr(s,r,o){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&s)===s){var _=u.inst,k=_.destroy;if(k!==void 0){_.destroy=void 0,g=r;var L=o,W=k;try{W()}catch(ie){it(g,L,ie)}}}u=u.next}while(u!==y)}}catch(ie){it(r,r.return,ie)}}function Wv(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Bb(r,o)}catch(u){it(s,s.return,u)}}}function Jv(s,r,o){o.props=Pa(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){it(s,r,u)}}function Sc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(g){it(s,r,g)}}function ri(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){it(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){it(s,r,g)}else o.current=null}function Zv(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){it(s,s.return,g)}}function jp(s,r,o){try{var u=s.stateNode;aR(u,s.type,o,r),u[Wt]=r}catch(g){it(s,s.return,g)}}function e1(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Rr(s.type)||s.tag===4}function Ip(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||e1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Rr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Dp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=bs));else if(u!==4&&(u===27&&Rr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Dp(s,r,o),s=s.sibling;s!==null;)Dp(s,r,o),s=s.sibling}function Wd(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Rr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Wd(s,r,o),s=s.sibling;s!==null;)Wd(s,r,o),s=s.sibling}function t1(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);ln(r,u,o),r[Mt]=s,r[Wt]=o}catch(y){it(s,s.return,y)}}var Mi=!1,zt=!1,Mp=!1,n1=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function UC(s,r){if(s=s.containerInfo,t0=xh,s=mb(s),Am(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,k=-1,L=-1,W=0,ie=0,le=s,Z=null;t:for(;;){for(var te;le!==o||g!==0&&le.nodeType!==3||(k=_+g),le!==y||u!==0&&le.nodeType!==3||(L=_+u),le.nodeType===3&&(_+=le.nodeValue.length),(te=le.firstChild)!==null;)Z=le,le=te;for(;;){if(le===s)break t;if(Z===o&&++W===g&&(k=_),Z===y&&++ie===u&&(L=_),(te=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=te}o=k===-1||L===-1?null:{start:k,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(n0={focusedElem:s,selectionRange:o},xh=!1,Zt=r;Zt!==null;)if(r=Zt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Zt=s;else for(;Zt!==null;){switch(r=Zt,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)g=s[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,g=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var ve=Pa(o.type,g);s=u.getSnapshotBeforeUpdate(ve,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ce){it(o,o.return,Ce)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)r0(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":r0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Zt=s;break}Zt=r.return}}function s1(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Vi(s,o),u&4&&Ec(5,o);break;case 1:if(Vi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){it(o,o.return,_)}else{var g=Pa(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){it(o,o.return,_)}}u&64&&Wv(o),u&512&&Sc(o,o.return);break;case 3:if(Vi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Bb(s,r)}catch(_){it(o,o.return,_)}}break;case 27:r===null&&u&4&&t1(o);case 26:case 5:Vi(s,o),r===null&&u&4&&Zv(o),u&512&&Sc(o,o.return);break;case 12:Vi(s,o);break;case 31:Vi(s,o),u&4&&a1(s,o);break;case 13:Vi(s,o),u&4&&o1(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=YC.bind(null,o),mR(s,o))));break;case 22:if(u=o.memoizedState!==null||Mi,!u){r=r!==null&&r.memoizedState!==null||zt,g=Mi;var y=zt;Mi=u,(zt=r)&&!y?Oi(s,o,(o.subtreeFlags&8772)!==0):Vi(s,o),Mi=g,zt=y}break;case 30:break;default:Vi(s,o)}}function i1(s){var r=s.alternate;r!==null&&(s.alternate=null,i1(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&uo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var yt=null,kn=!1;function Pi(s,r,o){for(o=o.child;o!==null;)r1(s,r,o),o=o.sibling}function r1(s,r,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ps,o)}catch{}switch(o.tag){case 26:zt||ri(o,r),Pi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:zt||ri(o,r);var u=yt,g=kn;Rr(o.type)&&(yt=o.stateNode,kn=!1),Pi(s,r,o),Mc(o.stateNode),yt=u,kn=g;break;case 5:zt||ri(o,r);case 6:if(u=yt,g=kn,yt=null,Pi(s,r,o),yt=u,kn=g,yt!==null)if(kn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(o.stateNode)}catch(y){it(o,r,y)}else try{yt.removeChild(o.stateNode)}catch(y){it(o,r,y)}break;case 18:yt!==null&&(kn?(s=yt,W1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Xo(s)):W1(yt,o.stateNode));break;case 4:u=yt,g=kn,yt=o.stateNode.containerInfo,kn=!0,Pi(s,r,o),yt=u,kn=g;break;case 0:case 11:case 14:case 15:Tr(2,o,r),zt||Tr(4,o,r),Pi(s,r,o);break;case 1:zt||(ri(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Jv(o,r,u)),Pi(s,r,o);break;case 21:Pi(s,r,o);break;case 22:zt=(u=zt)||o.memoizedState!==null,Pi(s,r,o),zt=u;break;default:Pi(s,r,o)}}function a1(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Xo(s)}catch(o){it(r,r.return,o)}}}function o1(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Xo(s)}catch(o){it(r,r.return,o)}}function zC(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new n1),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new n1),r;default:throw Error(i(435,s.tag))}}function Jd(s,r){var o=zC(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var g=XC.bind(null,s,u);u.then(g,g)}})}function An(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],y=s,_=r,k=_;e:for(;k!==null;){switch(k.tag){case 27:if(Rr(k.type)){yt=k.stateNode,kn=!1;break e}break;case 5:yt=k.stateNode,kn=!1;break e;case 3:case 4:yt=k.stateNode.containerInfo,kn=!0;break e}k=k.return}if(yt===null)throw Error(i(160));r1(y,_,g),yt=null,kn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)l1(r,s),r=r.sibling}var Ss=null;function l1(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:An(r,s),Nn(s),u&4&&(Tr(3,s,s.return),Ec(3,s),Tr(5,s,s.return));break;case 1:An(r,s),Nn(s),u&512&&(zt||o===null||ri(o,o.return)),u&64&&Mi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=Ss;if(An(r,s),Nn(s),u&512&&(zt||o===null||ri(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Gs]||y[Mt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),ln(y,u,o),y[Mt]=s,Pt(y),u=y;break e;case"link":var _=lw("link","href",g).get(u+(o.href||""));if(_){for(var k=0;k<_.length;k++)if(y=_[k],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(k,1);break t}}y=g.createElement(u),ln(y,u,o),g.head.appendChild(y);break;case"meta":if(_=lw("meta","content",g).get(u+(o.content||""))){for(k=0;k<_.length;k++)if(y=_[k],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(k,1);break t}}y=g.createElement(u),ln(y,u,o),g.head.appendChild(y);break;default:throw Error(i(468,u))}y[Mt]=s,Pt(y),u=y}s.stateNode=u}else cw(g,s.type,s.stateNode);else s.stateNode=ow(g,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?cw(g,s.type,s.stateNode):ow(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&jp(s,s.memoizedProps,o.memoizedProps)}break;case 27:An(r,s),Nn(s),u&512&&(zt||o===null||ri(o,o.return)),o!==null&&u&4&&jp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(An(r,s),Nn(s),u&512&&(zt||o===null||ri(o,o.return)),s.flags&32){g=s.stateNode;try{Sn(g,"")}catch(ve){it(s,s.return,ve)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,jp(s,g,o!==null?o.memoizedProps:g)),u&1024&&(Mp=!0);break;case 6:if(An(r,s),Nn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(ve){it(s,s.return,ve)}}break;case 3:if(mh=null,g=Ss,Ss=hh(r.containerInfo),An(r,s),Ss=g,Nn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xo(r.containerInfo)}catch(ve){it(s,s.return,ve)}Mp&&(Mp=!1,c1(s));break;case 4:u=Ss,Ss=hh(s.stateNode.containerInfo),An(r,s),Nn(s),Ss=u;break;case 12:An(r,s),Nn(s);break;case 31:An(r,s),Nn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Jd(s,u)));break;case 13:An(r,s),Nn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(eh=bn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Jd(s,u)));break;case 22:g=s.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,W=Mi,ie=zt;if(Mi=W||g,zt=ie||L,An(r,s),zt=ie,Mi=W,Nn(s),u&8192)e:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(o===null||L||Mi||zt||Va(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(y=L.stateNode,g)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{k=L.stateNode;var le=L.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;k.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ve){it(L,L.return,ve)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=g?"":L.memoizedProps}catch(ve){it(L,L.return,ve)}}}else if(r.tag===18){if(o===null){L=r;try{var te=L.stateNode;g?J1(te,!0):J1(L.stateNode,!1)}catch(ve){it(L,L.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Jd(s,o))));break;case 19:An(r,s),Nn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Jd(s,u)));break;case 30:break;case 21:break;default:An(r,s),Nn(s)}}function Nn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(e1(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var g=o.stateNode,y=Ip(s);Wd(s,y,g);break;case 5:var _=o.stateNode;o.flags&32&&(Sn(_,""),o.flags&=-33);var k=Ip(s);Wd(s,k,_);break;case 3:case 4:var L=o.stateNode.containerInfo,W=Ip(s);Dp(s,W,L);break;default:throw Error(i(161))}}catch(ie){it(s,s.return,ie)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function c1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;c1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Vi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)s1(s,r.alternate,r),r=r.sibling}function Va(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Tr(4,r,r.return),Va(r);break;case 1:ri(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Jv(r,r.return,o),Va(r);break;case 27:Mc(r.stateNode);case 26:case 5:ri(r,r.return),Va(r);break;case 22:r.memoizedState===null&&Va(r);break;case 30:Va(r);break;default:Va(r)}s=s.sibling}}function Oi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=s,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:Oi(g,y,o),Ec(4,y);break;case 1:if(Oi(g,y,o),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(W){it(u,u.return,W)}if(u=y,g=u.updateQueue,g!==null){var k=u.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)zb(L[g],k)}catch(W){it(u,u.return,W)}}o&&_&64&&Wv(y),Sc(y,y.return);break;case 27:t1(y);case 26:case 5:Oi(g,y,o),o&&u===null&&_&4&&Zv(y),Sc(y,y.return);break;case 12:Oi(g,y,o);break;case 31:Oi(g,y,o),o&&_&4&&a1(g,y);break;case 13:Oi(g,y,o),o&&_&4&&o1(g,y);break;case 22:y.memoizedState===null&&Oi(g,y,o),Sc(y,y.return);break;case 30:break;default:Oi(g,y,o)}r=r.sibling}}function Pp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&dc(o))}function Vp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&dc(s))}function ks(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)u1(s,r,o,u),r=r.sibling}function u1(s,r,o,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:ks(s,r,o,u),g&2048&&Ec(9,r);break;case 1:ks(s,r,o,u);break;case 3:ks(s,r,o,u),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&dc(s)));break;case 12:if(g&2048){ks(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,_=y.id,k=y.onPostCommit;typeof k=="function"&&k(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){it(r,r.return,L)}}else ks(s,r,o,u);break;case 31:ks(s,r,o,u);break;case 13:ks(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?ks(s,r,o,u):kc(s,r):y._visibility&2?ks(s,r,o,u):(y._visibility|=2,Lo(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Pp(_,r);break;case 24:ks(s,r,o,u),g&2048&&Vp(r.alternate,r);break;default:ks(s,r,o,u)}}function Lo(s,r,o,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,_=r,k=o,L=u,W=_.flags;switch(_.tag){case 0:case 11:case 15:Lo(y,_,k,L,g),Ec(8,_);break;case 23:break;case 22:var ie=_.stateNode;_.memoizedState!==null?ie._visibility&2?Lo(y,_,k,L,g):kc(y,_):(ie._visibility|=2,Lo(y,_,k,L,g)),g&&W&2048&&Pp(_.alternate,_);break;case 24:Lo(y,_,k,L,g),g&&W&2048&&Vp(_.alternate,_);break;default:Lo(y,_,k,L,g)}r=r.sibling}}function kc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,g=u.flags;switch(u.tag){case 22:kc(o,u),g&2048&&Pp(u.alternate,u);break;case 24:kc(o,u),g&2048&&Vp(u.alternate,u);break;default:kc(o,u)}r=r.sibling}}var Ac=8192;function Uo(s,r,o){if(s.subtreeFlags&Ac)for(s=s.child;s!==null;)d1(s,r,o),s=s.sibling}function d1(s,r,o){switch(s.tag){case 26:Uo(s,r,o),s.flags&Ac&&s.memoizedState!==null&&kR(o,Ss,s.memoizedState,s.memoizedProps);break;case 5:Uo(s,r,o);break;case 3:case 4:var u=Ss;Ss=hh(s.stateNode.containerInfo),Uo(s,r,o),Ss=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Ac,Ac=16777216,Uo(s,r,o),Ac=u):Uo(s,r,o));break;default:Uo(s,r,o)}}function h1(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Nc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,m1(u,s)}h1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)f1(s),s=s.sibling}function f1(s){switch(s.tag){case 0:case 11:case 15:Nc(s),s.flags&2048&&Tr(9,s,s.return);break;case 3:Nc(s);break;case 12:Nc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Zd(s)):Nc(s);break;default:Nc(s)}}function Zd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,m1(u,s)}h1(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Tr(8,r,r.return),Zd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Zd(r));break;default:Zd(r)}s=s.sibling}}function m1(s,r){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:Tr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:dc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Zt=u;else e:for(o=s;Zt!==null;){u=Zt;var g=u.sibling,y=u.return;if(i1(u),u===o){Zt=null;break e}if(g!==null){g.return=y,Zt=g;break e}Zt=y}}}var BC={getCacheForType:function(s){var r=an(Ot),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return an(Ot).controller.signal}},FC=typeof WeakMap=="function"?WeakMap:Map,et=0,ut=null,Be=null,qe=0,st=0,Hn=null,Er=!1,zo=!1,Op=!1,Li=0,_t=0,Sr=0,Oa=0,Lp=0,qn=0,Bo=0,Cc=null,Cn=null,Up=!1,eh=0,p1=0,th=1/0,nh=null,kr=null,$t=0,Ar=null,Fo=null,Ui=0,zp=0,Bp=null,g1=null,Rc=0,Fp=null;function Gn(){return(et&2)!==0&&qe!==0?qe&-qe:C.T!==null?Yp():sd()}function y1(){if(qn===0)if((qe&536870912)===0||Xe){var s=ua;ua<<=1,(ua&3932160)===0&&(ua=262144),qn=s}else qn=536870912;return s=Bn.current,s!==null&&(s.flags|=32),qn}function Rn(s,r,o){(s===ut&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(Ho(s,0),Nr(s,qe,qn,!1)),da(s,o),((et&2)===0||s!==ut)&&(s===ut&&((et&2)===0&&(Oa|=o),_t===4&&Nr(s,qe,qn,!1)),ai(s))}function x1(s,r,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||gs(s,r),g=u?GC(s,r):qp(s,r,!0),y=u;do{if(g===0){zo&&!u&&Nr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!HC(o)){g=qp(s,r,!1),y=!1;continue}if(g===2){if(y=r,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var k=s;g=Cc;var L=k.current.memoizedState.isDehydrated;if(L&&(Ho(k,_).flags|=256),_=qp(k,_,!1),_!==2){if(Op&&!L){k.errorRecoveryDisabledLanes|=y,Oa|=y,g=4;break e}y=Cn,Cn=g,y!==null&&(Cn===null?Cn=y:Cn.push.apply(Cn,y))}g=_}if(y=!1,g!==2)continue}}if(g===1){Ho(s,0),Nr(s,r,0,!0);break}e:{switch(u=s,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Nr(u,r,qn,!Er);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=eh+300-bn(),10<g)){if(Nr(u,r,qn,!Er),Fs(u,0,!0)!==0)break e;Ui=r,u.timeoutHandle=X1(b1.bind(null,u,o,Cn,nh,Up,r,qn,Oa,Bo,Er,y,"Throttled",-0,0),g);break e}b1(u,o,Cn,nh,Up,r,qn,Oa,Bo,Er,y,null,-0,0)}}break}while(!0);ai(s)}function b1(s,r,o,u,g,y,_,k,L,W,ie,le,Z,te){if(s.timeoutHandle=-1,le=r.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},d1(r,y,le);var ve=(y&62914560)===y?eh-bn():(y&4194048)===y?p1-bn():0;if(ve=AR(le,ve),ve!==null){Ui=y,s.cancelPendingCommit=ve(A1.bind(null,s,r,y,o,u,g,_,k,L,ie,le,null,Z,te)),Nr(s,y,_,!W);return}}A1(s,r,y,o,u,g,_,k,L)}function HC(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],y=g.getSnapshot;g=g.value;try{if(!Un(y(),g))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Nr(s,r,o,u){r&=~Lp,r&=~Oa,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var g=r;0<g;){var y=31-St(g),_=1<<y;u[y]=-1,g&=~_}o!==0&&ha(s,o,r)}function sh(){return(et&6)===0?(jc(0),!1):!0}function Hp(){if(Be!==null){if(st===0)var s=Be.return;else s=Be,Ni=Na=null,rp(s),Do=null,fc=0,s=Be;for(;s!==null;)Qv(s.alternate,s),s=s.return;Be=null}}function Ho(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,cR(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ui=0,Hp(),ut=s,Be=o=ki(s.current,null),qe=r,st=0,Hn=null,Er=!1,zo=gs(s,r),Op=!1,Bo=qn=Lp=Oa=Sr=_t=0,Cn=Cc=null,Up=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var g=31-St(u),y=1<<g;r|=s[g],u&=~y}return Li=r,Ed(),o}function v1(s,r){Oe=null,C.H=wc,r===Io||r===Id?(r=Vb(),st=3):r===Km?(r=Vb(),st=4):st=r===wp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hn=r,Be===null&&(_t=1,$d(s,ns(r,s.current)))}function w1(){var s=Bn.current;return s===null?!0:(qe&4194048)===qe?as===null:(qe&62914560)===qe||(qe&536870912)!==0?s===as:!1}function _1(){var s=C.H;return C.H=wc,s===null?wc:s}function T1(){var s=C.A;return C.A=BC,s}function ih(){_t=4,Er||(qe&4194048)!==qe&&Bn.current!==null||(zo=!0),(Sr&134217727)===0&&(Oa&134217727)===0||ut===null||Nr(ut,qe,qn,!1)}function qp(s,r,o){var u=et;et|=2;var g=_1(),y=T1();(ut!==s||qe!==r)&&(nh=null,Ho(s,r)),r=!1;var _=_t;e:do try{if(st!==0&&Be!==null){var k=Be,L=Hn;switch(st){case 8:Hp(),_=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(r=!0);var W=st;if(st=0,Hn=null,qo(s,k,L,W),o&&zo){_=0;break e}break;default:W=st,st=0,Hn=null,qo(s,k,L,W)}}qC(),_=_t;break}catch(ie){v1(s,ie)}while(!0);return r&&s.shellSuspendCounter++,Ni=Na=null,et=u,C.H=g,C.A=y,Be===null&&(ut=null,qe=0,Ed()),_}function qC(){for(;Be!==null;)E1(Be)}function GC(s,r){var o=et;et|=2;var u=_1(),g=T1();ut!==s||qe!==r?(nh=null,th=bn()+500,Ho(s,r)):zo=gs(s,r);e:do try{if(st!==0&&Be!==null){r=Be;var y=Hn;t:switch(st){case 1:st=0,Hn=null,qo(s,r,y,1);break;case 2:case 9:if(Mb(y)){st=0,Hn=null,S1(r);break}r=function(){st!==2&&st!==9||ut!==s||(st=7),ai(s)},y.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Mb(y)?(st=0,Hn=null,S1(r)):(st=0,Hn=null,qo(s,r,y,7));break;case 5:var _=null;switch(Be.tag){case 26:_=Be.memoizedState;case 5:case 27:var k=Be;if(_?uw(_):k.stateNode.complete){st=0,Hn=null;var L=k.sibling;if(L!==null)Be=L;else{var W=k.return;W!==null?(Be=W,rh(W)):Be=null}break t}}st=0,Hn=null,qo(s,r,y,5);break;case 6:st=0,Hn=null,qo(s,r,y,6);break;case 8:Hp(),_t=6;break e;default:throw Error(i(462))}}$C();break}catch(ie){v1(s,ie)}while(!0);return Ni=Na=null,C.H=u,C.A=g,et=o,Be!==null?0:(ut=null,qe=0,Ed(),_t)}function $C(){for(;Be!==null&&!vm();)E1(Be)}function E1(s){var r=Yv(s.alternate,s,Li);s.memoizedProps=s.pendingProps,r===null?rh(s):Be=r}function S1(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Fv(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Fv(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:rp(r);default:Qv(o,r),r=Be=Tb(r,Li),r=Yv(o,r,Li)}s.memoizedProps=s.pendingProps,r===null?rh(s):Be=r}function qo(s,r,o,u){Ni=Na=null,rp(r),Do=null,fc=0;var g=r.return;try{if(MC(s,g,r,o,qe)){_t=1,$d(s,ns(o,s.current)),Be=null;return}}catch(y){if(g!==null)throw Be=g,y;_t=1,$d(s,ns(o,s.current)),Be=null;return}r.flags&32768?(Xe||u===1?s=!0:zo||(qe&536870912)!==0?s=!1:(Er=s=!0,(u===2||u===9||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),k1(r,s)):rh(r)}function rh(s){var r=s;do{if((r.flags&32768)!==0){k1(r,Er);return}s=r.return;var o=OC(r.alternate,r,Li);if(o!==null){Be=o;return}if(r=r.sibling,r!==null){Be=r;return}Be=r=s}while(r!==null);_t===0&&(_t=5)}function k1(s,r){do{var o=LC(s.alternate,s);if(o!==null){o.flags&=32767,Be=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Be=s;return}Be=s=o}while(s!==null);_t=6,Be=null}function A1(s,r,o,u,g,y,_,k,L){s.cancelPendingCommit=null;do ah();while($t!==0);if((et&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=Im,Tm(s,o,y,_,k,L),s===ut&&(Be=ut=null,qe=0),Fo=r,Ar=s,Ui=o,zp=y,Bp=g,g1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,QC(ir,function(){return I1(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=C.T,C.T=null,g=F.p,F.p=2,_=et,et|=4;try{UC(s,r,o)}finally{et=_,F.p=g,C.T=u}}$t=1,N1(),C1(),R1()}}function N1(){if($t===1){$t=0;var s=Ar,r=Fo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=C.T,C.T=null;var u=F.p;F.p=2;var g=et;et|=4;try{l1(r,s);var y=n0,_=mb(s.containerInfo),k=y.focusedElem,L=y.selectionRange;if(_!==k&&k&&k.ownerDocument&&fb(k.ownerDocument.documentElement,k)){if(L!==null&&Am(k)){var W=L.start,ie=L.end;if(ie===void 0&&(ie=W),"selectionStart"in k)k.selectionStart=W,k.selectionEnd=Math.min(ie,k.value.length);else{var le=k.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),ve=k.textContent.length,Ce=Math.min(L.start,ve),ct=L.end===void 0?Ce:Math.min(L.end,ve);!te.extend&&Ce>ct&&(_=ct,ct=Ce,Ce=_);var Y=hb(k,Ce),q=hb(k,ct);if(Y&&q&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==q.node||te.focusOffset!==q.offset)){var Q=le.createRange();Q.setStart(Y.node,Y.offset),te.removeAllRanges(),Ce>ct?(te.addRange(Q),te.extend(q.node,q.offset)):(Q.setEnd(q.node,q.offset),te.addRange(Q))}}}}for(le=[],te=k;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<le.length;k++){var re=le[k];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}xh=!!t0,n0=t0=null}finally{et=g,F.p=u,C.T=o}}s.current=r,$t=2}}function C1(){if($t===2){$t=0;var s=Ar,r=Fo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=C.T,C.T=null;var u=F.p;F.p=2;var g=et;et|=4;try{s1(s,r.alternate,r)}finally{et=g,F.p=u,C.T=o}}$t=3}}function R1(){if($t===4||$t===3){$t=0,Qu();var s=Ar,r=Fo,o=Ui,u=g1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,Fo=Ar=null,j1(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(kr=null),_i(o),r=r.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ps,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=C.T,g=F.p,F.p=2,C.T=null;try{for(var y=s.onRecoverableError,_=0;_<u.length;_++){var k=u[_];y(k.value,{componentStack:k.stack})}}finally{C.T=r,F.p=g}}(Ui&3)!==0&&ah(),ai(s),g=s.pendingLanes,(o&261930)!==0&&(g&42)!==0?s===Fp?Rc++:(Rc=0,Fp=s):Rc=0,jc(0)}}function j1(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,dc(r)))}function ah(){return N1(),C1(),R1(),I1()}function I1(){if($t!==5)return!1;var s=Ar,r=zp;zp=0;var o=_i(Ui),u=C.T,g=F.p;try{F.p=32>o?32:o,C.T=null,o=Bp,Bp=null;var y=Ar,_=Ui;if($t=0,Fo=Ar=null,Ui=0,(et&6)!==0)throw Error(i(331));var k=et;if(et|=4,f1(y.current),u1(y,y.current,_,o),et=k,jc(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ps,y)}catch{}return!0}finally{F.p=g,C.T=u,j1(s,r)}}function D1(s,r,o){r=ns(o,r),r=vp(s.stateNode,r,2),s=vr(s,r,2),s!==null&&(da(s,2),ai(s))}function it(s,r,o){if(s.tag===3)D1(s,s,o);else for(;r!==null;){if(r.tag===3){D1(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(kr===null||!kr.has(u))){s=ns(o,s),o=Mv(2),u=vr(r,o,2),u!==null&&(Pv(o,u,r,s),da(u,2),ai(u));break}}r=r.return}}function Gp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new FC;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(o)||(Op=!0,g.add(o),s=KC.bind(null,s,r,o),r.then(s,s))}function KC(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ut===s&&(qe&o)===o&&(_t===4||_t===3&&(qe&62914560)===qe&&300>bn()-eh?(et&2)===0&&Ho(s,0):Lp|=o,Bo===qe&&(Bo=0)),ai(s)}function M1(s,r){r===0&&(r=nd()),s=Sa(s,r),s!==null&&(da(s,r),ai(s))}function YC(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),M1(s,o)}function XC(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),M1(s,o)}function QC(s,r){return Gt(s,r)}var oh=null,Go=null,$p=!1,lh=!1,Kp=!1,Cr=0;function ai(s){s!==Go&&s.next===null&&(Go===null?oh=Go=s:Go=Go.next=s),lh=!0,$p||($p=!0,JC())}function jc(s,r){if(!Kp&&lh){Kp=!0;do for(var o=!1,u=oh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var _=u.suspendedLanes,k=u.pingedLanes;y=(1<<31-St(42|s)+1)-1,y&=g&~(_&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,L1(u,y))}else y=qe,y=Fs(u,u===ut?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||gs(u,y)||(o=!0,L1(u,y));u=u.next}while(o);Kp=!1}}function WC(){P1()}function P1(){lh=$p=!1;var s=0;Cr!==0&&lR()&&(s=Cr);for(var r=bn(),o=null,u=oh;u!==null;){var g=u.next,y=V1(u,r);y===0?(u.next=null,o===null?oh=g:o.next=g,g===null&&(Go=o)):(o=u,(s!==0||(y&3)!==0)&&(lh=!0)),u=g}$t!==0&&$t!==5||jc(s),Cr!==0&&(Cr=0)}function V1(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-St(y),k=1<<_,L=g[_];L===-1?((k&o)===0||(k&u)!==0)&&(g[_]=_m(k,r)):L<=r&&(s.expiredLanes|=k),y&=~k}if(r=ut,o=qe,o=Fs(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&sr(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||gs(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&sr(u),_i(o)){case 2:case 8:o=Bl;break;case 32:o=ir;break;case 268435456:o=Wu;break;default:o=ir}return u=O1.bind(null,s),o=Gt(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&sr(u),s.callbackPriority=2,s.callbackNode=null,2}function O1(s,r){if($t!==0&&$t!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(ah()&&s.callbackNode!==o)return null;var u=qe;return u=Fs(s,s===ut?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(x1(s,u,r),V1(s,bn()),s.callbackNode!=null&&s.callbackNode===o?O1.bind(null,s):null)}function L1(s,r){if(ah())return null;x1(s,r,!0)}function JC(){uR(function(){(et&6)!==0?Gt(zl,WC):P1()})}function Yp(){if(Cr===0){var s=Ro;s===0&&(s=zs,zs<<=1,(zs&261888)===0&&(zs=256)),Cr=s}return Cr}function U1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:po(""+s)}function z1(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function ZC(s,r,o,u,g){if(r==="submit"&&o&&o.stateNode===g){var y=U1((g[Wt]||null).action),_=u.submitter;_&&(r=(r=_[Wt]||null)?U1(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var k=new Zs("action","action",null,u,g);s.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Cr!==0){var L=_?z1(g,_):new FormData(g);mp(o,{pending:!0,data:L,method:g.method,action:y},null,L)}}else typeof y=="function"&&(k.preventDefault(),L=_?z1(g,_):new FormData(g),mp(o,{pending:!0,data:L,method:g.method,action:y},y,L))},currentTarget:g}]})}}for(var Xp=0;Xp<jm.length;Xp++){var Qp=jm[Xp],eR=Qp.toLowerCase(),tR=Qp[0].toUpperCase()+Qp.slice(1);Es(eR,"on"+tR)}Es(yb,"onAnimationEnd"),Es(xb,"onAnimationIteration"),Es(bb,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(yC,"onTransitionRun"),Es(xC,"onTransitionStart"),Es(bC,"onTransitionCancel"),Es(vb,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ic));function B1(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],g=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var _=u.length-1;0<=_;_--){var k=u[_],L=k.instance,W=k.currentTarget;if(k=k.listener,L!==y&&g.isPropagationStopped())break e;y=k,g.currentTarget=W;try{y(g)}catch(ie){Td(ie)}g.currentTarget=null,y=L}else for(_=0;_<u.length;_++){if(k=u[_],L=k.instance,W=k.currentTarget,k=k.listener,L!==y&&g.isPropagationStopped())break e;y=k,g.currentTarget=W;try{y(g)}catch(ie){Td(ie)}g.currentTarget=null,y=L}}}}function Fe(s,r){var o=r[co];o===void 0&&(o=r[co]=new Set);var u=s+"__bubble";o.has(u)||(F1(r,s,2,!1),o.add(u))}function Wp(s,r,o){var u=0;r&&(u|=4),F1(o,s,u,r)}var ch="_reactListening"+Math.random().toString(36).slice(2);function Jp(s){if(!s[ch]){s[ch]=!0,ql.forEach(function(o){o!=="selectionchange"&&(nR.has(o)||Wp(o,!1,s),Wp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[ch]||(r[ch]=!0,Wp("selectionchange",!1,r))}}function F1(s,r,o,u){switch(yw(r)){case 2:var g=RR;break;case 8:g=jR;break;default:g=f0}o=g.bind(null,r,o,s),g=void 0,!ya||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(r,o,{capture:!0,passive:g}):s.addEventListener(r,o,!0):g!==void 0?s.addEventListener(r,o,{passive:g}):s.addEventListener(r,o,!1)}function Zp(s,r,o,u,g){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var k=u.stateNode.containerInfo;if(k===g)break;if(_===4)for(_=u.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;k!==null;){if(_=$s(k),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){u=y=_;continue e}k=k.parentNode}}u=u.return}ur(function(){var W=y,ie=Jn(o),le=[];e:{var Z=wb.get(s);if(Z!==void 0){var te=Zs,ve=s;switch(s){case"keypress":if(ba(o)===0)break e;case"keydown":case"keyup":te=vd;break;case"focusin":ve="focus",te=wa;break;case"focusout":ve="blur",te=wa;break;case"beforeblur":case"afterblur":te=wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=v;break;case yb:case xb:case bb:te=fd;break;case vb:te=N;break;case"scroll":case"scrollend":te=nc;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=md;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Si;break;case"toggle":case"beforetoggle":te=Ve}var Ce=(r&4)!==0,ct=!Ce&&(s==="scroll"||s==="scrollend"),Y=Ce?Z!==null?Z+"Capture":null:Z;Ce=[];for(var q=W,Q;q!==null;){var re=q;if(Q=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Q===null||Y===null||(re=vs(q,Y),re!=null&&Ce.push(Dc(q,re,Q))),ct)break;q=q.return}0<Ce.length&&(Z=new te(Z,ve,null,o,ie),le.push({event:Z,listeners:Ce}))}}if((r&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",Z&&o!==Zl&&(ve=o.relatedTarget||o.fromElement)&&($s(ve)||ve[qs]))break e;if((te||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(ve=o.relatedTarget||o.toElement,te=W,ve=ve?$s(ve):null,ve!==null&&(ct=l(ve),Ce=ve.tag,ve!==ct||Ce!==5&&Ce!==27&&Ce!==6)&&(ve=null)):(te=null,ve=W),te!==ve)){if(Ce=sc,re="onMouseLeave",Y="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=Si,re="onPointerLeave",Y="onPointerEnter",q="pointer"),ct=te==null?Z:On(te),Q=ve==null?Z:On(ve),Z=new Ce(re,q+"leave",te,o,ie),Z.target=ct,Z.relatedTarget=Q,re=null,$s(ie)===W&&(Ce=new Ce(Y,q+"enter",ve,o,ie),Ce.target=Q,Ce.relatedTarget=ct,re=Ce),ct=re,te&&ve)t:{for(Ce=sR,Y=te,q=ve,Q=0,re=Y;re;re=Ce(re))Q++;re=0;for(var Ae=q;Ae;Ae=Ce(Ae))re++;for(;0<Q-re;)Y=Ce(Y),Q--;for(;0<re-Q;)q=Ce(q),re--;for(;Q--;){if(Y===q||q!==null&&Y===q.alternate){Ce=Y;break t}Y=Ce(Y),q=Ce(q)}Ce=null}else Ce=null;te!==null&&H1(le,Z,te,Ce,!1),ve!==null&&ct!==null&&H1(le,ct,ve,Ce,!0)}}e:{if(Z=W?On(W):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var We=ab;else if(ib(Z))if(ob)We=mC;else{We=hC;var Se=dC}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&mo(W.elementType)&&(We=ab):We=fC;if(We&&(We=We(s,W))){rb(le,We,o,ie);break e}Se&&Se(s,Z,W),s==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&Ql(Z,"number",Z.value)}switch(Se=W?On(W):window,s){case"focusin":(ib(Se)||Se.contentEditable==="true")&&(_o=Se,Nm=W,lc=null);break;case"focusout":lc=Nm=_o=null;break;case"mousedown":Cm=!0;break;case"contextmenu":case"mouseup":case"dragend":Cm=!1,pb(le,o,ie);break;case"selectionchange":if(gC)break;case"keydown":case"keyup":pb(le,o,ie)}var Le;if(Ze)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else wo?_a(s,o)&&(Ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(ni&&o.locale!=="ko"&&(wo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&wo&&(Le=tc()):(Js=ie,ec="value"in Js?Js.value:Js.textContent,wo=!0)),Se=uh(W,Ge),0<Se.length&&(Ge=new ti(Ge,s,null,o,ie),le.push({event:Ge,listeners:Se}),Le?Ge.data=Le:(Le=vo(o),Le!==null&&(Ge.data=Le)))),(Le=es?oC(s,o):lC(s,o))&&(Ge=uh(W,"onBeforeInput"),0<Ge.length&&(Se=new ti("onBeforeInput","beforeinput",null,o,ie),le.push({event:Se,listeners:Ge}),Se.data=Le)),ZC(le,s,W,o,ie)}B1(le,r)})}function Dc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function uh(s,r){for(var o=r+"Capture",u=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=vs(s,o),g!=null&&u.unshift(Dc(s,g,y)),g=vs(s,r),g!=null&&u.push(Dc(s,g,y))),s.tag===3)return u;s=s.return}return[]}function sR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function H1(s,r,o,u,g){for(var y=r._reactName,_=[];o!==null&&o!==u;){var k=o,L=k.alternate,W=k.stateNode;if(k=k.tag,L!==null&&L===u)break;k!==5&&k!==26&&k!==27||W===null||(L=W,g?(W=vs(o,y),W!=null&&_.unshift(Dc(o,W,L))):g||(W=vs(o,y),W!=null&&_.push(Dc(o,W,L)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var iR=/\r\n?/g,rR=/\u0000|\uFFFD/g;function q1(s){return(typeof s=="string"?s:""+s).replace(iR,`
`).replace(rR,"")}function G1(s,r){return r=q1(r),q1(s)===r}function lt(s,r,o,u,g,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Sn(s,""+u);break;case"className":Ln(s,"class",u);break;case"tabIndex":Ln(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(s,o,u);break;case"style":Jl(s,u,y);break;case"data":if(r!=="object"){Ln(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=po(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&lt(s,r,"name",g.name,g,null),lt(s,r,"formEncType",g.formEncType,g,null),lt(s,r,"formMethod",g.formMethod,g,null),lt(s,r,"formTarget",g.formTarget,g,null)):(lt(s,r,"encType",g.encType,g,null),lt(s,r,"method",g.method,g,null),lt(s,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=po(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=bs);break;case"onScroll":u!=null&&Fe("scroll",s);break;case"onScrollEnd":u!=null&&Fe("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=po(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Fe("beforetoggle",s),Fe("toggle",s),ho(s,"popover",u);break;case"xlinkActuate":Vt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ho(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ud.get(o)||o,ho(s,o,u))}}function e0(s,r,o,u,g,y){switch(o){case"style":Jl(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Sn(s,u):(typeof u=="number"||typeof u=="bigint")&&Sn(s,""+u);break;case"onScroll":u!=null&&Fe("scroll",s);break;case"onScrollEnd":u!=null&&Fe("scrollend",s);break;case"onClick":u!=null&&(s.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),r=o.slice(2,g?o.length-7:void 0),y=s[Wt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,g);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):ho(s,o,u)}}}function ln(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",s),Fe("load",s);var u=!1,g=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:lt(s,r,y,_,o,null)}}g&&lt(s,r,"srcSet",o.srcSet,o,null),u&&lt(s,r,"src",o.src,o,null);return;case"input":Fe("invalid",s);var k=y=_=g=null,L=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":g=ie;break;case"type":_=ie;break;case"checked":L=ie;break;case"defaultChecked":W=ie;break;case"value":y=ie;break;case"defaultValue":k=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,r));break;default:lt(s,r,u,ie,o,null)}}od(s,y,k,L,W,_,g,!1);return;case"select":Fe("invalid",s),u=_=y=null;for(g in o)if(o.hasOwnProperty(g)&&(k=o[g],k!=null))switch(g){case"value":y=k;break;case"defaultValue":_=k;break;case"multiple":u=k;default:lt(s,r,g,k,o,null)}r=y,o=_,s.multiple=!!u,r!=null?ar(s,!!u,r,!1):o!=null&&ar(s,!!u,o,!0);return;case"textarea":Fe("invalid",s),y=g=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(k=o[_],k!=null))switch(_){case"value":u=k;break;case"defaultValue":g=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:lt(s,r,_,k,o,null)}or(s,u,g,y);return;case"option":for(L in o)o.hasOwnProperty(L)&&(u=o[L],u!=null)&&(L==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":lt(s,r,L,u,o,null));return;case"dialog":Fe("beforetoggle",s),Fe("toggle",s),Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":Fe("load",s);break;case"video":case"audio":for(u=0;u<Ic.length;u++)Fe(Ic[u],s);break;case"image":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"embed":case"source":case"link":Fe("error",s),Fe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:lt(s,r,W,u,o,null)}return;default:if(mo(r)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&e0(s,r,ie,u,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null&&lt(s,r,k,u,o,null))}function aR(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,_=null,k=null,L=null,W=null,ie=null;for(te in o){var le=o[te];if(o.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":L=le;default:u.hasOwnProperty(te)||lt(s,r,te,null,u,le)}}for(var Z in u){var te=u[Z];if(le=o[Z],u.hasOwnProperty(Z)&&(te!=null||le!=null))switch(Z){case"type":y=te;break;case"name":g=te;break;case"checked":W=te;break;case"defaultChecked":ie=te;break;case"value":_=te;break;case"defaultValue":k=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:te!==le&&lt(s,r,Z,te,u,le)}}fo(s,_,k,L,W,ie,y,g);return;case"select":te=_=k=Z=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":te=L;default:u.hasOwnProperty(y)||lt(s,r,y,null,u,L)}for(g in u)if(y=u[g],L=o[g],u.hasOwnProperty(g)&&(y!=null||L!=null))switch(g){case"value":Z=y;break;case"defaultValue":k=y;break;case"multiple":_=y;default:y!==L&&lt(s,r,g,y,u,L)}r=k,o=_,u=te,Z!=null?ar(s,!!o,Z,!1):!!u!=!!o&&(r!=null?ar(s,!!o,r,!0):ar(s,!!o,o?[]:"",!1));return;case"textarea":te=Z=null;for(k in o)if(g=o[k],o.hasOwnProperty(k)&&g!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:lt(s,r,k,null,u,g)}for(_ in u)if(g=u[_],y=o[_],u.hasOwnProperty(_)&&(g!=null||y!=null))switch(_){case"value":Z=g;break;case"defaultValue":te=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&lt(s,r,_,g,u,y)}ld(s,Z,te);return;case"option":for(var ve in o)Z=o[ve],o.hasOwnProperty(ve)&&Z!=null&&!u.hasOwnProperty(ve)&&(ve==="selected"?s.selected=!1:lt(s,r,ve,null,u,Z));for(L in u)Z=u[L],te=o[L],u.hasOwnProperty(L)&&Z!==te&&(Z!=null||te!=null)&&(L==="selected"?s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":lt(s,r,L,Z,u,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in o)Z=o[Ce],o.hasOwnProperty(Ce)&&Z!=null&&!u.hasOwnProperty(Ce)&&lt(s,r,Ce,null,u,Z);for(W in u)if(Z=u[W],te=o[W],u.hasOwnProperty(W)&&Z!==te&&(Z!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:lt(s,r,W,Z,u,te)}return;default:if(mo(r)){for(var ct in o)Z=o[ct],o.hasOwnProperty(ct)&&Z!==void 0&&!u.hasOwnProperty(ct)&&e0(s,r,ct,void 0,u,Z);for(ie in u)Z=u[ie],te=o[ie],!u.hasOwnProperty(ie)||Z===te||Z===void 0&&te===void 0||e0(s,r,ie,Z,u,te);return}}for(var Y in o)Z=o[Y],o.hasOwnProperty(Y)&&Z!=null&&!u.hasOwnProperty(Y)&&lt(s,r,Y,null,u,Z);for(le in u)Z=u[le],te=o[le],!u.hasOwnProperty(le)||Z===te||Z==null&&te==null||lt(s,r,le,Z,u,te)}function $1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var g=o[u],y=g.transferSize,_=g.initiatorType,k=g.duration;if(y&&k&&$1(_)){for(_=0,k=g.responseEnd,u+=1;u<o.length;u++){var L=o[u],W=L.startTime;if(W>k)break;var ie=L.transferSize,le=L.initiatorType;ie&&$1(le)&&(L=L.responseEnd,_+=ie*(L<k?1:(k-W)/(L-W)))}if(--u,r+=8*(y+_)/(g.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var t0=null,n0=null;function dh(s){return s.nodeType===9?s:s.ownerDocument}function K1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y1(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function s0(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var i0=null;function lR(){var s=window.event;return s&&s.type==="popstate"?s===i0?!1:(i0=s,!0):(i0=null,!1)}var X1=typeof setTimeout=="function"?setTimeout:void 0,cR=typeof clearTimeout=="function"?clearTimeout:void 0,Q1=typeof Promise=="function"?Promise:void 0,uR=typeof queueMicrotask=="function"?queueMicrotask:typeof Q1<"u"?function(s){return Q1.resolve(null).then(s).catch(dR)}:X1;function dR(s){setTimeout(function(){throw s})}function Rr(s){return s==="head"}function W1(s,r){var o=r,u=0;do{var g=o.nextSibling;if(s.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(g),Xo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Mc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Mc(o);for(var y=o.firstChild;y;){var _=y.nextSibling,k=y.nodeName;y[Gs]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=_}}else o==="body"&&Mc(s.ownerDocument.body);o=g}while(o);Xo(r)}function J1(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function r0(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":r0(o),uo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function hR(s,r,o,u){for(;s.nodeType===1;){var g=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Gs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=os(s.nextSibling),s===null)break}return null}function fR(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=os(s.nextSibling),s===null))return null;return s}function Z1(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=os(s.nextSibling),s===null))return null;return s}function a0(s){return s.data==="$?"||s.data==="$~"}function o0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function mR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function os(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var l0=null;function ew(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return os(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function tw(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function nw(s,r,o){switch(r=dh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Mc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);uo(s)}var ls=new Map,sw=new Set;function hh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var zi=F.d;F.d={f:pR,r:gR,D:yR,C:xR,L:bR,m:vR,X:_R,S:wR,M:TR};function pR(){var s=zi.f(),r=sh();return s||r}function gR(s){var r=Wn(s);r!==null&&r.tag===5&&r.type==="form"?vv(r):zi.r(s)}var $o=typeof document>"u"?null:document;function iw(s,r,o){var u=$o;if(u&&typeof r=="string"&&r){var g=En(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),sw.has(g)||(sw.add(g),s={rel:s,crossOrigin:o,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),ln(r,"link",s),Pt(r),u.head.appendChild(r)))}}function yR(s){zi.D(s),iw("dns-prefetch",s,null)}function xR(s,r){zi.C(s,r),iw("preconnect",s,r)}function bR(s,r,o){zi.L(s,r,o);var u=$o;if(u&&s&&r){var g='link[rel="preload"][as="'+En(r)+'"]';r==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+En(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+En(o.imageSizes)+'"]')):g+='[href="'+En(s)+'"]';var y=g;switch(r){case"style":y=Ko(s);break;case"script":y=Yo(s)}ls.has(y)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ls.set(y,s),u.querySelector(g)!==null||r==="style"&&u.querySelector(Pc(y))||r==="script"&&u.querySelector(Vc(y))||(r=u.createElement("link"),ln(r,"link",s),Pt(r),u.head.appendChild(r)))}}function vR(s,r){zi.m(s,r);var o=$o;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+En(u)+'"][href="'+En(s)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Yo(s)}if(!ls.has(y)&&(s=b({rel:"modulepreload",href:s},r),ls.set(y,s),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vc(y)))return}u=o.createElement("link"),ln(u,"link",s),Pt(u),o.head.appendChild(u)}}}function wR(s,r,o){zi.S(s,r,o);var u=$o;if(u&&s){var g=Ks(u).hoistableStyles,y=Ko(s);r=r||"default";var _=g.get(y);if(!_){var k={loading:0,preload:null};if(_=u.querySelector(Pc(y)))k.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ls.get(y))&&c0(s,o);var L=_=u.createElement("link");Pt(L),ln(L,"link",s),L._p=new Promise(function(W,ie){L.onload=W,L.onerror=ie}),L.addEventListener("load",function(){k.loading|=1}),L.addEventListener("error",function(){k.loading|=2}),k.loading|=4,fh(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:k},g.set(y,_)}}}function _R(s,r){zi.X(s,r);var o=$o;if(o&&s){var u=Ks(o).hoistableScripts,g=Yo(s),y=u.get(g);y||(y=o.querySelector(Vc(g)),y||(s=b({src:s,async:!0},r),(r=ls.get(g))&&u0(s,r),y=o.createElement("script"),Pt(y),ln(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function TR(s,r){zi.M(s,r);var o=$o;if(o&&s){var u=Ks(o).hoistableScripts,g=Yo(s),y=u.get(g);y||(y=o.querySelector(Vc(g)),y||(s=b({src:s,async:!0,type:"module"},r),(r=ls.get(g))&&u0(s,r),y=o.createElement("script"),Pt(y),ln(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function rw(s,r,o,u){var g=(g=ke.current)?hh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ko(o.href),o=Ks(g).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Ko(o.href);var y=Ks(g).hoistableStyles,_=y.get(s);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=g.querySelector(Pc(s)))&&!y._p&&(_.instance=y,_.state.loading=5),ls.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ls.set(s,o),y||ER(g,s,o,_.state))),r&&u===null)throw Error(i(528,""));return _}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Yo(o),o=Ks(g).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ko(s){return'href="'+En(s)+'"'}function Pc(s){return'link[rel="stylesheet"]['+s+"]"}function aw(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function ER(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),ln(r,"link",o),Pt(r),s.head.appendChild(r))}function Yo(s){return'[src="'+En(s)+'"]'}function Vc(s){return"script[async]"+s}function ow(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+En(o.href)+'"]');if(u)return r.instance=u,Pt(u),u;var g=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Pt(u),ln(u,"style",g),fh(u,o.precedence,s),r.instance=u;case"stylesheet":g=Ko(o.href);var y=s.querySelector(Pc(g));if(y)return r.state.loading|=4,r.instance=y,Pt(y),y;u=aw(o),(g=ls.get(g))&&c0(u,g),y=(s.ownerDocument||s).createElement("link"),Pt(y);var _=y;return _._p=new Promise(function(k,L){_.onload=k,_.onerror=L}),ln(y,"link",u),r.state.loading|=4,fh(y,o.precedence,s),r.instance=y;case"script":return y=Yo(o.src),(g=s.querySelector(Vc(y)))?(r.instance=g,Pt(g),g):(u=o,(g=ls.get(y))&&(u=b({},o),u0(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Pt(g),ln(g,"link",u),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,fh(u,o.precedence,s));return r.instance}function fh(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,_=0;_<u.length;_++){var k=u[_];if(k.dataset.precedence===r)y=k;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function c0(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function u0(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var mh=null;function lw(s,r,o){if(mh===null){var u=new Map,g=mh=new Map;g.set(o,u)}else g=mh,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),g=0;g<o.length;g++){var y=o[g];if(!(y[Gs]||y[Mt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=s+_;var k=u.get(_);k?k.push(y):u.set(_,[y])}}return u}function cw(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function SR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function uw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function kR(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Ko(u.href),y=r.querySelector(Pc(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=ph.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Pt(y);return}y=r.ownerDocument||r,u=aw(u),(g=ls.get(g))&&c0(u,g),y=y.createElement("link"),Pt(y);var _=y;_._p=new Promise(function(k,L){_.onload=k,_.onerror=L}),ln(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=ph.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var d0=0;function AR(s,r){return s.stylesheets&&s.count===0&&yh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&yh(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&d0===0&&(d0=62500*oR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&yh(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>d0?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var gh=null;function yh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,gh=new Map,r.forEach(NR,s),gh=null,ph.call(s))}function NR(s,r){if(!(r.state.loading&4)){var o=gh.get(s);if(o)var u=o.get(null);else{o=new Map,gh.set(s,o);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var _=g[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}g=r.instance,_=g.getAttribute("data-precedence"),y=o.get(_)||u,y===u&&o.set(null,g),o.set(_,g),this.count++,u=ph.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var Oc={$$typeof:K,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function CR(s,r,o,u,g,y,_,k,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.hiddenUpdates=Hs(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function dw(s,r,o,u,g,y,_,k,L,W,ie,le){return s=new CR(s,r,o,_,L,W,ie,le,k),r=1,y===!0&&(r|=24),y=zn(3,null,null,r),s.current=y,y.stateNode=s,r=qm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Ym(y),s}function hw(s){return s?(s=So,s):So}function fw(s,r,o,u,g,y){g=hw(g),u.context===null?u.context=g:u.pendingContext=g,u=br(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=vr(s,u,r),o!==null&&(Rn(o,s,r),pc(o,s,r))}function mw(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function h0(s,r){mw(s,r),(s=s.alternate)&&mw(s,r)}function pw(s){if(s.tag===13||s.tag===31){var r=Sa(s,67108864);r!==null&&Rn(r,s,67108864),h0(s,67108864)}}function gw(s){if(s.tag===13||s.tag===31){var r=Gn();r=fa(r);var o=Sa(s,r);o!==null&&Rn(o,s,r),h0(s,r)}}var xh=!0;function RR(s,r,o,u){var g=C.T;C.T=null;var y=F.p;try{F.p=2,f0(s,r,o,u)}finally{F.p=y,C.T=g}}function jR(s,r,o,u){var g=C.T;C.T=null;var y=F.p;try{F.p=8,f0(s,r,o,u)}finally{F.p=y,C.T=g}}function f0(s,r,o,u){if(xh){var g=m0(u);if(g===null)Zp(s,r,u,bh,o),xw(s,u);else if(DR(g,s,r,o,u))u.stopPropagation();else if(xw(s,u),r&4&&-1<IR.indexOf(s)){for(;g!==null;){var y=Wn(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Bs(y.pendingLanes);if(_!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;_;){var L=1<<31-St(_);k.entanglements[1]|=L,_&=~L}ai(y),(et&6)===0&&(th=bn()+500,jc(0))}}break;case 31:case 13:k=Sa(y,2),k!==null&&Rn(k,y,2),sh(),h0(y,2)}if(y=m0(u),y===null&&Zp(s,r,u,bh,o),y===g)break;g=y}g!==null&&u.stopPropagation()}else Zp(s,r,u,null,o)}}function m0(s){return s=Jn(s),p0(s)}var bh=null;function p0(s){if(bh=null,s=$s(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return bh=s,null}function yw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ca()){case zl:return 2;case Bl:return 8;case ir:case wm:return 32;case Wu:return 268435456;default:return 32}default:return 32}}var g0=!1,jr=null,Ir=null,Dr=null,Lc=new Map,Uc=new Map,Mr=[],IR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xw(s,r){switch(s){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Lc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(r.pointerId)}}function zc(s,r,o,u,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},r!==null&&(r=Wn(r),r!==null&&pw(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function DR(s,r,o,u,g){switch(r){case"focusin":return jr=zc(jr,s,r,o,u,g),!0;case"dragenter":return Ir=zc(Ir,s,r,o,u,g),!0;case"mouseover":return Dr=zc(Dr,s,r,o,u,g),!0;case"pointerover":var y=g.pointerId;return Lc.set(y,zc(Lc.get(y)||null,s,r,o,u,g)),!0;case"gotpointercapture":return y=g.pointerId,Uc.set(y,zc(Uc.get(y)||null,s,r,o,u,g)),!0}return!1}function bw(s){var r=$s(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,ys(s.priority,function(){gw(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,ys(s.priority,function(){gw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=m0(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Zl=u,o.target.dispatchEvent(u),Zl=null}else return r=Wn(o),r!==null&&pw(r),s.blockedOn=o,!1;r.shift()}return!0}function vw(s,r,o){vh(s)&&o.delete(r)}function MR(){g0=!1,jr!==null&&vh(jr)&&(jr=null),Ir!==null&&vh(Ir)&&(Ir=null),Dr!==null&&vh(Dr)&&(Dr=null),Lc.forEach(vw),Uc.forEach(vw)}function wh(s,r){s.blockedOn===r&&(s.blockedOn=null,g0||(g0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MR)))}var _h=null;function ww(s){_h!==s&&(_h=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_h===s&&(_h=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],g=s[r+2];if(typeof u!="function"){if(p0(u||o)===null)continue;break}var y=Wn(o);y!==null&&(s.splice(r,3),r-=3,mp(y,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function Xo(s){function r(L){return wh(L,s)}jr!==null&&wh(jr,s),Ir!==null&&wh(Ir,s),Dr!==null&&wh(Dr,s),Lc.forEach(r),Uc.forEach(r);for(var o=0;o<Mr.length;o++){var u=Mr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Mr.length&&(o=Mr[0],o.blockedOn===null);)bw(o),o.blockedOn===null&&Mr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],y=o[u+1],_=g[Wt]||null;if(typeof y=="function")_||ww(o);else if(_){var k=null;if(y&&y.hasAttribute("formAction")){if(g=y,_=y[Wt]||null)k=_.formAction;else if(p0(g)!==null)continue}else k=_.action;typeof k=="function"?o[u+1]=k:(o.splice(u,3),u-=3),ww(o)}}}function _w(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return g=_})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function y0(s){this._internalRoot=s}Th.prototype.render=y0.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Gn();fw(o,u,s,r,null,null)},Th.prototype.unmount=y0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;fw(s.current,2,null,s,null,null),sh(),r[qs]=null}};function Th(s){this._internalRoot=s}Th.prototype.unstable_scheduleHydration=function(s){if(s){var r=sd();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Mr.length&&r!==0&&r<Mr[o].priority;o++);Mr.splice(o,0,s),o===0&&bw(s)}};var Tw=e.version;if(Tw!=="19.2.4")throw Error(i(527,Tw,"19.2.4"));F.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var PR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{ps=Eh.inject(PR),nn=Eh}catch{}}return Fc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",g=Rv,y=jv,_=Iv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=dw(s,1,!1,null,null,o,u,null,g,y,_,_w),s[qs]=r.current,Jp(s),new y0(r)},Fc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,g="",y=Rv,_=jv,k=Iv,L=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=dw(s,1,!0,r,o??null,u,g,L,y,_,k,_w),r.context=hw(null),o=r.current,u=Gn(),u=fa(u),g=br(u),g.callback=null,vr(o,g,u),o=u,r.current.lanes=o,da(r,o),ai(r),s[qs]=r.current,Jp(s),new Th(r)},Fc.version="19.2.4",Fc}var Dw;function qR(){if(Dw)return v0.exports;Dw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),v0.exports=HR(),v0.exports}var GR=qR();const $R=XE(GR);var Mw="popstate";function KR(t={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return ug("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:fu(a)}return XR(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Os(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YR(){return Math.random().toString(36).substring(2,10)}function Pw(t,e){return{usr:t.state,key:t.key,idx:e}}function ug(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:n,key:e&&e.key||i||YR()}}function fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function XR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",m=null,p=x();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function x(){return(c.state||{idx:null}).idx}function b(){h="POP";let M=x(),O=M==null?null:M-p;p=M,m&&m({action:h,location:D.location,delta:O})}function w(M,O){h="PUSH";let H=ug(D.location,M,O);p=x()+1;let K=Pw(H,p),G=D.createHref(H);try{c.pushState(K,"",G)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(G)}l&&m&&m({action:h,location:D.location,delta:1})}function E(M,O){h="REPLACE";let H=ug(D.location,M,O);p=x();let K=Pw(H,p),G=D.createHref(H);c.replaceState(K,"",G),l&&m&&m({action:h,location:D.location,delta:0})}function I(M){return QR(M)}let D={get action(){return h},get location(){return t(a,c)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Mw,b),m=M,()=>{a.removeEventListener(Mw,b),m=null}},createHref(M){return e(a,M)},createURL:I,encodeLocation(M){let O=I(M);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:E,go(M){return c.go(M)}};return D}function QR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:fu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function JE(t,e,n="/"){return WR(t,e,n,!1)}function WR(t,e,n,i){let a=typeof e=="string"?Tl(e):e,l=Ki(a.pathname||"/",n);if(l==null)return null;let c=ZE(t);JR(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let p=cj(l);h=oj(c[m],p,i)}return h}function ZE(t,e=[],n=[],i="",a=!1){let l=(c,h,m=a,p)=>{let x={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&m)return;xt(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let b=Gi([i,x.relativePath]),w=n.concat(x);c.children&&c.children.length>0&&(xt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),ZE(c.children,e,w,b,m)),!(c.path==null&&!c.index)&&e.push({path:b,score:rj(b,c.index),routesMeta:w})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let m of eS(c.path))l(c,h,!0,m)}),e}function eS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=eS(i.join("/")),h=[];return h.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&h.push(...c),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function JR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aj(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var ZR=/^:[\w-]+$/,ej=3,tj=2,nj=1,sj=10,ij=-2,Vw=t=>t==="*";function rj(t,e){let n=t.split("/"),i=n.length;return n.some(Vw)&&(i+=ij),e&&(i+=tj),n.filter(a=>!Vw(a)).reduce((a,l)=>a+(ZR.test(l)?ej:l===""?nj:sj),i)}function aj(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function oj(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let h=0;h<i.length;++h){let m=i[h],p=h===i.length-1,x=l==="/"?e:e.slice(l.length)||"/",b=af({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},x),w=m.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=af({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Gi([l,b.pathname]),pathnameBase:fj(Gi([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=Gi([l,b.pathnameBase]))}return c}function af(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=lj(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:x,isOptional:b},w)=>{if(x==="*"){let I=h[w]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const E=h[w];return b&&!E?p[x]=void 0:p[x]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function lj(t,e=!1,n=!0){Os(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function cj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Os(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var uj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function dj(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Tl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=Ow(n.substring(1),"/"):l=Ow(n,e)):l=e,{pathname:l,search:mj(i),hash:pj(a)}}function Ow(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function E0(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fy(t){let e=hj(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function my(t,e,n,i=!1){let a;typeof t=="string"?a=Tl(t):(a={...t},xt(!a.pathname||!a.pathname.includes("?"),E0("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),E0("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),E0("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}h=b>=0?e[b]:"/"}let m=dj(a,h),p=c&&c!=="/"&&c.endsWith("/"),x=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||x)&&(m.pathname+="/"),m}var Gi=t=>t.join("/").replace(/\/\/+/g,"/"),fj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,gj=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function yj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function xj(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nS(t,e){let n=t;if(typeof n!="string"||!uj.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(tS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Ki(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{Os(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sS=["POST","PUT","PATCH","DELETE"];new Set(sS);var bj=["GET",...sS];new Set(bj);var El=A.createContext(null);El.displayName="DataRouter";var Bf=A.createContext(null);Bf.displayName="DataRouterState";var vj=A.createContext(!1),iS=A.createContext({isTransitioning:!1});iS.displayName="ViewTransition";var wj=A.createContext(new Map);wj.displayName="Fetchers";var _j=A.createContext(null);_j.displayName="Await";var Kn=A.createContext(null);Kn.displayName="Navigation";var Ru=A.createContext(null);Ru.displayName="Location";var ms=A.createContext({outlet:null,matches:[],isDataRoute:!1});ms.displayName="Route";var py=A.createContext(null);py.displayName="RouteError";var rS="REACT_ROUTER_ERROR",Tj="REDIRECT",Ej="ROUTE_ERROR_RESPONSE";function Sj(t){if(t.startsWith(`${rS}:${Tj}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function kj(t){if(t.startsWith(`${rS}:${Ej}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new gj(e.status,e.statusText,e.data)}catch{}}function Aj(t,{relative:e}={}){xt(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=A.useContext(Kn),{hash:a,pathname:l,search:c}=ju(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Gi([n,l])),i.createHref({pathname:h,search:c,hash:a})}function Sl(){return A.useContext(Ru)!=null}function er(){return xt(Sl(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Ru).location}var aS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oS(t){A.useContext(Kn).static||A.useLayoutEffect(t)}function kl(){let{isDataRoute:t}=A.useContext(ms);return t?Hj():Nj()}function Nj(){xt(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(El),{basename:e,navigator:n}=A.useContext(Kn),{matches:i}=A.useContext(ms),{pathname:a}=er(),l=JSON.stringify(fy(i)),c=A.useRef(!1);return oS(()=>{c.current=!0}),A.useCallback((m,p={})=>{if(Os(c.current,aS),!c.current)return;if(typeof m=="number"){n.go(m);return}let x=my(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Gi([e,x.pathname])),(p.replace?n.replace:n.push)(x,p.state,p)},[e,n,l,a,t])}var Cj=A.createContext(null);function Rj(t){let e=A.useContext(ms).outlet;return A.useMemo(()=>e&&A.createElement(Cj.Provider,{value:t},e),[e,t])}function jj(){let{matches:t}=A.useContext(ms),e=t[t.length-1];return e?e.params:{}}function ju(t,{relative:e}={}){let{matches:n}=A.useContext(ms),{pathname:i}=er(),a=JSON.stringify(fy(n));return A.useMemo(()=>my(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function Ij(t,e){return lS(t,e)}function lS(t,e,n,i,a){xt(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=A.useContext(Kn),{matches:c}=A.useContext(ms),h=c[c.length-1],m=h?h.params:{},p=h?h.pathname:"/",x=h?h.pathnameBase:"/",b=h&&h.route;{let H=b&&b.path||"";uS(p,!b||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=er(),E;if(e){let H=typeof e=="string"?Tl(e):e;xt(x==="/"||H.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${H.pathname}" was given in the \`location\` prop.`),E=H}else E=w;let I=E.pathname||"/",D=I;if(x!=="/"){let H=x.replace(/^\//,"").split("/");D="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let M=JE(t,{pathname:D});Os(b||M!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Os(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Oj(M&&M.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Gi([x,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?x:Gi([x,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,i,a);return e&&O?A.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function Dj(){let t=Fj(),e=yj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:a},n):null,c)}var Mj=A.createElement(Dj,null),cS=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=kj(t.digest);n&&(t=n)}let e=t!==void 0?A.createElement(ms.Provider,{value:this.props.routeContext},A.createElement(py.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?A.createElement(Pj,{error:t},e):e}};cS.contextType=vj;var S0=new WeakMap;function Pj({children:t,error:e}){let{basename:n}=A.useContext(Kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Sj(e.digest);if(i){let a=S0.get(e);if(a)throw a;let l=nS(i.location,n);if(tS&&!S0.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw S0.set(e,c),c}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function Vj({routeContext:t,match:e,children:n}){let i=A.useContext(El);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(ms.Provider,{value:t},n)}function Oj(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let x=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);xt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let h=!1,m=-1;if(n)for(let x=0;x<l.length;x++){let b=l[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=x),b.route.id){let{loaderData:w,errors:E}=n,I=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||I){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&i?(x,b)=>{i(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xj(n.matches),errorInfo:b})}:void 0;return l.reduceRight((x,b,w)=>{let E,I=!1,D=null,M=null;n&&(E=c&&b.route.id?c[b.route.id]:void 0,D=b.route.errorElement||Mj,h&&(m<0&&w===0?(uS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):m===w&&(I=!0,M=b.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,w+1)),H=()=>{let K;return E?K=D:I?K=M:b.route.Component?K=A.createElement(b.route.Component,null):b.route.element?K=b.route.element:K=x,A.createElement(Vj,{match:b,routeContext:{outlet:x,matches:O,isDataRoute:n!=null},children:K})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?A.createElement(cS,{location:n.location,revalidation:n.revalidation,component:D,error:E,children:H(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:p}):H()},null)}function gy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lj(t){let e=A.useContext(El);return xt(e,gy(t)),e}function Uj(t){let e=A.useContext(Bf);return xt(e,gy(t)),e}function zj(t){let e=A.useContext(ms);return xt(e,gy(t)),e}function yy(t){let e=zj(t),n=e.matches[e.matches.length-1];return xt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Bj(){return yy("useRouteId")}function Fj(){let t=A.useContext(py),e=Uj("useRouteError"),n=yy("useRouteError");return t!==void 0?t:e.errors?.[n]}function Hj(){let{router:t}=Lj("useNavigate"),e=yy("useNavigate"),n=A.useRef(!1);return oS(()=>{n.current=!0}),A.useCallback(async(a,l={})=>{Os(n.current,aS),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Lw={};function uS(t,e,n){!e&&!Lw[t]&&(Lw[t]=!0,Os(!1,n))}A.memo(qj);function qj({routes:t,future:e,state:n,onError:i}){return lS(t,void 0,n,i,e)}function dS({to:t,replace:e,state:n,relative:i}){xt(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=A.useContext(Kn);Os(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(ms),{pathname:c}=er(),h=kl(),m=my(t,fy(l),c,i==="path"),p=JSON.stringify(m);return A.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function Ns(t){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Gj({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){xt(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=A.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=Tl(n));let{pathname:p="/",search:x="",hash:b="",state:w=null,key:E="default"}=n,I=A.useMemo(()=>{let D=Ki(p,h);return D==null?null:{location:{pathname:D,search:x,hash:b,state:w,key:E},navigationType:i}},[h,p,x,b,w,E,i]);return Os(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${x}${b}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:A.createElement(Kn.Provider,{value:m},A.createElement(Ru.Provider,{children:e,value:I}))}function $j({children:t,location:e}){return Ij(dg(t),e)}function dg(t,e=[]){let n=[];return A.Children.forEach(t,(i,a)=>{if(!A.isValidElement(i))return;let l=[...e,a];if(i.type===A.Fragment){n.push.apply(n,dg(i.props.children,l));return}xt(i.type===Ns,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=dg(i.props.children,l)),n.push(c)}),n}var zh="get",Bh="application/x-www-form-urlencoded";function Ff(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Kj(t){return Ff(t)&&t.tagName.toLowerCase()==="button"}function Yj(t){return Ff(t)&&t.tagName.toLowerCase()==="form"}function Xj(t){return Ff(t)&&t.tagName.toLowerCase()==="input"}function Qj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wj(t,e){return t.button===0&&(!e||e==="_self")&&!Qj(t)}var Sh=null;function Jj(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var Zj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function k0(t){return t!=null&&!Zj.has(t)?(Os(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):t}function e5(t,e){let n,i,a,l,c;if(Yj(t)){let h=t.getAttribute("action");i=h?Ki(h,e):null,n=t.getAttribute("method")||zh,a=k0(t.getAttribute("enctype"))||Bh,l=new FormData(t)}else if(Kj(t)||Xj(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(i=m?Ki(m,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||zh,a=k0(t.getAttribute("formenctype"))||k0(h.getAttribute("enctype"))||Bh,l=new FormData(h,t),!Jj()){let{name:p,type:x,value:b}=t;if(x==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,b)}}else{if(Ff(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zh,i=null,a=Bh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t5(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Ki(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function n5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s5(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function i5(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await n5(l,n);return c.links?c.links():[]}return[]}));return l5(i.flat(1).filter(s5).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Uw(t,e,n,i,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,h=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||h(m,p)):l==="data"?e.filter((m,p)=>{let x=i.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(c(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function r5(t,e,{includeHydrateFallback:n}={}){return a5(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function a5(t){return[...new Set(t)]}function o5(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function l5(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(o5(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function hS(){let t=A.useContext(El);return xy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function c5(){let t=A.useContext(Bf);return xy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var by=A.createContext(void 0);by.displayName="FrameworkContext";function fS(){let t=A.useContext(by);return xy(t,"You must render this element inside a <HydratedRouter> element"),t}function u5(t,e){let n=A.useContext(by),[i,a]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:x,onTouchStart:b}=e,w=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=O=>{O.forEach(H=>{c(H.isIntersecting)})},M=new IntersectionObserver(D,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[t]),A.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let E=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Hc(h,E),onBlur:Hc(m,I),onMouseEnter:Hc(p,E),onMouseLeave:Hc(x,I),onTouchStart:Hc(b,E)}]:[!1,w,{}]}function Hc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function d5({page:t,...e}){let{router:n}=hS(),i=A.useMemo(()=>JE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?A.createElement(f5,{page:t,matches:i,...e}):null}function h5(t){let{manifest:e,routeModules:n}=fS(),[i,a]=A.useState([]);return A.useEffect(()=>{let l=!1;return i5(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function f5({page:t,matches:e,...n}){let i=er(),{future:a,manifest:l,routeModules:c}=fS(),{basename:h}=hS(),{loaderData:m,matches:p}=c5(),x=A.useMemo(()=>Uw(t,e,p,l,i,"data"),[t,e,p,l,i]),b=A.useMemo(()=>Uw(t,e,p,l,i,"assets"),[t,e,p,l,i]),w=A.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,M=!1;if(e.forEach(H=>{let K=l.routes[H.route.id];!K||!K.hasLoader||(!x.some(G=>G.route.id===H.route.id)&&H.route.id in m&&c[H.route.id]?.shouldRevalidate||K.hasClientLoader?M=!0:D.add(H.route.id))}),D.size===0)return[];let O=t5(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return M&&D.size>0&&O.searchParams.set("_routes",e.filter(H=>D.has(H.route.id)).map(H=>H.route.id).join(",")),[O.pathname+O.search]},[h,a.unstable_trailingSlashAwareDataRequests,m,i,l,x,e,t,c]),E=A.useMemo(()=>r5(b,l),[b,l]),I=h5(b);return A.createElement(A.Fragment,null,w.map(D=>A.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>A.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),I.map(({key:D,link:M})=>A.createElement("link",{key:D,nonce:n.nonce,...M,crossOrigin:M.crossOrigin??n.crossOrigin})))}function m5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var p5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p5&&(window.__reactRouterVersion="7.13.0")}catch{}function g5({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=A.useRef();a.current==null&&(a.current=KR({window:i,v5Compat:!0}));let l=a.current,[c,h]=A.useState({action:l.action,location:l.location}),m=A.useCallback(p=>{n===!1?h(p):A.startTransition(()=>h(p))},[n]);return A.useLayoutEffect(()=>l.listen(m),[l,m]),A.createElement(Gj,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var mS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=A.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:m,to:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:w,...E},I){let{basename:D,unstable_useTransitions:M}=A.useContext(Kn),O=typeof p=="string"&&mS.test(p),H=nS(p,D);p=H.to;let K=Aj(p,{relative:a}),[G,ne,de]=u5(i,E),j=v5(p,{replace:c,state:h,target:m,preventScrollReset:x,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:M});function S(z){e&&e(z),z.defaultPrevented||j(z)}let R=A.createElement("a",{...E,...de,href:H.absoluteURL||K,onClick:H.isExternal||l?e:S,ref:m5(I,ne),target:m,"data-discover":!O&&n==="render"?"true":void 0});return G&&!O?A.createElement(A.Fragment,null,R,A.createElement(d5,{page:K})):R});en.displayName="Link";var y5=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:m,...p},x){let b=ju(c,{relative:p.relative}),w=er(),E=A.useContext(Bf),{navigator:I,basename:D}=A.useContext(Kn),M=E!=null&&S5(b)&&h===!0,O=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,H=w.pathname,K=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(H=H.toLowerCase(),K=K?K.toLowerCase():null,O=O.toLowerCase()),K&&D&&(K=Ki(K,D)||K);const G=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let ne=H===O||!a&&H.startsWith(O)&&H.charAt(G)==="/",de=K!=null&&(K===O||!a&&K.startsWith(O)&&K.charAt(O.length)==="/"),j={isActive:ne,isPending:de,isTransitioning:M},S=ne?e:void 0,R;typeof i=="function"?R=i(j):R=[i,ne?"active":null,de?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(j):l;return A.createElement(en,{...p,"aria-current":S,className:R,ref:x,style:z,to:c,viewTransition:h},typeof m=="function"?m(j):m)});y5.displayName="NavLink";var x5=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=zh,action:h,onSubmit:m,relative:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:w,...E},I)=>{let{unstable_useTransitions:D}=A.useContext(Kn),M=T5(),O=E5(h,{relative:p}),H=c.toLowerCase()==="get"?"get":"post",K=typeof h=="string"&&mS.test(h),G=ne=>{if(m&&m(ne),ne.defaultPrevented)return;ne.preventDefault();let de=ne.nativeEvent.submitter,j=de?.getAttribute("formmethod")||c,S=()=>M(de||ne.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:a,state:l,relative:p,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:w});D&&n!==!1?A.startTransition(()=>S()):S()};return A.createElement("form",{ref:I,method:H,action:O,onSubmit:i?m:G,...E,"data-discover":!K&&t==="render"?"true":void 0})});x5.displayName="Form";function b5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pS(t){let e=A.useContext(El);return xt(e,b5(t)),e}function v5(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let p=kl(),x=er(),b=ju(t,{relative:l});return A.useCallback(w=>{if(Wj(w,e)){w.preventDefault();let E=n!==void 0?n:fu(x)===fu(b),I=()=>p(t,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});m?A.startTransition(()=>I()):I()}},[x,p,b,n,i,e,t,a,l,c,h,m])}var w5=0,_5=()=>`__${String(++w5)}__`;function T5(){let{router:t}=pS("useSubmit"),{basename:e}=A.useContext(Kn),n=Bj(),i=t.fetch,a=t.navigate;return A.useCallback(async(l,c={})=>{let{action:h,method:m,encType:p,formData:x,body:b}=e5(l,e);if(c.navigate===!1){let w=c.fetcherKey||_5();await i(w,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:b,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:b,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function E5(t,{relative:e}={}){let{basename:n}=A.useContext(Kn),i=A.useContext(ms);xt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ju(t||".",{relative:e})},c=er();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(x=>x==="")){h.delete("index"),m.filter(b=>b).forEach(b=>h.append("index",b));let x=h.toString();l.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Gi([n,l.pathname])),fu(l)}function S5(t,{relative:e}={}){let n=A.useContext(iS);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pS("useViewTransitionState"),a=ju(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ki(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ki(n.nextLocation.pathname,i)||n.nextLocation.pathname;return af(a.pathname,c)!=null||af(a.pathname,l)!=null}var k5=WE();const vy=A.createContext({});function wy(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const gS=typeof window<"u",yS=gS?A.useLayoutEffect:A.useEffect,Hf=A.createContext(null);function _y(t,e){t.indexOf(e)===-1&&t.push(e)}function of(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const pi=(t,e,n)=>n>e?e:n<t?t:n;let Ty=()=>{};const Yi={},xS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bS(t){return typeof t=="object"&&t!==null}const vS=t=>/^0[^.\s]+$/u.test(t);function Ey(t){let e;return()=>(e===void 0&&(e=t()),e)}const fs=t=>t,A5=(t,e)=>n=>e(t(n)),Iu=(...t)=>t.reduce(A5),mu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Sy{constructor(){this.subscriptions=[]}add(e){return _y(this.subscriptions,e),()=>of(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Is=t=>t*1e3,ds=t=>t/1e3;function wS(t,e){return e?t*(1e3/e):0}const _S=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,N5=1e-7,C5=12;function R5(t,e,n,i,a){let l,c,h=0;do c=e+(n-e)/2,l=_S(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>N5&&++h<C5);return c}function Du(t,e,n,i){if(t===e&&n===i)return fs;const a=l=>R5(l,0,1,t,n);return l=>l===0||l===1?l:_S(a(l),e,i)}const TS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ES=t=>e=>1-t(1-e),SS=Du(.33,1.53,.69,.99),ky=ES(SS),kS=TS(ky),AS=t=>(t*=2)<1?.5*ky(t):.5*(2-Math.pow(2,-10*(t-1))),Ay=t=>1-Math.sin(Math.acos(t)),NS=ES(Ay),CS=TS(Ay),j5=Du(.42,0,1,1),I5=Du(0,0,.58,1),RS=Du(.42,0,.58,1),D5=t=>Array.isArray(t)&&typeof t[0]!="number",jS=t=>Array.isArray(t)&&typeof t[0]=="number",M5={linear:fs,easeIn:j5,easeInOut:RS,easeOut:I5,circIn:Ay,circInOut:CS,circOut:NS,backIn:ky,backInOut:kS,backOut:SS,anticipate:AS},P5=t=>typeof t=="string",zw=t=>{if(jS(t)){Ty(t.length===4);const[e,n,i,a]=t;return Du(e,n,i,a)}else if(P5(t))return M5[t];return t},kh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function V5(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(x){c.has(x)&&(p.schedule(x),t()),x(h)}const p={schedule:(x,b=!1,w=!1)=>{const I=w&&a?n:i;return b&&c.add(x),I.has(x)||I.add(x),x},cancel:x=>{i.delete(x),c.delete(x)},process:x=>{if(h=x,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(x))}};return p}const O5=40;function IS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=kh.reduce((K,G)=>(K[G]=V5(l),K),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:x,update:b,preRender:w,render:E,postRender:I}=c,D=()=>{const K=Yi.useManualTiming?a.timestamp:performance.now();n=!1,Yi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(K-a.timestamp,O5),1)),a.timestamp=K,a.isProcessing=!0,h.process(a),m.process(a),p.process(a),x.process(a),b.process(a),w.process(a),E.process(a),I.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(D))},M=()=>{n=!0,i=!0,a.isProcessing||t(D)};return{schedule:kh.reduce((K,G)=>{const ne=c[G];return K[G]=(de,j=!1,S=!1)=>(n||M(),ne.schedule(de,j,S)),K},{}),cancel:K=>{for(let G=0;G<kh.length;G++)c[kh[G]].cancel(K)},state:a,steps:c}}const{schedule:ht,cancel:Qr,state:cn,steps:A0}=IS(typeof requestAnimationFrame<"u"?requestAnimationFrame:fs,!0);let Fh;function L5(){Fh=void 0}const _n={now:()=>(Fh===void 0&&_n.set(cn.isProcessing||Yi.useManualTiming?cn.timestamp:performance.now()),Fh),set:t=>{Fh=t,queueMicrotask(L5)}},DS=t=>e=>typeof e=="string"&&e.startsWith(t),MS=DS("--"),U5=DS("var(--"),Ny=t=>U5(t)?z5.test(t.split("/*")[0].trim()):!1,z5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Bw(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Al={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pu={...Al,transform:t=>pi(0,1,t)},Ah={...Al,default:1},tu=t=>Math.round(t*1e5)/1e5,Cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B5(t){return t==null}const F5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ry=(t,e)=>n=>!!(typeof n=="string"&&F5.test(n)&&n.startsWith(t)||e&&!B5(n)&&Object.prototype.hasOwnProperty.call(n,e)),PS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(Cy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},H5=t=>pi(0,255,t),N0={...Al,transform:t=>Math.round(H5(t))},Fa={test:Ry("rgb","red"),parse:PS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+N0.transform(t)+", "+N0.transform(e)+", "+N0.transform(n)+", "+tu(pu.transform(i))+")"};function q5(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const hg={test:Ry("#"),parse:q5,transform:Fa.transform},Mu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Lr=Mu("deg"),ci=Mu("%"),Te=Mu("px"),G5=Mu("vh"),$5=Mu("vw"),Fw={...ci,parse:t=>ci.parse(t)/100,transform:t=>ci.transform(t*100)},sl={test:Ry("hsl","hue"),parse:PS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ci.transform(tu(e))+", "+ci.transform(tu(n))+", "+tu(pu.transform(i))+")"},Ft={test:t=>Fa.test(t)||hg.test(t)||sl.test(t),parse:t=>Fa.test(t)?Fa.parse(t):sl.test(t)?sl.parse(t):hg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fa.transform(t):sl.transform(t),getAnimatableNone:t=>{const e=Ft.parse(t);return e.alpha=0,Ft.transform(e)}},K5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y5(t){return isNaN(t)&&typeof t=="string"&&(t.match(Cy)?.length||0)+(t.match(K5)?.length||0)>0}const VS="number",OS="color",X5="var",Q5="var(",Hw="${}",W5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(W5,m=>(Ft.test(m)?(i.color.push(l),a.push(OS),n.push(Ft.parse(m))):m.startsWith(Q5)?(i.var.push(l),a.push(X5),n.push(m)):(i.number.push(l),a.push(VS),n.push(parseFloat(m))),++l,Hw)).split(Hw);return{values:n,split:h,indexes:i,types:a}}function LS(t){return gu(t).values}function US(t){const{split:e,types:n}=gu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===VS?l+=tu(a[c]):h===OS?l+=Ft.transform(a[c]):l+=a[c]}return l}}const J5=t=>typeof t=="number"?0:Ft.test(t)?Ft.getAnimatableNone(t):t;function Z5(t){const e=LS(t);return US(t)(e.map(J5))}const Wr={test:Y5,parse:LS,createTransformer:US,getAnimatableNone:Z5};function C0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function e4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,m=2*n-h;a=C0(m,h,t+1/3),l=C0(m,h,t),c=C0(m,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function lf(t,e){return n=>n>0?e:t}const bt=(t,e,n)=>t+(e-t)*n,R0=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},t4=[hg,Fa,sl],n4=t=>t4.find(e=>e.test(t));function qw(t){const e=n4(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=e4(n)),n}const Gw=(t,e)=>{const n=qw(t),i=qw(e);if(!n||!i)return lf(t,e);const a={...n};return l=>(a.red=R0(n.red,i.red,l),a.green=R0(n.green,i.green,l),a.blue=R0(n.blue,i.blue,l),a.alpha=bt(n.alpha,i.alpha,l),Fa.transform(a))},fg=new Set(["none","hidden"]);function s4(t,e){return fg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function i4(t,e){return n=>bt(t,e,n)}function jy(t){return typeof t=="number"?i4:typeof t=="string"?Ny(t)?lf:Ft.test(t)?Gw:o4:Array.isArray(t)?zS:typeof t=="object"?Ft.test(t)?Gw:r4:lf}function zS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>jy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function r4(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=jy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function a4(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;n[a]=h,i[l]++}return n}const o4=(t,e)=>{const n=Wr.createTransformer(e),i=gu(t),a=gu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?fg.has(t)&&!a.values.length||fg.has(e)&&!i.values.length?s4(t,e):Iu(zS(a4(i,a),a.values),n):lf(t,e)};function BS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?bt(t,e,n):jy(t)(t,e)}const l4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>Qr(e),now:()=>cn.isProcessing?cn.timestamp:_n.now()}},FS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},cf=2e4;function Iy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<cf;)e+=n,i=t.next(e);return e>=cf?1/0:e}function c4(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Iy(i),cf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:ds(a)}}const u4=5;function HS(t,e,n){const i=Math.max(e-u4,0);return wS(n-t(i),e-i)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},j0=.001;function d4({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:i=Tt.mass}){let a,l,c=1-e;c=pi(Tt.minDamping,Tt.maxDamping,c),t=pi(Tt.minDuration,Tt.maxDuration,ds(t)),c<1?(a=p=>{const x=p*c,b=x*t,w=x-n,E=mg(p,c),I=Math.exp(-b);return j0-w/E*I},l=p=>{const b=p*c*t,w=b*n+n,E=Math.pow(c,2)*Math.pow(p,2)*t,I=Math.exp(-b),D=mg(Math.pow(p,2),c);return(-a(p)+j0>0?-1:1)*((w-E)*I)/D}):(a=p=>{const x=Math.exp(-p*t),b=(p-n)*t+1;return-j0+x*b},l=p=>{const x=Math.exp(-p*t),b=(n-p)*(t*t);return x*b});const h=5/t,m=f4(a,l,h);if(t=Is(t),isNaN(m))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const h4=12;function f4(t,e,n){let i=n;for(let a=1;a<h4;a++)i=i-t(i)/e(i);return i}function mg(t,e){return t*Math.sqrt(1-e*e)}const m4=["duration","bounce"],p4=["stiffness","damping","mass"];function $w(t,e){return e.some(n=>t[n]!==void 0)}function g4(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!$w(t,p4)&&$w(t,m4))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*pi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:l}}else{const n=d4(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function uf(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:m,damping:p,mass:x,duration:b,velocity:w,isResolvedFromDuration:E}=g4({...n,velocity:-ds(n.velocity||0)}),I=w||0,D=p/(2*Math.sqrt(m*x)),M=c-l,O=ds(Math.sqrt(m/x)),H=Math.abs(M)<5;i||(i=H?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=H?Tt.restDelta.granular:Tt.restDelta.default);let K;if(D<1){const ne=mg(O,D);K=de=>{const j=Math.exp(-D*O*de);return c-j*((I+D*O*M)/ne*Math.sin(ne*de)+M*Math.cos(ne*de))}}else if(D===1)K=ne=>c-Math.exp(-O*ne)*(M+(I+O*M)*ne);else{const ne=O*Math.sqrt(D*D-1);K=de=>{const j=Math.exp(-D*O*de),S=Math.min(ne*de,300);return c-j*((I+D*O*M)*Math.sinh(S)+ne*M*Math.cosh(S))/ne}}const G={calculatedDuration:E&&b||null,next:ne=>{const de=K(ne);if(E)h.done=ne>=b;else{let j=ne===0?I:0;D<1&&(j=ne===0?Is(I):HS(K,ne,de));const S=Math.abs(j)<=i,R=Math.abs(c-de)<=a;h.done=S&&R}return h.value=h.done?c:de,h},toString:()=>{const ne=Math.min(Iy(G),cf),de=FS(j=>G.next(ne*j).value,ne,30);return ne+"ms "+de},toTransition:()=>{}};return G}uf.applyToOptions=t=>{const e=c4(t,100,uf);return t.ease=e.ease,t.duration=Is(e.duration),t.type="keyframes",t};function pg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:m,restDelta:p=.5,restSpeed:x}){const b=t[0],w={done:!1,value:b},E=S=>h!==void 0&&S<h||m!==void 0&&S>m,I=S=>h===void 0?m:m===void 0||Math.abs(h-S)<Math.abs(m-S)?h:m;let D=n*e;const M=b+D,O=c===void 0?M:c(M);O!==M&&(D=O-b);const H=S=>-D*Math.exp(-S/i),K=S=>O+H(S),G=S=>{const R=H(S),z=K(S);w.done=Math.abs(R)<=p,w.value=w.done?O:z};let ne,de;const j=S=>{E(w.value)&&(ne=S,de=uf({keyframes:[w.value,I(w.value)],velocity:HS(K,S,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:x}))};return j(0),{calculatedDuration:null,next:S=>{let R=!1;return!de&&ne===void 0&&(R=!0,G(S),j(S)),ne!==void 0&&S>=ne?de.next(S-ne):(!R&&G(S),w)}}}function y4(t,e,n){const i=[],a=n||Yi.mix||BS,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||fs:e;h=Iu(m,h)}i.push(h)}return i}function x4(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Ty(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=y4(e,i,a),m=h.length,p=x=>{if(c&&x<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(x<t[b+1]);b++);const w=mu(t[b],t[b+1],x);return h[b](w)};return n?x=>p(pi(t[0],t[l-1],x)):p}function b4(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=mu(0,e,i);t.push(bt(n,1,a))}}function v4(t){const e=[0];return b4(e,t.length-1),e}function w4(t,e){return t.map(n=>n*e)}function _4(t,e){return t.map(()=>e||RS).splice(0,t.length-1)}function nu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=D5(i)?i.map(zw):zw(i),l={done:!1,value:e[0]},c=w4(n&&n.length===e.length?n:v4(e),t),h=x4(c,e,{ease:Array.isArray(a)?a:_4(e,a)});return{calculatedDuration:t,next:m=>(l.value=h(m),l.done=m>=t,l)}}const T4=t=>t!==null;function Dy(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(T4),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const E4={decay:pg,inertia:pg,tween:nu,keyframes:nu,spring:uf};function qS(t){typeof t.type=="string"&&(t.type=E4[t.type])}class My{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const S4=t=>t/100;class Py extends My{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==_n.now()&&this.tick(_n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qS(e);const{type:n=nu,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const m=n||nu;m!==nu&&typeof h[0]!="number"&&(this.mixKeyframes=Iu(S4,BS(h[0],h[1])),h=[0,100]);const p=m({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Iy(p));const{calculatedDuration:x}=p;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:x,repeat:b,repeatType:w,repeatDelay:E,type:I,onUpdate:D,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,G=i;if(b){const S=Math.min(this.currentTime,a)/h;let R=Math.floor(S),z=S%1;!z&&S>=1&&(z=1),z===1&&R--,R=Math.min(R,b+1),R%2&&(w==="reverse"?(z=1-z,E&&(z-=E/h)):w==="mirror"&&(G=c)),K=pi(0,1,z)*h}const ne=H?{done:!1,value:x[0]}:G.next(K);l&&(ne.value=l(ne.value));let{done:de}=ne;!H&&m!==null&&(de=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return j&&I!==pg&&(ne.value=Dy(x,this.options,M,this.speed)),D&&D(ne.value),j&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return ds(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ds(e)}get time(){return ds(this.currentTime)}set time(e){e=Is(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_n.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ds(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=l4,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function k4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ha=t=>t*180/Math.PI,gg=t=>{const e=Ha(Math.atan2(t[1],t[0]));return yg(e)},A4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:gg,rotateZ:gg,skewX:t=>Ha(Math.atan(t[1])),skewY:t=>Ha(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},yg=t=>(t=t%360,t<0&&(t+=360),t),Kw=gg,Yw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Xw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),N4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Yw,scaleY:Xw,scale:t=>(Yw(t)+Xw(t))/2,rotateX:t=>yg(Ha(Math.atan2(t[6],t[5]))),rotateY:t=>yg(Ha(Math.atan2(-t[2],t[0]))),rotateZ:Kw,rotate:Kw,skewX:t=>Ha(Math.atan(t[4])),skewY:t=>Ha(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xg(t){return t.includes("scale")?1:0}function bg(t,e){if(!t||t==="none")return xg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=N4,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=A4,a=h}if(!a)return xg(e);const l=i[e],c=a[1].split(",").map(R4);return typeof l=="function"?l(c):c[l]}const C4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return bg(n,e)};function R4(t){return parseFloat(t.trim())}const Nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cl=new Set(Nl),Qw=t=>t===Al||t===Te,j4=new Set(["x","y","z"]),I4=Nl.filter(t=>!j4.has(t));function D4(t){const e=[];return I4.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Fr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>bg(e,"x"),y:(t,{transform:e})=>bg(e,"y")};Fr.translateX=Fr.x;Fr.translateY=Fr.y;const $a=new Set;let vg=!1,wg=!1,_g=!1;function GS(){if(wg){const t=Array.from($a).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=D4(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}wg=!1,vg=!1,$a.forEach(t=>t.complete(_g)),$a.clear()}function $S(){$a.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wg=!0)})}function M4(){_g=!0,$S(),GS(),_g=!1}class Vy{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?($a.add(this),vg||(vg=!0,ht.read($S),ht.resolveKeyframes(GS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}k4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$a.delete(this)}cancel(){this.state==="scheduled"&&($a.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const P4=t=>t.startsWith("--");function V4(t,e,n){P4(e)?t.style.setProperty(e,n):t.style[e]=n}const O4=Ey(()=>window.ScrollTimeline!==void 0),L4={};function U4(t,e){const n=Ey(t);return()=>L4[e]??n()}const KS=U4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Ww={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yc([0,.65,.55,1]),circOut:Yc([.55,0,1,.45]),backIn:Yc([.31,.01,.66,-.59]),backOut:Yc([.33,1.53,.69,.99])};function YS(t,e){if(t)return typeof t=="function"?KS()?FS(t,e):"ease-out":jS(t)?Yc(t):Array.isArray(t)?t.map(n=>YS(n,e)||Ww.easeOut):Ww[t]}function z4(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:m}={},p=void 0){const x={[e]:n};m&&(x.offset=m);const b=YS(h,a);Array.isArray(b)&&(x.easing=b);const w={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(x,w)}function XS(t){return typeof t=="function"&&"applyToOptions"in t}function B4({type:t,...e}){return XS(t)&&KS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class QS extends My{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Ty(typeof e.type!="string");const p=B4(e);this.animation=z4(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const x=Dy(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(x):V4(n,i,x),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ds(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ds(e)}get time(){return ds(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Is(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&O4()?(this.animation.timeline=e,fs):n(this)}}const WS={anticipate:AS,backInOut:kS,circInOut:CS};function F4(t){return t in WS}function H4(t){typeof t.ease=="string"&&F4(t.ease)&&(t.ease=WS[t.ease])}const I0=10;class q4 extends QS{constructor(e){H4(e),qS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Py({...c,autoplay:!1}),m=Math.max(I0,_n.now()-this.startTime),p=pi(0,I0,m-I0);n.setWithVelocity(h.sample(Math.max(0,m-p)).value,h.sample(m).value,p),h.stop()}}const Jw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wr.test(t)||t==="0")&&!t.startsWith("url("));function G4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $4(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Jw(a,e),h=Jw(l,e);return!c||!h?!1:G4(t)||(n==="spring"||XS(n))&&i}function Tg(t){t.duration=0,t.type="keyframes"}const K4=new Set(["opacity","clipPath","filter","transform"]),Y4=Ey(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function X4(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return Y4()&&n&&K4.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const Q4=40;class W4 extends My{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:m,motionValue:p,element:x,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_n.now();const w={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:x,...b},E=x?.KeyframeResolver||Vy;this.keyframeResolver=new E(h,(I,D,M)=>this.onKeyframesResolved(I,D,w,!M),m,p,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:m,isHandoff:p,onUpdate:x}=i;this.resolvedAt=_n.now(),$4(e,l,c,h)||((Yi.instantAnimations||!m)&&x?.(Dy(e,i,n)),e[0]=e[e.length-1],Tg(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Q4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},E=!p&&X4(w),I=w.motionValue?.owner?.current,D=E?new q4({...w,element:I}):new Py(w);D.finished.then(()=>{this.notifyFinished()}).catch(fs),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),M4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function JS(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,x)=>p.sortNodePosition(x)).indexOf(e),c=t.size,h=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:h-l*i}const J4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Z4(t){const e=J4.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function ZS(t,e,n=1){const[i,a]=Z4(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return xS(c)?parseFloat(c):c}return Ny(a)?ZS(a,e,n+1):a}const eI={type:"spring",stiffness:500,damping:25,restSpeed:10},tI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nI={type:"keyframes",duration:.8},sI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iI=(t,{keyframes:e})=>e.length>2?nI:Cl.has(t)?t.startsWith("scale")?tI(e[1]):eI:sI,rI=t=>t!==null;function aI(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(rI),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function e2(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function Oy(t,e){const n=t?.[e]??t?.default??t;return n!==t?e2(n,t):n}function oI({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:m,elapsed:p,...x}){return!!Object.keys(x).length}const Ly=(t,e,n,i={},a,l)=>c=>{const h=Oy(i,t)||{},m=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Is(m);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};oI(h)||Object.assign(x,iI(t,x)),x.duration&&(x.duration=Is(x.duration)),x.repeatDelay&&(x.repeatDelay=Is(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let b=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(Tg(x),x.delay===0&&(b=!0)),(Yi.instantAnimations||Yi.skipAnimations||a?.shouldSkipAnimations)&&(b=!0,Tg(x),x.delay=0),x.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const w=aI(x.keyframes,h);if(w!==void 0){ht.update(()=>{x.onUpdate(w),x.onComplete()});return}}return h.isSync?new Py(x):new W4(x)};function Zw(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Uy(t,e,n,i){if(typeof e=="function"){const[a,l]=Zw(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Zw(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function ll(t,e,n){const i=t.getProps();return Uy(i,e,n!==void 0?n:i.custom,t)}const t2=new Set(["width","height","top","left","right","bottom",...Nl]),e_=30,lI=t=>!isNaN(parseFloat(t));class cI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=_n.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=_n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Sy);const i=this.events[e].add(n);return e==="change"?()=>{i(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>e_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,e_);return wS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gl(t,e){return new cI(t,e)}const Eg=t=>Array.isArray(t);function uI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gl(n))}function dI(t){return Eg(t)?t[t.length-1]||0:t}function hI(t,e){const n=ll(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const h=dI(l[c]);uI(t,c,h)}}const yn=t=>!!(t&&t.getVelocity);function fI(t){return!!(yn(t)&&t.add)}function Sg(t,e){const n=t.getValue("willChange");if(fI(n))return n.add(e);if(!n&&Yi.WillChange){const i=new Yi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function zy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const mI="framerAppearId",n2="data-"+zy(mI);function s2(t){return t.props[n2]}function pI({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function i2(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:c,...h}=e;const m=t.getDefaultTransition();l=l?e2(l,m):m;const p=l?.reduceMotion;i&&(l=i);const x=[],b=a&&t.animationState&&t.animationState.getState()[a];for(const w in h){const E=t.getValue(w,t.latestValues[w]??null),I=h[w];if(I===void 0||b&&pI(b,w))continue;const D={delay:n,...Oy(l||{},w)},M=E.get();if(M!==void 0&&!E.isAnimating&&!Array.isArray(I)&&I===M&&!D.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const G=s2(t);if(G){const ne=window.MotionHandoffAnimation(G,w,ht);ne!==null&&(D.startTime=ne,O=!0)}}Sg(t,w);const H=p??t.shouldReduceMotion;E.start(Ly(w,E,I,H&&t2.has(w)?{type:!1}:D,t,O));const K=E.animation;K&&x.push(K)}if(c){const w=()=>ht.update(()=>{c&&hI(t,c)});x.length?Promise.all(x).then(w):w()}return x}function kg(t,e,n={}){const i=ll(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(i2(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:b}=a;return gI(t,e,m,p,x,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,p]=h==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function gI(t,e,n=0,i=0,a=0,l=1,c){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push(kg(m,e,{...c,delay:n+(typeof i=="function"?0:i)+JS(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function yI(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>kg(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=kg(t,e,n);else{const a=typeof e=="function"?ll(t,e,n.custom):e;i=Promise.all(i2(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const xI={test:t=>t==="auto",parse:t=>t},r2=t=>e=>e.test(t),a2=[Al,Te,ci,Lr,$5,G5,xI],t_=t=>a2.find(r2(t));function bI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vS(t):!0}const vI=new Set(["brightness","contrast","saturate","opacity"]);function wI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Cy)||[];if(!i)return t;const a=n.replace(i,"");let l=vI.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const _I=/\b([a-z-]*)\(.*?\)/gu,Ag={...Wr,getAnimatableNone:t=>{const e=t.match(_I);return e?e.map(wI).join(" "):t}},n_={...Al,transform:Math.round},TI={rotate:Lr,rotateX:Lr,rotateY:Lr,rotateZ:Lr,scale:Ah,scaleX:Ah,scaleY:Ah,scaleZ:Ah,skew:Lr,skewX:Lr,skewY:Lr,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:pu,originX:Fw,originY:Fw,originZ:Te},By={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,inset:Te,insetBlock:Te,insetBlockStart:Te,insetBlockEnd:Te,insetInline:Te,insetInlineStart:Te,insetInlineEnd:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,paddingBlock:Te,paddingBlockStart:Te,paddingBlockEnd:Te,paddingInline:Te,paddingInlineStart:Te,paddingInlineEnd:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,marginBlock:Te,marginBlockStart:Te,marginBlockEnd:Te,marginInline:Te,marginInlineStart:Te,marginInlineEnd:Te,fontSize:Te,backgroundPositionX:Te,backgroundPositionY:Te,...TI,zIndex:n_,fillOpacity:pu,strokeOpacity:pu,numOctaves:n_},EI={...By,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:Ag,WebkitFilter:Ag},o2=t=>EI[t];function l2(t,e){let n=o2(t);return n!==Ag&&(n=Wr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SI=new Set(["auto","none","0"]);function kI(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!SI.has(l)&&gu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=l2(n,a)}class AI extends Vy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let x=0;x<e.length;x++){let b=e[x];if(typeof b=="string"&&(b=b.trim(),Ny(b))){const w=ZS(b,n.current);w!==void 0&&(e[x]=w),x===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!t2.has(i)||e.length!==2)return;const[a,l]=e,c=t_(a),h=t_(l),m=Bw(a),p=Bw(l);if(m!==p&&Fr[i]){this.needsMeasurement=!0;return}if(c!==h)if(Qw(c)&&Qw(h))for(let x=0;x<e.length;x++){const b=e[x];typeof b=="string"&&(e[x]=parseFloat(b))}else Fr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||bI(e[a]))&&i.push(a);i.length&&kI(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Fr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const NI=new Set(["opacity","clipPath","filter","transform"]);function c2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const u2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Ng(t){return bS(t)&&"offsetHeight"in t}const{schedule:Fy}=IS(queueMicrotask,!1),Cs={x:!1,y:!1};function d2(){return Cs.x||Cs.y}function CI(t){return t==="x"||t==="y"?Cs[t]?null:(Cs[t]=!0,()=>{Cs[t]=!1}):Cs.x||Cs.y?null:(Cs.x=Cs.y=!0,()=>{Cs.x=Cs.y=!1})}function h2(t,e){const n=c2(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function RI(t){return!(t.pointerType==="touch"||d2())}function jI(t,e,n={}){const[i,a,l]=h2(t,n);return i.forEach(c=>{let h=!1,m=!1,p;const x=()=>{c.removeEventListener("pointerleave",I)},b=M=>{p&&(p(M),p=void 0),x()},w=M=>{h=!1,window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",w),m&&(m=!1,b(M))},E=()=>{h=!0,window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",w,a)},I=M=>{if(M.pointerType!=="touch"){if(h){m=!0;return}b(M)}},D=M=>{if(!RI(M))return;m=!1;const O=e(c,M);typeof O=="function"&&(p=O,c.addEventListener("pointerleave",I,a))};c.addEventListener("pointerenter",D,a),c.addEventListener("pointerdown",E,a)}),l}const f2=(t,e)=>e?t===e?!0:f2(t,e.parentElement):!1,Hy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,II=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DI(t){return II.has(t.tagName)||t.isContentEditable===!0}const MI=new Set(["INPUT","SELECT","TEXTAREA"]);function PI(t){return MI.has(t.tagName)||t.isContentEditable===!0}const Hh=new WeakSet;function s_(t){return e=>{e.key==="Enter"&&t(e)}}function D0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VI=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=s_(()=>{if(Hh.has(n))return;D0(n,"down");const a=s_(()=>{D0(n,"up")}),l=()=>D0(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function i_(t){return Hy(t)&&!d2()}const r_=new WeakSet;function OI(t,e,n={}){const[i,a,l]=h2(t,n),c=h=>{const m=h.currentTarget;if(!i_(h)||r_.has(h))return;Hh.add(m),n.stopPropagation&&r_.add(h);const p=e(m,h),x=(E,I)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),Hh.has(m)&&Hh.delete(m),i_(E)&&typeof p=="function"&&p(E,{success:I})},b=E=>{x(E,m===window||m===document||n.useGlobalTarget||f2(m,E.target))},w=E=>{x(E,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),Ng(h)&&(h.addEventListener("focus",p=>VI(p,a)),!DI(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function qy(t){return bS(t)&&"ownerSVGElement"in t}const qh=new WeakMap;let Gh;const m2=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:qy(i)&&"getBBox"in i?i.getBBox()[e]:i[n],LI=m2("inline","width","offsetWidth"),UI=m2("block","height","offsetHeight");function zI({target:t,borderBoxSize:e}){qh.get(t)?.forEach(n=>{n(t,{get width(){return LI(t,e)},get height(){return UI(t,e)}})})}function BI(t){t.forEach(zI)}function FI(){typeof ResizeObserver>"u"||(Gh=new ResizeObserver(BI))}function HI(t,e){Gh||FI();const n=c2(t);return n.forEach(i=>{let a=qh.get(i);a||(a=new Set,qh.set(i,a)),a.add(e),Gh?.observe(i)}),()=>{n.forEach(i=>{const a=qh.get(i);a?.delete(e),a?.size||Gh?.unobserve(i)})}}const $h=new Set;let il;function qI(){il=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};$h.forEach(e=>e(t))},window.addEventListener("resize",il)}function GI(t){return $h.add(t),il||qI(),()=>{$h.delete(t),!$h.size&&typeof il=="function"&&(window.removeEventListener("resize",il),il=void 0)}}function a_(t,e){return typeof t=="function"?GI(t):HI(t,e)}function $I(t){return qy(t)&&t.tagName==="svg"}const KI=[...a2,Ft,Wr],YI=t=>KI.find(r2(t)),o_=()=>({translate:0,scale:1,origin:0,originPoint:0}),rl=()=>({x:o_(),y:o_()}),l_=()=>({min:0,max:0}),Yt=()=>({x:l_(),y:l_()}),XI=new WeakMap;function qf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function yu(t){return typeof t=="string"||Array.isArray(t)}const Gy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$y=["initial",...Gy];function Gf(t){return qf(t.animate)||$y.some(e=>yu(t[e]))}function p2(t){return!!(Gf(t)||t.variants)}function QI(t,e,n){for(const i in e){const a=e[i],l=n[i];if(yn(a))t.addValue(i,a);else if(yn(l))t.addValue(i,gl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,gl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Cg={current:null},g2={current:!1},WI=typeof window<"u";function JI(){if(g2.current=!0,!!WI)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cg.current=t.matches;t.addEventListener("change",e),e()}else Cg.current=!1}const c_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let df={};function y2(t){df=t}function ZI(){return df}class eD{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Vy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=_n.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ht.render(this.render,!1,!0))};const{latestValues:p,renderState:x}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=x,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Gf(n),this.isVariantNode=p2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in w){const I=w[E];p[E]!==void 0&&yn(I)&&I.set(p[E])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,XI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(g2.current||JI(),this.shouldReduceMotion=Cg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&NI.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:h,times:m,ease:p,duration:x}=n.accelerate,b=new QS({element:this.current,name:e,keyframes:h,times:m,ease:p,duration:Is(x)}),w=c(b);this.valueSubscriptions.set(e,()=>{w(),b.cancel()});return}const i=Cl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ht.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in df){const n=df[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<c_.length;i++){const a=c_[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=QI(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=gl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(xS(i)||vS(i))?i=parseFloat(i):!YI(i)&&Wr.test(n)&&(i=l2(e,n)),this.setBaseTarget(e,yn(i)?i.get():i)),yn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Uy(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!yn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Sy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Fy.render(this.render)}}class x2 extends eD{constructor(){super(...arguments),this.KeyframeResolver=AI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ra{constructor(e){this.isMounted=!1,this.node=e}update(){}}function b2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function tD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function M0(t){return t===void 0||t===1}function Rg({scale:t,scaleX:e,scaleY:n}){return!M0(t)||!M0(e)||!M0(n)}function za(t){return Rg(t)||v2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function v2(t){return u_(t.x)||u_(t.y)}function u_(t){return t&&t!=="0%"}function hf(t,e,n){const i=t-n,a=e*i;return n+a}function d_(t,e,n,i,a){return a!==void 0&&(t=hf(t,a,i)),hf(t,n,i)+e}function jg(t,e=0,n=1,i,a){t.min=d_(t.min,e,n,i,a),t.max=d_(t.max,e,n,i,a)}function w2(t,{x:e,y:n}){jg(t.x,e.translate,e.scale,e.originPoint),jg(t.y,n.translate,n.scale,n.originPoint)}const h_=.999999999999,f_=1.0000000000001;function sD(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ol(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,w2(t,c)),i&&za(l.latestValues)&&ol(t,l.latestValues))}e.x<f_&&e.x>h_&&(e.x=1),e.y<f_&&e.y>h_&&(e.y=1)}function al(t,e){t.min=t.min+e,t.max=t.max+e}function m_(t,e,n,i,a=.5){const l=bt(t.min,t.max,a);jg(t,e,n,l,i)}function ol(t,e){m_(t.x,e.x,e.scaleX,e.scale,e.originX),m_(t.y,e.y,e.scaleY,e.scale,e.originY)}function _2(t,e){return b2(nD(t.getBoundingClientRect(),e))}function iD(t,e,n){const i=_2(t,n),{scroll:a}=e;return a&&(al(i.x,a.offset.x),al(i.y,a.offset.y)),i}const rD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aD=Nl.length;function oD(t,e,n){let i="",a=!0;for(let l=0;l<aD;l++){const c=Nl[l],h=t[c];if(h===void 0)continue;let m=!0;if(typeof h=="number")m=h===(c.startsWith("scale")?1:0);else{const p=parseFloat(h);m=c.startsWith("scale")?p===1:p===0}if(!m||n){const p=u2(h,By[c]);if(!m){a=!1;const x=rD[c]||c;i+=`${x}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Ky(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const m in e){const p=e[m];if(Cl.has(m)){c=!0;continue}else if(MS(m)){a[m]=p;continue}else{const x=u2(p,By[m]);m.startsWith("origin")?(h=!0,l[m]=x):i[m]=x}}if(e.transform||(c||n?i.transform=oD(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:x=0}=l;i.transformOrigin=`${m} ${p} ${x}`}}function T2(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function p_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=p_(t,e.target.x),i=p_(t,e.target.y);return`${n}% ${i}%`}},lD={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Wr.parse(t);if(a.length>5)return i;const l=Wr.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=m;const p=bt(h,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Ig={borderRadius:{...qc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qc,borderTopRightRadius:qc,borderBottomLeftRadius:qc,borderBottomRightRadius:qc,boxShadow:lD};function E2(t,{layout:e,layoutId:n}){return Cl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ig[t]||t==="opacity")}function Yy(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(yn(i[c])||a&&yn(a[c])||E2(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function cD(t){return window.getComputedStyle(t)}class uD extends x2{constructor(){super(...arguments),this.type="html",this.renderInstance=T2}readValueFromInstance(e,n){if(Cl.has(n))return this.projection?.isProjecting?xg(n):C4(e,n);{const i=cD(e),a=(MS(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _2(e,n)}build(e,n,i){Ky(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Yy(e,n,i)}}const dD={offset:"stroke-dashoffset",array:"stroke-dasharray"},hD={offset:"strokeDashoffset",array:"strokeDasharray"};function fD(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?dD:hD;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const mD=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function S2(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},m,p,x){if(Ky(t,h,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w}=t;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=x?.transformBox??"fill-box",delete b.transformBox);for(const E of mD)b[E]!==void 0&&(w[E]=b[E],delete b[E]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&fD(b,a,l,c,!1)}const k2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),A2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pD(t,e,n,i){T2(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(k2.has(a)?a:zy(a),e.attrs[a])}function N2(t,e,n){const i=Yy(t,e,n);for(const a in t)if(yn(t[a])||yn(e[a])){const l=Nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class gD extends x2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Cl.has(n)){const i=o2(n);return i&&i.default||0}return n=k2.has(n)?n:zy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return N2(e,n,i)}build(e,n,i){S2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){pD(e,n,i,a)}mount(e){this.isSVGTag=A2(e.tagName),super.mount(e)}}const yD=$y.length;function C2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?C2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<yD;n++){const i=$y[n],a=t.props[i];(yu(a)||a===!1)&&(e[i]=a)}return e}function R2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const xD=[...Gy].reverse(),bD=Gy.length;function vD(t){return e=>Promise.all(e.map(({animation:n,options:i})=>yI(t,n,i)))}function wD(t){let e=vD(t),n=g_(),i=!0;const a=m=>(p,x)=>{const b=ll(t,x,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:E,...I}=b;p={...p,...I,...E}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,x=C2(t.parent)||{},b=[],w=new Set;let E={},I=1/0;for(let M=0;M<bD;M++){const O=xD[M],H=n[O],K=p[O]!==void 0?p[O]:x[O],G=yu(K),ne=O===m?H.isActive:null;ne===!1&&(I=M);let de=K===x[O]&&K!==p[O]&&G;if(de&&i&&t.manuallyAnimateOnMount&&(de=!1),H.protectedKeys={...E},!H.isActive&&ne===null||!K&&!H.prevProp||qf(K)||typeof K=="boolean")continue;if(O==="exit"&&H.isActive&&ne!==!0){H.prevResolvedValues&&(E={...E,...H.prevResolvedValues});continue}const j=_D(H.prevProp,K);let S=j||O===m&&H.isActive&&!de&&G||M>I&&G,R=!1;const z=Array.isArray(K)?K:[K];let U=z.reduce(a(O),{});ne===!1&&(U={});const{prevResolvedValues:$={}}=H,V={...$,...U},ze=F=>{S=!0,w.has(F)&&(R=!0,w.delete(F)),H.needsAnimating[F]=!0;const B=t.getValue(F);B&&(B.liveStyle=!1)};for(const F in V){const B=U[F],se=$[F];if(E.hasOwnProperty(F))continue;let ae=!1;Eg(B)&&Eg(se)?ae=!R2(B,se):ae=B!==se,ae?B!=null?ze(F):w.add(F):B!==void 0&&w.has(F)?ze(F):H.protectedKeys[F]=!0}H.prevProp=K,H.prevResolvedValues=U,H.isActive&&(E={...E,...U}),i&&t.blockInitialAnimation&&(S=!1);const He=de&&j;S&&(!He||R)&&b.push(...z.map(F=>{const B={type:O};if(typeof F=="string"&&i&&!He&&t.manuallyAnimateOnMount&&t.parent){const{parent:se}=t,ae=ll(se,F);if(se.enteringChildren&&ae){const{delayChildren:P}=ae.transition||{};B.delay=JS(se.enteringChildren,t,P)}}return{animation:F,options:B}}))}if(w.size){const M={};if(typeof p.initial!="boolean"){const O=ll(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(M.transition=O.transition)}w.forEach(O=>{const H=t.getBaseTarget(O),K=t.getValue(O);K&&(K.liveStyle=!0),M[O]=H??null}),b.push({animation:M})}let D=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(b):Promise.resolve()}function h(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,p)),n[m].isActive=p;const x=c(m);for(const b in n)n[b].protectedKeys={};return x}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=g_()}}}function _D(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!R2(e,t):!1}function La(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g_(){return{animate:La(!0),whileInView:La(),whileHover:La(),whileTap:La(),whileDrag:La(),whileFocus:La(),exit:La()}}function y_(t,e){t.min=e.min,t.max=e.max}function As(t,e){y_(t.x,e.x),y_(t.y,e.y)}function x_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const j2=1e-4,TD=1-j2,ED=1+j2,I2=.01,SD=0-I2,kD=0+I2;function Tn(t){return t.max-t.min}function AD(t,e,n){return Math.abs(t-e)<=n}function b_(t,e,n,i=.5){t.origin=i,t.originPoint=bt(e.min,e.max,t.origin),t.scale=Tn(n)/Tn(e),t.translate=bt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=TD&&t.scale<=ED||isNaN(t.scale))&&(t.scale=1),(t.translate>=SD&&t.translate<=kD||isNaN(t.translate))&&(t.translate=0)}function su(t,e,n,i){b_(t.x,e.x,n.x,i?i.originX:void 0),b_(t.y,e.y,n.y,i?i.originY:void 0)}function v_(t,e,n){t.min=n.min+e.min,t.max=t.min+Tn(e)}function ND(t,e,n){v_(t.x,e.x,n.x),v_(t.y,e.y,n.y)}function w_(t,e,n){t.min=e.min-n.min,t.max=t.min+Tn(e)}function ff(t,e,n){w_(t.x,e.x,n.x),w_(t.y,e.y,n.y)}function __(t,e,n,i,a){return t-=e,t=hf(t,1/n,i),a!==void 0&&(t=hf(t,1/a,i)),t}function CD(t,e=0,n=1,i=.5,a,l=t,c=t){if(ci.test(e)&&(e=parseFloat(e),e=bt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=bt(l.min,l.max,i);t===l&&(h-=e),t.min=__(t.min,e,n,h,a),t.max=__(t.max,e,n,h,a)}function T_(t,e,[n,i,a],l,c){CD(t,e[n],e[i],e[a],e.scale,l,c)}const RD=["x","scaleX","originX"],jD=["y","scaleY","originY"];function E_(t,e,n,i){T_(t.x,e,RD,n?n.x:void 0,i?i.x:void 0),T_(t.y,e,jD,n?n.y:void 0,i?i.y:void 0)}function S_(t){return t.translate===0&&t.scale===1}function D2(t){return S_(t.x)&&S_(t.y)}function k_(t,e){return t.min===e.min&&t.max===e.max}function ID(t,e){return k_(t.x,e.x)&&k_(t.y,e.y)}function A_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function M2(t,e){return A_(t.x,e.x)&&A_(t.y,e.y)}function N_(t){return Tn(t.x)/Tn(t.y)}function C_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function oi(t){return[t("x"),t("y")]}function DD(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:x,rotateX:b,rotateY:w,skewX:E,skewY:I}=n;p&&(i=`perspective(${p}px) ${i}`),x&&(i+=`rotate(${x}deg) `),b&&(i+=`rotateX(${b}deg) `),w&&(i+=`rotateY(${w}deg) `),E&&(i+=`skewX(${E}deg) `),I&&(i+=`skewY(${I}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const P2=["TopLeft","TopRight","BottomLeft","BottomRight"],MD=P2.length,R_=t=>typeof t=="string"?parseFloat(t):t,j_=t=>typeof t=="number"||Te.test(t);function PD(t,e,n,i,a,l){a?(t.opacity=bt(0,n.opacity??1,VD(i)),t.opacityExit=bt(e.opacity??1,0,OD(i))):l&&(t.opacity=bt(e.opacity??1,n.opacity??1,i));for(let c=0;c<MD;c++){const h=`border${P2[c]}Radius`;let m=I_(e,h),p=I_(n,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||j_(m)===j_(p)?(t[h]=Math.max(bt(R_(m),R_(p),i),0),(ci.test(p)||ci.test(m))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=bt(e.rotate||0,n.rotate||0,i))}function I_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const VD=V2(0,.5,NS),OD=V2(.5,.95,fs);function V2(t,e,n){return i=>i<t?0:i>e?1:n(mu(t,e,i))}function LD(t,e,n){const i=yn(t)?t:gl(t);return i.start(Ly("",i,e,n)),i.animation}function xu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const UD=(t,e)=>t.depth-e.depth;class zD{constructor(){this.children=[],this.isDirty=!1}add(e){_y(this.children,e),this.isDirty=!0}remove(e){of(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UD),this.isDirty=!1,this.children.forEach(e)}}function BD(t,e){const n=_n.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Qr(i),t(l-e))};return ht.setup(i,!0),()=>Qr(i)}function Kh(t){return yn(t)?t.get():t}class FD{constructor(){this.members=[]}add(e){_y(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&of(this.members,i)}e.scheduleRender()}remove(e){if(of(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Yh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},P0=["","X","Y","Z"],HD=1e3;let qD=0;function V0(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function O2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=s2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&O2(i)}function L2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=qD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KD),this.nodes.forEach(WD),this.nodes.forEach(JD),this.nodes.forEach(YD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new zD)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Sy),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const m=this.eventHandlers.get(c);m&&m.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=qy(c)&&!$I(c),this.instance=c;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let x,b=0;const w=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{b=window.innerWidth}),t(c,()=>{const E=window.innerWidth;E!==b&&(b=E,this.root.updateBlockedByResize=!0,x&&x(),x=BD(w,250),Yh.hasAnimatedSinceResize&&(Yh.hasAnimatedSinceResize=!1,this.nodes.forEach(P_)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||s3,{onLayoutAnimationStart:D,onLayoutAnimationComplete:M}=p.getProps(),O=!this.targetLayout||!M2(this.targetLayout,E),H=!b&&w;if(this.options.layoutRoot||this.resumeFrom||H||b&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...Oy(I,"layout"),onPlay:D,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(x,H)}else b||P_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&O2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const b=this.path[x];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(D_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(M_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QD),this.nodes.forEach(GD),this.nodes.forEach($D)):this.nodes.forEach(M_),this.clearAllSnapshots();const h=_n.now();cn.delta=pi(0,1e3/60,h-cn.timestamp),cn.timestamp=h,cn.isProcessing=!0,A0.update.process(cn),A0.preRender.process(cn),A0.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XD),this.sharedNodes.forEach(e3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!D2(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,x=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||za(this.latestValues)||x)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return c&&(m=this.removeTransform(m)),i3(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Yt();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(r3))){const{scroll:p}=this.root;p&&(al(h.x,p.offset.x),al(h.y,p.offset.y))}return h}removeElementScroll(c){const h=Yt();if(As(h,c),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:x,options:b}=p;p!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&As(h,c),al(h.x,x.offset.x),al(h.y,x.offset.y))}return h}applyTransform(c,h=!1){const m=Yt();As(m,c);for(let p=0;p<this.path.length;p++){const x=this.path[p];!h&&x.options.layoutScroll&&x.scroll&&x!==x.root&&ol(m,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),za(x.latestValues)&&ol(m,x.latestValues)}return za(this.latestValues)&&ol(m,this.latestValues),m}removeTransform(c){const h=Yt();As(h,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!za(p.latestValues))continue;Rg(p.latestValues)&&p.updateSnapshot();const x=Yt(),b=p.measurePageBox();As(x,b),E_(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,x)}return za(this.latestValues)&&E_(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!this.layout||!(x||b))return;this.resolvedRelativeTargetAt=cn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ND(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):As(this.target,this.layout.layoutBox),w2(this.target,this.targetDelta)):As(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Rg(this.parent.latestValues)||v2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),ff(this.relativeTargetOrigin,h,m),As(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||x))return;As(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;sD(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Yt());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(x_(this.prevProjectionDelta.x,this.projectionDelta.x),x_(this.prevProjectionDelta.y,this.projectionDelta.y)),su(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!C_(this.projectionDelta.x,this.prevProjectionDelta.x)||!C_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rl(),this.projectionDelta=rl(),this.projectionDeltaWithTransform=rl()}setAnimationOrigin(c,h=!1){const m=this.snapshot,p=m?m.latestValues:{},x={...this.latestValues},b=rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Yt(),E=m?m.source:void 0,I=this.layout?this.layout.source:void 0,D=E!==I,M=this.getStack(),O=!M||M.members.length<=1,H=!!(D&&!O&&this.options.crossfade===!0&&!this.path.some(n3));this.animationProgress=0;let K;this.mixTargetDelta=G=>{const ne=G/1e3;V_(b.x,c.x,ne),V_(b.y,c.y,ne),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ff(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),t3(this.relativeTarget,this.relativeTargetOrigin,w,ne),K&&ID(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Yt()),As(K,this.relativeTarget)),D&&(this.animationValues=x,PD(x,p,this.latestValues,ne,H,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Yh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gl(0)),this.currentAnimation=LD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:x}=c;if(!(!h||!m||!p)){if(this!==c&&this.layout&&p&&U2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Yt();const b=Tn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+b;const w=Tn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}As(h,m),ol(h,x),su(this.projectionDeltaWithTransform,this.layoutCorrected,h,x)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new FD),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&V0("z",c,p,this.animationValues);for(let x=0;x<P0.length;x++)V0(`rotate${P0[x]}`,c,p,this.animationValues),V0(`skew${P0[x]}`,c,p,this.animationValues);c.render();for(const x in p)c.setStaticValue(x,p[x]),this.animationValues&&(this.animationValues[x]=p[x]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Kh(h?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Kh(h?.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const x=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=DD(this.projectionDeltaWithTransform,this.treeScale,x);m&&(b=m(x,b)),c.transform=b;const{x:w,y:E}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,p.animationValues?c.opacity=p===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:c.opacity=p===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const I in Ig){if(x[I]===void 0)continue;const{correct:D,applyTo:M,isCSSVariable:O}=Ig[I],H=b==="none"?x[I]:D(x[I],p);if(M){const K=M.length;for(let G=0;G<K;G++)c[M[G]]=H}else O?this.options.visualElement.renderState.vars[I]=H:c[I]=H}this.options.layoutId&&(c.pointerEvents=p===this?Kh(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(D_),this.root.sharedNodes.clear()}}}function GD(t){t.updateLayout()}function $D(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?oi(x=>{const b=l?e.measuredBox[x]:e.layoutBox[x],w=Tn(b);b.min=n[x].min,b.max=b.min+w}):U2(a,e.layoutBox,n)&&oi(x=>{const b=l?e.measuredBox[x]:e.layoutBox[x],w=Tn(n[x]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+w)});const c=rl();su(c,n,e.layoutBox);const h=rl();l?su(h,t.applyTransform(i,!0),e.measuredBox):su(h,n,e.layoutBox);const m=!D2(c);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:w}=x;if(b&&w){const E=Yt();ff(E,e.layoutBox,b.layoutBox);const I=Yt();ff(I,n,w.layoutBox),M2(E,I)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=E,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function KD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function XD(t){t.clearSnapshot()}function D_(t){t.clearMeasurements()}function M_(t){t.isLayoutDirty=!1}function QD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function P_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function WD(t){t.resolveTargetDelta()}function JD(t){t.calcProjection()}function ZD(t){t.resetSkewAndRotation()}function e3(t){t.removeLeadSnapshot()}function V_(t,e,n){t.translate=bt(e.translate,0,n),t.scale=bt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function O_(t,e,n,i){t.min=bt(e.min,n.min,i),t.max=bt(e.max,n.max,i)}function t3(t,e,n,i){O_(t.x,e.x,n.x,i),O_(t.y,e.y,n.y,i)}function n3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const s3={duration:.45,ease:[.4,0,.1,1]},L_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),U_=L_("applewebkit/")&&!L_("chrome/")?Math.round:fs;function z_(t){t.min=U_(t.min),t.max=U_(t.max)}function i3(t){z_(t.x),z_(t.y)}function U2(t,e,n){return t==="position"||t==="preserve-aspect"&&!AD(N_(e),N_(n),.2)}function r3(t){return t!==t.root&&t.scroll?.wasRoot}const a3=L2({attachResizeListener:(t,e)=>xu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),O0={current:void 0},z2=L2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!O0.current){const t=new a3({});t.mount(window),t.setOptions({layoutScroll:!0}),O0.current=t}return O0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Xy=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function B_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function o3(...t){return e=>{let n=!1;const i=t.map(a=>{const l=B_(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():B_(t[a],null)}}}}function l3(...t){return A.useCallback(o3(...t),t)}class c3 extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=Ng(i)&&i.offsetWidth||0,l=Ng(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function u3({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const c=A.useId(),h=A.useRef(null),m=A.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=A.useContext(Xy),x=t.props?.ref??t?.ref,b=l3(h,x);return A.useInsertionEffect(()=>{const{width:w,height:E,top:I,left:D,right:M,bottom:O}=m.current;if(e||l===!1||!h.current||!w||!E)return;const H=n==="left"?`left: ${D}`:`right: ${M}`,K=i==="bottom"?`bottom: ${O}`:`top: ${I}`;h.current.dataset.motionPopId=c;const G=document.createElement("style");p&&(G.nonce=p);const ne=a??document.head;return ne.appendChild(G),G.sheet&&G.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${E}px !important;
            ${H}px !important;
            ${K}px !important;
          }
        `),()=>{ne.contains(G)&&ne.removeChild(G)}},[e]),d.jsx(c3,{isPresent:e,childRef:h,sizeRef:m,pop:l,children:l===!1?t:A.cloneElement(t,{ref:b})})}const d3=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:m,root:p})=>{const x=wy(h3),b=A.useId();let w=!0,E=A.useMemo(()=>(w=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:I=>{x.set(I,!0);for(const D of x.values())if(!D)return;i&&i()},register:I=>(x.set(I,!1),()=>x.delete(I))}),[n,x,i]);return l&&w&&(E={...E}),A.useMemo(()=>{x.forEach((I,D)=>x.set(D,!1))},[n]),A.useEffect(()=>{!n&&!x.size&&i&&i()},[n]),t=d.jsx(u3,{pop:c==="popLayout",isPresent:n,anchorX:h,anchorY:m,root:p,children:t}),d.jsx(Hf.Provider,{value:E,children:t})};function h3(){return new Map}function B2(t=!0){const e=A.useContext(Hf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=A.useId();A.useEffect(()=>{if(t)return a(l)},[t]);const c=A.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Nh=t=>t.key||"";function F_(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const Yn=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:m="top",root:p})=>{const[x,b]=B2(c),w=A.useMemo(()=>F_(t),[t]),E=c&&!x?[]:w.map(Nh),I=A.useRef(!0),D=A.useRef(w),M=wy(()=>new Map),O=A.useRef(new Set),[H,K]=A.useState(w),[G,ne]=A.useState(w);yS(()=>{I.current=!1,D.current=w;for(let S=0;S<G.length;S++){const R=Nh(G[S]);E.includes(R)?(M.delete(R),O.current.delete(R)):M.get(R)!==!0&&M.set(R,!1)}},[G,E.length,E.join("-")]);const de=[];if(w!==H){let S=[...w];for(let R=0;R<G.length;R++){const z=G[R],U=Nh(z);E.includes(U)||(S.splice(R,0,z),de.push(z))}return l==="wait"&&de.length&&(S=de),ne(F_(S)),K(w),null}const{forceRender:j}=A.useContext(vy);return d.jsx(d.Fragment,{children:G.map(S=>{const R=Nh(S),z=c&&!x?!1:w===G||E.includes(R),U=()=>{if(O.current.has(R))return;if(O.current.add(R),M.has(R))M.set(R,!0);else return;let $=!0;M.forEach(V=>{V||($=!1)}),$&&(j?.(),ne(D.current),c&&b?.(),i&&i())};return d.jsx(d3,{isPresent:z,initial:!I.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:z?void 0:U,anchorX:h,anchorY:m,children:S},R)})})},F2=A.createContext({strict:!1}),H_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let q_=!1;function f3(){if(q_)return;const t={};for(const e in H_)t[e]={isEnabled:n=>H_[e].some(i=>!!n[i])};y2(t),q_=!0}function H2(){return f3(),ZI()}function m3(t){const e=H2();for(const n in t)e[n]={...e[n],...t[n]};y2(e)}const p3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function mf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||p3.has(t)}let q2=t=>!mf(t);function g3(t){typeof t=="function"&&(q2=e=>e.startsWith("on")?!mf(e):t(e))}try{g3(require("@emotion/is-prop-valid").default)}catch{}function y3(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(q2(a)||n===!0&&mf(a)||!e&&!mf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const $f=A.createContext({});function x3(t,e){if(Gf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||yu(n)?n:void 0,animate:yu(i)?i:void 0}}return t.inherit!==!1?e:{}}function b3(t){const{initial:e,animate:n}=x3(t,A.useContext($f));return A.useMemo(()=>({initial:e,animate:n}),[G_(e),G_(n)])}function G_(t){return Array.isArray(t)?t.join(" "):t}const Qy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function G2(t,e,n){for(const i in e)!yn(e[i])&&!E2(i,n)&&(t[i]=e[i])}function v3({transformTemplate:t},e){return A.useMemo(()=>{const n=Qy();return Ky(n,e,t),Object.assign({},n.vars,n.style)},[e])}function w3(t,e){const n=t.style||{},i={};return G2(i,n,t),Object.assign(i,v3(t,e)),i}function _3(t,e){const n={},i=w3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const $2=()=>({...Qy(),attrs:{}});function T3(t,e,n,i){const a=A.useMemo(()=>{const l=$2();return S2(l,e,A2(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};G2(l,t.style,t),a.style={...l,...a.style}}return a}const E3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wy(t){return typeof t!="string"||t.includes("-")?!1:!!(E3.indexOf(t)>-1||/[A-Z]/u.test(t))}function S3(t,e,n,{latestValues:i},a,l=!1,c){const m=(c??Wy(t)?T3:_3)(e,i,a,t),p=y3(e,typeof t=="string",l),x=t!==A.Fragment?{...p,...m,ref:n}:{},{children:b}=e,w=A.useMemo(()=>yn(b)?b.get():b,[b]);return A.createElement(t,{...x,children:w})}function k3({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:A3(n,i,a,t),renderState:e()}}function A3(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=Kh(l[w]);let{initial:c,animate:h}=t;const m=Gf(t),p=p2(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let x=n?n.initial===!1:!1;x=x||c===!1;const b=x?h:c;if(b&&typeof b!="boolean"&&!qf(b)){const w=Array.isArray(b)?b:[b];for(let E=0;E<w.length;E++){const I=Uy(t,w[E]);if(I){const{transitionEnd:D,transition:M,...O}=I;for(const H in O){let K=O[H];if(Array.isArray(K)){const G=x?K.length-1:0;K=K[G]}K!==null&&(a[H]=K)}for(const H in D)a[H]=D[H]}}}return a}const K2=t=>(e,n)=>{const i=A.useContext($f),a=A.useContext(Hf),l=()=>k3(t,e,i,a);return n?l():wy(l)},N3=K2({scrapeMotionValuesFromProps:Yy,createRenderState:Qy}),C3=K2({scrapeMotionValuesFromProps:N2,createRenderState:$2}),R3=Symbol.for("motionComponentSymbol");function j3(t,e,n){const i=A.useRef(n);A.useInsertionEffect(()=>{i.current=n});const a=A.useRef(null);return A.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const Y2=A.createContext({});function Jo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function I3(t,e,n,i,a,l){const{visualElement:c}=A.useContext($f),h=A.useContext(F2),m=A.useContext(Hf),p=A.useContext(Xy),x=p.reducedMotion,b=p.skipAnimations,w=A.useRef(null),E=A.useRef(!1);i=i||h.renderer,!w.current&&i&&(w.current=i(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:x,skipAnimations:b,isSVG:l}),E.current&&w.current&&(w.current.manuallyAnimateOnMount=!0));const I=w.current,D=A.useContext(Y2);I&&!I.projection&&a&&(I.type==="html"||I.type==="svg")&&D3(w.current,n,a,D);const M=A.useRef(!1);A.useInsertionEffect(()=>{I&&M.current&&I.update(n,m)});const O=n[n2],H=A.useRef(!!O&&!window.MotionHandoffIsComplete?.(O)&&window.MotionHasOptimisedAnimation?.(O));return yS(()=>{E.current=!0,I&&(M.current=!0,window.MotionIsMounted=!0,I.updateFeatures(),I.scheduleRenderMicrotask(),H.current&&I.animationState&&I.animationState.animateChanges())}),A.useEffect(()=>{I&&(!H.current&&I.animationState&&I.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(O)}),H.current=!1),I.enteringChildren=void 0)}),I}function D3(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:X2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Jo(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:m,layoutRoot:p})}function X2(t){if(t)return t.options.allowProjection!==!1?t.projection:X2(t.parent)}function L0(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&m3(i);const l=n?n==="svg":Wy(t),c=l?C3:N3;function h(p,x){let b;const w={...A.useContext(Xy),...p,layoutId:M3(p)},{isStatic:E}=w,I=b3(p),D=c(p,E);if(!E&&gS){P3();const M=V3(w);b=M.MeasureLayout,I.visualElement=I3(t,D,w,a,M.ProjectionNode,l)}return d.jsxs($f.Provider,{value:I,children:[b&&I.visualElement?d.jsx(b,{visualElement:I.visualElement,...w}):null,S3(t,p,j3(D,I.visualElement,x),D,E,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=A.forwardRef(h);return m[R3]=t,m}function M3({layoutId:t}){const e=A.useContext(vy).id;return e&&t!==void 0?e+"-"+t:t}function P3(t,e){A.useContext(F2).strict}function V3(t){const e=H2(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function O3(t,e){if(typeof Proxy>"u")return L0;const n=new Map,i=(l,c)=>L0(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,L0(c,void 0,t,e)),n.get(c))})}const L3=(t,e)=>e.isSVG??Wy(t)?new gD(e):new uD(e,{allowProjection:t!==A.Fragment});class U3 extends ra{constructor(e){super(e),e.animationState||(e.animationState=wD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let z3=0;class B3 extends ra{constructor(){super(...arguments),this.id=z3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const F3={animation:{Feature:U3},exit:{Feature:B3}};function Pu(t){return{point:{x:t.pageX,y:t.pageY}}}const H3=t=>e=>Hy(e)&&t(e,Pu(e));function iu(t,e,n,i){return xu(t,e,H3(n),i)}const Q2=({current:t})=>t?t.ownerDocument.defaultView:null,$_=(t,e)=>Math.abs(t-e);function q3(t,e){const n=$_(t.x,e.x),i=$_(t.y,e.y);return Math.sqrt(n**2+i**2)}const K_=new Set(["auto","scroll"]);class W2{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=E=>{this.handleScroll(E.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=z0(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,D=q3(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!D)return;const{point:M}=E,{timestamp:O}=cn;this.history.push({...M,timestamp:O});const{onStart:H,onMove:K}=this.handlers;I||(H&&H(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,E)},this.handlePointerMove=(E,I)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=U0(I,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(E,I)=>{this.end();const{onEnd:D,onSessionEnd:M,resumeAnimation:O}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=z0(E.type==="pointercancel"?this.lastMoveEventInfo:U0(I,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,H),M&&M(E,H)},!Hy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const m=Pu(e),p=U0(m,this.transformPagePoint),{point:x}=p,{timestamp:b}=cn;this.history=[{...x,timestamp:b}];const{onSessionStart:w}=n;w&&w(e,z0(p,this.history)),this.removeListeners=Iu(iu(this.contextWindow,"pointermove",this.handlePointerMove),iu(this.contextWindow,"pointerup",this.handlePointerUp),iu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(K_.has(i.overflowX)||K_.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),ht.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Qr(this.updatePoint)}}function U0(t,e){return e?{point:e(t.point)}:t}function Y_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function z0({point:t},e){return{point:t,delta:Y_(t,J2(e)),offset:Y_(t,G3(e)),velocity:$3(e,.1)}}function G3(t){return t[0]}function J2(t){return t[t.length-1]}function $3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=J2(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Is(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Is(e)*2&&(i=t[1]);const l=ds(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function K3(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?bt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?bt(n,t,i.max):Math.min(t,n)),t}function X_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Y3(t,{top:e,left:n,bottom:i,right:a}){return{x:X_(t.x,n,a),y:X_(t.y,e,i)}}function Q_(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function X3(t,e){return{x:Q_(t.x,e.x),y:Q_(t.y,e.y)}}function Q3(t,e){let n=.5;const i=Tn(t),a=Tn(e);return a>i?n=mu(e.min,e.max-i,t.min):i>a&&(n=mu(t.min,t.max-a,e.min)),pi(0,1,n)}function W3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Dg=.35;function J3(t=Dg){return t===!1?t=0:t===!0&&(t=Dg),{x:W_(t,"left","right"),y:W_(t,"top","bottom")}}function W_(t,e,n){return{min:J_(t,e),max:J_(t,n)}}function J_(t,e){return typeof t=="number"?t:t[e]||0}const Z3=new WeakMap;class eM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n&&this.snapToCursor(Pu(b).point),this.stopAnimation()},c=(b,w)=>{const{drag:E,dragPropagation:I,onDragStart:D}=this.getProps();if(E&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CI(E),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oi(O=>{let H=this.getAxisMotionValue(O).get()||0;if(ci.test(H)){const{projection:K}=this.visualElement;if(K&&K.layout){const G=K.layout.layoutBox[O];G&&(H=Tn(G)*(parseFloat(H)/100))}}this.originPoint[O]=H}),D&&ht.update(()=>D(b,w),!1,!0),Sg(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},h=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:D,onDrag:M}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:O}=w;if(I&&this.currentDirection===null){this.currentDirection=nM(O),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",w.point,O),this.updateAxis("y",w.point,O),this.visualElement.render(),M&&ht.update(()=>M(b,w),!1,!0)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:x}=this.getProps();this.panSession=new W2(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:Q2(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ht.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Ch(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=K3(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Jo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Y3(i.layoutBox,e):this.constraints=!1,this.elastic=J3(n),a!==this.constraints&&!Jo(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&oi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=W3(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=iD(i,a.root,this.visualElement.getTransformPagePoint());let c=X3(a.layout.layoutBox,l);if(n){const h=n(tD(c));this.hasMutatedConstraints=!!h,h&&(c=b2(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=oi(x=>{if(!Ch(x,n,this.currentDirection))return;let b=m&&m[x]||{};c&&(b={min:0,max:0});const w=a?200:1e6,E=a?40:1e7,I={type:"inertia",velocity:i?e[x]:0,bounceStiffness:w,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(x,I)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Sg(this.visualElement,e),i.start(Ly(e,i,0,n,this.visualElement,!1))}stopAnimation(){oi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){oi(n=>{const{drag:i}=this.getProps();if(!Ch(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-bt(c,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Jo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};oi(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const m=h.get();a[c]=Q3({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),oi(c=>{if(!Ch(c,e,null))return;const h=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];h.set(bt(m,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Z3.set(this.visualElement,this);const e=this.visualElement.current,n=iu(e,"pointerdown",p=>{const{drag:x,dragListener:b=!0}=this.getProps(),w=p.target,E=w!==e&&PI(w);x&&b&&!E&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();Jo(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=tM(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ht.read(a);const h=xu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:x})=>{this.isDragging&&x&&(oi(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=p[b].translate,w.set(w.get()+p[b].translate))}),this.visualElement.render())}));return()=>{h(),n(),c(),m&&m(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Dg,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Z_(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function tM(t,e,n){const i=a_(t,Z_(n)),a=a_(e,Z_(n));return()=>{i(),a()}}function Ch(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sM extends ra{constructor(e){super(e),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new eM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const B0=t=>(e,n)=>{t&&ht.update(()=>t(e,n),!1,!0)};class iM extends ra{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(e){this.session=new W2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Q2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:B0(e),onStart:B0(n),onMove:B0(i),onEnd:(l,c)=>{delete this.session,a&&ht.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let F0=!1;class rM extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),F0&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Yh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),F0=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ht.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;F0=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Z2(t){const[e,n]=B2(),i=A.useContext(vy);return d.jsx(rM,{...t,layoutGroup:i,switchLayoutGroup:A.useContext(Y2),isPresent:e,safeToRemove:n})}const aM={pan:{Feature:iM},drag:{Feature:sM,ProjectionNode:z2,MeasureLayout:Z2}};function eT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ht.postRender(()=>l(e,Pu(e)))}class oM extends ra{mount(){const{current:e}=this.node;e&&(this.unmount=jI(e,(n,i)=>(eT(this.node,i,"Start"),a=>eT(this.node,a,"End"))))}unmount(){}}class lM extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Iu(xu(this.node.current,"focus",()=>this.onFocus()),xu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tT(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ht.postRender(()=>l(e,Pu(e)))}class cM extends ra{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=OI(e,(a,l)=>(tT(this.node,l,"Start"),(c,{success:h})=>tT(this.node,c,h?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const Mg=new WeakMap,H0=new WeakMap,uM=t=>{const e=Mg.get(t.target);e&&e(t)},dM=t=>{t.forEach(uM)};function hM({root:t,...e}){const n=t||document;H0.has(n)||H0.set(n,{});const i=H0.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(dM,{root:t,...e})),i[a]}function fM(t,e,n){const i=hM(e);return Mg.set(t,n),i.observe(t),()=>{Mg.delete(t),i.unobserve(t)}}const mM={some:0,all:1};class pM extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:mM[a]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:x,onViewportLeave:b}=this.node.getProps(),w=p?x:b;w&&w(m)};return fM(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gM(e,n))&&this.startObserver()}unmount(){}}function gM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yM={inView:{Feature:pM},tap:{Feature:cM},focus:{Feature:lM},hover:{Feature:oM}},xM={layout:{ProjectionNode:z2,MeasureLayout:Z2}},bM={...F3,...yM,...aM,...xM},ge=O3(bM,L3),vM=()=>{};var nT={};const ek=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},wM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},tk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,x=l>>2,b=(l&3)<<4|h>>4;let w=(h&15)<<2|p>>6,E=p&63;m||(E=64,c||(w=64)),i.push(n[x],n[b],n[w],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ek(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||b==null)throw new _M;const w=l<<2|h>>4;if(i.push(w),p!==64){const E=h<<4&240|p>>2;if(i.push(E),b!==64){const I=p<<6&192|b;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TM=function(t){const e=ek(t);return tk.encodeByteArray(e,!0)},pf=function(t){return TM(t).replace(/\./g,"")},nk=function(t){try{return tk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function EM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SM=()=>EM().__FIREBASE_DEFAULTS__,kM=()=>{if(typeof process>"u"||typeof nT>"u")return;const t=nT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nk(t[1]);return e&&JSON.parse(e)},Kf=()=>{try{return vM()||SM()||kM()||AM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sk=t=>Kf()?.emulatorHosts?.[t],ik=t=>{const e=sk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},rk=()=>Kf()?.config,ak=t=>Kf()?.[`_${t}`];class NM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function io(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jy(t){return(await fetch(t,{credentials:"include"})).ok}function ok(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[pf(JSON.stringify(n)),pf(JSON.stringify(c)),""].join(".")}const ru={};function CM(){const t={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?t.emulator.push(e):t.prod.push(e);return t}function RM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sT=!1;function Zy(t,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||ru[t]===e||ru[t]||sT)return;ru[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=CM().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,E){w.setAttribute("width","24"),w.setAttribute("id",E),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{sT=!0,c()},w}function x(w,E){w.setAttribute("id",E),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=RM(i),E=n("text"),I=document.getElementById(E)||document.createElement("span"),D=n("learnmore"),M=document.getElementById(D)||document.createElement("a"),O=n("preprendIcon"),H=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const K=w.element;h(K),x(M,D);const G=p();m(H,O),K.append(H,I,M,G),document.body.appendChild(K)}l?(I.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function IM(){const t=Kf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VM(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OM(){return!IM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LM(){try{return typeof indexedDB=="object"}catch{return!1}}function UM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const zM="FirebaseError";class bi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=zM,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?BM(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new bi(a,h,i)}}function BM(t,e){return t.replace(FM,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const FM=/\{\$([^}]+)}/g;function HM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(iT(l)&&iT(c)){if(!Qa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function iT(t){return t!==null&&typeof t=="object"}function Ou(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function qM(t,e){const n=new GM(t,e);return n.subscribe.bind(n)}class GM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");$M(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=q0),a.error===void 0&&(a.error=q0),a.complete===void 0&&(a.complete=q0);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $M(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function q0(){}function Qt(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ba="[DEFAULT]";class KM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new NM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XM(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YM(t){return t===Ba?void 0:t}function XM(t){return t.instantiationMode==="EAGER"}class QM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const WM={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},JM=$e.INFO,ZM={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},e6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=ZM[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ex{constructor(e){this.name=e,this._logLevel=JM,this._logHandler=e6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const t6=(t,e)=>e.some(n=>t instanceof n);let rT,aT;function n6(){return rT||(rT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s6(){return aT||(aT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lk=new WeakMap,Pg=new WeakMap,ck=new WeakMap,G0=new WeakMap,tx=new WeakMap;function i6(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(qr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&lk.set(n,t)}).catch(()=>{}),tx.set(e,t),e}function r6(t){if(Pg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Pg.set(t,e)}let Vg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ck.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function a6(t){Vg=t(Vg)}function o6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call($0(this),e,...n);return ck.set(i,e.sort?e.sort():[e]),qr(i)}:s6().includes(t)?function(...e){return t.apply($0(this),e),qr(lk.get(this))}:function(...e){return qr(t.apply($0(this),e))}}function l6(t){return typeof t=="function"?o6(t):(t instanceof IDBTransaction&&r6(t),t6(t,n6())?new Proxy(t,Vg):t)}function qr(t){if(t instanceof IDBRequest)return i6(t);if(G0.has(t))return G0.get(t);const e=l6(t);return e!==t&&(G0.set(t,e),tx.set(e,t)),e}const $0=t=>tx.get(t);function c6(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=qr(c);return i&&c.addEventListener("upgradeneeded",m=>{i(qr(c.result),m.oldVersion,m.newVersion,qr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const u6=["get","getKey","getAll","getAllKeys","count"],d6=["put","add","delete","clear"],K0=new Map;function oT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(K0.get(e))return K0.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=d6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||u6.includes(n)))return;const l=async function(c,...h){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&m.done]))[0]};return K0.set(e,l),l}a6(t=>({...t,get:(e,n,i)=>oT(e,n)||t.get(e,n,i),has:(e,n)=>!!oT(e,n)||t.has(e,n)}));class h6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function f6(t){return t.getComponent()?.type==="VERSION"}const Og="@firebase/app",lT="0.14.8";const Xi=new ex("@firebase/app"),m6="@firebase/app-compat",p6="@firebase/analytics-compat",g6="@firebase/analytics",y6="@firebase/app-check-compat",x6="@firebase/app-check",b6="@firebase/auth",v6="@firebase/auth-compat",w6="@firebase/database",_6="@firebase/data-connect",T6="@firebase/database-compat",E6="@firebase/functions",S6="@firebase/functions-compat",k6="@firebase/installations",A6="@firebase/installations-compat",N6="@firebase/messaging",C6="@firebase/messaging-compat",R6="@firebase/performance",j6="@firebase/performance-compat",I6="@firebase/remote-config",D6="@firebase/remote-config-compat",M6="@firebase/storage",P6="@firebase/storage-compat",V6="@firebase/firestore",O6="@firebase/ai",L6="@firebase/firestore-compat",U6="firebase",z6="12.9.0";const Lg="[DEFAULT]",B6={[Og]:"fire-core",[m6]:"fire-core-compat",[g6]:"fire-analytics",[p6]:"fire-analytics-compat",[x6]:"fire-app-check",[y6]:"fire-app-check-compat",[b6]:"fire-auth",[v6]:"fire-auth-compat",[w6]:"fire-rtdb",[_6]:"fire-data-connect",[T6]:"fire-rtdb-compat",[E6]:"fire-fn",[S6]:"fire-fn-compat",[k6]:"fire-iid",[A6]:"fire-iid-compat",[N6]:"fire-fcm",[C6]:"fire-fcm-compat",[R6]:"fire-perf",[j6]:"fire-perf-compat",[I6]:"fire-rc",[D6]:"fire-rc-compat",[M6]:"fire-gcs",[P6]:"fire-gcs-compat",[V6]:"fire-fst",[L6]:"fire-fst-compat",[O6]:"fire-vertex","fire-js":"fire-js",[U6]:"fire-js-all"};const gf=new Map,F6=new Map,Ug=new Map;function cT(t,e){try{t.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wa(t){const e=t.name;if(Ug.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Ug.set(e,t);for(const n of gf.values())cT(n,t);for(const n of F6.values())cT(n,t);return!0}function Yf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cs(t){return t==null?!1:t.settings!==void 0}const H6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Vu("app","Firebase",H6);class q6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const ro=z6;function uk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Lg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Gr.create("bad-app-name",{appName:String(a)});if(n||(n=rk()),!n)throw Gr.create("no-options");const l=gf.get(a);if(l){if(Qa(n,l.options)&&Qa(i,l.config))return l;throw Gr.create("duplicate-app",{appName:a})}const c=new QM(a);for(const m of Ug.values())c.addComponent(m);const h=new q6(n,i,c);return gf.set(a,h),h}function nx(t=Lg){const e=gf.get(t);if(!e&&t===Lg&&rk())return uk();if(!e)throw Gr.create("no-app",{appName:t});return e}function ui(t,e,n){let i=B6[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(c.join(" "));return}Wa(new Jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const G6="firebase-heartbeat-database",$6=1,bu="firebase-heartbeat-store";let Y0=null;function dk(){return Y0||(Y0=c6(G6,$6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),Y0}async function K6(t){try{const n=(await dk()).transaction(bu),i=await n.objectStore(bu).get(hk(t));return await n.done,i}catch(e){if(e instanceof bi)Xi.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(n.message)}}}async function uT(t,e){try{const i=(await dk()).transaction(bu,"readwrite");await i.objectStore(bu).put(e,hk(t)),await i.done}catch(n){if(n instanceof bi)Xi.warn(n.message);else{const i=Gr.create("idb-set",{originalErrorMessage:n?.message});Xi.warn(i.message)}}}function hk(t){return`${t.name}!${t.options.appId}`}const Y6=1024,X6=30;class Q6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=dT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>X6){const a=Z6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dT(),{heartbeatsToSend:n,unsentEntries:i}=W6(this._heartbeatsCache.heartbeats),a=pf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Xi.warn(e),""}}}function dT(){return new Date().toISOString().substring(0,10)}function W6(t,e=Y6){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),hT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),hT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class J6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LM()?UM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return uT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return uT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hT(t){return pf(JSON.stringify({version:2,heartbeats:t})).length}function Z6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function eP(t){Wa(new Jr("platform-logger",e=>new h6(e),"PRIVATE")),Wa(new Jr("heartbeat",e=>new Q6(e),"PRIVATE")),ui(Og,lT,t),ui(Og,lT,"esm2020"),ui("fire-js","")}eP("");function fk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tP=fk,mk=new Vu("auth","Firebase",fk());const yf=new ex("@firebase/auth");function nP(t,...e){yf.logLevel<=$e.WARN&&yf.warn(`Auth (${ro}): ${t}`,...e)}function Xh(t,...e){yf.logLevel<=$e.ERROR&&yf.error(`Auth (${ro}): ${t}`,...e)}function gi(t,...e){throw ix(t,...e)}function Ds(t,...e){return ix(t,...e)}function sx(t,e,n){const i={...tP(),[e]:n};return new Vu("auth","Firebase",i).create(e,{appName:t.name})}function Ka(t){return sx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sP(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&gi(t,"argument-error"),sx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ix(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return mk.create(t,...e)}function je(t,e,...n){if(!t)throw ix(e,...n)}function Hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xh(e),new Error(e)}function Qi(t,e){t||Hi(e)}function zg(){return typeof self<"u"&&self.location?.href||""}function iP(){return fT()==="http:"||fT()==="https:"}function fT(){return typeof self<"u"&&self.location?.protocol||null}function rP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iP()||MM()||"connection"in navigator)?navigator.onLine:!0}function aP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qi(n>e,"Short delay should be less than long delay!"),this.isMobile=jM()||PM()}get(){return rP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rx(t,e){Qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class pk{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cP=new Lu(3e4,6e4);function ax(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Rl(t,e,n,i,a={}){return gk(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Ou({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return DM()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&io(t.emulatorConfig.host)&&(p.credentials="include"),pk.fetch()(await yk(t,t.config.apiHost,n,h),p)})}async function gk(t,e,n){t._canInitEmulator=!1;const i={...oP,...e};try{const a=new dP(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Rh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Rh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Rh(t,"user-disabled",c);const x=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw sx(t,x,p);gi(t,x)}}catch(a){if(a instanceof bi)throw a;gi(t,"network-request-failed",{message:String(a)})}}async function uP(t,e,n,i,a={}){const l=await Rl(t,e,n,i,a);return"mfaPendingCredential"in l&&gi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function yk(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?rx(t.config,a):`${t.config.apiScheme}://${a}`;return lP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class dP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ds(this.auth,"network-request-failed")),cP.get())})}}function Rh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ds(t,e,i);return a.customData._tokenResponse=n,a}async function hP(t,e){return Rl(t,"POST","/v1/accounts:delete",e)}async function xf(t,e){return Rl(t,"POST","/v1/accounts:lookup",e)}function au(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fP(t,e=!1){const n=Qt(t),i=await n.getIdToken(e),a=ox(i);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:au(X0(a.auth_time)),issuedAtTime:au(X0(a.iat)),expirationTime:au(X0(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function X0(t){return Number(t)*1e3}function ox(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const a=nk(n);return a?JSON.parse(a):(Xh("Failed to decode base64 JWT payload"),null)}catch(a){return Xh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function mT(t){const e=ox(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof bi&&mP(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function mP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class pP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bf(t){const e=t.auth,n=await t.getIdToken(),i=await vu(t,xf(e,{idToken:n}));je(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?xk(a.providerUserInfo):[],c=yP(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=h?m:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Bg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,x)}async function gP(t){const e=Qt(t);await bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yP(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function xk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function xP(t,e){const n=await gk(t,{},async()=>{const i=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await yk(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:i};return t.emulatorConfig&&io(t.emulatorConfig.host)&&(m.credentials="include"),pk.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bP(t,e){return Rl(t,"POST","/v2/accounts:revokeToken",ax(t,e))}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=mT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await xP(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new cl;return i&&(je(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(je(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Hi("not implemented")}}function Vr(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new pP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Bg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fP(this,e)}reload(){return gP(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await bf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(Ka(this.auth));const e=await this.getIdToken();return await vu(this,hP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:E,providerData:I,stsTokenManager:D}=n;je(b&&D,e,"internal-error");const M=cl.fromJSON(this.name,D);je(typeof b=="string",e,"internal-error"),Vr(i,e.name),Vr(a,e.name),je(typeof w=="boolean",e,"internal-error"),je(typeof E=="boolean",e,"internal-error"),Vr(l,e.name),Vr(c,e.name),Vr(h,e.name),Vr(m,e.name),Vr(p,e.name),Vr(x,e.name);const O=new Rs({uid:b,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:M,createdAt:p,lastLoginAt:x});return I&&Array.isArray(I)&&(O.providerData=I.map(H=>({...H}))),m&&(O._redirectEventId=m),O}static async _fromIdTokenResponse(e,n,i=!1){const a=new cl;a.updateFromServerResponse(n);const l=new Rs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await bf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?xk(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new cl;h.updateFromIdToken(i);const m=new Rs({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Bg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const pT=new Map;function qi(t){Qi(t instanceof Function,"Expected a class definition");let e=pT.get(t);return e?(Qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pT.set(t,e),e)}class bk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bk.type="NONE";const gT=bk;function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}class ul{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Qh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Qh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xf(this.auth,{idToken:e}).catch(()=>{});return n?Rs._fromGetAccountInfoResponse(this.auth,n,e):null}return Rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ul(qi(gT),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||qi(gT);const c=Qh(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const x=await p._get(c);if(x){let b;if(typeof x=="string"){const w=await xf(e,{idToken:x}).catch(()=>{});if(!w)break;b=await Rs._fromGetAccountInfoResponse(e,w,x)}else b=Rs._fromJSON(e,x);p!==l&&(h=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ul(l,e,i):(l=m[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new ul(l,e,i))}}function yT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sk(e))return"Blackberry";if(kk(e))return"Webos";if(wk(e))return"Safari";if((e.includes("chrome/")||_k(e))&&!e.includes("edge/"))return"Chrome";if(Ek(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function vk(t=xn()){return/firefox\//i.test(t)}function wk(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _k(t=xn()){return/crios\//i.test(t)}function Tk(t=xn()){return/iemobile/i.test(t)}function Ek(t=xn()){return/android/i.test(t)}function Sk(t=xn()){return/blackberry/i.test(t)}function kk(t=xn()){return/webos/i.test(t)}function lx(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vP(t=xn()){return lx(t)&&!!window.navigator?.standalone}function wP(){return VM()&&document.documentMode===10}function Ak(t=xn()){return lx(t)||Ek(t)||kk(t)||Sk(t)||/windows phone/i.test(t)||Tk(t)}function Nk(t,e=[]){let n;switch(t){case"Browser":n=yT(xn());break;case"Worker":n=`${yT(xn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ro}/${i}`}class _P{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const m=e(l);c(m)}catch(m){h(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function TP(t,e={}){return Rl(t,"GET","/v2/passwordPolicy",ax(t,e))}const EP=6;class SP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??EP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class kP{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xT(this),this.idTokenSubscription=new xT(this),this.beforeStateQueue=new _P(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xf(this,{idToken:e}),i=await Rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(cs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(Ka(this));const n=e?Qt(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(Ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(Ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TP(this),n=new SP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await bP(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qi(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&nP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xf(t){return Qt(t)}class xT{constructor(e){this.auth=e,this.observer=null,this.addObserver=qM(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AP(t){cx=t}function NP(t){return cx.loadJS(t)}function CP(){return cx.gapiScript}function RP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function jP(t,e){const n=Yf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Qa(l,e??{}))return a;gi(a,"already-initialized")}return n.initialize({options:e})}function IP(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(qi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function DP(t,e,n){const i=Xf(t);je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Ck(e),{host:c,port:h}=MP(e),m=h===null?"":`:${h}`,p={url:`${l}//${c}${m}/`},x=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(Qa(p,i.config.emulator)&&Qa(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,io(c)?(Jy(`${l}//${c}${m}`),Zy("Auth",!0)):PP()}function Ck(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MP(t){const e=Ck(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:bT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:bT(c)}}}function bT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Rk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function dl(t,e){return uP(t,"POST","/v1/accounts:signInWithIdp",ax(t,e))}const VP="http://localhost";class Ja extends Rk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Ja(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return dl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,dl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dl(e,n)}buildRequest(){const e={requestUri:VP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}class ux{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uu extends ux{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ur extends Uu{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";class Fi extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Fi.credential(n,i)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";class zr extends Uu{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";class Br extends Uu{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Br.credential(n,i)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";class yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Rs._fromIdTokenResponse(e,i,a),c=vT(i);return new yl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=vT(i);return new yl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function vT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class vf extends bi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,vf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new vf(e,n,i,a)}}function jk(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?vf._fromErrorAndOperation(t,l,e,i):l})}async function OP(t,e,n=!1){const i=await vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yl._forOperation(t,"link",i)}async function LP(t,e,n=!1){const{auth:i}=t;if(cs(i.app))return Promise.reject(Ka(i));const a="reauthenticate";try{const l=await vu(t,jk(i,a,e,t),n);je(l.idToken,i,"internal-error");const c=ox(l.idToken);je(c,i,"internal-error");const{sub:h}=c;return je(t.uid===h,i,"user-mismatch"),yl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&gi(i,"user-mismatch"),l}}async function UP(t,e,n=!1){if(cs(t.app))return Promise.reject(Ka(t));const i="signIn",a=await jk(t,i,e),l=await yl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function zP(t,e,n,i){return Qt(t).onIdTokenChanged(e,n,i)}function BP(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function FP(t,e,n,i){return Qt(t).onAuthStateChanged(e,n,i)}function HP(t){return Qt(t).signOut()}const wf="__sak";class Ik{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qP=1e3,GP=10;class Dk extends Ik{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ak(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);wP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,GP):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},qP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Dk.type="LOCAL";const $P=Dk;class Mk extends Ik{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mk.type="SESSION";const Pk=Mk;function KP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Qf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(n.origin,l)),m=await KP(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qf.receivers=[];function dx(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class YP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,m)=>{const p=dx("",20);a.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(x),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function di(){return window}function XP(t){di().location.href=t}function Vk(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function QP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WP(){return navigator?.serviceWorker?.controller||null}function JP(){return Vk()?self:null}const Ok="firebaseLocalStorageDb",ZP=1,_f="firebaseLocalStorage",Lk="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wf(t,e){return t.transaction([_f],e?"readwrite":"readonly").objectStore(_f)}function eV(){const t=indexedDB.deleteDatabase(Ok);return new zu(t).toPromise()}function Fg(){const t=indexedDB.open(Ok,ZP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(_f,{keyPath:Lk})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(_f)?e(i):(i.close(),await eV(),e(await Fg()))})})}async function wT(t,e,n){const i=Wf(t,!0).put({[Lk]:e,value:n});return new zu(i).toPromise()}async function tV(t,e){const n=Wf(t,!1).get(e),i=await new zu(n).toPromise();return i===void 0?null:i.value}function _T(t,e){const n=Wf(t,!0).delete(e);return new zu(n).toPromise()}const nV=800,sV=3;class Uk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>sV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qf._getInstance(JP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QP(),!this.activeServiceWorker)return;this.sender=new YP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await wT(e,wf,"1"),await _T(e,wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>wT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>tV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_T(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Wf(a,!1).getAll();return new zu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uk.type="LOCAL";const iV=Uk;new Lu(3e4,6e4);function zk(t,e){return e?qi(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class hx extends Rk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rV(t){return UP(t.auth,new hx(t),t.bypassAuthState)}function aV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),LP(n,new hx(t),t.bypassAuthState)}async function oV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),OP(n,new hx(t),t.bypassAuthState)}class Bk{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rV;case"linkViaPopup":case"linkViaRedirect":return oV;case"reauthViaPopup":case"reauthViaRedirect":return aV;default:gi(this.auth,"internal-error")}}resolve(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lV=new Lu(2e3,1e4);async function cV(t,e,n){if(cs(t.app))return Promise.reject(Ds(t,"operation-not-supported-in-this-environment"));const i=Xf(t);sP(t,e,ux);const a=zk(i,n);return new qa(i,"signInViaPopup",e,a).executeNotNull()}class qa extends Bk{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const e=dx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lV.get())};e()}}qa.currentPopupAction=null;const uV="pendingRedirect",Wh=new Map;class dV extends Bk{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const i=await hV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hV(t,e){const n=pV(e),i=mV(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function fV(t,e){Wh.set(t._key(),e)}function mV(t){return qi(t._redirectPersistence)}function pV(t){return Qh(uV,t.config.apiKey,t.name)}async function gV(t,e,n=!1){if(cs(t.app))return Promise.reject(Ka(t));const i=Xf(t),a=zk(i,e),c=await new dV(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const yV=600*1e3;class xV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Fk(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ds(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yV&&this.cachedEventUids.clear(),this.cachedEventUids.has(TT(e))}saveEventToCache(e){this.cachedEventUids.add(TT(e)),this.lastProcessedEventTime=Date.now()}}function TT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Fk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function bV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fk(t);default:return!1}}async function vV(t,e={}){return Rl(t,"GET","/v1/projects",e)}const wV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_V=/^https?/;async function TV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vV(t);for(const n of e)try{if(EV(n))return}catch{}gi(t,"unauthorized-domain")}function EV(t){const e=zg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!_V.test(n))return!1;if(wV.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const SV=new Lu(3e4,6e4);function ET(){const t=di().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kV(t){return new Promise((e,n)=>{function i(){ET(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ET(),n(Ds(t,"network-request-failed"))},timeout:SV.get()})}if(di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(di().gapi?.load)i();else{const a=RP("iframefcb");return di()[a]=()=>{gapi.load?i():n(Ds(t,"network-request-failed"))},NP(`${CP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jh=null,e})}let Jh=null;function AV(t){return Jh=Jh||kV(t),Jh}const NV=new Lu(5e3,15e3),CV="__/auth/iframe",RV="emulator/auth/iframe",jV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DV(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rx(e,RV):`https://${t.config.authDomain}/${CV}`,i={apiKey:e.apiKey,appName:t.name,v:ro},a=IV.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Ou(i).slice(1)}`}async function MV(t){const e=await AV(t),n=di().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:DV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jV,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ds(t,"network-request-failed"),h=di().setTimeout(()=>{l(c)},NV.get());function m(){di().clearTimeout(h),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const PV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VV=500,OV=600,LV="_blank",UV="http://localhost";class ST{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zV(t,e,n,i=VV,a=OV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m={...PV,width:i.toString(),height:a.toString(),top:l,left:c},p=xn().toLowerCase();n&&(h=_k(p)?LV:n),vk(p)&&(e=e||UV,m.scrollbars="yes");const x=Object.entries(m).reduce((w,[E,I])=>`${w}${E}=${I},`,"");if(vP(p)&&h!=="_self")return BV(e||"",h),new ST(null);const b=window.open(e||"",h,x);je(b,t,"popup-blocked");try{b.focus()}catch{}return new ST(b)}function BV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const FV="__/auth/handler",HV="emulator/auth/handler",qV=encodeURIComponent("fac");async function kT(t,e,n,i,a,l){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ro,eventId:a};if(e instanceof ux){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",HM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries({}))c[x]=b}if(e instanceof Uu){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(c.scopes=x.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const m=await t._getAppCheckToken(),p=m?`#${qV}=${encodeURIComponent(m)}`:"";return`${GV(t)}?${Ou(h).slice(1)}${p}`}function GV({config:t}){return t.emulator?rx(t,HV):`https://${t.authDomain}/${FV}`}const Q0="webStorageSupport";class $V{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pk,this._completeRedirectFn=gV,this._overrideRedirectResult=fV}async _openPopup(e,n,i,a){Qi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await kT(e,n,i,zg(),a);return zV(e,l,dx())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await kT(e,n,i,zg(),a);return XP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Qi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await MV(e),i=new xV(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Q0,{type:Q0},a=>{const l=a?.[0]?.[Q0];l!==void 0&&n(!!l),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ak()||wk()||lx()}}const KV=$V;var AT="@firebase/auth",NT="1.12.0";class YV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QV(t){Wa(new Jr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nk(t)},p=new kP(i,a,l,m);return IP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Wa(new Jr("auth-internal",e=>{const n=Xf(e.getProvider("auth").getImmediate());return(i=>new YV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(AT,NT,XV(t)),ui(AT,NT,"esm2020")}const WV=300,JV=ak("authIdTokenMaxAge")||WV;let CT=null;const ZV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>JV)return;const a=n?.token;CT!==a&&(CT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function eO(t=nx()){const e=Yf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jP(t,{popupRedirectResolver:KV,persistence:[iV,$P,Pk]}),i=ak("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=ZV(l.toString());BP(n,c,()=>c(n.currentUser)),zP(n,h=>c(h))}}const a=sk("auth");return a&&DP(n,`http://${a}`),n}function tO(){return document.getElementsByTagName("head")?.[0]??document}AP({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Ds("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",tO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QV("Browser");var nO="firebase",sO="12.9.0";ui(nO,sO,"app");var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,Hk;(function(){var t;function e(j,S){function R(){}R.prototype=S.prototype,j.F=S.prototype,j.prototype=new R,j.prototype.constructor=j,j.D=function(z,U,$){for(var V=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)V[ze-2]=arguments[ze];return S.prototype[U].apply(z,V)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,S,R){R||(R=0);const z=Array(16);if(typeof S=="string")for(var U=0;U<16;++U)z[U]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(U=0;U<16;++U)z[U]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=j.g[0],R=j.g[1],U=j.g[2];let $=j.g[3],V;V=S+($^R&(U^$))+z[0]+3614090360&4294967295,S=R+(V<<7&4294967295|V>>>25),V=$+(U^S&(R^U))+z[1]+3905402710&4294967295,$=S+(V<<12&4294967295|V>>>20),V=U+(R^$&(S^R))+z[2]+606105819&4294967295,U=$+(V<<17&4294967295|V>>>15),V=R+(S^U&($^S))+z[3]+3250441966&4294967295,R=U+(V<<22&4294967295|V>>>10),V=S+($^R&(U^$))+z[4]+4118548399&4294967295,S=R+(V<<7&4294967295|V>>>25),V=$+(U^S&(R^U))+z[5]+1200080426&4294967295,$=S+(V<<12&4294967295|V>>>20),V=U+(R^$&(S^R))+z[6]+2821735955&4294967295,U=$+(V<<17&4294967295|V>>>15),V=R+(S^U&($^S))+z[7]+4249261313&4294967295,R=U+(V<<22&4294967295|V>>>10),V=S+($^R&(U^$))+z[8]+1770035416&4294967295,S=R+(V<<7&4294967295|V>>>25),V=$+(U^S&(R^U))+z[9]+2336552879&4294967295,$=S+(V<<12&4294967295|V>>>20),V=U+(R^$&(S^R))+z[10]+4294925233&4294967295,U=$+(V<<17&4294967295|V>>>15),V=R+(S^U&($^S))+z[11]+2304563134&4294967295,R=U+(V<<22&4294967295|V>>>10),V=S+($^R&(U^$))+z[12]+1804603682&4294967295,S=R+(V<<7&4294967295|V>>>25),V=$+(U^S&(R^U))+z[13]+4254626195&4294967295,$=S+(V<<12&4294967295|V>>>20),V=U+(R^$&(S^R))+z[14]+2792965006&4294967295,U=$+(V<<17&4294967295|V>>>15),V=R+(S^U&($^S))+z[15]+1236535329&4294967295,R=U+(V<<22&4294967295|V>>>10),V=S+(U^$&(R^U))+z[1]+4129170786&4294967295,S=R+(V<<5&4294967295|V>>>27),V=$+(R^U&(S^R))+z[6]+3225465664&4294967295,$=S+(V<<9&4294967295|V>>>23),V=U+(S^R&($^S))+z[11]+643717713&4294967295,U=$+(V<<14&4294967295|V>>>18),V=R+($^S&(U^$))+z[0]+3921069994&4294967295,R=U+(V<<20&4294967295|V>>>12),V=S+(U^$&(R^U))+z[5]+3593408605&4294967295,S=R+(V<<5&4294967295|V>>>27),V=$+(R^U&(S^R))+z[10]+38016083&4294967295,$=S+(V<<9&4294967295|V>>>23),V=U+(S^R&($^S))+z[15]+3634488961&4294967295,U=$+(V<<14&4294967295|V>>>18),V=R+($^S&(U^$))+z[4]+3889429448&4294967295,R=U+(V<<20&4294967295|V>>>12),V=S+(U^$&(R^U))+z[9]+568446438&4294967295,S=R+(V<<5&4294967295|V>>>27),V=$+(R^U&(S^R))+z[14]+3275163606&4294967295,$=S+(V<<9&4294967295|V>>>23),V=U+(S^R&($^S))+z[3]+4107603335&4294967295,U=$+(V<<14&4294967295|V>>>18),V=R+($^S&(U^$))+z[8]+1163531501&4294967295,R=U+(V<<20&4294967295|V>>>12),V=S+(U^$&(R^U))+z[13]+2850285829&4294967295,S=R+(V<<5&4294967295|V>>>27),V=$+(R^U&(S^R))+z[2]+4243563512&4294967295,$=S+(V<<9&4294967295|V>>>23),V=U+(S^R&($^S))+z[7]+1735328473&4294967295,U=$+(V<<14&4294967295|V>>>18),V=R+($^S&(U^$))+z[12]+2368359562&4294967295,R=U+(V<<20&4294967295|V>>>12),V=S+(R^U^$)+z[5]+4294588738&4294967295,S=R+(V<<4&4294967295|V>>>28),V=$+(S^R^U)+z[8]+2272392833&4294967295,$=S+(V<<11&4294967295|V>>>21),V=U+($^S^R)+z[11]+1839030562&4294967295,U=$+(V<<16&4294967295|V>>>16),V=R+(U^$^S)+z[14]+4259657740&4294967295,R=U+(V<<23&4294967295|V>>>9),V=S+(R^U^$)+z[1]+2763975236&4294967295,S=R+(V<<4&4294967295|V>>>28),V=$+(S^R^U)+z[4]+1272893353&4294967295,$=S+(V<<11&4294967295|V>>>21),V=U+($^S^R)+z[7]+4139469664&4294967295,U=$+(V<<16&4294967295|V>>>16),V=R+(U^$^S)+z[10]+3200236656&4294967295,R=U+(V<<23&4294967295|V>>>9),V=S+(R^U^$)+z[13]+681279174&4294967295,S=R+(V<<4&4294967295|V>>>28),V=$+(S^R^U)+z[0]+3936430074&4294967295,$=S+(V<<11&4294967295|V>>>21),V=U+($^S^R)+z[3]+3572445317&4294967295,U=$+(V<<16&4294967295|V>>>16),V=R+(U^$^S)+z[6]+76029189&4294967295,R=U+(V<<23&4294967295|V>>>9),V=S+(R^U^$)+z[9]+3654602809&4294967295,S=R+(V<<4&4294967295|V>>>28),V=$+(S^R^U)+z[12]+3873151461&4294967295,$=S+(V<<11&4294967295|V>>>21),V=U+($^S^R)+z[15]+530742520&4294967295,U=$+(V<<16&4294967295|V>>>16),V=R+(U^$^S)+z[2]+3299628645&4294967295,R=U+(V<<23&4294967295|V>>>9),V=S+(U^(R|~$))+z[0]+4096336452&4294967295,S=R+(V<<6&4294967295|V>>>26),V=$+(R^(S|~U))+z[7]+1126891415&4294967295,$=S+(V<<10&4294967295|V>>>22),V=U+(S^($|~R))+z[14]+2878612391&4294967295,U=$+(V<<15&4294967295|V>>>17),V=R+($^(U|~S))+z[5]+4237533241&4294967295,R=U+(V<<21&4294967295|V>>>11),V=S+(U^(R|~$))+z[12]+1700485571&4294967295,S=R+(V<<6&4294967295|V>>>26),V=$+(R^(S|~U))+z[3]+2399980690&4294967295,$=S+(V<<10&4294967295|V>>>22),V=U+(S^($|~R))+z[10]+4293915773&4294967295,U=$+(V<<15&4294967295|V>>>17),V=R+($^(U|~S))+z[1]+2240044497&4294967295,R=U+(V<<21&4294967295|V>>>11),V=S+(U^(R|~$))+z[8]+1873313359&4294967295,S=R+(V<<6&4294967295|V>>>26),V=$+(R^(S|~U))+z[15]+4264355552&4294967295,$=S+(V<<10&4294967295|V>>>22),V=U+(S^($|~R))+z[6]+2734768916&4294967295,U=$+(V<<15&4294967295|V>>>17),V=R+($^(U|~S))+z[13]+1309151649&4294967295,R=U+(V<<21&4294967295|V>>>11),V=S+(U^(R|~$))+z[4]+4149444226&4294967295,S=R+(V<<6&4294967295|V>>>26),V=$+(R^(S|~U))+z[11]+3174756917&4294967295,$=S+(V<<10&4294967295|V>>>22),V=U+(S^($|~R))+z[2]+718787259&4294967295,U=$+(V<<15&4294967295|V>>>17),V=R+($^(U|~S))+z[9]+3951481745&4294967295,j.g[0]=j.g[0]+S&4294967295,j.g[1]=j.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,j.g[2]=j.g[2]+U&4294967295,j.g[3]=j.g[3]+$&4294967295}i.prototype.v=function(j,S){S===void 0&&(S=j.length);const R=S-this.blockSize,z=this.C;let U=this.h,$=0;for(;$<S;){if(U==0)for(;$<=R;)a(this,j,$),$+=this.blockSize;if(typeof j=="string"){for(;$<S;)if(z[U++]=j.charCodeAt($++),U==this.blockSize){a(this,z),U=0;break}}else for(;$<S;)if(z[U++]=j[$++],U==this.blockSize){a(this,z),U=0;break}}this.h=U,this.o+=S},i.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var S=1;S<j.length-8;++S)j[S]=0;S=this.o*8;for(var R=j.length-8;R<j.length;++R)j[R]=S&255,S/=256;for(this.v(j),j=Array(16),S=0,R=0;R<4;++R)for(let z=0;z<32;z+=8)j[S++]=this.g[R]>>>z&255;return j};function l(j,S){var R=h;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=S(j)}function c(j,S){this.h=S;const R=[];let z=!0;for(let U=j.length-1;U>=0;U--){const $=j[U]|0;z&&$==S||(R[U]=$,z=!1)}this.g=R}var h={};function m(j){return-128<=j&&j<128?l(j,function(S){return new c([S|0],S<0?-1:0)}):new c([j|0],j<0?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return b;if(j<0)return M(p(-j));const S=[];let R=1;for(let z=0;j>=R;z++)S[z]=j/R|0,R*=4294967296;return new c(S,0)}function x(j,S){if(j.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(j.charAt(0)=="-")return M(x(j.substring(1),S));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(S,8));let z=b;for(let $=0;$<j.length;$+=8){var U=Math.min(8,j.length-$);const V=parseInt(j.substring($,$+U),S);U<8?(U=p(Math.pow(S,U)),z=z.j(U).add(p(V))):(z=z.j(R),z=z.add(p(V)))}return z}var b=m(0),w=m(1),E=m(16777216);t=c.prototype,t.m=function(){if(D(this))return-M(this).m();let j=0,S=1;for(let R=0;R<this.g.length;R++){const z=this.i(R);j+=(z>=0?z:4294967296+z)*S,S*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(I(this))return"0";if(D(this))return"-"+M(this).toString(j);const S=p(Math.pow(j,6));var R=this;let z="";for(;;){const U=G(R,S).g;R=O(R,U.j(S));let $=((R.g.length>0?R.g[0]:R.h)>>>0).toString(j);if(R=U,I(R))return $+z;for(;$.length<6;)$="0"+$;z=$+z}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function I(j){if(j.h!=0)return!1;for(let S=0;S<j.g.length;S++)if(j.g[S]!=0)return!1;return!0}function D(j){return j.h==-1}t.l=function(j){return j=O(this,j),D(j)?-1:I(j)?0:1};function M(j){const S=j.g.length,R=[];for(let z=0;z<S;z++)R[z]=~j.g[z];return new c(R,~j.h).add(w)}t.abs=function(){return D(this)?M(this):this},t.add=function(j){const S=Math.max(this.g.length,j.g.length),R=[];let z=0;for(let U=0;U<=S;U++){let $=z+(this.i(U)&65535)+(j.i(U)&65535),V=($>>>16)+(this.i(U)>>>16)+(j.i(U)>>>16);z=V>>>16,$&=65535,V&=65535,R[U]=V<<16|$}return new c(R,R[R.length-1]&-2147483648?-1:0)};function O(j,S){return j.add(M(S))}t.j=function(j){if(I(this)||I(j))return b;if(D(this))return D(j)?M(this).j(M(j)):M(M(this).j(j));if(D(j))return M(this.j(M(j)));if(this.l(E)<0&&j.l(E)<0)return p(this.m()*j.m());const S=this.g.length+j.g.length,R=[];for(var z=0;z<2*S;z++)R[z]=0;for(z=0;z<this.g.length;z++)for(let U=0;U<j.g.length;U++){const $=this.i(z)>>>16,V=this.i(z)&65535,ze=j.i(U)>>>16,He=j.i(U)&65535;R[2*z+2*U]+=V*He,H(R,2*z+2*U),R[2*z+2*U+1]+=$*He,H(R,2*z+2*U+1),R[2*z+2*U+1]+=V*ze,H(R,2*z+2*U+1),R[2*z+2*U+2]+=$*ze,H(R,2*z+2*U+2)}for(j=0;j<S;j++)R[j]=R[2*j+1]<<16|R[2*j];for(j=S;j<2*S;j++)R[j]=0;return new c(R,0)};function H(j,S){for(;(j[S]&65535)!=j[S];)j[S+1]+=j[S]>>>16,j[S]&=65535,S++}function K(j,S){this.g=j,this.h=S}function G(j,S){if(I(S))throw Error("division by zero");if(I(j))return new K(b,b);if(D(j))return S=G(M(j),S),new K(M(S.g),M(S.h));if(D(S))return S=G(j,M(S)),new K(M(S.g),S.h);if(j.g.length>30){if(D(j)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,z=S;z.l(j)<=0;)R=ne(R),z=ne(z);var U=de(R,1),$=de(z,1);for(z=de(z,2),R=de(R,2);!I(z);){var V=$.add(z);V.l(j)<=0&&(U=U.add(R),$=V),z=de(z,1),R=de(R,1)}return S=O(j,U.j(S)),new K(U,S)}for(U=b;j.l(S)>=0;){for(R=Math.max(1,Math.floor(j.m()/S.m())),z=Math.ceil(Math.log(R)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),$=p(R),V=$.j(S);D(V)||V.l(j)>0;)R-=z,$=p(R),V=$.j(S);I($)&&($=w),U=U.add($),j=O(j,V)}return new K(U,j)}t.B=function(j){return G(this,j).h},t.and=function(j){const S=Math.max(this.g.length,j.g.length),R=[];for(let z=0;z<S;z++)R[z]=this.i(z)&j.i(z);return new c(R,this.h&j.h)},t.or=function(j){const S=Math.max(this.g.length,j.g.length),R=[];for(let z=0;z<S;z++)R[z]=this.i(z)|j.i(z);return new c(R,this.h|j.h)},t.xor=function(j){const S=Math.max(this.g.length,j.g.length),R=[];for(let z=0;z<S;z++)R[z]=this.i(z)^j.i(z);return new c(R,this.h^j.h)};function ne(j){const S=j.g.length+1,R=[];for(let z=0;z<S;z++)R[z]=j.i(z)<<1|j.i(z-1)>>>31;return new c(R,j.h)}function de(j,S){const R=S>>5;S%=32;const z=j.g.length-R,U=[];for(let $=0;$<z;$++)U[$]=S>0?j.i($+R)>>>S|j.i($+R+1)<<32-S:j.i($+R);return new c(U,j.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Hk=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=x,$r=c}).apply(typeof RT<"u"?RT:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qk,Xc,Gk,Zh,Hg,$k,Kk,Yk;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(f,v){if(v)e:{var T=i;f=f.split(".");for(var N=0;N<f.length-1;N++){var X=f[N];if(!(X in T))break e;T=T[X]}f=f[f.length-1],N=T[f],v=v(N),v!=N&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(v){var T=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&T.push([N,v[N]]);return T}});var l=l||{},c=this||self;function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,T){return f.call.apply(f.bind,arguments)}function p(f,v,T){return p=m,p.apply(null,arguments)}function x(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function b(f,v){function T(){}T.prototype=v.prototype,f.Z=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(N,X,ee){for(var fe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)fe[Ve-2]=arguments[Ve];return v.prototype[X].apply(N,fe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const v=f.length;if(v>0){const T=Array(v);for(let N=0;N<v;N++)T[N]=f[N];return T}return[]}function I(f,v){for(let N=1;N<arguments.length;N++){const X=arguments[N];var T=typeof X;if(T=T!="object"?T:X?Array.isArray(X)?"array":T:"null",T=="array"||T=="object"&&typeof X.length=="number"){T=f.length||0;const ee=X.length||0;f.length=T+ee;for(let fe=0;fe<ee;fe++)f[T+fe]=X[fe]}else f.push(X)}}class D{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(f){c.setTimeout(()=>{throw f},0)}function O(){var f=j;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class H{constructor(){this.h=this.g=null}add(v,T){const N=K.get();N.set(v,T),this.h?this.h.next=N:this.g=N,this.h=N}}var K=new D(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,de=!1,j=new H,S=()=>{const f=Promise.resolve(void 0);ne=()=>{f.then(R)}};function R(){for(var f;f=O();){try{f.h.call(f.g)}catch(T){M(T)}var v=K;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}de=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function ze(f,v){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}b(ze,U),ze.prototype.init=function(f,v){const T=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var He="closure_listenable_"+(Math.random()*1e6|0),C=0;function F(f,v,T,N,X){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!N,this.ha=X,this.key=++C,this.da=this.fa=!1}function B(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function se(f,v,T){for(const N in f)v.call(T,f[N],N,f)}function ae(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function P(f){const v={};for(const T in f)v[T]=f[T];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(f,v){let T,N;for(let X=1;X<arguments.length;X++){N=arguments[X];for(T in N)f[T]=N[T];for(let ee=0;ee<J.length;ee++)T=J[ee],Object.prototype.hasOwnProperty.call(N,T)&&(f[T]=N[T])}}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,v,T,N,X){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const fe=ke(f,v,N,X);return fe>-1?(v=f[fe],T||(v.fa=!1)):(v=new F(v,this.src,ee,!!N,X),v.fa=T,f.push(v)),v};function pe(f,v){const T=v.type;if(T in f.g){var N=f.g[T],X=Array.prototype.indexOf.call(N,v,void 0),ee;(ee=X>=0)&&Array.prototype.splice.call(N,X,1),ee&&(B(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function ke(f,v,T,N){for(let X=0;X<f.length;++X){const ee=f[X];if(!ee.da&&ee.listener==v&&ee.capture==!!T&&ee.ha==N)return X}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),me={};function Ie(f,v,T,N,X){if(Array.isArray(v)){for(let ee=0;ee<v.length;ee++)Ie(f,v[ee],T,N,X);return null}return T=Ul(T),f&&f[He]?f.J(v,T,h(N)?!!N.capture:!1,X):rt(f,v,T,!1,N,X)}function rt(f,v,T,N,X,ee){if(!v)throw Error("Invalid event type");const fe=h(X)?!!X.capture:!!X;let Ve=Vn(f);if(Ve||(f[Ee]=Ve=new he(f)),T=Ve.add(v,T,N,fe,ee),T.proxy)return T;if(N=jt(),T.proxy=N,N.src=f,N.listener=T,f.addEventListener)$||(X=fe),X===void 0&&(X=!1),f.addEventListener(v.toString(),N,X);else if(f.attachEvent)f.attachEvent(Pn(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function jt(){function f(T){return v.call(f.src,f.listener,T)}const v=Xn;return f}function Mn(f,v,T,N,X){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)Mn(f,v[ee],T,N,X);else N=h(N)?!!N.capture:!!N,T=Ul(T),f&&f[He]?(f=f.i,ee=String(v).toString(),ee in f.g&&(v=f.g[ee],T=ke(v,T,N,X),T>-1&&(B(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete f.g[ee],f.h--)))):f&&(f=Vn(f))&&(v=f.g[v.toString()],f=-1,v&&(f=ke(v,T,N,X)),(T=f>-1?v[f]:null)&&wi(T))}function wi(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[He])pe(v.i,f);else{var T=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(T,N,f.capture):v.detachEvent?v.detachEvent(Pn(T),N):v.addListener&&v.removeListener&&v.removeListener(N),(T=Vn(v))?(pe(T,f),T.h==0&&(T.src=null,v[Ee]=null)):B(f)}}}function Pn(f){return f in me?me[f]:me[f]="on"+f}function Xn(f,v){if(f.da)f=!0;else{v=new ze(v,this);const T=f.listener,N=f.ha||f.src;f.fa&&wi(f),f=T.call(N,v)}return f}function Vn(f){return f=f[Ee],f instanceof he?f:null}var Ll="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ul(f){return typeof f=="function"?f:(f[Ll]||(f[Ll]=function(v){return f.handleEvent(v)}),f[Ll])}function It(){z.call(this),this.i=new he(this),this.M=this,this.G=null}b(It,z),It.prototype[He]=!0,It.prototype.removeEventListener=function(f,v,T,N){Mn(this,f,v,T,N)};function Gt(f,v){var T,N=f.G;if(N)for(T=[];N;N=N.G)T.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new U(v,f);else if(v instanceof U)v.target=v.target||f;else{var X=v;v=new U(N,f),ue(v,X)}X=!0;let ee,fe;if(T)for(fe=T.length-1;fe>=0;fe--)ee=v.g=T[fe],X=sr(ee,N,!0,v)&&X;if(ee=v.g=f,X=sr(ee,N,!0,v)&&X,X=sr(ee,N,!1,v)&&X,T)for(fe=0;fe<T.length;fe++)ee=v.g=T[fe],X=sr(ee,N,!1,v)&&X}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const T=f.g[v];for(let N=0;N<T.length;N++)B(T[N]);delete f.g[v],f.h--}}this.G=null},It.prototype.J=function(f,v,T,N){return this.i.add(String(f),v,!1,T,N)},It.prototype.K=function(f,v,T,N){return this.i.add(String(f),v,!0,T,N)};function sr(f,v,T,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let X=!0;for(let ee=0;ee<v.length;++ee){const fe=v[ee];if(fe&&!fe.da&&fe.capture==T){const Ve=fe.listener,kt=fe.ha||fe.src;fe.fa&&pe(f.i,fe),X=Ve.call(kt,N)!==!1&&X}}return X&&!N.defaultPrevented}function vm(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(f,v||0)}function Qu(f){f.g=vm(()=>{f.g=null,f.i&&(f.i=!1,Qu(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class bn extends z{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(f){z.call(this),this.h=f,this.g={}}b(ca,z);var zl=[];function Bl(f){se(f.g,function(v,T){this.g.hasOwnProperty(T)&&wi(v)},f),f.g={}}ca.prototype.N=function(){ca.Z.N.call(this),Bl(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=c.JSON.stringify,wm=c.JSON.parse,Wu=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Ju(){}function Zu(){}var ps={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){U.call(this,"d")}b(nn,U);function Qn(){U.call(this,"c")}b(Qn,U);var St={},ed=null;function lo(){return ed=ed||new It}St.Ia="serverreachability";function td(f){U.call(this,St.Ia,f)}b(td,U);function zs(f){const v=lo();Gt(v,new td(v))}St.STAT_EVENT="statevent";function ua(f,v){U.call(this,St.STAT_EVENT,f),this.stat=v}b(ua,U);function Dt(f){const v=lo();Gt(v,new ua(v,f))}St.Ja="timingevent";function Bs(f,v){U.call(this,St.Ja,f),this.size=v}b(Bs,U);function Fs(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},v)}function gs(){this.g=!0}gs.prototype.ua=function(){this.g=!1};function _m(f,v,T,N,X,ee){f.info(function(){if(f.g)if(ee){var fe="",Ve=ee.split("&");for(let Ze=0;Ze<Ve.length;Ze++){var kt=Ve[Ze].split("=");if(kt.length>1){const gt=kt[0];kt=kt[1];const es=gt.split("_");fe=es.length>=2&&es[1]=="type"?fe+(gt+"="+kt+"&"):fe+(gt+"=redacted&")}}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+N+") [attempt "+X+"]: "+v+`
`+T+`
`+fe})}function nd(f,v,T,N,X,ee,fe){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+X+"]: "+v+`
`+T+`
`+ee+" "+fe})}function Hs(f,v,T,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Tm(f,T)+(N?" "+N:"")})}function da(f,v){f.info(function(){return"TIMEOUT: "+v})}gs.prototype.info=function(){};function Tm(f,v){if(!f.g)return v;if(!v)return null;try{const ee=JSON.parse(v);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var T=ee[f];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var X=N[0];if(X!="noop"&&X!="stop"&&X!="close")for(let fe=1;fe<N.length;fe++)N[fe]=""}}}}return ir(ee)}catch{return v}}var ha={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hl;function fa(){}b(fa,Ju),fa.prototype.g=function(){return new XMLHttpRequest},Hl=new fa;function _i(f){return encodeURIComponent(String(f))}function sd(f){var v=1;f=f.split(":");const T=[];for(;v>0&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function ys(f,v,T,N){this.j=f,this.i=v,this.l=T,this.S=N||1,this.V=new ca(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xs}function xs(){this.i=null,this.g="",this.h=!1}var Mt={},Wt={};function qs(f,v,T){f.M=1,f.A=ma(Vt(v)),f.u=T,f.R=!0,co(f,null)}function co(f,v){f.F=Date.now(),Gs(f),f.B=Vt(f.A);var T=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),mo(T.i,"t",N),f.C=0,T=f.j.L,f.h=new xs,f.g=xd(f.j,T?v:null,!f.u),f.P>0&&(f.O=new bn(p(f.Y,f,f.g),f.P)),v=f.V,T=f.g,N=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(zl[0]=X.toString()),X=zl);for(let ee=0;ee<X.length;ee++){const fe=Ie(T,X[ee],N||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=f.J?P(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),zs(),_m(f.i,f.v,f.B,f.l,f.S,f.u)}ys.prototype.ba=function(f){f=f.target;const v=this.O;v&&ws(f)==3?v.j():this.Y(f)},ys.prototype.Y=function(f){try{if(f==this.g)e:{const Ve=ws(this.g),kt=this.g.ya(),Ze=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ve!=4||kt==7||(kt==8||Ze<=0?zs(3):zs(2)),$s(this);var v=this.g.ca();this.X=v;var T=Em(this);if(this.o=v==200,nd(this.i,this.v,this.B,this.l,this.S,Ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,X=this.g;if((N=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(N)){var ee=N;break t}}ee=null}if(f=ee)Hs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ks(this,f);else{this.o=!1,this.m=3,Dt(12),On(this),Wn(this);break e}}if(this.R){f=!0;let gt;for(;!this.K&&this.C<T.length;)if(gt=rd(this,T),gt==Wt){Ve==4&&(this.m=4,Dt(14),f=!1),Hs(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Mt){this.m=4,Dt(15),Hs(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Hs(this.i,this.l,gt,null),Ks(this,gt);if(id(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||T.length!=0||this.h.h||(this.m=1,Dt(16),f=!1),this.o=this.o&&f,!f)Hs(this.i,this.l,T,"[Invalid Chunked Response]"),On(this),Wn(this);else if(T.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ic(fe),fe.P=!0,Dt(11))}}else Hs(this.i,this.l,T,null),Ks(this,T);Ve==4&&On(this),this.o&&!this.K&&(Ve==4?md(this.j,this):(this.o=!1,Gs(this)))}else Ei(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),On(this),Wn(this)}}}catch{}};function Em(f){if(!id(f))return f.g.la();const v=sn(f.g);if(v==="")return"";let T="";const N=v.length,X=ws(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return On(f),Wn(f),"";f.h.i=new c.TextDecoder}for(let ee=0;ee<N;ee++)f.h.h=!0,T+=f.h.i.decode(v[ee],{stream:!(X&&ee==N-1)});return v.length=0,f.h.g+=T,f.C=0,f.h.g}function id(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function rd(f,v){var T=f.C,N=v.indexOf(`
`,T);return N==-1?Wt:(T=Number(v.substring(T,N)),isNaN(T)?Mt:(N+=1,N+T>v.length?Wt:(v=v.slice(N,N+T),f.C=N+T,v)))}ys.prototype.cancel=function(){this.K=!0,On(this)};function Gs(f){f.T=Date.now()+f.H,uo(f,f.H)}function uo(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Fs(p(f.aa,f),v)}function $s(f){f.D&&(c.clearTimeout(f.D),f.D=null)}ys.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(da(this.i,this.B),this.M!=2&&(zs(),Dt(17)),On(this),this.m=2,Wn(this)):uo(this,this.T-f)};function Wn(f){f.j.I==0||f.K||md(f.j,f)}function On(f){$s(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,Bl(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function Ks(f,v){try{var T=f.j;if(T.I!=0&&(T.g==f||Xs(T.h,f))){if(!f.L&&Xs(T.h,f)&&T.I==3){try{var N=T.Ba.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var X=N;if(X[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)bo(T),hr(T);else break e;wa(T),Dt(18)}}else T.xa=X[1],0<T.xa-T.K&&X[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Fs(p(T.Va,T),6e3));Ys(T.h)<=1&&T.ta&&(T.ta=void 0)}else ti(T,11)}else if((f.L||T.g==f)&&bo(T),!V(v))for(X=T.Ba.g.parse(v),v=0;v<X.length;v++){let Ze=X[v];const gt=Ze[0];if(!(gt<=T.K))if(T.K=gt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const es=Ze[3];es!=null&&(T.ka=es,T.j.info("VER="+T.ka));const ni=Ze[4];ni!=null&&(T.za=ni,T.j.info("SVER="+T.za));const _s=Ze[5];_s!=null&&typeof _s=="number"&&_s>0&&(N=1.5*_s,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Ts=f.g;if(Ts){const _a=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var ee=N.h;ee.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&($l(ee,ee.h),ee.h=null))}if(N.G){const vo=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(N.wa=vo,nt(N.J,N.G,vo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var fe=f;if(N.na=yd(N,N.L?N.ba:null,N.W),fe.L){Kl(N.h,fe);var Ve=fe,kt=N.O;kt&&(Ve.H=kt),Ve.D&&($s(Ve),Gs(Ve)),N.g=fe}else hd(N);T.i.length>0&&ei(T)}else Ze[0]!="stop"&&Ze[0]!="close"||ti(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ti(T,7):nc(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}zs(4)}catch{}}var Pt=class{constructor(f,v){this.g=f,this.map=v}};function ql(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ys(f){return f.h?1:f.g?f.g.size:0}function Xs(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function $l(f,v){f.g?f.g.add(v):f.h=v}function Kl(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}ql.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Yl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.G);return v}return E(f.i)}var ad=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ho(f,v){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const N=f[T].indexOf("=");let X,ee=null;N>=0?(X=f[T].substring(0,N),ee=f[T].substring(N+1)):X=f[T],v(X,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Ln(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof Ln?(this.l=f.l,Jt(this,f.j),this.o=f.o,this.g=f.g,rr(this,f.u),this.h=f.h,Xl(this,ud(f.i)),this.m=f.m):f&&(v=String(f).match(ad))?(this.l=!1,Jt(this,v[1]||"",!0),this.o=Qs(v[2]||""),this.g=Qs(v[3]||"",!0),rr(this,v[4]),this.h=Qs(v[5]||"",!0),Xl(this,v[6]||"",!0),this.m=Qs(v[7]||"")):(this.l=!1,this.i=new or(null,this.l))}Ln.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(pa(v,fo,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(pa(v,fo,!0),"@"),f.push(_i(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(pa(T,T.charAt(0)=="/"?Ql:od,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",pa(T,ld)),f.join("")},Ln.prototype.resolve=function(f){const v=Vt(this);let T=!!f.j;T?Jt(v,f.j):T=!!f.o,T?v.o=f.o:T=!!f.g,T?v.g=f.g:T=f.u!=null;var N=f.h;if(T)rr(v,f.u);else if(T=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var X=v.h.lastIndexOf("/");X!=-1&&(N=v.h.slice(0,X+1)+N)}if(X=N,X==".."||X==".")N="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){N=X.lastIndexOf("/",0)==0,X=X.split("/");const ee=[];for(let fe=0;fe<X.length;){const Ve=X[fe++];Ve=="."?N&&fe==X.length&&ee.push(""):Ve==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),N&&fe==X.length&&ee.push("")):(ee.push(Ve),N=!0)}N=ee.join("/")}else N=X}return T?v.h=N:T=f.i.toString()!=="",T?Xl(v,ud(f.i)):T=!!f.m,T&&(v.m=f.m),v};function Vt(f){return new Ln(f)}function Jt(f,v,T){f.j=T?Qs(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function rr(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function Xl(f,v,T){v instanceof or?(f.i=v,po(f.i,f.l)):(T||(v=pa(v,ar)),f.i=new or(v,f.l))}function nt(f,v,T){f.i.set(v,T)}function ma(f){return nt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Qs(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function pa(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,En),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function En(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var fo=/[#\/\?@]/g,od=/[#\?:]/g,Ql=/[#\?]/g,ar=/[#\?@]/g,ld=/#/g;function or(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&ho(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=or.prototype,t.add=function(f,v){Sn(this),this.i=null,f=lr(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function cd(f,v){Sn(f),v=lr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Wl(f,v){return Sn(f),v=lr(f,v),f.g.has(v)}t.forEach=function(f,v){Sn(this),this.g.forEach(function(T,N){T.forEach(function(X){f.call(v,X,N,this)},this)},this)};function Jl(f,v){Sn(f);let T=[];if(typeof v=="string")Wl(f,v)&&(T=T.concat(f.g.get(lr(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)T=T.concat(f[v]);return T}t.set=function(f,v){return Sn(this),this.i=null,f=lr(this,f),Wl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=Jl(this,f),f.length>0?String(f[0]):v):v};function mo(f,v,T){cd(f,v),T.length>0&&(f.i=null,f.g.set(lr(f,v),E(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var T=v[N];const X=_i(T);T=Jl(this,T);for(let ee=0;ee<T.length;ee++){let fe=X;T[ee]!==""&&(fe+="="+_i(T[ee])),f.push(fe)}}return this.i=f.join("&")};function ud(f){const v=new or;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function lr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function po(f,v){v&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(T,N){const X=N.toLowerCase();N!=X&&(cd(this,N),mo(this,X,T))},f)),f.j=v}function bs(f,v){const T=new gs;if(c.Image){const N=new Image;N.onload=x(Jn,T,"TestLoadImage: loaded",!0,v,N),N.onerror=x(Jn,T,"TestLoadImage: error",!1,v,N),N.onabort=x(Jn,T,"TestLoadImage: abort",!1,v,N),N.ontimeout=x(Jn,T,"TestLoadImage: timeout",!1,v,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function Zl(f,v){const T=new gs,N=new AbortController,X=setTimeout(()=>{N.abort(),Jn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(ee=>{clearTimeout(X),ee.ok?Jn(T,"TestPingServer: ok",!0,v):Jn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(X),Jn(T,"TestPingServer: error",!1,v)})}function Jn(f,v,T,N,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),N(T)}catch{}}function cr(){this.g=new Wu}function Ws(f){this.i=f.Sb||null,this.h=f.ab||!1}b(Ws,Ju),Ws.prototype.g=function(){return new ga(this.i,this.h)};function ga(f,v){It.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ga,It),t=ga.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,vs(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;go(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function go(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?ur(this):vs(this),this.readyState==3&&go(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ur(this))},t.Na=function(f){this.g&&(this.response=f,ur(this))},t.ga=function(){this.g&&ur(this)};function ur(f){f.readyState=4,f.l=null,f.j=null,f.B=null,vs(f)}t.setRequestHeader=function(f,v){this.A.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function vs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Zn(f){let v="";return se(f,function(T,N){v+=N,v+=":",v+=T,v+=`\r
`}),v}function ya(f,v,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=Zn(T),typeof f=="string"?T!=null&&_i(T):nt(f,v,T))}function at(f){It.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(at,It);var Js=/^https?$/i,ec=["POST","PUT"];t=at.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,v,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hl.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ee){xa(this,ee);return}if(f=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var X in N)T.set(X,N[X]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ee of N.keys())T.set(ee,N.get(ee));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(ec,v,void 0)>=0)||N||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of T)this.g.setRequestHeader(ee,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){xa(this,ee)}};function xa(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,tc(f),Ti(f)}function tc(f){f.A||(f.A=!0,Gt(f,"complete"),Gt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Gt(this,"complete"),Gt(this,"abort"),Ti(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ba(this):this.Xa())},t.Xa=function(){ba(this)};function ba(f){if(f.h&&typeof l<"u"){if(f.v&&ws(f)==4)setTimeout(f.Ca.bind(f),0);else if(Gt(f,"readystatechange"),ws(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var N;if(N=ee===0){let fe=String(f.D).match(ad)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),N=!Js.test(fe?fe.toLowerCase():"")}T=N}if(T)Gt(f,"complete"),Gt(f,"success");else{f.o=6;try{var X=ws(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",tc(f)}}finally{Ti(f)}}}}function Ti(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,v||Gt(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ws(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),wm(v)}};function sn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ei(f){const v={};f=(f.g&&ws(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(V(f[N]))continue;var T=sd(f[N]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=v[X]||[];v[X]=ee,ee.push(T)}ae(v,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function dr(f){this.za=0,this.i=[],this.j=new gs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zs("baseRetryDelayMs",5e3,f),this.Za=Zs("retryDelaySeedMs",1e4,f),this.Ta=Zs("forwardChannelMaxRetries",2,f),this.va=Zs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ql(f&&f.concurrentRequestLimit),this.Ba=new cr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dr.prototype,t.ka=8,t.I=1,t.connect=function(f,v,T,N){Dt(0),this.W=f,this.H=v||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=yd(this,null,this.W),ei(this)};function nc(f){if(yo(f),f.I==3){var v=f.V++,T=Vt(f.J);if(nt(T,"SID",f.M),nt(T,"RID",v),nt(T,"TYPE","terminate"),va(f,T),v=new ys(f,f.j,v),v.M=2,v.A=ma(Vt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=xd(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Gs(v)}gd(f)}function hr(f){f.g&&(ic(f),f.g.cancel(),f.g=null)}function yo(f){hr(f),f.v&&(c.clearTimeout(f.v),f.v=null),bo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function ei(f){if(!Gl(f.h)&&!f.m){f.m=!0;var v=f.Ea;ne||S(),de||(ne(),de=!0),j.add(v,f),f.D=0}}function xo(f,v){return Ys(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Fs(p(f.Ea,f,v),pd(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new ys(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=P(ee),ue(ee,this.U)):ee=this.U),this.u!==null||this.R||(X.J=ee,ee=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=dd(this,X,v),T=Vt(this.J),nt(T,"RID",f),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),va(this,T),ee&&(this.R?v="headers="+_i(Zn(ee))+"&"+v:this.u&&ya(T,this.u,ee)),$l(this.h,X),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",v),nt(T,"SID","null"),X.U=!0,qs(X,T,null)):qs(X,T,v),this.I=2}}else this.I==3&&(f?sc(this,f):this.i.length==0||Gl(this.h)||sc(this))};function sc(f,v){var T;v?T=v.l:T=f.V++;const N=Vt(f.J);nt(N,"SID",f.M),nt(N,"RID",T),nt(N,"AID",f.K),va(f,N),f.u&&f.o&&ya(N,f.u,f.o),T=new ys(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),v&&(f.i=v.G.concat(f.i)),v=dd(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),$l(f.h,T),qs(T,N,v)}function va(f,v){f.H&&se(f.H,function(T,N){nt(v,N,T)}),f.l&&se({},function(T,N){nt(v,N,T)})}function dd(f,v,T){T=Math.min(f.i.length,T);const N=f.l?p(f.l.Ka,f.l,f):null;e:{var X=f.i;let Ve=-1;for(;;){const kt=["count="+T];Ve==-1?T>0?(Ve=X[0].g,kt.push("ofs="+Ve)):Ve=0:kt.push("ofs="+Ve);let Ze=!0;for(let gt=0;gt<T;gt++){var ee=X[gt].g;const es=X[gt].map;if(ee-=Ve,ee<0)Ve=Math.max(0,X[gt].g-100),Ze=!1;else try{ee="req"+ee+"_"||"";try{var fe=es instanceof Map?es:Object.entries(es);for(const[ni,_s]of fe){let Ts=_s;h(_s)&&(Ts=ir(_s)),kt.push(ee+ni+"="+encodeURIComponent(Ts))}}catch(ni){throw kt.push(ee+"type="+encodeURIComponent("_badmap")),ni}}catch{N&&N(es)}}if(Ze){fe=kt.join("&");break e}}fe=void 0}return f=f.i.splice(0,T),v.G=f,fe}function hd(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;ne||S(),de||(ne(),de=!0),j.add(v,f),f.A=0}}function wa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Fs(p(f.Da,f),pd(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,fd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Fs(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),hr(this),fd(this))};function ic(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function fd(f){f.g=new ys(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=Vt(f.na);nt(v,"RID","rpc"),nt(v,"SID",f.M),nt(v,"AID",f.K),nt(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&nt(v,"TO",f.ia),nt(v,"TYPE","xmlhttp"),va(f,v),f.u&&f.o&&ya(v,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=ma(Vt(v)),T.u=null,T.R=!0,co(T,f)}t.Va=function(){this.C!=null&&(this.C=null,hr(this),wa(this),Dt(19))};function bo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function md(f,v){var T=null;if(f.g==v){bo(f),ic(f),f.g=null;var N=2}else if(Xs(f.h,v))T=v.G,Kl(f.h,v),N=1;else return;if(f.I!=0){if(v.o)if(N==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var X=f.D;N=lo(),Gt(N,new Bs(N,T)),ei(f)}else hd(f);else if(X=v.m,X==3||X==0&&v.X>0||!(N==1&&xo(f,v)||N==2&&wa(f)))switch(T&&T.length>0&&(v=f.h,v.i=v.i.concat(T)),X){case 1:ti(f,5);break;case 4:ti(f,10);break;case 3:ti(f,6);break;default:ti(f,2)}}}function pd(f,v){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*v}function ti(f,v){if(f.j.info("Error code "+v),v==2){var T=p(f.bb,f),N=f.Ua;const X=!N;N=new Ln(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Jt(N,"https"),ma(N),X?bs(N.toString(),T):Zl(N.toString(),T)}else Dt(2);f.I=0,f.l&&f.l.pa(v),gd(f),yo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function gd(f){if(f.I=0,f.ja=[],f.l){const v=Yl(f.h);(v.length!=0||f.i.length!=0)&&(I(f.ja,v),I(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function yd(f,v,T){var N=T instanceof Ln?Vt(T):new Ln(T);if(N.g!="")v&&(N.g=v+"."+N.g),rr(N,N.u);else{var X=c.location;N=X.protocol,v=v?v+"."+X.hostname:X.hostname,X=+X.port;const ee=new Ln(null);N&&Jt(ee,N),v&&(ee.g=v),X&&rr(ee,X),T&&(ee.h=T),N=ee}return T=f.G,v=f.wa,T&&v&&nt(N,T,v),nt(N,"VER",f.ka),va(f,N),N}function xd(f,v,T){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new at(new Ws({ab:T})):new at(f.ma),v.Fa(f.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bd(){}t=bd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fr(){}fr.prototype.g=function(f,v){return new vn(f,v)};function vn(f,v){It.call(this),this.g=new dr(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!V(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!V(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Si(this)}b(vn,It),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){nc(this.g)},vn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=ir(f),f=T);v.i.push(new Pt(v.Ya++,f)),v.I==3&&ei(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,nc(this.g),delete this.g,vn.Z.N.call(this)};function vd(f){nn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}b(vd,nn);function wd(){Qn.call(this),this.status=1}b(wd,Qn);function Si(f){this.g=f}b(Si,bd),Si.prototype.ra=function(){Gt(this.g,"a")},Si.prototype.qa=function(f){Gt(this.g,new vd(f))},Si.prototype.pa=function(f){Gt(this.g,new wd)},Si.prototype.oa=function(){Gt(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,Yk=function(){return new fr},Kk=function(){return lo()},$k=St,Hg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,Zh=ha,Fl.COMPLETE="complete",Gk=Fl,Zu.EventType=ps,ps.OPEN="a",ps.CLOSE="b",ps.ERROR="c",ps.MESSAGE="d",It.prototype.listen=It.prototype.J,Xc=Zu,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,qk=at}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let jl="12.9.0";function iO(t){jl=t}const Za=new ex("@firebase/firestore");function Zo(){return Za.logLevel}function be(t,...e){if(Za.logLevel<=$e.DEBUG){const n=e.map(fx);Za.debug(`Firestore (${jl}): ${t}`,...n)}}function Wi(t,...e){if(Za.logLevel<=$e.ERROR){const n=e.map(fx);Za.error(`Firestore (${jl}): ${t}`,...n)}}function eo(t,...e){if(Za.logLevel<=$e.WARN){const n=e.map(fx);Za.warn(`Firestore (${jl}): ${t}`,...n)}}function fx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Re(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Xk(t,i,n)}function Xk(t,e,n){let i=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Wi(i),new Error(i)}function tt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||Xk(e,a,i)}function Pe(t,e){return t}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Qk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class aO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oO{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Kr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Kr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new Qk(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class lO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class cO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new lO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class mx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=dO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function qg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return W0(a)===W0(l)?Ke(a,l):W0(a)?1:-1}return Ke(t.length,e.length)}const hO=55296,fO=57343;function W0(t){const e=t.charCodeAt(0);return e>=hO&&e<=fO}function xl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const IT="__name__";class li{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Re(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=li.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const i=li.isNumericId(e),a=li.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?li.extractNumericId(e).compare(li.extractNumericId(n)):qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class dt extends li{construct(e,n,i){return new dt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const mO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends li{construct(e,n,i){return new dn(e,n,i)}static isValidIdentifier(e){return mO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IT}static keyField(){return new dn([IT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ye(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ye(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new ye(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(dt.fromString(e))}static fromName(e){return new Ne(dt.fromString(e).popFirst(5))}static empty(){return new Ne(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new dt(e.slice()))}}function Wk(t,e,n){if(!n)throw new ye(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pO(t,e,n,i){if(e===!0&&i===!0)throw new ye(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DT(t){if(!Ne.isDocumentKey(t))throw new ye(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MT(t){if(Ne.isDocumentKey(t))throw new ye(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function Ms(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jf(t);throw new ye(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function gO(t,e){if(e<=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bu(t,e){if(!Jk(t))throw new ye(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ye(oe.INVALID_ARGUMENT,n);return!0}const PT=-62135596800,VT=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*VT);return new pt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PT)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bu(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:qt("string",pt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new pt(0,0))}static max(){return new De(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function yO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=De.fromTimestamp(i===1e9?new pt(n+1,0):new pt(n,i));return new Zr(a,Ne.empty(),e)}function xO(t){return new Zr(t.readTime,t.key,wu)}class Zr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Zr(De.min(),Ne.empty(),wu)}static max(){return new Zr(De.max(),Ne.empty(),wu)}}function bO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}const vO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Il(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==vO)throw t;be("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,i)=>{n(e)}))}static reject(e){return new ce(((n,i)=>{i(e)}))}static waitFor(e){return new ce(((n,i)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ce.resolve(!1);for(const i of e)n=n.next((a=>a?ce.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ce(((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((x=>{c[p]=x,++h,h===l&&i(c)}),(x=>a(x)))}}))}static doWhile(e,n){return new ce(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function _O(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dl(t){return t.name==="IndexedDbTransactionError"}class Zf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zf.ce=-1;const px=-1;function em(t){return t==null}function Tf(t){return t===0&&1/t==-1/0}function TO(t){return typeof t=="number"&&Number.isInteger(t)&&!Tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Zk="";function EO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OT(e)),e=SO(t.get(n),e);return OT(e)}function SO(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Zk:n+="";break;default:n+=l}}return n}function OT(t){return t+Zk+""}function LT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ih(this.root,e,this.comparator,!0)}}class Ih{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??un.RED,this.left=a??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new un(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return un.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UT(this.data.getIterator())}getIteratorFrom(e){return new UT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class UT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Xt(dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new tA("Invalid base64 string: "+l):l}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const kO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=kO.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}const nA="server_timestamp",sA="__type__",iA="__previous_value__",rA="__local_write_time__";function gx(t){return(t?.mapValue?.fields||{})[sA]?.stringValue===nA}function tm(t){const e=t.mapValue.fields[iA];return gx(e)?tm(e):e}function _u(t){const e=ea(t.mapValue.fields[rA].timestampValue);return new pt(e.seconds,e.nanos)}class AO{constructor(e,n,i,a,l,c,h,m,p,x,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=x,this.apiKey=b}}const Ef="(default)";class Tu{constructor(e,n){this.projectId=e,this.database=n||Ef}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}function NO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ye(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(t.options.projectId,e)}const aA="__type__",CO="__max__",Dh={mapValue:{}},oA="__vector__",Sf="value";function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gx(t)?4:jO(t)?9007199254740991:RO(t)?10:11:Re(28295,{value:t})}function yi(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _u(t).isEqual(_u(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ea(a.timestampValue),h=ea(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ta(a.bytesValue).isEqual(ta(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ct(a.doubleValue),h=Ct(l.doubleValue);return c===h?Tf(c)===Tf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return xl(t.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(LT(c)!==LT(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!yi(c[m],h[m])))return!1;return!0})(t,e);default:return Re(52216,{left:t})}}function Eu(t,e){return(t.values||[]).find((n=>yi(n,e)))!==void 0}function bl(t,e){if(t===e)return 0;const n=na(t),i=na(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Ct(l.integerValue||l.doubleValue),m=Ct(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return zT(t.timestampValue,e.timestampValue);case 4:return zT(_u(t),_u(e));case 5:return qg(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=ta(l),m=ta(c);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),m=c.split("/");for(let p=0;p<h.length&&p<m.length;p++){const x=Ke(h[p],m[p]);if(x!==0)return x}return Ke(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Ke(Ct(l.latitude),Ct(c.latitude));return h!==0?h:Ke(Ct(l.longitude),Ct(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return BT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},m=c.fields||{},p=h[Sf]?.arrayValue,x=m[Sf]?.arrayValue,b=Ke(p?.values?.length||0,x?.values?.length||0);return b!==0?b:BT(p,x)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Dh.mapValue&&c===Dh.mapValue)return 0;if(l===Dh.mapValue)return 1;if(c===Dh.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=c.fields||{},x=Object.keys(p);m.sort(),x.sort();for(let b=0;b<m.length&&b<x.length;++b){const w=qg(m[b],x[b]);if(w!==0)return w;const E=bl(h[m[b]],p[x[b]]);if(E!==0)return E}return Ke(m.length,x.length)})(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function zT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=ea(t),i=ea(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function BT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=bl(n[a],i[a]);if(l)return l}return Ke(n.length,i.length)}function vl(t){return Gg(t)}function Gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ea(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ta(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Gg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Gg(n.fields[c])}`;return a+"}"})(t.mapValue):Re(61005,{value:t})}function ef(t){switch(na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(t);return e?16+ef(e):16;case 5:return 2*t.stringValue.length;case 6:return ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+ef(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return aa(i.fields,((l,c)=>{a+=l.length+ef(c)})),a})(t.mapValue);default:throw Re(13486,{value:t})}}function FT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $g(t){return!!t&&"integerValue"in t}function yx(t){return!!t&&"arrayValue"in t}function HT(t){return!!t&&"nullValue"in t}function qT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tf(t){return!!t&&"mapValue"in t}function RO(t){return(t?.mapValue?.fields||{})[aA]?.stringValue===oA}function ou(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return aa(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=ou(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ou(t.arrayValue.values[n]);return e}return{...t}}function jO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CO}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(n)}setAll(e){let n=dn.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=ou(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){aa(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new In(ou(this.value))}}function lA(t){const e=[];return aa(t.fields,((n,i)=>{const a=new dn([n]);if(tf(i)){const l=lA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new $n(e)}class gn{constructor(e,n,i,a,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new gn(e,0,De.min(),De.min(),De.min(),In.empty(),0)}static newFoundDocument(e,n,i,a){return new gn(e,1,n,De.min(),i,a,0)}static newNoDocument(e,n){return new gn(e,2,n,De.min(),De.min(),In.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,De.min(),De.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kf{constructor(e,n){this.position=e,this.inclusive=n}}function GT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ne.comparator(Ne.fromName(c.referenceValue),n.key):i=bl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function $T(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yi(t.position[n],e.position[n]))return!1;return!0}class Su{constructor(e,n="asc"){this.field=e,this.dir=n}}function IO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class cA{}class Ht extends cA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new MO(e,n,i):n==="array-contains"?new OO(e,i):n==="in"?new LO(e,i):n==="not-in"?new UO(e,i):n==="array-contains-any"?new zO(e,i):new Ht(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new PO(e,i):new VO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bl(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends cA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ls(e,n)}matches(e){return uA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uA(t){return t.op==="and"}function dA(t){return DO(t)&&uA(t)}function DO(t){for(const e of t.filters)if(e instanceof Ls)return!1;return!0}function Kg(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(dA(t))return t.filters.map((e=>Kg(e))).join(",");{const e=t.filters.map((n=>Kg(n))).join(",");return`${t.op}(${e})`}}function hA(t,e){return t instanceof Ht?(function(i,a){return a instanceof Ht&&i.op===a.op&&i.field.isEqual(a.field)&&yi(i.value,a.value)})(t,e):t instanceof Ls?(function(i,a){return a instanceof Ls&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,h)=>l&&hA(c,a.filters[h])),!0):!1})(t,e):void Re(19439)}function fA(t){return t instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`})(t):t instanceof Ls?(function(n){return n.op.toString()+" {"+n.getFilters().map(fA).join(" ,")+"}"})(t):"Filter"}class MO extends Ht{constructor(e,n,i){super(e,n,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class PO extends Ht{constructor(e,n){super(e,"in",n),this.keys=mA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class VO extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=mA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mA(t,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class OO extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yx(n)&&Eu(n.arrayValue,this.value)}}class LO extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class UO extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Eu(this.value.arrayValue,n)}}class zO extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Eu(this.value.arrayValue,i)))}}class BO{constructor(e,n=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function KT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new BO(t,e,n,i,a,l,c)}function xx(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Kg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>vl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>vl(i))).join(",")),e.Te=n}return e.Te}function bx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$T(t.startAt,e.startAt)&&$T(t.endAt,e.endAt)}function Yg(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ml{constructor(e,n=null,i=[],a=[],l=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function FO(t,e,n,i,a,l,c,h){return new Ml(t,e,n,i,a,l,c,h)}function vx(t){return new Ml(t)}function YT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HO(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function pA(t){return t.collectionGroup!==null}function lu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Xt(dn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Su(l,i))})),n.has(dn.keyField().canonicalString())||e.Ie.push(new Su(dn.keyField(),i))}return e.Ie}function hi(t){const e=Pe(t);return e.Ee||(e.Ee=qO(e,lu(t))),e.Ee}function qO(t,e){if(t.limitType==="F")return KT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Su(a.field,l)}));const n=t.endAt?new kf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new kf(t.startAt.position,t.startAt.inclusive):null;return KT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Xg(t,e){const n=t.filters.concat([e]);return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function GO(t,e){const n=t.explicitOrderBy.concat([e]);return new Ml(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Af(t,e,n){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return bx(hi(t),hi(e))&&t.limitType===e.limitType}function gA(t){return`${xx(hi(t))}|lt:${t.limitType}`}function el(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>fA(a))).join(", ")}]`),em(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>vl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>vl(a))).join(",")),`Target(${i})`})(hi(t))}; limitType=${t.limitType})`}function sm(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ne.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of lu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,m){const p=GT(c,h,m);return c.inclusive?p<=0:p<0})(i.startAt,lu(i),a)||i.endAt&&!(function(c,h,m){const p=GT(c,h,m);return c.inclusive?p>=0:p>0})(i.endAt,lu(i),a))})(t,e)}function $O(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yA(t){return(e,n)=>{let i=!1;for(const a of lu(t)){const l=KO(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function KO(t,e,n){const i=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,c,h){const m=c.data.field(l),p=h.data.field(l);return m!==null&&p!==null?bl(m,p):Re(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:t.dir})}}class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return eA(this.inner)}size(){return this.innerSize}}const YO=new vt(Ne.comparator);function Ji(){return YO}const xA=new vt(Ne.comparator);function Qc(...t){let e=xA;for(const n of t)e=e.insert(n.key,n);return e}function bA(t){let e=xA;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ga(){return cu()}function vA(){return cu()}function cu(){return new ao((t=>t.toString()),((t,e)=>t.isEqual(e)))}const XO=new vt(Ne.comparator),QO=new Xt(Ne.comparator);function Ye(...t){let e=QO;for(const n of t)e=e.add(n);return e}const WO=new Xt(Ke);function JO(){return WO}function wx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(e)?"-0":e}}function wA(t){return{integerValue:""+t}}function ZO(t,e){return TO(e)?wA(e):wx(t,e)}class im{constructor(){this._=void 0}}function eL(t,e,n){return t instanceof ku?(function(a,l){const c={fields:{[sA]:{stringValue:nA},[rA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&gx(l)&&(l=tm(l)),l&&(c.fields[iA]=l),{mapValue:c}})(n,e):t instanceof Au?TA(t,e):t instanceof Nu?EA(t,e):(function(a,l){const c=_A(a,l),h=XT(c)+XT(a.Ae);return $g(c)&&$g(a.Ae)?wA(h):wx(a.serializer,h)})(t,e)}function tL(t,e,n){return t instanceof Au?TA(t,e):t instanceof Nu?EA(t,e):n}function _A(t,e){return t instanceof Nf?(function(i){return $g(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class ku extends im{}class Au extends im{constructor(e){super(),this.elements=e}}function TA(t,e){const n=SA(e);for(const i of t.elements)n.some((a=>yi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Nu extends im{constructor(e){super(),this.elements=e}}function EA(t,e){let n=SA(e);for(const i of t.elements)n=n.filter((a=>!yi(a,i)));return{arrayValue:{values:n}}}class Nf extends im{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function XT(t){return Ct(t.integerValue||t.doubleValue)}function SA(t){return yx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class nL{constructor(e,n){this.field=e,this.transform=n}}function sL(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Au&&a instanceof Au||i instanceof Nu&&a instanceof Nu?xl(i.elements,a.elements,yi):i instanceof Nf&&a instanceof Nf?yi(i.Ae,a.Ae):i instanceof ku&&a instanceof ku})(t.transform,e.transform)}class iL{constructor(e,n){this.version=e,this.transformResults=n}}class Ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ps}static exists(e){return new Ps(void 0,e)}static updateTime(e){return new Ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rm{}function kA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new NA(t.key,Ps.none()):new Fu(t.key,t.data,Ps.none());{const n=t.data,i=In.empty();let a=new Xt(dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new oa(t.key,i,new $n(a.toArray()),Ps.none())}}function rL(t,e,n){t instanceof Fu?(function(a,l,c){const h=a.value.clone(),m=WT(a.fieldTransforms,l,c.transformResults);h.setAll(m),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof oa?(function(a,l,c){if(!nf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=WT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(AA(a)),m.setAll(h),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function uu(t,e,n,i){return t instanceof Fu?(function(l,c,h,m){if(!nf(l.precondition,c))return h;const p=l.value.clone(),x=JT(l.fieldTransforms,m,c);return p.setAll(x),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof oa?(function(l,c,h,m){if(!nf(l.precondition,c))return h;const p=JT(l.fieldTransforms,m,c),x=c.data;return x.setAll(AA(l)),x.setAll(p),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,c,h){return nf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function aL(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=_A(i.transform,a||null);l!=null&&(n===null&&(n=In.empty()),n.set(i.field,l))}return n||null}function QT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&xl(i,a,((l,c)=>sL(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends rm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oa extends rm{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function AA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function WT(t,e,n){const i=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,tL(c,h,n[a]))}return i}function JT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,eL(l,c,e))}return i}class NA extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oL extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lL{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&rL(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=uu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=uu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=vA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const m=kA(c,h);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(De.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((n,i)=>QT(n,i)))&&xl(this.baseMutations,e.baseMutations,((n,i)=>QT(n,i)))}}class _x{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return XO})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new _x(e,n,i,a)}}class cL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Bt,Qe;function dL(t){switch(t){case oe.OK:return Re(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function CA(t){if(t===void 0)return Wi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Bt.OK:return oe.OK;case Bt.CANCELLED:return oe.CANCELLED;case Bt.UNKNOWN:return oe.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return oe.INTERNAL;case Bt.UNAVAILABLE:return oe.UNAVAILABLE;case Bt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Bt.NOT_FOUND:return oe.NOT_FOUND;case Bt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Bt.ABORTED:return oe.ABORTED;case Bt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Bt.DATA_LOSS:return oe.DATA_LOSS;default:return Re(39323,{code:t})}}(Qe=Bt||(Bt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function hL(){return new TextEncoder}const fL=new $r([4294967295,4294967295],0);function ZT(t){const e=hL().encode(t),n=new Hk;return n.update(e),new Uint8Array(n.digest())}function eE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $r([n,i],0),new $r([a,l],0)]}class Tx{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Wc(`Invalid padding: ${n}`);if(i<0)throw new Wc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Wc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$r.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply($r.fromNumber(i)));return a.compare(fL)===1&&(a=new $r([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZT(e),[i,a]=eE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Tx(l,a,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=ZT(e),[i,a]=eE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class am{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new am(De.min(),a,new vt(Ke),Ji(),Ye())}}class Hu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Hu(i,n,Ye(),Ye(),Ye())}}class sf{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class RA{constructor(e,n){this.targetId=e,this.Ce=n}}class jA{constructor(e,n,i=hn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class tE{constructor(){this.ve=0,this.Fe=nE(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}})),new Hu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=nE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class mL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.He=Mh(),this.Je=Mh(),this.Ze=new vt(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Yg(l))if(i===0){const c=new Ne(l.path);this.et(n,c,gn.newNoDocument(c,De.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),m=h?this.ct(h,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=ta(i).toUint8Array()}catch(m){if(m instanceof tA)return eo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new Tx(c,a,l)}catch(m){return eo(m instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&Yg(h.target)){const m=new Ne(h.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,gn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ye();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new am(e,n,this.Ze,this.je,i);return this.je=Ji(),this.He=Mh(),this.Je=Mh(),this.Ze=new vt(Ke),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new tE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xt(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xt(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Mh(){return new vt(Ne.comparator)}function nE(){return new vt(Ne.comparator)}const pL={asc:"ASCENDING",desc:"DESCENDING"},gL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yL={and:"AND",or:"OR"};class xL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qg(t,e){return t.useProto3Json||em(e)?e:{value:e}}function Cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bL(t,e){return Cf(t,e.toTimestamp())}function fi(t){return tt(!!t,49232),De.fromTimestamp((function(n){const i=ea(n);return new pt(i.seconds,i.nanos)})(t))}function Ex(t,e){return Wg(t,e).canonicalString()}function Wg(t,e){const n=(function(a){return new dt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function DA(t){const e=dt.fromString(t);return tt(LA(e),10190,{key:e.toString()}),e}function Jg(t,e){return Ex(t.databaseId,e.path)}function J0(t,e){const n=DA(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(PA(n))}function MA(t,e){return Ex(t.databaseId,e)}function vL(t){const e=DA(t);return e.length===4?dt.emptyPath():PA(e)}function Zg(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PA(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sE(t,e,n){return{name:Jg(t,e),fields:n.value.mapValue.fields}}function wL(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,x){return p.useProto3Json?(tt(x===void 0||typeof x=="string",58123),hn.fromBase64String(x||"")):(tt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),hn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const x=p.code===void 0?oe.UNKNOWN:CA(p.code);return new ye(x,p.message||"")})(c);n=new jA(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=J0(t,i.document.name),l=fi(i.document.updateTime),c=i.document.createTime?fi(i.document.createTime):De.min(),h=new In({mapValue:{fields:i.document.fields}}),m=gn.newFoundDocument(a,l,c,h),p=i.targetIds||[],x=i.removedTargetIds||[];n=new sf(p,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=J0(t,i.document),l=i.readTime?fi(i.readTime):De.min(),c=gn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new sf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=J0(t,i.document),l=i.removedTargetIds||[];n=new sf([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new uL(a,l),h=i.targetId;n=new RA(h,c)}}return n}function _L(t,e){let n;if(e instanceof Fu)n={update:sE(t,e.key,e.value)};else if(e instanceof NA)n={delete:Jg(t,e.key)};else if(e instanceof oa)n={update:sE(t,e.key,e.data),updateMask:jL(e.fieldMask)};else{if(!(e instanceof oL))return Re(16599,{dt:e.type});n={verify:Jg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof ku)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Au)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Nu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Nf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Re(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:bL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(t,e.precondition)),n}function TL(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?fi(a.updateTime):fi(l);return c.isEqual(De.min())&&(c=fi(l)),new iL(c,a.transformResults||[])})(n,e)))):[]}function EL(t,e){return{documents:[MA(t,e.path)]}}function SL(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=MA(t,a);const l=(function(p){if(p.length!==0)return OA(Ls.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((x=>(function(w){return{field:tl(w.field),direction:NL(w.dir)}})(x)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Qg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function kL(t){let e=vL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){tt(i===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];n.where&&(l=(function(b){const w=VA(b);return w instanceof Ls&&dA(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((w=>(function(I){return new Su(nl(I.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let w;return w=typeof b=="object"?b.value:b,em(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,E=b.values||[];return new kf(E,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,E=b.values||[];return new kf(E,w)})(n.endAt)),FO(e,a,c,l,h,"F",m,p)}function AL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=nl(n.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=nl(n.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=nl(n.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=nl(n.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ht.create(nl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ls.create(n.compositeFilter.filters.map((i=>VA(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(t):Re(30097,{filter:t})}function NL(t){return pL[t]}function CL(t){return gL[t]}function RL(t){return yL[t]}function tl(t){return{fieldPath:t.canonicalString()}}function nl(t){return dn.fromServerFormat(t.fieldPath)}function OA(t){return t instanceof Ht?(function(n){if(n.op==="=="){if(qT(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NAN"}};if(HT(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qT(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NAN"}};if(HT(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(n.field),op:CL(n.op),value:n.value}}})(t):t instanceof Ls?(function(n){const i=n.getFilters().map((a=>OA(a)));return i.length===1?i[0]:{compositeFilter:{op:RL(n.op),filters:i}}})(t):Re(54877,{filter:t})}function jL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function LA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function UA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Hr{constructor(e,n,i,a,l=De.min(),c=De.min(),h=hn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class IL{constructor(e){this.yt=e}}function DL(t){const e=kL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Af(e,e.limit,"L"):e}class ML{constructor(){this.Sn=new PL}addToCollectionParentIndex(e,n){return this.Sn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Zr.min())}updateCollectionGroup(e,n,i){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class PL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Xt(dt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Xt(dt.comparator)).toArray()}}const iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(zA,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class wl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wl(0)}static ar(){return new wl(-1)}}const rE="LruGarbageCollector",VL=1048576;function aE([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class OL{constructor(e){this.Pr=e,this.buffer=new Xt(aE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();aE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LL{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){be(rE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Dl(n)?be(rE,"Ignoring IndexedDB error during garbage collection: ",n):await Il(n)}await this.Ar(3e5)}))}}class UL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Zf.ce);const i=new OL(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(iE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,h,m,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,h=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),Zo()<=$e.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-x}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function zL(t,e){return new UL(t,e)}class BL{constructor(){this.changes=new ao((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ce.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class HL{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&uu(i.mutation,a,$n.empty(),pt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=Ga();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Qc();return l.forEach(((h,m)=>{c=c.insert(h,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Ga();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,a){let l=Ji();const c=cu(),h=(function(){return cu()})();return n.forEach(((m,p)=>{const x=i.get(p.key);a.has(p.key)&&(x===void 0||x.mutation instanceof oa)?l=l.insert(p.key,p):x!==void 0?(c.set(p.key,x.mutation.getFieldMask()),uu(x.mutation,p,x.mutation.getFieldMask(),pt.now())):c.set(p.key,$n.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,x)=>c.set(p,x))),n.forEach(((p,x)=>h.set(p,new FL(x,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=cu();let a=new vt(((c,h)=>c-h)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let x=i.get(m)||$n.empty();x=h.applyToLocalView(p,x),i.set(m,x);const b=(a.get(h.batchId)||Ye()).add(m);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,x=m.value,b=vA();x.forEach((w=>{if(!l.has(w)){const E=kA(n.get(w),i.get(w));E!==null&&b.set(w,E),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ce.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return HO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ce.resolve(Ga());let h=wu,m=l;return c.next((p=>ce.forEach(p,((x,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(x)?ce.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{m=m.insert(x,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ye()))).next((x=>({batchId:h,changes:bA(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((i=>{let a=Qc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Qc();return this.indexManager.getCollectionParents(e,l).next((h=>ce.forEach(h,(m=>{const p=(function(b,w){return new Ml(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((x=>{x.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,p)=>{const x=p.getKey();c.get(x)===null&&(c=c.insert(x,gn.newInvalidDocument(x)))}));let h=Qc();return c.forEach(((m,p)=>{const x=l.get(m);x!==void 0&&uu(x.mutation,p,$n.empty(),pt.now()),sm(n,p)&&(h=h.insert(m,p))})),h}))}}class qL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ce.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:fi(a.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:DL(a.bundledQuery),readTime:fi(a.readTime)}})(n)),ce.resolve()}}class GL{constructor(){this.overlays=new vt(Ne.comparator),this.Lr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ga();return ce.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),ce.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ce.resolve()}getOverlaysForCollection(e,n,i){const a=Ga(),l=n.length+1,c=new Ne(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new vt(((p,x)=>p-x));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let x=l.get(p.largestBatchId);x===null&&(x=Ga(),l=l.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const h=Ga(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,x)=>h.set(p,x))),!(h.size()>=a)););return ce.resolve(h)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new cL(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ye(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class $L{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}class Sx{constructor(){this.kr=new Xt(tn.Kr),this.qr=new Xt(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new tn(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new tn(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ne(new dt([])),i=new tn(n,e),a=new tn(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ne(new dt([])),i=new tn(n,e),a=new tn(n,e+1);let l=Ye();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new tn(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ne.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}class KL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(tn.Kr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lL(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new tn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,n){return ce.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?px:this.Yn-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new tn(n,0),a=new tn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xt(Ke);return n.forEach((a=>{const l=new tn(a,0),c=new tn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{i=i.add(h.Hr)}))})),ce.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ne.isDocumentKey(l)||(l=l.child(""));const c=new tn(new Ne(l),0);let h=new Xt(Ke);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Hr)),!0)}),c),ce.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ce.forEach(n.mutations,(a=>{const l=new tn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new tn(n,0),a=this.Jr.firstAfterOrEqual(i);return ce.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class YL{constructor(e){this.ti=e,this.docs=(function(){return new vt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ce.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let i=Ji();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():gn.newInvalidDocument(a))})),ce.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Ji();const c=n.path,h=new Ne(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:x}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||bO(xO(x),i)<=0||(a.has(x.key)||sm(n,x))&&(l=l.insert(x.key,x.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Re(9500)}ni(e,n){return ce.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new XL(this)}getSize(e){return ce.resolve(this.size)}}class XL extends BL{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ce.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class QL{constructor(e){this.persistence=e,this.ri=new ao((n=>xx(n)),bx),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ii=0,this.si=new Sx,this.targetCount=0,this.oi=wl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ce.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.lr(n),ce.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ce.waitFor(l).next((()=>a))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ce.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ce.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ce.resolve(i)}containsKey(e,n){return ce.resolve(this.si.containsKey(n))}}class BA{constructor(e,n){this._i={},this.overlays={},this.ai=new Zf(0),this.ui=!1,this.ui=!0,this.ci=new $L,this.referenceDelegate=e(this),this.li=new QL(this),this.indexManager=new ML,this.remoteDocumentCache=(function(a){return new YL(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new IL(n),this.Pi=new qL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new KL(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){be("MemoryPersistence","Starting transaction:",e);const a=new WL(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ce.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class WL extends wO{constructor(e){super(),this.currentSequenceNumber=e}}class kx{constructor(e){this.persistence=e,this.Ri=new Sx,this.Ai=null}static Vi(e){return new kx(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ce.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.di,(i=>{const a=Ne.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,De.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Rf{constructor(e,n){this.persistence=e,this.fi=new ao((i=>EO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=zL(this,n)}static Vi(e,n){return new Rf(e,n)}Ti(){}Ii(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ce.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ce.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(i++,l.removeEntry(c,De.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ce.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ef(e.data.value)),n}wr(e,n,i){return ce.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ce.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ax{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ax(e,n.fromCache,i,a)}}class JL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ZL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return OM()?8:_O(xn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new JL;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Zo()<=$e.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(Zo()<=$e.DEBUG&&be("QueryEngine","Query:",el(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Zo()<=$e.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):ce.resolve())}gs(e,n){if(YT(n))return ce.resolve(null);let i=hi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Af(n,null,"F"),i=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.bs(n,h);return this.Ss(n,p,c,m.readTime)?this.gs(e,Af(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,i,a){return YT(n)||a.isEqual(De.min())?ce.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?ce.resolve(null):(Zo()<=$e.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),el(n)),this.Ds(e,c,n,yO(a,wu)).next((h=>h)))}))}bs(e,n){let i=new Xt(yA(e));return n.forEach(((a,l)=>{sm(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return Zo()<=$e.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",el(n)),this.fs.getDocumentsMatchingQuery(e,n,Zr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Nx="LocalStore",e9=3e8;class t9{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new vt(Ke),this.Fs=new ao((l=>xx(l)),bx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function n9(t,e,n,i){return new t9(t,e,n,i)}async function FA(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let m=Ye();for(const p of a){c.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}for(const p of l){h.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function s9(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,x){const b=p.batch,w=b.keys();let E=ce.resolve();return w.forEach((I=>{E=E.next((()=>x.getEntry(m,I))).next((D=>{const M=p.docVersions.get(I);tt(M!==null,48541),D.version.compareTo(M)<0&&(b.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),x.addEntry(D)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(m,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=Ye();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function HA(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function i9(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((x,b)=>{const w=a.get(b);if(!w)return;h.push(n.li.removeMatchingKeys(l,x.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,x.addedDocuments,b))));let E=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?E=E.withResumeToken(hn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):x.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(x.resumeToken,i)),a=a.insert(b,E),(function(D,M,O){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=e9?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(w,E,x)&&h.push(n.li.updateTargetData(l,E))}));let m=Ji(),p=Ye();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,x))})),h.push(r9(l,c,e.documentUpdates).next((x=>{m=x.Bs,p=x.Ls}))),!i.isEqual(De.min())){const x=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(x)}return ce.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function r9(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=Ji();return n.forEach(((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(De.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):be(Nx,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function a9(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=px),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function o9(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,ce.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Hr(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function ey(t,e,n){const i=Pe(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Dl(c))throw c;be(Nx,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function oE(t,e,n){const i=Pe(t);let a=De.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,x){const b=Pe(m),w=b.Fs.get(x);return w!==void 0?ce.resolve(b.vs.get(w)):b.li.getTargetData(p,x)})(i,c,hi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:De.min(),n?l:Ye()))).next((h=>(l9(i,$O(e),h),{documents:h,ks:l})))))}function l9(t,e,n){let i=t.Ms.get(e)||De.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class lE{constructor(){this.activeTargetIds=JO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c9{constructor(){this.vo=new lE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new lE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class u9{Mo(e){}shutdown(){}}const cE="ConnectivityMonitor";class uE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){be(cE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){be(cE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ph=null;function ty(){return Ph===null?Ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ph++,"0x"+Ph.toString(16)}const Z0="RestConnection",d9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class h9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Ef?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=ty(),h=this.Qo(e,n.toUriEncodedString());be(Z0,`Sending RPC '${e}' ${c}:`,h,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(h),x=io(p);return this.zo(e,h,m,i,x).then((b=>(be(Z0,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw eo(Z0,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",i),b}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=d9[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class f9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const mn="WebChannelConnection",Gc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class hl extends h9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!hl.c_){const e=Kk();Gc(e,$k.STAT_EVENT,(n=>{n.stat===Hg.PROXY?be(mn,"STAT_EVENT: detected buffering proxy"):n.stat===Hg.NOPROXY&&be(mn,"STAT_EVENT: detected no buffering proxy")})),hl.c_=!0}}zo(e,n,i,a,l){const c=ty();return new Promise(((h,m)=>{const p=new qk;p.setWithCredentials(!0),p.listenOnce(Gk.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zh.NO_ERROR:const b=p.getResponseJson();be(mn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case Zh.TIMEOUT:be(mn,`RPC '${e}' ${c} timed out`),m(new ye(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const w=p.getStatus();if(be(mn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E?.error;if(I&&I.status&&I.message){const D=(function(O){const H=O.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(H)>=0?H:oe.UNKNOWN})(I.status);m(new ye(D,I.message))}else m(new ye(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ye(oe.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{be(mn,`RPC '${e}' ${c} completed.`)}}));const x=JSON.stringify(a);be(mn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",x,i,15)}))}T_(e,n,i){const a=ty(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=l.join("");be(mn,`Creating RPC '${e}' stream ${a}: ${p}`,h);const x=c.createWebChannel(p,h);this.I_(x);let b=!1,w=!1;const E=new f9({Ho:I=>{w?be(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(b||(be(mn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),b=!0),be(mn,`RPC '${e}' stream ${a} sending:`,I),x.send(I))},Jo:()=>x.close()});return Gc(x,Xc.EventType.OPEN,(()=>{w||(be(mn,`RPC '${e}' stream ${a} transport opened.`),E.i_())})),Gc(x,Xc.EventType.CLOSE,(()=>{w||(w=!0,be(mn,`RPC '${e}' stream ${a} transport closed`),E.o_(),this.E_(x))})),Gc(x,Xc.EventType.ERROR,(I=>{w||(w=!0,eo(mn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),E.o_(new ye(oe.UNAVAILABLE,"The operation could not be completed")))})),Gc(x,Xc.EventType.MESSAGE,(I=>{if(!w){const D=I.data[0];tt(!!D,16349);const M=D,O=M?.error||M[0]?.error;if(O){be(mn,`RPC '${e}' stream ${a} received error:`,O);const H=O.status;let K=(function(de){const j=Bt[de];if(j!==void 0)return CA(j)})(H),G=O.message;H==="NOT_FOUND"&&G.includes("database")&&G.includes("does not exist")&&G.includes(this.databaseId.database)&&eo(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=oe.INTERNAL,G="Unknown error status: "+H+" with message "+O.message),w=!0,E.o_(new ye(K,G)),x.close()}else be(mn,`RPC '${e}' stream ${a} received:`,D),E.__(D)}})),hl.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Yk()}}function m9(t){return new hl(t)}function eg(){return typeof document<"u"?document:null}function om(t){return new xL(t,!0)}hl.c_=!1;class qA{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const dE="PersistentStream";class GA{constructor(e,n,i,a,l,c,h,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ye(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(dE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(be(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class p9 extends GA{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wL(this.serializer,e),i=(function(l){if(!("targetChange"in l))return De.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?fi(c.readTime):De.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Zg(this.serializer),n.addTarget=(function(l,c){let h;const m=c.target;if(h=Yg(m)?{documents:EL(l,m)}:{query:SL(l,m).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=IA(l,c.resumeToken);const p=Qg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(De.min())>0){h.readTime=Cf(l,c.snapshotVersion.toTimestamp());const p=Qg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=AL(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Zg(this.serializer),n.removeTarget=e,this.K_(n)}}class g9 extends GA{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=TL(e.writeResults,e.commitTime),i=fi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Zg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>_L(this.serializer,i)))};this.K_(n)}}class y9{}class x9 extends y9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Wg(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(oe.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,Wg(n,i),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function b9(t,e,n,i){return new x9(t,e,n,i)}class v9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const to="RemoteStore";class w9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{oo(this)&&(be(to,"Restarting streams for network reachability change."),await(async function(m){const p=Pe(m);p.Ea.add(4),await qu(p),p.Va.set("Unknown"),p.Ea.delete(4),await lm(p)})(this))}))})),this.Va=new v9(i,a)}}async function lm(t){if(oo(t))for(const e of t.Ra)await e(!0)}async function qu(t){for(const e of t.Ra)await e(!1)}function $A(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ix(n)?jx(n):Pl(n).O_()&&Rx(n,e))}function Cx(t,e){const n=Pe(t),i=Pl(n);n.Ia.delete(e),i.O_()&&KA(n,e),n.Ia.size===0&&(i.O_()?i.L_():oo(n)&&n.Va.set("Unknown"))}function Rx(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pl(t).Z_(e)}function KA(t,e){t.da.$e(e),Pl(t).X_(e)}function jx(t){t.da=new mL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pl(t).start(),t.Va.ua()}function Ix(t){return oo(t)&&!Pl(t).x_()&&t.Ia.size>0}function oo(t){return Pe(t).Ea.size===0}function YA(t){t.da=void 0}async function _9(t){t.Va.set("Online")}async function T9(t){t.Ia.forEach(((e,n)=>{Rx(t,e)}))}async function E9(t,e){YA(t),Ix(t)?(t.Va.ha(e),jx(t)):t.Va.set("Unknown")}async function S9(t,e,n){if(t.Va.set("Online"),e instanceof jA&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(i){be(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jf(t,i)}else if(e instanceof sf?t.da.Xe(e):e instanceof RA?t.da.st(e):t.da.tt(e),!n.isEqual(De.min()))try{const i=await HA(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const x=l.Ia.get(p);x&&l.Ia.set(p,x.withResumeToken(m.resumeToken,c))}})),h.targetMismatches.forEach(((m,p)=>{const x=l.Ia.get(m);if(!x)return;l.Ia.set(m,x.withResumeToken(hn.EMPTY_BYTE_STRING,x.snapshotVersion)),KA(l,m);const b=new Hr(x.target,m,p,x.sequenceNumber);Rx(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){be(to,"Failed to raise snapshot:",i),await jf(t,i)}}async function jf(t,e,n){if(!Dl(e))throw e;t.Ea.add(1),await qu(t),t.Va.set("Offline"),n||(n=()=>HA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{be(to,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lm(t)}))}function XA(t,e){return e().catch((n=>jf(t,n,e)))}async function cm(t){const e=Pe(t),n=sa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:px;for(;k9(e);)try{const a=await a9(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,A9(e,a)}catch(a){await jf(e,a)}QA(e)&&WA(e)}function k9(t){return oo(t)&&t.Ta.length<10}function A9(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function QA(t){return oo(t)&&!sa(t).x_()&&t.Ta.length>0}function WA(t){sa(t).start()}async function N9(t){sa(t).ra()}async function C9(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function R9(t,e,n){const i=t.Ta.shift(),a=_x.from(i,e,n);await XA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await cm(t)}async function j9(t,e){e&&sa(t).Y_&&await(async function(i,a){if((function(c){return dL(c)&&c!==oe.ABORTED})(a.code)){const l=i.Ta.shift();sa(i).B_(),await XA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await cm(i)}})(t,e),QA(t)&&WA(t)}async function hE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),be(to,"RemoteStore received new credentials");const i=oo(n);n.Ea.add(3),await qu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lm(n)}async function I9(t,e){const n=Pe(t);e?(n.Ea.delete(2),await lm(n)):e||(n.Ea.add(2),await qu(n),n.Va.set("Unknown"))}function Pl(t){return t.ma||(t.ma=(function(n,i,a){const l=Pe(n);return l.sa(),new p9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:_9.bind(null,t),Yo:T9.bind(null,t),t_:E9.bind(null,t),J_:S9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Ix(t)?jx(t):t.Va.set("Unknown")):(await t.ma.stop(),YA(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,i,a){const l=Pe(n);return l.sa(),new g9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:N9.bind(null,t),t_:j9.bind(null,t),ta:C9.bind(null,t),na:R9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await cm(t)):(await t.fa.stop(),t.Ta.length>0&&(be(to,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Dx{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,h=new Dx(e,n,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mx(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),Dl(t))return new ye(oe.UNAVAILABLE,`${e}: ${t}`);throw t}class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ne.comparator(n.key,i.key):(n,i)=>Ne.comparator(n.key,i.key),this.keyedMap=Qc(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new fl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class fE{constructor(){this.ga=new vt(Ne.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class _l{constructor(e,n,i,a,l,c,h,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new _l(e,n,fl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class D9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class M9{constructor(){this.queries=mE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),l=a.queries;a.queries=mE(),l.forEach(((c,h)=>{for(const m of h.ba)m.onError(i)}))})(this,new ye(oe.ABORTED,"Firestore shutting down"))}}function mE(){return new ao((t=>gA(t)),nm)}async function JA(t,e){const n=Pe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new D9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=Mx(c,`Initialization of query '${el(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Px(n)}async function ZA(t,e){const n=Pe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function P9(t,e){const n=Pe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&Px(n)}function V9(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Px(t){t.Ca.forEach((e=>{e.next()}))}var ny,pE;(pE=ny||(ny={})).Ma="default",pE.Cache="cache";class eN{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new _l(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ny.Cache}}class tN{constructor(e){this.key=e}}class nN{constructor(e){this.key=e}}class O9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=yA(e),this.tu=new fl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new fE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,b)=>{const w=a.get(x),E=sm(this.query,b)?b:null,I=!!w&&this.mutatedKeys.has(w.key),D=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let M=!1;w&&E?w.data.isEqual(E.data)?I!==D&&(i.track({type:3,doc:E}),M=!0):this.su(w,E)||(i.track({type:2,doc:E}),M=!0,(m&&this.eu(E,m)>0||p&&this.eu(E,p)<0)&&(h=!0)):!w&&E?(i.track({type:0,doc:E}),M=!0):w&&!E&&(i.track({type:1,doc:w}),M=!0,(m||p)&&(h=!0)),M&&(E?(c=c.add(E),l=D?l.add(x):l.delete(x)):(c=c.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),l=l.delete(x.key),i.track({type:1,doc:x})}return{tu:c,iu:i,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((x,b)=>(function(E,I){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:M})}};return D(E)-D(I)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new _l(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new nN(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new tN(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Vx="SyncEngine";class L9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class U9{constructor(e){this.key=e,this.hu=!1}}class z9{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ao((h=>gA(h)),nm),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(Ne.comparator),this.Au=new Map,this.Vu=new Sx,this.du={},this.mu=new Map,this.fu=wl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B9(t,e,n=!0){const i=lN(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await sN(i,e,n,!0),a}async function F9(t,e){const n=lN(t);await sN(n,e,!0,!1)}async function sN(t,e,n,i){const a=await o9(t.localStore,hi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await H9(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&$A(t.remoteStore,a),h}async function H9(t,e,n,i,a){t.pu=(b,w,E)=>(async function(D,M,O,H){let K=M.view.ru(O);K.Ss&&(K=await oE(D.localStore,M.query,!1).then((({documents:j})=>M.view.ru(j,K))));const G=H&&H.targetChanges.get(M.targetId),ne=H&&H.targetMismatches.get(M.targetId)!=null,de=M.view.applyChanges(K,D.isPrimaryClient,G,ne);return yE(D,M.targetId,de.au),de.snapshot})(t,b,w,E);const l=await oE(t.localStore,e,!0),c=new O9(e,l.ks),h=c.ru(l.documents),m=Hu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(h,t.isPrimaryClient,m);yE(t,n,p.au);const x=new L9(e,n,c);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function q9(t,e,n){const i=Pe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!nm(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ey(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Cx(i.remoteStore,a.targetId),sy(i,a.targetId)})).catch(Il)):(sy(i,a.targetId),await ey(i.localStore,a.targetId,!0))}async function G9(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Cx(n.remoteStore,i.targetId))}async function $9(t,e,n){const i=Z9(t);try{const a=await(function(c,h){const m=Pe(c),p=pt.now(),x=h.reduce(((E,I)=>E.add(I.key)),Ye());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let I=Ji(),D=Ye();return m.xs.getEntries(E,x).next((M=>{I=M,I.forEach(((O,H)=>{H.isValidDocument()||(D=D.add(O))}))})).next((()=>m.localDocuments.getOverlayedDocuments(E,I))).next((M=>{b=M;const O=[];for(const H of h){const K=aL(H,b.get(H.key).overlayedDocument);K!=null&&O.push(new oa(H.key,K,lA(K.value.mapValue),Ps.exists(!0)))}return m.mutationQueue.addMutationBatch(E,p,O,h)})).next((M=>{w=M;const O=M.applyToLocalDocumentSet(b,D);return m.documentOverlayCache.saveOverlays(E,M.batchId,O)}))})).then((()=>({batchId:w.batchId,changes:bA(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,m){let p=c.du[c.currentUser.toKey()];p||(p=new vt(Ke)),p=p.insert(h,m),c.du[c.currentUser.toKey()]=p})(i,a.batchId,n),await Gu(i,a.changes),await cm(i.remoteStore)}catch(a){const l=Mx(a,"Failed to persist write");n.reject(l)}}async function iN(t,e){const n=Pe(t);try{const i=await i9(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Gu(n,i,e)}catch(i){await Il(i)}}function gE(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const m=Pe(c);m.onlineState=h;let p=!1;m.queries.forEach(((x,b)=>{for(const w of b.ba)w.va(h)&&(p=!0)})),p&&Px(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function K9(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new vt(Ne.comparator);c=c.insert(l,gn.newNoDocument(l,De.min()));const h=Ye().add(l),m=new am(De.min(),new Map,new vt(Ke),c,h);await iN(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),Ox(i)}else await ey(i.localStore,e,!1).then((()=>sy(i,e,n))).catch(Il)}async function Y9(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await s9(n.localStore,e);aN(n,i,null),rN(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Gu(n,a)}catch(a){await Il(a)}}async function X9(t,e,n){const i=Pe(t);try{const a=await(function(c,h){const m=Pe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let x;return m.mutationQueue.lookupMutationBatch(p,h).next((b=>(tt(b!==null,37113),x=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,x,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x))).next((()=>m.localDocuments.getDocuments(p,x)))}))})(i.localStore,e);aN(i,e,n),rN(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Gu(i,a)}catch(a){await Il(a)}}function rN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function aN(t,e,n){const i=Pe(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||oN(t,i)}))}function oN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Cx(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Ox(t))}function yE(t,e,n){for(const i of n)i instanceof tN?(t.Vu.addReference(i.key,e),Q9(t,i)):i instanceof nN?(be(Vx,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||oN(t,i.key)):Re(19791,{wu:i})}function Q9(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(be(Vx,"New document in limbo: "+n),t.Eu.add(i),Ox(t))}function Ox(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(dt.fromString(e)),i=t.fu.next();t.Au.set(i,new U9(n)),t.Ru=t.Ru.insert(n,i),$A(t.remoteStore,new Hr(hi(vx(n.path)),i,"TargetPurposeLimboResolution",Zf.ce))}}async function Gu(t,e,n){const i=Pe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{c.push(i.pu(m,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const x=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(p){a.push(p);const x=Ax.Es(m.targetId,p);l.push(x)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(m,p){const x=Pe(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ce.forEach(p,(w=>ce.forEach(w.Ts,(E=>x.persistence.referenceDelegate.addReference(b,w.targetId,E))).next((()=>ce.forEach(w.Is,(E=>x.persistence.referenceDelegate.removeReference(b,w.targetId,E)))))))))}catch(b){if(!Dl(b))throw b;be(Nx,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const E=x.vs.get(w),I=E.snapshotVersion,D=E.withLastLimboFreeSnapshotVersion(I);x.vs=x.vs.insert(w,D)}}})(i.localStore,l))}async function W9(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){be(Vx,"User change. New user:",e.toKey());const i=await FA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new ye(oe.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Gu(n,i.Ns)}}function J9(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function lN(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K9.bind(null,e),e.Pu.J_=P9.bind(null,e.eventManager),e.Pu.yu=V9.bind(null,e.eventManager),e}function Z9(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X9.bind(null,e),e}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=om(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return n9(this.persistence,new ZL,e.initialUser,this.serializer)}Cu(e){return new BA(kx.Vi,this.serializer)}Du(e){return new c9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class e8 extends If{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Rf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new LL(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new BA((i=>Rf.Vi(i,n)),this.serializer)}}class iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=W9.bind(null,this.syncEngine),await I9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new M9})()}createDatastore(e){const n=om(e.databaseInfo.databaseId),i=m9(e.databaseInfo);return b9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,h){return new w9(i,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>gE(this.syncEngine,n,0)),(function(){return uE.v()?new uE:new u9})())}createSyncEngine(e,n){return(function(a,l,c,h,m,p,x){const b=new z9(a,l,c,h,m,p);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);be(to,"RemoteStore shutting down."),i.Ea.add(5),await qu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}iy.provider={build:()=>new iy};class cN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ia="FirestoreClient";class t8{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=mx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{be(ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(be(ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Mx(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function tg(t,e){t.asyncQueue.verifyOperationInProgress(),be(ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await FA(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function xE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n8(t);be(ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>hE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>hE(e.remoteStore,a))),t._onlineComponents=e}async function n8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(ia,"Using user provided OfflineComponentProvider");try{await tg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await tg(t,new If)}}else be(ia,"Using default OfflineComponentProvider"),await tg(t,new e8(void 0));return t._offlineComponents}async function uN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(ia,"Using user provided OnlineComponentProvider"),await xE(t,t._uninitializedComponentsProvider._online)):(be(ia,"Using default OnlineComponentProvider"),await xE(t,new iy))),t._onlineComponents}function s8(t){return uN(t).then((e=>e.syncEngine))}async function ry(t){const e=await uN(t),n=e.eventManager;return n.onListen=B9.bind(null,e.syncEngine),n.onUnlisten=q9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=F9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G9.bind(null,e.syncEngine),n}function i8(t,e,n,i){const a=new cN(i),l=new eN(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>JA(await ry(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>ZA(await ry(t),l)))}}function r8(t,e,n={}){const i=new Kr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,m,p){const x=new cN({next:w=>{x.Nu(),c.enqueueAndForget((()=>ZA(l,b))),w.fromCache&&m.source==="server"?p.reject(new ye(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new eN(h,x,{includeMetadataChanges:!0,Ka:!0});return JA(l,b)})(await ry(t),t.asyncQueue,e,n,i))),i.promise}function a8(t,e){const n=new Kr;return t.asyncQueue.enqueueAndForget((async()=>$9(await s8(t),e,n))),n.promise}function dN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const o8="ComponentProvider",bE=new Map;function l8(t,e,n,i,a){return new AO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,dN(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const hN="firestore.googleapis.com",vE=!0;class wE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hN,this.ssl=vE}else this.host=e.host,this.ssl=e.ssl??vE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VL)throw new ye(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dN(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new rO;switch(i.type){case"firstParty":return new cO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=bE.get(n);i&&(be(o8,"Removing Datastore"),bE.delete(n),i.terminate())})(this),Promise.resolve()}}function c8(t,e,n,i={}){t=Ms(t,um);const a=io(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Jy(`https://${h}`),Zy("Firestore",!0)),l.host!==hN&&l.host!==h&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:i};if(!Qa(m,c)&&(t._setSettings(m),i.mockUserToken)){let p,x;if(typeof i.mockUserToken=="string")p=i.mockUserToken,x=pn.MOCK_USER;else{p=ok(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ye(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new pn(b)}t._authCredentials=new aO(new Qk(p,x))}}class tr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new tr(this.firestore,e,this._query)}}class Rt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Bu(n,Rt._jsonSchema))return new Rt(e,i||null,new Ne(dt.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:qt("string",Rt._jsonSchemaVersion),referencePath:qt("string")};class Yr extends tr{constructor(e,n,i){super(e,n,vx(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new Ne(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function Xr(t,e,...n){if(t=Qt(t),Wk("collection","path",e),t instanceof um){const i=dt.fromString(e,...n);return MT(i),new Yr(t,null,i)}{if(!(t instanceof Rt||t instanceof Yr))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return MT(i),new Yr(t.firestore,null,i)}}function du(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=mx.newId()),Wk("doc","path",e),t instanceof um){const i=dt.fromString(e,...n);return DT(i),new Rt(t,null,new Ne(i))}{if(!(t instanceof Rt||t instanceof Yr))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return DT(i),new Rt(t.firestore,t instanceof Yr?t.converter:null,new Ne(i))}}const _E="AsyncQueue";class TE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qA(this,"async_queue_retry"),this._c=()=>{const i=eg();i&&be(_E,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=eg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Dl(e))throw e;be(_E,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",EE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Dx.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:EE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function EE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class no extends um{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new TE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function u8(t,e){const n=typeof t=="object"?t:nx(),i=typeof t=="string"?t:Ef,a=Yf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=ik("firestore");l&&c8(a,...l)}return a}function Lx(t){if(t._terminated)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d8(t),t._firestoreClient}function d8(t){const e=t._freezeSettings(),n=l8(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new t8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new us(hn.fromBase64String(e))}catch(n){throw new ye(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new us(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bu(e,us._jsonSchema))return us.fromBase64String(e.bytes)}}us._jsonSchemaVersion="firestore/bytes/1.0",us._jsonSchema={type:qt("string",us._jsonSchemaVersion),bytes:qt("string")};class Ux{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dm{constructor(e){this._methodName=e}}class mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mi._jsonSchemaVersion}}static fromJSON(e){if(Bu(e,mi._jsonSchema))return new mi(e.latitude,e.longitude)}}mi._jsonSchemaVersion="firestore/geoPoint/1.0",mi._jsonSchema={type:qt("string",mi._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class Vs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bu(e,Vs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vs(e.vectorValues);throw new ye(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vs._jsonSchemaVersion="firestore/vectorValue/1.0",Vs._jsonSchema={type:qt("string",Vs._jsonSchemaVersion),vectorValues:qt("object")};const h8=/^__.*__$/;class f8{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class fN{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new oa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:t})}}class zx{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new zx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Df(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(mN(this.dataSource)&&h8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class m8{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||om(e)}createContext(e,n,i,a=!1){return new zx({dataSource:e,methodName:n,targetDoc:i,path:dn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(t){const e=t._freezeSettings(),n=om(t._databaseId);return new m8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pN(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Fx("Data must be an object, but it was:",c,i);const h=gN(i,c);let m,p;if(l.merge)m=new $n(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const x=[];for(const b of l.mergeFields){const w=so(e,b,n);if(!c.contains(w))throw new ye(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);bN(x,w)||x.push(w)}m=new $n(x),p=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=c.fieldTransforms;return new f8(new In(h),m,p)}class fm extends dm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fm}}class Bx extends dm{_toFieldTransform(e){return new nL(e.path,new ku)}isEqual(e){return e instanceof Bx}}function p8(t,e,n,i){const a=t.createContext(1,e,n);Fx("Data must be an object, but it was:",a,i);const l=[],c=In.empty();aa(i,((m,p)=>{const x=xN(e,m,n);p=Qt(p);const b=a.childContextForFieldPath(x);if(p instanceof fm)l.push(x);else{const w=$u(p,b);w!=null&&(l.push(x),c.set(x,w))}}));const h=new $n(l);return new fN(c,h,a.fieldTransforms)}function g8(t,e,n,i,a,l){const c=t.createContext(1,e,n),h=[so(e,i,n)],m=[a];if(l.length%2!=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(so(e,l[w])),m.push(l[w+1]);const p=[],x=In.empty();for(let w=h.length-1;w>=0;--w)if(!bN(p,h[w])){const E=h[w];let I=m[w];I=Qt(I);const D=c.childContextForFieldPath(E);if(I instanceof fm)p.push(E);else{const M=$u(I,D);M!=null&&(p.push(E),x.set(E,M))}}const b=new $n(p);return new fN(x,b,c.fieldTransforms)}function y8(t,e,n,i=!1){return $u(n,t.createContext(i?4:3,e))}function $u(t,e){if(yN(t=Qt(t)))return Fx("Unsupported field value:",e,t),gN(t,e);if(t instanceof dm)return(function(i,a){if(!mN(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const h of i){let m=$u(h,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Qt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=pt.fromDate(i);return{timestampValue:Cf(a.serializer,l)}}if(i instanceof pt){const l=new pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cf(a.serializer,l)}}if(i instanceof mi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof us)return{bytesValue:IA(a.serializer,i._byteString)};if(i instanceof Rt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ex(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Vs)return(function(c,h){const m=c instanceof Vs?c.toArray():c;return{mapValue:{fields:{[aA]:{stringValue:oA},[Sf]:{arrayValue:{values:m.map((x=>{if(typeof x!="number")throw h.createError("VectorValues must only contain numeric values.");return wx(h.serializer,x)}))}}}}}})(i,a);if(UA(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Jf(i)}`)})(t,e)}function gN(t,e){const n={};return eA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(t,((i,a)=>{const l=$u(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function yN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof mi||t instanceof us||t instanceof Rt||t instanceof dm||t instanceof Vs||UA(t))}function Fx(t,e,n){if(!yN(n)||!Jk(n)){const i=Jf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function so(t,e,n){if((e=Qt(e))instanceof Ux)return e._internalPath;if(typeof e=="string")return xN(t,e);throw Df("Field path arguments must be of type string or ",t,!1,void 0,n)}const x8=new RegExp("[~\\*/\\[\\]]");function xN(t,e,n){if(e.search(x8)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ux(...e.split("."))._internalPath}catch{throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Df(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ye(oe.INVALID_ARGUMENT,h+t+m)}function bN(t,e){return t.some((n=>n.isEqual(e)))}class b8{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return aa(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Sf].arrayValue?.values?.map((i=>Ct(i.doubleValue)));return new Vs(n)}convertGeoPoint(e){return new mi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=tm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=ea(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=dt.fromString(e);tt(LA(i),9688,{name:e});const a=new Tu(i.get(1),i.get(3)),l=new Ne(i.popFirst(5));return a.isEqual(n)||Wi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Hx extends b8{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function v8(){return new Bx("serverTimestamp")}const SE="@firebase/firestore",kE="4.11.0";function AE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class vN{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(so("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w8 extends vN{data(){return super.data()}}function wN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qx{}class Gx extends qx{}function Ku(t,e,...n){let i=[];e instanceof qx&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((m=>m instanceof $x)).length,h=l.filter((m=>m instanceof mm)).length;if(c>1||c>0&&h>0)throw new ye(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class mm extends Gx{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new mm(e,n,i)}_apply(e){const n=this._parse(e);return _N(e._query,n),new tr(e.firestore,e.converter,Xg(e._query,n))}_parse(e){const n=hm(e.firestore);return(function(l,c,h,m,p,x,b){let w;if(p.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){CE(b,x);const I=[];for(const D of b)I.push(NE(m,l,D));w={arrayValue:{values:I}}}else w=NE(m,l,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||CE(b,x),w=y8(h,c,b,x==="in"||x==="not-in");return Ht.create(p,x,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _8(t,e,n){const i=e,a=so("where",t);return mm._create(a,i,n)}class $x extends qx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $x(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ls.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const m of h)_N(c,m),c=Xg(c,m)})(e._query,n),new tr(e.firestore,e.converter,Xg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kx extends Gx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kx(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Su(l,c)})(e._query,this._field,this._direction);return new tr(e.firestore,e.converter,GO(e._query,n))}}function pm(t,e="asc"){const n=e,i=so("orderBy",t);return Kx._create(i,n)}class Yx extends Gx{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Yx(e,n,i)}_apply(e){return new tr(e.firestore,e.converter,Af(e._query,this._limit,this._limitType))}}function gm(t){return gO("limit",t),Yx._create("limit",t,"F")}function NE(t,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new ye(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pA(e)&&n.indexOf("/")!==-1)throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(dt.fromString(n));if(!Ne.isDocumentKey(i))throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return FT(t,new Ne(i))}if(n instanceof Rt)return FT(t,n._key);throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(n)}.`)}function CE(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _N(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function TN(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ya extends vN{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(so("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ya._jsonSchema={type:qt("string",Ya._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class rf extends Ya{data(e={}){return super.data(e)}}class Xa{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Jc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new rf(this._firestore,this._userDataWriter,i.key,i,new Jc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const m=new rf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Jc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new rf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Jc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,x=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),x=c.indexOf(h.doc.key)),{type:T8(h.type),doc:m,oldIndex:p,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function T8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:qt("string",Xa._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};function EN(t){t=Ms(t,tr);const e=Ms(t.firestore,no),n=Lx(e),i=new Hx(e);return wN(t._query),r8(n,t._query).then((a=>new Xa(e,i,t,a)))}function E8(t,e,n){t=Ms(t,Rt);const i=Ms(t.firestore,no),a=TN(t.converter,e),l=hm(i);return Xx(i,[pN(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ps.none())])}function SN(t,e,n,...i){t=Ms(t,Rt);const a=Ms(t.firestore,no),l=hm(a);let c;return c=typeof(e=Qt(e))=="string"||e instanceof Ux?g8(l,"updateDoc",t._key,e,n,i):p8(l,"updateDoc",t._key,e),Xx(a,[c.toMutation(t._key,Ps.exists(!0))])}function ay(t,e){const n=Ms(t.firestore,no),i=du(t),a=TN(t.converter,e),l=hm(t.firestore);return Xx(n,[pN(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Ps.exists(!1))]).then((()=>i))}function ym(t,...e){t=Qt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||AE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(AE(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,c,h;if(t instanceof Rt)c=Ms(t.firestore,no),h=vx(t._key.path),l={next:p=>{e[i]&&e[i](S8(c,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Ms(t,tr);c=Ms(p.firestore,no),h=p._query;const x=new Hx(c);l={next:b=>{e[i]&&e[i](new Xa(c,x,p,b))},error:e[i+1],complete:e[i+2]},wN(t._query)}const m=Lx(c);return i8(m,h,a,l)}function Xx(t,e){const n=Lx(t);return a8(n,e)}function S8(t,e,n){const i=n.docs.get(e._key),a=new Hx(t);return new Ya(t,a,e._key,i,new Jc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){iO(ro),Wa(new Jr("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new no(new oO(i.getProvider("auth-internal")),new uO(c,i.getProvider("app-check-internal")),NO(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ui(SE,kE,e),ui(SE,kE,"esm2020")})();const kN="firebasestorage.googleapis.com",k8="storageBucket",A8=120*1e3,N8=600*1e3;class vi extends bi{constructor(e,n,i=0){super(ng(e),`Firebase Storage: ${n} (${ng(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ng(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xi||(xi={}));function ng(t){return"storage/"+t}function C8(){const t="An unknown error occurred, please check the error payload for server response.";return new vi(xi.UNKNOWN,t)}function R8(){return new vi(xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function j8(){return new vi(xi.CANCELED,"User canceled the upload/download.")}function I8(t){return new vi(xi.INVALID_URL,"Invalid URL '"+t+"'.")}function D8(t){return new vi(xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function RE(t){return new vi(xi.INVALID_ARGUMENT,t)}function AN(){return new vi(xi.APP_DELETED,"The Firebase app was deleted.")}function M8(t){return new vi(xi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class js{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=js.makeFromUrl(e,n)}catch{return new js(e,"")}if(i.path==="")return i;throw D8(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(G){G.path_=decodeURIComponent(G.path)}const x="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",E=new RegExp(`^https?://${b}/${x}/b/${a}/o${w}`,"i"),I={bucket:1,path:3},D=n===kN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",O=new RegExp(`^https?://${D}/${a}/${M}`,"i"),K=[{regex:h,indices:m,postModify:l},{regex:E,indices:I,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let G=0;G<K.length;G++){const ne=K[G],de=ne.regex.exec(e);if(de){const j=de[ne.indices.bucket];let S=de[ne.indices.path];S||(S=""),i=new js(j,S),ne.postModify(i);break}}if(i==null)throw I8(e);return i}}class P8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function V8(t,e,n){let i=1,a=null,l=null,c=!1,h=0;function m(){return h===2}let p=!1;function x(...M){p||(p=!0,e.apply(null,M))}function b(M){a=setTimeout(()=>{a=null,t(E,m())},M)}function w(){l&&clearTimeout(l)}function E(M,...O){if(p){w();return}if(M){w(),x.call(null,M,...O);return}if(m()||c){w(),x.call(null,M,...O);return}i<64&&(i*=2);let K;h===1?(h=2,K=0):K=(i+Math.random())*1e3,b(K)}let I=!1;function D(M){I||(I=!0,w(),!p&&(a!==null?(M||(h=2),clearTimeout(a),b(0)):M||(h=1)))}return b(0),l=setTimeout(()=>{c=!0,D(!0)},n),D}function O8(t){t(!1)}function L8(t){return t!==void 0}function jE(t,e,n,i){if(i<e)throw RE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw RE(`Invalid value for '${t}'. Expected ${n} or less.`)}function U8(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Mf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Mf||(Mf={}));function z8(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class B8{constructor(e,n,i,a,l,c,h,m,p,x,b,w=!0,E=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=x,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,D)=>{this.resolve_=I,this.reject_=D,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Vh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const m=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Mf.NO_ERROR,m=l.getStatus();if(!h||z8(m,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===Mf.ABORT;i(!1,new Vh(!1,null,x));return}const p=this.successCodes_.indexOf(m)!==-1;i(!0,new Vh(p,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());L8(m)?l(m):l()}catch(m){c(m)}else if(h!==null){const m=C8();m.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,m)):c(m)}else if(a.canceled){const m=this.appDelete_?AN():j8();c(m)}else{const m=R8();c(m)}};this.canceled_?n(!1,new Vh(!1,null,!0)):this.backoffId_=V8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&O8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function F8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function H8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function q8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function G8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $8(t,e,n,i,a,l,c=!0,h=!1){const m=U8(t.urlParams),p=t.url+m,x=Object.assign({},t.headers);return q8(x,e),F8(x,n),H8(x,l),G8(x,i),new B8(p,t.method,x,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function K8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Y8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Pf{constructor(e,n){this._service=e,n instanceof js?this._location=n:this._location=js.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pf(e,n)}get root(){const e=new js(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Y8(this._location.path)}get storage(){return this._service}get parent(){const e=K8(this._location.path);if(e===null)return null;const n=new js(this._location.bucket,e);return new Pf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw M8(e)}}function IE(t,e){const n=e?.[k8];return n==null?null:js.makeFromBucketSpec(n,t)}function X8(t,e,n,i={}){t.host=`${e}:${n}`;const a=io(e);a&&(Jy(`https://${t.host}/b`),Zy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:ok(l,t.app.options.projectId))}class Q8{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=kN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=A8,this._maxUploadRetryTime=N8,this._requests=new Set,a!=null?this._bucket=js.makeFromBucketSpec(a,this._host):this._bucket=IE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=js.makeFromBucketSpec(this._url,e):this._bucket=IE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pf(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new P8(AN());{const c=$8(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const DE="@firebase/storage",ME="0.14.0";const NN="storage";function W8(t=nx(),e){t=Qt(t);const i=Yf(t,NN).getImmediate({identifier:e}),a=ik("storage");return a&&J8(i,...a),i}function J8(t,e,n,i={}){X8(t,e,n,i)}function Z8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Q8(n,i,a,e,ro)}function e7(){Wa(new Jr(NN,Z8,"PUBLIC").setMultipleInstances(!0)),ui(DE,ME,""),ui(DE,ME,"esm2020")}e7();const t7={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},Qx=uk(t7),sg=eO(Qx),n7=new Fi,hs=u8(Qx);W8(Qx);const CN=A.createContext(void 0);function s7({children:t}){const[e,n]=A.useState(null),[i,a]=A.useState(!0);A.useEffect(()=>{const h=FP(sg,m=>{n(m),a(!1)});return()=>h()},[]);const l=async()=>{try{await cV(sg,n7)}catch(h){console.error("Error signing in with Google",h)}},c=async()=>{try{await HP(sg)}catch(h){console.error("Error signing out",h)}};return d.jsx(CN.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:c},children:!i&&t})}function nr(){const t=A.useContext(CN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const RN=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const i7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const r7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const PE=t=>{const e=r7(t);return e.charAt(0).toUpperCase()+e.slice(1)};var a7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const l7=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},m)=>A.createElement("svg",{ref:m,...a7,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:RN("lucide",a),...!l&&!o7(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,x])=>A.createElement(p,x)),...Array.isArray(l)?l:[l]]));const xe=(t,e)=>{const n=A.forwardRef(({className:i,...a},l)=>A.createElement(l7,{ref:l,iconNode:e,className:RN(`lucide-${i7(PE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=PE(t),n};const c7=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],u7=xe("arrow-down-right",c7);const d7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],h7=xe("arrow-left",d7);const f7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jN=xe("arrow-right",f7);const m7=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],p7=xe("arrow-up-right",m7);const g7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],IN=xe("award",g7);const y7=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],x7=xe("bell-off",y7);const b7=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],v7=xe("bell",b7);const w7=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],DN=xe("book-marked",w7);const _7=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Dn=xe("book-open",_7);const T7=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],E7=xe("book",T7);const S7=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],k7=xe("bug",S7);const A7=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Zc=xe("calendar-clock",A7);const N7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],oy=xe("calendar",N7);const C7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],R7=xe("chart-column",C7);const j7=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],I7=xe("chart-pie",j7);const D7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MN=xe("check",D7);const M7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],P7=xe("chevron-down",M7);const V7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wx=xe("chevron-left",V7);const O7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jx=xe("chevron-right",O7);const L7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zx=xe("circle-alert",L7);const U7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],la=xe("circle-check",U7);const z7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ly=xe("circle-user",z7);const B7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F7=xe("circle",B7);const H7=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vf=xe("clock",H7);const q7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],G7=xe("copy",q7);const $7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eb=xe("download",$7);const K7=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Y7=xe("ellipsis-vertical",K7);const X7=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Q7=xe("flame",X7);const W7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],J7=xe("funnel",W7);const Z7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eU=xe("globe",Z7);const tU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],PN=xe("graduation-cap",tU);const nU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],sU=xe("hash",nU);const iU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rU=xe("info",iU);const aU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],VE=xe("layout-dashboard",aU);const oU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lU=xe("loader-circle",oU);const cU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Of=xe("log-out",cU);const uU=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],ig=xe("medal",uU);const dU=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],VN=xe("message-circle",dU);const hU=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],fU=xe("monitor",hU);const mU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Lf=xe("moon",mU);const pU=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],gU=xe("pause",pU);const yU=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],ON=xe("pen-tool",yU);const xU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bU=xe("pen",xU);const vU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Yu=xe("pencil",vU);const wU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_U=xe("play",wU);const TU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$i=xe("plus",TU);const EU=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],SU=xe("quote",EU);const kU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],AU=xe("refresh-cw",kU);const NU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],LN=xe("rotate-ccw",NU);const CU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uf=xe("save",CU);const RU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],OE=xe("search",RU);const jU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],IU=xe("send",jU);const DU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LE=xe("settings",DU);const MU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eu=xe("shield-check",MU);const PU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],VU=xe("shield",PU);const OU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],UE=xe("square-pen",OU);const LU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],cy=xe("sun",LU);const UU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zU=xe("target",UU);const BU=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],zE=xe("timer",BU);const FU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xu=xe("trash-2",FU);const HU=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ml=xe("trending-up",HU);const qU=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],GU=xe("triangle-alert",qU);const $U=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zi=xe("trophy",$U);const KU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],YU=xe("upload",KU);const XU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],QU=xe("user-minus",XU);const WU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],JU=xe("user-plus",WU);const ZU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pl=xe("users",ZU);const ez=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],UN=xe("volume-2",ez);const tz=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],zN=xe("volume-x",tz);const nz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Us=xe("x",nz);const sz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Cu=xe("zap",sz),BN=A.createContext(void 0);function xm(){const t=A.useContext(BN);if(!t)throw new Error("useToast must be used within a ToastProvider");return t.toast}function iz({children:t}){const[e,n]=A.useState([]),i=A.useCallback((c,h)=>{const m=Math.random().toString(36).substring(2,9);n(p=>[...p,{id:m,message:c,type:h}]),setTimeout(()=>{n(p=>p.filter(x=>x.id!==m))},3e3)},[]),a=A.useCallback(c=>{n(h=>h.filter(m=>m.id!==c))},[]),l={success:c=>i(c,"success"),error:c=>i(c,"error"),info:c=>i(c,"info"),warning:c=>i(c,"warning")};return d.jsxs(BN.Provider,{value:{toast:l,removeToast:a},children:[t,k5.createPortal(d.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:d.jsx(Yn,{children:e.map(c=>d.jsx(rz,{toast:c,onRemove:a},c.id))})}),document.body)]})}function rz({toast:t,onRemove:e}){const n={success:d.jsx(la,{className:"w-5 h-5 text-emerald-500"}),error:d.jsx(Zx,{className:"w-5 h-5 text-red-500"}),info:d.jsx(rU,{className:"w-5 h-5 text-blue-500"}),warning:d.jsx(GU,{className:"w-5 h-5 text-amber-500"})},i={success:"bg-white dark:bg-slate-800 border-emerald-100 dark:border-emerald-900/30",error:"bg-white dark:bg-slate-800 border-red-100 dark:border-red-900/30",info:"bg-white dark:bg-slate-800 border-blue-100 dark:border-blue-900/30",warning:"bg-white dark:bg-slate-800 border-amber-100 dark:border-amber-900/30"};return d.jsxs(ge.div,{layout:!0,initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.2}},className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border ${i[t.type]} min-w-[300px] max-w-sm backdrop-blur-sm`,children:[d.jsx("div",{className:"shrink-0",children:n[t.type]}),d.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex-1",children:t.message}),d.jsx("button",{onClick:()=>e(t.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 dark:text-slate-500 transition-colors",children:d.jsx(Us,{className:"w-4 h-4"})})]})}const hu=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:""},{name:"    "},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "},{name:"-"},{name:"  "},{name:""},{name:""},{name:"  "},{name:"   "},{name:" "}]},{name:"",topics:[{name:""}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"bg-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"bg-teal-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"bg-violet-500",chapters:[{name:"",topics:[{name:" "},{name:"  "},{name:"   "},{name:"   "},{name:""},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:" "},{name:" "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:" "},{name:" "},{name:""},{name:"   "}]},{name:"   ",topics:[{name:"- "},{name:" "},{name:" "},{name:" "}]},{name:" ",topics:[{name:" "},{name:" "},{name:"    "},{name:""}]},{name:" ",topics:[{name:""},{name:"   "},{name:"   "},{name:" "}]},{name:" ",topics:[{name:" "},{name:""},{name:""},{name:""}]},{name:"  ",topics:[{name:"  "},{name:"- "},{name:" "},{name:"- "},{name:"-"}]},{name:" ",topics:[{name:"   "},{name:" "},{name:""},{name:"   "},{name:"   "}]},{name:"  ",topics:[{name:" "},{name:"- "},{name:""},{name:" "},{name:""}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:"  ",topics:[{name:"  "},{name:"  "},{name:"   "},{name:" "},{name:" "}]},{name:" ",topics:[{name:"  (  )"},{name:" "},{name:",    "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:" "},{name:""}]},{name:"  ",topics:[{name:"  (s, p, d, f )"},{name:"  ( ,  )"},{name:" "},{name:" "},{name:" (Hybridization)"},{name:"VSEPR    "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"- "},{name:"   Kc, Kp"},{name:"- "},{name:"pH   "},{name:"    "}]},{name:" ",topics:[{name:"   "},{name:"  (, )"},{name:"  "},{name:"   "}]}]},{name:"  ",icon:"Beaker",color:"bg-rose-500",chapters:[{name:" ",topics:[{name:"  (, )"},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"    "},{name:"    (BOD, COD)"}]},{name:" ",topics:[{name:"     "},{name:""},{name:" (IUPAC)"},{name:" (, , )"},{name:"   "},{name:" "},{name:"  "},{name:"  "},{name:"    "},{name:""},{name:"  "}]},{name:" ",topics:[{name:"    "},{name:"  (, )"},{name:"- "},{name:"- "},{name:""},{name:"- "}]},{name:" ",topics:[{name:"   "},{name:" "},{name:"  "},{name:"    "},{name:"   "},{name:"pH "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:"   "},{name:"   "},{name:"   "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"  ",topics:[{name:" "},{name:" ,   "},{name:"   "},{name:" "},{name:" "}]},{name:"",topics:[{name:" "},{name:"   "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:"   "},{name:"  "},{name:"   "}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "}]},{name:"  ",topics:[{name:"    "},{name:""},{name:""},{name:"   "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:""}]},{name:"   ",topics:[{name:"  -"},{name:"-   "},{name:" "},{name:" "}]},{name:"",topics:[{name:"  "},{name:""},{name:"  "},{name:" "},{name:"  "}]},{name:"",topics:[{name:" "},{name:" "},{name:" "},{name:" "},{name:" "}]}]},{name:"   ",icon:"Calculator",color:"bg-blue-500",chapters:[{name:"   ",topics:[{name:"  "},{name:"  "},{name:" "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"  "}]},{name:" ",topics:[{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"   ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"  "}]},{name:" ",topics:[{name:" "},{name:"  "},{name:""},{name:"  "}]},{name:"",topics:[{name:" (Parabola)"},{name:" (Ellipse)"},{name:" (Hyperbola)"},{name:" "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:"  "}]},{name:"",topics:[{name:"   "},{name:" "},{name:" "},{name:"    "}]},{name:"",topics:[{name:" "},{name:""},{name:" "},{name:" "}]},{name:"   ",topics:[{name:", , "},{name:"   "},{name:" "},{name:"   "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:"    "},{name:"  "},{name:"  "},{name:""},{name:""},{name:"DNA  RNA  "},{name:"DNA "},{name:"  "}]},{name:" ",topics:[{name:"  "},{name:" "},{name:"   "},{name:" "}]},{name:"",topics:[{name:"   "},{name:""},{name:"   "},{name:" "}]},{name:"  ",topics:[{name:" (Riccia)"},{name:" (Pteris)"}]},{name:"  ",topics:[{name:" (Cycas)"},{name:" (Poaceae) "},{name:" (Malvaceae) "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "},{name:"   /"}]},{name:" ",topics:[{name:"  "},{name:""},{name:" (   )"},{name:"C3  C4 "},{name:" (  )"},{name:"   "}]},{name:" ",topics:[{name:" "},{name:"   "},{name:""}]},{name:"",topics:[{name:"  "},{name:" DNA "},{name:" "},{name:" "}]}]},{name:"  ",icon:"Dna",color:"bg-green-500",chapters:[{name:"   ",topics:[{name:" "},{name:"-  (Major Phyla)"},{name:"   "}]},{name:" ",topics:[{name:" (, , )"},{name:" (, ,  )"},{name:"  (,  , )"}]},{name:"  ",topics:[{name:"   "},{name:"   (, , )"},{name:"   "},{name:""}]},{name:"  ",topics:[{name:"   "},{name:" "},{name:"   "},{name:" "},{name:"  "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:" "}]},{name:"  ",topics:[{name:" "},{name:" "},{name:"  "},{name:"   "}]},{name:"  ",topics:[{name:"   "},{name:"  "},{name:" "},{name:""}]}]},{name:"   ",icon:"Cpu",color:"bg-indigo-500",chapters:[{name:"  -    ",topics:[{name:" "},{name:" "},{name:""},{name:""},{name:" "},{name:""},{name:""},{name:" "},{name:""}]},{name:"  -  ",topics:[{name:"    "},{name:""},{name:"  ( )"},{name:"  (Bluetooth, WiFi, WiMax)"},{name:" "},{name:"   "},{name:" "}]},{name:"  -     ",topics:[{name:"  "},{name:"  "},{name:" (BCD, ASCII)"},{name:" "},{name:"  (  )"},{name:"  "},{name:" (  )"},{name:"  "}]},{name:"  -   ",topics:[{name:" "},{name:"HTML  "},{name:"   "},{name:"  "},{name:" "},{name:" "}]},{name:"  -   (C)",topics:[{name:"  "},{name:"  "},{name:"   "},{name:"  "},{name:"  (if-else)"},{name:" (for, while)"},{name:""},{name:""}]}]}]}],rg=[{level:1,minXP:0,title:"Novice"},{level:2,minXP:500,title:"Apprentice"},{level:3,minXP:1200,title:"Scholar"},{level:4,minXP:2500,title:"Sage"},{level:5,minXP:5e3,title:"Master"},{level:6,minXP:1e4,title:"Grandmaster"},{level:7,minXP:2e4,title:"Legend"}],uy=t=>{const e=[...rg].reverse().find(i=>t>=i.minXP)||rg[0],n=rg.find(i=>i.level===e.level+1);return{currentLevel:e.level,currentTitle:e.title,nextLevelXP:n?n.minXP:null,progress:n?(t-e.minXP)/(n.minXP-e.minXP)*100:100}},BE={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0,xp:0,level:1,role:"student",scheduledSessions:[]},ag="study-tracker-data",az=()=>{const t=hu[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},FN=A.createContext(void 0);function oz({children:t}){const{user:e}=nr(),n=xm(),[i,a]=A.useState(()=>{try{const C=localStorage.getItem(ag);if(C){const F=JSON.parse(C);if(F.userProfile)return F.userProfile}}catch(C){console.error("Failed to load profile:",C)}return BE}),[l,c]=A.useState(()=>{try{const C=localStorage.getItem(ag);if(C){const F=JSON.parse(C);if(F.subjects&&F.subjects.length>0)return F.subjects.map(B=>({...B,chapters:(B.chapters||[]).map(se=>({...se,topics:se.topics||[]}))}))}}catch(C){console.error("Failed to load subjects:",C)}return az()}),h=A.useCallback(async(C,F)=>{if(e)try{await E8(du(hs,"users",e.uid),{userProfile:C,subjects:F})}catch(B){console.error("Cloud save failed:",B)}else localStorage.setItem(ag,JSON.stringify({userProfile:C,subjects:F}))},[e]),m=A.useRef(!0);A.useEffect(()=>{if(m.current){m.current=!1;return}const C=l.reduce((se,ae)=>se+ae.chapters.length,0);let F=0;l.forEach(se=>{se.chapters.forEach(ae=>{ae.topics?.length>0?ae.topics.every(P=>P.isCompleted)&&F++:ae.isCompleted&&F++})});const B=C===0?0:Math.round(F/C*100);i.syllabusCompletionPercentage!==B&&a(se=>({...se,syllabusCompletionPercentage:B})),h({...i,syllabusCompletionPercentage:B},l)},[l,i,h]),A.useEffect(()=>{if(!e)return;const F=e.email==="channel.data.transfer@gmail.com",B=ym(du(hs,"users",e.uid),se=>{if(se.exists()){const ae=se.data();let P=ae.userProfile;F?P.role!=="admin"&&(P={...P,role:"admin"}):P.role==="admin"&&(P={...P,role:"student"},SN(du(hs,"users",e.uid),{"userProfile.role":"student"}).catch(J=>console.error("Failed to revoke role:",J))),ae.userProfile&&a(P),ae.subjects&&c(ae.subjects)}else F&&a(ae=>({...ae,role:"admin"}))});return()=>B()},[e]),A.useEffect(()=>{const C=hu[0];if(!C)return;let F=!1;const B=[...l];C.subjects.forEach(se=>{B.some(P=>P.name===se.name)||(B.push({id:crypto.randomUUID(),name:se.name,color:se.color,icon:se.icon,chapters:se.chapters.map(P=>({id:crypto.randomUUID(),name:P.name,isCompleted:!1,completedAt:null,topics:P.topics.map(J=>({id:crypto.randomUUID(),name:J.name,isCompleted:!1,completedAt:null}))}))}),F=!0)}),F&&c(B)},[l]);const p=A.useCallback(C=>{a(F=>({...F,...C}))},[]),x=A.useCallback((C,F)=>{a(B=>{const se=B.xp+C,{currentLevel:ae}=uy(B.xp),{currentLevel:P,currentTitle:J}=uy(se);return P>ae&&n.success(` Level Up! You are now a ${J}!`),{...B,xp:se,level:P}})},[n]),b=C=>{c(F=>[...F,{...C,id:crypto.randomUUID(),chapters:[]}])},w=(C,F)=>{c(B=>B.map(se=>se.id===C?{...se,...F}:se))},E=C=>{c(F=>F.filter(B=>B.id!==C))},I=(C,F)=>{c(B=>B.map(se=>se.id===C?{...se,chapters:[...se.chapters,{id:crypto.randomUUID(),name:F,isCompleted:!1,topics:[]}]}:se))},D=(C,F,B)=>{c(se=>se.map(ae=>ae.id===C?{...ae,chapters:ae.chapters.map(P=>P.id===F?{...P,name:B}:P)}:ae))},M=(C,F)=>{c(B=>B.map(se=>se.id===C?{...se,chapters:se.chapters.map(ae=>ae.id===F?{...ae,isCompleted:!ae.isCompleted,completedAt:ae.isCompleted?null:new Date().toISOString()}:ae)}:se))},O=(C,F)=>{c(B=>B.map(se=>se.id===C?{...se,chapters:se.chapters.filter(ae=>ae.id!==F)}:se))},H=(C,F,B)=>{c(se=>se.map(ae=>ae.id===C?{...ae,chapters:ae.chapters.map(P=>P.id===F?{...P,topics:[...P.topics,{id:crypto.randomUUID(),name:B,isCompleted:!1,completedAt:null}]}:P)}:ae))},K=(C,F,B,se)=>{c(ae=>ae.map(P=>P.id===C?{...P,chapters:P.chapters.map(J=>J.id===F?{...J,topics:J.topics.map(ue=>ue.id===B?{...ue,name:se}:ue)}:J)}:P))},G=(C,F,B)=>{let se=0;c(ae=>ae.map(P=>P.id===C?{...P,chapters:P.chapters.map(J=>{if(J.id===F){const ue=J.topics.map(pe=>pe.id===B?(pe.isCompleted||(se=50),{...pe,isCompleted:!pe.isCompleted,completedAt:pe.isCompleted?null:new Date().toISOString()}):pe),he=ue.length>0&&ue.every(pe=>pe.isCompleted);return{...J,topics:ue,isCompleted:he,completedAt:he?new Date().toISOString():null}}return J})}:P)),se>0&&(x(se,"Topic Completed"),n.success("+50 XP: Topic Completed!"))},ne=(C,F,B)=>{c(se=>se.map(ae=>ae.id===C?{...ae,chapters:ae.chapters.map(P=>P.id===F?{...P,topics:P.topics.filter(J=>J.id!==B)}:P)}:ae))},de=()=>{const C={userProfile:i,subjects:l,timestamp:new Date().toISOString()},F=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),B=URL.createObjectURL(F),se=document.createElement("a");se.href=B,se.download="study-tracker-backup.json",se.click(),URL.revokeObjectURL(B)},j=C=>{try{const F=JSON.parse(C);if(F.userProfile&&Array.isArray(F.subjects))return a(F.userProfile),c(F.subjects),!0}catch(F){console.error("Import failed:",F)}return!1},S=C=>{const F=C.map(B=>({id:crypto.randomUUID(),name:B.name,color:B.color,icon:B.icon,chapters:B.chapters.map(se=>({id:crypto.randomUUID(),name:se.name,isCompleted:!1,completedAt:null,topics:se.topics.map(ae=>({id:crypto.randomUUID(),name:ae.name,isCompleted:!1,completedAt:null}))}))}));c(B=>[...B,...F])},R=()=>{window.confirm("Reset all progress?")&&(a(BE),c([]))},z=async(C,F,B)=>{const se=new Date,ae=se.toISOString().split("T")[0];if(a(J=>{const ue=J.totalStudyTime+C;let he=J.currentStreak||0,pe=J.todayStudyTime||0;if(J.lastStudyDate!==ae){const ke=new Date;ke.setDate(ke.getDate()-1),J.lastStudyDate===ke.toISOString().split("T")[0]?he+=1:he=1,pe=C}else pe+=C;return{...J,totalStudyTime:ue,todayStudyTime:pe,currentStreak:he,lastStudyDate:ae,weeklyStudyTime:(J.weeklyStudyTime||0)+C,monthlyStudyTime:(J.monthlyStudyTime||0)+C}}),e)try{await ay(Xr(hs,"study_sessions"),{userId:e.uid,userName:e.displayName||i.name,durationInSeconds:C,subjectId:F||null,sessionGoal:B||null,createdAt:se.toISOString()})}catch(J){console.error("Session log failed:",J)}const P=Math.floor(C/300)*10;P>0&&(x(P,"Study Session"),n.success(`+${P} XP earned!`))},U=C=>{const F={...C,id:crypto.randomUUID(),isCompleted:!1};p({scheduledSessions:[...i.scheduledSessions||[],F]}),n.success("Study session scheduled!")},$=C=>{const F=(i.scheduledSessions||[]).map(B=>B.id===C?{...B,isCompleted:!B.isCompleted}:B);p({scheduledSessions:F})},V=C=>{const F=(i.scheduledSessions||[]).filter(B=>B.id!==C);p({scheduledSessions:F})},ze=A.useCallback(()=>{const C=new Date;C.setHours(0,0,0,0);const F=[],B=[...i.scheduledSessions||[]];l.forEach(se=>{if(!se.examDate)return;const ae=new Date(se.examDate);if(ae.setHours(0,0,0,0),ae<=C)return;const P=[];if(se.chapters.forEach(ke=>{ke.topics.forEach(Ee=>{Ee.isCompleted||P.push({chapterId:ke.id,topicId:Ee.id})})}),P.length===0)return;const J=ae.getTime()-C.getTime(),ue=Math.floor(J/(1e3*60*60*24));if(ue<=0)return;const he=Math.ceil(P.length/ue);let pe=0;for(let ke=1;ke<=ue&&pe<P.length;ke++){const Ee=new Date(C);Ee.setDate(C.getDate()+ke);const me=Ee.toISOString().split("T")[0];if(!B.some(rt=>rt.date===me&&rt.subjectId===se.id))for(let rt=0;rt<he&&pe<P.length;rt++){const jt=P[pe];F.push({id:crypto.randomUUID(),subjectId:se.id,chapterId:jt.chapterId,topicId:jt.topicId,date:me,time:"18:00",durationMinutes:45,isCompleted:!1}),pe++}}}),F.length>0?(p({scheduledSessions:[...B,...F]}),n.success(`AI Path Generated: ${F.length} sessions added!`)):n.info("No new topics could be scheduled. Ensure your subjects have future exam dates.")},[l,i.scheduledSessions,p,n]);A.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const C=setInterval(()=>{const F=new Date;a(B=>{const se=(B.scheduledSessions||[]).map(ae=>{if(ae.isCompleted||ae.reminderSent||!ae.time)return ae;const J=(new Date(`${ae.date}T${ae.time}`).getTime()-F.getTime())/6e4;if(J<=10&&J>-5){if(Notification.permission==="granted"){const ue=l.find(he=>he.id===ae.subjectId);new Notification(`Study Session: ${ue?.name||"Upcoming"}`,{body:`Starting in ${Math.round(Math.max(0,J))} minutes!`,icon:"/pwa-192x192.png"})}return{...ae,reminderSent:!0}}return ae});return{...B,scheduledSessions:se}})},6e4);return()=>clearInterval(C)},[l]);const He=i.role==="admin";return d.jsx(FN.Provider,{value:{userProfile:i,subjects:l,isAdmin:He,updateProfile:p,addSubject:b,editSubject:w,deleteSubject:E,addChapter:I,editChapter:D,toggleChapter:M,deleteChapter:O,addTopic:H,editTopic:K,toggleTopic:G,deleteTopic:ne,resetData:R,exportData:de,importData:j,importSyllabusData:S,saveStudySession:z,addScheduledSession:U,toggleScheduledSession:$,deleteScheduledSession:V,generateSmartSchedule:ze},children:t})}function Et(){const t=A.useContext(FN);if(!t)throw new Error("useStudy must be used within StudyProvider");return t}const lz=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function tb({subject:t,onClose:e}){const{editSubject:n}=Et(),[i,a]=A.useState(t.name),[l,c]=A.useState(t.color),[h,m]=A.useState(t.examDate||""),p=x=>{x.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l,examDate:h||void 0}),e())};return d.jsx(Yn,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),d.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(Us,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:i,onChange:x=>a(x.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:lz.map(x=>d.jsx("button",{type:"button",onClick:()=>c(x),className:`w-full h-8 rounded-lg ${x} ${l===x?"ring-2 ring-offset-2 ring-indigo-500":""}`},x))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Exam Date (Optional)"}),d.jsx("input",{type:"date",value:h,onChange:x=>m(x.target.value),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:d.jsx(Dn,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const cz=ge(en);function uz({subject:t,index:e=0}){const[n,i]=A.useState(!1),a=t.chapters.length,l=t.chapters.filter(x=>x.isCompleted).length;let c=0;t.chapters.forEach(x=>{x.topics&&x.topics.length>0?c+=x.topics.filter(b=>b.isCompleted).length/x.topics.length*100:c+=x.isCompleted?100:0});const h=a===0?0:Math.round(c/a),m=t.examDate?Math.ceil((new Date(t.examDate).getTime()-new Date().getTime())/(1e3*60*60*24)):null,p=m!==null&&m<=7&&m>=0;return d.jsxs(d.Fragment,{children:[d.jsxs(cz,{to:`/subject/${t.id}`,whileHover:{y:-8,transition:{duration:.3,ease:[.25,1,.5,1]}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-2xl md:rounded-3xl p-4 md:p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-2xl hover:shadow-blue-500/15 dark:hover:shadow-blue-900/20 transition-all overflow-hidden h-full flex flex-col",children:[d.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-gradient-to-br ${t.color.replace("bg-","from-").replace("-500","-500/10")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-bl-full pointer-events-none`}),d.jsx(ge.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x=>{x.preventDefault(),x.stopPropagation(),i(!0)},className:"absolute top-2 right-2 md:top-4 md:right-4 p-1.5 md:p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-xl transition-colors opacity-100 md:opacity-0 md:group-hover:opacity-100 z-10",title:"Edit Subject",children:d.jsx(Yu,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),d.jsxs("div",{className:"flex items-start justify-between mb-4 md:mb-6 relative z-10",children:[d.jsx(ge.div,{whileHover:{rotate:15,scale:1.1},className:`w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl ${t.color} flex items-center justify-center text-white shadow-lg shadow-blue-500/20`,children:d.jsx(Dn,{className:"w-5 h-5 md:w-7 md:h-7"})}),d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 backdrop-blur-sm px-2 py-1 md:px-3 md:py-1.5 rounded-lg md:rounded-xl text-[10px] md:text-xs font-bold text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-600",children:[h,"%"]})]}),t.examDate&&m!==null&&m>=0&&d.jsxs("div",{className:`absolute top-16 right-4 text-xs font-bold px-2 py-1 rounded-lg flex items-center gap-1 ${p?"bg-red-100 text-red-600 animate-pulse":"bg-indigo-50 text-indigo-600"}`,children:[d.jsx(Zc,{className:"w-3 h-3"}),d.jsxs("span",{children:[m," days left"]})]}),d.jsx("h3",{className:"text-sm md:text-xl font-bold text-slate-800 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 text-xs md:text-sm text-slate-500 dark:text-slate-400 mb-4 md:mb-6 mt-auto",children:[d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-slate-50 dark:bg-slate-700/50 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[d.jsx(Dn,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),d.jsx("span",{children:a})]}),l>0&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-1.5 py-0.5 md:px-2 md:py-1 rounded-md md:rounded-lg",children:[d.jsx(la,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),d.jsx("span",{children:l})]})]}),d.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[d.jsxs("div",{className:"hidden md:flex justify-between text-xs text-slate-400 dark:text-slate-500 font-medium",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[h,"%"]})]}),d.jsx("div",{className:"h-1.5 md:h-2.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${h}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color} rounded-full`})})]}),d.jsxs("div",{className:"mt-4 md:mt-5 pt-3 md:pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-xs md:text-sm",children:[d.jsx("span",{className:"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"Details"}),d.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:d.jsx(jN,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]}),n&&d.jsx(tb,{subject:t,onClose:()=>i(!1)})]})}const FE=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function dz({onClose:t}){const{addSubject:e}=Et(),[n,i]=A.useState(""),[a,l]=A.useState(FE[0]),c=h=>{h.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[d.jsx(E7,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),d.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(Us,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),d.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:h=>i(h.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:FE.map(h=>d.jsx("button",{type:"button",onClick:()=>l(h),className:`w-8 h-8 rounded-full ${h} transition-all ${a===h?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},h))})]}),d.jsx("div",{className:"pt-2",children:d.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[d.jsx(Uf,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const hz={start_strong:{icon:la,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:Q7,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:IN,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:Lf,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function fz({type:t,isLocked:e=!1,dateEarned:n}){const i=hz[t],a=i.icon,[l,c]=A.useState(!1);return d.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[d.jsx(ge.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:d.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),d.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[d.jsx("p",{className:"font-semibold",children:i.label}),d.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&d.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function mz(){const{updateProfile:t}=Et(),[e,n]=A.useState(""),[i,a]=A.useState(""),l=c=>{if(c.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),d.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),d.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[d.jsx(ly,{className:"w-4 h-4"}),"Your Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[d.jsx(PN,{className:"w-4 h-4"}),"Class / Grade"]}),d.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),d.jsx("div",{className:"pt-2",children:d.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function pz(){const{userProfile:t,updateProfile:e}=Et(),[n,i]=A.useState(!1),[a,l]=A.useState(t.dailyGoal?t.dailyGoal/3600:2),c=t.dailyGoal||7200,h=t.todayStudyTime||0,m=Math.min(100,Math.round(h/c*100)),p=()=>{e({dailyGoal:a*3600}),i(!1)};return d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[d.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[d.jsx(zU,{className:"w-4 h-4"}),"Daily Goal"]}),n?d.jsxs("button",{onClick:p,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",d.jsx(MN,{className:"w-3 h-3"})]}):d.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",d.jsx(bU,{className:"w-3 h-3"})]})]}),d.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[d.jsxs("div",{className:"space-y-1",children:[n?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:x=>l(parseFloat(x.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),d.jsx("span",{className:"text-slate-500",children:"hrs"})]}):d.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(h/3600),d.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(h%3600/60),d.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),d.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(c/3600),"h goal"]})]}),d.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[d.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[d.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),d.jsx(ge.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*m/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${m>=100?"text-green-500":"text-blue-500"}`})]}),d.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[m,"%"]})]})]}),m>=100&&d.jsxs(ge.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[d.jsx(Zi,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),d.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function gz(){const{userProfile:t,subjects:e,toggleScheduledSession:n,saveStudySession:i}=Et(),a=kl(),l=new Date().toISOString().split("T")[0],c=(t.scheduledSessions||[]).filter(w=>!w.isCompleted&&w.date>=l).sort((w,E)=>w.date!==E.date?w.date.localeCompare(E.date):(w.time||"").localeCompare(E.time||""))[0];if(!c)return d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-3xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col items-center justify-center text-center gap-3 h-full",children:[d.jsx("div",{className:"w-12 h-12 bg-white dark:bg-slate-800 rounded-2xl flex items-center justify-center shadow-sm",children:d.jsx(Cu,{className:"w-6 h-6 text-slate-300"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:"No Active Path"}),d.jsx("p",{className:"text-[10px] text-slate-500 mt-1 max-w-[150px]",children:"Generate an AI Path in the Planner to get daily targets."})]}),d.jsxs("button",{onClick:()=>a("/planner"),className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:["Go to Planner ",d.jsx(Jx,{className:"w-3 h-3"})]})]});const h=e.find(w=>w.id===c.subjectId),m=h?.chapters.find(w=>w.id===c.chapterId),p=m?.topics.find(w=>w.id===c.topicId),x=c.date===l,b=async()=>{confirm(`Mark "${p?.name||h?.name}" as completed?`)&&(await i(c.durationMinutes*60,c.subjectId),n(c.id))};return d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-3xl p-5 border border-slate-100 dark:border-slate-700 shadow-xl shadow-indigo-500/5 flex flex-col relative overflow-hidden h-full group",children:[d.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-indigo-500/5 rounded-full blur-2xl group-hover:bg-indigo-500/10 transition-colors"}),d.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"p-1.5 bg-indigo-500 rounded-lg shadow-lg shadow-indigo-500/20",children:d.jsx(Cu,{className:"w-4 h-4 text-white fill-white"})}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-600 dark:text-indigo-400",children:x?"Target for Today":"Next Up"})]}),x&&d.jsx("div",{className:"px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 text-[10px] font-bold rounded-lg animate-pulse",children:"Priority"})]}),d.jsxs("div",{className:"space-y-4 relative z-10 flex-1 flex flex-col justify-center",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-tighter mb-1 line-clamp-1",children:h?.name||"Unknown"}),d.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white leading-tight line-clamp-2",children:p?.name||m?.name||"General Study"})]}),d.jsxs("div",{className:"flex items-center gap-4 text-slate-500 dark:text-slate-400",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx(Vf,{className:"w-3.5 h-3.5 text-indigo-500"}),d.jsx("span",{className:"text-xs font-bold",children:c.time})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx(Dn,{className:"w-3.5 h-3.5 text-indigo-500"}),d.jsxs("span",{className:"text-xs font-bold",children:[c.durationMinutes,"m"]})]})]})]}),d.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-50 dark:border-slate-700 flex gap-2 relative z-10",children:[d.jsxs("button",{onClick:b,className:"flex-1 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-xs font-bold transition-all flex items-center justify-center gap-2",children:[d.jsx(la,{className:"w-3.5 h-3.5"}),"Done"]}),d.jsx("button",{onClick:()=>a("/timer"),className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-xl text-xs font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all font-mono",children:"Start"})]})]})}const $c=[{text:"   ,   ",author:" -: "},{text:",   !     ",author:" : "},{text:",           ?",author:" -: "},{text:"     ",author:" -: "},{text:"      ",author:" : "},{text:"       ",author:" -: "},{text:"    ",author:" -: "},{text:"       ",author:" -: "},{text:" !       ",author:" -: "},{text:"      ",author:" -: "},{text:"       ",author:" -: "},{text:"  !           ",author:" : -"},{text:"     ?",author:" -: "},{text:"   ",author:" : "},{text:"      ",author:"  : "},{text:"     ",author:" : "},{text:"  ",author:" : "},{text:"  ",author:"   "},{text:"    ",author:" : "},{text:"  ",author:" : "},{text:"      ",author:" "},{text:"   ",author:" : "},{text:"       ",author:" : "},{text:"     ",author:" "},{text:"    ",author:" "},{text:"  -    ",author:""},{text:"     ",author:"   "},{text:"     ",author:" "}];function yz(){const[t,e]=A.useState(()=>Math.floor(Math.random()*$c.length)),[n,i]=A.useState(!1),a=()=>{i(!0),setTimeout(()=>{let l;do l=Math.floor(Math.random()*$c.length);while(l===t&&$c.length>1);e(l),i(!1)},300)};return d.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4 relative z-10",children:[d.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:d.jsx(SU,{className:"w-5 h-5 text-white"})}),d.jsx("button",{onClick:a,disabled:n,className:"p-2.5 text-white/70 hover:text-white hover:bg-white/20 rounded-full transition-all active:scale-95 disabled:opacity-50",title:"Get New Quote",children:d.jsx(ge.div,{animate:n?{rotate:360}:{rotate:0},transition:{duration:.3,ease:"easeInOut"},children:d.jsx(AU,{className:"w-5 h-5"})})})]}),d.jsx("div",{className:"relative z-10 flex-1 flex flex-col justify-center",children:d.jsx(Yn,{mode:"wait",children:d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[d.jsx("p",{className:"text-xl md:text-2xl font-bold mb-4 leading-relaxed tracking-wide",children:$c[t].text}),d.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",$c[t].author]})]},t)})}),d.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}function xz(){const{user:t}=nr(),[e,n]=A.useState([]),[i,a]=A.useState(!0);return A.useEffect(()=>{(async()=>{try{const c=Ku(Xr(hs,"users"),pm("userProfile.syllabusCompletionPercentage","desc"),gm(10)),h=await EN(c),m=[];h.forEach(p=>{const x=p.data();x.userProfile&&m.push({uid:p.id,name:x.userProfile.name||"Anonymous",percentage:x.userProfile.syllabusCompletionPercentage||0,grade:x.userProfile.grade||"Student"})}),n(m)}catch(c){console.error("Error fetching leaderboard:",c)}finally{a(!1)}})()},[]),i?d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex items-center justify-center min-h-[300px]",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex flex-col",children:[d.jsxs("h3",{className:"text-slate-800 dark:text-white font-bold text-lg mb-4 flex items-center gap-2",children:[d.jsx(Zi,{className:"w-5 h-5 text-amber-500"}),"Leaderboard"]}),d.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-slate-500 dark:text-slate-400 py-8 h-full",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mb-3",children:d.jsx(Zi,{className:"w-8 h-8 text-slate-300 dark:text-slate-500 opacity-50"})}),d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"No champions yet!"}),d.jsx("p",{className:"text-xs max-w-[150px] mt-1",children:"Complete chapters to climb the ranks."})]}):e.map((l,c)=>{const h=t?.uid===l.uid;let m=null;return c===0?m=d.jsx(ig,{className:"w-5 h-5 text-yellow-500"}):c===1?m=d.jsx(ig,{className:"w-5 h-5 text-slate-400"}):c===2?m=d.jsx(ig,{className:"w-5 h-5 text-amber-700"}):m=d.jsx("span",{className:"text-sm font-bold text-slate-400 w-5 text-center",children:c+1}),d.jsxs(ge.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:c*.1},className:`flex items-center gap-3 p-3 rounded-xl transition-colors ${h?"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-8",children:m}),d.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-300",children:l.name[0].toUpperCase()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("p",{className:`text-sm font-medium truncate ${h?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-200"}`,children:[l.name," ",h&&"(You)"]}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:l.grade})]}),d.jsxs("div",{className:"font-bold text-slate-800 dark:text-white text-sm",children:[l.percentage,"%"]})]},l.uid)})})]})}function HN({className:t="",limit:e}){const{subjects:n,editSubject:i}=Et(),[a,l]=A.useState(null),[c,h]=A.useState(!1),m=(n||[]).filter(D=>{if(!D.examDate)return!1;const M=new Date(D.examDate);return!isNaN(M.getTime())}).sort((D,M)=>new Date(D.examDate).getTime()-new Date(M.examDate).getTime()),p=(n||[]).filter(D=>!D.examDate),x=e?m.slice(0,e):m,b=D=>{const M=new Date;M.setHours(0,0,0,0);const O=new Date(D);if(isNaN(O.getTime()))return null;O.setHours(0,0,0,0);const H=O.getTime()-M.getTime();return Math.ceil(H/(1e3*60*60*24))},w=D=>{l(D),h(!1)},E=(D,M)=>{M.stopPropagation(),window.confirm("Remove this exam date?")&&i(D,{examDate:void 0})},I=!n||n.length===0;return d.jsxs("div",{className:`space-y-4 ${t}`,children:[m.length===0&&!c?d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-4 border border-dashed border-slate-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-slate-50 dark:bg-slate-900 rounded-full flex items-center justify-center mx-auto mb-2",children:d.jsx(Zc,{className:"w-5 h-5 text-slate-400"})}),d.jsx("h3",{className:"text-slate-800 dark:text-white font-semibold text-sm mb-1",children:"No Exams"}),d.jsx("p",{className:"text-slate-500 text-[10px] leading-tight mb-3",children:I?"Add a subject first to schedule exams.":"Set dates for subjects to track them here."}),!I&&d.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-xs font-bold rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",children:[d.jsx($i,{className:"w-3.5 h-3.5"}),"Schedule Exam"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Zc,{className:"w-5 h-5 text-indigo-500"}),"Upcoming Exams"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[!I&&d.jsx("button",{onClick:()=>h(!0),className:"p-1.5 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Add Exam",children:d.jsx($i,{className:"w-4 h-4"})}),d.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 bg-slate-100 dark:bg-slate-800/50 px-2 py-0.5 rounded-full",children:[m.length," Total"]})]})]}),d.jsx("div",{className:"grid gap-3",children:x.map(D=>{const M=b(D.examDate),O=M!==null&&M<=7&&M>=0,H=M!==null&&M<0,K=isNaN(new Date(D.examDate).getTime())?"Invalid Date":new Date(D.examDate).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"});return d.jsxs(ge.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative bg-white dark:bg-slate-900/50 rounded-xl p-3 border border-slate-100 dark:border-slate-800 hover:border-indigo-200 dark:hover:border-indigo-900/50 transition-all flex items-center gap-3 overflow-hidden",children:[d.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${H?"bg-slate-400":O?"bg-red-500":"bg-indigo-500"}`}),d.jsx("div",{className:`w-10 h-10 rounded-lg ${D.color||"bg-slate-500"} flex items-center justify-center text-white shadow-sm flex-shrink-0`,children:d.jsx(Zc,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm truncate",children:D.name}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>l(D),className:"p-1 text-slate-400 hover:text-indigo-500 dark:hover:text-indigo-400 transition-colors",title:"Edit Date",children:d.jsx(Yu,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:G=>E(D.id,G),className:"p-1 text-slate-400 hover:text-rose-500 dark:hover:text-rose-400 transition-colors",title:"Remove Exam",children:d.jsx(Xu,{className:"w-3.5 h-3.5"})})]})]}),d.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-tighter",children:K})]}),d.jsxs("div",{className:`text-right flex-shrink-0 ${H?"text-slate-400":O?"text-red-500":"text-indigo-500"}`,children:[d.jsx("div",{className:"text-lg font-black leading-none",children:H||M===null?"":M}),d.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest",children:H?"Past":"Days"})]}),O&&!H&&d.jsx("div",{className:"absolute top-0 right-0 p-1",children:d.jsx(Zx,{className:"w-3 h-3 text-red-500 animate-pulse"})})]},D.id)})})]}),d.jsx(Yn,{children:c&&d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/40 backdrop-blur-[2px]",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white dark:bg-slate-800 rounded-3xl w-full max-w-sm shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{className:"p-4 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Schedule Exam"}),d.jsx("button",{onClick:()=>h(!1),className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:d.jsx(Us,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-4 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 px-1",children:"Select a subject to set its exam date."}),d.jsx("div",{className:"grid gap-2",children:p.length>0?p.map(D=>d.jsxs("button",{onClick:()=>w(D),className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all group text-left border border-transparent hover:border-slate-100 dark:hover:border-slate-600",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl ${D.color||"bg-slate-500"} flex items-center justify-center text-white shadow-sm flex-shrink-0`,children:d.jsx(Dn,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm truncate",children:D.name}),d.jsxs("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:[D.chapters?.length||0," Chapters"]})]}),d.jsx($i,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-500 transition-colors"})]},D.id)):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"w-12 h-12 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(Zc,{className:"w-6 h-6 text-slate-300"})}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"All subjects have exams!"})]})})]})]})})}),a&&d.jsx(tb,{subject:a,onClose:()=>l(null)})]})}const HE={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},og={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function bz(){const{userProfile:t,subjects:e}=Et(),[n,i]=A.useState(!1),a=t.name==="Student",l=e.reduce((p,x)=>p+x.chapters.length,0),c=e.reduce((p,x)=>p+x.chapters.filter(b=>b.isCompleted).length,0);let h=0;e.forEach(p=>{p.chapters.forEach(x=>{x.topics&&x.topics.length>0?h+=x.topics.filter(b=>b.isCompleted).length/x.topics.length*100:h+=x.isCompleted?100:0})});const m=l===0?0:Math.round(h/l);return d.jsxs(ge.div,{className:"space-y-6 md:space-y-8",variants:HE,initial:"hidden",animate:"show",exit:"exit",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors tracking-tight",children:["Hello, ",d.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-500 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),d.jsx("span",{className:"inline-block animate-wave ml-2",children:""})]}),d.jsxs("p",{className:"text-base text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[d.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-md mr-2",children:t.grade}),"Ready to crush your goals today?"]})]}),d.jsxs(ge.button,{id:"add-subject-btn",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(37, 99, 235, 0.4)"},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3.5 rounded-2xl font-semibold flex items-center justify-center gap-2 shadow-lg shadow-blue-500/30 transition-all text-sm md:text-base w-full md:w-auto",children:[d.jsx($i,{className:"w-5 h-5"}),"New Subject"]})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-12 md:gap-6 auto-rows-min",children:[d.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4 md:gap-6 order-1",children:[d.jsx(pz,{}),d.jsx(gz,{})]}),d.jsx("div",{className:"md:col-span-full lg:col-span-4 h-full min-h-[400px] order-3 lg:order-2",children:d.jsx(xz,{})}),d.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4 md:gap-6 order-2 lg:order-3",children:[d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl p-6 border border-slate-100 dark:border-slate-700/50 shadow-xl shadow-blue-500/5 relative overflow-hidden group transition-all hover:shadow-blue-500/10",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent -translate-x-full group-hover:animate-shimmer pointer-events-none"}),d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 group-hover:opacity-20 transition-all duration-500",children:d.jsx(I7,{className:"w-24 h-24 text-blue-500"})}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between relative z-10 gap-6",children:[d.jsxs("div",{className:"flex-1 w-full space-y-5",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-xl shadow-inner",children:d.jsx(Zi,{className:"w-5 h-5 text-amber-500"})}),d.jsx("h3",{className:"text-slate-800 dark:text-white font-bold text-lg tracking-tight",children:"Syllabus Status"})]}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-end justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[10px] uppercase font-black tracking-widest text-slate-400 dark:text-slate-500",children:"Chapters"}),d.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:[c," ",d.jsxs("span",{className:"text-slate-400 font-medium",children:["/ ",l]})]})]}),d.jsxs("span",{className:"text-sm font-black text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/40 px-2 py-0.5 rounded-lg border border-blue-100 dark:border-blue-800/50",children:[Math.round(c/(l||1)*100),"%"]})]}),d.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700/50 rounded-full overflow-hidden p-0.5 ring-1 ring-slate-200 dark:ring-slate-700",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${c/(l||1)*100}%`},transition:{duration:1.5,ease:"circOut"},className:"h-full bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full shadow-lg shadow-blue-500/20"})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-end justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[10px] uppercase font-black tracking-widest text-slate-400 dark:text-slate-500",children:"Total Progress"}),d.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Completion Rate"})]}),d.jsxs("span",{className:"text-sm font-black text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/40 px-2 py-0.5 rounded-lg border border-emerald-100 dark:border-emerald-800/50",children:[m,"%"]})]}),d.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700/50 rounded-full overflow-hidden p-0.5 ring-1 ring-slate-200 dark:ring-slate-700",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${m}%`},transition:{duration:1.5,ease:"circOut",delay:.2},className:"h-full bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full shadow-lg shadow-emerald-500/20"})})]})]})]}),d.jsxs("div",{className:"relative w-32 h-32 md:w-40 md:h-40 flex-shrink-0 group/circle",children:[d.jsx("div",{className:"absolute inset-0 bg-blue-500/5 dark:bg-blue-500/10 rounded-full blur-2xl group-hover/circle:bg-blue-500/20 transition-all duration-700"}),d.jsxs("svg",{className:"w-full h-full transform -rotate-90 relative z-10",viewBox:"0 0 100 100",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",stopColor:"#60A5FA"}),d.jsx("stop",{offset:"100%",stopColor:"#3B82F6"})]})}),d.jsx("circle",{className:"text-slate-100 dark:text-slate-700/50",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"38",cx:"50",cy:"50"}),d.jsx(ge.circle,{stroke:"url(#progressGradient)",strokeWidth:"8",strokeDasharray:238.76,strokeDashoffset:238.76,strokeLinecap:"round",fill:"transparent",r:"38",cx:"50",cy:"50",initial:{strokeDashoffset:238.76},animate:{strokeDashoffset:238.76-238.76*m/100},transition:{duration:2,ease:"circOut"}})]}),d.jsxs("div",{className:"absolute top-0 left-0 w-full h-full flex flex-col items-center justify-center z-20",children:[d.jsxs(ge.span,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:10,stiffness:100,delay:.5},className:"text-3xl md:text-4xl font-black text-slate-800 dark:text-white",children:[m,d.jsx("span",{className:"text-sm md:text-lg text-blue-500",children:"%"})]}),d.jsx("span",{className:"text-[8px] md:text-[10px] uppercase font-black tracking-tighter text-slate-400 dark:text-slate-500",children:"Done"})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 gap-4 md:gap-6 flex-1",children:[d.jsx(HN,{limit:3,className:"h-full"}),d.jsx(yz,{})]})]})]}),t.earnedBadges&&t.earnedBadges.length>0&&d.jsxs(ge.div,{variants:og,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[d.jsx(Zi,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),d.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,x)=>d.jsx(fz,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${x}`))})]}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",d.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?d.jsxs(ge.div,{variants:HE,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[e.map((p,x)=>d.jsx(ge.div,{variants:og,children:d.jsx(uz,{subject:p,index:x})},p.id)),d.jsxs(ge.button,{variants:og,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:d.jsx($i,{className:"w-6 h-6"})}),d.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(DN,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),d.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&d.jsx(dz,{onClose:()=>i(!1)}),a&&d.jsx(mz,{})]})}function vz({subjectId:t,onClose:e}){const{addChapter:n}=Et(),[i,a]=A.useState(""),l=c=>{c.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[d.jsx(DN,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),d.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(Us,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),d.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),d.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),d.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[d.jsx($i,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const wz={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function bm({children:t,className:e=""}){return d.jsx(ge.div,{variants:wz,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const qN=A.createContext(void 0);function _z({children:t}){const[e,n]=A.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=A.useRef(null);A.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=p=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const x=i.current,b=x.createOscillator(),w=x.createGain();b.connect(w),w.connect(x.destination);const E=x.currentTime;switch(p){case"pop":b.type="sine",b.frequency.setValueAtTime(800,E),b.frequency.exponentialRampToValueAtTime(1200,E+.1),w.gain.setValueAtTime(.1,E),w.gain.exponentialRampToValueAtTime(.01,E+.1),b.start(E),b.stop(E+.1);break;case"success":c(x,523.25,E,.1,"sine"),c(x,659.25,E+.1,.1,"sine"),c(x,783.99,E+.2,.2,"sine");break;case"complete":b.type="triangle",b.frequency.setValueAtTime(440,E),b.frequency.linearRampToValueAtTime(880,E+.5),w.gain.setValueAtTime(.1,E),w.gain.linearRampToValueAtTime(.3,E+.2),w.gain.linearRampToValueAtTime(0,E+1.5),b.start(E),b.stop(E+1.5);break;case"click":b.type="square",b.frequency.setValueAtTime(200,E),w.gain.setValueAtTime(.05,E),w.gain.exponentialRampToValueAtTime(.01,E+.05),b.start(E),b.stop(E+.05);break;case"error":b.type="sawtooth",b.frequency.setValueAtTime(150,E),b.frequency.linearRampToValueAtTime(100,E+.2),w.gain.setValueAtTime(.1,E),w.gain.linearRampToValueAtTime(0,E+.3),b.start(E),b.stop(E+.3);break}},c=(p,x,b,w,E="sine")=>{const I=p.createOscillator(),D=p.createGain();I.connect(D),D.connect(p.destination),I.type=E,I.frequency.setValueAtTime(x,b),D.gain.setValueAtTime(.1,b),D.gain.exponentialRampToValueAtTime(.01,b+w),I.start(b),I.stop(b+w)},h=p=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(p)},m=()=>{n(p=>!p),e&&a()};return d.jsx(qN.Provider,{value:{isMuted:e,toggleMute:m,playSound:h},children:t})}function nb(){const t=A.useContext(qN);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function Tz({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=Et(),[c,h]=A.useState(i);A.useEffect(()=>{h(i)},[i]);const m=p=>{p.preventDefault(),c.trim()&&(l(t,e,n,c.trim()),a())};return d.jsx(Yn,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),d.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(Us,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(ON,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:c,onChange:p=>h(p.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function Ez({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=Et(),{playSound:l}=nb(),[c,h]=A.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsxs(ge.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[d.jsx(ge.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:d.jsx(la,{className:"w-3 h-3"})}),d.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>h(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:d.jsx(Yu,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:d.jsx(Xu,{className:"w-3.5 h-3.5"})})]})]}),c&&d.jsx(Tz,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>h(!1)})]})}function Sz({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=Et(),[l,c]=A.useState(n);A.useEffect(()=>{c(n)},[n]);const h=m=>{m.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return d.jsx(Yn,{children:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),d.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(Us,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(ON,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function kz({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=Et(),[c,h]=A.useState(!1),[m,p]=A.useState(!1),x=b=>{b.preventDefault();const w=b.target.elements.namedItem("topicName");w.value.trim()&&(l(t,e.id,w.value.trim()),w.value="",h(!1))};return d.jsxs("div",{className:"group transition-colors",children:[d.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[d.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:d.jsx(ge.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:d.jsx(P7,{className:"w-5 h-5"})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),d.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[d.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(b=>b.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&d.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[d.jsx(la,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&d.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(b=>b.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),d.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[d.jsx(ge.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),h(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:d.jsx($i,{className:"w-4 h-4"})}),d.jsx(ge.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),p(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:d.jsx(Yu,{className:"w-4 h-4"})}),d.jsx(ge.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:d.jsx(Xu,{className:"w-4 h-4"})})]})]}),d.jsx(Yn,{children:n&&d.jsx(ge.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:d.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(b=>d.jsx(Ez,{subjectId:t,chapterId:e.id,topic:b},b.id)):d.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&d.jsxs(ge.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:x,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[d.jsx(F7,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),d.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>h(!1),200)}),d.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),m&&d.jsx(Sz,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>p(!1)})]})}function Az(){const{id:t}=jj(),e=kl(),{subjects:n,deleteSubject:i}=Et(),[a,l]=A.useState(!1),[c,h]=A.useState(!1),[m,p]=A.useState({}),x=n.find(O=>O.id===t);if(!x)return d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:d.jsx(Dn,{className:"w-8 h-8 text-slate-300"})}),d.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),d.jsx(en,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const b=()=>{confirm(`Are you sure you want to delete ${x.name}? ALL progress will be lost.`)&&(i(x.id),e("/"))},w=O=>{p(H=>({...H,[O]:!H[O]}))},E=x.chapters.length,I=x.chapters.filter(O=>O.isCompleted).length;let D=0;x.chapters.forEach(O=>{O.topics&&O.topics.length>0?D+=O.topics.filter(H=>H.isCompleted).length/O.topics.length*100:D+=O.isCompleted?100:0});const M=E===0?0:Math.round(D/E);return d.jsxs(bm,{className:"max-w-3xl mx-auto pb-12",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs(en,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[d.jsx(h7,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${x.color}`,children:[d.jsx(Dn,{className:"w-3 h-3"}),x.name]}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:x.name}),d.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[I," of ",E," chapters completed"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>h(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:d.jsx(Yu,{className:"w-5 h-5"})}),d.jsx("button",{onClick:b,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:d.jsx(Xu,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[M,"%"]}),d.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),d.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${M}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${x.color}`})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[d.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),d.jsxs(ge.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[d.jsx($i,{className:"w-4 h-4"}),"Add Chapter"]})]}),d.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:x.chapters.length>0?x.chapters.map(O=>d.jsx(kz,{subjectId:x.id,chapter:O,isExpanded:!!m[O.id],onToggle:()=>w(O.id)},O.id)):d.jsxs("div",{className:"p-12 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:d.jsx(Dn,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),d.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&d.jsx(vz,{subjectId:x.id,onClose:()=>l(!1)}),c&&d.jsx(tb,{subject:x,onClose:()=>h(!1)})]})}const GN=A.createContext(void 0);function Nz({children:t}){const[e,n]=A.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");A.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return d.jsx(GN.Provider,{value:{theme:e,toggleTheme:i},children:t})}function $N(){const t=A.useContext(GN);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function Cz({onClose:t}){const[e,n]=A.useState(hu[0].id),[i,a]=A.useState(new Set),l=hu.find(m=>m.id===e),c=m=>{const p=new Set(i);p.has(m)?p.delete(m):p.add(m),a(p)},h=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(p=>p.name));a(m)}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Dn,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),d.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(Us,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[d.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[d.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),d.jsx("div",{className:"space-y-2",children:hu.map(m=>d.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),d.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),d.jsx("button",{onClick:h,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),d.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>d.jsxs("div",{onClick:()=>c(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[d.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(m.name)&&d.jsx(MN,{className:"w-3.5 h-3.5 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:`font-semibold ${i.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),d.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},m.name))})]})]}),d.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[d.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),d.jsx(Rz,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function Rz({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=Et(),l=()=>{if(t===0||!e)return;const c=e.subjects.filter(h=>n.has(h.name));a(c),i()};return d.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[d.jsx(eb,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function jz(){const{user:t,logout:e}=nr(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:c}=Et(),{isMuted:h,toggleMute:m}=nb(),{theme:p,toggleTheme:x}=$N(),b=A.useRef(null),w=A.useRef(null),[E,I]=A.useState(!1),[D,M]=A.useState(!1),[O,H]=A.useState("Notification"in window&&Notification.permission==="granted"),K=xm(),G=()=>{const S=b.current?.value.trim()||"",R=w.current?.value.trim()||"";if(!S){K.error("Please enter your name");return}i({name:S,grade:R}),M(!1),K.success("Profile updated successfully!")},ne=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=R=>{const z=R.target.files?.[0];if(z){const U=new FileReader;U.onload=$=>{const V=$.target?.result;c(V)&&alert("Data imported successfully!")},U.readAsText(z)}},S.click()},de=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},j=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")H(!O);else if(Notification.permission!=="denied"){const S=await Notification.requestPermission();H(S==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return d.jsxs(bm,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(ly,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),d.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),d.jsxs(ge.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(ly,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),d.jsx("input",{ref:b,type:"text",defaultValue:n?.name||"",disabled:!D,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${D?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),d.jsx("input",{ref:w,type:"text",defaultValue:n?.grade||"",disabled:!D,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${D?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),d.jsx("div",{className:"pt-2 flex gap-3",children:D?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>M(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),d.jsxs("button",{onClick:G,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[d.jsx(Uf,{className:"w-4 h-4"}),"Save Changes"]})]}):d.jsxs("button",{onClick:()=>M(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(UE,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),d.jsxs(ge.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(fU,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${p==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:p==="dark"?d.jsx(Lf,{className:"w-5 h-5"}):d.jsx(cy,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),d.jsx("button",{onClick:x,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p==="dark"?"bg-blue-600":"bg-slate-200"}`,children:d.jsx("span",{className:`${p==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${h?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:h?d.jsx(zN,{className:"w-5 h-5"}):d.jsx(UN,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),d.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${h?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:d.jsx("span",{className:`${h?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${O?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:O?d.jsx(v7,{className:"w-5 h-5"}):d.jsx(x7,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),d.jsx("button",{onClick:j,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${O?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:d.jsx("span",{className:`${O?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:d.jsx(eU,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),d.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[d.jsx("option",{children:"English"}),d.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),d.jsxs(ge.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Uf,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>I(!0),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:d.jsx(Dn,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),d.jsx("button",{className:"text-slate-400",children:d.jsx(UE,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[d.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[d.jsx(eb,{className:"w-4 h-4"}),"Export Data"]}),d.jsxs("button",{onClick:ne,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[d.jsx(YU,{className:"w-4 h-4"}),"Import Data"]})]}),d.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:d.jsx(Xu,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),d.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),d.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),d.jsxs(ge.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:d.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(VU,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),d.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[d.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:de,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:d.jsx(LN,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),d.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:d.jsx(k7,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Report issues via our WhatsApp group"})]})]})}),d.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:d.jsx(VN,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),d.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center rounded-2xl",children:d.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&d.jsxs(ge.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Of,{className:"w-5 h-5"}),"Sign Out"]}),d.jsx(Yn,{children:E&&d.jsx(Cz,{onClose:()=>I(!1)})})]})}function Oh({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring",damping:15,stiffness:100},className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl p-6 border border-slate-100 dark:border-slate-700/50 shadow-xl shadow-slate-200/50 dark:shadow-none flex items-center justify-between transition-all hover:scale-[1.02] hover:shadow-2xl active:scale-[0.98] group",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("h3",{className:"text-slate-400 dark:text-slate-500 font-bold text-[10px] uppercase tracking-widest flex items-center gap-2 group-hover:text-slate-500 transition-colors",children:[d.jsx(n,{className:`w-3.5 h-3.5 ${i}`})," ",t]}),d.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white transition-colors tracking-tight",children:e})]}),d.jsx("div",{className:`w-14 h-14 ${a} rounded-2xl flex items-center justify-center transition-all group-hover:rotate-6 shadow-inner ring-1 ring-white/20 dark:ring-white/5`,children:d.jsx(n,{className:`w-7 h-7 ${i}`})})]})}function Iz(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(i+=c.topics.length,c.topics.forEach(h=>{h.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function Dz(t){const e=new Date,i=Array.from({length:7},(l,c)=>{const h=new Date;return h.setDate(e.getDate()-(6-c)),h.toISOString().split("T")[0]}).map(l=>{let c=0;return t.forEach(h=>{h.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function Mz(t){const e=new Set;t.forEach(h=>h.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((h,m)=>new Date(m).getTime()-new Date(h).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const h=n[0];if(h===a||h===c){i=1;let m=new Date(h);for(let p=1;p<n.length;p++){const x=new Date(n[p]),b=Math.abs(m.getTime()-x.getTime());if(Math.round(b/(1e3*60*60*24))===1)i++,m=x;else break}}}return i}function Pz(){const{subjects:t}=Et(),{completedChapters:e,totalTopics:n,completedTopics:i}=Iz(t),{activityData:a,maxCount:l}=Dz(t),c=Mz(t),h=n>0?Math.round(i/n*100):0,m={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return d.jsxs(bm,{className:"max-w-5xl mx-auto pb-16",children:[d.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-10",children:d.jsxs("div",{children:[d.jsxs("h1",{className:"text-4xl font-black text-slate-800 dark:text-white flex items-center gap-4 tracking-tight transition-colors",children:[d.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-500/20",children:d.jsx(ml,{className:"w-8 h-8 text-white"})}),"Study Analytics"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 font-medium",children:"Track your progress and stay motivated"})]})}),d.jsxs(ge.div,{variants:m,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Oh,{title:"Focus Streak",value:`${c} days`,icon:IN,colorClass:"text-orange-500",bgClass:"bg-orange-100/50 dark:bg-orange-500/10",delay:.1})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Oh,{title:"Topics Mastered",value:`${i}`,icon:Dn,colorClass:"text-blue-500",bgClass:"bg-blue-100/50 dark:bg-blue-500/10",delay:.2})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Oh,{title:"Chapters Done",value:`${e}`,icon:Zi,colorClass:"text-amber-500",bgClass:"bg-amber-100/50 dark:bg-amber-500/10",delay:.3})}),d.jsx("div",{className:"sm:col-span-1",children:d.jsx(Oh,{title:"Efficiency",value:`${h}%`,icon:la,colorClass:"text-emerald-500",bgClass:"bg-emerald-100/50 dark:bg-emerald-500/10",delay:.4})})]}),d.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"lg:col-span-2 bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl p-8 rounded-[2rem] border border-slate-100 dark:border-slate-700/50 shadow-xl shadow-slate-200/50 dark:shadow-none transition-all group",children:[d.jsxs("div",{className:"flex items-center justify-between mb-10",children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-3 transition-colors",children:[d.jsx(R7,{className:"w-6 h-6 text-blue-500"}),"Activity Trend"]}),d.jsx("div",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:"Last 7 Days"})]}),d.jsx("div",{className:"flex items-end justify-between gap-3 md:gap-6 h-64 px-2",children:a.map((p,x)=>d.jsxs("div",{className:"flex-1 flex flex-col items-center gap-4 group/bar",children:[d.jsxs("div",{className:"w-full bg-slate-50 dark:bg-slate-900/50 rounded-2xl relative h-full flex items-end overflow-hidden transition-colors border border-slate-100 dark:border-slate-700/30",children:[d.jsx("div",{className:"absolute inset-x-0 h-px bg-slate-200 dark:bg-slate-700/50 top-1/4"}),d.jsx("div",{className:"absolute inset-x-0 h-px bg-slate-200 dark:bg-slate-700/50 top-2/4"}),d.jsx("div",{className:"absolute inset-x-0 h-px bg-slate-200 dark:bg-slate-700/50 top-3/4"}),d.jsxs(ge.div,{initial:{height:0},animate:{height:`${p.count/(l||1)*100}%`},transition:{duration:1.5,delay:x*.1,ease:[.34,1.56,.64,1]},className:"w-full bg-gradient-to-t from-blue-600 to-indigo-400 rounded-t-xl transition-all duration-300 group-hover/bar:brightness-110 relative shadow-lg shadow-blue-500/20",children:[d.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-white/20 rounded-full mx-1 mt-1"}),d.jsxs("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 text-[10px] font-black py-1.5 px-3 rounded-xl opacity-0 scale-90 group-hover/bar:opacity-100 group-hover/bar:scale-100 transition-all whitespace-nowrap z-20 shadow-xl pointer-events-none",children:[p.count," TOPICS"]})]})]}),d.jsx("span",{className:`text-[10px] sm:text-xs font-bold uppercase tracking-wider transition-colors ${x===a.length-1?"text-blue-500":"text-slate-400"}`,children:new Date(p.date).toLocaleDateString("en-US",{weekday:"short"})})]},p.date))})]}),d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl p-8 rounded-[2rem] border border-slate-100 dark:border-slate-700/50 shadow-xl shadow-slate-200/50 dark:shadow-none transition-all",children:[d.jsx("div",{className:"flex items-center justify-between mb-8",children:d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-3 transition-colors",children:[d.jsx(Dn,{className:"w-6 h-6 text-indigo-500"}),"Progress"]})}),d.jsxs("div",{className:"space-y-6 max-h-[400px] overflow-y-auto pr-3 custom-scrollbar",children:[t.map((p,x)=>{const b=p.chapters.reduce((I,D)=>I+(D.topics?.length||0),0),w=p.chapters.reduce((I,D)=>I+(D.topics?.filter(M=>M.isCompleted).length||0),0),E=b>0?Math.round(w/b*100):0;return d.jsxs(ge.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5+x*.05},className:"group",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-sm font-black text-slate-700 dark:text-slate-200 group-hover:text-blue-500 transition-colors uppercase tracking-tight",children:p.name}),d.jsxs("span",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-500 transition-colors",children:[w," of ",b," Topics"]})]}),d.jsxs("span",{className:`text-xs font-black px-2 py-1 rounded-lg border ${E===100?"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/30 dark:border-emerald-800/50":"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/30 dark:border-blue-800/50"}`,children:[E,"%"]})]}),d.jsx("div",{className:"h-2.5 w-full bg-slate-100 dark:bg-slate-900/50 rounded-full overflow-hidden p-0.5 ring-1 ring-slate-200/50 dark:ring-slate-700/30",children:d.jsx(ge.div,{initial:{width:0},animate:{width:`${E}%`},transition:{duration:1.5,ease:"backOut"},className:`h-full rounded-full shadow-lg ${p.color.replace("text-","bg-")} bg-gradient-to-r from-transparent to-white/20`})})]},p.id)}),t.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-400 text-center space-y-3",children:[d.jsx(Dn,{className:"w-10 h-10 opacity-20"}),d.jsx("p",{className:"text-sm font-bold uppercase tracking-widest opacity-50",children:"No subjects tracked yet"})]})]})]})]})]})}function Vz(){const t=xm(),{saveStudySession:e,subjects:n}=Et(),{user:i}=nr(),{playSound:a,isMuted:l,toggleMute:c}=nb(),[h,m]=A.useState("stopwatch"),[p,x]=A.useState(!1),[b,w]=A.useState(0),[E,I]=A.useState(0),[D,M]=A.useState(30),[O,H]=A.useState("timer"),[K,G]=A.useState("today"),[ne,de]=A.useState(""),[j,S]=A.useState(""),[R,z]=A.useState(""),[U,$]=A.useState(!1),[V,ze]=A.useState([]),[He,C]=A.useState(!0),F=A.useRef(null);A.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const B=(me,Ie)=>{Notification.permission==="granted"&&new Notification(me,{body:Ie,icon:"/vite.svg"})};A.useEffect(()=>(p?F.current=window.setInterval(()=>{w(me=>h==="stopwatch"?me+1:me<=1?(x(!1),a("complete"),B("Time's Up! ","Your study session is complete. Take a break!"),0):me-1)},1e3):F.current&&clearInterval(F.current),()=>{F.current&&clearInterval(F.current)}),[p,h,a]),A.useEffect(()=>{if(x(!1),$(!1),h==="stopwatch")w(0),I(0);else if(h==="pomodoro"||h==="countdown"){const me=D*60;w(me),I(me)}},[h,D]),A.useEffect(()=>{(async()=>{if(i){C(!0);try{const Ie=Xr(hs,"users");let rt="userProfile.todayStudyTime";K==="week"?rt="userProfile.weeklyStudyTime":K==="month"?rt="userProfile.monthlyStudyTime":K==="all_time"&&(rt="userProfile.totalStudyTime");const jt=Ku(Ie,pm(rt,"desc"),gm(10)),Mn=await EN(jt),wi=[];Mn.forEach(Pn=>{const Xn=Pn.data();if(Xn.userProfile){let Vn=0;K==="today"?Vn=Xn.userProfile.todayStudyTime||0:K==="week"?Vn=Xn.userProfile.weeklyStudyTime||0:K==="month"?Vn=Xn.userProfile.monthlyStudyTime||0:Vn=Xn.userProfile.totalStudyTime||0,wi.push({userId:Pn.id,userName:Xn.userProfile.name||"Anonymous",displayTime:Vn})}}),ze(wi)}catch(Ie){console.error("Error fetching leaderboard:",Ie)}finally{C(!1)}}})()},[i,O,K]),A.useEffect(()=>(p?document.title=`${J(b)} - ${R||(h==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[p,b,h,R]);const se=()=>{!p&&h!=="stopwatch"&&b===0&&w(E),x(!p),a("click")},ae=()=>{x(!1),$(!1),w(h==="stopwatch"?0:E),a("click")},P=async()=>{if(!j){t.error("Please select a subject to save session.");return}let me=0;if(h==="stopwatch"?me=b:me=E-b,me<60){t.error("Session must be at least 1 minute to save.");return}await e(me,j,R),$(!0),a("success"),t.success("Session Saved! Great Job.")},J=me=>{const Ie=Math.floor(me/3600),rt=Math.floor(me%3600/60),jt=me%60;return Ie>0?`${Ie}:${rt.toString().padStart(2,"0")}:${jt.toString().padStart(2,"0")}`:`${rt.toString().padStart(2,"0")}:${jt.toString().padStart(2,"0")}`},ue=me=>{const Ie=Math.floor(me/3600),rt=Math.floor(me%3600/60),jt=me%60;return`${Ie.toString().padStart(2,"0")}:${rt.toString().padStart(2,"0")}:${jt.toString().padStart(2,"0")}`},he=h==="stopwatch"?100:Math.max(0,b/E*100),pe=120,ke=2*Math.PI*pe,Ee=ke-he/100*ke;return d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsxs("header",{className:"flex items-center justify-between",children:[d.jsx("div",{children:d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),d.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:l?d.jsx(zN,{className:"w-6 h-6"}):d.jsx(UN,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[d.jsx("button",{onClick:()=>H("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${O==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),d.jsx("button",{onClick:()=>H("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${O==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:`${O==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:R,onChange:me=>z(me.target.value),disabled:p}),d.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:j,onChange:me=>S(me.target.value),disabled:p,children:[d.jsx("option",{value:"",children:"Subject"}),n.map(me=>d.jsx("option",{value:me.id,children:me.name},me.id))]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[d.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[d.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[d.jsx("circle",{cx:"50%",cy:"50%",r:pe,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),d.jsx("circle",{cx:"50%",cy:"50%",r:pe,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:ke,strokeDashoffset:h==="stopwatch"?0:Ee,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${p?h==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[d.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${p?h==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:J(b)}),d.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:p?"Running":"Paused"})]})]}),d.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!p&&d.jsx("button",{onClick:ae,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:d.jsx(LN,{className:"w-5 h-5"})}),d.jsx("button",{onClick:se,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${p?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:p?d.jsx(gU,{className:"w-8 h-8 fill-current"}):d.jsx(_U,{className:"w-8 h-8 ml-1 fill-current"})}),!p&&(h==="stopwatch"&&b>60||h!=="stopwatch"&&b!==E)&&!U&&d.jsx("button",{onClick:P,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:d.jsx(Uf,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"mt-8 flex gap-2",children:[d.jsx("button",{onClick:()=>{m("stopwatch"),M(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),d.jsx("button",{onClick:()=>{m("pomodoro"),M(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),d.jsx("button",{onClick:()=>{m("countdown"),M(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${h==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!p&&(h==="pomodoro"||h==="countdown")&&d.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[d.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),d.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:D,onChange:me=>M(Number(me.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),d.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[D,"m"]})]})]})]}),d.jsxs("div",{className:`${O==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[d.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Zi,{className:"w-6 h-6 text-yellow-500"}),d.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search name...",value:ne,onChange:me=>de(me.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),d.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),d.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(me=>d.jsx("button",{onClick:()=>G(me),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${K===me?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:me==="all_time"?"Lifetime":me==="today"?"24 Hours":me==="week"?"7 Days":"1 Month"},me))})]}),He?d.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),d.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):d.jsxs("div",{className:"space-y-3",children:[V.filter(me=>me.userName.toLowerCase().includes(ne.toLowerCase())).map((me,Ie)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${me.userId===i?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[Ie+1,"."]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${Ie===0?"bg-yellow-100 text-yellow-600 border-yellow-200":Ie===1?"bg-slate-200 text-slate-600 border-slate-300":Ie===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:me.userName.charAt(0).toUpperCase()}),d.jsxs("div",{children:[d.jsx("p",{className:`font-bold text-sm ${me.userId===i?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:me.userName}),d.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${me.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),d.jsx("span",{className:"text-xs text-slate-400 font-medium",children:me.displayTime>3600?"Studying":"Offline"})]})]})]})]}),d.jsx("div",{className:"text-right",children:d.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:ue(me.displayTime)})})]},me.userId)),V.length===0&&d.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-sm",children:"No records found for this period."}),d.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),d.jsx(Yn,{children:U&&d.jsxs(ge.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[d.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:d.jsx(la,{className:"w-4 h-4 text-white"})}),d.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const KN=A.createContext(void 0);function Oz({children:t}){const{user:e}=nr(),n=xm(),[i,a]=A.useState([]);A.useEffect(()=>{if(!e){a([]);return}const p=Ku(Xr(hs,"groups"),_8("memberIds","array-contains",e.uid)),x=ym(p,b=>{const w=[];b.forEach(E=>{w.push({id:E.id,...E.data()})}),a(w)},b=>{console.error("Error loading groups:",b)});return()=>x()},[e]);const l=async(p,x)=>{if(e)try{const b={name:p,description:x,createdBy:e.uid,createdAt:new Date().toISOString(),members:[{userId:e.uid,name:e.displayName||"Unknown",joinedAt:new Date().toISOString(),role:"admin"}],memberIds:[e.uid],inviteCode:Math.random().toString(36).substring(2,8).toUpperCase()};await ay(Xr(hs,"groups"),b),n.success("Group created successfully!")}catch(b){console.error("Error creating group:",b),n.error("Failed to create group.")}},c=async p=>{e&&n.info(`Join functionality for code ${p} coming soon!`)},h=async p=>{e&&n.info(`Leave functionality for group ${p} coming soon!`)},m=async(p,x)=>{if(e)try{await ay(Xr(hs,"groups",p,"messages"),{senderId:e.uid,senderName:e.displayName||"User",text:x,timestamp:v8()})}catch(b){console.error("Error sending message:",b),n.error("Failed to send message.")}};return d.jsx(KN.Provider,{value:{groups:i,createGroup:l,joinGroup:c,leaveGroup:h,sendMessage:m},children:t})}function Lz(){const t=A.useContext(KN);if(t===void 0)throw new Error("useSocial must be used within a SocialProvider");return t}function YN(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=YN(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Uz(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=YN(t))&&(i&&(i+=" "),i+=e);return i}const zz=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},Bz=(t,e)=>({classGroupId:t,validator:e}),XN=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),zf="-",qE=[],Fz="arbitrary..",Hz=t=>{const e=Gz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return qz(c);const h=c.split(zf),m=h[0]===""&&h.length>1?1:0;return QN(h,m,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const m=i[c],p=n[c];return m?p?zz(p,m):m:p||qE}return n[c]||qE}}},QN=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=QN(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const h=e===0?t.join(zf):t.slice(e).join(zf),m=c.length;for(let p=0;p<m;p++){const x=c[p];if(x.validator(h))return x.classGroupId}},qz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?Fz+i:void 0})(),Gz=t=>{const{theme:e,classGroups:n}=t;return $z(n,e)},$z=(t,e)=>{const n=XN();for(const i in t){const a=t[i];sb(a,n,i,e)}return n},sb=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];Kz(c,e,n,i)}},Kz=(t,e,n,i)=>{if(typeof t=="string"){Yz(t,e,n);return}if(typeof t=="function"){Xz(t,e,n,i);return}Qz(t,e,n,i)},Yz=(t,e,n)=>{const i=t===""?e:WN(e,t);i.classGroupId=n},Xz=(t,e,n,i)=>{if(Wz(t)){sb(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(Bz(n,t))},Qz=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,m]=a[c];sb(m,WN(e,h),n,i)}},WN=(t,e)=>{let n=t;const i=e.split(zf),a=i.length;for(let l=0;l<a;l++){const c=i[l];let h=n.nextPart.get(c);h||(h=XN(),n.nextPart.set(c,h)),n=h}return n},Wz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Jz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},dy="!",GE=":",Zz=[],$E=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),eB=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,h=0,m=0,p;const x=a.length;for(let D=0;D<x;D++){const M=a[D];if(c===0&&h===0){if(M===GE){l.push(a.slice(m,D)),m=D+1;continue}if(M==="/"){p=D;continue}}M==="["?c++:M==="]"?c--:M==="("?h++:M===")"&&h--}const b=l.length===0?a:a.slice(m);let w=b,E=!1;b.endsWith(dy)?(w=b.slice(0,-1),E=!0):b.startsWith(dy)&&(w=b.slice(1),E=!0);const I=p&&p>m?p-m:void 0;return $E(l,E,w,I)};if(e){const a=e+GE,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):$E(Zz,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},tB=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",m=e.has(c);h||m?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},nB=t=>({cache:Jz(t.cacheSize),parseClassName:eB(t),sortModifiers:tB(t),...Hz(t)}),sB=/\s+/,iB=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(sB);let m="";for(let p=h.length-1;p>=0;p-=1){const x=h[p],{isExternal:b,modifiers:w,hasImportantModifier:E,baseClassName:I,maybePostfixModifierPosition:D}=n(x);if(b){m=x+(m.length>0?" "+m:m);continue}let M=!!D,O=i(M?I.substring(0,D):I);if(!O){if(!M){m=x+(m.length>0?" "+m:m);continue}if(O=i(I),!O){m=x+(m.length>0?" "+m:m);continue}M=!1}const H=w.length===0?"":w.length===1?w[0]:l(w).join(":"),K=E?H+dy:H,G=K+O;if(c.indexOf(G)>-1)continue;c.push(G);const ne=a(O,M);for(let de=0;de<ne.length;++de){const j=ne[de];c.push(K+j)}m=x+(m.length>0?" "+m:m)}return m},rB=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=JN(n))&&(a&&(a+=" "),a+=i);return a},JN=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=JN(t[i]))&&(n&&(n+=" "),n+=e);return n},aB=(t,...e)=>{let n,i,a,l;const c=m=>{const p=e.reduce((x,b)=>b(x),t());return n=nB(p),i=n.cache.get,a=n.cache.set,l=h,h(m)},h=m=>{const p=i(m);if(p)return p;const x=iB(m,n);return a(m,x),x};return l=c,(...m)=>l(rB(...m))},oB=[],Kt=t=>{const e=n=>n[t]||oB;return e.isThemeGetter=!0,e},ZN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lB=/^\d+\/\d+$/,cB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,hB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qo=t=>lB.test(t),Ue=t=>!!t&&!Number.isNaN(Number(t)),Or=t=>!!t&&Number.isInteger(Number(t)),lg=t=>t.endsWith("%")&&Ue(t.slice(0,-1)),Bi=t=>cB.test(t),mB=()=>!0,pB=t=>uB.test(t)&&!dB.test(t),tC=()=>!1,gB=t=>hB.test(t),yB=t=>fB.test(t),xB=t=>!we(t)&&!_e(t),bB=t=>Vl(t,iC,tC),we=t=>ZN.test(t),Ua=t=>Vl(t,rC,pB),cg=t=>Vl(t,EB,Ue),KE=t=>Vl(t,nC,tC),vB=t=>Vl(t,sC,yB),Lh=t=>Vl(t,aC,gB),_e=t=>eC.test(t),Kc=t=>Ol(t,rC),wB=t=>Ol(t,SB),YE=t=>Ol(t,nC),_B=t=>Ol(t,iC),TB=t=>Ol(t,sC),Uh=t=>Ol(t,aC,!0),Vl=(t,e,n)=>{const i=ZN.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Ol=(t,e,n=!1)=>{const i=eC.exec(t);return i?i[1]?e(i[1]):n:!1},nC=t=>t==="position"||t==="percentage",sC=t=>t==="image"||t==="url",iC=t=>t==="length"||t==="size"||t==="bg-size",rC=t=>t==="length",EB=t=>t==="number",SB=t=>t==="family-name",aC=t=>t==="shadow",kB=()=>{const t=Kt("color"),e=Kt("font"),n=Kt("text"),i=Kt("font-weight"),a=Kt("tracking"),l=Kt("leading"),c=Kt("breakpoint"),h=Kt("container"),m=Kt("spacing"),p=Kt("radius"),x=Kt("shadow"),b=Kt("inset-shadow"),w=Kt("text-shadow"),E=Kt("drop-shadow"),I=Kt("blur"),D=Kt("perspective"),M=Kt("aspect"),O=Kt("ease"),H=Kt("animate"),K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ne=()=>[...G(),_e,we],de=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],S=()=>[_e,we,m],R=()=>[Qo,"full","auto",...S()],z=()=>[Or,"none","subgrid",_e,we],U=()=>["auto",{span:["full",Or,_e,we]},Or,_e,we],$=()=>[Or,"auto",_e,we],V=()=>["auto","min","max","fr",_e,we],ze=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],He=()=>["start","end","center","stretch","center-safe","end-safe"],C=()=>["auto",...S()],F=()=>[Qo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],B=()=>[t,_e,we],se=()=>[...G(),YE,KE,{position:[_e,we]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",_B,bB,{size:[_e,we]}],J=()=>[lg,Kc,Ua],ue=()=>["","none","full",p,_e,we],he=()=>["",Ue,Kc,Ua],pe=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Ue,lg,YE,KE],me=()=>["","none",I,_e,we],Ie=()=>["none",Ue,_e,we],rt=()=>["none",Ue,_e,we],jt=()=>[Ue,_e,we],Mn=()=>[Qo,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bi],breakpoint:[Bi],color:[mB],container:[Bi],"drop-shadow":[Bi],ease:["in","out","in-out"],font:[xB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bi],shadow:[Bi],spacing:["px",Ue],text:[Bi],"text-shadow":[Bi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qo,we,_e,M]}],container:["container"],columns:[{columns:[Ue,we,_e,h]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ne()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Or,"auto",_e,we]}],basis:[{basis:[Qo,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,Qo,"auto","initial","none",we]}],grow:[{grow:["",Ue,_e,we]}],shrink:[{shrink:["",Ue,_e,we]}],order:[{order:[Or,"first","last","none",_e,we]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ze(),"normal"]}],"justify-items":[{"justify-items":[...He(),"normal"]}],"justify-self":[{"justify-self":["auto",...He()]}],"align-content":[{content:["normal",...ze()]}],"align-items":[{items:[...He(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...He(),{baseline:["","last"]}]}],"place-content":[{"place-content":ze()}],"place-items":[{"place-items":[...He(),"baseline"]}],"place-self":[{"place-self":["auto",...He()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:C()}],mx:[{mx:C()}],my:[{my:C()}],ms:[{ms:C()}],me:[{me:C()}],mt:[{mt:C()}],mr:[{mr:C()}],mb:[{mb:C()}],ml:[{ml:C()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[h,"screen",...F()]}],"min-w":[{"min-w":[h,"screen","none",...F()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",n,Kc,Ua]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,_e,cg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lg,we]}],"font-family":[{font:[wB,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,_e,we]}],"line-clamp":[{"line-clamp":[Ue,"none",_e,cg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",_e,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",_e,Ua]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[Ue,"auto",_e,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Or,_e,we],radial:["",_e,we],conic:[Or,_e,we]},TB,vB]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,_e,we]}],"outline-w":[{outline:["",Ue,Kc,Ua]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",x,Uh,Lh]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",b,Uh,Lh]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[Ue,Ua]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",w,Uh,Lh]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[Ue,_e,we]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[_e,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":G()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,we]}],filter:[{filter:["","none",_e,we]}],blur:[{blur:me()}],brightness:[{brightness:[Ue,_e,we]}],contrast:[{contrast:[Ue,_e,we]}],"drop-shadow":[{"drop-shadow":["","none",E,Uh,Lh]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",Ue,_e,we]}],"hue-rotate":[{"hue-rotate":[Ue,_e,we]}],invert:[{invert:["",Ue,_e,we]}],saturate:[{saturate:[Ue,_e,we]}],sepia:[{sepia:["",Ue,_e,we]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,we]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,_e,we]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,_e,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,_e,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,_e,we]}],"backdrop-invert":[{"backdrop-invert":["",Ue,_e,we]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,_e,we]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,_e,we]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,_e,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",_e,we]}],ease:[{ease:["linear","initial",O,_e,we]}],delay:[{delay:[Ue,_e,we]}],animate:[{animate:["none",H,_e,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,_e,we]}],"perspective-origin":[{"perspective-origin":ne()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:rt()}],"scale-x":[{"scale-x":rt()}],"scale-y":[{"scale-y":rt()}],"scale-z":[{"scale-z":rt()}],"scale-3d":["scale-3d"],skew:[{skew:jt()}],"skew-x":[{"skew-x":jt()}],"skew-y":[{"skew-y":jt()}],transform:[{transform:[_e,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:ne()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Mn()}],"translate-x":[{"translate-x":Mn()}],"translate-y":[{"translate-y":Mn()}],"translate-z":[{"translate-z":Mn()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,we]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[Ue,Kc,Ua,cg]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},AB=aB(kB);function Wo(...t){return AB(Uz(t))}const NB=t=>t?(typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"?t.toDate():new Date(t)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...";function CB(){const{user:t}=nr(),{groups:e,createGroup:n,joinGroup:i,sendMessage:a,leaveGroup:l}=Lz(),[c,h]=A.useState(null),[m,p]=A.useState([]),[x,b]=A.useState(""),[w,E]=A.useState(!1),I=A.useRef(null);A.useEffect(()=>{const G=window.innerWidth<768;!c&&e.length>0&&!G&&h(e[0])},[e,c]),A.useEffect(()=>{if(!c)return;const G=Ku(Xr(hs,"groups",c.id,"messages"),pm("timestamp","asc"),gm(50)),ne=ym(G,de=>{const j=[];de.forEach(S=>{j.push({id:S.id,...S.data()})}),p(j)},de=>console.error("Msg Load Err",de));return()=>{ne(),p([])}},[c]),A.useEffect(()=>{I.current?.scrollIntoView({behavior:"smooth"})},[m]);const D=async G=>{G.preventDefault(),!(!x.trim()||!c||w)&&(E(!0),await a(c.id,x.trim()),b(""),E(!1))},M=()=>{const G=prompt("Enter Group Name:");if(!G)return;const ne=prompt("Enter Description (optional):")||"";n(G,ne)},O=()=>{const G=prompt("Enter Invitation Code:");G&&i(G)},H=()=>{c&&confirm(`Leave group "${c.name}"?`)&&(l(c.id),h(null))},K=()=>{c&&(navigator.clipboard.writeText(c.inviteCode),alert("Invite code copied: "+c.inviteCode))};return d.jsxs(bm,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col md:flex-row overflow-hidden",children:[d.jsx("div",{className:`md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 ${c?"hidden":"flex"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pl,{className:"w-6 h-6 text-indigo-500"}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[200px]",children:"Study Groups"})]})}),c&&d.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>h(null),className:"flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[d.jsx(Wx,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"Back"})]}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-white truncate max-w-[150px]",children:c.name}),d.jsx("button",{onClick:H,className:"text-red-500",children:d.jsx(Of,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:`flex-col bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 w-full md:w-72 md:flex ${c?"hidden":"flex"}`,children:[d.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 hidden md:flex justify-between items-center",children:d.jsxs("h2",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(pl,{className:"w-6 h-6 text-indigo-500"}),"My Groups"]})}),d.jsxs("div",{className:"p-4 space-y-2",children:[d.jsxs("button",{onClick:M,className:"w-full flex items-center justify-center gap-2 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[d.jsx($i,{className:"w-4 h-4"})," Create Group"]}),d.jsxs("button",{onClick:O,className:"w-full flex items-center justify-center gap-2 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-lg font-medium transition-colors",children:[d.jsx(sU,{className:"w-4 h-4"})," Join via Code"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[e.length===0&&d.jsx("div",{className:"text-center text-slate-500 text-sm py-4",children:"You haven't joined any groups yet."}),e.map(G=>d.jsxs("button",{onClick:()=>{h(G)},className:Wo("w-full text-left px-3 py-3 rounded-xl flex items-center gap-3 transition-all",c?.id===G.id?"bg-white dark:bg-slate-800 shadow-sm ring-1 ring-indigo-500/20":"hover:bg-slate-100 dark:hover:bg-slate-800"),children:[d.jsx("div",{className:Wo("w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm",c?.id===G.id?"bg-indigo-500":"bg-slate-400"),children:G.name[0].toUpperCase()}),d.jsxs("div",{children:[d.jsx("div",{className:Wo("font-medium text-sm",c?.id===G.id?"text-indigo-900 dark:text-indigo-100":"text-slate-700 dark:text-slate-300"),children:G.name}),d.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-[140px]",children:[G.members.length," members"]})]})]},G.id))]})]}),d.jsx("div",{className:`flex-1 flex-col bg-white dark:bg-slate-800 relative md:flex ${c?"flex":"hidden"}`,children:c?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"hidden md:flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-700 shadow-sm z-10",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"font-bold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[c.name,d.jsxs("span",{className:"text-xs font-normal px-2 py-0.5 bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300 rounded-full",children:[c.members.length," Members"]})]}),d.jsx("p",{className:"text-xs text-slate-500",children:c.description})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:K,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-500",title:"Copy Invite Code",children:d.jsx(G7,{className:"w-5 h-5"})}),d.jsx("button",{onClick:H,className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-red-500",title:"Leave Group",children:d.jsx(Of,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[m.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[d.jsx(VN,{className:"w-12 h-12 mb-2 opacity-50"}),d.jsx("p",{children:"No messages yet. Start the conversation!"}),d.jsxs("p",{className:"text-xs mt-2",children:["Invite Code: ",d.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-800 px-1 rounded select-all",children:c.inviteCode})]})]}),m.map(G=>{const ne=G.senderId===t?.uid;return d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Wo("flex gap-3",ne?"flex-row-reverse":""),children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-xs font-bold text-indigo-700 dark:text-indigo-300 flex-shrink-0",children:G.senderName[0]}),d.jsxs("div",{className:Wo("max-w-[75%]",ne?"items-end":"items-start"),children:[d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:G.senderName}),d.jsx("span",{className:"text-[10px] text-slate-400",children:NB(G.timestamp)})]}),d.jsx("div",{className:Wo("px-4 py-2 rounded-2xl text-sm shadow-sm",ne?"bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-tl-sm"),children:G.text})]})]},G.id)}),d.jsx("div",{ref:I})]}),d.jsx("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:d.jsxs("form",{onSubmit:D,className:"flex gap-2",children:[d.jsx("input",{value:x,onChange:G=>b(G.target.value),placeholder:`Message #${c.name}`,className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-900 rounded-xl border-none focus:ring-2 focus:ring-indigo-500"}),d.jsx("button",{disabled:w||!x.trim(),className:"p-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50",children:w?d.jsx(lU,{className:"animate-spin w-5 h-5"}):d.jsx(IU,{className:"w-5 h-5"})})]})})]}):d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[d.jsx(pl,{className:"w-16 h-16 mb-4 opacity-50"}),d.jsx("h3",{className:"text-lg font-medium text-slate-600 dark:text-slate-300",children:"Select a Group"}),d.jsx("p",{className:"max-w-xs text-center mt-2",children:"Join a study group or create your own to collaborate with friends."})]})})]})}function RB({steps:t,onComplete:e,onSkip:n}){const[i,a]=A.useState(0),[l,c]=A.useState(null),h=t[i];A.useEffect(()=>{if(h.targetId){const x=document.getElementById(h.targetId);x?(c(x.getBoundingClientRect()),x.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[i,h,t]);const m=()=>{i<t.length-1?a(x=>x+1):e()},p=()=>{i>0&&a(x=>x-1)};return d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&d.jsx(ge.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),d.jsx(Yn,{mode:"wait",children:d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&h.position!=="center"?{top:h.position==="bottom"?l.bottom+20:h.position==="top"?l.top-200:void 0,left:h.position==="right"?l.right+20:h.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(h.position==="bottom",0)}:{},children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),d.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:d.jsx(Us,{className:"w-4 h-4"})})]}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:h.title}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:h.description}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("button",{onClick:p,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(Wx,{className:"w-4 h-4"})," Back"]}),d.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&d.jsx(Jx,{className:"w-4 h-4"})]})]})]},i)})]})}const jB="/Study-Mate/assets/logo-C0C7fgvJ.png";function IB({deferredPrompt:t,onInstall:e}){const[n,i]=A.useState(!1);A.useEffect(()=>{const l=setTimeout(()=>i(!0),3e3);return()=>clearTimeout(l)},[]);const a=()=>{i(!1)};return!n||!t?null:d.jsx(Yn,{children:d.jsx(ge.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 md:bottom-6 left-1/2 transform -translate-x-1/2 z-50 w-[90%] md:w-auto",children:d.jsxs("div",{className:"bg-slate-900/90 dark:bg-white/90 backdrop-blur-md text-white dark:text-slate-900 px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 border border-white/10 dark:border-slate-200/20",children:[d.jsx("div",{className:"bg-indigo-500 rounded-xl p-2",children:d.jsx(eb,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-bold text-sm",children:"Install App"}),d.jsx("p",{className:"text-xs text-slate-300 dark:text-slate-600",children:"Add to home screen for better experience"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 dark:hover:bg-slate-200/50 rounded-lg transition-colors",children:d.jsx(Us,{className:"w-4 h-4"})}),d.jsx("button",{onClick:e,className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-4 py-2 rounded-lg text-sm font-bold shadow-lg active:scale-95 transition-transform",children:"Install"})]})]})})})}function DB(){const{userProfile:t}=Et();A.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const e=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.lastStudyDate?new Date(t.lastStudyDate):null;if(!a)return;const l=new Date,c=Math.abs(l.getTime()-a.getTime()),h=Math.ceil(c/(1e3*60*60*24));if(h>=3){const m=localStorage.getItem("tracked_last_reminder"),p=m?new Date(m):null;(p?(l.getTime()-p.getTime())/(1e3*60*60):999)>24&&(new Notification("Miss you! ",{body:`It's been ${h} days since your last study session. Keep your streak alive!`,icon:"/pwa-icon.svg",tag:"inactivity-reminder"}),localStorage.setItem("tracked_last_reminder",l.toISOString()))}},n=()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const a=t.dailyGoal||7200,l=t.todayStudyTime||0,c=a-l;if(c>0&&c<=1800){const h=localStorage.getItem("tracked_goal_reminder"),m=new Date().toISOString().split("T")[0];h!==m&&(new Notification("Almost there! ",{body:"You're less than 30 minutes away from your daily goal. Finish strong!",icon:"/pwa-icon.svg",tag:"goal-reminder"}),localStorage.setItem("tracked_goal_reminder",m))}},i=setTimeout(()=>{e(),n()},5e3);return()=>clearTimeout(i)},[t.lastStudyDate,t.todayStudyTime,t.dailyGoal])}const MB=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function PB(){const{logout:t}=nr(),{theme:e,toggleTheme:n}=$N(),{userProfile:i,isAdmin:a}=Et(),{currentTitle:l,nextLevelXP:c,progress:h}=uy(i.xp||0),m=i.level||1,p=er(),x=Rj();DB();const[b,w]=A.useState(!1),[E,I]=A.useState(null);A.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true");const H=K=>{K.preventDefault(),I(K)};return window.addEventListener("beforeinstallprompt",H),()=>window.removeEventListener("beforeinstallprompt",H)},[]);const D=()=>{w(!1),localStorage.setItem("tracked_tour_completed","true")},M=async()=>{if(!E)return;E.prompt();const{outcome:H}=await E.userChoice;H==="accepted"&&I(null)},O=H=>p.pathname===H;return d.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[b&&d.jsx(RB,{steps:MB,onComplete:D,onSkip:D}),d.jsxs("header",{className:"glass sticky top-0 z-20 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xs shadow-md",children:m}),d.jsx("div",{children:d.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"TrackEd"})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm","aria-label":"Toggle Theme",children:e==="light"?d.jsx(Lf,{className:"w-5 h-5"}):d.jsx(cy,{className:"w-5 h-5"})}),d.jsx(en,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/50 dark:hover:bg-slate-700/50 rounded-full transition-colors backdrop-blur-sm",children:d.jsx(LE,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"md:flex max-w-7xl mx-auto",children:[d.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-[calc(100vh-2rem)] sticky top-4 m-4 rounded-3xl glass shadow-2xl shadow-slate-200/60 dark:shadow-slate-900/50 p-6 transition-all duration-300 z-10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-10 pl-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:jB,alt:"TrackEd Logo",className:"w-10 h-10 rounded-xl object-contain shadow-md"}),d.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"TrackEd"})]}),d.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-700/50 rounded-xl transition-colors","aria-label":"Toggle Theme",children:e==="light"?d.jsx(Lf,{className:"w-5 h-5"}):d.jsx(cy,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"mb-8 px-2",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-500/30 ring-2 ring-white dark:ring-slate-700",children:m}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white leading-tight",children:i.name}),d.jsx("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:l})]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex justify-between text-[10px] font-semibold text-slate-400 uppercase tracking-wider",children:[d.jsxs("span",{children:[i.xp," XP"]}),d.jsx("span",{children:c?`${c} XP`:"MAX"})]}),d.jsx("div",{className:"w-full h-2.5 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden shadow-inner ring-1 ring-slate-900/5 dark:ring-white/5",children:d.jsx(ge.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full",initial:{width:0},animate:{width:`${h}%`},transition:{duration:1,ease:"easeOut"}})})]})]}),d.jsxs("nav",{className:"space-y-1.5 flex-1",children:[d.jsxs(en,{to:"/",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${O("/")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(VE,{className:"w-5 h-5"}),"Dashboard"]}),d.jsxs(en,{to:"/planner",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${O("/planner")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[d.jsx(oy,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${O("/planner")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),d.jsx("span",{className:"font-medium",children:"Planner"}),O("/planner")&&d.jsx(ge.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),d.jsxs(en,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${O("/analytics")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(ml,{className:"w-5 h-5"}),"Analytics"]}),d.jsxs(en,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${p.pathname==="/timer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(zE,{className:"w-5 h-5"}),"Timer"]}),d.jsxs(en,{to:"/chat",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${O("/chat")?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[d.jsx(pl,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${O("/chat")?"text-white":"text-slate-500 group-hover:text-blue-600 dark:text-slate-500 dark:group-hover:text-blue-400"}`}),d.jsx("span",{className:"font-medium",children:"Study Groups"}),O("/chat")&&d.jsx(ge.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-8 bg-white rounded-r-full opacity-30"})]}),d.jsxs(en,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${O("/settings")?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(LE,{className:"w-5 h-5"}),"Settings"]}),a&&d.jsxs(en,{to:"/admin",className:`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${O("/admin")?"bg-rose-600 text-white shadow-lg shadow-rose-500/30 font-medium translate-x-1":"text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white"}`,children:[d.jsx(eu,{className:"w-5 h-5"}),"Admin Panel"]})]}),d.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200/50 dark:border-slate-700/50",children:[d.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3.5 rounded-xl text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left mb-4 group",children:[d.jsx(Of,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),"Sign Out"]}),d.jsxs("div",{className:"text-xs text-center text-slate-400 dark:text-slate-500 font-medium",children:[d.jsx("p",{children:"Empowering Students"}),d.jsx("p",{className:"mt-1 opacity-70",children:" 2026 TrackEd"})]})]})]}),d.jsx("main",{className:"flex-1 p-4 md:p-8",children:d.jsx(Yn,{mode:"wait",children:x&&A.cloneElement(x,{key:p.pathname})})})]}),d.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[d.jsxs(en,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${O("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(VE,{className:"w-6 h-6"}),d.jsx("span",{children:"Home"})]}),d.jsxs(en,{to:"/planner",className:`flex flex-col items-center gap-1 text-xs ${O("/planner")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(oy,{className:"w-6 h-6"}),d.jsx("span",{children:"Planner"})]}),d.jsxs(en,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${O("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(zE,{className:"w-6 h-6"}),d.jsx("span",{children:"Timer"})]}),d.jsxs(en,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${O("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(pl,{className:"w-6 h-6"}),d.jsx("span",{children:"Groups"})]}),d.jsxs(en,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${O("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[d.jsx(ml,{className:"w-6 h-6"}),d.jsx("span",{children:"Stats"})]})]}),E&&d.jsx(IB,{deferredPrompt:E,onInstall:M})]})}function VB(){const{signInWithGoogle:t,user:e}=nr(),n=kl();return QE.useEffect(()=>{e&&n("/")},[e,n]),d.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[d.jsxs("div",{className:"absolute inset-0 z-0",children:[d.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),d.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[d.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[d.jsx("div",{className:"flex justify-center mb-8",children:d.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:d.jsx(PN,{className:"w-10 h-10 text-white"})})}),d.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",d.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),d.jsxs(ge.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[d.jsx("div",{className:"bg-white p-1 rounded-full",children:d.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),d.jsx("span",{children:"Sign in with Google"}),d.jsx(jN,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),d.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}const OB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function LB(){const{subjects:t,userProfile:e,addScheduledSession:n,toggleScheduledSession:i,deleteScheduledSession:a,saveStudySession:l,generateSmartSchedule:c}=Et(),[h,m]=A.useState(new Date),[p,x]=A.useState(new Date),[b,w]=A.useState(!1),[E,I]=A.useState({subjectId:"",chapterId:"",topicId:"",time:"18:00",durationMinutes:60,notes:""}),D=()=>{t.length>0&&I(C=>({...C,subjectId:t[0].id})),w(!0)},M=C=>{if(C.preventDefault(),!p||!E.subjectId)return;const F=p.getFullYear(),B=String(p.getMonth()+1).padStart(2,"0"),se=String(p.getDate()).padStart(2,"0"),ae=`${F}-${B}-${se}`;n({subjectId:E.subjectId,date:ae,time:E.time,durationMinutes:E.durationMinutes,chapterId:E.chapterId||void 0,topicId:E.topicId||void 0,notes:E.notes}),w(!1)},O=A.useMemo(()=>{if(!p||!e.scheduledSessions)return[];const C=p.getFullYear(),F=String(p.getMonth()+1).padStart(2,"0"),B=String(p.getDate()).padStart(2,"0"),se=`${C}-${F}-${B}`;return e.scheduledSessions.filter(ae=>ae.date===se)},[p,e.scheduledSessions]),H=C=>{if(!e.scheduledSessions)return!1;const F=h.getFullYear(),B=String(h.getMonth()+1).padStart(2,"0"),se=String(C).padStart(2,"0"),ae=`${F}-${B}-${se}`;return e.scheduledSessions.some(P=>P.date===ae&&!P.isCompleted)},K=async C=>{C.isCompleted||confirm("Mark as done? Do you want to log this time to your stats?")&&await l(C.durationMinutes*60,C.subjectId),i(C.id)},G=(C,F)=>new Date(C,F+1,0).getDate(),ne=(C,F)=>new Date(C,F,1).getDay(),de=h.getFullYear(),j=h.getMonth(),S=G(de,j),R=ne(de,j),z=()=>m(new Date(de,j-1,1)),U=()=>m(new Date(de,j+1,1)),$=new Date,V=C=>C===$.getDate()&&j===$.getMonth()&&de===$.getFullYear(),ze=C=>p&&C===p.getDate()&&j===p.getMonth()&&de===p.getFullYear(),He=A.useMemo(()=>{const C=[];return t.forEach(F=>{F.chapters.forEach(B=>{B.isCompleted||B.topics.forEach(se=>{se.isCompleted||C.push({subjectName:F.name,chapterName:B.name,topicName:se.name,priority:Math.random()})})})}),C.sort((F,B)=>B.priority-F.priority).slice(0,3)},[t]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Study Planner"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage your schedule and stay on track."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(oy,{className:"w-5 h-5 text-blue-500"}),h.toLocaleString("default",{month:"long",year:"numeric"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:z,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(Wx,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})}),d.jsx("button",{onClick:U,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(Jx,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})})]})]}),d.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:OB.map(C=>d.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider py-2",children:C},C))}),d.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:R}).map((C,F)=>d.jsx("div",{className:"aspect-square"},`empty-${F}`)),Array.from({length:S}).map((C,F)=>{const B=F+1,se=V(B)?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 font-bold":"",ae=ze(B)&&!V(B)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold":"";return d.jsxs(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(new Date(de,j,B)),className:`aspect-square rounded-xl flex items-center justify-center text-sm cursor-pointer transition-all hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 relative ${se} ${ae}`,children:[B,H(B)&&d.jsx("div",{className:"absolute bottom-1 w-1 h-1 bg-indigo-500 rounded-full"})]},B)})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Vf,{className:"w-5 h-5 text-indigo-500"}),p?.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})]}),d.jsx("button",{onClick:D,className:"text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:underline",children:"+ Add"})]}),d.jsx("div",{className:"space-y-3 min-h-[100px]",children:O.length>0?O.map(C=>{const F=t.find(se=>se.id===C.subjectId);let B="";if(F&&C.chapterId){const se=F.chapters.find(ae=>ae.id===C.chapterId);if(se&&(B=se.name,C.topicId)){const ae=se.topics.find(P=>P.id===C.topicId);ae&&(B+=` > ${ae.name}`)}}return d.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:[d.jsx("input",{type:"checkbox",checked:C.isCompleted,onChange:()=>K(C),className:"mt-1 w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:`font-semibold text-sm ${C.isCompleted?"line-through text-slate-400":"text-slate-800 dark:text-slate-200"}`,children:F?.name||"Unknown Subject"}),d.jsx("button",{onClick:()=>a(C.id),className:"text-slate-400 hover:text-red-500",children:""})]}),B&&d.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium mt-0.5",children:B}),d.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex gap-2",children:[d.jsx("span",{className:"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-1.5 py-0.5 rounded",children:C.time}),d.jsxs("span",{children:[C.durationMinutes,"m"]})]}),C.notes&&d.jsxs("p",{className:"text-xs text-slate-500 mt-1 italic",children:['"',C.notes,'"']})]})]},C.id)}):d.jsxs("div",{className:"text-center py-8 text-slate-400 text-sm",children:[d.jsx("p",{children:"No study sessions scheduled."}),d.jsx("button",{onClick:D,className:"mt-4 px-4 py-2 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-lg text-sm font-semibold hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",children:"+ Schedule Session"})]})})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:d.jsx(HN,{})}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg overflow-hidden relative",children:[d.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h3",{className:"font-bold text-lg mb-1 flex items-center gap-2",children:[d.jsx(Cu,{className:"w-5 h-5 text-yellow-300 fill-yellow-300"}),"AI Study Path"]}),d.jsx("p",{className:"text-indigo-100 text-xs mb-4",children:"Automatically distribute your remaining topics until your exam dates."}),d.jsxs("button",{onClick:()=>{confirm("This will automatically schedule your incomplete topics across the calendar until your next exam dates. Existing manually scheduled sessions for those subjects on the same days will be skipped. Proceed?")&&c()},className:"w-full py-2.5 bg-white text-indigo-600 rounded-xl text-sm font-bold shadow-lg shadow-indigo-900/20 hover:bg-indigo-50 transition-all flex items-center justify-center gap-2",children:[d.jsx(Cu,{className:"w-4 h-4 fill-indigo-600"}),"Generate AI Path"]})]})]}),d.jsxs("div",{className:"space-y-3 mt-4",children:[d.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest pl-1 mb-2",children:"Smart Suggestions"}),He.length>0?He.map((C,F)=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 border border-slate-100 dark:border-slate-700 hover:border-indigo-200 dark:hover:border-indigo-900/50 transition-colors cursor-pointer shadow-sm",children:[d.jsx("div",{className:"text-[10px] font-medium text-indigo-600 dark:text-indigo-400 uppercase tracking-wider mb-1",children:C.subjectName}),d.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm line-clamp-1",children:C.topicName}),d.jsx("div",{className:"text-[10px] text-slate-500 mt-0.5 line-clamp-1",children:C.chapterName})]},F)):d.jsxs("div",{className:"text-center py-4 text-indigo-100",children:[d.jsx("p",{children:" All caught up!"}),d.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Great job clearing your backlog."})]})]})]})]}),b&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Schedule Study Session"}),d.jsxs("form",{onSubmit:M,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subject"}),d.jsx("select",{value:E.subjectId,onChange:C=>I({...E,subjectId:C.target.value,chapterId:"",topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none",children:t.map(C=>d.jsx("option",{value:C.id,children:C.name},C.id))})]}),E.subjectId&&d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Chapter (Opt)"}),d.jsxs("select",{value:E.chapterId,onChange:C=>I({...E,chapterId:C.target.value,topicId:""}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",children:[d.jsx("option",{value:"",children:"Any Chapter"}),t.find(C=>C.id===E.subjectId)?.chapters.map(C=>d.jsx("option",{value:C.id,children:C.name},C.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Topic (Opt)"}),d.jsxs("select",{value:E.topicId,onChange:C=>I({...E,topicId:C.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm",disabled:!E.chapterId,children:[d.jsx("option",{value:"",children:"Any Topic"}),E.chapterId&&t.find(C=>C.id===E.subjectId)?.chapters.find(C=>C.id===E.chapterId)?.topics.map(C=>d.jsx("option",{value:C.id,children:C.name},C.id))]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Time"}),d.jsx("input",{type:"time",value:E.time,onChange:C=>I({...E,time:C.target.value}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Duration (mins)"}),d.jsx("input",{type:"number",min:"5",step:"5",value:E.durationMinutes,onChange:C=>I({...E,durationMinutes:parseInt(C.target.value)}),className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes (Optional)"}),d.jsx("textarea",{value:E.notes,onChange:C=>I({...E,notes:C.target.value}),placeholder:"What topics will you cover?",className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none h-20 resize-none"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[d.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg font-medium",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg font-medium shadow-sm shadow-indigo-200 dark:shadow-none",children:"Schedule"})]})]})]})})]})}function UB(){const[t,e]=A.useState("overview"),[n,i]=A.useState([]),[a,l]=A.useState(!0),[c,h]=A.useState(""),[m,p]=A.useState(null),[x,b]=A.useState(!1),{isAdmin:w}=Et(),E=kl();A.useEffect(()=>{w||E("/",{replace:!0})},[w,E]),A.useEffect(()=>{if(!w)return;const G=Ku(Xr(hs,"users"),pm("userProfile.xp","desc"),gm(100)),ne=ym(G,de=>{const j=[];de.forEach(S=>{const R=S.data();R.userProfile&&j.push({id:S.id,userProfile:R.userProfile,lastActive:R.lastActive})}),i(j),l(!1)});return()=>ne()},[]);const I=n.reduce((G,ne)=>G+(ne.userProfile.totalStudyTime||0),0),D=n.length>0?(n.reduce((G,ne)=>G+(ne.userProfile.level||1),0)/n.length).toFixed(1):"0",M=n.filter(G=>G.userProfile.role==="admin").length,O=[{label:"Total Students",value:n.length.toString(),icon:pl,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",trend:"+12%",trendUp:!0},{label:"Total Study Hours",value:(I/3600).toFixed(1),icon:Vf,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20",trend:"+8%",trendUp:!0},{label:"Average Level",value:D,icon:Zi,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20",trend:"Rising",trendUp:!0},{label:"Active Admins",value:M.toString(),icon:eu,color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-900/20",trend:"Secured",trendUp:!0}],H=n.filter(G=>G.userProfile.name?.toLowerCase().includes(c.toLowerCase())||G.id.toLowerCase().includes(c.toLowerCase())),K=async(G,ne,de)=>{b(!0);try{const j=du(hs,"users",G);await SN(j,{[`userProfile.${ne}`]:de}),m&&m.id===G&&p({...m,userProfile:{...m.userProfile,[ne]:de}})}catch(j){console.error("Error updating user:",j),alert("Failed to update user record.")}finally{b(!1)}};return d.jsxs("div",{className:"space-y-8 pb-20 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"p-2.5 bg-indigo-600 rounded-2xl shadow-lg shadow-indigo-500/20",children:d.jsx(eu,{className:"w-6 h-6 text-white"})}),d.jsx("h1",{className:"text-3xl font-black text-slate-800 dark:text-white tracking-tight",children:"Admin Center"})]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium tracking-tight",children:"System-wide monitoring & granular student control"})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-1.5 bg-slate-100/50 dark:bg-slate-800/50 backdrop-blur-md rounded-2xl border border-slate-200/50 dark:border-slate-700/50",children:[d.jsx("button",{onClick:()=>e("overview"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${t==="overview"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white shadow-sm ring-1 ring-slate-200/50 dark:ring-slate-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-white/50 dark:hover:bg-white/5"}`,children:"Overview"}),d.jsx("button",{onClick:()=>e("users"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${t==="users"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white shadow-sm ring-1 ring-slate-200/50 dark:ring-slate-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-white/50 dark:hover:bg-white/5"}`,children:"Management"}),d.jsx("button",{onClick:()=>e("system"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${t==="system"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white shadow-sm ring-1 ring-slate-200/50 dark:ring-slate-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-white/50 dark:hover:bg-white/5"}`,children:"System"})]})]}),t==="overview"&&d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-8",children:[d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:O.map((G,ne)=>d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:ne*.1},className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl p-6 rounded-[2rem] border border-slate-100 dark:border-slate-700/50 shadow-xl shadow-slate-200/50 dark:shadow-none transition-all group hover:scale-[1.02] hover:shadow-2xl",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:`p-4 rounded-2xl shadow-inner ${G.bg}`,children:d.jsx(G.icon,{className:`w-6 h-6 ${G.color}`})}),d.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] font-black uppercase tracking-widest ${G.trendUp?"text-emerald-600 dark:text-emerald-400":"text-rose-500"}`,children:[G.trendUp?d.jsx(p7,{className:"w-4 h-4"}):d.jsx(u7,{className:"w-4 h-4"}),G.trend]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white tracking-tight",children:G.value}),d.jsx("div",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest",children:G.label})]})]},ne))}),d.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm p-8 rounded-[2.5rem] border border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center text-center py-20",children:[d.jsx(ml,{className:"w-12 h-12 text-slate-200 dark:text-slate-700 mb-4"}),d.jsx("h3",{className:"text-lg font-bold text-slate-400 dark:text-slate-600 uppercase tracking-widest",children:"Global Analytics Feed"}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-600 mt-2",children:"Aggregated user behavior data will stream here in real-time"})]})]}),t==="users"&&d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 py-2",children:[d.jsxs("div",{className:"relative w-full md:w-96",children:[d.jsx(OE,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search students by name or UID...",value:c,onChange:G=>h(G.target.value),className:"bg-white/80 dark:bg-slate-800 uppercase text-[10px] font-black tracking-widest dark:text-white border border-slate-200 dark:border-slate-700/50 rounded-2xl py-3.5 pl-12 pr-6 focus:ring-4 focus:ring-indigo-500/10 outline-none w-full shadow-lg shadow-slate-200/30 dark:shadow-none transition-all placeholder:text-slate-300 dark:placeholder:text-slate-600"})]}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 bg-white dark:bg-slate-800 text-[10px] font-black text-slate-500 uppercase tracking-widest rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm hover:bg-slate-50 transition-all",children:[d.jsx(J7,{className:"w-4 h-4"})," Filter By Role"]})})]}),d.jsx("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-[2.5rem] border border-slate-100 dark:border-slate-700/50 shadow-2xl shadow-slate-400/5 dark:shadow-none overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50/50 dark:bg-slate-900/30",children:[d.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 dark:border-slate-700/50",children:"Registered Student"}),d.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 dark:border-slate-700/50 text-center",children:"Status"}),d.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 dark:border-slate-700/50 text-center",children:"XP & Power"}),d.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 dark:border-slate-700/50 text-center",children:"Engagement"}),d.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 dark:border-slate-700/50 text-right",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-700/30",children:a?[1,2,3,4,5].map(G=>d.jsx("tr",{className:"animate-pulse",children:d.jsxs("td",{colSpan:5,className:"px-8 py-10",children:[d.jsx("div",{className:"h-4 bg-slate-100 dark:bg-slate-700 rounded-full w-48 mb-2"}),d.jsx("div",{className:"h-2 bg-slate-50 dark:bg-slate-700/50 rounded-full w-32"})]})},G)):H.length>0?H.map(G=>d.jsxs("tr",{className:"hover:bg-indigo-50/20 dark:hover:bg-indigo-500/5 transition-colors group",children:[d.jsx("td",{className:"px-8 py-6",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black text-lg shadow-xl shadow-indigo-500/20 ring-4 ring-white dark:ring-slate-700 group-hover:scale-110 transition-transform",children:G.userProfile.name?.charAt(0)||"?"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-black text-slate-800 dark:text-white text-sm tracking-tight",children:G.userProfile.name}),d.jsxs("div",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-black tracking-widest uppercase mt-0.5",children:[G.id.substring(0,12),"..."]})]})]})}),d.jsx("td",{className:"px-6 py-6 text-center",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black tracking-widest uppercase border ${G.userProfile.role==="admin"?"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-950/30 dark:border-rose-900/50":"bg-slate-100 text-slate-500 border-slate-200 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-400"}`,children:G.userProfile.role||"Student"})}),d.jsx("td",{className:"px-6 py-6 text-center",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("span",{className:"text-xs font-black text-slate-700 dark:text-slate-300",children:["Level ",G.userProfile.level||1]}),d.jsxs("span",{className:"text-[9px] font-bold text-indigo-500 uppercase tracking-widest",children:[(G.userProfile.xp||0).toLocaleString()," XP"]})]})}),d.jsx("td",{className:"px-6 py-6 text-center",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("span",{className:"text-xs font-black text-slate-700 dark:text-slate-300",children:[Math.round((G.userProfile.totalStudyTime||0)/3600)," HRS"]}),d.jsxs("span",{className:"text-[9px] font-bold text-emerald-500 uppercase tracking-widest",children:[G.userProfile.currentStreak||0," DAY STREAK"]})]})}),d.jsx("td",{className:"px-8 py-6 text-right",children:d.jsx("button",{onClick:()=>p(G),className:"p-2.5 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 bg-slate-50 dark:bg-slate-700/50 rounded-xl hover:shadow-lg transition-all",children:d.jsx(Y7,{className:"w-5 h-5"})})})]},G.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"px-8 py-20 text-center",children:d.jsxs("div",{className:"flex flex-col items-center text-slate-400 dark:text-slate-600",children:[d.jsx(OE,{className:"w-12 h-12 mb-4 opacity-20"}),d.jsx("p",{className:"font-black text-sm uppercase tracking-widest",children:"No matching user records found"})]})})})})]})})})]}),t==="system"&&d.jsxs(ge.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl p-8 rounded-[2.5rem] border border-slate-100 dark:border-slate-700/50 shadow-xl space-y-8",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-3 mb-6 transition-colors tracking-tight",children:[d.jsx(eu,{className:"w-6 h-6 text-indigo-500"}),"System Controls"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("button",{className:"flex flex-col items-center justify-center p-6 bg-slate-50/50 dark:bg-slate-900/50 rounded-3xl border border-slate-100 dark:border-slate-700/50 hover:bg-white dark:hover:bg-slate-700 transition-all group border-dashed",children:[d.jsx(Vf,{className:"w-8 h-8 text-slate-400 mb-3 group-hover:text-indigo-500 transition-colors"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Maintenance"})]}),d.jsxs("button",{className:"flex flex-col items-center justify-center p-6 bg-slate-50/50 dark:bg-slate-900/50 rounded-3xl border border-slate-100 dark:border-slate-700/50 hover:bg-white dark:hover:bg-slate-700 transition-all group border-dashed",children:[d.jsx(ml,{className:"w-8 h-8 text-slate-400 mb-3 group-hover:text-amber-500 transition-colors"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Force Sync"})]})]})]}),d.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700/50",children:[d.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-4",children:"Broadcast Message"}),d.jsx("textarea",{placeholder:"Global message to all users...",className:"w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-100 dark:border-slate-700/50 rounded-2xl p-4 text-sm font-medium focus:ring-4 focus:ring-indigo-500/10 outline-none h-32 transition-all resize-none"}),d.jsx("button",{className:"w-full mt-4 py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white font-black uppercase tracking-widest text-[10px] rounded-2xl shadow-xl shadow-indigo-500/20 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Send Global Notification"})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 p-8 rounded-[2.5rem] shadow-2xl shadow-indigo-500/30 text-white flex flex-col justify-between overflow-hidden relative",children:[d.jsx(eu,{className:"absolute -top-10 -right-10 w-48 h-48 opacity-10 rotate-12"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("h2",{className:"text-2xl font-black mb-2 flex items-center gap-3 tracking-tight",children:"Security Status"}),d.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-md rounded-full text-[10px] font-black tracking-widest uppercase border border-white/30",children:"Protected by Antigravity Shield"})]}),d.jsxs("div",{className:"space-y-4 relative z-10 mt-20",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs font-bold p-4 bg-white/10 rounded-2xl border border-white/10 backdrop-blur-sm",children:[d.jsx("span",{children:"Firestore Rules"}),d.jsx("span",{className:"text-emerald-400",children:"ACTIVE"})]}),d.jsxs("div",{className:"flex items-center justify-between text-xs font-bold p-4 bg-white/10 rounded-2xl border border-white/10 backdrop-blur-sm",children:[d.jsx("span",{children:"Auth Persistence"}),d.jsx("span",{className:"text-emerald-400",children:"ENABLED"})]}),d.jsxs("div",{className:"flex items-center justify-between text-xs font-bold p-4 bg-white/10 rounded-2xl border border-white/10 backdrop-blur-sm",children:[d.jsx("span",{children:"Admin Encryption"}),d.jsx("span",{className:"text-emerald-400",children:"SOLID"})]})]})]})]}),d.jsx(Yn,{children:m&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[d.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>p(null),className:"absolute inset-0 bg-slate-900/40 backdrop-blur-md"}),d.jsxs(ge.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{className:"p-8 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-900/30",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black text-xl shadow-xl shadow-indigo-500/20",children:m.userProfile.name?.charAt(0)||"?"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-black text-slate-800 dark:text-white leading-tight",children:m.userProfile.name}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:m.id})]})]}),d.jsx("button",{onClick:()=>p(null),className:"p-2.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-2xl text-slate-400 transition-colors",children:d.jsx(Us,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Authority Role"}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("button",{onClick:()=>K(m.id,"role",m.userProfile.role==="admin"?"student":"admin"),disabled:x,className:`flex-1 py-3 px-4 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${m.userProfile.role==="admin"?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-600 border-slate-100"} border`,children:[m.userProfile.role==="admin"?d.jsx(QU,{className:"w-4 h-4"}):d.jsx(JU,{className:"w-4 h-4"}),m.userProfile.role==="admin"?"Remove Admin":"Make Admin"]})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Account Level"}),d.jsx("div",{className:"flex items-center gap-2 pt-0.5",children:d.jsx("div",{className:"flex-1 bg-indigo-50/50 dark:bg-indigo-500/10 border border-indigo-100/50 dark:border-indigo-500/20 rounded-2xl py-2.5 px-4 text-center",children:d.jsxs("span",{className:"text-sm font-black text-indigo-600 dark:text-indigo-400",children:["Level ",m.userProfile.level||1]})})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:"text-xs font-black text-slate-800 dark:text-white uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Cu,{className:"w-4 h-4 text-amber-500"})," Granular Control"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-900/50 p-6 rounded-3xl border border-slate-100 dark:border-slate-700/50 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total XP"}),d.jsx(Zi,{className:"w-4 h-4 text-amber-500"})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("input",{type:"number",value:m.userProfile.xp||0,onChange:G=>K(m.id,"xp",parseInt(G.target.value)),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-2 px-4 text-sm font-black text-indigo-600"})})]}),d.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-900/50 p-6 rounded-3xl border border-slate-100 dark:border-slate-700/50 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Streak Days"}),d.jsx(ml,{className:"w-4 h-4 text-orange-500"})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("input",{type:"number",value:m.userProfile.currentStreak||0,onChange:G=>K(m.id,"currentStreak",parseInt(G.target.value)),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-2 px-4 text-sm font-black text-orange-600"})})]})]})]}),d.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700/50",children:[d.jsxs("h3",{className:"text-xs font-black text-rose-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[d.jsx(Zx,{className:"w-4 h-4"})," Reset Controls"]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{className:"flex-1 py-3 bg-rose-50 hover:bg-rose-100 text-rose-600 text-[10px] font-black uppercase tracking-widest rounded-2xl transition-all",children:"Clear XP"}),d.jsx("button",{className:"flex-1 py-3 bg-rose-50 hover:bg-rose-100 text-rose-600 text-[10px] font-black uppercase tracking-widest rounded-2xl transition-all",children:"Reset Streak"})]})]})]}),d.jsxs("div",{className:"p-8 bg-slate-50/50 dark:bg-slate-900/30 border-t border-slate-50 dark:border-slate-700 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>p(null),className:"px-6 py-2.5 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 font-black text-[10px] uppercase tracking-widest rounded-xl shadow-sm border border-slate-100 dark:border-slate-700",children:"Dismiss"}),d.jsx("button",{onClick:()=>p(null),className:"px-6 py-2.5 bg-indigo-600 text-white font-black text-[10px] uppercase tracking-widest rounded-xl shadow-xl shadow-indigo-500/20",children:"Complete Audit"})]})]})]})})]})}function zB({children:t}){const{user:e,loading:n}=nr();return n?d.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:"Loading..."}):e?d.jsx(d.Fragment,{children:t}):d.jsx(dS,{to:"/login"})}function BB({children:t}){const{isAdmin:e}=Et();return e?d.jsx(d.Fragment,{children:t}):d.jsx(dS,{to:"/",replace:!0})}function FB(){return d.jsx(iz,{children:d.jsx(oz,{children:d.jsx(Oz,{children:d.jsx(g5,{basename:"/Study-Mate/",children:d.jsxs($j,{children:[d.jsx(Ns,{path:"/login",element:d.jsx(VB,{})}),d.jsxs(Ns,{path:"/",element:d.jsx(zB,{children:d.jsx(PB,{})}),children:[d.jsx(Ns,{index:!0,element:d.jsx(bz,{})}),d.jsx(Ns,{path:"subject/:id",element:d.jsx(Az,{})}),d.jsx(Ns,{path:"planner",element:d.jsx(LB,{})}),d.jsx(Ns,{path:"analytics",element:d.jsx(Pz,{})}),d.jsx(Ns,{path:"timer",element:d.jsx(Vz,{})}),d.jsx(Ns,{path:"chat",element:d.jsx(CB,{})}),d.jsx(Ns,{path:"settings",element:d.jsx(jz,{})}),d.jsx(Ns,{path:"admin",element:d.jsx(BB,{children:d.jsx(UB,{})})})]})]})})})})})}class HB extends A.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),d.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),d.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}$R.createRoot(document.getElementById("root")).render(d.jsx(QE.StrictMode,{children:d.jsx(HB,{children:d.jsx(s7,{children:d.jsx(Nz,{children:d.jsx(_z,{children:d.jsx(FB,{})})})})})}));
