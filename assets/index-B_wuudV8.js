(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Jw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hp={exports:{}},Ec={};var P1;function wR(){if(P1)return Ec;P1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Ec.Fragment=e,Ec.jsx=n,Ec.jsxs=n,Ec}var L1;function ER(){return L1||(L1=1,Hp.exports=wR()),Hp.exports}var g=ER(),qp={exports:{}},Ie={};var U1;function SR(){if(U1)return Ie;U1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,P={};function B(U,te,ue){this.props=U,this.context=te,this.refs=P,this.updater=ue||M}B.prototype.isReactComponent={},B.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},B.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=B.prototype;function K(U,te,ue){this.props=U,this.context=te,this.refs=P,this.updater=ue||M}var J=K.prototype=new F;J.constructor=K,L(J,B.prototype),J.isPureReactComponent=!0;var ee=Array.isArray;function re(){}var I={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function C(U,te,ue){var de=ue.ref;return{$$typeof:t,type:U,key:te,ref:de!==void 0?de:null,props:ue}}function j(U,te){return C(U.type,te,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function V(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return te[ue]})}var D=/\/+/g;function Ee(U,te){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):te.toString(36)}function Pe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(re,re):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Q(U,te,ue,de,Te){var Re=typeof U;(Re==="undefined"||Re==="boolean")&&(U=null);var le=!1;if(U===null)le=!0;else switch(Re){case"bigint":case"string":case"number":le=!0;break;case"object":switch(U.$$typeof){case t:case e:le=!0;break;case v:return le=U._init,Q(le(U._payload),te,ue,de,Te)}}if(le)return Te=Te(U),le=de===""?"."+Ee(U,0):de,ee(Te)?(ue="",le!=null&&(ue=le.replace(D,"$&/")+"/"),Q(Te,te,ue,"",function(Qt){return Qt})):Te!=null&&(k(Te)&&(Te=j(Te,ue+(Te.key==null||U&&U.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+le)),te.push(Te)),1;le=0;var Ce=de===""?".":de+":";if(ee(U))for(var Le=0;Le<U.length;Le++)de=U[Le],Re=Ce+Ee(de,Le),le+=Q(de,te,ue,Re,Te);else if(Le=A(U),typeof Le=="function")for(U=Le.call(U),Le=0;!(de=U.next()).done;)de=de.value,Re=Ce+Ee(de,Le++),le+=Q(de,te,ue,Re,Te);else if(Re==="object"){if(typeof U.then=="function")return Q(Pe(U),te,ue,de,Te);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return le}function oe(U,te,ue){if(U==null)return U;var de=[],Te=0;return Q(U,de,"","",function(Re){return te.call(ue,Re,Te++)}),de}function fe(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var Ae=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ve={map:oe,forEach:function(U,te,ue){oe(U,function(){te.apply(this,arguments)},ue)},count:function(U){var te=0;return oe(U,function(){te++}),te},toArray:function(U){return oe(U,function(te){return te})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ie.Activity=b,Ie.Children=Ve,Ie.Component=B,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=K,Ie.StrictMode=i,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},Ie.cache=function(U){return function(){return U.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(U,te,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var de=L({},U.props),Te=U.key;if(te!=null)for(Re in te.key!==void 0&&(Te=""+te.key),te)!E.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(de[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)de.children=ue;else if(1<Re){for(var le=Array(Re),Ce=0;Ce<Re;Ce++)le[Ce]=arguments[Ce+2];de.children=le}return C(U.type,Te,de)},Ie.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ie.createElement=function(U,te,ue){var de,Te={},Re=null;if(te!=null)for(de in te.key!==void 0&&(Re=""+te.key),te)E.call(te,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=te[de]);var le=arguments.length-2;if(le===1)Te.children=ue;else if(1<le){for(var Ce=Array(le),Le=0;Le<le;Le++)Ce[Le]=arguments[Le+2];Te.children=Ce}if(U&&U.defaultProps)for(de in le=U.defaultProps,le)Te[de]===void 0&&(Te[de]=le[de]);return C(U,Re,Te)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(U){return{$$typeof:d,render:U}},Ie.isValidElement=k,Ie.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:fe}},Ie.memo=function(U,te){return{$$typeof:p,type:U,compare:te===void 0?null:te}},Ie.startTransition=function(U){var te=I.T,ue={};I.T=ue;try{var de=U(),Te=I.S;Te!==null&&Te(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(re,Ae)}catch(Re){Ae(Re)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),I.T=te}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(U){return I.H.use(U)},Ie.useActionState=function(U,te,ue){return I.H.useActionState(U,te,ue)},Ie.useCallback=function(U,te){return I.H.useCallback(U,te)},Ie.useContext=function(U){return I.H.useContext(U)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(U,te){return I.H.useDeferredValue(U,te)},Ie.useEffect=function(U,te){return I.H.useEffect(U,te)},Ie.useEffectEvent=function(U){return I.H.useEffectEvent(U)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(U,te,ue){return I.H.useImperativeHandle(U,te,ue)},Ie.useInsertionEffect=function(U,te){return I.H.useInsertionEffect(U,te)},Ie.useLayoutEffect=function(U,te){return I.H.useLayoutEffect(U,te)},Ie.useMemo=function(U,te){return I.H.useMemo(U,te)},Ie.useOptimistic=function(U,te){return I.H.useOptimistic(U,te)},Ie.useReducer=function(U,te,ue){return I.H.useReducer(U,te,ue)},Ie.useRef=function(U){return I.H.useRef(U)},Ie.useState=function(U){return I.H.useState(U)},Ie.useSyncExternalStore=function(U,te,ue){return I.H.useSyncExternalStore(U,te,ue)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.4",Ie}var z1;function k0(){return z1||(z1=1,qp.exports=SR()),qp.exports}var R=k0();const Zw=Jw(R);var Gp={exports:{}},Sc={},$p={exports:{}},Kp={};var B1;function AR(){return B1||(B1=1,(function(t){function e(Q,oe){var fe=Q.length;Q.push(oe);e:for(;0<fe;){var Ae=fe-1>>>1,Ve=Q[Ae];if(0<a(Ve,oe))Q[Ae]=oe,Q[fe]=Ve,fe=Ae;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var oe=Q[0],fe=Q.pop();if(fe!==oe){Q[0]=fe;e:for(var Ae=0,Ve=Q.length,U=Ve>>>1;Ae<U;){var te=2*(Ae+1)-1,ue=Q[te],de=te+1,Te=Q[de];if(0>a(ue,fe))de<Ve&&0>a(Te,ue)?(Q[Ae]=Te,Q[de]=fe,Ae=de):(Q[Ae]=ue,Q[te]=fe,Ae=te);else if(de<Ve&&0>a(Te,fe))Q[Ae]=Te,Q[de]=fe,Ae=de;else break e}}return oe}function a(Q,oe){var fe=Q.sortIndex-oe.sortIndex;return fe!==0?fe:Q.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],p=[],v=1,b=null,_=3,A=!1,M=!1,L=!1,P=!1,B=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function J(Q){for(var oe=n(p);oe!==null;){if(oe.callback===null)i(p);else if(oe.startTime<=Q)i(p),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(p)}}function ee(Q){if(L=!1,J(Q),!M)if(n(m)!==null)M=!0,re||(re=!0,V());else{var oe=n(p);oe!==null&&Pe(ee,oe.startTime-Q)}}var re=!1,I=-1,E=5,C=-1;function j(){return P?!0:!(t.unstable_now()-C<E)}function k(){if(P=!1,re){var Q=t.unstable_now();C=Q;var oe=!0;try{e:{M=!1,L&&(L=!1,F(I),I=-1),A=!0;var fe=_;try{t:{for(J(Q),b=n(m);b!==null&&!(b.expirationTime>Q&&j());){var Ae=b.callback;if(typeof Ae=="function"){b.callback=null,_=b.priorityLevel;var Ve=Ae(b.expirationTime<=Q);if(Q=t.unstable_now(),typeof Ve=="function"){b.callback=Ve,J(Q),oe=!0;break t}b===n(m)&&i(m),J(Q)}else i(m);b=n(m)}if(b!==null)oe=!0;else{var U=n(p);U!==null&&Pe(ee,U.startTime-Q),oe=!1}}break e}finally{b=null,_=fe,A=!1}oe=void 0}}finally{oe?V():re=!1}}}var V;if(typeof K=="function")V=function(){K(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ee=D.port2;D.port1.onmessage=k,V=function(){Ee.postMessage(null)}}else V=function(){B(k,0)};function Pe(Q,oe){I=B(function(){Q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var fe=_;_=oe;try{return Q()}finally{_=fe}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=_;_=Q;try{return oe()}finally{_=fe}},t.unstable_scheduleCallback=function(Q,oe,fe){var Ae=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ae+fe:Ae):fe=Ae,Q){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=fe+Ve,Q={id:v++,callback:oe,priorityLevel:Q,startTime:fe,expirationTime:Ve,sortIndex:-1},fe>Ae?(Q.sortIndex=fe,e(p,Q),n(m)===null&&Q===n(p)&&(L?(F(I),I=-1):L=!0,Pe(ee,fe-Ae))):(Q.sortIndex=Ve,e(m,Q),M||A||(M=!0,re||(re=!0,V()))),Q},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(Q){var oe=_;return function(){var fe=_;_=oe;try{return Q.apply(this,arguments)}finally{_=fe}}}})(Kp)),Kp}var F1;function CR(){return F1||(F1=1,$p.exports=AR()),$p.exports}var Yp={exports:{}},cn={};var H1;function NR(){if(H1)return cn;H1=1;var t=k0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},cn.flushSync=function(m){var p=u.T,v=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=v,i.d.f()}},cn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},cn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},cn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:A}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:_,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},cn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},cn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},cn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},cn.requestFormReset=function(m){i.d.r(m)},cn.unstable_batchedUpdates=function(m,p){return m(p)},cn.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.2.4",cn}var q1;function RR(){if(q1)return Yp.exports;q1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yp.exports=NR(),Yp.exports}var G1;function kR(){if(G1)return Sc;G1=1;var t=CR(),e=k0(),n=RR();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var f=o.return;if(f===null)break;var y=f.alternate;if(y===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===o)return m(f),s;if(y===c)return m(f),r;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=f,c=y;else{for(var T=!1,S=f.child;S;){if(S===o){T=!0,o=f,c=y;break}if(S===c){T=!0,c=f,o=y;break}S=S.sibling}if(!T){for(S=y.child;S;){if(S===o){T=!0,o=y,c=f;break}if(S===c){T=!0,c=y,o=f;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),K=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function Ee(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case B:return"Profiler";case P:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case K:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case J:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return r=s.displayName||null,r!==null?r:Ee(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return Ee(s(r))}catch{}}return null}var Pe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ae=[],Ve=-1;function U(s){return{current:s}}function te(s){0>Ve||(s.current=Ae[Ve],Ae[Ve]=null,Ve--)}function ue(s,r){Ve++,Ae[Ve]=s.current,s.current=r}var de=U(null),Te=U(null),Re=U(null),le=U(null);function Ce(s,r){switch(ue(Re,r),ue(Te,s),ue(de,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?a1(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=a1(r),s=o1(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(de),ue(de,s)}function Le(){te(de),te(Te),te(Re)}function Qt(s){s.memoizedState!==null&&ue(le,s);var r=de.current,o=o1(r,s.type);r!==o&&(ue(Te,s),ue(de,o))}function Rs(s){Te.current===s&&(te(de),te(Te)),le.current===s&&(te(le),xc._currentValue=fe)}var li,ci;function Xt(s){if(li===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);li=r&&r[1]||"",ci=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+li+s+ci}var os=!1;function Yr(s,r){if(!s||os)return"";os=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Y=W}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(W){Y=W}s.call(ie.prototype)}}else{try{throw Error()}catch(W){Y=W}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],S=y[1];if(T&&S){var O=T.split(`
`),$=S.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===$.length)for(c=O.length-1,f=$.length-1;1<=c&&0<=f&&O[c]!==$[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==$[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==$[f]){var Z=`
`+O[c].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=c&&0<=f);break}}}finally{os=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Xt(o):""}function _l(s,r){switch(s.tag){case 26:case 27:case 5:return Xt(s.type);case 16:return Xt("Lazy");case 13:return s.child!==r&&r!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return Yr(s.type,!1);case 11:return Yr(s.type.render,!1);case 1:return Yr(s.type,!0);case 31:return Xt("Activity");default:return""}}function Tl(s){try{var r="",o=null;do r+=_l(s,o),o=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var At=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,$i=t.unstable_cancelCallback,Gf=t.unstable_shouldYield,Au=t.unstable_requestPaint,pn=t.unstable_now,Qr=t.unstable_getCurrentPriorityLevel,wl=t.unstable_ImmediatePriority,El=t.unstable_UserBlockingPriority,Ki=t.unstable_NormalPriority,$f=t.unstable_LowPriority,Cu=t.unstable_IdlePriority,Nu=t.log,Ru=t.unstable_setDisableYieldValue,ls=null,Wt=null;function Fn(s){if(typeof Nu=="function"&&Ru(s),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(ls,s)}catch{}}var _t=Math.clz32?Math.clz32:Iu,ku=Math.log,qa=Math.LN2;function Iu(s){return s>>>=0,s===0?32:31-(ku(s)/qa|0)|0}var ks=256,Xr=262144,Ct=4194304;function Is(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ds(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,y=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?f=Is(c):(T&=S,T!==0?f=Is(T):o||(o=S&~s,o!==0&&(f=Is(o))))):(S=c&~y,S!==0?f=Is(S):T!==0?f=Is(T):o||(o=c&~s,o!==0&&(f=Is(o)))),f===0?0:r!==0&&r!==f&&(r&y)===0&&(y=f&-f,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:f}function cs(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Kf(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var s=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),s}function js(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Wr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Yf(s,r,o,c,f,y){var T=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,O=s.expirationTimes,$=s.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-_t(o),ie=1<<Z;S[Z]=0,O[Z]=-1;var Y=$[Z];if(Y!==null)for($[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}o&=~ie}c!==0&&Jr(s,c,0),y!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~r))}function Jr(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-_t(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function Sl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-_t(o),f=1<<c;f&r|s[c]&r&&(s[c]|=r),o&=~f}}function Al(s,r){var o=r&-r;return o=(o&42)!==0?1:Zr(o),(o&(s.suspendedLanes|r))!==0?0:o}function Zr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ui(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ju(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:k1(s.type))}function us(s,r){var o=oe.p;try{return oe.p=s,r()}finally{oe.p=o}}var hs=Math.random().toString(36).slice(2),Nt="__reactFiber$"+hs,qt="__reactProps$"+hs,Ms="__reactContainer$"+hs,Ga="__reactEvents$"+hs,Qf="__reactListeners$"+hs,Mu="__reactHandles$"+hs,Vu="__reactResources$"+hs,Vs="__reactMarker$"+hs;function $a(s){delete s[Nt],delete s[qt],delete s[Ga],delete s[Qf],delete s[Mu]}function Os(s){var r=s[Nt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Ms]||o[Nt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=m1(s);s!==null;){if(o=s[Nt])return o;s=m1(s)}return r}s=o,o=s.parentNode}return null}function Hn(s){if(s=s[Nt]||s[Ms]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function In(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ps(s){var r=s[Vu];return r||(r=s[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(s){s[Vs]=!0}var Cl=new Set,Nl={};function Ls(s,r){Us(s,r),Us(s+"Capture",r)}function Us(s,r){for(Nl[s]=r,s=0;s<r.length;s++)Cl.add(r[s])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},Il={};function Ou(s){return At.call(Il,s)?!0:At.call(kl,s)?!1:Rl.test(s)?Il[s]=!0:(kl[s]=!0,!1)}function Ka(s,r,o){if(Ou(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Dn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function kt(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function Gt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Yi(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Dl(s,r,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,y=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,y.call(this,T)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Ze(s){if(!s._valueTracker){var r=Yi(s)?"checked":"value";s._valueTracker=Dl(s,r,""+s[r])}}function ea(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=Yi(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ta=/[\n"\\]/g;function _n(s){return s.replace(ta,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ya(s,r,o,c,f,y,T,S){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Gt(r)):s.value!==""+Gt(r)&&(s.value=""+Gt(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?jl(s,T,Gt(r)):o!=null?jl(s,T,Gt(o)):c!=null&&s.removeAttribute("value"),f==null&&y!=null&&(s.defaultChecked=!!y),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Gt(S):s.removeAttribute("name")}function Pu(s,r,o,c,f,y,T,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Ze(s);return}o=o!=null?""+Gt(o):"",r=r!=null?""+Gt(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),Ze(s)}function jl(s,r,o){r==="number"&&zs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Qi(s,r,o,c){if(s=s.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<s.length;o++)f=r.hasOwnProperty("$"+s[o].value),s[o].selected!==f&&(s[o].selected=f),f&&c&&(s[o].defaultSelected=!0)}else{for(o=""+Gt(o),r=null,f=0;f<s.length;f++){if(s[f].value===o){s[f].selected=!0,c&&(s[f].defaultSelected=!0);return}r!==null||s[f].disabled||(r=s[f])}r!==null&&(r.selected=!0)}}function Lu(s,r,o){if(r!=null&&(r=""+Gt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Gt(o):""}function Xi(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(Pe(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Gt(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),Ze(s)}function Tn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||Uu.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Vl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&Ml(s,f,c)}else for(var y in r)r.hasOwnProperty(y)&&Ml(s,y,r[y])}function Qa(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(s){return Wi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ds(){}var Ol=null;function qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ji=null,Bs=null;function na(s){var r=Hn(s);if(r&&(s=r.stateNode)){var o=s[qt]||null;e:switch(s=r.stateNode,r.type){case"input":if(Ya(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var f=c[qt]||null;if(!f)throw Error(i(90));Ya(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&ea(c)}break e;case"textarea":Lu(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Qi(s,!!o.multiple,r,!1)}}}var Wa=!1;function Zi(s,r,o){if(Wa)return s(r,o);Wa=!0;try{var c=s(r);return c}finally{if(Wa=!1,(Ji!==null||Bs!==null)&&(jh(),Ji&&(r=Ji,s=Bs,Bs=Ji=null,na(r),s)))for(r=0;r<s.length;r++)na(s[r])}}function fs(s,r){var o=s.stateNode;if(o===null)return null;var c=o[qt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(Gn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){sa=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{sa=!1}var Fs=null,Pl=null,ia=null;function Ll(){if(ia)return ia;var s,r=Pl,o=r.length,c,f="value"in Fs?Fs.value:Fs.textContent,y=f.length;for(s=0;s<o&&r[s]===f[s];s++);var T=o-s;for(c=1;c<=T&&r[o-c]===f[y-c];c++);return ia=f.slice(s,1<c?1-c:void 0)}function ra(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function hi(){return!0}function ms(){return!1}function Jt(s){function r(o,c,f,y,T){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hi:ms,this.isPropagationStopped=ms,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),r}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Jt(di),er=b({},di,{view:0,detail:0}),Ul=Jt(er),tr,Ja,qs,Za=b({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qs&&(qs&&s.type==="mousemove"?(tr=s.screenX-qs.screenX,Ja=s.screenY-qs.screenY):Ja=tr=0,qs=s),tr)},movementY:function(s){return"movementY"in s?s.movementY:Ja}}),zl=Jt(Za),aa=b({},Za,{dataTransfer:0}),Bu=Jt(aa),Fu=b({},er,{relatedTarget:0}),oa=Jt(Fu),Bl=b({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=Jt(Bl),eo=b({},di,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),qu=Jt(eo),Gu=b({},di,{data:0}),Gs=Jt(Gu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Yu[s])?!!r[s]:!1}function nr(){return Qu}var gn=b({},er,{key:function(s){if(s.key){var r=$u[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ra(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ku[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(s){return s.type==="keypress"?ra(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ra(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xu=Jt(gn),Wu=b({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fi=Jt(Wu),h=b({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),x=Jt(h),w=b({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=Jt(w),q=b({},Za,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Jt(q),ce=b({},di,{newState:0,oldState:0}),je=Jt(ce),Tt=[9,13,27,32],Xe=Gn&&"CompositionEvent"in window,dt=null;Gn&&"documentMode"in document&&(dt=document.documentMode);var $n=Gn&&"TextEvent"in window&&!dt,$s=Gn&&(!Xe||dt&&8<dt&&11>=dt),ps=" ",gs=!1;function la(s,r){switch(s){case"keyup":return Tt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function to(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var no=!1;function KC(s,r){switch(s){case"compositionend":return to(r);case"keypress":return r.which!==32?null:(gs=!0,ps);case"textInput":return s=r.data,s===ps&&gs?null:s;default:return null}}function YC(s,r){if(no)return s==="compositionend"||!Xe&&la(s,r)?(s=Ll(),ia=Pl=Fs=null,no=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $s&&r.locale!=="ko"?null:r.data;default:return null}}var QC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!QC[s.type]:r==="textarea"}function vv(s,r,o,c){Ji?Bs?Bs.push(c):Bs=[c]:Ji=c,r=zh(r,"onChange"),0<r.length&&(o=new Hs("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var Fl=null,Hl=null;function XC(s){e1(s,0)}function Ju(s){var r=In(s);if(ea(r))return s}function bv(s,r){if(s==="change")return r}var xv=!1;if(Gn){var Xf;if(Gn){var Wf="oninput"in document;if(!Wf){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),Wf=typeof _v.oninput=="function"}Xf=Wf}else Xf=!1;xv=Xf&&(!document.documentMode||9<document.documentMode)}function Tv(){Fl&&(Fl.detachEvent("onpropertychange",wv),Hl=Fl=null)}function wv(s){if(s.propertyName==="value"&&Ju(Hl)){var r=[];vv(r,Hl,s,qn(s)),Zi(XC,r)}}function WC(s,r,o){s==="focusin"?(Tv(),Fl=r,Hl=o,Fl.attachEvent("onpropertychange",wv)):s==="focusout"&&Tv()}function JC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ju(Hl)}function ZC(s,r){if(s==="click")return Ju(r)}function eN(s,r){if(s==="input"||s==="change")return Ju(r)}function tN(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var jn=typeof Object.is=="function"?Object.is:tN;function ql(s,r){if(jn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!At.call(r,f)||!jn(s[f],r[f]))return!1}return!0}function Ev(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Sv(s,r){var o=Ev(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ev(o)}}function Av(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Av(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Cv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=zs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=zs(s.document)}return r}function Jf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var nN=Gn&&"documentMode"in document&&11>=document.documentMode,so=null,Zf=null,Gl=null,em=!1;function Nv(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;em||so==null||so!==zs(c)||(c=so,"selectionStart"in c&&Jf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Gl&&ql(Gl,c)||(Gl=c,c=zh(Zf,"onSelect"),0<c.length&&(r=new Hs("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=so)))}function ca(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var io={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},tm={},Rv={};Gn&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ua(s){if(tm[s])return tm[s];if(!io[s])return s;var r=io[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Rv)return tm[s]=r[o];return s}var kv=ua("animationend"),Iv=ua("animationiteration"),Dv=ua("animationstart"),sN=ua("transitionrun"),iN=ua("transitionstart"),rN=ua("transitioncancel"),jv=ua("transitionend"),Mv=new Map,nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nm.push("scrollEnd");function ys(s,r){Mv.set(s,r),Ls(r,[s])}var Zu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Kn=[],ro=0,sm=0;function eh(){for(var s=ro,r=sm=ro=0;r<s;){var o=Kn[r];Kn[r++]=null;var c=Kn[r];Kn[r++]=null;var f=Kn[r];Kn[r++]=null;var y=Kn[r];if(Kn[r++]=null,c!==null&&f!==null){var T=c.pending;T===null?f.next=f:(f.next=T.next,T.next=f),c.pending=f}y!==0&&Vv(o,f,y)}}function th(s,r,o,c){Kn[ro++]=s,Kn[ro++]=r,Kn[ro++]=o,Kn[ro++]=c,sm|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function im(s,r,o,c){return th(s,r,o,c),nh(s)}function ha(s,r){return th(s,null,null,r),nh(s)}function Vv(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var f=!1,y=s.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(f=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,f&&r!==null&&(f=31-_t(o),s=y.hiddenUpdates,c=s[f],c===null?s[f]=[r]:c.push(r),r.lane=o|536870912),y):null}function nh(s){if(50<fc)throw fc=0,fp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ao={};function aN(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(s,r,o,c){return new aN(s,r,o,c)}function rm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function mi(s,r){var o=s.alternate;return o===null?(o=Mn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Ov(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function sh(s,r,o,c,f,y){var T=0;if(c=s,typeof s=="function")rm(s)&&(T=1);else if(typeof s=="string")T=hR(s,o,de.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Mn(31,o,r,f),s.elementType=C,s.lanes=y,s;case L:return da(o.children,f,y,r);case P:T=8,f|=24;break;case B:return s=Mn(12,o,r,f|2),s.elementType=B,s.lanes=y,s;case ee:return s=Mn(13,o,r,f),s.elementType=ee,s.lanes=y,s;case re:return s=Mn(19,o,r,f),s.elementType=re,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:T=10;break e;case F:T=9;break e;case J:T=11;break e;case I:T=14;break e;case E:T=16,c=null;break e}T=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Mn(T,o,r,f),r.elementType=s,r.type=c,r.lanes=y,r}function da(s,r,o,c){return s=Mn(7,s,c,r),s.lanes=o,s}function am(s,r,o){return s=Mn(6,s,null,r),s.lanes=o,s}function Pv(s){var r=Mn(18,null,null,0);return r.stateNode=s,r}function om(s,r,o){return r=Mn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Lv=new WeakMap;function Yn(s,r){if(typeof s=="object"&&s!==null){var o=Lv.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Tl(r)},Lv.set(s,r),r)}return{value:s,source:r,stack:Tl(r)}}var oo=[],lo=0,ih=null,$l=0,Qn=[],Xn=0,sr=null,Ks=1,Ys="";function pi(s,r){oo[lo++]=$l,oo[lo++]=ih,ih=s,$l=r}function Uv(s,r,o){Qn[Xn++]=Ks,Qn[Xn++]=Ys,Qn[Xn++]=sr,sr=s;var c=Ks;s=Ys;var f=32-_t(c)-1;c&=~(1<<f),o+=1;var y=32-_t(r)+f;if(30<y){var T=f-f%5;y=(c&(1<<T)-1).toString(32),c>>=T,f-=T,Ks=1<<32-_t(r)+f|o<<f|c,Ys=y+s}else Ks=1<<y|o<<f|c,Ys=s}function lm(s){s.return!==null&&(pi(s,1),Uv(s,1,0))}function cm(s){for(;s===ih;)ih=oo[--lo],oo[lo]=null,$l=oo[--lo],oo[lo]=null;for(;s===sr;)sr=Qn[--Xn],Qn[Xn]=null,Ys=Qn[--Xn],Qn[Xn]=null,Ks=Qn[--Xn],Qn[Xn]=null}function zv(s,r){Qn[Xn++]=Ks,Qn[Xn++]=Ys,Qn[Xn++]=sr,Ks=r.id,Ys=r.overflow,sr=s}var Zt=null,ct=null,$e=!1,ir=null,Wn=!1,um=Error(i(519));function rr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Yn(r,s)),um}function Bv(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Nt]=s,r[qt]=c,o){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(o=0;o<pc.length;o++)ze(pc[o],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),Pu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),Xi(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||i1(r.textContent,o)?(c.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),c.onScroll!=null&&ze("scroll",r),c.onScrollEnd!=null&&ze("scrollend",r),c.onClick!=null&&(r.onclick=ds),r=!0):r=!1,r||rr(s,!0)}function Fv(s){for(Zt=s.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Zt=Zt.return}}function co(s){if(s!==Zt)return!1;if(!$e)return Fv(s),$e=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Np(s.type,s.memoizedProps)),o=!o),o&&ct&&rr(s),Fv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ct=f1(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ct=f1(s)}else r===27?(r=ct,br(s.type)?(s=jp,jp=null,ct=s):ct=r):ct=Zt?Zn(s.stateNode.nextSibling):null;return!0}function fa(){ct=Zt=null,$e=!1}function hm(){var s=ir;return s!==null&&(An===null?An=s:An.push.apply(An,s),ir=null),s}function Kl(s){ir===null?ir=[s]:ir.push(s)}var dm=U(null),ma=null,gi=null;function ar(s,r,o){ue(dm,r._currentValue),r._currentValue=o}function yi(s){s._currentValue=dm.current,te(dm)}function fm(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function mm(s,r,o,c){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var y=f.dependencies;if(y!==null){var T=f.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=f;for(var O=0;O<r.length;O++)if(S.context===r[O]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),fm(y.return,o,s),c||(T=null);break e}y=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(i(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),fm(T,o,s),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===s){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function uo(s,r,o,c){s=null;for(var f=r,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=f.type;jn(f.pendingProps.value,T.value)||(s!==null?s.push(S):s=[S])}}else if(f===le.current){if(T=f.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(xc):s=[xc])}f=f.return}s!==null&&mm(r,s,o,c),r.flags|=262144}function rh(s){for(s=s.firstContext;s!==null;){if(!jn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function pa(s){ma=s,gi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function en(s){return Hv(ma,s)}function ah(s,r){return ma===null&&pa(s),Hv(s,r)}function Hv(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},gi===null){if(s===null)throw Error(i(308));gi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else gi=gi.next=r;return o}var oN=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},lN=t.unstable_scheduleCallback,cN=t.unstable_NormalPriority,It={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pm(){return{controller:new oN,data:new Map,refCount:0}}function Yl(s){s.refCount--,s.refCount===0&&lN(cN,function(){s.controller.abort()})}var Ql=null,gm=0,ho=0,fo=null;function uN(s,r){if(Ql===null){var o=Ql=[];gm=0,ho=bp(),fo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return gm++,r.then(qv,qv),r}function qv(){if(--gm===0&&Ql!==null){fo!==null&&(fo.status="fulfilled");var s=Ql;Ql=null,ho=0,fo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function hN(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Gv=Q.S;Q.S=function(s,r){Nx=pn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&uN(s,r),Gv!==null&&Gv(s,r)};var ga=U(null);function ym(){var s=ga.current;return s!==null?s:at.pooledCache}function oh(s,r){r===null?ue(ga,ga.current):ue(ga,r.pool)}function $v(){var s=ym();return s===null?null:{parent:It._currentValue,pool:s}}var mo=Error(i(460)),vm=Error(i(474)),lh=Error(i(542)),ch={then:function(){}};function Kv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Yv(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(ds,ds),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Xv(s),s;default:if(typeof r.status=="string")r.then(ds,ds);else{if(s=at,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Xv(s),s}throw va=r,mo}}function ya(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(va=o,mo):o}}var va=null;function Qv(){if(va===null)throw Error(i(459));var s=va;return va=null,s}function Xv(s){if(s===mo||s===lh)throw Error(i(483))}var po=null,Xl=0;function uh(s){var r=Xl;return Xl+=1,po===null&&(po=[]),Yv(po,s,r)}function Wl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function hh(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Wv(s){function r(H,z){if(s){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function o(H,z){if(!s)return null;for(;z!==null;)r(H,z),z=z.sibling;return null}function c(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function f(H,z){return H=mi(H,z),H.index=0,H.sibling=null,H}function y(H,z,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<z?(H.flags|=67108866,z):G):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function T(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function S(H,z,G,ne){return z===null||z.tag!==6?(z=am(G,H.mode,ne),z.return=H,z):(z=f(z,G),z.return=H,z)}function O(H,z,G,ne){var be=G.type;return be===L?Z(H,z,G.props.children,ne,G.key):z!==null&&(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===E&&ya(be)===z.type)?(z=f(z,G.props),Wl(z,G),z.return=H,z):(z=sh(G.type,G.key,G.props,null,H.mode,ne),Wl(z,G),z.return=H,z)}function $(H,z,G,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=om(G,H.mode,ne),z.return=H,z):(z=f(z,G.children||[]),z.return=H,z)}function Z(H,z,G,ne,be){return z===null||z.tag!==7?(z=da(G,H.mode,ne,be),z.return=H,z):(z=f(z,G),z.return=H,z)}function ie(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=am(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return G=sh(z.type,z.key,z.props,null,H.mode,G),Wl(G,z),G.return=H,G;case M:return z=om(z,H.mode,G),z.return=H,z;case E:return z=ya(z),ie(H,z,G)}if(Pe(z)||V(z))return z=da(z,H.mode,G,null),z.return=H,z;if(typeof z.then=="function")return ie(H,uh(z),G);if(z.$$typeof===K)return ie(H,ah(H,z),G);hh(H,z)}return null}function Y(H,z,G,ne){var be=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return be!==null?null:S(H,z,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===be?O(H,z,G,ne):null;case M:return G.key===be?$(H,z,G,ne):null;case E:return G=ya(G),Y(H,z,G,ne)}if(Pe(G)||V(G))return be!==null?null:Z(H,z,G,ne,null);if(typeof G.then=="function")return Y(H,z,uh(G),ne);if(G.$$typeof===K)return Y(H,z,ah(H,G),ne);hh(H,G)}return null}function W(H,z,G,ne,be){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(G)||null,S(z,H,""+ne,be);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return H=H.get(ne.key===null?G:ne.key)||null,O(z,H,ne,be);case M:return H=H.get(ne.key===null?G:ne.key)||null,$(z,H,ne,be);case E:return ne=ya(ne),W(H,z,G,ne,be)}if(Pe(ne)||V(ne))return H=H.get(G)||null,Z(z,H,ne,be,null);if(typeof ne.then=="function")return W(H,z,G,uh(ne),be);if(ne.$$typeof===K)return W(H,z,G,ah(z,ne),be);hh(z,ne)}return null}function pe(H,z,G,ne){for(var be=null,Ye=null,ye=z,Oe=z=0,Fe=null;ye!==null&&Oe<G.length;Oe++){ye.index>Oe?(Fe=ye,ye=null):Fe=ye.sibling;var Qe=Y(H,ye,G[Oe],ne);if(Qe===null){ye===null&&(ye=Fe);break}s&&ye&&Qe.alternate===null&&r(H,ye),z=y(Qe,z,Oe),Ye===null?be=Qe:Ye.sibling=Qe,Ye=Qe,ye=Fe}if(Oe===G.length)return o(H,ye),$e&&pi(H,Oe),be;if(ye===null){for(;Oe<G.length;Oe++)ye=ie(H,G[Oe],ne),ye!==null&&(z=y(ye,z,Oe),Ye===null?be=ye:Ye.sibling=ye,Ye=ye);return $e&&pi(H,Oe),be}for(ye=c(ye);Oe<G.length;Oe++)Fe=W(ye,H,Oe,G[Oe],ne),Fe!==null&&(s&&Fe.alternate!==null&&ye.delete(Fe.key===null?Oe:Fe.key),z=y(Fe,z,Oe),Ye===null?be=Fe:Ye.sibling=Fe,Ye=Fe);return s&&ye.forEach(function(Er){return r(H,Er)}),$e&&pi(H,Oe),be}function we(H,z,G,ne){if(G==null)throw Error(i(151));for(var be=null,Ye=null,ye=z,Oe=z=0,Fe=null,Qe=G.next();ye!==null&&!Qe.done;Oe++,Qe=G.next()){ye.index>Oe?(Fe=ye,ye=null):Fe=ye.sibling;var Er=Y(H,ye,Qe.value,ne);if(Er===null){ye===null&&(ye=Fe);break}s&&ye&&Er.alternate===null&&r(H,ye),z=y(Er,z,Oe),Ye===null?be=Er:Ye.sibling=Er,Ye=Er,ye=Fe}if(Qe.done)return o(H,ye),$e&&pi(H,Oe),be;if(ye===null){for(;!Qe.done;Oe++,Qe=G.next())Qe=ie(H,Qe.value,ne),Qe!==null&&(z=y(Qe,z,Oe),Ye===null?be=Qe:Ye.sibling=Qe,Ye=Qe);return $e&&pi(H,Oe),be}for(ye=c(ye);!Qe.done;Oe++,Qe=G.next())Qe=W(ye,H,Oe,Qe.value,ne),Qe!==null&&(s&&Qe.alternate!==null&&ye.delete(Qe.key===null?Oe:Qe.key),z=y(Qe,z,Oe),Ye===null?be=Qe:Ye.sibling=Qe,Ye=Qe);return s&&ye.forEach(function(TR){return r(H,TR)}),$e&&pi(H,Oe),be}function rt(H,z,G,ne){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var be=G.key;z!==null;){if(z.key===be){if(be=G.type,be===L){if(z.tag===7){o(H,z.sibling),ne=f(z,G.props.children),ne.return=H,H=ne;break e}}else if(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===E&&ya(be)===z.type){o(H,z.sibling),ne=f(z,G.props),Wl(ne,G),ne.return=H,H=ne;break e}o(H,z);break}else r(H,z);z=z.sibling}G.type===L?(ne=da(G.props.children,H.mode,ne,G.key),ne.return=H,H=ne):(ne=sh(G.type,G.key,G.props,null,H.mode,ne),Wl(ne,G),ne.return=H,H=ne)}return T(H);case M:e:{for(be=G.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(H,z.sibling),ne=f(z,G.children||[]),ne.return=H,H=ne;break e}else{o(H,z);break}else r(H,z);z=z.sibling}ne=om(G,H.mode,ne),ne.return=H,H=ne}return T(H);case E:return G=ya(G),rt(H,z,G,ne)}if(Pe(G))return pe(H,z,G,ne);if(V(G)){if(be=V(G),typeof be!="function")throw Error(i(150));return G=be.call(G),we(H,z,G,ne)}if(typeof G.then=="function")return rt(H,z,uh(G),ne);if(G.$$typeof===K)return rt(H,z,ah(H,G),ne);hh(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(H,z.sibling),ne=f(z,G),ne.return=H,H=ne):(o(H,z),ne=am(G,H.mode,ne),ne.return=H,H=ne),T(H)):o(H,z)}return function(H,z,G,ne){try{Xl=0;var be=rt(H,z,G,ne);return po=null,be}catch(ye){if(ye===mo||ye===lh)throw ye;var Ye=Mn(29,ye,null,H.mode);return Ye.lanes=ne,Ye.return=H,Ye}}}var ba=Wv(!0),Jv=Wv(!1),or=!1;function bm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function lr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function cr(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=nh(s),Vv(s,null,o),r}return th(s,c,r,o),nh(s)}function Jl(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,Sl(s,o)}}function _m(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?f=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?f=y=r:y=y.next=r}else f=y=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Tm=!1;function Zl(){if(Tm){var s=fo;if(s!==null)throw s}}function ec(s,r,o,c){Tm=!1;var f=s.updateQueue;or=!1;var y=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,$=O.next;O.next=null,T===null?y=$:T.next=$,T=O;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==T&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=O))}if(y!==null){var ie=f.baseState;T=0,Z=$=O=null,S=y;do{var Y=S.lane&-536870913,W=Y!==S.lane;if(W?(Be&Y)===Y:(c&Y)===Y){Y!==0&&Y===ho&&(Tm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=s,we=S;Y=r;var rt=o;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){ie=pe.call(rt,ie,Y);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,Y=typeof pe=="function"?pe.call(rt,ie,Y):pe,Y==null)break e;ie=b({},ie,Y);break e;case 2:or=!0}}Y=S.callback,Y!==null&&(s.flags|=64,W&&(s.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=W,O=ie):Z=Z.next=W,T|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;W=S,S=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);Z===null&&(O=ie),f.baseState=O,f.firstBaseUpdate=$,f.lastBaseUpdate=Z,y===null&&(f.shared.lanes=0),mr|=T,s.lanes=T,s.memoizedState=ie}}function Zv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function eb(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Zv(o[s],r)}var go=U(null),dh=U(0);function tb(s,r){s=Ai,ue(dh,s),ue(go,r),Ai=s|r.baseLanes}function wm(){ue(dh,Ai),ue(go,go.current)}function Em(){Ai=dh.current,te(go),te(dh)}var Vn=U(null),Jn=null;function ur(s){var r=s.alternate;ue(wt,wt.current&1),ue(Vn,s),Jn===null&&(r===null||go.current!==null||r.memoizedState!==null)&&(Jn=s)}function Sm(s){ue(wt,wt.current),ue(Vn,s),Jn===null&&(Jn=s)}function nb(s){s.tag===22?(ue(wt,wt.current),ue(Vn,s),Jn===null&&(Jn=s)):hr()}function hr(){ue(wt,wt.current),ue(Vn,Vn.current)}function On(s){te(Vn),Jn===s&&(Jn=null),te(wt)}var wt=U(0);function fh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ip(o)||Dp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vi=0,Me=null,st=null,Dt=null,mh=!1,yo=!1,xa=!1,ph=0,tc=0,vo=null,dN=0;function yt(){throw Error(i(321))}function Am(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!jn(s[o],r[o]))return!1;return!0}function Cm(s,r,o,c,f,y){return vi=y,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=s===null||s.memoizedState===null?Ub:Fm,xa=!1,y=o(c,f),xa=!1,yo&&(y=ib(r,o,c,f)),sb(s),y}function sb(s){Q.H=ic;var r=st!==null&&st.next!==null;if(vi=0,Dt=st=Me=null,mh=!1,tc=0,vo=null,r)throw Error(i(300));s===null||jt||(s=s.dependencies,s!==null&&rh(s)&&(jt=!0))}function ib(s,r,o,c){Me=s;var f=0;do{if(yo&&(vo=null),tc=0,yo=!1,25<=f)throw Error(i(301));if(f+=1,Dt=st=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Q.H=zb,y=r(o,c)}while(yo);return y}function fN(){var s=Q.H,r=s.useState()[0];return r=typeof r.then=="function"?nc(r):r,s=s.useState()[0],(st!==null?st.memoizedState:null)!==s&&(Me.flags|=1024),r}function Nm(){var s=ph!==0;return ph=0,s}function Rm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function km(s){if(mh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}mh=!1}vi=0,Dt=st=Me=null,yo=!1,tc=ph=0,vo=null}function yn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function Et(){if(st===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=st.next;var r=Dt===null?Me.memoizedState:Dt.next;if(r!==null)Dt=r,st=s;else{if(s===null)throw Me.alternate===null?Error(i(467)):Error(i(310));st=s,s={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Dt===null?Me.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(s){var r=tc;return tc+=1,vo===null&&(vo=[]),s=Yv(vo,s,r),r=Me,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Ub:Fm),s}function yh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return nc(s);if(s.$$typeof===K)return en(s)}throw Error(i(438,String(s)))}function Im(s){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=gh(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=j;return r.index++,o}function bi(s,r){return typeof r=="function"?r(s):r}function vh(s){var r=Et();return Dm(r,st,s)}function Dm(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var f=s.baseQueue,y=c.pending;if(y!==null){if(f!==null){var T=f.next;f.next=y.next,y.next=T}r.baseQueue=f=y,c.pending=null}if(y=s.baseState,f===null)s.memoizedState=y;else{r=f.next;var S=T=null,O=null,$=r,Z=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(Be&ie)===ie:(vi&ie)===ie){var Y=$.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===ho&&(Z=!0);else if((vi&Y)===Y){$=$.next,Y===ho&&(Z=!0);continue}else ie={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=ie,T=y):O=O.next=ie,Me.lanes|=Y,mr|=Y;ie=$.action,xa&&o(y,ie),y=$.hasEagerState?$.eagerState:o(y,ie)}else Y={lane:ie,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=Y,T=y):O=O.next=Y,Me.lanes|=ie,mr|=ie;$=$.next}while($!==null&&$!==r);if(O===null?T=y:O.next=S,!jn(y,s.memoizedState)&&(jt=!0,Z&&(o=fo,o!==null)))throw o;s.memoizedState=y,s.baseState=T,s.baseQueue=O,c.lastRenderedState=y}return f===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function jm(s){var r=Et(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,f=o.pending,y=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do y=s(y,T.action),T=T.next;while(T!==f);jn(y,r.memoizedState)||(jt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,c]}function rb(s,r,o){var c=Me,f=Et(),y=$e;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var T=!jn((st||f).memoizedState,o);if(T&&(f.memoizedState=o,jt=!0),f=f.queue,Om(lb.bind(null,c,f,s),[s]),f.getSnapshot!==r||T||Dt!==null&&Dt.memoizedState.tag&1){if(c.flags|=2048,bo(9,{destroy:void 0},ob.bind(null,c,f,o,r),null),at===null)throw Error(i(349));y||(vi&127)!==0||ab(c,r,o)}return o}function ab(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=gh(),Me.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function ob(s,r,o,c){r.value=o,r.getSnapshot=c,cb(r)&&ub(s)}function lb(s,r,o){return o(function(){cb(r)&&ub(s)})}function cb(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!jn(s,o)}catch{return!0}}function ub(s){var r=ha(s,2);r!==null&&Cn(r,s,2)}function Mm(s){var r=yn();if(typeof s=="function"){var o=s;if(s=o(),xa){Fn(!0);try{o()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:s},r}function hb(s,r,o,c){return s.baseState=o,Dm(s,st,typeof c=="function"?c:bi)}function mN(s,r,o,c,f){if(_h(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};Q.T!==null?o(!0):y.isTransition=!1,c(y),o=r.pending,o===null?(y.next=r.pending=y,db(r,y)):(y.next=o.next,r.pending=o.next=y)}}function db(s,r){var o=r.action,c=r.payload,f=s.state;if(r.isTransition){var y=Q.T,T={};Q.T=T;try{var S=o(f,c),O=Q.S;O!==null&&O(T,S),fb(s,r,S)}catch($){Vm(s,r,$)}finally{y!==null&&T.types!==null&&(y.types=T.types),Q.T=y}}else try{y=o(f,c),fb(s,r,y)}catch($){Vm(s,r,$)}}function fb(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){mb(s,r,c)},function(c){return Vm(s,r,c)}):mb(s,r,o)}function mb(s,r,o){r.status="fulfilled",r.value=o,pb(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,db(s,o)))}function Vm(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,pb(r),r=r.next;while(r!==c)}s.action=null}function pb(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function gb(s,r){return r}function yb(s,r){if($e){var o=at.formState;if(o!==null){e:{var c=Me;if($e){if(ct){t:{for(var f=ct,y=Wn;f.nodeType!==8;){if(!y){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){ct=Zn(f.nextSibling),c=f.data==="F!";break e}}rr(c)}c=!1}c&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gb,lastRenderedState:r},o.queue=c,o=Ob.bind(null,Me,c),c.dispatch=o,c=Mm(!1),y=Bm.bind(null,Me,!1,c.queue),c=yn(),f={state:r,dispatch:null,action:s,pending:null},c.queue=f,o=mN.bind(null,Me,f,y,o),f.dispatch=o,c.memoizedState=s,[r,o,!1]}function vb(s){var r=Et();return bb(r,st,s)}function bb(s,r,o){if(r=Dm(s,r,gb)[0],s=vh(bi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=nc(r)}catch(T){throw T===mo?lh:T}else c=r;r=Et();var f=r.queue,y=f.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,bo(9,{destroy:void 0},pN.bind(null,f,o),null)),[c,y,s]}function pN(s,r){s.action=r}function xb(s){var r=Et(),o=st;if(o!==null)return bb(r,o,s);Et(),r=r.memoizedState,o=Et();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function bo(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=Me.updateQueue,r===null&&(r=gh(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function _b(){return Et().memoizedState}function bh(s,r,o,c){var f=yn();Me.flags|=s,f.memoizedState=bo(1|r,{destroy:void 0},o,c===void 0?null:c)}function xh(s,r,o,c){var f=Et();c=c===void 0?null:c;var y=f.memoizedState.inst;st!==null&&c!==null&&Am(c,st.memoizedState.deps)?f.memoizedState=bo(r,y,o,c):(Me.flags|=s,f.memoizedState=bo(1|r,y,o,c))}function Tb(s,r){bh(8390656,8,s,r)}function Om(s,r){xh(2048,8,s,r)}function gN(s){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=gh(),Me.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function wb(s){var r=Et().memoizedState;return gN({ref:r,nextImpl:s}),function(){if((We&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Eb(s,r){return xh(4,2,s,r)}function Sb(s,r){return xh(4,4,s,r)}function Ab(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Cb(s,r,o){o=o!=null?o.concat([s]):null,xh(4,4,Ab.bind(null,r,s),o)}function Pm(){}function Nb(s,r){var o=Et();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Am(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function Rb(s,r){var o=Et();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Am(r,c[1]))return c[0];if(c=s(),xa){Fn(!0);try{s()}finally{Fn(!1)}}return o.memoizedState=[c,r],c}function Lm(s,r,o){return o===void 0||(vi&1073741824)!==0&&(Be&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=kx(),Me.lanes|=s,mr|=s,o)}function kb(s,r,o,c){return jn(o,r)?o:go.current!==null?(s=Lm(s,o,c),jn(s,r)||(jt=!0),s):(vi&42)===0||(vi&1073741824)!==0&&(Be&261930)===0?(jt=!0,s.memoizedState=o):(s=kx(),Me.lanes|=s,mr|=s,r)}function Ib(s,r,o,c,f){var y=oe.p;oe.p=y!==0&&8>y?y:8;var T=Q.T,S={};Q.T=S,Bm(s,!1,r,o);try{var O=f(),$=Q.S;if($!==null&&$(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=hN(O,c);sc(s,r,Z,Un(s))}else sc(s,r,c,Un(s))}catch(ie){sc(s,r,{then:function(){},status:"rejected",reason:ie},Un())}finally{oe.p=y,T!==null&&S.types!==null&&(T.types=S.types),Q.T=T}}function yN(){}function Um(s,r,o,c){if(s.tag!==5)throw Error(i(476));var f=Db(s).queue;Ib(s,f,r,fe,o===null?yN:function(){return jb(s),o(c)})}function Db(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function jb(s){var r=Db(s);r.next===null&&(r=s.alternate.memoizedState),sc(s,r.next.queue,{},Un())}function zm(){return en(xc)}function Mb(){return Et().memoizedState}function Vb(){return Et().memoizedState}function vN(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Un();s=lr(o);var c=cr(r,s,o);c!==null&&(Cn(c,r,o),Jl(c,r,o)),r={cache:pm()},s.payload=r;return}r=r.return}}function bN(s,r,o){var c=Un();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},_h(s)?Pb(r,o):(o=im(s,r,o,c),o!==null&&(Cn(o,s,c),Lb(o,r,c)))}function Ob(s,r,o){var c=Un();sc(s,r,o,c)}function sc(s,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(_h(s))Pb(r,f);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var T=r.lastRenderedState,S=y(T,o);if(f.hasEagerState=!0,f.eagerState=S,jn(S,T))return th(s,r,f,0),at===null&&eh(),!1}catch{}if(o=im(s,r,f,c),o!==null)return Cn(o,s,c),Lb(o,r,c),!0}return!1}function Bm(s,r,o,c){if(c={lane:2,revertLane:bp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},_h(s)){if(r)throw Error(i(479))}else r=im(s,o,c,2),r!==null&&Cn(r,s,2)}function _h(s){var r=s.alternate;return s===Me||r!==null&&r===Me}function Pb(s,r){yo=mh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Lb(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,Sl(s,o)}}var ic={readContext:en,use:yh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};ic.useEffectEvent=yt;var Ub={readContext:en,use:yh,useCallback:function(s,r){return yn().memoizedState=[s,r===void 0?null:r],s},useContext:en,useEffect:Tb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,bh(4194308,4,Ab.bind(null,r,s),o)},useLayoutEffect:function(s,r){return bh(4194308,4,s,r)},useInsertionEffect:function(s,r){bh(4,2,s,r)},useMemo:function(s,r){var o=yn();r=r===void 0?null:r;var c=s();if(xa){Fn(!0);try{s()}finally{Fn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=yn();if(o!==void 0){var f=o(r);if(xa){Fn(!0);try{o(r)}finally{Fn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},c.queue=s,s=s.dispatch=bN.bind(null,Me,s),[c.memoizedState,s]},useRef:function(s){var r=yn();return s={current:s},r.memoizedState=s},useState:function(s){s=Mm(s);var r=s.queue,o=Ob.bind(null,Me,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Pm,useDeferredValue:function(s,r){var o=yn();return Lm(o,s,r)},useTransition:function(){var s=Mm(!1);return s=Ib.bind(null,Me,s.queue,!0,!1),yn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=Me,f=yn();if($e){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),at===null)throw Error(i(349));(Be&127)!==0||ab(c,r,o)}f.memoizedState=o;var y={value:o,getSnapshot:r};return f.queue=y,Tb(lb.bind(null,c,y,s),[s]),c.flags|=2048,bo(9,{destroy:void 0},ob.bind(null,c,y,o,r),null),o},useId:function(){var s=yn(),r=at.identifierPrefix;if($e){var o=Ys,c=Ks;o=(c&~(1<<32-_t(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=ph++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=dN++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:zm,useFormState:yb,useActionState:yb,useOptimistic:function(s){var r=yn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Bm.bind(null,Me,!0,o),o.dispatch=r,[s,r]},useMemoCache:Im,useCacheRefresh:function(){return yn().memoizedState=vN.bind(null,Me)},useEffectEvent:function(s){var r=yn(),o={impl:s};return r.memoizedState=o,function(){if((We&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Fm={readContext:en,use:yh,useCallback:Nb,useContext:en,useEffect:Om,useImperativeHandle:Cb,useInsertionEffect:Eb,useLayoutEffect:Sb,useMemo:Rb,useReducer:vh,useRef:_b,useState:function(){return vh(bi)},useDebugValue:Pm,useDeferredValue:function(s,r){var o=Et();return kb(o,st.memoizedState,s,r)},useTransition:function(){var s=vh(bi)[0],r=Et().memoizedState;return[typeof s=="boolean"?s:nc(s),r]},useSyncExternalStore:rb,useId:Mb,useHostTransitionStatus:zm,useFormState:vb,useActionState:vb,useOptimistic:function(s,r){var o=Et();return hb(o,st,s,r)},useMemoCache:Im,useCacheRefresh:Vb};Fm.useEffectEvent=wb;var zb={readContext:en,use:yh,useCallback:Nb,useContext:en,useEffect:Om,useImperativeHandle:Cb,useInsertionEffect:Eb,useLayoutEffect:Sb,useMemo:Rb,useReducer:jm,useRef:_b,useState:function(){return jm(bi)},useDebugValue:Pm,useDeferredValue:function(s,r){var o=Et();return st===null?Lm(o,s,r):kb(o,st.memoizedState,s,r)},useTransition:function(){var s=jm(bi)[0],r=Et().memoizedState;return[typeof s=="boolean"?s:nc(s),r]},useSyncExternalStore:rb,useId:Mb,useHostTransitionStatus:zm,useFormState:xb,useActionState:xb,useOptimistic:function(s,r){var o=Et();return st!==null?hb(o,st,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Im,useCacheRefresh:Vb};zb.useEffectEvent=wb;function Hm(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var qm={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=Un(),f=lr(c);f.payload=r,o!=null&&(f.callback=o),r=cr(s,f,c),r!==null&&(Cn(r,s,c),Jl(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=Un(),f=lr(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=cr(s,f,c),r!==null&&(Cn(r,s,c),Jl(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Un(),c=lr(o);c.tag=2,r!=null&&(c.callback=r),r=cr(s,c,o),r!==null&&(Cn(r,s,o),Jl(r,s,o))}};function Bb(s,r,o,c,f,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,T):r.prototype&&r.prototype.isPureReactComponent?!ql(o,c)||!ql(f,y):!0}function Fb(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&qm.enqueueReplaceState(r,r.state,null)}function _a(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var f in s)o[f]===void 0&&(o[f]=s[f])}return o}function Hb(s){Zu(s)}function qb(s){console.error(s)}function Gb(s){Zu(s)}function Th(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function $b(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gm(s,r,o){return o=lr(o),o.tag=3,o.payload={element:null},o.callback=function(){Th(s,r)},o}function Kb(s){return s=lr(s),s.tag=3,s}function Yb(s,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=c.value;s.payload=function(){return f(y)},s.callback=function(){$b(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){$b(r,o,c),typeof f!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function xN(s,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&uo(r,o,f,!0),o=Vn.current,o!==null){switch(o.tag){case 31:case 13:return Jn===null?Mh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===ch?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),gp(s,c,f)),!1;case 22:return o.flags|=65536,c===ch?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),gp(s,c,f)),!1}throw Error(i(435,o.tag))}return gp(s,c,f),Mh(),!1}if($e)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==um&&(s=Error(i(422),{cause:c}),Kl(Yn(s,o)))):(c!==um&&(r=Error(i(423),{cause:c}),Kl(Yn(r,o))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,c=Yn(c,o),f=Gm(s.stateNode,c,f),_m(s,f),vt!==4&&(vt=2)),!1;var y=Error(i(520),{cause:c});if(y=Yn(y,o),dc===null?dc=[y]:dc.push(y),vt!==4&&(vt=2),r===null)return!0;c=Yn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=f&-f,o.lanes|=s,s=Gm(o.stateNode,c,s),_m(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pr===null||!pr.has(y))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Kb(f),Yb(f,s,o,c),_m(o,f),!1}o=o.return}while(o!==null);return!1}var $m=Error(i(461)),jt=!1;function tn(s,r,o,c){r.child=s===null?Jv(r,null,o,c):ba(r,s.child,o,c)}function Qb(s,r,o,c,f){o=o.render;var y=r.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return pa(r),c=Cm(s,r,o,T,y,f),S=Nm(),s!==null&&!jt?(Rm(s,r,f),xi(s,r,f)):($e&&S&&lm(r),r.flags|=1,tn(s,r,c,f),r.child)}function Xb(s,r,o,c,f){if(s===null){var y=o.type;return typeof y=="function"&&!rm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Wb(s,r,y,c,f)):(s=sh(o.type,null,c,r,r.mode,f),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!ep(s,f)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:ql,o(T,c)&&s.ref===r.ref)return xi(s,r,f)}return r.flags|=1,s=mi(y,c),s.ref=r.ref,s.return=r,r.child=s}function Wb(s,r,o,c,f){if(s!==null){var y=s.memoizedProps;if(ql(y,c)&&s.ref===r.ref)if(jt=!1,r.pendingProps=c=y,ep(s,f))(s.flags&131072)!==0&&(jt=!0);else return r.lanes=s.lanes,xi(s,r,f)}return Km(s,r,o,c,f)}function Jb(s,r,o,c){var f=c.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(c=r.child=s.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~y}else c=0,r.child=null;return Zb(s,r,y,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&oh(r,y!==null?y.cachePool:null),y!==null?tb(r,y):wm(),nb(r);else return c=r.lanes=536870912,Zb(s,r,y!==null?y.baseLanes|o:o,o,c)}else y!==null?(oh(r,y.cachePool),tb(r,y),hr(),r.memoizedState=null):(s!==null&&oh(r,null),wm(),hr());return tn(s,r,f,o),r.child}function rc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Zb(s,r,o,c,f){var y=ym();return y=y===null?null:{parent:It._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&oh(r,null),wm(),nb(r),s!==null&&uo(s,r,c,!0),r.childLanes=f,null}function wh(s,r){return r=Sh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function ex(s,r,o){return ba(r,s.child,null,o),s=wh(r,r.pendingProps),s.flags|=2,On(r),r.memoizedState=null,s}function _N(s,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,s===null){if($e){if(c.mode==="hidden")return s=wh(r,c),r.lanes=536870912,rc(null,s);if(Sm(r),(s=ct)?(s=d1(s,Wn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:sr!==null?{id:Ks,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},o=Pv(s),o.return=r,r.child=o,Zt=r,ct=null)):s=null,s===null)throw rr(r);return r.lanes=536870912,null}return wh(r,c)}var y=s.memoizedState;if(y!==null){var T=y.dehydrated;if(Sm(r),f)if(r.flags&256)r.flags&=-257,r=ex(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(jt||uo(s,r,o,!1),f=(o&s.childLanes)!==0,jt||f){if(c=at,c!==null&&(T=Al(c,o),T!==0&&T!==y.retryLane))throw y.retryLane=T,ha(s,T),Cn(c,s,T),$m;Mh(),r=ex(s,r,o)}else s=y.treeContext,ct=Zn(T.nextSibling),Zt=r,$e=!0,ir=null,Wn=!1,s!==null&&zv(r,s),r=wh(r,c),r.flags|=4096;return r}return s=mi(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Eh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Km(s,r,o,c,f){return pa(r),o=Cm(s,r,o,c,void 0,f),c=Nm(),s!==null&&!jt?(Rm(s,r,f),xi(s,r,f)):($e&&c&&lm(r),r.flags|=1,tn(s,r,o,f),r.child)}function tx(s,r,o,c,f,y){return pa(r),r.updateQueue=null,o=ib(r,c,o,f),sb(s),c=Nm(),s!==null&&!jt?(Rm(s,r,y),xi(s,r,y)):($e&&c&&lm(r),r.flags|=1,tn(s,r,o,y),r.child)}function nx(s,r,o,c,f){if(pa(r),r.stateNode===null){var y=ao,T=o.contextType;typeof T=="object"&&T!==null&&(y=en(T)),y=new o(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=qm,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},bm(r),T=o.contextType,y.context=typeof T=="object"&&T!==null?en(T):ao,y.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Hm(r,o,T,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&qm.enqueueReplaceState(y,y.state,null),ec(r,c,y,f),Zl(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){y=r.stateNode;var S=r.memoizedProps,O=_a(o,S);y.props=O;var $=y.context,Z=o.contextType;T=ao,typeof Z=="object"&&Z!==null&&(T=en(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||$!==T)&&Fb(r,y,c,T),or=!1;var Y=r.memoizedState;y.state=Y,ec(r,c,y,f),Zl(),$=r.memoizedState,S||Y!==$||or?(typeof ie=="function"&&(Hm(r,o,ie,c),$=r.memoizedState),(O=or||Bb(r,o,O,c,Y,$,T))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=$),y.props=c,y.state=$,y.context=T,c=O):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,xm(s,r),T=r.memoizedProps,Z=_a(o,T),y.props=Z,ie=r.pendingProps,Y=y.context,$=o.contextType,O=ao,typeof $=="object"&&$!==null&&(O=en($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==ie||Y!==O)&&Fb(r,y,c,O),or=!1,Y=r.memoizedState,y.state=Y,ec(r,c,y,f),Zl();var W=r.memoizedState;T!==ie||Y!==W||or||s!==null&&s.dependencies!==null&&rh(s.dependencies)?(typeof S=="function"&&(Hm(r,o,S,c),W=r.memoizedState),(Z=or||Bb(r,o,Z,c,Y,W,O)||s!==null&&s.dependencies!==null&&rh(s.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,W,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,W,O)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),y.props=c,y.state=W,y.context=O,c=Z):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),c=!1)}return y=c,Eh(s,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&c?(r.child=ba(r,s.child,null,f),r.child=ba(r,null,o,f)):tn(s,r,o,f),r.memoizedState=y.state,s=r.child):s=xi(s,r,f),s}function sx(s,r,o,c){return fa(),r.flags|=256,tn(s,r,o,c),r.child}var Ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(s){return{baseLanes:s,cachePool:$v()}}function Xm(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Ln),s}function ix(s,r,o){var c=r.pendingProps,f=!1,y=(r.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(wt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if($e){if(f?ur(r):hr(),(s=ct)?(s=d1(s,Wn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:sr!==null?{id:Ks,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},o=Pv(s),o.return=r,r.child=o,Zt=r,ct=null)):s=null,s===null)throw rr(r);return Dp(s)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,f?(hr(),f=r.mode,S=Sh({mode:"hidden",children:S},f),c=da(c,f,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=Qm(o),c.childLanes=Xm(s,T,o),r.memoizedState=Ym,rc(null,c)):(ur(r),Wm(r,S))}var O=s.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(y)r.flags&256?(ur(r),r.flags&=-257,r=Jm(s,r,o)):r.memoizedState!==null?(hr(),r.child=s.child,r.flags|=128,r=null):(hr(),S=c.fallback,f=r.mode,c=Sh({mode:"visible",children:c.children},f),S=da(S,f,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,ba(r,s.child,null,o),c=r.child,c.memoizedState=Qm(o),c.childLanes=Xm(s,T,o),r.memoizedState=Ym,r=rc(null,c));else if(ur(r),Dp(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var $=T.dgst;T=$,c=Error(i(419)),c.stack="",c.digest=T,Kl({value:c,source:null,stack:null}),r=Jm(s,r,o)}else if(jt||uo(s,r,o,!1),T=(o&s.childLanes)!==0,jt||T){if(T=at,T!==null&&(c=Al(T,o),c!==0&&c!==O.retryLane))throw O.retryLane=c,ha(s,c),Cn(T,s,c),$m;Ip(S)||Mh(),r=Jm(s,r,o)}else Ip(S)?(r.flags|=192,r.child=s.child,r=null):(s=O.treeContext,ct=Zn(S.nextSibling),Zt=r,$e=!0,ir=null,Wn=!1,s!==null&&zv(r,s),r=Wm(r,c.children),r.flags|=4096);return r}return f?(hr(),S=c.fallback,f=r.mode,O=s.child,$=O.sibling,c=mi(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,$!==null?S=mi($,S):(S=da(S,f,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,rc(null,c),c=r.child,S=s.child.memoizedState,S===null?S=Qm(o):(f=S.cachePool,f!==null?(O=It._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=$v(),S={baseLanes:S.baseLanes|o,cachePool:f}),c.memoizedState=S,c.childLanes=Xm(s,T,o),r.memoizedState=Ym,rc(s.child,c)):(ur(r),o=s.child,s=o.sibling,o=mi(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=o,r.memoizedState=null,o)}function Wm(s,r){return r=Sh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Sh(s,r){return s=Mn(22,s,null,r),s.lanes=0,s}function Jm(s,r,o){return ba(r,s.child,null,o),s=Wm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function rx(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),fm(s.return,r,o)}function Zm(s,r,o,c,f,y){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:y}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=f,T.treeForkCount=y)}function ax(s,r,o){var c=r.pendingProps,f=c.revealOrder,y=c.tail;c=c.children;var T=wt.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,ue(wt,T),tn(s,r,c,o),c=$e?$l:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rx(s,o,r);else if(s.tag===19)rx(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)s=o.alternate,s!==null&&fh(s)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Zm(r,!1,f,o,y,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(s=f.alternate,s!==null&&fh(s)===null){r.child=f;break}s=f.sibling,f.sibling=o,o=f,f=s}Zm(r,!0,o,null,y,c);break;case"together":Zm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function xi(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),mr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(uo(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=mi(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=mi(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function ep(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&rh(s)))}function TN(s,r,o){switch(r.tag){case 3:Ce(r,r.stateNode.containerInfo),ar(r,It,s.memoizedState.cache),fa();break;case 27:case 5:Qt(r);break;case 4:Ce(r,r.stateNode.containerInfo);break;case 10:ar(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ur(r),r.flags|=128,null):(o&r.child.childLanes)!==0?ix(s,r,o):(ur(r),s=xi(s,r,o),s!==null?s.sibling:null);ur(r);break;case 19:var f=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(uo(s,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return ax(s,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(wt,wt.current),c)break;return null;case 22:return r.lanes=0,Jb(s,r,o,r.pendingProps);case 24:ar(r,It,s.memoizedState.cache)}return xi(s,r,o)}function ox(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)jt=!0;else{if(!ep(s,o)&&(r.flags&128)===0)return jt=!1,TN(s,r,o);jt=(s.flags&131072)!==0}else jt=!1,$e&&(r.flags&1048576)!==0&&Uv(r,$l,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(s=ya(r.elementType),r.type=s,typeof s=="function")rm(s)?(c=_a(s,c),r.tag=1,r=nx(null,r,s,c,o)):(r.tag=0,r=Km(null,r,s,c,o));else{if(s!=null){var f=s.$$typeof;if(f===J){r.tag=11,r=Qb(null,r,s,c,o);break e}else if(f===I){r.tag=14,r=Xb(null,r,s,c,o);break e}}throw r=Ee(s)||s,Error(i(306,r,""))}}return r;case 0:return Km(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=_a(c,r.pendingProps),nx(s,r,c,f,o);case 3:e:{if(Ce(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var y=r.memoizedState;f=y.element,xm(s,r),ec(r,c,null,o);var T=r.memoizedState;if(c=T.cache,ar(r,It,c),c!==y.cache&&mm(r,[It],o,!0),Zl(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=sx(s,r,c,o);break e}else if(c!==f){f=Yn(Error(i(424)),r),Kl(f),r=sx(s,r,c,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ct=Zn(s.firstChild),Zt=r,$e=!0,ir=null,Wn=!0,o=Jv(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fa(),c===f){r=xi(s,r,o);break e}tn(s,r,c,o)}r=r.child}return r;case 26:return Eh(s,r),s===null?(o=v1(r.type,null,r.pendingProps,null))?r.memoizedState=o:$e||(o=r.type,s=r.pendingProps,c=Bh(Re.current).createElement(o),c[Nt]=r,c[qt]=s,nn(c,o,s),Rt(c),r.stateNode=c):r.memoizedState=v1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Qt(r),s===null&&$e&&(c=r.stateNode=p1(r.type,r.pendingProps,Re.current),Zt=r,Wn=!0,f=ct,br(r.type)?(jp=f,ct=Zn(c.firstChild)):ct=f),tn(s,r,r.pendingProps.children,o),Eh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&$e&&((f=c=ct)&&(c=JN(c,r.type,r.pendingProps,Wn),c!==null?(r.stateNode=c,Zt=r,ct=Zn(c.firstChild),Wn=!1,f=!0):f=!1),f||rr(r)),Qt(r),f=r.type,y=r.pendingProps,T=s!==null?s.memoizedProps:null,c=y.children,Np(f,y)?c=null:T!==null&&Np(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Cm(s,r,fN,null,null,o),xc._currentValue=f),Eh(s,r),tn(s,r,c,o),r.child;case 6:return s===null&&$e&&((s=o=ct)&&(o=ZN(o,r.pendingProps,Wn),o!==null?(r.stateNode=o,Zt=r,ct=null,s=!0):s=!1),s||rr(r)),null;case 13:return ix(s,r,o);case 4:return Ce(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=ba(r,null,c,o):tn(s,r,c,o),r.child;case 11:return Qb(s,r,r.type,r.pendingProps,o);case 7:return tn(s,r,r.pendingProps,o),r.child;case 8:return tn(s,r,r.pendingProps.children,o),r.child;case 12:return tn(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,ar(r,r.type,c.value),tn(s,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,pa(r),f=en(f),c=c(f),r.flags|=1,tn(s,r,c,o),r.child;case 14:return Xb(s,r,r.type,r.pendingProps,o);case 15:return Wb(s,r,r.type,r.pendingProps,o);case 19:return ax(s,r,o);case 31:return _N(s,r,o);case 22:return Jb(s,r,o,r.pendingProps);case 24:return pa(r),c=en(It),s===null?(f=ym(),f===null&&(f=at,y=pm(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=o),f=y),r.memoizedState={parent:c,cache:f},bm(r),ar(r,It,f)):((s.lanes&o)!==0&&(xm(s,r),ec(r,null,null,o),Zl()),f=s.memoizedState,y=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ar(r,It,c)):(c=y.cache,ar(r,It,c),c!==f.cache&&mm(r,[It],o,!0))),tn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function _i(s){s.flags|=4}function tp(s,r,o,c,f){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(f&335544128)===f)if(s.stateNode.complete)s.flags|=8192;else if(Mx())s.flags|=8192;else throw va=ch,vm}else s.flags&=-16777217}function lx(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!w1(r))if(Mx())s.flags|=8192;else throw va=ch,vm}function Ah(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Du():536870912,s.lanes|=r,wo|=r)}function ac(s,r){if(!$e)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ut(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function wN(s,r,o){var c=r.pendingProps;switch(cm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),yi(It),Le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(co(r)?_i(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hm())),ut(r),null;case 26:var f=r.type,y=r.memoizedState;return s===null?(_i(r),y!==null?(ut(r),lx(r,y)):(ut(r),tp(r,f,null,c,o))):y?y!==s.memoizedState?(_i(r),ut(r),lx(r,y)):(ut(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&_i(r),ut(r),tp(r,f,s,c,o)),null;case 27:if(Rs(r),o=Re.current,f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&_i(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ut(r),null}s=de.current,co(r)?Bv(r):(s=p1(f,c,o),r.stateNode=s,_i(r))}return ut(r),null;case 5:if(Rs(r),f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&_i(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ut(r),null}if(y=de.current,co(r))Bv(r);else{var T=Bh(Re.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?T.createElement(f,{is:c.is}):T.createElement(f)}}y[Nt]=r,y[qt]=c;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=y;e:switch(nn(y,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&_i(r)}}return ut(r),tp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&_i(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Re.current,co(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}s[Nt]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||i1(s.nodeValue,o)),s||rr(r,!0)}else s=Bh(s).createTextNode(c),s[Nt]=r,r.stateNode=s}return ut(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(c=co(r),o!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Nt]=r}else fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),s=!1}else o=hm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ut(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=co(r),c!==null&&c.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Nt]=r}else fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=hm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==f&&(c.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Ah(r,r.updateQueue),ut(r),null);case 4:return Le(),s===null&&wp(r.stateNode.containerInfo),ut(r),null;case 10:return yi(r.type),ut(r),null;case 19:if(te(wt),c=r.memoizedState,c===null)return ut(r),null;if(f=(r.flags&128)!==0,y=c.rendering,y===null)if(f)ac(c,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=fh(s),y!==null){for(r.flags|=128,ac(c,!1),s=y.updateQueue,r.updateQueue=s,Ah(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Ov(o,s),o=o.sibling;return ue(wt,wt.current&1|2),$e&&pi(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&pn()>Ih&&(r.flags|=128,f=!0,ac(c,!1),r.lanes=4194304)}else{if(!f)if(s=fh(y),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,Ah(r,s),ac(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!$e)return ut(r),null}else 2*pn()-c.renderingStartTime>Ih&&o!==536870912&&(r.flags|=128,f=!0,ac(c,!1),r.lanes=4194304);c.isBackwards?(y.sibling=r.child,r.child=y):(s=c.last,s!==null?s.sibling=y:r.child=y,c.last=y)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=pn(),s.sibling=null,o=wt.current,ue(wt,f?o&1|2:o&1),$e&&pi(r,c.treeForkCount),s):(ut(r),null);case 22:case 23:return On(r),Em(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),o=r.updateQueue,o!==null&&Ah(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&te(ga),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),yi(It),ut(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function EN(s,r){switch(cm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return yi(It),Le(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Rs(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(i(340));fa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(On(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));fa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return te(wt),null;case 4:return Le(),null;case 10:return yi(r.type),null;case 22:case 23:return On(r),Em(),s!==null&&te(ga),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return yi(It),null;case 25:return null;default:return null}}function cx(s,r){switch(cm(r),r.tag){case 3:yi(It),Le();break;case 26:case 27:case 5:Rs(r);break;case 4:Le();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:te(wt);break;case 10:yi(r.type);break;case 22:case 23:On(r),Em(),s!==null&&te(ga);break;case 24:yi(It)}}function oc(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&s)===s){c=void 0;var y=o.create,T=o.inst;c=y(),T.destroy=c}o=o.next}while(o!==f)}}catch(S){tt(r,r.return,S)}}function dr(s,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&s)===s){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var O=o,$=S;try{$()}catch(Z){tt(f,O,Z)}}}c=c.next}while(c!==y)}}catch(Z){tt(r,r.return,Z)}}function ux(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{eb(r,o)}catch(c){tt(s,s.return,c)}}}function hx(s,r,o){o.props=_a(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){tt(s,r,c)}}function lc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(f){tt(s,r,f)}}function Qs(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){tt(s,r,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(s,r,f)}else o.current=null}function dx(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){tt(s,s.return,f)}}function np(s,r,o){try{var c=s.stateNode;$N(c,s.type,o,r),c[qt]=r}catch(f){tt(s,s.return,f)}}function fx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&br(s.type)||s.tag===4}function sp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&br(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ip(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ds));else if(c!==4&&(c===27&&br(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(ip(s,r,o),s=s.sibling;s!==null;)ip(s,r,o),s=s.sibling}function Ch(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&br(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Ch(s,r,o),s=s.sibling;s!==null;)Ch(s,r,o),s=s.sibling}function mx(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);nn(r,c,o),r[Nt]=s,r[qt]=o}catch(y){tt(s,s.return,y)}}var Ti=!1,Mt=!1,rp=!1,px=typeof WeakSet=="function"?WeakSet:Set,$t=null;function SN(s,r){if(s=s.containerInfo,Ap=Yh,s=Cv(s),Jf(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,S=-1,O=-1,$=0,Z=0,ie=s,Y=null;t:for(;;){for(var W;ie!==o||f!==0&&ie.nodeType!==3||(S=T+f),ie!==y||c!==0&&ie.nodeType!==3||(O=T+c),ie.nodeType===3&&(T+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Y=ie,ie=W;for(;;){if(ie===s)break t;if(Y===o&&++$===f&&(S=T),Y===y&&++Z===c&&(O=T),(W=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=W}o=S===-1||O===-1?null:{start:S,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cp={focusedElem:s,selectionRange:o},Yh=!1,$t=r;$t!==null;)if(r=$t,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,$t=s;else for(;$t!==null;){switch(r=$t,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)f=s[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,f=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var pe=_a(o.type,f);s=c.getSnapshotBeforeUpdate(pe,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(we){tt(o,o.return,we)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)kp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":kp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,$t=s;break}$t=r.return}}function gx(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ei(s,o),c&4&&oc(5,o);break;case 1:if(Ei(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(T){tt(o,o.return,T)}else{var f=_a(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(f,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){tt(o,o.return,T)}}c&64&&ux(o),c&512&&lc(o,o.return);break;case 3:if(Ei(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{eb(s,r)}catch(T){tt(o,o.return,T)}}break;case 27:r===null&&c&4&&mx(o);case 26:case 5:Ei(s,o),r===null&&c&4&&dx(o),c&512&&lc(o,o.return);break;case 12:Ei(s,o);break;case 31:Ei(s,o),c&4&&bx(s,o);break;case 13:Ei(s,o),c&4&&xx(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=MN.bind(null,o),eR(s,o))));break;case 22:if(c=o.memoizedState!==null||Ti,!c){r=r!==null&&r.memoizedState!==null||Mt,f=Ti;var y=Mt;Ti=c,(Mt=r)&&!y?Si(s,o,(o.subtreeFlags&8772)!==0):Ei(s,o),Ti=f,Mt=y}break;case 30:break;default:Ei(s,o)}}function yx(s){var r=s.alternate;r!==null&&(s.alternate=null,yx(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&$a(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ft=null,wn=!1;function wi(s,r,o){for(o=o.child;o!==null;)vx(s,r,o),o=o.sibling}function vx(s,r,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ls,o)}catch{}switch(o.tag){case 26:Mt||Qs(o,r),wi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||Qs(o,r);var c=ft,f=wn;br(o.type)&&(ft=o.stateNode,wn=!1),wi(s,r,o),yc(o.stateNode),ft=c,wn=f;break;case 5:Mt||Qs(o,r);case 6:if(c=ft,f=wn,ft=null,wi(s,r,o),ft=c,wn=f,ft!==null)if(wn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(y){tt(o,r,y)}else try{ft.removeChild(o.stateNode)}catch(y){tt(o,r,y)}break;case 18:ft!==null&&(wn?(s=ft,u1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Io(s)):u1(ft,o.stateNode));break;case 4:c=ft,f=wn,ft=o.stateNode.containerInfo,wn=!0,wi(s,r,o),ft=c,wn=f;break;case 0:case 11:case 14:case 15:dr(2,o,r),Mt||dr(4,o,r),wi(s,r,o);break;case 1:Mt||(Qs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&hx(o,r,c)),wi(s,r,o);break;case 21:wi(s,r,o);break;case 22:Mt=(c=Mt)||o.memoizedState!==null,wi(s,r,o),Mt=c;break;default:wi(s,r,o)}}function bx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Io(s)}catch(o){tt(r,r.return,o)}}}function xx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Io(s)}catch(o){tt(r,r.return,o)}}function AN(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new px),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new px),r;default:throw Error(i(435,s.tag))}}function Nh(s,r){var o=AN(s);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=VN.bind(null,s,c);c.then(f,f)}})}function En(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],y=s,T=r,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(br(S.type)){ft=S.stateNode,wn=!1;break e}break;case 5:ft=S.stateNode,wn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,wn=!0;break e}S=S.return}if(ft===null)throw Error(i(160));vx(y,T,f),ft=null,wn=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)_x(r,s),r=r.sibling}var vs=null;function _x(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:En(r,s),Sn(s),c&4&&(dr(3,s,s.return),oc(3,s),dr(5,s,s.return));break;case 1:En(r,s),Sn(s),c&512&&(Mt||o===null||Qs(o,o.return)),c&64&&Ti&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=vs;if(En(r,s),Sn(s),c&512&&(Mt||o===null||Qs(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":y=f.getElementsByTagName("title")[0],(!y||y[Vs]||y[Nt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(c),f.head.insertBefore(y,f.querySelector("head > title"))),nn(y,c,o),y[Nt]=s,Rt(y),c=y;break e;case"link":var T=_1("link","href",f).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(y=T[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}y=f.createElement(c),nn(y,c,o),f.head.appendChild(y);break;case"meta":if(T=_1("meta","content",f).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(y=T[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}y=f.createElement(c),nn(y,c,o),f.head.appendChild(y);break;default:throw Error(i(468,c))}y[Nt]=s,Rt(y),c=y}s.stateNode=c}else T1(f,s.type,s.stateNode);else s.stateNode=x1(f,c,s.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?T1(f,s.type,s.stateNode):x1(f,c,s.memoizedProps)):c===null&&s.stateNode!==null&&np(s,s.memoizedProps,o.memoizedProps)}break;case 27:En(r,s),Sn(s),c&512&&(Mt||o===null||Qs(o,o.return)),o!==null&&c&4&&np(s,s.memoizedProps,o.memoizedProps);break;case 5:if(En(r,s),Sn(s),c&512&&(Mt||o===null||Qs(o,o.return)),s.flags&32){f=s.stateNode;try{Tn(f,"")}catch(pe){tt(s,s.return,pe)}}c&4&&s.stateNode!=null&&(f=s.memoizedProps,np(s,f,o!==null?o.memoizedProps:f)),c&1024&&(rp=!0);break;case 6:if(En(r,s),Sn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(pe){tt(s,s.return,pe)}}break;case 3:if(qh=null,f=vs,vs=Fh(r.containerInfo),En(r,s),vs=f,Sn(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Io(r.containerInfo)}catch(pe){tt(s,s.return,pe)}rp&&(rp=!1,Tx(s));break;case 4:c=vs,vs=Fh(s.stateNode.containerInfo),En(r,s),Sn(s),vs=c;break;case 12:En(r,s),Sn(s);break;case 31:En(r,s),Sn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Nh(s,c)));break;case 13:En(r,s),Sn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kh=pn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Nh(s,c)));break;case 22:f=s.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,$=Ti,Z=Mt;if(Ti=$||f,Mt=Z||O,En(r,s),Mt=Z,Ti=$,Sn(s),c&8192)e:for(r=s.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||Ti||Mt||Ta(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(y=O.stateNode,f)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=O.stateNode;var ie=O.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){tt(O,O.return,pe)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(pe){tt(O,O.return,pe)}}}else if(r.tag===18){if(o===null){O=r;try{var W=O.stateNode;f?h1(W,!0):h1(O.stateNode,!1)}catch(pe){tt(O,O.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Nh(s,o))));break;case 19:En(r,s),Sn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Nh(s,c)));break;case 30:break;case 21:break;default:En(r,s),Sn(s)}}function Sn(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(fx(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,y=sp(s);Ch(s,y,f);break;case 5:var T=o.stateNode;o.flags&32&&(Tn(T,""),o.flags&=-33);var S=sp(s);Ch(s,S,T);break;case 3:case 4:var O=o.stateNode.containerInfo,$=sp(s);ip(s,$,O);break;default:throw Error(i(161))}}catch(Z){tt(s,s.return,Z)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Tx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Tx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ei(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)gx(s,r.alternate,r),r=r.sibling}function Ta(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:dr(4,r,r.return),Ta(r);break;case 1:Qs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&hx(r,r.return,o),Ta(r);break;case 27:yc(r.stateNode);case 26:case 5:Qs(r,r.return),Ta(r);break;case 22:r.memoizedState===null&&Ta(r);break;case 30:Ta(r);break;default:Ta(r)}s=s.sibling}}function Si(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=s,y=r,T=y.flags;switch(y.tag){case 0:case 11:case 15:Si(f,y,o),oc(4,y);break;case 1:if(Si(f,y,o),c=y,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){tt(c,c.return,$)}if(c=y,f=c.updateQueue,f!==null){var S=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Zv(O[f],S)}catch($){tt(c,c.return,$)}}o&&T&64&&ux(y),lc(y,y.return);break;case 27:mx(y);case 26:case 5:Si(f,y,o),o&&c===null&&T&4&&dx(y),lc(y,y.return);break;case 12:Si(f,y,o);break;case 31:Si(f,y,o),o&&T&4&&bx(f,y);break;case 13:Si(f,y,o),o&&T&4&&xx(f,y);break;case 22:y.memoizedState===null&&Si(f,y,o),lc(y,y.return);break;case 30:break;default:Si(f,y,o)}r=r.sibling}}function ap(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Yl(o))}function op(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Yl(s))}function bs(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wx(s,r,o,c),r=r.sibling}function wx(s,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:bs(s,r,o,c),f&2048&&oc(9,r);break;case 1:bs(s,r,o,c);break;case 3:bs(s,r,o,c),f&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Yl(s)));break;case 12:if(f&2048){bs(s,r,o,c),s=r.stateNode;try{var y=r.memoizedProps,T=y.id,S=y.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){tt(r,r.return,O)}}else bs(s,r,o,c);break;case 31:bs(s,r,o,c);break;case 13:bs(s,r,o,c);break;case 23:break;case 22:y=r.stateNode,T=r.alternate,r.memoizedState!==null?y._visibility&2?bs(s,r,o,c):cc(s,r):y._visibility&2?bs(s,r,o,c):(y._visibility|=2,xo(s,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&ap(T,r);break;case 24:bs(s,r,o,c),f&2048&&op(r.alternate,r);break;default:bs(s,r,o,c)}}function xo(s,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,T=r,S=o,O=c,$=T.flags;switch(T.tag){case 0:case 11:case 15:xo(y,T,S,O,f),oc(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?xo(y,T,S,O,f):cc(y,T):(Z._visibility|=2,xo(y,T,S,O,f)),f&&$&2048&&ap(T.alternate,T);break;case 24:xo(y,T,S,O,f),f&&$&2048&&op(T.alternate,T);break;default:xo(y,T,S,O,f)}r=r.sibling}}function cc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,f=c.flags;switch(c.tag){case 22:cc(o,c),f&2048&&ap(c.alternate,c);break;case 24:cc(o,c),f&2048&&op(c.alternate,c);break;default:cc(o,c)}r=r.sibling}}var uc=8192;function _o(s,r,o){if(s.subtreeFlags&uc)for(s=s.child;s!==null;)Ex(s,r,o),s=s.sibling}function Ex(s,r,o){switch(s.tag){case 26:_o(s,r,o),s.flags&uc&&s.memoizedState!==null&&dR(o,vs,s.memoizedState,s.memoizedProps);break;case 5:_o(s,r,o);break;case 3:case 4:var c=vs;vs=Fh(s.stateNode.containerInfo),_o(s,r,o),vs=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=uc,uc=16777216,_o(s,r,o),uc=c):_o(s,r,o));break;default:_o(s,r,o)}}function Sx(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function hc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,Cx(c,s)}Sx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ax(s),s=s.sibling}function Ax(s){switch(s.tag){case 0:case 11:case 15:hc(s),s.flags&2048&&dr(9,s,s.return);break;case 3:hc(s);break;case 12:hc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Rh(s)):hc(s);break;default:hc(s)}}function Rh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,Cx(c,s)}Sx(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:dr(8,r,r.return),Rh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Rh(r));break;default:Rh(r)}s=s.sibling}}function Cx(s,r){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:dr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,$t=c;else e:for(o=s;$t!==null;){c=$t;var f=c.sibling,y=c.return;if(yx(c),c===o){$t=null;break e}if(f!==null){f.return=y,$t=f;break e}$t=y}}}var CN={getCacheForType:function(s){var r=en(It),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return en(It).controller.signal}},NN=typeof WeakMap=="function"?WeakMap:Map,We=0,at=null,Ue=null,Be=0,et=0,Pn=null,fr=!1,To=!1,lp=!1,Ai=0,vt=0,mr=0,wa=0,cp=0,Ln=0,wo=0,dc=null,An=null,up=!1,kh=0,Nx=0,Ih=1/0,Dh=null,pr=null,zt=0,gr=null,Eo=null,Ci=0,hp=0,dp=null,Rx=null,fc=0,fp=null;function Un(){return(We&2)!==0&&Be!==0?Be&-Be:Q.T!==null?bp():ju()}function kx(){if(Ln===0)if((Be&536870912)===0||$e){var s=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),Ln=s}else Ln=536870912;return s=Vn.current,s!==null&&(s.flags|=32),Ln}function Cn(s,r,o){(s===at&&(et===2||et===9)||s.cancelPendingCommit!==null)&&(So(s,0),yr(s,Be,Ln,!1)),Wr(s,o),((We&2)===0||s!==at)&&(s===at&&((We&2)===0&&(wa|=o),vt===4&&yr(s,Be,Ln,!1)),Xs(s))}function Ix(s,r,o){if((We&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&s.expiredLanes)===0||cs(s,r),f=c?IN(s,r):pp(s,r,!0),y=c;do{if(f===0){To&&!c&&yr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!RN(o)){f=pp(s,r,!1),y=!1;continue}if(f===2){if(y=r,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var S=s;f=dc;var O=S.current.memoizedState.isDehydrated;if(O&&(So(S,T).flags|=256),T=pp(S,T,!1),T!==2){if(lp&&!O){S.errorRecoveryDisabledLanes|=y,wa|=y,f=4;break e}y=An,An=f,y!==null&&(An===null?An=y:An.push.apply(An,y))}f=T}if(y=!1,f!==2)continue}}if(f===1){So(s,0),yr(s,r,0,!0);break}e:{switch(c=s,y=f,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:yr(c,r,Ln,!fr);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=kh+300-pn(),10<f)){if(yr(c,r,Ln,!fr),Ds(c,0,!0)!==0)break e;Ci=r,c.timeoutHandle=l1(Dx.bind(null,c,o,An,Dh,up,r,Ln,wa,wo,fr,y,"Throttled",-0,0),f);break e}Dx(c,o,An,Dh,up,r,Ln,wa,wo,fr,y,null,-0,0)}}break}while(!0);Xs(s)}function Dx(s,r,o,c,f,y,T,S,O,$,Z,ie,Y,W){if(s.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ds},Ex(r,y,ie);var pe=(y&62914560)===y?kh-pn():(y&4194048)===y?Nx-pn():0;if(pe=fR(ie,pe),pe!==null){Ci=y,s.cancelPendingCommit=pe(zx.bind(null,s,r,y,o,c,f,T,S,O,Z,ie,null,Y,W)),yr(s,y,T,!$);return}}zx(s,r,y,o,c,f,T,S,O)}function RN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],y=f.getSnapshot;f=f.value;try{if(!jn(y(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function yr(s,r,o,c){r&=~cp,r&=~wa,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var f=r;0<f;){var y=31-_t(f),T=1<<y;c[y]=-1,f&=~T}o!==0&&Jr(s,o,r)}function jh(){return(We&6)===0?(mc(0),!1):!0}function mp(){if(Ue!==null){if(et===0)var s=Ue.return;else s=Ue,gi=ma=null,km(s),po=null,Xl=0,s=Ue;for(;s!==null;)cx(s.alternate,s),s=s.return;Ue=null}}function So(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,QN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ci=0,mp(),at=s,Ue=o=mi(s.current,null),Be=r,et=0,Pn=null,fr=!1,To=cs(s,r),lp=!1,wo=Ln=cp=wa=mr=vt=0,An=dc=null,up=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var f=31-_t(c),y=1<<f;r|=s[f],c&=~y}return Ai=r,eh(),o}function jx(s,r){Me=null,Q.H=ic,r===mo||r===lh?(r=Qv(),et=3):r===vm?(r=Qv(),et=4):et=r===$m?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,Ue===null&&(vt=1,Th(s,Yn(r,s.current)))}function Mx(){var s=Vn.current;return s===null?!0:(Be&4194048)===Be?Jn===null:(Be&62914560)===Be||(Be&536870912)!==0?s===Jn:!1}function Vx(){var s=Q.H;return Q.H=ic,s===null?ic:s}function Ox(){var s=Q.A;return Q.A=CN,s}function Mh(){vt=4,fr||(Be&4194048)!==Be&&Vn.current!==null||(To=!0),(mr&134217727)===0&&(wa&134217727)===0||at===null||yr(at,Be,Ln,!1)}function pp(s,r,o){var c=We;We|=2;var f=Vx(),y=Ox();(at!==s||Be!==r)&&(Dh=null,So(s,r)),r=!1;var T=vt;e:do try{if(et!==0&&Ue!==null){var S=Ue,O=Pn;switch(et){case 8:mp(),T=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var $=et;if(et=0,Pn=null,Ao(s,S,O,$),o&&To){T=0;break e}break;default:$=et,et=0,Pn=null,Ao(s,S,O,$)}}kN(),T=vt;break}catch(Z){jx(s,Z)}while(!0);return r&&s.shellSuspendCounter++,gi=ma=null,We=c,Q.H=f,Q.A=y,Ue===null&&(at=null,Be=0,eh()),T}function kN(){for(;Ue!==null;)Px(Ue)}function IN(s,r){var o=We;We|=2;var c=Vx(),f=Ox();at!==s||Be!==r?(Dh=null,Ih=pn()+500,So(s,r)):To=cs(s,r);e:do try{if(et!==0&&Ue!==null){r=Ue;var y=Pn;t:switch(et){case 1:et=0,Pn=null,Ao(s,r,y,1);break;case 2:case 9:if(Kv(y)){et=0,Pn=null,Lx(r);break}r=function(){et!==2&&et!==9||at!==s||(et=7),Xs(s)},y.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Kv(y)?(et=0,Pn=null,Lx(r)):(et=0,Pn=null,Ao(s,r,y,7));break;case 5:var T=null;switch(Ue.tag){case 26:T=Ue.memoizedState;case 5:case 27:var S=Ue;if(T?w1(T):S.stateNode.complete){et=0,Pn=null;var O=S.sibling;if(O!==null)Ue=O;else{var $=S.return;$!==null?(Ue=$,Vh($)):Ue=null}break t}}et=0,Pn=null,Ao(s,r,y,5);break;case 6:et=0,Pn=null,Ao(s,r,y,6);break;case 8:mp(),vt=6;break e;default:throw Error(i(462))}}DN();break}catch(Z){jx(s,Z)}while(!0);return gi=ma=null,Q.H=c,Q.A=f,We=o,Ue!==null?0:(at=null,Be=0,eh(),vt)}function DN(){for(;Ue!==null&&!Gf();)Px(Ue)}function Px(s){var r=ox(s.alternate,s,Ai);s.memoizedProps=s.pendingProps,r===null?Vh(s):Ue=r}function Lx(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=tx(o,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=tx(o,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:km(r);default:cx(o,r),r=Ue=Ov(r,Ai),r=ox(o,r,Ai)}s.memoizedProps=s.pendingProps,r===null?Vh(s):Ue=r}function Ao(s,r,o,c){gi=ma=null,km(r),po=null,Xl=0;var f=r.return;try{if(xN(s,f,r,o,Be)){vt=1,Th(s,Yn(o,s.current)),Ue=null;return}}catch(y){if(f!==null)throw Ue=f,y;vt=1,Th(s,Yn(o,s.current)),Ue=null;return}r.flags&32768?($e||c===1?s=!0:To||(Be&536870912)!==0?s=!1:(fr=s=!0,(c===2||c===9||c===3||c===6)&&(c=Vn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ux(r,s)):Vh(r)}function Vh(s){var r=s;do{if((r.flags&32768)!==0){Ux(r,fr);return}s=r.return;var o=wN(r.alternate,r,Ai);if(o!==null){Ue=o;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=s}while(r!==null);vt===0&&(vt=5)}function Ux(s,r){do{var o=EN(s.alternate,s);if(o!==null){o.flags&=32767,Ue=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Ue=s;return}Ue=s=o}while(s!==null);vt=6,Ue=null}function zx(s,r,o,c,f,y,T,S,O){s.cancelPendingCommit=null;do Oh();while(zt!==0);if((We&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=sm,Yf(s,o,y,T,S,O),s===at&&(Ue=at=null,Be=0),Eo=r,gr=s,Ci=o,hp=y,dp=f,Rx=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ON(Ki,function(){return Gx(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,f=oe.p,oe.p=2,T=We,We|=4;try{SN(s,r,o)}finally{We=T,oe.p=f,Q.T=c}}zt=1,Bx(),Fx(),Hx()}}function Bx(){if(zt===1){zt=0;var s=gr,r=Eo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var c=oe.p;oe.p=2;var f=We;We|=4;try{_x(r,s);var y=Cp,T=Cv(s.containerInfo),S=y.focusedElem,O=y.selectionRange;if(T!==S&&S&&S.ownerDocument&&Av(S.ownerDocument.documentElement,S)){if(O!==null&&Jf(S)){var $=O.start,Z=O.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var ie=S.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),pe=S.textContent.length,we=Math.min(O.start,pe),rt=O.end===void 0?we:Math.min(O.end,pe);!W.extend&&we>rt&&(T=rt,rt=we,we=T);var H=Sv(S,we),z=Sv(S,rt);if(H&&z&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var G=ie.createRange();G.setStart(H.node,H.offset),W.removeAllRanges(),we>rt?(W.addRange(G),W.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),W.addRange(G))}}}}for(ie=[],W=S;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var ne=ie[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Yh=!!Ap,Cp=Ap=null}finally{We=f,oe.p=c,Q.T=o}}s.current=r,zt=2}}function Fx(){if(zt===2){zt=0;var s=gr,r=Eo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var c=oe.p;oe.p=2;var f=We;We|=4;try{gx(s,r.alternate,r)}finally{We=f,oe.p=c,Q.T=o}}zt=3}}function Hx(){if(zt===4||zt===3){zt=0,Au();var s=gr,r=Eo,o=Ci,c=Rx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Eo=gr=null,qx(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(pr=null),ui(o),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ls,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Q.T,f=oe.p,oe.p=2,Q.T=null;try{for(var y=s.onRecoverableError,T=0;T<c.length;T++){var S=c[T];y(S.value,{componentStack:S.stack})}}finally{Q.T=r,oe.p=f}}(Ci&3)!==0&&Oh(),Xs(s),f=s.pendingLanes,(o&261930)!==0&&(f&42)!==0?s===fp?fc++:(fc=0,fp=s):fc=0,mc(0)}}function qx(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Yl(r)))}function Oh(){return Bx(),Fx(),Hx(),Gx()}function Gx(){if(zt!==5)return!1;var s=gr,r=hp;hp=0;var o=ui(Ci),c=Q.T,f=oe.p;try{oe.p=32>o?32:o,Q.T=null,o=dp,dp=null;var y=gr,T=Ci;if(zt=0,Eo=gr=null,Ci=0,(We&6)!==0)throw Error(i(331));var S=We;if(We|=4,Ax(y.current),wx(y,y.current,T,o),We=S,mc(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ls,y)}catch{}return!0}finally{oe.p=f,Q.T=c,qx(s,r)}}function $x(s,r,o){r=Yn(o,r),r=Gm(s.stateNode,r,2),s=cr(s,r,2),s!==null&&(Wr(s,2),Xs(s))}function tt(s,r,o){if(s.tag===3)$x(s,s,o);else for(;r!==null;){if(r.tag===3){$x(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(pr===null||!pr.has(c))){s=Yn(o,s),o=Kb(2),c=cr(r,o,2),c!==null&&(Yb(o,c,r,s),Wr(c,2),Xs(c));break}}r=r.return}}function gp(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new NN;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(lp=!0,f.add(o),s=jN.bind(null,s,r,o),r.then(s,s))}function jN(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,at===s&&(Be&o)===o&&(vt===4||vt===3&&(Be&62914560)===Be&&300>pn()-kh?(We&2)===0&&So(s,0):cp|=o,wo===Be&&(wo=0)),Xs(s)}function Kx(s,r){r===0&&(r=Du()),s=ha(s,r),s!==null&&(Wr(s,r),Xs(s))}function MN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),Kx(s,o)}function VN(s,r){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,f=s.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),Kx(s,o)}function ON(s,r){return Ut(s,r)}var Ph=null,Co=null,yp=!1,Lh=!1,vp=!1,vr=0;function Xs(s){s!==Co&&s.next===null&&(Co===null?Ph=Co=s:Co=Co.next=s),Lh=!0,yp||(yp=!0,LN())}function mc(s,r){if(!vp&&Lh){vp=!0;do for(var o=!1,c=Ph;c!==null;){if(s!==0){var f=c.pendingLanes;if(f===0)var y=0;else{var T=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-_t(42|s)+1)-1,y&=f&~(T&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Wx(c,y))}else y=Be,y=Ds(c,c===at?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||cs(c,y)||(o=!0,Wx(c,y));c=c.next}while(o);vp=!1}}function PN(){Yx()}function Yx(){Lh=yp=!1;var s=0;vr!==0&&YN()&&(s=vr);for(var r=pn(),o=null,c=Ph;c!==null;){var f=c.next,y=Qx(c,r);y===0?(c.next=null,o===null?Ph=f:o.next=f,f===null&&(Co=o)):(o=c,(s!==0||(y&3)!==0)&&(Lh=!0)),c=f}zt!==0&&zt!==5||mc(s),vr!==0&&(vr=0)}function Qx(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,f=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-_t(y),S=1<<T,O=f[T];O===-1?((S&o)===0||(S&c)!==0)&&(f[T]=Kf(S,r)):O<=r&&(s.expiredLanes|=S),y&=~S}if(r=at,o=Be,o=Ds(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&(et===2||et===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&$i(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||cs(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&$i(c),ui(o)){case 2:case 8:o=El;break;case 32:o=Ki;break;case 268435456:o=Cu;break;default:o=Ki}return c=Xx.bind(null,s),o=Ut(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&$i(c),s.callbackPriority=2,s.callbackNode=null,2}function Xx(s,r){if(zt!==0&&zt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Oh()&&s.callbackNode!==o)return null;var c=Be;return c=Ds(s,s===at?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Ix(s,c,r),Qx(s,pn()),s.callbackNode!=null&&s.callbackNode===o?Xx.bind(null,s):null)}function Wx(s,r){if(Oh())return null;Ix(s,r,!0)}function LN(){XN(function(){(We&6)!==0?Ut(wl,PN):Yx()})}function bp(){if(vr===0){var s=ho;s===0&&(s=ks,ks<<=1,(ks&261888)===0&&(ks=256)),vr=s}return vr}function Jx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xa(""+s)}function Zx(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function UN(s,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var y=Jx((f[qt]||null).action),T=c.submitter;T&&(r=(r=T[qt]||null)?Jx(r.formAction):T.getAttribute("formAction"),r!==null&&(y=r,T=null));var S=new Hs("action","action",null,c,f);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vr!==0){var O=T?Zx(f,T):new FormData(f);Um(o,{pending:!0,data:O,method:f.method,action:y},null,O)}}else typeof y=="function"&&(S.preventDefault(),O=T?Zx(f,T):new FormData(f),Um(o,{pending:!0,data:O,method:f.method,action:y},y,O))},currentTarget:f}]})}}for(var xp=0;xp<nm.length;xp++){var _p=nm[xp],zN=_p.toLowerCase(),BN=_p[0].toUpperCase()+_p.slice(1);ys(zN,"on"+BN)}ys(kv,"onAnimationEnd"),ys(Iv,"onAnimationIteration"),ys(Dv,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(sN,"onTransitionRun"),ys(iN,"onTransitionStart"),ys(rN,"onTransitionCancel"),ys(jv,"onTransitionEnd"),Us("onMouseEnter",["mouseout","mouseover"]),Us("onMouseLeave",["mouseout","mouseover"]),Us("onPointerEnter",["pointerout","pointerover"]),Us("onPointerLeave",["pointerout","pointerover"]),Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function e1(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],f=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var T=c.length-1;0<=T;T--){var S=c[T],O=S.instance,$=S.currentTarget;if(S=S.listener,O!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=$;try{y(f)}catch(Z){Zu(Z)}f.currentTarget=null,y=O}else for(T=0;T<c.length;T++){if(S=c[T],O=S.instance,$=S.currentTarget,S=S.listener,O!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=$;try{y(f)}catch(Z){Zu(Z)}f.currentTarget=null,y=O}}}}function ze(s,r){var o=r[Ga];o===void 0&&(o=r[Ga]=new Set);var c=s+"__bubble";o.has(c)||(t1(r,s,2,!1),o.add(c))}function Tp(s,r,o){var c=0;r&&(c|=4),t1(o,s,c,r)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function wp(s){if(!s[Uh]){s[Uh]=!0,Cl.forEach(function(o){o!=="selectionchange"&&(FN.has(o)||Tp(o,!1,s),Tp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Uh]||(r[Uh]=!0,Tp("selectionchange",!1,r))}}function t1(s,r,o,c){switch(k1(r)){case 2:var f=gR;break;case 8:f=yR;break;default:f=Lp}o=f.bind(null,r,o,s),f=void 0,!sa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?s.addEventListener(r,o,{capture:!0,passive:f}):s.addEventListener(r,o,!0):f!==void 0?s.addEventListener(r,o,{passive:f}):s.addEventListener(r,o,!1)}function Ep(s,r,o,c,f){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=c.return;T!==null;){var O=T.tag;if((O===3||O===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=Os(S),T===null)return;if(O=T.tag,O===5||O===6||O===26||O===27){c=y=T;continue e}S=S.parentNode}}c=c.return}Zi(function(){var $=y,Z=qn(o),ie=[];e:{var Y=Mv.get(s);if(Y!==void 0){var W=Hs,pe=s;switch(s){case"keypress":if(ra(o)===0)break e;case"keydown":case"keyup":W=Xu;break;case"focusin":pe="focus",W=oa;break;case"focusout":pe="blur",W=oa;break;case"beforeblur":case"afterblur":W=oa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=x;break;case kv:case Iv:case Dv:W=Hu;break;case jv:W=N;break;case"scroll":case"scrollend":W=Ul;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=fi;break;case"toggle":case"beforetoggle":W=je}var we=(r&4)!==0,rt=!we&&(s==="scroll"||s==="scrollend"),H=we?Y!==null?Y+"Capture":null:Y;we=[];for(var z=$,G;z!==null;){var ne=z;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||H===null||(ne=fs(z,H),ne!=null&&we.push(gc(z,ne,G))),rt)break;z=z.return}0<we.length&&(Y=new W(Y,pe,null,o,Z),ie.push({event:Y,listeners:we}))}}if((r&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",Y&&o!==Ol&&(pe=o.relatedTarget||o.fromElement)&&(Os(pe)||pe[Ms]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(pe=o.relatedTarget||o.toElement,W=$,pe=pe?Os(pe):null,pe!==null&&(rt=l(pe),we=pe.tag,pe!==rt||we!==5&&we!==27&&we!==6)&&(pe=null)):(W=null,pe=$),W!==pe)){if(we=zl,ne="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(we=fi,ne="onPointerLeave",H="onPointerEnter",z="pointer"),rt=W==null?Y:In(W),G=pe==null?Y:In(pe),Y=new we(ne,z+"leave",W,o,Z),Y.target=rt,Y.relatedTarget=G,ne=null,Os(Z)===$&&(we=new we(H,z+"enter",pe,o,Z),we.target=G,we.relatedTarget=rt,ne=we),rt=ne,W&&pe)t:{for(we=HN,H=W,z=pe,G=0,ne=H;ne;ne=we(ne))G++;ne=0;for(var be=z;be;be=we(be))ne++;for(;0<G-ne;)H=we(H),G--;for(;0<ne-G;)z=we(z),ne--;for(;G--;){if(H===z||z!==null&&H===z.alternate){we=H;break t}H=we(H),z=we(z)}we=null}else we=null;W!==null&&n1(ie,Y,W,we,!1),pe!==null&&rt!==null&&n1(ie,rt,pe,we,!0)}}e:{if(Y=$?In($):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Ye=bv;else if(yv(Y))if(xv)Ye=eN;else{Ye=JC;var ye=WC}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&Qa($.elementType)&&(Ye=bv):Ye=ZC;if(Ye&&(Ye=Ye(s,$))){vv(ie,Ye,o,Z);break e}ye&&ye(s,Y,$),s==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&jl(Y,"number",Y.value)}switch(ye=$?In($):window,s){case"focusin":(yv(ye)||ye.contentEditable==="true")&&(so=ye,Zf=$,Gl=null);break;case"focusout":Gl=Zf=so=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,Nv(ie,o,Z);break;case"selectionchange":if(nN)break;case"keydown":case"keyup":Nv(ie,o,Z)}var Oe;if(Xe)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else no?la(s,o)&&(Fe="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&($s&&o.locale!=="ko"&&(no||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&no&&(Oe=Ll()):(Fs=Z,Pl="value"in Fs?Fs.value:Fs.textContent,no=!0)),ye=zh($,Fe),0<ye.length&&(Fe=new Gs(Fe,s,null,o,Z),ie.push({event:Fe,listeners:ye}),Oe?Fe.data=Oe:(Oe=to(o),Oe!==null&&(Fe.data=Oe)))),(Oe=$n?KC(s,o):YC(s,o))&&(Fe=zh($,"onBeforeInput"),0<Fe.length&&(ye=new Gs("onBeforeInput","beforeinput",null,o,Z),ie.push({event:ye,listeners:Fe}),ye.data=Oe)),UN(ie,s,$,o,Z)}e1(ie,r)})}function gc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function zh(s,r){for(var o=r+"Capture",c=[];s!==null;){var f=s,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=fs(s,o),f!=null&&c.unshift(gc(s,f,y)),f=fs(s,r),f!=null&&c.push(gc(s,f,y))),s.tag===3)return c;s=s.return}return[]}function HN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function n1(s,r,o,c,f){for(var y=r._reactName,T=[];o!==null&&o!==c;){var S=o,O=S.alternate,$=S.stateNode;if(S=S.tag,O!==null&&O===c)break;S!==5&&S!==26&&S!==27||$===null||(O=$,f?($=fs(o,y),$!=null&&T.unshift(gc(o,$,O))):f||($=fs(o,y),$!=null&&T.push(gc(o,$,O)))),o=o.return}T.length!==0&&s.push({event:r,listeners:T})}var qN=/\r\n?/g,GN=/\u0000|\uFFFD/g;function s1(s){return(typeof s=="string"?s:""+s).replace(qN,`
`).replace(GN,"")}function i1(s,r){return r=s1(r),s1(s)===r}function it(s,r,o,c,f,y){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Tn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Tn(s,""+c);break;case"className":Dn(s,"class",c);break;case"tabIndex":Dn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(s,o,c);break;case"style":Vl(s,c,y);break;case"data":if(r!=="object"){Dn(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Xa(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&it(s,r,"name",f.name,f,null),it(s,r,"formEncType",f.formEncType,f,null),it(s,r,"formMethod",f.formMethod,f,null),it(s,r,"formTarget",f.formTarget,f,null)):(it(s,r,"encType",f.encType,f,null),it(s,r,"method",f.method,f,null),it(s,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Xa(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=ds);break;case"onScroll":c!=null&&ze("scroll",s);break;case"onScrollEnd":c!=null&&ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=Xa(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":ze("beforetoggle",s),ze("toggle",s),Ka(s,"popover",c);break;case"xlinkActuate":kt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ka(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=zu.get(o)||o,Ka(s,o,c))}}function Sp(s,r,o,c,f,y){switch(o){case"style":Vl(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?Tn(s,c):(typeof c=="number"||typeof c=="bigint")&&Tn(s,""+c);break;case"onScroll":c!=null&&ze("scroll",s);break;case"onScrollEnd":c!=null&&ze("scrollend",s);break;case"onClick":c!=null&&(s.onclick=ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),y=s[qt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,f),typeof c=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,f);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):Ka(s,o,c)}}}function nn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",s),ze("load",s);var c=!1,f=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:it(s,r,y,T,o,null)}}f&&it(s,r,"srcSet",o.srcSet,o,null),c&&it(s,r,"src",o.src,o,null);return;case"input":ze("invalid",s);var S=y=T=f=null,O=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":f=Z;break;case"type":T=Z;break;case"checked":O=Z;break;case"defaultChecked":$=Z;break;case"value":y=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:it(s,r,c,Z,o,null)}}Pu(s,y,S,O,$,T,f,!1);return;case"select":ze("invalid",s),c=T=y=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":y=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:it(s,r,f,S,o,null)}r=y,o=T,s.multiple=!!c,r!=null?Qi(s,!!c,r,!1):o!=null&&Qi(s,!!c,o,!0);return;case"textarea":ze("invalid",s),y=f=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":f=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:it(s,r,T,S,o,null)}Xi(s,c,f,y);return;case"option":for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null)&&(O==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":it(s,r,O,c,o,null));return;case"dialog":ze("beforetoggle",s),ze("toggle",s),ze("cancel",s),ze("close",s);break;case"iframe":case"object":ze("load",s);break;case"video":case"audio":for(c=0;c<pc.length;c++)ze(pc[c],s);break;case"image":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"embed":case"source":case"link":ze("error",s),ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:it(s,r,$,c,o,null)}return;default:if(Qa(r)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Sp(s,r,Z,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&it(s,r,S,c,o,null))}function $N(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,T=null,S=null,O=null,$=null,Z=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=ie;default:c.hasOwnProperty(W)||it(s,r,W,null,c,ie)}}for(var Y in c){var W=c[Y];if(ie=o[Y],c.hasOwnProperty(Y)&&(W!=null||ie!=null))switch(Y){case"type":y=W;break;case"name":f=W;break;case"checked":$=W;break;case"defaultChecked":Z=W;break;case"value":T=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:W!==ie&&it(s,r,Y,W,c,ie)}}Ya(s,T,S,O,$,Z,y,f);return;case"select":W=T=S=Y=null;for(y in o)if(O=o[y],o.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":W=O;default:c.hasOwnProperty(y)||it(s,r,y,null,c,O)}for(f in c)if(y=c[f],O=o[f],c.hasOwnProperty(f)&&(y!=null||O!=null))switch(f){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":T=y;default:y!==O&&it(s,r,f,y,c,O)}r=S,o=T,c=W,Y!=null?Qi(s,!!o,Y,!1):!!c!=!!o&&(r!=null?Qi(s,!!o,r,!0):Qi(s,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(s,r,S,null,c,f)}for(T in c)if(f=c[T],y=o[T],c.hasOwnProperty(T)&&(f!=null||y!=null))switch(T){case"value":Y=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==y&&it(s,r,T,f,c,y)}Lu(s,Y,W);return;case"option":for(var pe in o)Y=o[pe],o.hasOwnProperty(pe)&&Y!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?s.selected=!1:it(s,r,pe,null,c,Y));for(O in c)Y=c[O],W=o[O],c.hasOwnProperty(O)&&Y!==W&&(Y!=null||W!=null)&&(O==="selected"?s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":it(s,r,O,Y,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Y=o[we],o.hasOwnProperty(we)&&Y!=null&&!c.hasOwnProperty(we)&&it(s,r,we,null,c,Y);for($ in c)if(Y=c[$],W=o[$],c.hasOwnProperty($)&&Y!==W&&(Y!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:it(s,r,$,Y,c,W)}return;default:if(Qa(r)){for(var rt in o)Y=o[rt],o.hasOwnProperty(rt)&&Y!==void 0&&!c.hasOwnProperty(rt)&&Sp(s,r,rt,void 0,c,Y);for(Z in c)Y=c[Z],W=o[Z],!c.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||Sp(s,r,Z,Y,c,W);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!c.hasOwnProperty(H)&&it(s,r,H,null,c,Y);for(ie in c)Y=c[ie],W=o[ie],!c.hasOwnProperty(ie)||Y===W||Y==null&&W==null||it(s,r,ie,Y,c,W)}function r1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],y=f.transferSize,T=f.initiatorType,S=f.duration;if(y&&S&&r1(T)){for(T=0,S=f.responseEnd,c+=1;c<o.length;c++){var O=o[c],$=O.startTime;if($>S)break;var Z=O.transferSize,ie=O.initiatorType;Z&&r1(ie)&&(O=O.responseEnd,T+=Z*(O<S?1:(S-$)/(O-$)))}if(--c,r+=8*(y+T)/(f.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ap=null,Cp=null;function Bh(s){return s.nodeType===9?s:s.ownerDocument}function a1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o1(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Np(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rp=null;function YN(){var s=window.event;return s&&s.type==="popstate"?s===Rp?!1:(Rp=s,!0):(Rp=null,!1)}var l1=typeof setTimeout=="function"?setTimeout:void 0,QN=typeof clearTimeout=="function"?clearTimeout:void 0,c1=typeof Promise=="function"?Promise:void 0,XN=typeof queueMicrotask=="function"?queueMicrotask:typeof c1<"u"?function(s){return c1.resolve(null).then(s).catch(WN)}:l1;function WN(s){setTimeout(function(){throw s})}function br(s){return s==="head"}function u1(s,r){var o=r,c=0;do{var f=o.nextSibling;if(s.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(f),Io(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")yc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,yc(o);for(var y=o.firstChild;y;){var T=y.nextSibling,S=y.nodeName;y[Vs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=T}}else o==="body"&&yc(s.ownerDocument.body);o=f}while(o);Io(r)}function h1(s,r){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function kp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":kp(o),$a(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function JN(s,r,o,c){for(;s.nodeType===1;){var f=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Vs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Zn(s.nextSibling),s===null)break}return null}function ZN(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Zn(s.nextSibling),s===null))return null;return s}function d1(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Zn(s.nextSibling),s===null))return null;return s}function Ip(s){return s.data==="$?"||s.data==="$~"}function Dp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function eR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Zn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var jp=null;function f1(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return Zn(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function m1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function p1(s,r,o){switch(r=Bh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function yc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);$a(s)}var es=new Map,g1=new Set;function Fh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ni=oe.d;oe.d={f:tR,r:nR,D:sR,C:iR,L:rR,m:aR,X:lR,S:oR,M:cR};function tR(){var s=Ni.f(),r=jh();return s||r}function nR(s){var r=Hn(s);r!==null&&r.tag===5&&r.type==="form"?jb(r):Ni.r(s)}var No=typeof document>"u"?null:document;function y1(s,r,o){var c=No;if(c&&typeof r=="string"&&r){var f=_n(r);f='link[rel="'+s+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),g1.has(f)||(g1.add(f),s={rel:s,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),nn(r,"link",s),Rt(r),c.head.appendChild(r)))}}function sR(s){Ni.D(s),y1("dns-prefetch",s,null)}function iR(s,r){Ni.C(s,r),y1("preconnect",s,r)}function rR(s,r,o){Ni.L(s,r,o);var c=No;if(c&&s&&r){var f='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+_n(o.imageSizes)+'"]')):f+='[href="'+_n(s)+'"]';var y=f;switch(r){case"style":y=Ro(s);break;case"script":y=ko(s)}es.has(y)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),es.set(y,s),c.querySelector(f)!==null||r==="style"&&c.querySelector(vc(y))||r==="script"&&c.querySelector(bc(y))||(r=c.createElement("link"),nn(r,"link",s),Rt(r),c.head.appendChild(r)))}}function aR(s,r){Ni.m(s,r);var o=No;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+_n(c)+'"][href="'+_n(s)+'"]',y=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ko(s)}if(!es.has(y)&&(s=b({rel:"modulepreload",href:s},r),es.set(y,s),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bc(y)))return}c=o.createElement("link"),nn(c,"link",s),Rt(c),o.head.appendChild(c)}}}function oR(s,r,o){Ni.S(s,r,o);var c=No;if(c&&s){var f=Ps(c).hoistableStyles,y=Ro(s);r=r||"default";var T=f.get(y);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(vc(y)))S.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=es.get(y))&&Mp(s,o);var O=T=c.createElement("link");Rt(O),nn(O,"link",s),O._p=new Promise(function($,Z){O.onload=$,O.onerror=Z}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hh(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(y,T)}}}function lR(s,r){Ni.X(s,r);var o=No;if(o&&s){var c=Ps(o).hoistableScripts,f=ko(s),y=c.get(f);y||(y=o.querySelector(bc(f)),y||(s=b({src:s,async:!0},r),(r=es.get(f))&&Vp(s,r),y=o.createElement("script"),Rt(y),nn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function cR(s,r){Ni.M(s,r);var o=No;if(o&&s){var c=Ps(o).hoistableScripts,f=ko(s),y=c.get(f);y||(y=o.querySelector(bc(f)),y||(s=b({src:s,async:!0,type:"module"},r),(r=es.get(f))&&Vp(s,r),y=o.createElement("script"),Rt(y),nn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function v1(s,r,o,c){var f=(f=Re.current)?Fh(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ro(o.href),o=Ps(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Ro(o.href);var y=Ps(f).hoistableStyles,T=y.get(s);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=f.querySelector(vc(s)))&&!y._p&&(T.instance=y,T.state.loading=5),es.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},es.set(s,o),y||uR(f,s,o,T.state))),r&&c===null)throw Error(i(528,""));return T}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ko(o),o=Ps(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ro(s){return'href="'+_n(s)+'"'}function vc(s){return'link[rel="stylesheet"]['+s+"]"}function b1(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function uR(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),nn(r,"link",o),Rt(r),s.head.appendChild(r))}function ko(s){return'[src="'+_n(s)+'"]'}function bc(s){return"script[async]"+s}function x1(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+_n(o.href)+'"]');if(c)return r.instance=c,Rt(c),c;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Rt(c),nn(c,"style",f),Hh(c,o.precedence,s),r.instance=c;case"stylesheet":f=Ro(o.href);var y=s.querySelector(vc(f));if(y)return r.state.loading|=4,r.instance=y,Rt(y),y;c=b1(o),(f=es.get(f))&&Mp(c,f),y=(s.ownerDocument||s).createElement("link"),Rt(y);var T=y;return T._p=new Promise(function(S,O){T.onload=S,T.onerror=O}),nn(y,"link",c),r.state.loading|=4,Hh(y,o.precedence,s),r.instance=y;case"script":return y=ko(o.src),(f=s.querySelector(bc(y)))?(r.instance=f,Rt(f),f):(c=o,(f=es.get(y))&&(c=b({},o),Vp(c,f)),s=s.ownerDocument||s,f=s.createElement("script"),Rt(f),nn(f,"link",c),s.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Hh(c,o.precedence,s));return r.instance}function Hh(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,y=f,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===r)y=S;else if(y!==f)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Mp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Vp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var qh=null;function _1(s,r,o){if(qh===null){var c=new Map,f=qh=new Map;f.set(o,c)}else f=qh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),f=0;f<o.length;f++){var y=o[f];if(!(y[Vs]||y[Nt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(r)||"";T=s+T;var S=c.get(T);S?S.push(y):c.set(T,[y])}}return c}function T1(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function hR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function w1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function dR(s,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Ro(c.href),y=r.querySelector(vc(f));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Gh.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Rt(y);return}y=r.ownerDocument||r,c=b1(c),(f=es.get(f))&&Mp(c,f),y=y.createElement("link"),Rt(y);var T=y;T._p=new Promise(function(S,O){T.onload=S,T.onerror=O}),nn(y,"link",c),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Gh.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Op=0;function fR(s,r){return s.stylesheets&&s.count===0&&Kh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&Kh(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&Op===0&&(Op=62500*KN());var f=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Kh(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Op?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Gh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $h=null;function Kh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$h=new Map,r.forEach(mR,s),$h=null,Gh.call(s))}function mR(s,r){if(!(r.state.loading&4)){var o=$h.get(s);if(o)var c=o.get(null);else{o=new Map,$h.set(s,o);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var T=f[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}f=r.instance,T=f.getAttribute("data-precedence"),y=o.get(T)||c,y===c&&o.set(null,f),o.set(T,f),this.count++,c=Gh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),y?y.parentNode.insertBefore(f,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),r.state.loading|=4}}var xc={$$typeof:K,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function pR(s,r,o,c,f,y,T,S,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.hiddenUpdates=js(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function E1(s,r,o,c,f,y,T,S,O,$,Z,ie){return s=new pR(s,r,o,T,O,$,Z,ie,S),r=1,y===!0&&(r|=24),y=Mn(3,null,null,r),s.current=y,y.stateNode=s,r=pm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:r},bm(y),s}function S1(s){return s?(s=ao,s):ao}function A1(s,r,o,c,f,y){f=S1(f),c.context===null?c.context=f:c.pendingContext=f,c=lr(r),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=cr(s,c,r),o!==null&&(Cn(o,s,r),Jl(o,s,r))}function C1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Pp(s,r){C1(s,r),(s=s.alternate)&&C1(s,r)}function N1(s){if(s.tag===13||s.tag===31){var r=ha(s,67108864);r!==null&&Cn(r,s,67108864),Pp(s,67108864)}}function R1(s){if(s.tag===13||s.tag===31){var r=Un();r=Zr(r);var o=ha(s,r);o!==null&&Cn(o,s,r),Pp(s,r)}}var Yh=!0;function gR(s,r,o,c){var f=Q.T;Q.T=null;var y=oe.p;try{oe.p=2,Lp(s,r,o,c)}finally{oe.p=y,Q.T=f}}function yR(s,r,o,c){var f=Q.T;Q.T=null;var y=oe.p;try{oe.p=8,Lp(s,r,o,c)}finally{oe.p=y,Q.T=f}}function Lp(s,r,o,c){if(Yh){var f=Up(c);if(f===null)Ep(s,r,c,Qh,o),I1(s,c);else if(bR(f,s,r,o,c))c.stopPropagation();else if(I1(s,c),r&4&&-1<vR.indexOf(s)){for(;f!==null;){var y=Hn(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Is(y.pendingLanes);if(T!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var O=1<<31-_t(T);S.entanglements[1]|=O,T&=~O}Xs(y),(We&6)===0&&(Ih=pn()+500,mc(0))}}break;case 31:case 13:S=ha(y,2),S!==null&&Cn(S,y,2),jh(),Pp(y,2)}if(y=Up(c),y===null&&Ep(s,r,c,Qh,o),y===f)break;f=y}f!==null&&c.stopPropagation()}else Ep(s,r,c,null,o)}}function Up(s){return s=qn(s),zp(s)}var Qh=null;function zp(s){if(Qh=null,s=Os(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Qh=s,null}function k1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qr()){case wl:return 2;case El:return 8;case Ki:case $f:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var Bp=!1,xr=null,_r=null,Tr=null,_c=new Map,Tc=new Map,wr=[],vR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I1(s,r){switch(s){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":_c.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(r.pointerId)}}function wc(s,r,o,c,f,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[f]},r!==null&&(r=Hn(r),r!==null&&N1(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),s)}function bR(s,r,o,c,f){switch(r){case"focusin":return xr=wc(xr,s,r,o,c,f),!0;case"dragenter":return _r=wc(_r,s,r,o,c,f),!0;case"mouseover":return Tr=wc(Tr,s,r,o,c,f),!0;case"pointerover":var y=f.pointerId;return _c.set(y,wc(_c.get(y)||null,s,r,o,c,f)),!0;case"gotpointercapture":return y=f.pointerId,Tc.set(y,wc(Tc.get(y)||null,s,r,o,c,f)),!0}return!1}function D1(s){var r=Os(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,us(s.priority,function(){R1(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,us(s.priority,function(){R1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Up(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);Ol=c,o.target.dispatchEvent(c),Ol=null}else return r=Hn(o),r!==null&&N1(r),s.blockedOn=o,!1;r.shift()}return!0}function j1(s,r,o){Xh(s)&&o.delete(r)}function xR(){Bp=!1,xr!==null&&Xh(xr)&&(xr=null),_r!==null&&Xh(_r)&&(_r=null),Tr!==null&&Xh(Tr)&&(Tr=null),_c.forEach(j1),Tc.forEach(j1)}function Wh(s,r){s.blockedOn===r&&(s.blockedOn=null,Bp||(Bp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xR)))}var Jh=null;function M1(s){Jh!==s&&(Jh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jh===s&&(Jh=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],f=s[r+2];if(typeof c!="function"){if(zp(c||o)===null)continue;break}var y=Hn(o);y!==null&&(s.splice(r,3),r-=3,Um(y,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Io(s){function r(O){return Wh(O,s)}xr!==null&&Wh(xr,s),_r!==null&&Wh(_r,s),Tr!==null&&Wh(Tr,s),_c.forEach(r),Tc.forEach(r);for(var o=0;o<wr.length;o++){var c=wr[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<wr.length&&(o=wr[0],o.blockedOn===null);)D1(o),o.blockedOn===null&&wr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],y=o[c+1],T=f[qt]||null;if(typeof y=="function")T||M1(o);else if(T){var S=null;if(y&&y.hasAttribute("formAction")){if(f=y,T=y[qt]||null)S=T.formAction;else if(zp(f)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),M1(o)}}}function V1(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Fp(s){this._internalRoot=s}Zh.prototype.render=Fp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Un();A1(o,c,s,r,null,null)},Zh.prototype.unmount=Fp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;A1(s.current,2,null,s,null,null),jh(),r[Ms]=null}};function Zh(s){this._internalRoot=s}Zh.prototype.unstable_scheduleHydration=function(s){if(s){var r=ju();s={blockedOn:null,target:s,priority:r};for(var o=0;o<wr.length&&r!==0&&r<wr[o].priority;o++);wr.splice(o,0,s),o===0&&D1(s)}};var O1=e.version;if(O1!=="19.2.4")throw Error(i(527,O1,"19.2.4"));oe.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var _R={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{ls=ed.inject(_R),Wt=ed}catch{}}return Sc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",f=Hb,y=qb,T=Gb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=E1(s,1,!1,null,null,o,c,null,f,y,T,V1),s[Ms]=r.current,wp(s),new Fp(r)},Sc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,f="",y=Hb,T=qb,S=Gb,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=E1(s,1,!0,r,o??null,c,f,O,y,T,S,V1),r.context=S1(null),o=r.current,c=Un(),c=Zr(c),f=lr(c),f.callback=null,cr(o,f,c),o=c,r.current.lanes=o,Wr(r,o),Xs(r),s[Ms]=r.current,wp(s),new Zh(r)},Sc.version="19.2.4",Sc}var $1;function IR(){if($1)return Gp.exports;$1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gp.exports=kR(),Gp.exports}var DR=IR();const jR=Jw(DR);var K1="popstate";function MR(t={}){function e(i,a){let{pathname:l,search:u,hash:d}=i.location;return Ig("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:qc(a)}return OR(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VR(){return Math.random().toString(36).substring(2,10)}function Y1(t,e){return{usr:t.state,key:t.key,idx:e}}function Ig(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:n,key:e&&e.key||i||VR()}}function qc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function OR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,d="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function b(){d="POP";let P=v(),B=P==null?null:P-p;p=P,m&&m({action:d,location:L.location,delta:B})}function _(P,B){d="PUSH";let F=Ig(L.location,P,B);p=v()+1;let K=Y1(F,p),J=L.createHref(F);try{u.pushState(K,"",J)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(J)}l&&m&&m({action:d,location:L.location,delta:1})}function A(P,B){d="REPLACE";let F=Ig(L.location,P,B);p=v();let K=Y1(F,p),J=L.createHref(F);u.replaceState(K,"",J),l&&m&&m({action:d,location:L.location,delta:0})}function M(P){return PR(P)}let L={get action(){return d},get location(){return t(a,u)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(K1,b),m=P,()=>{a.removeEventListener(K1,b),m=null}},createHref(P){return e(a,P)},createURL:M,encodeLocation(P){let B=M(P);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:_,replace:A,go(P){return u.go(P)}};return L}function PR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:qc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function eE(t,e,n="/"){return LR(t,e,n,!1)}function LR(t,e,n,i){let a=typeof e=="string"?al(e):e,l=Vi(a.pathname||"/",n);if(l==null)return null;let u=tE(t);UR(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let p=XR(l);d=YR(u[m],p,i)}return d}function tE(t,e=[],n=[],i="",a=!1){let l=(u,d,m=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;mt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=ji([i,v.relativePath]),_=n.concat(v);u.children&&u.children.length>0&&(mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),tE(u.children,e,_,b,m)),!(u.path==null&&!u.index)&&e.push({path:b,score:$R(b,u.index),routesMeta:_})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of nE(u.path))l(u,d,!0,m)}),e}function nE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=nE(i.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function UR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var zR=/^:[\w-]+$/,BR=3,FR=2,HR=1,qR=10,GR=-2,Q1=t=>t==="*";function $R(t,e){let n=t.split("/"),i=n.length;return n.some(Q1)&&(i+=GR),e&&(i+=FR),n.filter(a=>!Q1(a)).reduce((a,l)=>a+(zR.test(l)?BR:l===""?HR:qR),i)}function KR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function YR(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Md({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),_=m.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=Md({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:ji([l,b.pathname]),pathnameBase:ek(ji([l,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(l=ji([l,b.pathnameBase]))}return u}function Md(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=QR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},_)=>{if(v==="*"){let M=d[_]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const A=d[_];return b&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function QR(t,e=!1,n=!0){Cs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function XR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var WR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function JR(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?al(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=X1(n.substring(1),"/"):l=X1(n,e)):l=e,{pathname:l,search:tk(i),hash:nk(a)}}function X1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Qp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I0(t){let e=ZR(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function D0(t,e,n,i=!1){let a;typeof t=="string"?a=al(t):(a={...t},mt(!a.pathname||!a.pathname.includes("?"),Qp("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Qp("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Qp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let b=e.length-1;if(!i&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}d=b>=0?e[b]:"/"}let m=JR(a,d),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ji=t=>t.join("/").replace(/\/\/+/g,"/"),ek=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,sk=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ik(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rk(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iE(t,e){let n=t;if(typeof n!="string"||!WR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(sE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Vi(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{Cs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rE=["POST","PUT","PATCH","DELETE"];new Set(rE);var ak=["GET",...rE];new Set(ak);var ol=R.createContext(null);ol.displayName="DataRouter";var mf=R.createContext(null);mf.displayName="DataRouterState";var ok=R.createContext(!1),aE=R.createContext({isTransitioning:!1});aE.displayName="ViewTransition";var lk=R.createContext(new Map);lk.displayName="Fetchers";var ck=R.createContext(null);ck.displayName="Await";var Bn=R.createContext(null);Bn.displayName="Navigation";var ou=R.createContext(null);ou.displayName="Location";var as=R.createContext({outlet:null,matches:[],isDataRoute:!1});as.displayName="Route";var j0=R.createContext(null);j0.displayName="RouteError";var oE="REACT_ROUTER_ERROR",uk="REDIRECT",hk="ROUTE_ERROR_RESPONSE";function dk(t){if(t.startsWith(`${oE}:${uk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fk(t){if(t.startsWith(`${oE}:${hk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new sk(e.status,e.statusText,e.data)}catch{}}function mk(t,{relative:e}={}){mt(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=R.useContext(Bn),{hash:a,pathname:l,search:u}=lu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ji([n,l])),i.createHref({pathname:d,search:u,hash:a})}function ll(){return R.useContext(ou)!=null}function Fi(){return mt(ll(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(ou).location}var lE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cE(t){R.useContext(Bn).static||R.useLayoutEffect(t)}function pf(){let{isDataRoute:t}=R.useContext(as);return t?kk():pk()}function pk(){mt(ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(ol),{basename:e,navigator:n}=R.useContext(Bn),{matches:i}=R.useContext(as),{pathname:a}=Fi(),l=JSON.stringify(I0(i)),u=R.useRef(!1);return cE(()=>{u.current=!0}),R.useCallback((m,p={})=>{if(Cs(u.current,lE),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=D0(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ji([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var gk=R.createContext(null);function yk(t){let e=R.useContext(as).outlet;return R.useMemo(()=>e&&R.createElement(gk.Provider,{value:t},e),[e,t])}function vk(){let{matches:t}=R.useContext(as),e=t[t.length-1];return e?e.params:{}}function lu(t,{relative:e}={}){let{matches:n}=R.useContext(as),{pathname:i}=Fi(),a=JSON.stringify(I0(n));return R.useMemo(()=>D0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function bk(t,e){return uE(t,e)}function uE(t,e,n,i,a){mt(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(Bn),{matches:u}=R.useContext(as),d=u[u.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let F=b&&b.path||"";dE(p,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Fi(),A;if(e){let F=typeof e=="string"?al(e):e;mt(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),A=F}else A=_;let M=A.pathname||"/",L=M;if(v!=="/"){let F=v.replace(/^\//,"").split("/");L="/"+M.replace(/^\//,"").split("/").slice(F.length).join("/")}let P=eE(t,{pathname:L});Cs(b||P!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Cs(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Ek(P&&P.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:ji([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:ji([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),u,n,i,a);return e&&B?R.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function xk(){let t=Rk(),e=ik(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,u)}var _k=R.createElement(xk,null),hE=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=fk(t.digest);n&&(t=n)}let e=t!==void 0?R.createElement(as.Provider,{value:this.props.routeContext},R.createElement(j0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement(Tk,{error:t},e):e}};hE.contextType=ok;var Xp=new WeakMap;function Tk({children:t,error:e}){let{basename:n}=R.useContext(Bn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=dk(e.digest);if(i){let a=Xp.get(e);if(a)throw a;let l=iE(i.location,n);if(sE&&!Xp.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Xp.set(e,u),u}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function wk({routeContext:t,match:e,children:n}){let i=R.useContext(ol);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(as.Provider,{value:t},n)}function Ek(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);mt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:_,errors:A}=n,M=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||M){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&i?(v,b)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:rk(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,_)=>{let A,M=!1,L=null,P=null;n&&(A=u&&b.route.id?u[b.route.id]:void 0,L=b.route.errorElement||_k,d&&(m<0&&_===0?(dE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,P=null):m===_&&(M=!0,P=b.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,_+1)),F=()=>{let K;return A?K=L:M?K=P:b.route.Component?K=R.createElement(b.route.Component,null):b.route.element?K=b.route.element:K=v,R.createElement(wk,{match:b,routeContext:{outlet:v,matches:B,isDataRoute:n!=null},children:K})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?R.createElement(hE,{location:n.location,revalidation:n.revalidation,component:L,error:A,children:F(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):F()},null)}function M0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sk(t){let e=R.useContext(ol);return mt(e,M0(t)),e}function Ak(t){let e=R.useContext(mf);return mt(e,M0(t)),e}function Ck(t){let e=R.useContext(as);return mt(e,M0(t)),e}function V0(t){let e=Ck(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Nk(){return V0("useRouteId")}function Rk(){let t=R.useContext(j0),e=Ak("useRouteError"),n=V0("useRouteError");return t!==void 0?t:e.errors?.[n]}function kk(){let{router:t}=Sk("useNavigate"),e=V0("useNavigate"),n=R.useRef(!1);return cE(()=>{n.current=!0}),R.useCallback(async(a,l={})=>{Cs(n.current,lE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var W1={};function dE(t,e,n){!e&&!W1[t]&&(W1[t]=!0,Cs(!1,n))}R.memo(Ik);function Ik({routes:t,future:e,state:n,onError:i}){return uE(t,void 0,n,i,e)}function Dk({to:t,replace:e,state:n,relative:i}){mt(ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=R.useContext(Bn);Cs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=R.useContext(as),{pathname:u}=Fi(),d=pf(),m=D0(t,I0(l),u,i==="path"),p=JSON.stringify(m);return R.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function Ws(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jk({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){mt(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=al(n));let{pathname:p="/",search:v="",hash:b="",state:_=null,key:A="default"}=n,M=R.useMemo(()=>{let L=Vi(p,d);return L==null?null:{location:{pathname:L,search:v,hash:b,state:_,key:A},navigationType:i}},[d,p,v,b,_,A,i]);return Cs(M!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:R.createElement(Bn.Provider,{value:m},R.createElement(ou.Provider,{children:e,value:M}))}function Mk({children:t,location:e}){return bk(Dg(t),e)}function Dg(t,e=[]){let n=[];return R.Children.forEach(t,(i,a)=>{if(!R.isValidElement(i))return;let l=[...e,a];if(i.type===R.Fragment){n.push.apply(n,Dg(i.props.children,l));return}mt(i.type===Ws,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Dg(i.props.children,l)),n.push(u)}),n}var md="get",pd="application/x-www-form-urlencoded";function gf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Vk(t){return gf(t)&&t.tagName.toLowerCase()==="button"}function Ok(t){return gf(t)&&t.tagName.toLowerCase()==="form"}function Pk(t){return gf(t)&&t.tagName.toLowerCase()==="input"}function Lk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Uk(t,e){return t.button===0&&(!e||e==="_self")&&!Lk(t)}var td=null;function zk(){if(td===null)try{new FormData(document.createElement("form"),0),td=!1}catch{td=!0}return td}var Bk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wp(t){return t!=null&&!Bk.has(t)?(Cs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):t}function Fk(t,e){let n,i,a,l,u;if(Ok(t)){let d=t.getAttribute("action");i=d?Vi(d,e):null,n=t.getAttribute("method")||md,a=Wp(t.getAttribute("enctype"))||pd,l=new FormData(t)}else if(Vk(t)||Pk(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?Vi(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||md,a=Wp(t.getAttribute("formenctype"))||Wp(d.getAttribute("enctype"))||pd,l=new FormData(d,t),!zk()){let{name:p,type:v,value:b}=t;if(v==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,b)}}else{if(gf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=md,i=null,a=pd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function O0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hk(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Vi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function qk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $k(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await qk(l,n);return u.links?u.links():[]}return[]}));return Xk(i.flat(1).filter(Gk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function J1(t,e,n,i,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Kk(t,e,{includeHydrateFallback:n}={}){return Yk(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Yk(t){return[...new Set(t)]}function Qk(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Xk(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(Qk(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function fE(){let t=R.useContext(ol);return O0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Wk(){let t=R.useContext(mf);return O0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var P0=R.createContext(void 0);P0.displayName="FrameworkContext";function mE(){let t=R.useContext(P0);return O0(t,"You must render this element inside a <HydratedRouter> element"),t}function Jk(t,e){let n=R.useContext(P0),[i,a]=R.useState(!1),[l,u]=R.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,_=R.useRef(null);R.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let L=B=>{B.forEach(F=>{u(F.isIntersecting)})},P=new IntersectionObserver(L,{threshold:.5});return _.current&&P.observe(_.current),()=>{P.disconnect()}}},[t]),R.useEffect(()=>{if(i){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[i]);let A=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Ac(d,A),onBlur:Ac(m,M),onMouseEnter:Ac(p,A),onMouseLeave:Ac(v,M),onTouchStart:Ac(b,A)}]:[!1,_,{}]}function Ac(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Zk({page:t,...e}){let{router:n}=fE(),i=R.useMemo(()=>eE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?R.createElement(t4,{page:t,matches:i,...e}):null}function e4(t){let{manifest:e,routeModules:n}=mE(),[i,a]=R.useState([]);return R.useEffect(()=>{let l=!1;return $k(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function t4({page:t,matches:e,...n}){let i=Fi(),{future:a,manifest:l,routeModules:u}=mE(),{basename:d}=fE(),{loaderData:m,matches:p}=Wk(),v=R.useMemo(()=>J1(t,e,p,l,i,"data"),[t,e,p,l,i]),b=R.useMemo(()=>J1(t,e,p,l,i,"assets"),[t,e,p,l,i]),_=R.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let L=new Set,P=!1;if(e.forEach(F=>{let K=l.routes[F.route.id];!K||!K.hasLoader||(!v.some(J=>J.route.id===F.route.id)&&F.route.id in m&&u[F.route.id]?.shouldRevalidate||K.hasClientLoader?P=!0:L.add(F.route.id))}),L.size===0)return[];let B=Hk(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return P&&L.size>0&&B.searchParams.set("_routes",e.filter(F=>L.has(F.route.id)).map(F=>F.route.id).join(",")),[B.pathname+B.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,i,l,v,e,t,u]),A=R.useMemo(()=>Kk(b,l),[b,l]),M=e4(b);return R.createElement(R.Fragment,null,_.map(L=>R.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),A.map(L=>R.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),M.map(({key:L,link:P})=>R.createElement("link",{key:L,nonce:n.nonce,...P,crossOrigin:P.crossOrigin??n.crossOrigin})))}function n4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var s4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s4&&(window.__reactRouterVersion="7.13.0")}catch{}function i4({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=R.useRef();a.current==null&&(a.current=MR({window:i,v5Compat:!0}));let l=a.current,[u,d]=R.useState({action:l.action,location:l.location}),m=R.useCallback(p=>{n===!1?d(p):R.startTransition(()=>d(p))},[n]);return R.useLayoutEffect(()=>l.listen(m),[l,m]),R.createElement(jk,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var pE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=R.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...A},M){let{basename:L,unstable_useTransitions:P}=R.useContext(Bn),B=typeof p=="string"&&pE.test(p),F=iE(p,L);p=F.to;let K=mk(p,{relative:a}),[J,ee,re]=Jk(i,A),I=l4(p,{replace:u,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:P});function E(j){e&&e(j),j.defaultPrevented||I(j)}let C=R.createElement("a",{...A,...re,href:F.absoluteURL||K,onClick:F.isExternal||l?e:E,ref:n4(M,ee),target:m,"data-discover":!B&&n==="render"?"true":void 0});return J&&!B?R.createElement(R.Fragment,null,C,R.createElement(Zk,{page:K})):C});Ft.displayName="Link";var r4=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...p},v){let b=lu(u,{relative:p.relative}),_=Fi(),A=R.useContext(mf),{navigator:M,basename:L}=R.useContext(Bn),P=A!=null&&f4(b)&&d===!0,B=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,F=_.pathname,K=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(F=F.toLowerCase(),K=K?K.toLowerCase():null,B=B.toLowerCase()),K&&L&&(K=Vi(K,L)||K);const J=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ee=F===B||!a&&F.startsWith(B)&&F.charAt(J)==="/",re=K!=null&&(K===B||!a&&K.startsWith(B)&&K.charAt(B.length)==="/"),I={isActive:ee,isPending:re,isTransitioning:P},E=ee?e:void 0,C;typeof i=="function"?C=i(I):C=[i,ee?"active":null,re?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(I):l;return R.createElement(Ft,{...p,"aria-current":E,className:C,ref:v,style:j,to:u,viewTransition:d},typeof m=="function"?m(I):m)});r4.displayName="NavLink";var a4=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=md,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...A},M)=>{let{unstable_useTransitions:L}=R.useContext(Bn),P=h4(),B=d4(d,{relative:p}),F=u.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&pE.test(d),J=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let re=ee.nativeEvent.submitter,I=re?.getAttribute("formmethod")||u,E=()=>P(re||ee.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_});L&&n!==!1?R.startTransition(()=>E()):E()};return R.createElement("form",{ref:M,method:F,action:B,onSubmit:i?m:J,...A,"data-discover":!K&&t==="render"?"true":void 0})});a4.displayName="Form";function o4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gE(t){let e=R.useContext(ol);return mt(e,o4(t)),e}function l4(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=pf(),v=Fi(),b=lu(t,{relative:l});return R.useCallback(_=>{if(Uk(_,e)){_.preventDefault();let A=n!==void 0?n:qc(v)===qc(b),M=()=>p(t,{replace:A,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?R.startTransition(()=>M()):M()}},[v,p,b,n,i,e,t,a,l,u,d,m])}var c4=0,u4=()=>`__${String(++c4)}__`;function h4(){let{router:t}=gE("useSubmit"),{basename:e}=R.useContext(Bn),n=Nk(),i=t.fetch,a=t.navigate;return R.useCallback(async(l,u={})=>{let{action:d,method:m,encType:p,formData:v,body:b}=Fk(l,e);if(u.navigate===!1){let _=u.fetcherKey||u4();await i(_,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,n])}function d4(t,{relative:e}={}){let{basename:n}=R.useContext(Bn),i=R.useContext(as);mt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...lu(t||".",{relative:e})},u=Fi();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ji([n,l.pathname])),qc(l)}function f4(t,{relative:e}={}){let n=R.useContext(aE);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gE("useViewTransitionState"),a=lu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Vi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Vi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Md(a.pathname,u)!=null||Md(a.pathname,l)!=null}const L0=R.createContext({});function U0(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const yE=typeof window<"u",vE=yE?R.useLayoutEffect:R.useEffect,yf=R.createContext(null);function z0(t,e){t.indexOf(e)===-1&&t.push(e)}function Vd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ri=(t,e,n)=>n>e?e:n<t?t:n;let B0=()=>{};const Oi={},bE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function xE(t){return typeof t=="object"&&t!==null}const _E=t=>/^0[^.\s]+$/u.test(t);function F0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ss=t=>t,m4=(t,e)=>n=>e(t(n)),cu=(...t)=>t.reduce(m4),Gc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class H0{constructor(){this.subscriptions=[]}add(e){return z0(this.subscriptions,e),()=>Vd(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Es=t=>t*1e3,ns=t=>t/1e3;function TE(t,e){return e?t*(1e3/e):0}const wE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,p4=1e-7,g4=12;function y4(t,e,n,i,a){let l,u,d=0;do u=e+(n-e)/2,l=wE(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>p4&&++d<g4);return u}function uu(t,e,n,i){if(t===e&&n===i)return ss;const a=l=>y4(l,0,1,t,n);return l=>l===0||l===1?l:wE(a(l),e,i)}const EE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SE=t=>e=>1-t(1-e),AE=uu(.33,1.53,.69,.99),q0=SE(AE),CE=EE(q0),NE=t=>(t*=2)<1?.5*q0(t):.5*(2-Math.pow(2,-10*(t-1))),G0=t=>1-Math.sin(Math.acos(t)),RE=SE(G0),kE=EE(G0),v4=uu(.42,0,1,1),b4=uu(0,0,.58,1),IE=uu(.42,0,.58,1),x4=t=>Array.isArray(t)&&typeof t[0]!="number",DE=t=>Array.isArray(t)&&typeof t[0]=="number",_4={linear:ss,easeIn:v4,easeInOut:IE,easeOut:b4,circIn:G0,circInOut:kE,circOut:RE,backIn:q0,backInOut:CE,backOut:AE,anticipate:NE},T4=t=>typeof t=="string",Z1=t=>{if(DE(t)){B0(t.length===4);const[e,n,i,a]=t;return uu(e,n,i,a)}else if(T4(t))return _4[t];return t},nd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function w4(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,b=!1,_=!1)=>{const M=_&&a?n:i;return b&&u.add(v),M.has(v)||M.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const E4=40;function jE(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=nd.reduce((K,J)=>(K[J]=w4(l),K),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:v,update:b,preRender:_,render:A,postRender:M}=u,L=()=>{const K=Oi.useManualTiming?a.timestamp:performance.now();n=!1,Oi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(K-a.timestamp,E4),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),v.process(a),b.process(a),_.process(a),A.process(a),M.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(L))},P=()=>{n=!0,i=!0,a.isProcessing||t(L)};return{schedule:nd.reduce((K,J)=>{const ee=u[J];return K[J]=(re,I=!1,E=!1)=>(n||P(),ee.schedule(re,I,E)),K},{}),cancel:K=>{for(let J=0;J<nd.length;J++)u[nd[J]].cancel(K)},state:a,steps:u}}const{schedule:lt,cancel:Pr,state:sn,steps:Jp}=jE(typeof requestAnimationFrame<"u"?requestAnimationFrame:ss,!0);let gd;function S4(){gd=void 0}const vn={now:()=>(gd===void 0&&vn.set(sn.isProcessing||Oi.useManualTiming?sn.timestamp:performance.now()),gd),set:t=>{gd=t,queueMicrotask(S4)}},ME=t=>e=>typeof e=="string"&&e.startsWith(t),VE=ME("--"),A4=ME("var(--"),$0=t=>A4(t)?C4.test(t.split("/*")[0].trim()):!1,C4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function e_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const cl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$c={...cl,transform:t=>ri(0,1,t)},sd={...cl,default:1},Mc=t=>Math.round(t*1e5)/1e5,K0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function N4(t){return t==null}const R4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Y0=(t,e)=>n=>!!(typeof n=="string"&&R4.test(n)&&n.startsWith(t)||e&&!N4(n)&&Object.prototype.hasOwnProperty.call(n,e)),OE=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,d]=i.match(K0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},k4=t=>ri(0,255,t),Zp={...cl,transform:t=>Math.round(k4(t))},Ca={test:Y0("rgb","red"),parse:OE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Zp.transform(t)+", "+Zp.transform(e)+", "+Zp.transform(n)+", "+Mc($c.transform(i))+")"};function I4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const jg={test:Y0("#"),parse:I4,transform:Ca.transform},hu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ar=hu("deg"),ei=hu("%"),ge=hu("px"),D4=hu("vh"),j4=hu("vw"),t_={...ei,parse:t=>ei.parse(t)/100,transform:t=>ei.transform(t*100)},Po={test:Y0("hsl","hue"),parse:OE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ei.transform(Mc(e))+", "+ei.transform(Mc(n))+", "+Mc($c.transform(i))+")"},Ot={test:t=>Ca.test(t)||jg.test(t)||Po.test(t),parse:t=>Ca.test(t)?Ca.parse(t):Po.test(t)?Po.parse(t):jg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ca.transform(t):Po.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},M4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V4(t){return isNaN(t)&&typeof t=="string"&&(t.match(K0)?.length||0)+(t.match(M4)?.length||0)>0}const PE="number",LE="color",O4="var",P4="var(",n_="${}",L4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(L4,m=>(Ot.test(m)?(i.color.push(l),a.push(LE),n.push(Ot.parse(m))):m.startsWith(P4)?(i.var.push(l),a.push(O4),n.push(m)):(i.number.push(l),a.push(PE),n.push(parseFloat(m))),++l,n_)).split(n_);return{values:n,split:d,indexes:i,types:a}}function UE(t){return Kc(t).values}function zE(t){const{split:e,types:n}=Kc(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===PE?l+=Mc(a[u]):d===LE?l+=Ot.transform(a[u]):l+=a[u]}return l}}const U4=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function z4(t){const e=UE(t);return zE(t)(e.map(U4))}const Lr={test:V4,parse:UE,createTransformer:zE,getAnimatableNone:z4};function eg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=eg(m,d,t+1/3),l=eg(m,d,t),u=eg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Od(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,tg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},F4=[jg,Ca,Po],H4=t=>F4.find(e=>e.test(t));function s_(t){const e=H4(t);if(!e)return!1;let n=e.parse(t);return e===Po&&(n=B4(n)),n}const i_=(t,e)=>{const n=s_(t),i=s_(e);if(!n||!i)return Od(t,e);const a={...n};return l=>(a.red=tg(n.red,i.red,l),a.green=tg(n.green,i.green,l),a.blue=tg(n.blue,i.blue,l),a.alpha=pt(n.alpha,i.alpha,l),Ca.transform(a))},Mg=new Set(["none","hidden"]);function q4(t,e){return Mg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function G4(t,e){return n=>pt(t,e,n)}function Q0(t){return typeof t=="number"?G4:typeof t=="string"?$0(t)?Od:Ot.test(t)?i_:Y4:Array.isArray(t)?BE:typeof t=="object"?Ot.test(t)?i_:$4:Od}function BE(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>Q0(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function $4(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Q0(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function K4(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],d=t.values[u]??0;n[a]=d,i[l]++}return n}const Y4=(t,e)=>{const n=Lr.createTransformer(e),i=Kc(t),a=Kc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Mg.has(t)&&!a.values.length||Mg.has(e)&&!i.values.length?q4(t,e):cu(BE(K4(i,a),a.values),n):Od(t,e)};function FE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):Q0(t)(t,e)}const Q4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>lt.update(e,n),stop:()=>Pr(e),now:()=>sn.isProcessing?sn.timestamp:vn.now()}},HE=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Pd=2e4;function X0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Pd;)e+=n,i=t.next(e);return e>=Pd?1/0:e}function X4(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(X0(i),Pd);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:ns(a)}}const W4=5;function qE(t,e,n){const i=Math.max(e-W4,0);return TE(n-t(i),e-i)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ng=.001;function J4({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:i=bt.mass}){let a,l,u=1-e;u=ri(bt.minDamping,bt.maxDamping,u),t=ri(bt.minDuration,bt.maxDuration,ns(t)),u<1?(a=p=>{const v=p*u,b=v*t,_=v-n,A=Vg(p,u),M=Math.exp(-b);return ng-_/A*M},l=p=>{const b=p*u*t,_=b*n+n,A=Math.pow(u,2)*Math.pow(p,2)*t,M=Math.exp(-b),L=Vg(Math.pow(p,2),u);return(-a(p)+ng>0?-1:1)*((_-A)*M)/L}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-ng+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const d=5/t,m=eI(a,l,d);if(t=Es(t),isNaN(m))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const Z4=12;function eI(t,e,n){let i=n;for(let a=1;a<Z4;a++)i=i-t(i)/e(i);return i}function Vg(t,e){return t*Math.sqrt(1-e*e)}const tI=["duration","bounce"],nI=["stiffness","damping","mass"];function r_(t,e){return e.some(n=>t[n]!==void 0)}function sI(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!r_(t,nI)&&r_(t,tI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*ri(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=J4(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function Ld(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:b,velocity:_,isResolvedFromDuration:A}=sI({...n,velocity:-ns(n.velocity||0)}),M=_||0,L=p/(2*Math.sqrt(m*v)),P=u-l,B=ns(Math.sqrt(m/v)),F=Math.abs(P)<5;i||(i=F?bt.restSpeed.granular:bt.restSpeed.default),a||(a=F?bt.restDelta.granular:bt.restDelta.default);let K;if(L<1){const ee=Vg(B,L);K=re=>{const I=Math.exp(-L*B*re);return u-I*((M+L*B*P)/ee*Math.sin(ee*re)+P*Math.cos(ee*re))}}else if(L===1)K=ee=>u-Math.exp(-B*ee)*(P+(M+B*P)*ee);else{const ee=B*Math.sqrt(L*L-1);K=re=>{const I=Math.exp(-L*B*re),E=Math.min(ee*re,300);return u-I*((M+L*B*P)*Math.sinh(E)+ee*P*Math.cosh(E))/ee}}const J={calculatedDuration:A&&b||null,next:ee=>{const re=K(ee);if(A)d.done=ee>=b;else{let I=ee===0?M:0;L<1&&(I=ee===0?Es(M):qE(K,ee,re));const E=Math.abs(I)<=i,C=Math.abs(u-re)<=a;d.done=E&&C}return d.value=d.done?u:re,d},toString:()=>{const ee=Math.min(X0(J),Pd),re=HE(I=>J.next(ee*I).value,ee,30);return ee+"ms "+re},toTransition:()=>{}};return J}Ld.applyToOptions=t=>{const e=X4(t,100,Ld);return t.ease=e.ease,t.duration=Es(e.duration),t.type="keyframes",t};function Og({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:p=.5,restSpeed:v}){const b=t[0],_={done:!1,value:b},A=E=>d!==void 0&&E<d||m!==void 0&&E>m,M=E=>d===void 0?m:m===void 0||Math.abs(d-E)<Math.abs(m-E)?d:m;let L=n*e;const P=b+L,B=u===void 0?P:u(P);B!==P&&(L=B-b);const F=E=>-L*Math.exp(-E/i),K=E=>B+F(E),J=E=>{const C=F(E),j=K(E);_.done=Math.abs(C)<=p,_.value=_.done?B:j};let ee,re;const I=E=>{A(_.value)&&(ee=E,re=Ld({keyframes:[_.value,M(_.value)],velocity:qE(K,E,_.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return I(0),{calculatedDuration:null,next:E=>{let C=!1;return!re&&ee===void 0&&(C=!0,J(E),I(E)),ee!==void 0&&E>=ee?re.next(E-ee):(!C&&J(E),_)}}}function iI(t,e,n){const i=[],a=n||Oi.mix||FE,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||ss:e;d=cu(m,d)}i.push(d)}return i}function rI(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(B0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=iI(e,i,a),m=d.length,p=v=>{if(u&&v<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const _=Gc(t[b],t[b+1],v);return d[b](_)};return n?v=>p(ri(t[0],t[l-1],v)):p}function aI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Gc(0,e,i);t.push(pt(n,1,a))}}function oI(t){const e=[0];return aI(e,t.length-1),e}function lI(t,e){return t.map(n=>n*e)}function cI(t,e){return t.map(()=>e||IE).splice(0,t.length-1)}function Vc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=x4(i)?i.map(Z1):Z1(i),l={done:!1,value:e[0]},u=lI(n&&n.length===e.length?n:oI(e),t),d=rI(u,e,{ease:Array.isArray(a)?a:cI(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const uI=t=>t!==null;function W0(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(uI),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const hI={decay:Og,inertia:Og,tween:Vc,keyframes:Vc,spring:Ld};function GE(t){typeof t.type=="string"&&(t.type=hI[t.type])}class J0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const dI=t=>t/100;class Z0 extends J0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;GE(e);const{type:n=Vc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||Vc;m!==Vc&&typeof d[0]!="number"&&(this.mixKeyframes=cu(dI,FE(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=X0(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:_,repeatDelay:A,type:M,onUpdate:L,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,J=i;if(b){const E=Math.min(this.currentTime,a)/d;let C=Math.floor(E),j=E%1;!j&&E>=1&&(j=1),j===1&&C--,C=Math.min(C,b+1),C%2&&(_==="reverse"?(j=1-j,A&&(j-=A/d)):_==="mirror"&&(J=u)),K=ri(0,1,j)*d}const ee=F?{done:!1,value:v[0]}:J.next(K);l&&(ee.value=l(ee.value));let{done:re}=ee;!F&&m!==null&&(re=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return I&&M!==Og&&(ee.value=W0(v,this.options,P,this.speed)),L&&L(ee.value),I&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return ns(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ns(e)}get time(){return ns(this.currentTime)}set time(e){e=Es(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ns(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Q4,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function fI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Na=t=>t*180/Math.PI,Pg=t=>{const e=Na(Math.atan2(t[1],t[0]));return Lg(e)},mI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Pg,rotateZ:Pg,skewX:t=>Na(Math.atan(t[1])),skewY:t=>Na(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Lg=t=>(t=t%360,t<0&&(t+=360),t),a_=Pg,o_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),l_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:o_,scaleY:l_,scale:t=>(o_(t)+l_(t))/2,rotateX:t=>Lg(Na(Math.atan2(t[6],t[5]))),rotateY:t=>Lg(Na(Math.atan2(-t[2],t[0]))),rotateZ:a_,rotate:a_,skewX:t=>Na(Math.atan(t[4])),skewY:t=>Na(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ug(t){return t.includes("scale")?1:0}function zg(t,e){if(!t||t==="none")return Ug(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=pI,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=mI,a=d}if(!a)return Ug(e);const l=i[e],u=a[1].split(",").map(yI);return typeof l=="function"?l(u):u[l]}const gI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return zg(n,e)};function yI(t){return parseFloat(t.trim())}const ul=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hl=new Set(ul),c_=t=>t===cl||t===ge,vI=new Set(["x","y","z"]),bI=ul.filter(t=>!vI.has(t));function xI(t){const e=[];return bI.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const kr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>zg(e,"x"),y:(t,{transform:e})=>zg(e,"y")};kr.translateX=kr.x;kr.translateY=kr.y;const Ia=new Set;let Bg=!1,Fg=!1,Hg=!1;function $E(){if(Fg){const t=Array.from(Ia).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=xI(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Fg=!1,Bg=!1,Ia.forEach(t=>t.complete(Hg)),Ia.clear()}function KE(){Ia.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fg=!0)})}function _I(){Hg=!0,KE(),$E(),Hg=!1}class ey{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ia.add(this),Bg||(Bg=!0,lt.read(KE),lt.resolveKeyframes($E))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}fI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ia.delete(this)}cancel(){this.state==="scheduled"&&(Ia.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TI=t=>t.startsWith("--");function wI(t,e,n){TI(e)?t.style.setProperty(e,n):t.style[e]=n}const EI=F0(()=>window.ScrollTimeline!==void 0),SI={};function AI(t,e){const n=F0(t);return()=>SI[e]??n()}const YE=AI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,u_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rc([0,.65,.55,1]),circOut:Rc([.55,0,1,.45]),backIn:Rc([.31,.01,.66,-.59]),backOut:Rc([.33,1.53,.69,.99])};function QE(t,e){if(t)return typeof t=="function"?YE()?HE(t,e):"ease-out":DE(t)?Rc(t):Array.isArray(t)?t.map(n=>QE(n,e)||u_.easeOut):u_[t]}function CI(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const b=QE(d,a);Array.isArray(b)&&(v.easing=b);const _={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(v,_)}function XE(t){return typeof t=="function"&&"applyToOptions"in t}function NI({type:t,...e}){return XE(t)&&YE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class WE extends J0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,B0(typeof e.type!="string");const p=NI(e);this.animation=CI(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=W0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):wI(n,i,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ns(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ns(e)}get time(){return ns(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Es(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&EI()?(this.animation.timeline=e,ss):n(this)}}const JE={anticipate:NE,backInOut:CE,circInOut:kE};function RI(t){return t in JE}function kI(t){typeof t.ease=="string"&&RI(t.ease)&&(t.ease=JE[t.ease])}const sg=10;class II extends WE{constructor(e){kI(e),GE(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Z0({...u,autoplay:!1}),m=Math.max(sg,vn.now()-this.startTime),p=ri(0,sg,m-sg);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const h_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lr.test(t)||t==="0")&&!t.startsWith("url("));function DI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jI(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=h_(a,e),d=h_(l,e);return!u||!d?!1:DI(t)||(n==="spring"||XE(n))&&i}function qg(t){t.duration=0,t.type="keyframes"}const MI=new Set(["opacity","clipPath","filter","transform"]),VI=F0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OI(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return VI()&&n&&MI.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const PI=40;class LI extends J0{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:p,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vn.now();const _={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:v,...b},A=v?.KeyframeResolver||ey;this.keyframeResolver=new A(d,(M,L,P)=>this.onKeyframesResolved(M,L,_,!P),m,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:p,onUpdate:v}=i;this.resolvedAt=vn.now(),jI(e,l,u,d)||((Oi.instantAnimations||!m)&&v?.(W0(e,i,n)),e[0]=e[e.length-1],qg(i),i.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>PI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!p&&OI(_),M=_.motionValue?.owner?.current,L=A?new II({..._,element:M}):new Z0(_);L.finished.then(()=>{this.notifyFinished()}).catch(ss),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_I()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function ZE(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),u=t.size,d=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:d-l*i}const UI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zI(t){const e=UI.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function eS(t,e,n=1){const[i,a]=zI(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return bE(u)?parseFloat(u):u}return $0(a)?eS(a,e,n+1):a}const BI={type:"spring",stiffness:500,damping:25,restSpeed:10},FI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HI={type:"keyframes",duration:.8},qI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GI=(t,{keyframes:e})=>e.length>2?HI:hl.has(t)?t.startsWith("scale")?FI(e[1]):BI:qI,$I=t=>t!==null;function KI(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter($I),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function tS(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function ty(t,e){const n=t?.[e]??t?.default??t;return n!==t?tS(n,t):n}function YI({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const ny=(t,e,n,i={},a,l)=>u=>{const d=ty(i,t)||{},m=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Es(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};YI(d)||Object.assign(v,GI(t,v)),v.duration&&(v.duration=Es(v.duration)),v.repeatDelay&&(v.repeatDelay=Es(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(qg(v),v.delay===0&&(b=!0)),(Oi.instantAnimations||Oi.skipAnimations||a?.shouldSkipAnimations)&&(b=!0,qg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const _=KI(v.keyframes,d);if(_!==void 0){lt.update(()=>{v.onUpdate(_),v.onComplete()});return}}return d.isSync?new Z0(v):new LI(v)};function d_(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function sy(t,e,n,i){if(typeof e=="function"){const[a,l]=d_(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=d_(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Ho(t,e,n){const i=t.getProps();return sy(i,e,n!==void 0?n:i.custom,t)}const nS=new Set(["width","height","top","left","right","bottom",...ul]),f_=30,QI=t=>!isNaN(parseFloat(t));class XI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=vn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new H0);const i=this.events[e].add(n);return e==="change"?()=>{i(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>f_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,f_);return TE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qo(t,e){return new XI(t,e)}const Gg=t=>Array.isArray(t);function WI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Qo(n))}function JI(t){return Gg(t)?t[t.length-1]||0:t}function ZI(t,e){const n=Ho(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const d=JI(l[u]);WI(t,u,d)}}const fn=t=>!!(t&&t.getVelocity);function eD(t){return!!(fn(t)&&t.add)}function $g(t,e){const n=t.getValue("willChange");if(eD(n))return n.add(e);if(!n&&Oi.WillChange){const i=new Oi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function iy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const tD="framerAppearId",sS="data-"+iy(tD);function iS(t){return t.props[sS]}function nD({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function rS(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:u,...d}=e;const m=t.getDefaultTransition();l=l?tS(l,m):m;const p=l?.reduceMotion;i&&(l=i);const v=[],b=a&&t.animationState&&t.animationState.getState()[a];for(const _ in d){const A=t.getValue(_,t.latestValues[_]??null),M=d[_];if(M===void 0||b&&nD(b,_))continue;const L={delay:n,...ty(l||{},_)},P=A.get();if(P!==void 0&&!A.isAnimating&&!Array.isArray(M)&&M===P&&!L.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const J=iS(t);if(J){const ee=window.MotionHandoffAnimation(J,_,lt);ee!==null&&(L.startTime=ee,B=!0)}}$g(t,_);const F=p??t.shouldReduceMotion;A.start(ny(_,A,M,F&&nS.has(_)?{type:!1}:L,t,B));const K=A.animation;K&&v.push(K)}if(u){const _=()=>lt.update(()=>{u&&ZI(t,u)});v.length?Promise.all(v).then(_):_()}return v}function Kg(t,e,n={}){const i=Ho(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(rS(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:b}=a;return sD(t,e,m,p,v,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function sD(t,e,n=0,i=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Kg(m,e,{...u,delay:n+(typeof i=="function"?0:i)+ZE(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function iD(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Kg(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Kg(t,e,n);else{const a=typeof e=="function"?Ho(t,e,n.custom):e;i=Promise.all(rS(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const rD={test:t=>t==="auto",parse:t=>t},aS=t=>e=>e.test(t),oS=[cl,ge,ei,Ar,j4,D4,rD],m_=t=>oS.find(aS(t));function aD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_E(t):!0}const oD=new Set(["brightness","contrast","saturate","opacity"]);function lD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(K0)||[];if(!i)return t;const a=n.replace(i,"");let l=oD.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const cD=/\b([a-z-]*)\(.*?\)/gu,Yg={...Lr,getAnimatableNone:t=>{const e=t.match(cD);return e?e.map(lD).join(" "):t}},p_={...cl,transform:Math.round},uD={rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scale:sd,scaleX:sd,scaleY:sd,scaleZ:sd,skew:Ar,skewX:Ar,skewY:Ar,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:$c,originX:t_,originY:t_,originZ:ge},ry={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,fontSize:ge,backgroundPositionX:ge,backgroundPositionY:ge,...uD,zIndex:p_,fillOpacity:$c,strokeOpacity:$c,numOctaves:p_},hD={...ry,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Yg,WebkitFilter:Yg},lS=t=>hD[t];function cS(t,e){let n=lS(t);return n!==Yg&&(n=Lr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dD=new Set(["auto","none","0"]);function fD(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!dD.has(l)&&Kc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=cS(n,a)}class mD extends ey{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let b=e[v];if(typeof b=="string"&&(b=b.trim(),$0(b))){const _=eS(b,n.current);_!==void 0&&(e[v]=_),v===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!nS.has(i)||e.length!==2)return;const[a,l]=e,u=m_(a),d=m_(l),m=e_(a),p=e_(l);if(m!==p&&kr[i]){this.needsMeasurement=!0;return}if(u!==d)if(c_(u)&&c_(d))for(let v=0;v<e.length;v++){const b=e[v];typeof b=="string"&&(e[v]=parseFloat(b))}else kr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||aD(e[a]))&&i.push(a);i.length&&fD(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=kr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const pD=new Set(["opacity","clipPath","filter","transform"]);function uS(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const hS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Qg(t){return xE(t)&&"offsetHeight"in t}const{schedule:ay}=jE(queueMicrotask,!1),_s={x:!1,y:!1};function dS(){return _s.x||_s.y}function gD(t){return t==="x"||t==="y"?_s[t]?null:(_s[t]=!0,()=>{_s[t]=!1}):_s.x||_s.y?null:(_s.x=_s.y=!0,()=>{_s.x=_s.y=!1})}function fS(t,e){const n=uS(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function yD(t){return!(t.pointerType==="touch"||dS())}function vD(t,e,n={}){const[i,a,l]=fS(t,n);return i.forEach(u=>{let d=!1,m=!1,p;const v=()=>{u.removeEventListener("pointerleave",M)},b=P=>{p&&(p(P),p=void 0),v()},_=P=>{d=!1,window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_),m&&(m=!1,b(P))},A=()=>{d=!0,window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",_,a)},M=P=>{if(P.pointerType!=="touch"){if(d){m=!0;return}b(P)}},L=P=>{if(!yD(P))return;m=!1;const B=e(u,P);typeof B=="function"&&(p=B,u.addEventListener("pointerleave",M,a))};u.addEventListener("pointerenter",L,a),u.addEventListener("pointerdown",A,a)}),l}const mS=(t,e)=>e?t===e?!0:mS(t,e.parentElement):!1,oy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,bD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xD(t){return bD.has(t.tagName)||t.isContentEditable===!0}const _D=new Set(["INPUT","SELECT","TEXTAREA"]);function TD(t){return _D.has(t.tagName)||t.isContentEditable===!0}const yd=new WeakSet;function g_(t){return e=>{e.key==="Enter"&&t(e)}}function ig(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wD=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=g_(()=>{if(yd.has(n))return;ig(n,"down");const a=g_(()=>{ig(n,"up")}),l=()=>ig(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function y_(t){return oy(t)&&!dS()}const v_=new WeakSet;function ED(t,e,n={}){const[i,a,l]=fS(t,n),u=d=>{const m=d.currentTarget;if(!y_(d)||v_.has(d))return;yd.add(m),n.stopPropagation&&v_.add(d);const p=e(m,d),v=(A,M)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",_),yd.has(m)&&yd.delete(m),y_(A)&&typeof p=="function"&&p(A,{success:M})},b=A=>{v(A,m===window||m===document||n.useGlobalTarget||mS(m,A.target))},_=A=>{v(A,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",_,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),Qg(d)&&(d.addEventListener("focus",p=>wD(p,a)),!xD(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function ly(t){return xE(t)&&"ownerSVGElement"in t}const vd=new WeakMap;let bd;const pS=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:ly(i)&&"getBBox"in i?i.getBBox()[e]:i[n],SD=pS("inline","width","offsetWidth"),AD=pS("block","height","offsetHeight");function CD({target:t,borderBoxSize:e}){vd.get(t)?.forEach(n=>{n(t,{get width(){return SD(t,e)},get height(){return AD(t,e)}})})}function ND(t){t.forEach(CD)}function RD(){typeof ResizeObserver>"u"||(bd=new ResizeObserver(ND))}function kD(t,e){bd||RD();const n=uS(t);return n.forEach(i=>{let a=vd.get(i);a||(a=new Set,vd.set(i,a)),a.add(e),bd?.observe(i)}),()=>{n.forEach(i=>{const a=vd.get(i);a?.delete(e),a?.size||bd?.unobserve(i)})}}const xd=new Set;let Lo;function ID(){Lo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};xd.forEach(e=>e(t))},window.addEventListener("resize",Lo)}function DD(t){return xd.add(t),Lo||ID(),()=>{xd.delete(t),!xd.size&&typeof Lo=="function"&&(window.removeEventListener("resize",Lo),Lo=void 0)}}function b_(t,e){return typeof t=="function"?DD(t):kD(t,e)}function jD(t){return ly(t)&&t.tagName==="svg"}const MD=[...oS,Ot,Lr],VD=t=>MD.find(aS(t)),x_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:x_(),y:x_()}),__=()=>({min:0,max:0}),Bt=()=>({x:__(),y:__()}),OD=new WeakMap;function vf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yc(t){return typeof t=="string"||Array.isArray(t)}const cy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uy=["initial",...cy];function bf(t){return vf(t.animate)||uy.some(e=>Yc(t[e]))}function gS(t){return!!(bf(t)||t.variants)}function PD(t,e,n){for(const i in e){const a=e[i],l=n[i];if(fn(a))t.addValue(i,a);else if(fn(l))t.addValue(i,Qo(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Qo(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Xg={current:null},yS={current:!1},LD=typeof window<"u";function UD(){if(yS.current=!0,!!LD)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xg.current=t.matches;t.addEventListener("change",e),e()}else Xg.current=!1}const T_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ud={};function vS(t){Ud=t}function zD(){return Ud}class BD{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=ey,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=vn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,lt.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=bf(n),this.isVariantNode=gS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in _){const M=_[A];p[A]!==void 0&&fn(M)&&M.set(p[A])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,OD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(yS.current||UD(),this.shouldReduceMotion=Xg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Pr(this.notifyUpdate),Pr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&pD.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:d,times:m,ease:p,duration:v}=n.accelerate,b=new WE({element:this.current,name:e,keyframes:d,times:m,ease:p,duration:Es(v)}),_=u(b);this.valueSubscriptions.set(e,()=>{_(),b.cancel()});return}const i=hl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&lt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ud){const n=Ud[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<T_.length;i++){const a=T_[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=PD(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Qo(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(bE(i)||_E(i))?i=parseFloat(i):!VD(i)&&Lr.test(n)&&(i=cS(e,n)),this.setBaseTarget(e,fn(i)?i.get():i)),fn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=sy(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!fn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new H0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ay.render(this.render)}}class bS extends BD{constructor(){super(...arguments),this.KeyframeResolver=mD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function xS({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function FD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function HD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function rg(t){return t===void 0||t===1}function Wg({scale:t,scaleX:e,scaleY:n}){return!rg(t)||!rg(e)||!rg(n)}function Sa(t){return Wg(t)||_S(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _S(t){return w_(t.x)||w_(t.y)}function w_(t){return t&&t!=="0%"}function zd(t,e,n){const i=t-n,a=e*i;return n+a}function E_(t,e,n,i,a){return a!==void 0&&(t=zd(t,a,i)),zd(t,n,i)+e}function Jg(t,e=0,n=1,i,a){t.min=E_(t.min,e,n,i,a),t.max=E_(t.max,e,n,i,a)}function TS(t,{x:e,y:n}){Jg(t.x,e.translate,e.scale,e.originPoint),Jg(t.y,n.translate,n.scale,n.originPoint)}const S_=.999999999999,A_=1.0000000000001;function qD(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,TS(t,u)),i&&Sa(l.latestValues)&&Bo(t,l.latestValues))}e.x<A_&&e.x>S_&&(e.x=1),e.y<A_&&e.y>S_&&(e.y=1)}function zo(t,e){t.min=t.min+e,t.max=t.max+e}function C_(t,e,n,i,a=.5){const l=pt(t.min,t.max,a);Jg(t,e,n,l,i)}function Bo(t,e){C_(t.x,e.x,e.scaleX,e.scale,e.originX),C_(t.y,e.y,e.scaleY,e.scale,e.originY)}function wS(t,e){return xS(HD(t.getBoundingClientRect(),e))}function GD(t,e,n){const i=wS(t,n),{scroll:a}=e;return a&&(zo(i.x,a.offset.x),zo(i.y,a.offset.y)),i}const $D={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KD=ul.length;function YD(t,e,n){let i="",a=!0;for(let l=0;l<KD;l++){const u=ul[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(u.startsWith("scale")?1:0);else{const p=parseFloat(d);m=u.startsWith("scale")?p===1:p===0}if(!m||n){const p=hS(d,ry[u]);if(!m){a=!1;const v=$D[u]||u;i+=`${v}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function hy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const p=e[m];if(hl.has(m)){u=!0;continue}else if(VE(m)){a[m]=p;continue}else{const v=hS(p,ry[m]);m.startsWith("origin")?(d=!0,l[m]=v):i[m]=v}}if(e.transform||(u||n?i.transform=YD(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${p} ${v}`}}function ES(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function N_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=N_(t,e.target.x),i=N_(t,e.target.y);return`${n}% ${i}%`}},QD={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Lr.parse(t);if(a.length>5)return i;const l=Lr.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const p=pt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},Zg={borderRadius:{...Cc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cc,borderTopRightRadius:Cc,borderBottomLeftRadius:Cc,borderBottomRightRadius:Cc,boxShadow:QD};function SS(t,{layout:e,layoutId:n}){return hl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Zg[t]||t==="opacity")}function dy(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const u in i)(fn(i[u])||a&&fn(a[u])||SS(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}function XD(t){return window.getComputedStyle(t)}class WD extends bS{constructor(){super(...arguments),this.type="html",this.renderInstance=ES}readValueFromInstance(e,n){if(hl.has(n))return this.projection?.isProjecting?Ug(n):gI(e,n);{const i=XD(e),a=(VE(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wS(e,n)}build(e,n,i){hy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return dy(e,n,i)}}const JD={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZD={offset:"strokeDashoffset",array:"strokeDasharray"};function e5(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?JD:ZD;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const t5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function AS(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,p,v){if(hy(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:_}=t;b.transform&&(_.transform=b.transform,delete b.transform),(_.transform||b.transformOrigin)&&(_.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),_.transform&&(_.transformBox=v?.transformBox??"fill-box",delete b.transformBox);for(const A of t5)b[A]!==void 0&&(_[A]=b[A],delete b[A]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&e5(b,a,l,u,!1)}const CS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),NS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function n5(t,e,n,i){ES(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(CS.has(a)?a:iy(a),e.attrs[a])}function RS(t,e,n){const i=dy(t,e,n);for(const a in t)if(fn(t[a])||fn(e[a])){const l=ul.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class s5 extends bS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hl.has(n)){const i=lS(n);return i&&i.default||0}return n=CS.has(n)?n:iy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return RS(e,n,i)}build(e,n,i){AS(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){n5(e,n,i,a)}mount(e){this.isSVGTag=NS(e.tagName),super.mount(e)}}const i5=uy.length;function kS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?kS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<i5;n++){const i=uy[n],a=t.props[i];(Yc(a)||a===!1)&&(e[i]=a)}return e}function IS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const r5=[...cy].reverse(),a5=cy.length;function o5(t){return e=>Promise.all(e.map(({animation:n,options:i})=>iD(t,n,i)))}function l5(t){let e=o5(t),n=R_(),i=!0;const a=m=>(p,v)=>{const b=Ho(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:_,transitionEnd:A,...M}=b;p={...p,...M,...A}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,v=kS(t.parent)||{},b=[],_=new Set;let A={},M=1/0;for(let P=0;P<a5;P++){const B=r5[P],F=n[B],K=p[B]!==void 0?p[B]:v[B],J=Yc(K),ee=B===m?F.isActive:null;ee===!1&&(M=P);let re=K===v[B]&&K!==p[B]&&J;if(re&&i&&t.manuallyAnimateOnMount&&(re=!1),F.protectedKeys={...A},!F.isActive&&ee===null||!K&&!F.prevProp||vf(K)||typeof K=="boolean")continue;if(B==="exit"&&F.isActive&&ee!==!0){F.prevResolvedValues&&(A={...A,...F.prevResolvedValues});continue}const I=c5(F.prevProp,K);let E=I||B===m&&F.isActive&&!re&&J||P>M&&J,C=!1;const j=Array.isArray(K)?K:[K];let k=j.reduce(a(B),{});ee===!1&&(k={});const{prevResolvedValues:V={}}=F,D={...V,...k},Ee=oe=>{E=!0,_.has(oe)&&(C=!0,_.delete(oe)),F.needsAnimating[oe]=!0;const fe=t.getValue(oe);fe&&(fe.liveStyle=!1)};for(const oe in D){const fe=k[oe],Ae=V[oe];if(A.hasOwnProperty(oe))continue;let Ve=!1;Gg(fe)&&Gg(Ae)?Ve=!IS(fe,Ae):Ve=fe!==Ae,Ve?fe!=null?Ee(oe):_.add(oe):fe!==void 0&&_.has(oe)?Ee(oe):F.protectedKeys[oe]=!0}F.prevProp=K,F.prevResolvedValues=k,F.isActive&&(A={...A,...k}),i&&t.blockInitialAnimation&&(E=!1);const Pe=re&&I;E&&(!Pe||C)&&b.push(...j.map(oe=>{const fe={type:B};if(typeof oe=="string"&&i&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,Ve=Ho(Ae,oe);if(Ae.enteringChildren&&Ve){const{delayChildren:U}=Ve.transition||{};fe.delay=ZE(Ae.enteringChildren,t,U)}}return{animation:oe,options:fe}}))}if(_.size){const P={};if(typeof p.initial!="boolean"){const B=Ho(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(P.transition=B.transition)}_.forEach(B=>{const F=t.getBaseTarget(B),K=t.getValue(B);K&&(K.liveStyle=!0),P[B]=F??null}),b.push({animation:P})}let L=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),i=!1,L?e(b):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,p)),n[m].isActive=p;const v=u(m);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=R_()}}}function c5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!IS(e,t):!1}function Ea(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R_(){return{animate:Ea(!0),whileInView:Ea(),whileHover:Ea(),whileTap:Ea(),whileDrag:Ea(),whileFocus:Ea(),exit:Ea()}}function k_(t,e){t.min=e.min,t.max=e.max}function xs(t,e){k_(t.x,e.x),k_(t.y,e.y)}function I_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const DS=1e-4,u5=1-DS,h5=1+DS,jS=.01,d5=0-jS,f5=0+jS;function bn(t){return t.max-t.min}function m5(t,e,n){return Math.abs(t-e)<=n}function D_(t,e,n,i=.5){t.origin=i,t.originPoint=pt(e.min,e.max,t.origin),t.scale=bn(n)/bn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=u5&&t.scale<=h5||isNaN(t.scale))&&(t.scale=1),(t.translate>=d5&&t.translate<=f5||isNaN(t.translate))&&(t.translate=0)}function Oc(t,e,n,i){D_(t.x,e.x,n.x,i?i.originX:void 0),D_(t.y,e.y,n.y,i?i.originY:void 0)}function j_(t,e,n){t.min=n.min+e.min,t.max=t.min+bn(e)}function p5(t,e,n){j_(t.x,e.x,n.x),j_(t.y,e.y,n.y)}function M_(t,e,n){t.min=e.min-n.min,t.max=t.min+bn(e)}function Bd(t,e,n){M_(t.x,e.x,n.x),M_(t.y,e.y,n.y)}function V_(t,e,n,i,a){return t-=e,t=zd(t,1/n,i),a!==void 0&&(t=zd(t,1/a,i)),t}function g5(t,e=0,n=1,i=.5,a,l=t,u=t){if(ei.test(e)&&(e=parseFloat(e),e=pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=pt(l.min,l.max,i);t===l&&(d-=e),t.min=V_(t.min,e,n,d,a),t.max=V_(t.max,e,n,d,a)}function O_(t,e,[n,i,a],l,u){g5(t,e[n],e[i],e[a],e.scale,l,u)}const y5=["x","scaleX","originX"],v5=["y","scaleY","originY"];function P_(t,e,n,i){O_(t.x,e,y5,n?n.x:void 0,i?i.x:void 0),O_(t.y,e,v5,n?n.y:void 0,i?i.y:void 0)}function L_(t){return t.translate===0&&t.scale===1}function MS(t){return L_(t.x)&&L_(t.y)}function U_(t,e){return t.min===e.min&&t.max===e.max}function b5(t,e){return U_(t.x,e.x)&&U_(t.y,e.y)}function z_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function VS(t,e){return z_(t.x,e.x)&&z_(t.y,e.y)}function B_(t){return bn(t.x)/bn(t.y)}function F_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Js(t){return[t("x"),t("y")]}function x5(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:_,skewX:A,skewY:M}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),b&&(i+=`rotateX(${b}deg) `),_&&(i+=`rotateY(${_}deg) `),A&&(i+=`skewX(${A}deg) `),M&&(i+=`skewY(${M}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(i+=`scale(${d}, ${m})`),i||"none"}const OS=["TopLeft","TopRight","BottomLeft","BottomRight"],_5=OS.length,H_=t=>typeof t=="string"?parseFloat(t):t,q_=t=>typeof t=="number"||ge.test(t);function T5(t,e,n,i,a,l){a?(t.opacity=pt(0,n.opacity??1,w5(i)),t.opacityExit=pt(e.opacity??1,0,E5(i))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,i));for(let u=0;u<_5;u++){const d=`border${OS[u]}Radius`;let m=G_(e,d),p=G_(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||q_(m)===q_(p)?(t[d]=Math.max(pt(H_(m),H_(p),i),0),(ei.test(p)||ei.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,i))}function G_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const w5=PS(0,.5,RE),E5=PS(.5,.95,ss);function PS(t,e,n){return i=>i<t?0:i>e?1:n(Gc(t,e,i))}function S5(t,e,n){const i=fn(t)?t:Qo(t);return i.start(ny("",i,e,n)),i.animation}function Qc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const A5=(t,e)=>t.depth-e.depth;class C5{constructor(){this.children=[],this.isDirty=!1}add(e){z0(this.children,e),this.isDirty=!0}remove(e){Vd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A5),this.isDirty=!1,this.children.forEach(e)}}function N5(t,e){const n=vn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Pr(i),t(l-e))};return lt.setup(i,!0),()=>Pr(i)}function _d(t){return fn(t)?t.get():t}class R5{constructor(){this.members=[]}add(e){z0(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Vd(this.members,i)}e.scheduleRender()}remove(e){if(Vd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:d}=e.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Td={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ag=["","X","Y","Z"],k5=1e3;let I5=0;function og(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function LS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",lt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&LS(i)}function US({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=I5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(M5),this.nodes.forEach(L5),this.nodes.forEach(U5),this.nodes.forEach(V5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new C5)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new H0),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ly(u)&&!jD(u),this.instance=u;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,b=0;const _=()=>this.root.updateBlockedByResize=!1;lt.read(()=>{b=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==b&&(b=A,this.root.updateBlockedByResize=!0,v&&v(),v=N5(_,250),Td.hasAnimatedSinceResize&&(Td.hasAnimatedSinceResize=!1,this.nodes.forEach(Y_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:_,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||q5,{onLayoutAnimationStart:L,onLayoutAnimationComplete:P}=p.getProps(),B=!this.targetLayout||!VS(this.targetLayout,A),F=!b&&_;if(this.options.layoutRoot||this.resumeFrom||F||b&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...ty(M,"layout"),onPlay:L,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(v,F)}else b||Y_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(z5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(P5),this.nodes.forEach(D5),this.nodes.forEach(j5)):this.nodes.forEach(K_),this.clearAllSnapshots();const d=vn.now();sn.delta=ri(0,1e3/60,d-sn.timestamp),sn.timestamp=d,sn.isProcessing=!0,Jp.update.process(sn),Jp.preRender.process(sn),Jp.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ay.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(O5),this.sharedNodes.forEach(B5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bn(this.snapshot.measuredBox.x)&&!bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!MS(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||Sa(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),G5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Bt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($5))){const{scroll:p}=this.root;p&&(zo(d.x,p.offset.x),zo(d.y,p.offset.y))}return d}removeElementScroll(u){const d=Bt();if(xs(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:b}=p;p!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&xs(d,u),zo(d.x,v.offset.x),zo(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const m=Bt();xs(m,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Bo(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Sa(v.latestValues)&&Bo(m,v.latestValues)}return Sa(this.latestValues)&&Bo(m,this.latestValues),m}removeTransform(u){const d=Bt();xs(d,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Sa(p.latestValues))continue;Wg(p.latestValues)&&p.updateSnapshot();const v=Bt(),b=p.measurePageBox();xs(v,b),P_(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Sa(this.latestValues)&&P_(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=sn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xs(this.target,this.layout.layoutBox),TS(this.target,this.targetDelta)):xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Wg(this.parent.latestValues)||_S(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Bd(this.relativeTargetOrigin,d,m),xs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;xs(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,_=this.treeScale.y;qD(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Bt());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(I_(this.prevProjectionDelta.x,this.projectionDelta.x),I_(this.prevProjectionDelta.y,this.projectionDelta.y)),Oc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==_||!F_(this.projectionDelta.x,this.prevProjectionDelta.x)||!F_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(u,d=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},b=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=Bt(),A=m?m.source:void 0,M=this.layout?this.layout.source:void 0,L=A!==M,P=this.getStack(),B=!P||P.members.length<=1,F=!!(L&&!B&&this.options.crossfade===!0&&!this.path.some(H5));this.animationProgress=0;let K;this.mixTargetDelta=J=>{const ee=J/1e3;Q_(b.x,u.x,ee),Q_(b.y,u.y,ee),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bd(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F5(this.relativeTarget,this.relativeTargetOrigin,_,ee),K&&b5(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Bt()),xs(K,this.relativeTarget)),L&&(this.animationValues=v,T5(v,p,this.latestValues,ee,F,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{Td.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qo(0)),this.currentAnimation=S5(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:v}=u;if(!(!d||!m||!p)){if(this!==u&&this.layout&&p&&zS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Bt();const b=bn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+b;const _=bn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+_}xs(d,m),Bo(d,v),Oc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new R5),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&og("z",u,p,this.animationValues);for(let v=0;v<ag.length;v++)og(`rotate${ag[v]}`,u,p,this.animationValues),og(`skew${ag[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=_d(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=_d(d?.pointerEvents)||""),this.hasProjected&&!Sa(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=x5(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),u.transform=b;const{x:_,y:A}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const M in Zg){if(v[M]===void 0)continue;const{correct:L,applyTo:P,isCSSVariable:B}=Zg[M],F=b==="none"?v[M]:L(v[M],p);if(P){const K=P.length;for(let J=0;J<K;J++)u[P[J]]=F}else B?this.options.visualElement.renderState.vars[M]=F:u[M]=F}this.options.layoutId&&(u.pointerEvents=p===this?_d(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach($_),this.root.sharedNodes.clear()}}}function D5(t){t.updateLayout()}function j5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Js(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],_=bn(b);b.min=n[v].min,b.max=b.min+_}):zS(a,e.layoutBox,n)&&Js(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],_=bn(n[v]);b.max=b.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const u=Uo();Oc(u,n,e.layoutBox);const d=Uo();l?Oc(d,t.applyTransform(i,!0),e.measuredBox):Oc(d,n,e.layoutBox);const m=!MS(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:_}=v;if(b&&_){const A=Bt();Bd(A,e.layoutBox,b.layoutBox);const M=Bt();Bd(M,n,_.layoutBox),VS(A,M)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function M5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function V5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function O5(t){t.clearSnapshot()}function $_(t){t.clearMeasurements()}function K_(t){t.isLayoutDirty=!1}function P5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Y_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function L5(t){t.resolveTargetDelta()}function U5(t){t.calcProjection()}function z5(t){t.resetSkewAndRotation()}function B5(t){t.removeLeadSnapshot()}function Q_(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function X_(t,e,n,i){t.min=pt(e.min,n.min,i),t.max=pt(e.max,n.max,i)}function F5(t,e,n,i){X_(t.x,e.x,n.x,i),X_(t.y,e.y,n.y,i)}function H5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const q5={duration:.45,ease:[.4,0,.1,1]},W_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),J_=W_("applewebkit/")&&!W_("chrome/")?Math.round:ss;function Z_(t){t.min=J_(t.min),t.max=J_(t.max)}function G5(t){Z_(t.x),Z_(t.y)}function zS(t,e,n){return t==="position"||t==="preserve-aspect"&&!m5(B_(e),B_(n),.2)}function $5(t){return t!==t.root&&t.scroll?.wasRoot}const K5=US({attachResizeListener:(t,e)=>Qc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),lg={current:void 0},BS=US({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lg.current){const t=new K5({});t.mount(window),t.setOptions({layoutScroll:!0}),lg.current=t}return lg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fy=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function eT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Y5(...t){return e=>{let n=!1;const i=t.map(a=>{const l=eT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():eT(t[a],null)}}}}function Q5(...t){return R.useCallback(Y5(...t),t)}class X5 extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=Qg(i)&&i.offsetWidth||0,l=Qg(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function W5({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const u=R.useId(),d=R.useRef(null),m=R.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=R.useContext(fy),v=t.props?.ref??t?.ref,b=Q5(d,v);return R.useInsertionEffect(()=>{const{width:_,height:A,top:M,left:L,right:P,bottom:B}=m.current;if(e||l===!1||!d.current||!_||!A)return;const F=n==="left"?`left: ${L}`:`right: ${P}`,K=i==="bottom"?`bottom: ${B}`:`top: ${M}`;d.current.dataset.motionPopId=u;const J=document.createElement("style");p&&(J.nonce=p);const ee=a??document.head;return ee.appendChild(J),J.sheet&&J.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${A}px !important;
            ${F}px !important;
            ${K}px !important;
          }
        `),()=>{ee.contains(J)&&ee.removeChild(J)}},[e]),g.jsx(X5,{isPresent:e,childRef:d,sizeRef:m,pop:l,children:l===!1?t:R.cloneElement(t,{ref:b})})}const J5=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,anchorY:m,root:p})=>{const v=U0(Z5),b=R.useId();let _=!0,A=R.useMemo(()=>(_=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:M=>{v.set(M,!0);for(const L of v.values())if(!L)return;i&&i()},register:M=>(v.set(M,!1),()=>v.delete(M))}),[n,v,i]);return l&&_&&(A={...A}),R.useMemo(()=>{v.forEach((M,L)=>v.set(L,!1))},[n]),R.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),t=g.jsx(W5,{pop:u==="popLayout",isPresent:n,anchorX:d,anchorY:m,root:p,children:t}),g.jsx(yf.Provider,{value:A,children:t})};function Z5(){return new Map}function FS(t=!0){const e=R.useContext(yf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=R.useId();R.useEffect(()=>{if(t)return a(l)},[t]);const u=R.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const id=t=>t.key||"";function tT(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const rs=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",anchorY:m="top",root:p})=>{const[v,b]=FS(u),_=R.useMemo(()=>tT(t),[t]),A=u&&!v?[]:_.map(id),M=R.useRef(!0),L=R.useRef(_),P=U0(()=>new Map),B=R.useRef(new Set),[F,K]=R.useState(_),[J,ee]=R.useState(_);vE(()=>{M.current=!1,L.current=_;for(let E=0;E<J.length;E++){const C=id(J[E]);A.includes(C)?(P.delete(C),B.current.delete(C)):P.get(C)!==!0&&P.set(C,!1)}},[J,A.length,A.join("-")]);const re=[];if(_!==F){let E=[..._];for(let C=0;C<J.length;C++){const j=J[C],k=id(j);A.includes(k)||(E.splice(C,0,j),re.push(j))}return l==="wait"&&re.length&&(E=re),ee(tT(E)),K(_),null}const{forceRender:I}=R.useContext(L0);return g.jsx(g.Fragment,{children:J.map(E=>{const C=id(E),j=u&&!v?!1:_===J||A.includes(C),k=()=>{if(B.current.has(C))return;if(B.current.add(C),P.has(C))P.set(C,!0);else return;let V=!0;P.forEach(D=>{D||(V=!1)}),V&&(I?.(),ee(L.current),u&&b?.(),i&&i())};return g.jsx(J5,{isPresent:j,initial:!M.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:j?void 0:k,anchorX:d,anchorY:m,children:E},C)})})},HS=R.createContext({strict:!1}),nT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let sT=!1;function ej(){if(sT)return;const t={};for(const e in nT)t[e]={isEnabled:n=>nT[e].some(i=>!!n[i])};vS(t),sT=!0}function qS(){return ej(),zD()}function tj(t){const e=qS();for(const n in t)e[n]={...e[n],...t[n]};vS(e)}const nj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Fd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nj.has(t)}let GS=t=>!Fd(t);function sj(t){typeof t=="function"&&(GS=e=>e.startsWith("on")?!Fd(e):t(e))}try{sj(require("@emotion/is-prop-valid").default)}catch{}function ij(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(GS(a)||n===!0&&Fd(a)||!e&&!Fd(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const xf=R.createContext({});function rj(t,e){if(bf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Yc(n)?n:void 0,animate:Yc(i)?i:void 0}}return t.inherit!==!1?e:{}}function aj(t){const{initial:e,animate:n}=rj(t,R.useContext(xf));return R.useMemo(()=>({initial:e,animate:n}),[iT(e),iT(n)])}function iT(t){return Array.isArray(t)?t.join(" "):t}const my=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $S(t,e,n){for(const i in e)!fn(e[i])&&!SS(i,n)&&(t[i]=e[i])}function oj({transformTemplate:t},e){return R.useMemo(()=>{const n=my();return hy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lj(t,e){const n=t.style||{},i={};return $S(i,n,t),Object.assign(i,oj(t,e)),i}function cj(t,e){const n={},i=lj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const KS=()=>({...my(),attrs:{}});function uj(t,e,n,i){const a=R.useMemo(()=>{const l=KS();return AS(l,e,NS(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};$S(l,t.style,t),a.style={...l,...a.style}}return a}const hj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function py(t){return typeof t!="string"||t.includes("-")?!1:!!(hj.indexOf(t)>-1||/[A-Z]/u.test(t))}function dj(t,e,n,{latestValues:i},a,l=!1,u){const m=(u??py(t)?uj:cj)(e,i,a,t),p=ij(e,typeof t=="string",l),v=t!==R.Fragment?{...p,...m,ref:n}:{},{children:b}=e,_=R.useMemo(()=>fn(b)?b.get():b,[b]);return R.createElement(t,{...v,children:_})}function fj({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:mj(n,i,a,t),renderState:e()}}function mj(t,e,n,i){const a={},l=i(t,{});for(const _ in l)a[_]=_d(l[_]);let{initial:u,animate:d}=t;const m=bf(t),p=gS(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const b=v?d:u;if(b&&typeof b!="boolean"&&!vf(b)){const _=Array.isArray(b)?b:[b];for(let A=0;A<_.length;A++){const M=sy(t,_[A]);if(M){const{transitionEnd:L,transition:P,...B}=M;for(const F in B){let K=B[F];if(Array.isArray(K)){const J=v?K.length-1:0;K=K[J]}K!==null&&(a[F]=K)}for(const F in L)a[F]=L[F]}}}return a}const YS=t=>(e,n)=>{const i=R.useContext(xf),a=R.useContext(yf),l=()=>fj(t,e,i,a);return n?l():U0(l)},pj=YS({scrapeMotionValuesFromProps:dy,createRenderState:my}),gj=YS({scrapeMotionValuesFromProps:RS,createRenderState:KS}),yj=Symbol.for("motionComponentSymbol");function vj(t,e,n){const i=R.useRef(n);R.useInsertionEffect(()=>{i.current=n});const a=R.useRef(null);return R.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=i.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const QS=R.createContext({});function Do(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bj(t,e,n,i,a,l){const{visualElement:u}=R.useContext(xf),d=R.useContext(HS),m=R.useContext(yf),p=R.useContext(fy),v=p.reducedMotion,b=p.skipAnimations,_=R.useRef(null),A=R.useRef(!1);i=i||d.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v,skipAnimations:b,isSVG:l}),A.current&&_.current&&(_.current.manuallyAnimateOnMount=!0));const M=_.current,L=R.useContext(QS);M&&!M.projection&&a&&(M.type==="html"||M.type==="svg")&&xj(_.current,n,a,L);const P=R.useRef(!1);R.useInsertionEffect(()=>{M&&P.current&&M.update(n,m)});const B=n[sS],F=R.useRef(!!B&&!window.MotionHandoffIsComplete?.(B)&&window.MotionHasOptimisedAnimation?.(B));return vE(()=>{A.current=!0,M&&(P.current=!0,window.MotionIsMounted=!0,M.updateFeatures(),M.scheduleRenderMicrotask(),F.current&&M.animationState&&M.animationState.animateChanges())}),R.useEffect(()=>{M&&(!F.current&&M.animationState&&M.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(B)}),F.current=!1),M.enteringChildren=void 0)}),M}function xj(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&Do(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:p})}function XS(t){if(t)return t.options.allowProjection!==!1?t.projection:XS(t.parent)}function cg(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&tj(i);const l=n?n==="svg":py(t),u=l?gj:pj;function d(p,v){let b;const _={...R.useContext(fy),...p,layoutId:_j(p)},{isStatic:A}=_,M=aj(p),L=u(p,A);if(!A&&yE){Tj();const P=wj(_);b=P.MeasureLayout,M.visualElement=bj(t,L,_,a,P.ProjectionNode,l)}return g.jsxs(xf.Provider,{value:M,children:[b&&M.visualElement?g.jsx(b,{visualElement:M.visualElement,..._}):null,dj(t,p,vj(L,M.visualElement,v),L,A,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=R.forwardRef(d);return m[yj]=t,m}function _j({layoutId:t}){const e=R.useContext(L0).id;return e&&t!==void 0?e+"-"+t:t}function Tj(t,e){R.useContext(HS).strict}function wj(t){const e=qS(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Ej(t,e){if(typeof Proxy>"u")return cg;const n=new Map,i=(l,u)=>cg(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,cg(u,void 0,t,e)),n.get(u))})}const Sj=(t,e)=>e.isSVG??py(t)?new s5(e):new WD(e,{allowProjection:t!==R.Fragment});class Aj extends Gr{constructor(e){super(e),e.animationState||(e.animationState=l5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Cj=0;class Nj extends Gr{constructor(){super(...arguments),this.id=Cj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Rj={animation:{Feature:Aj},exit:{Feature:Nj}};function du(t){return{point:{x:t.pageX,y:t.pageY}}}const kj=t=>e=>oy(e)&&t(e,du(e));function Pc(t,e,n,i){return Qc(t,e,kj(n),i)}const WS=({current:t})=>t?t.ownerDocument.defaultView:null,rT=(t,e)=>Math.abs(t-e);function Ij(t,e){const n=rT(t.x,e.x),i=rT(t.y,e.y);return Math.sqrt(n**2+i**2)}const aT=new Set(["auto","scroll"]);class JS{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=hg(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,L=Ij(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!L)return;const{point:P}=A,{timestamp:B}=sn;this.history.push({...P,timestamp:B});const{onStart:F,onMove:K}=this.handlers;M||(F&&F(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,A)},this.handlePointerMove=(A,M)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=ug(M,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(A,M)=>{this.end();const{onEnd:L,onSessionEnd:P,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=hg(A.type==="pointercancel"?this.lastMoveEventInfo:ug(M,this.transformPagePoint),this.history);this.startEvent&&L&&L(A,F),P&&P(A,F)},!oy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const m=du(e),p=ug(m,this.transformPagePoint),{point:v}=p,{timestamp:b}=sn;this.history=[{...v,timestamp:b}];const{onSessionStart:_}=n;_&&_(e,hg(p,this.history)),this.removeListeners=cu(Pc(this.contextWindow,"pointermove",this.handlePointerMove),Pc(this.contextWindow,"pointerup",this.handlePointerUp),Pc(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(aT.has(i.overflowX)||aT.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),lt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Pr(this.updatePoint)}}function ug(t,e){return e?{point:e(t.point)}:t}function oT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hg({point:t},e){return{point:t,delta:oT(t,ZS(e)),offset:oT(t,Dj(e)),velocity:jj(e,.1)}}function Dj(t){return t[0]}function ZS(t){return t[t.length-1]}function jj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=ZS(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Es(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>Es(e)*2&&(i=t[1]);const l=ns(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Mj(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?pt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?pt(n,t,i.max):Math.min(t,n)),t}function lT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Vj(t,{top:e,left:n,bottom:i,right:a}){return{x:lT(t.x,n,a),y:lT(t.y,e,i)}}function cT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Oj(t,e){return{x:cT(t.x,e.x),y:cT(t.y,e.y)}}function Pj(t,e){let n=.5;const i=bn(t),a=bn(e);return a>i?n=Gc(e.min,e.max-i,t.min):i>a&&(n=Gc(t.min,t.max-a,e.min)),ri(0,1,n)}function Lj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const e0=.35;function Uj(t=e0){return t===!1?t=0:t===!0&&(t=e0),{x:uT(t,"left","right"),y:uT(t,"top","bottom")}}function uT(t,e,n){return{min:hT(t,e),max:hT(t,n)}}function hT(t,e){return typeof t=="number"?t:t[e]||0}const zj=new WeakMap;class Bj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n&&this.snapToCursor(du(b).point),this.stopAnimation()},u=(b,_)=>{const{drag:A,dragPropagation:M,onDragStart:L}=this.getProps();if(A&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gD(A),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Js(B=>{let F=this.getAxisMotionValue(B).get()||0;if(ei.test(F)){const{projection:K}=this.visualElement;if(K&&K.layout){const J=K.layout.layoutBox[B];J&&(F=bn(J)*(parseFloat(F)/100))}}this.originPoint[B]=F}),L&&lt.update(()=>L(b,_),!1,!0),$g(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},d=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_;const{dragPropagation:A,dragDirectionLock:M,onDirectionLock:L,onDrag:P}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:B}=_;if(M&&this.currentDirection===null){this.currentDirection=Hj(B),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",_.point,B),this.updateAxis("y",_.point,B),this.visualElement.render(),P&&lt.update(()=>P(b,_),!1,!0)},m=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_,this.stop(b,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new JS(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:WS(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&lt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!rd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Mj(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Do(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Vj(i.layoutBox,e):this.constraints=!1,this.elastic=Uj(n),a!==this.constraints&&!Do(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&Js(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Lj(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Do(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=GD(i,a.root,this.visualElement.getTransformPagePoint());let u=Oj(a.layout.layoutBox,l);if(n){const d=n(FD(u));this.hasMutatedConstraints=!!d,d&&(u=xS(d))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Js(v=>{if(!rd(v,n,this.currentDirection))return;let b=m&&m[v]||{};u&&(b={min:0,max:0});const _=a?200:1e6,A=a?40:1e7,M={type:"inertia",velocity:i?e[v]:0,bounceStiffness:_,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,M)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return $g(this.visualElement,e),i.start(ny(e,i,0,n,this.visualElement,!1))}stopAnimation(){Js(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Js(n=>{const{drag:i}=this.getProps();if(!rd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-pt(u,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Do(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Js(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=Pj({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Js(u=>{if(!rd(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];d.set(pt(m,p,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;zj.set(this.visualElement,this);const e=this.visualElement.current,n=Pc(e,"pointerdown",p=>{const{drag:v,dragListener:b=!0}=this.getProps(),_=p.target,A=_!==e&&TD(_);v&&b&&!A&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();Do(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=Fj(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),lt.read(a);const d=Qc(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&(Js(b=>{const _=this.getAxisMotionValue(b);_&&(this.originPoint[b]+=p[b].translate,_.set(_.get()+p[b].translate))}),this.visualElement.render())}));return()=>{d(),n(),u(),m&&m(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=e0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function dT(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function Fj(t,e,n){const i=b_(t,dT(n)),a=b_(e,dT(n));return()=>{i(),a()}}function rd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Hj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qj extends Gr{constructor(e){super(e),this.removeGroupControls=ss,this.removeListeners=ss,this.controls=new Bj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ss}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const dg=t=>(e,n)=>{t&&lt.update(()=>t(e,n),!1,!0)};class Gj extends Gr{constructor(){super(...arguments),this.removePointerDownListener=ss}onPointerDown(e){this.session=new JS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:dg(e),onStart:dg(n),onMove:dg(i),onEnd:(l,u)=>{delete this.session,a&&lt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Pc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let fg=!1;class $j extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),fg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Td.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),fg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||lt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ay.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;fg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eA(t){const[e,n]=FS(),i=R.useContext(L0);return g.jsx($j,{...t,layoutGroup:i,switchLayoutGroup:R.useContext(QS),isPresent:e,safeToRemove:n})}const Kj={pan:{Feature:Gj},drag:{Feature:qj,ProjectionNode:BS,MeasureLayout:eA}};function fT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&lt.postRender(()=>l(e,du(e)))}class Yj extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=vD(e,(n,i)=>(fT(this.node,i,"Start"),a=>fT(this.node,a,"End"))))}unmount(){}}class Qj extends Gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cu(Qc(this.node.current,"focus",()=>this.onFocus()),Qc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mT(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&lt.postRender(()=>l(e,du(e)))}class Xj extends Gr{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=ED(e,(a,l)=>(mT(this.node,l,"Start"),(u,{success:d})=>mT(this.node,u,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const t0=new WeakMap,mg=new WeakMap,Wj=t=>{const e=t0.get(t.target);e&&e(t)},Jj=t=>{t.forEach(Wj)};function Zj({root:t,...e}){const n=t||document;mg.has(n)||mg.set(n,{});const i=mg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(Jj,{root:t,...e})),i[a]}function eM(t,e,n){const i=Zj(e);return t0.set(t,n),i.observe(t),()=>{t0.delete(t),i.unobserve(t)}}const tM={some:0,all:1};class nM extends Gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:tM[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),_=p?v:b;_&&_(m)};return eM(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(sM(e,n))&&this.startObserver()}unmount(){}}function sM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const iM={inView:{Feature:nM},tap:{Feature:Xj},focus:{Feature:Qj},hover:{Feature:Yj}},rM={layout:{ProjectionNode:BS,MeasureLayout:eA}},aM={...Rj,...iM,...Kj,...rM},xe=Ej(aM,Sj),oM=()=>{};var pT={};const tA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},lM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},nA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let _=(d&15)<<2|p>>6,A=p&63;m||(A=64,u||(_=64)),i.push(n[v],n[b],n[_],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||b==null)throw new cM;const _=l<<2|d>>4;if(i.push(_),p!==64){const A=d<<4&240|p>>2;if(i.push(A),b!==64){const M=p<<6&192|b;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uM=function(t){const e=tA(t);return nA.encodeByteArray(e,!0)},Hd=function(t){return uM(t).replace(/\./g,"")},sA=function(t){try{return nA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dM=()=>hM().__FIREBASE_DEFAULTS__,fM=()=>{if(typeof process>"u"||typeof pT>"u")return;const t=pT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sA(t[1]);return e&&JSON.parse(e)},_f=()=>{try{return oM()||dM()||fM()||mM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iA=t=>_f()?.emulatorHosts?.[t],pM=t=>{const e=iA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},rA=()=>_f()?.config,aA=t=>_f()?.[`_${t}`];class gM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function dl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oA(t){return(await fetch(t,{credentials:"include"})).ok}function yM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hd(JSON.stringify(n)),Hd(JSON.stringify(u)),""].join(".")}const Lc={};function vM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?t.emulator.push(e):t.prod.push(e);return t}function bM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gT=!1;function lA(t,e){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||Lc[t]===e||Lc[t]||gT)return;Lc[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",l=vM().prod.length>0;function u(){const _=document.getElementById(i);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{gT=!0,u()},_}function v(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=bM(i),A=n("text"),M=document.getElementById(A)||document.createElement("span"),L=n("learnmore"),P=document.getElementById(L)||document.createElement("a"),B=n("preprendIcon"),F=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const K=_.element;d(K),v(P,L);const J=p();m(F,B),K.append(F,M,P,J),document.body.appendChild(K)}l?(M.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function _M(){const t=_f()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SM(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AM(){return!_M()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CM(){try{return typeof indexedDB=="object"}catch{return!1}}function NM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const RM="FirebaseError";class Hi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=RM,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?kM(l,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Hi(a,d,i)}}function kM(t,e){return t.replace(IM,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const IM=/\{\$([^}]+)}/g;function DM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Va(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(yT(l)&&yT(u)){if(!Va(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function yT(t){return t!==null&&typeof t=="object"}function mu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function jM(t,e){const n=new MM(t,e);return n.subscribe.bind(n)}class MM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");VM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=pg),a.error===void 0&&(a.error=pg),a.complete===void 0&&(a.complete=pg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pg(){}function Yt(t){return t&&t._delegate?t._delegate:t}class Oa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Aa="[DEFAULT]";class OM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new gM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LM(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:PM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PM(t){return t===Aa?void 0:t}function LM(t){return t.instantiationMode==="EAGER"}class UM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const zM={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},BM=He.INFO,FM={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},HM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=FM[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gy{constructor(e){this.name=e,this._logLevel=BM,this._logHandler=HM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const qM=(t,e)=>e.some(n=>t instanceof n);let vT,bT;function GM(){return vT||(vT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $M(){return bT||(bT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cA=new WeakMap,n0=new WeakMap,uA=new WeakMap,gg=new WeakMap,yy=new WeakMap;function KM(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Dr(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&cA.set(n,t)}).catch(()=>{}),yy.set(e,t),e}function YM(t){if(n0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});n0.set(t,e)}let s0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return n0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QM(t){s0=t(s0)}function XM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(yg(this),e,...n);return uA.set(i,e.sort?e.sort():[e]),Dr(i)}:$M().includes(t)?function(...e){return t.apply(yg(this),e),Dr(cA.get(this))}:function(...e){return Dr(t.apply(yg(this),e))}}function WM(t){return typeof t=="function"?XM(t):(t instanceof IDBTransaction&&YM(t),qM(t,GM())?new Proxy(t,s0):t)}function Dr(t){if(t instanceof IDBRequest)return KM(t);if(gg.has(t))return gg.get(t);const e=WM(t);return e!==t&&(gg.set(t,e),yy.set(e,t)),e}const yg=t=>yy.get(t);function JM(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Dr(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Dr(u.result),m.oldVersion,m.newVersion,Dr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const ZM=["get","getKey","getAll","getAllKeys","count"],e3=["put","add","delete","clear"],vg=new Map;function xT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vg.get(e))return vg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=e3.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||ZM.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return vg.set(e,l),l}QM(t=>({...t,get:(e,n,i)=>xT(e,n)||t.get(e,n,i),has:(e,n)=>!!xT(e,n)||t.has(e,n)}));class t3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n3(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function n3(t){return t.getComponent()?.type==="VERSION"}const i0="@firebase/app",_T="0.14.8";const Pi=new gy("@firebase/app"),s3="@firebase/app-compat",i3="@firebase/analytics-compat",r3="@firebase/analytics",a3="@firebase/app-check-compat",o3="@firebase/app-check",l3="@firebase/auth",c3="@firebase/auth-compat",u3="@firebase/database",h3="@firebase/data-connect",d3="@firebase/database-compat",f3="@firebase/functions",m3="@firebase/functions-compat",p3="@firebase/installations",g3="@firebase/installations-compat",y3="@firebase/messaging",v3="@firebase/messaging-compat",b3="@firebase/performance",x3="@firebase/performance-compat",_3="@firebase/remote-config",T3="@firebase/remote-config-compat",w3="@firebase/storage",E3="@firebase/storage-compat",S3="@firebase/firestore",A3="@firebase/ai",C3="@firebase/firestore-compat",N3="firebase",R3="12.9.0";const r0="[DEFAULT]",k3={[i0]:"fire-core",[s3]:"fire-core-compat",[r3]:"fire-analytics",[i3]:"fire-analytics-compat",[o3]:"fire-app-check",[a3]:"fire-app-check-compat",[l3]:"fire-auth",[c3]:"fire-auth-compat",[u3]:"fire-rtdb",[h3]:"fire-data-connect",[d3]:"fire-rtdb-compat",[f3]:"fire-fn",[m3]:"fire-fn-compat",[p3]:"fire-iid",[g3]:"fire-iid-compat",[y3]:"fire-fcm",[v3]:"fire-fcm-compat",[b3]:"fire-perf",[x3]:"fire-perf-compat",[_3]:"fire-rc",[T3]:"fire-rc-compat",[w3]:"fire-gcs",[E3]:"fire-gcs-compat",[S3]:"fire-fst",[C3]:"fire-fst-compat",[A3]:"fire-vertex","fire-js":"fire-js",[N3]:"fire-js-all"};const qd=new Map,I3=new Map,a0=new Map;function TT(t,e){try{t.container.addComponent(e)}catch(n){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xo(t){const e=t.name;if(a0.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;a0.set(e,t);for(const n of qd.values())TT(n,t);for(const n of I3.values())TT(n,t);return!0}function vy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ts(t){return t==null?!1:t.settings!==void 0}const D3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new fu("app","Firebase",D3);class j3{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const fl=R3;function hA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:r0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw jr.create("bad-app-name",{appName:String(a)});if(n||(n=rA()),!n)throw jr.create("no-options");const l=qd.get(a);if(l){if(Va(n,l.options)&&Va(i,l.config))return l;throw jr.create("duplicate-app",{appName:a})}const u=new UM(a);for(const m of a0.values())u.addComponent(m);const d=new j3(n,i,u);return qd.set(a,d),d}function dA(t=r0){const e=qd.get(t);if(!e&&t===r0&&rA())return hA();if(!e)throw jr.create("no-app",{appName:t});return e}function Mr(t,e,n){let i=k3[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(u.join(" "));return}Xo(new Oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const M3="firebase-heartbeat-database",V3=1,Xc="firebase-heartbeat-store";let bg=null;function fA(){return bg||(bg=JM(M3,V3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),bg}async function O3(t){try{const n=(await fA()).transaction(Xc),i=await n.objectStore(Xc).get(mA(t));return await n.done,i}catch(e){if(e instanceof Hi)Pi.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(n.message)}}}async function wT(t,e){try{const i=(await fA()).transaction(Xc,"readwrite");await i.objectStore(Xc).put(e,mA(t)),await i.done}catch(n){if(n instanceof Hi)Pi.warn(n.message);else{const i=jr.create("idb-set",{originalErrorMessage:n?.message});Pi.warn(i.message)}}}function mA(t){return`${t.name}!${t.options.appId}`}const P3=1024,L3=30;class U3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ET();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>L3){const a=F3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ET(),{heartbeatsToSend:n,unsentEntries:i}=z3(this._heartbeatsCache.heartbeats),a=Hd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Pi.warn(e),""}}}function ET(){return new Date().toISOString().substring(0,10)}function z3(t,e=P3){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),ST(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ST(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class B3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CM()?NM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ST(t){return Hd(JSON.stringify({version:2,heartbeats:t})).length}function F3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function H3(t){Xo(new Oa("platform-logger",e=>new t3(e),"PRIVATE")),Xo(new Oa("heartbeat",e=>new U3(e),"PRIVATE")),Mr(i0,_T,t),Mr(i0,_T,"esm2020"),Mr("fire-js","")}H3("");function pA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q3=pA,gA=new fu("auth","Firebase",pA());const Gd=new gy("@firebase/auth");function G3(t,...e){Gd.logLevel<=He.WARN&&Gd.warn(`Auth (${fl}): ${t}`,...e)}function wd(t,...e){Gd.logLevel<=He.ERROR&&Gd.error(`Auth (${fl}): ${t}`,...e)}function ai(t,...e){throw xy(t,...e)}function Ss(t,...e){return xy(t,...e)}function by(t,e,n){const i={...q3(),[e]:n};return new fu("auth","Firebase",i).create(e,{appName:t.name})}function Da(t){return by(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $3(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ai(t,"argument-error"),by(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return gA.create(t,...e)}function Ne(t,e,...n){if(!t)throw xy(e,...n)}function ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wd(e),new Error(e)}function Li(t,e){t||ki(e)}function o0(){return typeof self<"u"&&self.location?.href||""}function K3(){return AT()==="http:"||AT()==="https:"}function AT(){return typeof self<"u"&&self.location?.protocol||null}function Y3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K3()||wM()||"connection"in navigator)?navigator.onLine:!0}function Q3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=xM()||EM()}get(){return Y3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _y(t,e){Li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class yA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const W3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J3=new pu(3e4,6e4);function Ty(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ml(t,e,n,i,a={}){return vA(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=mu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return TM()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&dl(t.emulatorConfig.host)&&(p.credentials="include"),yA.fetch()(await bA(t,t.config.apiHost,n,d),p)})}async function vA(t,e,n){t._canInitEmulator=!1;const i={...X3,...e};try{const a=new e6(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ad(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ad(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw ad(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw ad(t,"user-disabled",u);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw by(t,v,p);ai(t,v)}}catch(a){if(a instanceof Hi)throw a;ai(t,"network-request-failed",{message:String(a)})}}async function Z3(t,e,n,i,a={}){const l=await ml(t,e,n,i,a);return"mfaPendingCredential"in l&&ai(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function bA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?_y(t.config,a):`${t.config.apiScheme}://${a}`;return W3.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class e6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ss(this.auth,"network-request-failed")),J3.get())})}}function ad(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ss(t,e,i);return a.customData._tokenResponse=n,a}async function t6(t,e){return ml(t,"POST","/v1/accounts:delete",e)}async function $d(t,e){return ml(t,"POST","/v1/accounts:lookup",e)}function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n6(t,e=!1){const n=Yt(t),i=await n.getIdToken(e),a=wy(i);Ne(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Uc(xg(a.auth_time)),issuedAtTime:Uc(xg(a.iat)),expirationTime:Uc(xg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function xg(t){return Number(t)*1e3}function wy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const a=sA(n);return a?JSON.parse(a):(wd("Failed to decode base64 JWT payload"),null)}catch(a){return wd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function CT(t){const e=wy(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Hi&&s6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function s6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class i6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class l0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kd(t){const e=t.auth,n=await t.getIdToken(),i=await Wc(t,$d(e,{idToken:n}));Ne(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?xA(a.providerUserInfo):[],u=a6(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new l0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function r6(t){const e=Yt(t);await Kd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a6(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function xA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function o6(t,e){const n=await vA(t,{},async()=>{const i=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await bA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return t.emulatorConfig&&dl(t.emulatorConfig.host)&&(m.credentials="include"),yA.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l6(t,e){return ml(t,"POST","/v2/accounts:revokeToken",Ty(t,e))}class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=CT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await o6(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new qo;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ne(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return ki("not implemented")}}function Sr(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ws{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new i6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new l0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n6(this,e)}reload(){return r6(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ws({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Kd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ts(this.auth.app))return Promise.reject(Da(this.auth));const e=await this.getIdToken();return await Wc(this,t6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:A,providerData:M,stsTokenManager:L}=n;Ne(b&&L,e,"internal-error");const P=qo.fromJSON(this.name,L);Ne(typeof b=="string",e,"internal-error"),Sr(i,e.name),Sr(a,e.name),Ne(typeof _=="boolean",e,"internal-error"),Ne(typeof A=="boolean",e,"internal-error"),Sr(l,e.name),Sr(u,e.name),Sr(d,e.name),Sr(m,e.name),Sr(p,e.name),Sr(v,e.name);const B=new ws({uid:b,auth:e,email:a,emailVerified:_,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:P,createdAt:p,lastLoginAt:v});return M&&Array.isArray(M)&&(B.providerData=M.map(F=>({...F}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,i=!1){const a=new qo;a.updateFromServerResponse(n);const l=new ws({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Kd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?xA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new qo;d.updateFromIdToken(i);const m=new ws({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new l0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const NT=new Map;function Ii(t){Li(t instanceof Function,"Expected a class definition");let e=NT.get(t);return e?(Li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NT.set(t,e),e)}class _A{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_A.type="NONE";const RT=_A;function Ed(t,e,n){return`firebase:${t}:${e}:${n}`}class Go{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ed(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ed("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $d(this.auth,{idToken:e}).catch(()=>{});return n?ws._fromGetAccountInfoResponse(this.auth,n,e):null}return ws._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Go(Ii(RT),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ii(RT);const u=Ed(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(u);if(v){let b;if(typeof v=="string"){const _=await $d(e,{idToken:v}).catch(()=>{});if(!_)break;b=await ws._fromGetAccountInfoResponse(e,_,v)}else b=ws._fromJSON(e,v);p!==l&&(d=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Go(l,e,i):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Go(l,e,i))}}function kT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CA(e))return"Blackberry";if(NA(e))return"Webos";if(wA(e))return"Safari";if((e.includes("chrome/")||EA(e))&&!e.includes("edge/"))return"Chrome";if(AA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function TA(t=mn()){return/firefox\//i.test(t)}function wA(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EA(t=mn()){return/crios\//i.test(t)}function SA(t=mn()){return/iemobile/i.test(t)}function AA(t=mn()){return/android/i.test(t)}function CA(t=mn()){return/blackberry/i.test(t)}function NA(t=mn()){return/webos/i.test(t)}function Ey(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c6(t=mn()){return Ey(t)&&!!window.navigator?.standalone}function u6(){return SM()&&document.documentMode===10}function RA(t=mn()){return Ey(t)||AA(t)||NA(t)||CA(t)||/windows phone/i.test(t)||SA(t)}function kA(t,e=[]){let n;switch(t){case"Browser":n=kT(mn());break;case"Worker":n=`${kT(mn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fl}/${i}`}class h6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function d6(t,e={}){return ml(t,"GET","/v2/passwordPolicy",Ty(t,e))}const f6=6;class m6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??f6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class p6{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IT(this),this.idTokenSubscription=new IT(this),this.beforeStateQueue=new h6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $d(this,{idToken:e}),i=await ws._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ts(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ts(this.app))return Promise.reject(Da(this));const n=e?Yt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ts(this.app)?Promise.reject(Da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ts(this.app)?Promise.reject(Da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d6(this),n=new m6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await l6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ts(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&G3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Tf(t){return Yt(t)}class IT{constructor(e){this.auth=e,this.observer=null,this.addObserver=jM(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g6(t){Sy=t}function y6(t){return Sy.loadJS(t)}function v6(){return Sy.gapiScript}function b6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function x6(t,e){const n=vy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Va(l,e??{}))return a;ai(a,"already-initialized")}return n.initialize({options:e})}function _6(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function T6(t,e,n){const i=Tf(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=IA(e),{host:u,port:d}=w6(e),m=d===null?"":`:${d}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(Va(p,i.config.emulator)&&Va(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,dl(u)?(oA(`${l}//${u}${m}`),lA("Auth",!0)):E6()}function IA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w6(t){const e=IA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:DT(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:DT(u)}}}function DT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class DA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,n){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function $o(t,e){return Z3(t,"POST","/v1/accounts:signInWithIdp",Ty(t,e))}const S6="http://localhost";class Pa extends DA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Pa(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return $o(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,$o(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$o(e,n)}buildRequest(){const e={requestUri:S6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}class Ay{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Ay{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cr extends gu{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";class Ri extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ri.credential(n,i)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";class Nr extends gu{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";class Rr extends gu{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Rr.credential(n,i)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";class Wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await ws._fromIdTokenResponse(e,i,a),u=jT(i);return new Wo({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=jT(i);return new Wo({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function jT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Yd extends Hi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Yd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Yd(e,n,i,a)}}function jA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yd._fromErrorAndOperation(t,l,e,i):l})}async function A6(t,e,n=!1){const i=await Wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wo._forOperation(t,"link",i)}async function C6(t,e,n=!1){const{auth:i}=t;if(Ts(i.app))return Promise.reject(Da(i));const a="reauthenticate";try{const l=await Wc(t,jA(i,a,e,t),n);Ne(l.idToken,i,"internal-error");const u=wy(l.idToken);Ne(u,i,"internal-error");const{sub:d}=u;return Ne(t.uid===d,i,"user-mismatch"),Wo._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ai(i,"user-mismatch"),l}}async function N6(t,e,n=!1){if(Ts(t.app))return Promise.reject(Da(t));const i="signIn",a=await jA(t,i,e),l=await Wo._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function R6(t,e,n,i){return Yt(t).onIdTokenChanged(e,n,i)}function k6(t,e,n){return Yt(t).beforeAuthStateChanged(e,n)}function I6(t,e,n,i){return Yt(t).onAuthStateChanged(e,n,i)}function D6(t){return Yt(t).signOut()}const Qd="__sak";class MA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const j6=1e3,M6=10;class VA extends MA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);u6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,M6):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},j6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VA.type="LOCAL";const V6=VA;class OA extends MA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OA.type="SESSION";const PA=OA;function O6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new wf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async p=>p(n.origin,l)),m=await O6(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];function Cy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class P6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const p=Cy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(_.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ti(){return window}function L6(t){ti().location.href=t}function LA(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function U6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z6(){return navigator?.serviceWorker?.controller||null}function B6(){return LA()?self:null}const UA="firebaseLocalStorageDb",F6=1,Xd="firebaseLocalStorage",zA="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ef(t,e){return t.transaction([Xd],e?"readwrite":"readonly").objectStore(Xd)}function H6(){const t=indexedDB.deleteDatabase(UA);return new yu(t).toPromise()}function c0(){const t=indexedDB.open(UA,F6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Xd,{keyPath:zA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Xd)?e(i):(i.close(),await H6(),e(await c0()))})})}async function MT(t,e,n){const i=Ef(t,!0).put({[zA]:e,value:n});return new yu(i).toPromise()}async function q6(t,e){const n=Ef(t,!1).get(e),i=await new yu(n).toPromise();return i===void 0?null:i.value}function VT(t,e){const n=Ef(t,!0).delete(e);return new yu(n).toPromise()}const G6=800,$6=3;class BA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>$6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(B6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await U6(),!this.activeServiceWorker)return;this.sender=new P6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c0();return await MT(e,Qd,"1"),await VT(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>MT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>q6(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ef(a,!1).getAll();return new yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BA.type="LOCAL";const K6=BA;new pu(3e4,6e4);function FA(t,e){return e?Ii(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Ny extends DA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y6(t){return N6(t.auth,new Ny(t),t.bypassAuthState)}function Q6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),C6(n,new Ny(t),t.bypassAuthState)}async function X6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),A6(n,new Ny(t),t.bypassAuthState)}class HA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y6;case"linkViaPopup":case"linkViaRedirect":return X6;case"reauthViaPopup":case"reauthViaRedirect":return Q6;default:ai(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const W6=new pu(2e3,1e4);async function J6(t,e,n){if(Ts(t.app))return Promise.reject(Ss(t,"operation-not-supported-in-this-environment"));const i=Tf(t);$3(t,e,Ay);const a=FA(i,n);return new Ra(i,"signInViaPopup",e,a).executeNotNull()}class Ra extends HA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=Cy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W6.get())};e()}}Ra.currentPopupAction=null;const Z6="pendingRedirect",Sd=new Map;class eV extends HA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Sd.get(this.auth._key());if(!e){try{const i=await tV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Sd.set(this.auth._key(),e)}return this.bypassAuthState||Sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tV(t,e){const n=iV(e),i=sV(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function nV(t,e){Sd.set(t._key(),e)}function sV(t){return Ii(t._redirectPersistence)}function iV(t){return Ed(Z6,t.config.apiKey,t.name)}async function rV(t,e,n=!1){if(Ts(t.app))return Promise.reject(Da(t));const i=Tf(t),a=FA(i,e),u=await new eV(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const aV=600*1e3;class oV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!qA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ss(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aV&&this.cachedEventUids.clear(),this.cachedEventUids.has(OT(e))}saveEventToCache(e){this.cachedEventUids.add(OT(e)),this.lastProcessedEventTime=Date.now()}}function OT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function lV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qA(t);default:return!1}}async function cV(t,e={}){return ml(t,"GET","/v1/projects",e)}const uV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hV=/^https?/;async function dV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cV(t);for(const n of e)try{if(fV(n))return}catch{}ai(t,"unauthorized-domain")}function fV(t){const e=o0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!hV.test(n))return!1;if(uV.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const mV=new pu(3e4,6e4);function PT(){const t=ti().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pV(t){return new Promise((e,n)=>{function i(){PT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PT(),n(Ss(t,"network-request-failed"))},timeout:mV.get()})}if(ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ti().gapi?.load)i();else{const a=b6("iframefcb");return ti()[a]=()=>{gapi.load?i():n(Ss(t,"network-request-failed"))},y6(`${v6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ad=null,e})}let Ad=null;function gV(t){return Ad=Ad||pV(t),Ad}const yV=new pu(5e3,15e3),vV="__/auth/iframe",bV="emulator/auth/iframe",xV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_V=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TV(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_y(e,bV):`https://${t.config.authDomain}/${vV}`,i={apiKey:e.apiKey,appName:t.name,v:fl},a=_V.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${mu(i).slice(1)}`}async function wV(t){const e=await gV(t),n=ti().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:TV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xV,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Ss(t,"network-request-failed"),d=ti().setTimeout(()=>{l(u)},yV.get());function m(){ti().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(u)})}))}const EV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SV=500,AV=600,CV="_blank",NV="http://localhost";class LT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RV(t,e,n,i=SV,a=AV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...EV,width:i.toString(),height:a.toString(),top:l,left:u},p=mn().toLowerCase();n&&(d=EA(p)?CV:n),TA(p)&&(e=e||NV,m.scrollbars="yes");const v=Object.entries(m).reduce((_,[A,M])=>`${_}${A}=${M},`,"");if(c6(p)&&d!=="_self")return kV(e||"",d),new LT(null);const b=window.open(e||"",d,v);Ne(b,t,"popup-blocked");try{b.focus()}catch{}return new LT(b)}function kV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const IV="__/auth/handler",DV="emulator/auth/handler",jV=encodeURIComponent("fac");async function UT(t,e,n,i,a,l){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:fl,eventId:a};if(e instanceof Ay){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",DM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof gu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),p=m?`#${jV}=${encodeURIComponent(m)}`:"";return`${MV(t)}?${mu(d).slice(1)}${p}`}function MV({config:t}){return t.emulator?_y(t,DV):`https://${t.authDomain}/${IV}`}const _g="webStorageSupport";class VV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PA,this._completeRedirectFn=rV,this._overrideRedirectResult=nV}async _openPopup(e,n,i,a){Li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await UT(e,n,i,o0(),a);return RV(e,l,Cy())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await UT(e,n,i,o0(),a);return L6(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Li(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await wV(e),i=new oV(e);return n.register("authEvent",a=>(Ne(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_g,{type:_g},a=>{const l=a?.[0]?.[_g];l!==void 0&&n(!!l),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RA()||wA()||Ey()}}const OV=VV;var zT="@firebase/auth",BT="1.12.0";class PV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UV(t){Xo(new Oa("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kA(t)},p=new p6(i,a,l,m);return _6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Xo(new Oa("auth-internal",e=>{const n=Tf(e.getProvider("auth").getImmediate());return(i=>new PV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(zT,BT,LV(t)),Mr(zT,BT,"esm2020")}const zV=300,BV=aA("authIdTokenMaxAge")||zV;let FT=null;const FV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>BV)return;const a=n?.token;FT!==a&&(FT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function HV(t=dA()){const e=vy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x6(t,{popupRedirectResolver:OV,persistence:[K6,V6,PA]}),i=aA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=FV(l.toString());k6(n,u,()=>u(n.currentUser)),R6(n,d=>u(d))}}const a=iA("auth");return a&&T6(n,`http://${a}`),n}function qV(){return document.getElementsByTagName("head")?.[0]??document}g6({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Ss("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",qV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UV("Browser");var GV="firebase",$V="12.9.0";Mr(GV,$V,"app");var HT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vr,GA;(function(){var t;function e(I,E){function C(){}C.prototype=E.prototype,I.F=E.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(j,k,V){for(var D=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)D[Ee-2]=arguments[Ee];return E.prototype[k].apply(j,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,E,C){C||(C=0);const j=Array(16);if(typeof E=="string")for(var k=0;k<16;++k)j[k]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(k=0;k<16;++k)j[k]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=I.g[0],C=I.g[1],k=I.g[2];let V=I.g[3],D;D=E+(V^C&(k^V))+j[0]+3614090360&4294967295,E=C+(D<<7&4294967295|D>>>25),D=V+(k^E&(C^k))+j[1]+3905402710&4294967295,V=E+(D<<12&4294967295|D>>>20),D=k+(C^V&(E^C))+j[2]+606105819&4294967295,k=V+(D<<17&4294967295|D>>>15),D=C+(E^k&(V^E))+j[3]+3250441966&4294967295,C=k+(D<<22&4294967295|D>>>10),D=E+(V^C&(k^V))+j[4]+4118548399&4294967295,E=C+(D<<7&4294967295|D>>>25),D=V+(k^E&(C^k))+j[5]+1200080426&4294967295,V=E+(D<<12&4294967295|D>>>20),D=k+(C^V&(E^C))+j[6]+2821735955&4294967295,k=V+(D<<17&4294967295|D>>>15),D=C+(E^k&(V^E))+j[7]+4249261313&4294967295,C=k+(D<<22&4294967295|D>>>10),D=E+(V^C&(k^V))+j[8]+1770035416&4294967295,E=C+(D<<7&4294967295|D>>>25),D=V+(k^E&(C^k))+j[9]+2336552879&4294967295,V=E+(D<<12&4294967295|D>>>20),D=k+(C^V&(E^C))+j[10]+4294925233&4294967295,k=V+(D<<17&4294967295|D>>>15),D=C+(E^k&(V^E))+j[11]+2304563134&4294967295,C=k+(D<<22&4294967295|D>>>10),D=E+(V^C&(k^V))+j[12]+1804603682&4294967295,E=C+(D<<7&4294967295|D>>>25),D=V+(k^E&(C^k))+j[13]+4254626195&4294967295,V=E+(D<<12&4294967295|D>>>20),D=k+(C^V&(E^C))+j[14]+2792965006&4294967295,k=V+(D<<17&4294967295|D>>>15),D=C+(E^k&(V^E))+j[15]+1236535329&4294967295,C=k+(D<<22&4294967295|D>>>10),D=E+(k^V&(C^k))+j[1]+4129170786&4294967295,E=C+(D<<5&4294967295|D>>>27),D=V+(C^k&(E^C))+j[6]+3225465664&4294967295,V=E+(D<<9&4294967295|D>>>23),D=k+(E^C&(V^E))+j[11]+643717713&4294967295,k=V+(D<<14&4294967295|D>>>18),D=C+(V^E&(k^V))+j[0]+3921069994&4294967295,C=k+(D<<20&4294967295|D>>>12),D=E+(k^V&(C^k))+j[5]+3593408605&4294967295,E=C+(D<<5&4294967295|D>>>27),D=V+(C^k&(E^C))+j[10]+38016083&4294967295,V=E+(D<<9&4294967295|D>>>23),D=k+(E^C&(V^E))+j[15]+3634488961&4294967295,k=V+(D<<14&4294967295|D>>>18),D=C+(V^E&(k^V))+j[4]+3889429448&4294967295,C=k+(D<<20&4294967295|D>>>12),D=E+(k^V&(C^k))+j[9]+568446438&4294967295,E=C+(D<<5&4294967295|D>>>27),D=V+(C^k&(E^C))+j[14]+3275163606&4294967295,V=E+(D<<9&4294967295|D>>>23),D=k+(E^C&(V^E))+j[3]+4107603335&4294967295,k=V+(D<<14&4294967295|D>>>18),D=C+(V^E&(k^V))+j[8]+1163531501&4294967295,C=k+(D<<20&4294967295|D>>>12),D=E+(k^V&(C^k))+j[13]+2850285829&4294967295,E=C+(D<<5&4294967295|D>>>27),D=V+(C^k&(E^C))+j[2]+4243563512&4294967295,V=E+(D<<9&4294967295|D>>>23),D=k+(E^C&(V^E))+j[7]+1735328473&4294967295,k=V+(D<<14&4294967295|D>>>18),D=C+(V^E&(k^V))+j[12]+2368359562&4294967295,C=k+(D<<20&4294967295|D>>>12),D=E+(C^k^V)+j[5]+4294588738&4294967295,E=C+(D<<4&4294967295|D>>>28),D=V+(E^C^k)+j[8]+2272392833&4294967295,V=E+(D<<11&4294967295|D>>>21),D=k+(V^E^C)+j[11]+1839030562&4294967295,k=V+(D<<16&4294967295|D>>>16),D=C+(k^V^E)+j[14]+4259657740&4294967295,C=k+(D<<23&4294967295|D>>>9),D=E+(C^k^V)+j[1]+2763975236&4294967295,E=C+(D<<4&4294967295|D>>>28),D=V+(E^C^k)+j[4]+1272893353&4294967295,V=E+(D<<11&4294967295|D>>>21),D=k+(V^E^C)+j[7]+4139469664&4294967295,k=V+(D<<16&4294967295|D>>>16),D=C+(k^V^E)+j[10]+3200236656&4294967295,C=k+(D<<23&4294967295|D>>>9),D=E+(C^k^V)+j[13]+681279174&4294967295,E=C+(D<<4&4294967295|D>>>28),D=V+(E^C^k)+j[0]+3936430074&4294967295,V=E+(D<<11&4294967295|D>>>21),D=k+(V^E^C)+j[3]+3572445317&4294967295,k=V+(D<<16&4294967295|D>>>16),D=C+(k^V^E)+j[6]+76029189&4294967295,C=k+(D<<23&4294967295|D>>>9),D=E+(C^k^V)+j[9]+3654602809&4294967295,E=C+(D<<4&4294967295|D>>>28),D=V+(E^C^k)+j[12]+3873151461&4294967295,V=E+(D<<11&4294967295|D>>>21),D=k+(V^E^C)+j[15]+530742520&4294967295,k=V+(D<<16&4294967295|D>>>16),D=C+(k^V^E)+j[2]+3299628645&4294967295,C=k+(D<<23&4294967295|D>>>9),D=E+(k^(C|~V))+j[0]+4096336452&4294967295,E=C+(D<<6&4294967295|D>>>26),D=V+(C^(E|~k))+j[7]+1126891415&4294967295,V=E+(D<<10&4294967295|D>>>22),D=k+(E^(V|~C))+j[14]+2878612391&4294967295,k=V+(D<<15&4294967295|D>>>17),D=C+(V^(k|~E))+j[5]+4237533241&4294967295,C=k+(D<<21&4294967295|D>>>11),D=E+(k^(C|~V))+j[12]+1700485571&4294967295,E=C+(D<<6&4294967295|D>>>26),D=V+(C^(E|~k))+j[3]+2399980690&4294967295,V=E+(D<<10&4294967295|D>>>22),D=k+(E^(V|~C))+j[10]+4293915773&4294967295,k=V+(D<<15&4294967295|D>>>17),D=C+(V^(k|~E))+j[1]+2240044497&4294967295,C=k+(D<<21&4294967295|D>>>11),D=E+(k^(C|~V))+j[8]+1873313359&4294967295,E=C+(D<<6&4294967295|D>>>26),D=V+(C^(E|~k))+j[15]+4264355552&4294967295,V=E+(D<<10&4294967295|D>>>22),D=k+(E^(V|~C))+j[6]+2734768916&4294967295,k=V+(D<<15&4294967295|D>>>17),D=C+(V^(k|~E))+j[13]+1309151649&4294967295,C=k+(D<<21&4294967295|D>>>11),D=E+(k^(C|~V))+j[4]+4149444226&4294967295,E=C+(D<<6&4294967295|D>>>26),D=V+(C^(E|~k))+j[11]+3174756917&4294967295,V=E+(D<<10&4294967295|D>>>22),D=k+(E^(V|~C))+j[2]+718787259&4294967295,k=V+(D<<15&4294967295|D>>>17),D=C+(V^(k|~E))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+V&4294967295}i.prototype.v=function(I,E){E===void 0&&(E=I.length);const C=E-this.blockSize,j=this.C;let k=this.h,V=0;for(;V<E;){if(k==0)for(;V<=C;)a(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<E;)if(j[k++]=I.charCodeAt(V++),k==this.blockSize){a(this,j),k=0;break}}else for(;V<E;)if(j[k++]=I[V++],k==this.blockSize){a(this,j),k=0;break}}this.h=k,this.o+=E},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;E=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=E&255,E/=256;for(this.v(I),I=Array(16),E=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)I[E++]=this.g[C]>>>j&255;return I};function l(I,E){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=E(I)}function u(I,E){this.h=E;const C=[];let j=!0;for(let k=I.length-1;k>=0;k--){const V=I[k]|0;j&&V==E||(C[k]=V,j=!1)}this.g=C}var d={};function m(I){return-128<=I&&I<128?l(I,function(E){return new u([E|0],E<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return P(p(-I));const E=[];let C=1;for(let j=0;I>=C;j++)E[j]=I/C|0,C*=4294967296;return new u(E,0)}function v(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return P(v(I.substring(1),E));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(E,8));let j=b;for(let V=0;V<I.length;V+=8){var k=Math.min(8,I.length-V);const D=parseInt(I.substring(V,V+k),E);k<8?(k=p(Math.pow(E,k)),j=j.j(k).add(p(D))):(j=j.j(C),j=j.add(p(D)))}return j}var b=m(0),_=m(1),A=m(16777216);t=u.prototype,t.m=function(){if(L(this))return-P(this).m();let I=0,E=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);I+=(j>=0?j:4294967296+j)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(L(this))return"-"+P(this).toString(I);const E=p(Math.pow(I,6));var C=this;let j="";for(;;){const k=J(C,E).g;C=B(C,k.j(E));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=k,M(C))return V+j;for(;V.length<6;)V="0"+V;j=V+j}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function L(I){return I.h==-1}t.l=function(I){return I=B(this,I),L(I)?-1:M(I)?0:1};function P(I){const E=I.g.length,C=[];for(let j=0;j<E;j++)C[j]=~I.g[j];return new u(C,~I.h).add(_)}t.abs=function(){return L(this)?P(this):this},t.add=function(I){const E=Math.max(this.g.length,I.g.length),C=[];let j=0;for(let k=0;k<=E;k++){let V=j+(this.i(k)&65535)+(I.i(k)&65535),D=(V>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);j=D>>>16,V&=65535,D&=65535,C[k]=D<<16|V}return new u(C,C[C.length-1]&-2147483648?-1:0)};function B(I,E){return I.add(P(E))}t.j=function(I){if(M(this)||M(I))return b;if(L(this))return L(I)?P(this).j(P(I)):P(P(this).j(I));if(L(I))return P(this.j(P(I)));if(this.l(A)<0&&I.l(A)<0)return p(this.m()*I.m());const E=this.g.length+I.g.length,C=[];for(var j=0;j<2*E;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let k=0;k<I.g.length;k++){const V=this.i(j)>>>16,D=this.i(j)&65535,Ee=I.i(k)>>>16,Pe=I.i(k)&65535;C[2*j+2*k]+=D*Pe,F(C,2*j+2*k),C[2*j+2*k+1]+=V*Pe,F(C,2*j+2*k+1),C[2*j+2*k+1]+=D*Ee,F(C,2*j+2*k+1),C[2*j+2*k+2]+=V*Ee,F(C,2*j+2*k+2)}for(I=0;I<E;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=E;I<2*E;I++)C[I]=0;return new u(C,0)};function F(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function K(I,E){this.g=I,this.h=E}function J(I,E){if(M(E))throw Error("division by zero");if(M(I))return new K(b,b);if(L(I))return E=J(P(I),E),new K(P(E.g),P(E.h));if(L(E))return E=J(I,P(E)),new K(P(E.g),E.h);if(I.g.length>30){if(L(I)||L(E))throw Error("slowDivide_ only works with positive integers.");for(var C=_,j=E;j.l(I)<=0;)C=ee(C),j=ee(j);var k=re(C,1),V=re(j,1);for(j=re(j,2),C=re(C,2);!M(j);){var D=V.add(j);D.l(I)<=0&&(k=k.add(C),V=D),j=re(j,1),C=re(C,1)}return E=B(I,k.j(E)),new K(k,E)}for(k=b;I.l(E)>=0;){for(C=Math.max(1,Math.floor(I.m()/E.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),V=p(C),D=V.j(E);L(D)||D.l(I)>0;)C-=j,V=p(C),D=V.j(E);M(V)&&(V=_),k=k.add(V),I=B(I,D)}return new K(k,I)}t.B=function(I){return J(this,I).h},t.and=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<E;j++)C[j]=this.i(j)&I.i(j);return new u(C,this.h&I.h)},t.or=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<E;j++)C[j]=this.i(j)|I.i(j);return new u(C,this.h|I.h)},t.xor=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<E;j++)C[j]=this.i(j)^I.i(j);return new u(C,this.h^I.h)};function ee(I){const E=I.g.length+1,C=[];for(let j=0;j<E;j++)C[j]=I.i(j)<<1|I.i(j-1)>>>31;return new u(C,I.h)}function re(I,E){const C=E>>5;E%=32;const j=I.g.length-C,k=[];for(let V=0;V<j;V++)k[V]=E>0?I.i(V+C)>>>E|I.i(V+C+1)<<32-E:I.i(V+C);return new u(k,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,GA=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Vr=u}).apply(typeof HT<"u"?HT:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $A,kc,KA,Cd,u0,YA,QA,XA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(h,x){if(x)e:{var w=i;h=h.split(".");for(var N=0;N<h.length-1;N++){var q=h[N];if(!(q in w))break e;w=w[q]}h=h[h.length-1],N=w[h],x=x(N),x!=N&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var w=[],N;for(N in x)Object.prototype.hasOwnProperty.call(x,N)&&w.push([N,x[N]]);return w}});var l=l||{},u=this||self;function d(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function m(h,x,w){return h.call.apply(h.bind,arguments)}function p(h,x,w){return p=m,p.apply(null,arguments)}function v(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function b(h,x){function w(){}w.prototype=x.prototype,h.Z=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(N,q,X){for(var ce=Array(arguments.length-2),je=2;je<arguments.length;je++)ce[je-2]=arguments[je];return x.prototype[q].apply(N,ce)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const x=h.length;if(x>0){const w=Array(x);for(let N=0;N<x;N++)w[N]=h[N];return w}return[]}function M(h,x){for(let N=1;N<arguments.length;N++){const q=arguments[N];var w=typeof q;if(w=w!="object"?w:q?Array.isArray(q)?"array":w:"null",w=="array"||w=="object"&&typeof q.length=="number"){w=h.length||0;const X=q.length||0;h.length=w+X;for(let ce=0;ce<X;ce++)h[w+ce]=q[ce]}else h.push(q)}}class L{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function P(h){u.setTimeout(()=>{throw h},0)}function B(){var h=I;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,w){const N=K.get();N.set(x,w),this.h?this.h.next=N:this.g=N,this.h=N}}var K=new L(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,re=!1,I=new F,E=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(C)}};function C(){for(var h;h=B();){try{h.h.call(h.g)}catch(w){P(w)}var x=K;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}re=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,x),u.removeEventListener("test",w,x)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Ee(h,x){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(Ee,k),Ee.prototype.init=function(h,x){const w=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(h,x,w,N,q){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!N,this.ha=q,this.key=++Q,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ae(h,x,w){for(const N in h)x.call(w,h[N],N,h)}function Ve(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function U(h){const x={};for(const w in h)x[w]=h[w];return x}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,x){let w,N;for(let q=1;q<arguments.length;q++){N=arguments[q];for(w in N)h[w]=N[w];for(let X=0;X<te.length;X++)w=te[X],Object.prototype.hasOwnProperty.call(N,w)&&(h[w]=N[w])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,x,w,N,q){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ce=Re(h,x,N,q);return ce>-1?(x=h[ce],w||(x.fa=!1)):(x=new oe(x,this.src,X,!!N,q),x.fa=w,h.push(x)),x};function Te(h,x){const w=x.type;if(w in h.g){var N=h.g[w],q=Array.prototype.indexOf.call(N,x,void 0),X;(X=q>=0)&&Array.prototype.splice.call(N,q,1),X&&(fe(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Re(h,x,w,N){for(let q=0;q<h.length;++q){const X=h[q];if(!X.da&&X.listener==x&&X.capture==!!w&&X.ha==N)return q}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Ce={};function Le(h,x,w,N,q){if(Array.isArray(x)){for(let X=0;X<x.length;X++)Le(h,x[X],w,N,q);return null}return w=Tl(w),h&&h[Pe]?h.J(x,w,d(N)?!!N.capture:!1,q):Qt(h,x,w,!1,N,q)}function Qt(h,x,w,N,q,X){if(!x)throw Error("Invalid event type");const ce=d(q)?!!q.capture:!!q;let je=Yr(h);if(je||(h[le]=je=new de(h)),w=je.add(x,w,N,ce,X),w.proxy)return w;if(N=Rs(),w.proxy=N,N.src=h,N.listener=w,h.addEventListener)V||(q=ce),q===void 0&&(q=!1),h.addEventListener(x.toString(),N,q);else if(h.attachEvent)h.attachEvent(Xt(x.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Rs(){function h(w){return x.call(h.src,h.listener,w)}const x=os;return h}function li(h,x,w,N,q){if(Array.isArray(x))for(var X=0;X<x.length;X++)li(h,x[X],w,N,q);else N=d(N)?!!N.capture:!!N,w=Tl(w),h&&h[Pe]?(h=h.i,X=String(x).toString(),X in h.g&&(x=h.g[X],w=Re(x,w,N,q),w>-1&&(fe(x[w]),Array.prototype.splice.call(x,w,1),x.length==0&&(delete h.g[X],h.h--)))):h&&(h=Yr(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Re(x,w,N,q)),(w=h>-1?x[h]:null)&&ci(w))}function ci(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Pe])Te(x.i,h);else{var w=h.type,N=h.proxy;x.removeEventListener?x.removeEventListener(w,N,h.capture):x.detachEvent?x.detachEvent(Xt(w),N):x.addListener&&x.removeListener&&x.removeListener(N),(w=Yr(x))?(Te(w,h),w.h==0&&(w.src=null,x[le]=null)):fe(h)}}}function Xt(h){return h in Ce?Ce[h]:Ce[h]="on"+h}function os(h,x){if(h.da)h=!0;else{x=new Ee(x,this);const w=h.listener,N=h.ha||h.src;h.fa&&ci(h),h=w.call(N,x)}return h}function Yr(h){return h=h[le],h instanceof de?h:null}var _l="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tl(h){return typeof h=="function"?h:(h[_l]||(h[_l]=function(x){return h.handleEvent(x)}),h[_l])}function At(){j.call(this),this.i=new de(this),this.M=this,this.G=null}b(At,j),At.prototype[Pe]=!0,At.prototype.removeEventListener=function(h,x,w,N){li(this,h,x,w,N)};function Ut(h,x){var w,N=h.G;if(N)for(w=[];N;N=N.G)w.push(N);if(h=h.M,N=x.type||x,typeof x=="string")x=new k(x,h);else if(x instanceof k)x.target=x.target||h;else{var q=x;x=new k(N,h),ue(x,q)}q=!0;let X,ce;if(w)for(ce=w.length-1;ce>=0;ce--)X=x.g=w[ce],q=$i(X,N,!0,x)&&q;if(X=x.g=h,q=$i(X,N,!0,x)&&q,q=$i(X,N,!1,x)&&q,w)for(ce=0;ce<w.length;ce++)X=x.g=w[ce],q=$i(X,N,!1,x)&&q}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const w=h.g[x];for(let N=0;N<w.length;N++)fe(w[N]);delete h.g[x],h.h--}}this.G=null},At.prototype.J=function(h,x,w,N){return this.i.add(String(h),x,!1,w,N)},At.prototype.K=function(h,x,w,N){return this.i.add(String(h),x,!0,w,N)};function $i(h,x,w,N){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let q=!0;for(let X=0;X<x.length;++X){const ce=x[X];if(ce&&!ce.da&&ce.capture==w){const je=ce.listener,Tt=ce.ha||ce.src;ce.fa&&Te(h.i,ce),q=je.call(Tt,N)!==!1&&q}}return q&&!N.defaultPrevented}function Gf(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(h,x||0)}function Au(h){h.g=Gf(()=>{h.g=null,h.i&&(h.i=!1,Au(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class pn extends j{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(h){j.call(this),this.h=h,this.g={}}b(Qr,j);var wl=[];function El(h){Ae(h.g,function(x,w){this.g.hasOwnProperty(w)&&ci(x)},h),h.g={}}Qr.prototype.N=function(){Qr.Z.N.call(this),El(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ki=u.JSON.stringify,$f=u.JSON.parse,Cu=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Nu(){}function Ru(){}var ls={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){k.call(this,"d")}b(Wt,k);function Fn(){k.call(this,"c")}b(Fn,k);var _t={},ku=null;function qa(){return ku=ku||new At}_t.Ia="serverreachability";function Iu(h){k.call(this,_t.Ia,h)}b(Iu,k);function ks(h){const x=qa();Ut(x,new Iu(x))}_t.STAT_EVENT="statevent";function Xr(h,x){k.call(this,_t.STAT_EVENT,h),this.stat=x}b(Xr,k);function Ct(h){const x=qa();Ut(x,new Xr(x,h))}_t.Ja="timingevent";function Is(h,x){k.call(this,_t.Ja,h),this.size=x}b(Is,k);function Ds(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},x)}function cs(){this.g=!0}cs.prototype.ua=function(){this.g=!1};function Kf(h,x,w,N,q,X){h.info(function(){if(h.g)if(X){var ce="",je=X.split("&");for(let Xe=0;Xe<je.length;Xe++){var Tt=je[Xe].split("=");if(Tt.length>1){const dt=Tt[0];Tt=Tt[1];const $n=dt.split("_");ce=$n.length>=2&&$n[1]=="type"?ce+(dt+"="+Tt+"&"):ce+(dt+"=redacted&")}}}else ce=null;else ce=X;return"XMLHTTP REQ ("+N+") [attempt "+q+"]: "+x+`
`+w+`
`+ce})}function Du(h,x,w,N,q,X,ce){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+q+"]: "+x+`
`+w+`
`+X+" "+ce})}function js(h,x,w,N){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Yf(h,w)+(N?" "+N:"")})}function Wr(h,x){h.info(function(){return"TIMEOUT: "+x})}cs.prototype.info=function(){};function Yf(h,x){if(!h.g)return x;if(!x)return null;try{const X=JSON.parse(x);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var w=X[h];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var q=N[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ce=1;ce<N.length;ce++)N[ce]=""}}}}return Ki(X)}catch{return x}}var Jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Al;function Zr(){}b(Zr,Nu),Zr.prototype.g=function(){return new XMLHttpRequest},Al=new Zr;function ui(h){return encodeURIComponent(String(h))}function ju(h){var x=1;h=h.split(":");const w=[];for(;x>0&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function us(h,x,w,N){this.j=h,this.i=x,this.l=w,this.S=N||1,this.V=new Qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hs}function hs(){this.i=null,this.g="",this.h=!1}var Nt={},qt={};function Ms(h,x,w){h.M=1,h.A=ea(kt(x)),h.u=w,h.R=!0,Ga(h,null)}function Ga(h,x){h.F=Date.now(),Vs(h),h.B=kt(h.A);var w=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),Qa(w.i,"t",N),h.C=0,w=h.j.L,h.h=new hs,h.g=Yu(h.j,w?x:null,!h.u),h.P>0&&(h.O=new pn(p(h.Y,h,h.g),h.P)),x=h.V,w=h.g,N=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(wl[0]=q.toString()),q=wl);for(let X=0;X<q.length;X++){const ce=Le(w,q[X],N||x.handleEvent,!1,x.h||x);if(!ce)break;x.g[ce.key]=ce}x=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),ks(),Kf(h.i,h.v,h.B,h.l,h.S,h.u)}us.prototype.ba=function(h){h=h.target;const x=this.O;x&&ms(h)==3?x.j():this.Y(h)},us.prototype.Y=function(h){try{if(h==this.g)e:{const je=ms(this.g),Tt=this.g.ya(),Xe=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||je!=4||Tt==7||(Tt==8||Xe<=0?ks(3):ks(2)),Os(this);var x=this.g.ca();this.X=x;var w=Qf(this);if(this.o=x==200,Du(this.i,this.v,this.B,this.l,this.S,je,x),this.o){if(this.U&&!this.L){t:{if(this.g){var N,q=this.g;if((N=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(N)){var X=N;break t}}X=null}if(h=X)js(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ps(this,h);else{this.o=!1,this.m=3,Ct(12),In(this),Hn(this);break e}}if(this.R){h=!0;let dt;for(;!this.K&&this.C<w.length;)if(dt=Vu(this,w),dt==qt){je==4&&(this.m=4,Ct(14),h=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Nt){this.m=4,Ct(15),js(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else js(this.i,this.l,dt,null),Ps(this,dt);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||w.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)js(this.i,this.l,w,"[Invalid Chunked Response]"),In(this),Hn(this);else if(w.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Bl(ce),ce.P=!0,Ct(11))}}else js(this.i,this.l,w,null),Ps(this,w);je==4&&In(this),this.o&&!this.K&&(je==4?qu(this.j,this):(this.o=!1,Vs(this)))}else di(this.g),x==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),In(this),Hn(this)}}}catch{}};function Qf(h){if(!Mu(h))return h.g.la();const x=Jt(h.g);if(x==="")return"";let w="";const N=x.length,q=ms(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return In(h),Hn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<N;X++)h.h.h=!0,w+=h.h.i.decode(x[X],{stream:!(q&&X==N-1)});return x.length=0,h.h.g+=w,h.C=0,h.h.g}function Mu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Vu(h,x){var w=h.C,N=x.indexOf(`
`,w);return N==-1?qt:(w=Number(x.substring(w,N)),isNaN(w)?Nt:(N+=1,N+w>x.length?qt:(x=x.slice(N,N+w),h.C=N+w,x)))}us.prototype.cancel=function(){this.K=!0,In(this)};function Vs(h){h.T=Date.now()+h.H,$a(h,h.H)}function $a(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ds(p(h.aa,h),x)}function Os(h){h.D&&(u.clearTimeout(h.D),h.D=null)}us.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Wr(this.i,this.B),this.M!=2&&(ks(),Ct(17)),In(this),this.m=2,Hn(this)):$a(this,this.T-h)};function Hn(h){h.j.I==0||h.K||qu(h.j,h)}function In(h){Os(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,El(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Ps(h,x){try{var w=h.j;if(w.I!=0&&(w.g==h||Us(w.h,h))){if(!h.L&&Us(w.h,h)&&w.I==3){try{var N=w.Ba.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var q=N;if(q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)eo(w),tr(w);else break e;oa(w),Ct(18)}}else w.xa=q[1],0<w.xa-w.K&&q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Ds(p(w.Va,w),6e3));Ls(w.h)<=1&&w.ta&&(w.ta=void 0)}else Gs(w,11)}else if((h.L||w.g==h)&&eo(w),!D(x))for(q=w.Ba.g.parse(x),x=0;x<q.length;x++){let Xe=q[x];const dt=Xe[0];if(!(dt<=w.K))if(w.K=dt,Xe=Xe[1],w.I==2)if(Xe[0]=="c"){w.M=Xe[1],w.ba=Xe[2];const $n=Xe[3];$n!=null&&(w.ka=$n,w.j.info("VER="+w.ka));const $s=Xe[4];$s!=null&&(w.za=$s,w.j.info("SVER="+w.za));const ps=Xe[5];ps!=null&&typeof ps=="number"&&ps>0&&(N=1.5*ps,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const gs=h.g;if(gs){const la=gs.g?gs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var X=N.h;X.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Rl(X,X.h),X.h=null))}if(N.G){const to=gs.g?gs.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(N.wa=to,Ze(N.J,N.G,to))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var ce=h;if(N.na=Ku(N,N.L?N.ba:null,N.W),ce.L){kl(N.h,ce);var je=ce,Tt=N.O;Tt&&(je.H=Tt),je.D&&(Os(je),Vs(je)),N.g=ce}else Fu(N);w.i.length>0&&qs(w)}else Xe[0]!="stop"&&Xe[0]!="close"||Gs(w,7);else w.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Gs(w,7):Ul(w):Xe[0]!="noop"&&w.l&&w.l.qa(Xe),w.A=0)}}ks(4)}catch{}}var Rt=class{constructor(h,x){this.g=h,this.map=x}};function Cl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ls(h){return h.h?1:h.g?h.g.size:0}function Us(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Rl(h,x){h.g?h.g.add(x):h.h=x}function kl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Cl.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Il(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.G);return x}return A(h.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(h,x){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const N=h[w].indexOf("=");let q,X=null;N>=0?(q=h[w].substring(0,N),X=h[w].substring(N+1)):q=h[w],x(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Dn?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,Yi(this,h.u),this.h=h.h,Dl(this,zu(h.i)),this.m=h.m):h&&(x=String(h).match(Ou))?(this.l=!1,Gt(this,x[1]||"",!0),this.o=zs(x[2]||""),this.g=zs(x[3]||"",!0),Yi(this,x[4]),this.h=zs(x[5]||"",!0),Dl(this,x[6]||"",!0),this.m=zs(x[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}Dn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(ta(x,Ya,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(ta(x,Ya,!0),"@"),h.push(ui(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(ta(w,w.charAt(0)=="/"?jl:Pu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",ta(w,Lu)),h.join("")},Dn.prototype.resolve=function(h){const x=kt(this);let w=!!h.j;w?Gt(x,h.j):w=!!h.o,w?x.o=h.o:w=!!h.g,w?x.g=h.g:w=h.u!=null;var N=h.h;if(w)Yi(x,h.u);else if(w=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var q=x.h.lastIndexOf("/");q!=-1&&(N=x.h.slice(0,q+1)+N)}if(q=N,q==".."||q==".")N="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){N=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let ce=0;ce<q.length;){const je=q[ce++];je=="."?N&&ce==q.length&&X.push(""):je==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),N&&ce==q.length&&X.push("")):(X.push(je),N=!0)}N=X.join("/")}else N=q}return w?x.h=N:w=h.i.toString()!=="",w?Dl(x,zu(h.i)):w=!!h.m,w&&(x.m=h.m),x};function kt(h){return new Dn(h)}function Gt(h,x,w){h.j=w?zs(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Yi(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Dl(h,x,w){x instanceof Xi?(h.i=x,Xa(h.i,h.l)):(w||(x=ta(x,Qi)),h.i=new Xi(x,h.l))}function Ze(h,x,w){h.i.set(x,w)}function ea(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function zs(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ta(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,_n),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _n(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ya=/[#\/\?@]/g,Pu=/[#\?:]/g,jl=/[#\?]/g,Qi=/[#\?@]/g,Lu=/#/g;function Xi(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Tn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ka(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}t=Xi.prototype,t.add=function(h,x){Tn(this),this.i=null,h=Wi(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function Uu(h,x){Tn(h),x=Wi(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Ml(h,x){return Tn(h),x=Wi(h,x),h.g.has(x)}t.forEach=function(h,x){Tn(this),this.g.forEach(function(w,N){w.forEach(function(q){h.call(x,q,N,this)},this)},this)};function Vl(h,x){Tn(h);let w=[];if(typeof x=="string")Ml(h,x)&&(w=w.concat(h.g.get(Wi(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)w=w.concat(h[x]);return w}t.set=function(h,x){return Tn(this),this.i=null,h=Wi(this,h),Ml(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=Vl(this,h),h.length>0?String(h[0]):x):x};function Qa(h,x,w){Uu(h,x),w.length>0&&(h.i=null,h.g.set(Wi(h,x),A(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let N=0;N<x.length;N++){var w=x[N];const q=ui(w);w=Vl(this,w);for(let X=0;X<w.length;X++){let ce=q;w[X]!==""&&(ce+="="+ui(w[X])),h.push(ce)}}return this.i=h.join("&")};function zu(h){const x=new Xi;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function Wi(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function Xa(h,x){x&&!h.j&&(Tn(h),h.i=null,h.g.forEach(function(w,N){const q=N.toLowerCase();N!=q&&(Uu(this,N),Qa(this,q,w))},h)),h.j=x}function ds(h,x){const w=new cs;if(u.Image){const N=new Image;N.onload=v(qn,w,"TestLoadImage: loaded",!0,x,N),N.onerror=v(qn,w,"TestLoadImage: error",!1,x,N),N.onabort=v(qn,w,"TestLoadImage: abort",!1,x,N),N.ontimeout=v(qn,w,"TestLoadImage: timeout",!1,x,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else x(!1)}function Ol(h,x){const w=new cs,N=new AbortController,q=setTimeout(()=>{N.abort(),qn(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:N.signal}).then(X=>{clearTimeout(q),X.ok?qn(w,"TestPingServer: ok",!0,x):qn(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(q),qn(w,"TestPingServer: error",!1,x)})}function qn(h,x,w,N,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),N(w)}catch{}}function Ji(){this.g=new Cu}function Bs(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Bs,Nu),Bs.prototype.g=function(){return new na(this.i,this.h)};function na(h,x){At.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(na,At),t=na.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,fs(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fs(this)),this.g&&(this.readyState=3,fs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Zi(this):fs(this),this.readyState==3&&Wa(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Zi(this))},t.Na=function(h){this.g&&(this.response=h,Zi(this))},t.ga=function(){this.g&&Zi(this)};function Zi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,fs(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function fs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gn(h){let x="";return Ae(h,function(w,N){x+=N,x+=":",x+=w,x+=`\r
`}),x}function sa(h,x,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=Gn(w),typeof h=="string"?w!=null&&ui(w):Ze(h,x,w))}function nt(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(nt,At);var Fs=/^https?$/i,Pl=["POST","PUT"];t=nt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Al.g(),this.g.onreadystatechange=_(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(X){ia(this,X);return}if(h=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var q in N)w.set(q,N[q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const X of N.keys())w.set(X,N.get(X));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Pl,x,void 0)>=0)||N||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of w)this.g.setRequestHeader(X,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ia(this,X)}};function ia(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Ll(h),hi(h)}function Ll(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),hi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ra(this):this.Xa())},t.Xa=function(){ra(this)};function ra(h){if(h.h&&typeof l<"u"){if(h.v&&ms(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),ms(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var N;if(N=X===0){let ce=String(h.D).match(Ou)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),N=!Fs.test(ce?ce.toLowerCase():"")}w=N}if(w)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var q=ms(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Ll(h)}}finally{hi(h)}}}}function hi(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,x||Ut(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ms(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ms(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),$f(x)}};function Jt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function di(h){const x={};h=(h.g&&ms(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(D(h[N]))continue;var w=ju(h[N]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=x[q]||[];x[q]=X,X.push(w)}Ve(x,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function er(h){this.za=0,this.i=[],this.j=new cs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hs("baseRetryDelayMs",5e3,h),this.Za=Hs("retryDelaySeedMs",1e4,h),this.Ta=Hs("forwardChannelMaxRetries",2,h),this.va=Hs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(h&&h.concurrentRequestLimit),this.Ba=new Ji,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=er.prototype,t.ka=8,t.I=1,t.connect=function(h,x,w,N){Ct(0),this.W=h,this.H=x||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=Ku(this,null,this.W),qs(this)};function Ul(h){if(Ja(h),h.I==3){var x=h.V++,w=kt(h.J);if(Ze(w,"SID",h.M),Ze(w,"RID",x),Ze(w,"TYPE","terminate"),aa(h,w),x=new us(h,h.j,x),x.M=2,x.A=ea(kt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=x.A,w=!0),w||(x.g=Yu(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Vs(x)}$u(h)}function tr(h){h.g&&(Bl(h),h.g.cancel(),h.g=null)}function Ja(h){tr(h),h.v&&(u.clearTimeout(h.v),h.v=null),eo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function qs(h){if(!Nl(h.h)&&!h.m){h.m=!0;var x=h.Ea;ee||E(),re||(ee(),re=!0),I.add(x,h),h.D=0}}function Za(h,x){return Ls(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ds(p(h.Ea,h,x),Gu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new us(this,this.j,h);let X=this.o;if(this.U&&(X?(X=U(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,x>4096){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=Bu(this,q,x),w=kt(this.J),Ze(w,"RID",h),Ze(w,"CVER",22),this.G&&Ze(w,"X-HTTP-Session-Id",this.G),aa(this,w),X&&(this.R?x="headers="+ui(Gn(X))+"&"+x:this.u&&sa(w,this.u,X)),Rl(this.h,q),this.Ra&&Ze(w,"TYPE","init"),this.S?(Ze(w,"$req",x),Ze(w,"SID","null"),q.U=!0,Ms(q,w,null)):Ms(q,w,x),this.I=2}}else this.I==3&&(h?zl(this,h):this.i.length==0||Nl(this.h)||zl(this))};function zl(h,x){var w;x?w=x.l:w=h.V++;const N=kt(h.J);Ze(N,"SID",h.M),Ze(N,"RID",w),Ze(N,"AID",h.K),aa(h,N),h.u&&h.o&&sa(N,h.u,h.o),w=new us(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),x&&(h.i=x.G.concat(h.i)),x=Bu(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Rl(h.h,w),Ms(w,N,x)}function aa(h,x){h.H&&Ae(h.H,function(w,N){Ze(x,N,w)}),h.l&&Ae({},function(w,N){Ze(x,N,w)})}function Bu(h,x,w){w=Math.min(h.i.length,w);const N=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let je=-1;for(;;){const Tt=["count="+w];je==-1?w>0?(je=q[0].g,Tt.push("ofs="+je)):je=0:Tt.push("ofs="+je);let Xe=!0;for(let dt=0;dt<w;dt++){var X=q[dt].g;const $n=q[dt].map;if(X-=je,X<0)je=Math.max(0,q[dt].g-100),Xe=!1;else try{X="req"+X+"_"||"";try{var ce=$n instanceof Map?$n:Object.entries($n);for(const[$s,ps]of ce){let gs=ps;d(ps)&&(gs=Ki(ps)),Tt.push(X+$s+"="+encodeURIComponent(gs))}}catch($s){throw Tt.push(X+"type="+encodeURIComponent("_badmap")),$s}}catch{N&&N($n)}}if(Xe){ce=Tt.join("&");break e}}ce=void 0}return h=h.i.splice(0,w),x.G=h,ce}function Fu(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;ee||E(),re||(ee(),re=!0),I.add(x,h),h.A=0}}function oa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ds(p(h.Da,h),Gu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ds(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),tr(this),Hu(this))};function Bl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Hu(h){h.g=new us(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=kt(h.na);Ze(x,"RID","rpc"),Ze(x,"SID",h.M),Ze(x,"AID",h.K),Ze(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(x,"TO",h.ia),Ze(x,"TYPE","xmlhttp"),aa(h,x),h.u&&h.o&&sa(x,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=ea(kt(x)),w.u=null,w.R=!0,Ga(w,h)}t.Va=function(){this.C!=null&&(this.C=null,tr(this),oa(this),Ct(19))};function eo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function qu(h,x){var w=null;if(h.g==x){eo(h),Bl(h),h.g=null;var N=2}else if(Us(h.h,x))w=x.G,kl(h.h,x),N=1;else return;if(h.I!=0){if(x.o)if(N==1){w=x.u?x.u.length:0,x=Date.now()-x.F;var q=h.D;N=qa(),Ut(N,new Is(N,w)),qs(h)}else Fu(h);else if(q=x.m,q==3||q==0&&x.X>0||!(N==1&&Za(h,x)||N==2&&oa(h)))switch(w&&w.length>0&&(x=h.h,x.i=x.i.concat(w)),q){case 1:Gs(h,5);break;case 4:Gs(h,10);break;case 3:Gs(h,6);break;default:Gs(h,2)}}}function Gu(h,x){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*x}function Gs(h,x){if(h.j.info("Error code "+x),x==2){var w=p(h.bb,h),N=h.Ua;const q=!N;N=new Dn(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Gt(N,"https"),ea(N),q?ds(N.toString(),w):Ol(N.toString(),w)}else Ct(2);h.I=0,h.l&&h.l.pa(x),$u(h),Ja(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function $u(h){if(h.I=0,h.ja=[],h.l){const x=Il(h.h);(x.length!=0||h.i.length!=0)&&(M(h.ja,x),M(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function Ku(h,x,w){var N=w instanceof Dn?kt(w):new Dn(w);if(N.g!="")x&&(N.g=x+"."+N.g),Yi(N,N.u);else{var q=u.location;N=q.protocol,x=x?x+"."+q.hostname:q.hostname,q=+q.port;const X=new Dn(null);N&&Gt(X,N),x&&(X.g=x),q&&Yi(X,q),w&&(X.h=w),N=X}return w=h.G,x=h.wa,w&&x&&Ze(N,w,x),Ze(N,"VER",h.ka),aa(h,N),N}function Yu(h,x,w){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new nt(new Bs({ab:w})):new nt(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}t=Qu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function nr(){}nr.prototype.g=function(h,x){return new gn(h,x)};function gn(h,x){At.call(this),this.g=new er(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!D(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!D(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new fi(this)}b(gn,At),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Ul(this.g)},gn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Ki(h),h=w);x.i.push(new Rt(x.Ya++,h)),x.I==3&&qs(x)},gn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,gn.Z.N.call(this)};function Xu(h){Wt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(Xu,Wt);function Wu(){Fn.call(this),this.status=1}b(Wu,Fn);function fi(h){this.g=h}b(fi,Qu),fi.prototype.ra=function(){Ut(this.g,"a")},fi.prototype.qa=function(h){Ut(this.g,new Xu(h))},fi.prototype.pa=function(h){Ut(this.g,new Wu)},fi.prototype.oa=function(){Ut(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,XA=function(){return new nr},QA=function(){return qa()},YA=_t,u0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,Cd=Jr,Sl.COMPLETE="complete",KA=Sl,Ru.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",At.prototype.listen=At.prototype.J,kc=Ru,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,$A=nt}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let pl="12.9.0";function KV(t){pl=t}const La=new gy("@firebase/firestore");function jo(){return La.logLevel}function me(t,...e){if(La.logLevel<=He.DEBUG){const n=e.map(Ry);La.debug(`Firestore (${pl}): ${t}`,...n)}}function Ui(t,...e){if(La.logLevel<=He.ERROR){const n=e.map(Ry);La.error(`Firestore (${pl}): ${t}`,...n)}}function Ua(t,...e){if(La.logLevel<=He.WARN){const n=e.map(Ry);La.warn(`Firestore (${pl}): ${t}`,...n)}}function Ry(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,WA(t,i,n)}function WA(t,e,n){let i=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ui(i),new Error(i)}function Je(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||WA(e,a,i)}function De(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class JA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class QV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XV{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string",31837,{l:i}),new JA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class WV{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class JV{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new WV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ts(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class ky{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=eO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function qe(t,e){return t<e?-1:t>e?1:0}function h0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Tg(a)===Tg(l)?qe(a,l):Tg(a)?1:-1}return qe(t.length,e.length)}const tO=55296,nO=57343;function Tg(t){const e=t.charCodeAt(0);return e>=tO&&e<=nO}function Jo(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const GT="__name__";class Zs{constructor(e,n,i){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Se(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zs?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Zs.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const i=Zs.isNumericId(e),a=Zs.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Zs.extractNumericId(e).compare(Zs.extractNumericId(n)):h0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class ot extends Zs{construct(e,n,i){return new ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const sO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Zs{construct(e,n,i){return new an(e,n,i)}static isValidIdentifier(e){return sO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GT}static keyField(){return new an([GT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new he(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(l(),a++)}if(l(),u)throw new he(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}function ZA(t,e,n){if(!n)throw new he(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iO(t,e,n,i){if(e===!0&&i===!0)throw new he(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $T(t){if(!_e.isDocumentKey(t))throw new he(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KT(t){if(_e.isDocumentKey(t))throw new he(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function e2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sf(t);throw new he(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function rO(t,e){if(e<=0)throw new he(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function vu(t,e){if(!e2(t))throw new he(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new he(se.INVALID_ARGUMENT,n);return!0}const YT=-62135596800,QT=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*QT);return new ht(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YT)throw new he(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QT}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-YT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Lt("string",ht._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new ht(0,0))}static max(){return new ke(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jc=-1;function aO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(i===1e9?new ht(n+1,0):new ht(n,i));return new Ur(a,_e.empty(),e)}function oO(t){return new Ur(t.readTime,t.key,Jc)}class Ur{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ur(ke.min(),_e.empty(),Jc)}static max(){return new Ur(ke.max(),_e.empty(),Jc)}}function lO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}const cO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==cO)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,i)=>{n(e)}))}static reject(e){return new ae(((n,i)=>{i(e)}))}static waitFor(e){return new ae(((n,i)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>i(m)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next((a=>a?ae.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ae(((i,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{u[p]=v,++d,d===l&&i(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new ae(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function hO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}class Af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Af.ce=-1;const Iy=-1;function Cf(t){return t==null}function Wd(t){return t===0&&1/t==-1/0}function dO(t){return typeof t=="number"&&Number.isInteger(t)&&!Wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const t2="";function fO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=XT(e)),e=mO(t.get(n),e);return XT(e)}function mO(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case t2:n+="";break;default:n+=l}}return n}function XT(t){return t+t2+""}function WT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ld(this.root,e,this.comparator,!0)}}class ld{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new rn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JT(this.data.getIterator())}getIteratorFrom(e){return new JT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class JT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ht(an.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class s2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new s2("Invalid base64 string: "+l):l}})(e);return new on(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const pO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const n=pO.exec(t);if(Je(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}const i2="server_timestamp",r2="__type__",a2="__previous_value__",o2="__local_write_time__";function Dy(t){return(t?.mapValue?.fields||{})[r2]?.stringValue===i2}function Nf(t){const e=t.mapValue.fields[a2];return Dy(e)?Nf(e):e}function Zc(t){const e=zr(t.mapValue.fields[o2].timestampValue);return new ht(e.seconds,e.nanos)}class gO{constructor(e,n,i,a,l,u,d,m,p,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=b}}const Jd="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||Jd}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}function yO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new he(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(t.options.projectId,e)}const l2="__type__",vO="__max__",cd={mapValue:{}},c2="__vector__",Zd="value";function Fr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dy(t)?4:xO(t)?9007199254740991:bO(t)?10:11:Se(28295,{value:t})}function oi(t,e){if(t===e)return!0;const n=Fr(t);if(n!==Fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=zr(a.timestampValue),d=zr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Br(a.bytesValue).isEqual(Br(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=St(a.doubleValue),d=St(l.doubleValue);return u===d?Wd(u)===Wd(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(WT(u)!==WT(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!oi(u[m],d[m])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function tu(t,e){return(t.values||[]).find((n=>oi(n,e)))!==void 0}function Zo(t,e){if(t===e)return 0;const n=Fr(t),i=Fr(e);if(n!==i)return qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=St(l.integerValue||l.doubleValue),m=St(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return ZT(t.timestampValue,e.timestampValue);case 4:return ZT(Zc(t),Zc(e));case 5:return h0(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=Br(l),m=Br(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=qe(d[p],m[p]);if(v!==0)return v}return qe(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=qe(St(l.latitude),St(u.latitude));return d!==0?d:qe(St(l.longitude),St(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ew(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},p=d[Zd]?.arrayValue,v=m[Zd]?.arrayValue,b=qe(p?.values?.length||0,v?.values?.length||0);return b!==0?b:ew(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===cd.mapValue&&u===cd.mapValue)return 0;if(l===cd.mapValue)return 1;if(u===cd.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const _=h0(m[b],v[b]);if(_!==0)return _;const A=Zo(d[m[b]],p[v[b]]);if(A!==0)return A}return qe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function ZT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=zr(t),i=zr(e),a=qe(n.seconds,i.seconds);return a!==0?a:qe(n.nanos,i.nanos)}function ew(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Zo(n[a],i[a]);if(l)return l}return qe(n.length,i.length)}function el(t){return d0(t)}function d0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=zr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Br(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=d0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${d0(n.fields[u])}`;return a+"}"})(t.mapValue):Se(61005,{value:t})}function Nd(t){switch(Fr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nf(t);return e?16+Nd(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Nd(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return $r(i.fields,((l,u)=>{a+=l.length+Nd(u)})),a})(t.mapValue);default:throw Se(13486,{value:t})}}function tw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function f0(t){return!!t&&"integerValue"in t}function jy(t){return!!t&&"arrayValue"in t}function nw(t){return!!t&&"nullValue"in t}function sw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rd(t){return!!t&&"mapValue"in t}function bO(t){return(t?.mapValue?.fields||{})[l2]?.stringValue===c2}function zc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $r(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=zc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zc(t.arrayValue.values[n]);return e}return{...t}}function xO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vO}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(n)}setAll(e){let n=an.emptyPath(),i={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=d.popLast()}u?i[d.lastSegment()]=zc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Rd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){$r(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Rn(zc(this.value))}}function u2(t){const e=[];return $r(t.fields,((n,i)=>{const a=new an([n]);if(Rd(i)){const l=u2(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new zn(e)}class dn{constructor(e,n,i,a,l,u,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,ke.min(),ke.min(),ke.min(),Rn.empty(),0)}static newFoundDocument(e,n,i,a){return new dn(e,1,n,ke.min(),i,a,0)}static newNoDocument(e,n){return new dn(e,2,n,ke.min(),ke.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,ke.min(),ke.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ef{constructor(e,n){this.position=e,this.inclusive=n}}function iw(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(u.referenceValue),n.key):i=Zo(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function rw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function _O(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class h2{}class Pt extends h2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new wO(e,n,i):n==="array-contains"?new AO(e,i):n==="in"?new CO(e,i):n==="not-in"?new NO(e,i):n==="array-contains-any"?new RO(e,i):new Pt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new EO(e,i):new SO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zo(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends h2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ns(e,n)}matches(e){return d2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d2(t){return t.op==="and"}function f2(t){return TO(t)&&d2(t)}function TO(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function m0(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+el(t.value);if(f2(t))return t.filters.map((e=>m0(e))).join(",");{const e=t.filters.map((n=>m0(n))).join(",");return`${t.op}(${e})`}}function m2(t,e){return t instanceof Pt?(function(i,a){return a instanceof Pt&&i.op===a.op&&i.field.isEqual(a.field)&&oi(i.value,a.value)})(t,e):t instanceof Ns?(function(i,a){return a instanceof Ns&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,d)=>l&&m2(u,a.filters[d])),!0):!1})(t,e):void Se(19439)}function p2(t){return t instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`})(t):t instanceof Ns?(function(n){return n.op.toString()+" {"+n.getFilters().map(p2).join(" ,")+"}"})(t):"Filter"}class wO extends Pt{constructor(e,n,i){super(e,n,i),this.key=_e.fromName(i.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class EO extends Pt{constructor(e,n){super(e,"in",n),this.keys=g2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SO extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=g2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function g2(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class AO extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jy(n)&&tu(n.arrayValue,this.value)}}class CO extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class NO extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class RO extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>tu(this.value.arrayValue,i)))}}class kO{constructor(e,n=null,i=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function aw(t,e=null,n=[],i=[],a=null,l=null,u=null){return new kO(t,e,n,i,a,l,u)}function My(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>m0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>el(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>el(i))).join(",")),e.Te=n}return e.Te}function Vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_O(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rw(t.startAt,e.startAt)&&rw(t.endAt,e.endAt)}function p0(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class vl{constructor(e,n=null,i=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function IO(t,e,n,i,a,l,u,d){return new vl(t,e,n,i,a,l,u,d)}function Rf(t){return new vl(t)}function ow(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DO(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function y2(t){return t.collectionGroup!==null}function Bc(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ht(an.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new nu(l,i))})),n.has(an.keyField().canonicalString())||e.Ie.push(new nu(an.keyField(),i))}return e.Ie}function ni(t){const e=De(t);return e.Ee||(e.Ee=jO(e,Bc(t))),e.Ee}function jO(t,e){if(t.limitType==="F")return aw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nu(a.field,l)}));const n=t.endAt?new ef(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ef(t.startAt.position,t.startAt.inclusive):null;return aw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function g0(t,e){const n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function MO(t,e){const n=t.explicitOrderBy.concat([e]);return new vl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function tf(t,e,n){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kf(t,e){return Vy(ni(t),ni(e))&&t.limitType===e.limitType}function v2(t){return`${My(ni(t))}|lt:${t.limitType}`}function Mo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>p2(a))).join(", ")}]`),Cf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>el(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>el(a))).join(",")),`Target(${i})`})(ni(t))}; limitType=${t.limitType})`}function If(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of Bc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,d,m){const p=iw(u,d,m);return u.inclusive?p<=0:p<0})(i.startAt,Bc(i),a)||i.endAt&&!(function(u,d,m){const p=iw(u,d,m);return u.inclusive?p>=0:p>0})(i.endAt,Bc(i),a))})(t,e)}function VO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function b2(t){return(e,n)=>{let i=!1;for(const a of Bc(t)){const l=OO(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function OO(t,e,n){const i=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Zo(m,p):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:t.dir})}}class Ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return n2(this.inner)}size(){return this.innerSize}}const PO=new gt(_e.comparator);function zi(){return PO}const x2=new gt(_e.comparator);function Ic(...t){let e=x2;for(const n of t)e=e.insert(n.key,n);return e}function _2(t){let e=x2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ka(){return Fc()}function T2(){return Fc()}function Fc(){return new Ba((t=>t.toString()),((t,e)=>t.isEqual(e)))}const LO=new gt(_e.comparator),UO=new Ht(_e.comparator);function Ge(...t){let e=UO;for(const n of t)e=e.add(n);return e}const zO=new Ht(qe);function BO(){return zO}function Oy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function w2(t){return{integerValue:""+t}}function FO(t,e){return dO(e)?w2(e):Oy(t,e)}class Df{constructor(){this._=void 0}}function HO(t,e,n){return t instanceof su?(function(a,l){const u={fields:{[r2]:{stringValue:i2},[o2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Dy(l)&&(l=Nf(l)),l&&(u.fields[a2]=l),{mapValue:u}})(n,e):t instanceof iu?S2(t,e):t instanceof ru?A2(t,e):(function(a,l){const u=E2(a,l),d=lw(u)+lw(a.Ae);return f0(u)&&f0(a.Ae)?w2(d):Oy(a.serializer,d)})(t,e)}function qO(t,e,n){return t instanceof iu?S2(t,e):t instanceof ru?A2(t,e):n}function E2(t,e){return t instanceof nf?(function(i){return f0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class su extends Df{}class iu extends Df{constructor(e){super(),this.elements=e}}function S2(t,e){const n=C2(e);for(const i of t.elements)n.some((a=>oi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class ru extends Df{constructor(e){super(),this.elements=e}}function A2(t,e){let n=C2(e);for(const i of t.elements)n=n.filter((a=>!oi(a,i)));return{arrayValue:{values:n}}}class nf extends Df{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lw(t){return St(t.integerValue||t.doubleValue)}function C2(t){return jy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class GO{constructor(e,n){this.field=e,this.transform=n}}function $O(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof iu&&a instanceof iu||i instanceof ru&&a instanceof ru?Jo(i.elements,a.elements,oi):i instanceof nf&&a instanceof nf?oi(i.Ae,a.Ae):i instanceof su&&a instanceof su})(t.transform,e.transform)}class KO{constructor(e,n){this.version=e,this.transformResults=n}}class is{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jf{}function N2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Py(t.key,is.none()):new bu(t.key,t.data,is.none());{const n=t.data,i=Rn.empty();let a=new Ht(an.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Kr(t.key,i,new zn(a.toArray()),is.none())}}function YO(t,e,n){t instanceof bu?(function(a,l,u){const d=a.value.clone(),m=uw(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Kr?(function(a,l,u){if(!kd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=uw(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(R2(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Hc(t,e,n,i){return t instanceof bu?(function(l,u,d,m){if(!kd(l.precondition,u))return d;const p=l.value.clone(),v=hw(l.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof Kr?(function(l,u,d,m){if(!kd(l.precondition,u))return d;const p=hw(l.fieldTransforms,m,u),v=u.data;return v.setAll(R2(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,u,d){return kd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function QO(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=E2(i.transform,a||null);l!=null&&(n===null&&(n=Rn.empty()),n.set(i.field,l))}return n||null}function cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Jo(i,a,((l,u)=>$O(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bu extends jf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Kr extends jf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function R2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function uw(t,e,n){const i=new Map;Je(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);i.set(l.field,qO(u,d,n[a]))}return i}function hw(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,HO(l,u,e))}return i}class Py extends jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XO extends jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WO{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&YO(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Hc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Hc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=T2();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=N2(u,d);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,((n,i)=>cw(n,i)))&&Jo(this.baseMutations,e.baseMutations,((n,i)=>cw(n,i)))}}class Ly{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Je(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return LO})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Ly(e,n,i,a)}}class JO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ZO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,Ke;function eP(t){switch(t){case se.OK:return Se(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function k2(t){if(t===void 0)return Ui("GRPC error has no .code"),se.UNKNOWN;switch(t){case Vt.OK:return se.OK;case Vt.CANCELLED:return se.CANCELLED;case Vt.UNKNOWN:return se.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return se.INTERNAL;case Vt.UNAVAILABLE:return se.UNAVAILABLE;case Vt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Vt.NOT_FOUND:return se.NOT_FOUND;case Vt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Vt.ABORTED:return se.ABORTED;case Vt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Vt.DATA_LOSS:return se.DATA_LOSS;default:return Se(39323,{code:t})}}(Ke=Vt||(Vt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function tP(){return new TextEncoder}const nP=new Vr([4294967295,4294967295],0);function dw(t){const e=tP().encode(t),n=new GA;return n.update(e),new Uint8Array(n.digest())}function fw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Vr([n,i],0),new Vr([a,l],0)]}class Uy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Dc(`Invalid padding: ${n}`);if(i<0)throw new Dc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Vr.fromNumber(i)));return a.compare(nP)===1&&(a=new Vr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=dw(e),[i,a]=fw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Uy(l,a,n);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=dw(e),[i,a]=fw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Mf(ke.min(),a,new gt(qe),zi(),Ge())}}class xu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new xu(i,n,Ge(),Ge(),Ge())}}class Id{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class I2{constructor(e,n){this.targetId=e,this.Ce=n}}class D2{constructor(e,n,i=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class mw{constructor(){this.ve=0,this.Fe=pw(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),i=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Se(38017,{changeType:l})}})),new xu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=pw()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class sP{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.He=ud(),this.Je=ud(),this.Ze=new gt(qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(p0(l))if(i===0){const u=new _e(l.path);this.et(n,u,dn.newNoDocument(u,ke.min()))}else Je(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=Br(i).toUint8Array()}catch(m){if(m instanceof s2)return Ua("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Uy(u,a,l)}catch(m){return Ua(m instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&p0(d.target)){const m=new _e(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,dn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let i=Ge();this.Je.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Mf(e,n,this.Ze,this.je,i);return this.je=zi(),this.He=ud(),this.Je=ud(),this.Ze=new gt(qe),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new mw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ht(qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ht(qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ud(){return new gt(_e.comparator)}function pw(){return new gt(_e.comparator)}const iP={asc:"ASCENDING",desc:"DESCENDING"},rP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aP={and:"AND",or:"OR"};class oP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y0(t,e){return t.useProto3Json||Cf(e)?e:{value:e}}function sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lP(t,e){return sf(t,e.toTimestamp())}function si(t){return Je(!!t,49232),ke.fromTimestamp((function(n){const i=zr(n);return new ht(i.seconds,i.nanos)})(t))}function zy(t,e){return v0(t,e).canonicalString()}function v0(t,e){const n=(function(a){return new ot(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function M2(t){const e=ot.fromString(t);return Je(U2(e),10190,{key:e.toString()}),e}function b0(t,e){return zy(t.databaseId,e.path)}function wg(t,e){const n=M2(e);if(n.get(1)!==t.databaseId.projectId)throw new he(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(O2(n))}function V2(t,e){return zy(t.databaseId,e)}function cP(t){const e=M2(t);return e.length===4?ot.emptyPath():O2(e)}function x0(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O2(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gw(t,e,n){return{name:b0(t,e),fields:n.value.mapValue.fields}}function uP(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Je(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const v=p.code===void 0?se.UNKNOWN:k2(p.code);return new he(v,p.message||"")})(u);n=new D2(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=wg(t,i.document.name),l=si(i.document.updateTime),u=i.document.createTime?si(i.document.createTime):ke.min(),d=new Rn({mapValue:{fields:i.document.fields}}),m=dn.newFoundDocument(a,l,u,d),p=i.targetIds||[],v=i.removedTargetIds||[];n=new Id(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=wg(t,i.document),l=i.readTime?si(i.readTime):ke.min(),u=dn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Id([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=wg(t,i.document),l=i.removedTargetIds||[];n=new Id([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new ZO(a,l),d=i.targetId;n=new I2(d,u)}}return n}function hP(t,e){let n;if(e instanceof bu)n={update:gw(t,e.key,e.value)};else if(e instanceof Py)n={delete:b0(t,e.key)};else if(e instanceof Kr)n={update:gw(t,e.key,e.data),updateMask:xP(e.fieldMask)};else{if(!(e instanceof XO))return Se(16599,{dt:e.type});n={verify:b0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const d=u.transform;if(d instanceof su)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ru)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof nf)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:lP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(t,e.precondition)),n}function dP(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?si(a.updateTime):si(l);return u.isEqual(ke.min())&&(u=si(l)),new KO(u,a.transformResults||[])})(n,e)))):[]}function fP(t,e){return{documents:[V2(t,e.path)]}}function mP(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=V2(t,a);const l=(function(p){if(p.length!==0)return L2(Ns.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(_){return{field:Vo(_.field),direction:yP(_.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=y0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function pP(t){let e=cP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Je(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const _=P2(b);return _ instanceof Ns&&f2(_)?_.getFilters():[_]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((_=>(function(M){return new nu(Oo(M.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let _;return _=typeof b=="object"?b.value:b,Cf(_)?null:_})(n.limit));let m=null;n.startAt&&(m=(function(b){const _=!!b.before,A=b.values||[];return new ef(A,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const _=!b.before,A=b.values||[];return new ef(A,_)})(n.endAt)),IO(e,a,u,l,d,"F",m,p)}function gP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function P2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Oo(n.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Oo(n.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(n.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Oo(n.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pt.create(Oo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ns.create(n.compositeFilter.filters.map((i=>P2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function yP(t){return iP[t]}function vP(t){return rP[t]}function bP(t){return aP[t]}function Vo(t){return{fieldPath:t.canonicalString()}}function Oo(t){return an.fromServerFormat(t.fieldPath)}function L2(t){return t instanceof Pt?(function(n){if(n.op==="=="){if(sw(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(nw(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sw(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(nw(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:vP(n.op),value:n.value}}})(t):t instanceof Ns?(function(n){const i=n.getFilters().map((a=>L2(a)));return i.length===1?i[0]:{compositeFilter:{op:bP(n.op),filters:i}}})(t):Se(54877,{filter:t})}function xP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function U2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function z2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Ir{constructor(e,n,i,a,l=ke.min(),u=ke.min(),d=on.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _P{constructor(e){this.yt=e}}function TP(t){const e=pP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tf(e,e.limit,"L"):e}class wP{constructor(){this.Sn=new EP}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ur.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class EP{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Ht(ot.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ht(ot.comparator)).toArray()}}const yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B2=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(B2,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new tl(0)}static ar(){return new tl(-1)}}const vw="LruGarbageCollector",SP=1048576;function bw([t,e],[n,i]){const a=qe(t,n);return a===0?qe(e,i):a}class AP{constructor(e){this.Pr=e,this.buffer=new Ht(bw),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();bw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CP{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(vw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?me(vw,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Ar(3e5)}))}}class NP{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Af.ce);const i=new AP(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(yw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yw):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,u,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),jo()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function RP(t,e){return new NP(t,e)}class kP{constructor(){this.changes=new Ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class DP{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Hc(i.mutation,a,zn.empty(),ht.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ge()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ge()){const a=ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=Ic();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=ka();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ge())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,i,a){let l=zi();const u=Fc(),d=(function(){return Fc()})();return n.forEach(((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Kr)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Hc(v.mutation,p,v.mutation.getFieldMask(),ht.now())):u.set(p.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>u.set(p,v))),n.forEach(((p,v)=>d.set(p,new IP(v,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=Fc();let a=new gt(((u,d)=>u-d)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=i.get(m)||zn.empty();v=d.applyToLocalView(p,v),i.set(m,v);const b=(a.get(d.batchId)||Ge()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,b=T2();v.forEach((_=>{if(!l.has(_)){const A=N2(n.get(_),i.get(_));A!==null&&b.set(_,A),l=l.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ae.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return DO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ae.resolve(ka());let d=Jc,m=l;return u.next((p=>ae.forEach(p,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{m=m.insert(v,_)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ge()))).next((v=>({batchId:d,changes:_2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((i=>{let a=Ic();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=Ic();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(m=>{const p=(function(b,_){return new vl(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((b,_)=>{u=u.insert(b,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,dn.newInvalidDocument(v)))}));let d=Ic();return u.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&Hc(v.mutation,p,zn.empty(),ht.now()),If(n,p)&&(d=d.insert(m,p))})),d}))}}class jP{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:si(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:TP(a.bundledQuery),readTime:si(a.readTime)}})(n)),ae.resolve()}}class MP{constructor(){this.overlays=new gt(_e.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ka();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const a=ka(),l=n.length+1,u=new _e(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new gt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=ka(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=ka(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=a)););return ae.resolve(d)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new JO(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ge(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class VP{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class By{constructor(){this.kr=new Ht(Kt.Kr),this.qr=new Ht(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Kt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Kt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new _e(new ot([])),i=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new ot([])),i=new Kt(n,e),a=new Kt(n,e+1);let l=Ge();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Kt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class OP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(Kt.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new WO(l,n,i,a);this.mutationQueue.push(u);for(const d of a)this.Jr=this.Jr.add(new Kt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Iy:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const d=this.Zr(u.Hr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ht(qe);return n.forEach((a=>{const l=new Kt(a,0),u=new Kt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(d=>{i=i.add(d.Hr)}))})),ae.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const u=new Kt(new _e(l),0);let d=new Ht(qe);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),u),ae.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Je(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ae.forEach(n.mutations,(a=>{const l=new Kt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Kt(n,0),a=this.Jr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class PP{constructor(e){this.ti=e,this.docs=(function(){return new gt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let i=zi();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))})),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=zi();const u=n.path,d=new _e(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||lO(oO(v),i)<=0||(a.has(v.key)||If(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Se(9500)}ni(e,n){return ae.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new LP(this)}getSize(e){return ae.resolve(this.size)}}class LP extends kP{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class UP{constructor(e){this.persistence=e,this.ri=new Ba((n=>My(n)),Vy),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.ii=0,this.si=new By,this.targetCount=0,this.oi=tl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new tl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class F2{constructor(e,n){this._i={},this.overlays={},this.ai=new Af(0),this.ui=!1,this.ui=!0,this.ci=new VP,this.referenceDelegate=e(this),this.li=new UP(this),this.indexManager=new wP,this.remoteDocumentCache=(function(a){return new PP(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new _P(n),this.Pi=new jP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new OP(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new zP(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ae.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class zP extends uO{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.Ri=new By,this.Ai=null}static Vi(e){return new Fy(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(i=>{const a=_e.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,ke.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class rf{constructor(e,n){this.persistence=e,this.fi=new Ba((i=>fO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=RP(this,n)}static Vi(e,n){return new rf(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((d=>{d||(i++,l.removeEntry(u,ke.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nd(e.data.value)),n}wr(e,n,i){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hy{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Hy(e,n.fromCache,i,a)}}class BP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class FP{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return AM()?8:hO(mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new BP;return this.ys(e,n,u).next((d=>{if(l.result=d,this.As)return this.ws(e,n,u,d.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(jo()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(jo()<=He.DEBUG&&me("QueryEngine","Query:",Mo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(jo()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(n))):ae.resolve())}gs(e,n){if(ow(n))return ae.resolve(null);let i=ni(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=tf(n,null,"F"),i=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Ge(...l);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,u,m.readTime)?this.gs(e,tf(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,i,a){return ow(n)||a.isEqual(ke.min())?ae.resolve(null):this.fs.getDocuments(e,i).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,i,a)?ae.resolve(null):(jo()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(n)),this.Ds(e,u,n,aO(a,Jc)).next((d=>d)))}))}bs(e,n){let i=new Ht(b2(e));return n.forEach(((a,l)=>{If(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return jo()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.fs.getDocumentsMatchingQuery(e,n,Ur.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const qy="LocalStore",HP=3e8;class qP{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new gt(qe),this.Fs=new Ba((l=>My(l)),Vy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DP(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function GP(t,e,n,i){return new qP(t,e,n,i)}async function H2(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],d=[];let m=Ge();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function $P(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,v){const b=p.batch,_=b.keys();let A=ae.resolve();return _.forEach((M=>{A=A.next((()=>v.getEntry(m,M))).next((L=>{const P=p.docVersions.get(M);Je(P!==null,48541),L.version.compareTo(P)<0&&(b.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),v.addEntry(L)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Ge();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function q2(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function KP(t,e){const n=De(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const _=a.get(b);if(!_)return;d.push(n.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,b))));let A=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(on.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),a=a.insert(b,A),(function(L,P,B){return L.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=HP?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(_,A,v)&&d.push(n.li.updateTargetData(l,A))}));let m=zi(),p=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(YP(l,u,e.documentUpdates).next((v=>{m=v.Bs,p=v.Ls}))),!i.isEqual(ke.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return ae.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function YP(t,e,n){let i=Ge(),a=Ge();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=zi();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(ke.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):me(qy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function QP(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Iy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function XP(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,ae.resolve(a)):n.li.allocateTargetId(i).next((u=>(a=new Ir(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function _0(t,e,n){const i=De(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!yl(u))throw u;me(qy,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function xw(t,e,n){const i=De(t);let a=ke.min(),l=Ge();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const b=De(m),_=b.Fs.get(v);return _!==void 0?ae.resolve(b.vs.get(_)):b.li.getTargetData(p,v)})(i,u,ni(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?a:ke.min(),n?l:Ge()))).next((d=>(WP(i,VO(e),d),{documents:d,ks:l})))))}function WP(t,e,n){let i=t.Ms.get(e)||ke.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class _w{constructor(){this.activeTargetIds=BO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JP{constructor(){this.vo=new _w,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new _w,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZP{Mo(e){}shutdown(){}}const Tw="ConnectivityMonitor";class ww{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(Tw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(Tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hd=null;function T0(){return hd===null?hd=(function(){return 268435456+Math.round(2147483648*Math.random())})():hd++,"0x"+hd.toString(16)}const Eg="RestConnection",e9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class t9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Jd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const u=T0(),d=this.Qo(e,n.toUriEncodedString());me(Eg,`Sending RPC '${e}' ${u}:`,d,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),v=dl(p);return this.zo(e,d,m,i,v).then((b=>(me(Eg,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Ua(Eg,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,n,i,a,l,u){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=e9[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class n9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",Nc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Ko extends t9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ko.c_){const e=QA();Nc(e,YA.STAT_EVENT,(n=>{n.stat===u0.PROXY?me(un,"STAT_EVENT: detected buffering proxy"):n.stat===u0.NOPROXY&&me(un,"STAT_EVENT: detected no buffering proxy")})),Ko.c_=!0}}zo(e,n,i,a,l){const u=T0();return new Promise(((d,m)=>{const p=new $A;p.setWithCredentials(!0),p.listenOnce(KA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Cd.NO_ERROR:const b=p.getResponseJson();me(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Cd.TIMEOUT:me(un,`RPC '${e}' ${u} timed out`),m(new he(se.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const _=p.getStatus();if(me(un,`RPC '${e}' ${u} failed with status:`,_,"response text:",p.getResponseText()),_>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A?.error;if(M&&M.status&&M.message){const L=(function(B){const F=B.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(F)>=0?F:se.UNKNOWN})(M.status);m(new he(L,M.message))}else m(new he(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(se.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(un,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);me(un,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=T0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const p=l.join("");me(un,`Creating RPC '${e}' stream ${a}: ${p}`,d);const v=u.createWebChannel(p,d);this.I_(v);let b=!1,_=!1;const A=new n9({Ho:M=>{_?me(un,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(b||(me(un,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),me(un,`RPC '${e}' stream ${a} sending:`,M),v.send(M))},Jo:()=>v.close()});return Nc(v,kc.EventType.OPEN,(()=>{_||(me(un,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Nc(v,kc.EventType.CLOSE,(()=>{_||(_=!0,me(un,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(v))})),Nc(v,kc.EventType.ERROR,(M=>{_||(_=!0,Ua(un,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),A.o_(new he(se.UNAVAILABLE,"The operation could not be completed")))})),Nc(v,kc.EventType.MESSAGE,(M=>{if(!_){const L=M.data[0];Je(!!L,16349);const P=L,B=P?.error||P[0]?.error;if(B){me(un,`RPC '${e}' stream ${a} received error:`,B);const F=B.status;let K=(function(re){const I=Vt[re];if(I!==void 0)return k2(I)})(F),J=B.message;F==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&Ua(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=se.INTERNAL,J="Unknown error status: "+F+" with message "+B.message),_=!0,A.o_(new he(K,J)),v.close()}else me(un,`RPC '${e}' stream ${a} received:`,L),A.__(L)}})),Ko.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return XA()}}function s9(t){return new Ko(t)}function Sg(){return typeof document<"u"?document:null}function Vf(t){return new oP(t,!0)}Ko.c_=!1;class G2{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Ew="PersistentStream";class $2{constructor(e,n,i,a,l,u,d,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new he(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(Ew,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(Ew,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class i9 extends $2{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=uP(this.serializer,e),i=(function(l){if(!("targetChange"in l))return ke.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?si(u.readTime):ke.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=x0(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=p0(m)?{documents:fP(l,m)}:{query:mP(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=j2(l,u.resumeToken);const p=y0(l,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(ke.min())>0){d.readTime=sf(l,u.snapshotVersion.toTimestamp());const p=y0(l,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=gP(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=x0(this.serializer),n.removeTarget=e,this.K_(n)}}class r9 extends $2{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=dP(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=x0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>hP(this.serializer,i)))};this.K_(n)}}class a9{}class o9 extends a9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,v0(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(se.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,v0(n,i),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function l9(t,e,n,i){return new o9(t,e,n,i)}class c9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const za="RemoteStore";class u9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{Fa(this)&&(me(za,"Restarting streams for network reachability change."),await(async function(m){const p=De(m);p.Ea.add(4),await _u(p),p.Va.set("Unknown"),p.Ea.delete(4),await Of(p)})(this))}))})),this.Va=new c9(i,a)}}async function Of(t){if(Fa(t))for(const e of t.Ra)await e(!0)}async function _u(t){for(const e of t.Ra)await e(!1)}function K2(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yy(n)?Ky(n):bl(n).O_()&&$y(n,e))}function Gy(t,e){const n=De(t),i=bl(n);n.Ia.delete(e),i.O_()&&Y2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Fa(n)&&n.Va.set("Unknown"))}function $y(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(t).Z_(e)}function Y2(t,e){t.da.$e(e),bl(t).X_(e)}function Ky(t){t.da=new sP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bl(t).start(),t.Va.ua()}function Yy(t){return Fa(t)&&!bl(t).x_()&&t.Ia.size>0}function Fa(t){return De(t).Ea.size===0}function Q2(t){t.da=void 0}async function h9(t){t.Va.set("Online")}async function d9(t){t.Ia.forEach(((e,n)=>{$y(t,e)}))}async function f9(t,e){Q2(t),Yy(t)?(t.Va.ha(e),Ky(t)):t.Va.set("Unknown")}async function m9(t,e,n){if(t.Va.set("Online"),e instanceof D2&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(i){me(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await af(t,i)}else if(e instanceof Id?t.da.Xe(e):e instanceof I2?t.da.st(e):t.da.tt(e),!n.isEqual(ke.min()))try{const i=await q2(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const d=l.da.Tt(u);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),Y2(l,m);const b=new Ir(v.target,m,p,v.sequenceNumber);$y(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){me(za,"Failed to raise snapshot:",i),await af(t,i)}}async function af(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await _u(t),t.Va.set("Offline"),n||(n=()=>q2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(za,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Of(t)}))}function X2(t,e){return e().catch((n=>af(t,n,e)))}async function Pf(t){const e=De(t),n=Hr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Iy;for(;p9(e);)try{const a=await QP(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,g9(e,a)}catch(a){await af(e,a)}W2(e)&&J2(e)}function p9(t){return Fa(t)&&t.Ta.length<10}function g9(t,e){t.Ta.push(e);const n=Hr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function W2(t){return Fa(t)&&!Hr(t).x_()&&t.Ta.length>0}function J2(t){Hr(t).start()}async function y9(t){Hr(t).ra()}async function v9(t){const e=Hr(t);for(const n of t.Ta)e.ea(n.mutations)}async function b9(t,e,n){const i=t.Ta.shift(),a=Ly.from(i,e,n);await X2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Pf(t)}async function x9(t,e){e&&Hr(t).Y_&&await(async function(i,a){if((function(u){return eP(u)&&u!==se.ABORTED})(a.code)){const l=i.Ta.shift();Hr(i).B_(),await X2(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Pf(i)}})(t,e),W2(t)&&J2(t)}async function Sw(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),me(za,"RemoteStore received new credentials");const i=Fa(n);n.Ea.add(3),await _u(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Of(n)}async function _9(t,e){const n=De(t);e?(n.Ea.delete(2),await Of(n)):e||(n.Ea.add(2),await _u(n),n.Va.set("Unknown"))}function bl(t){return t.ma||(t.ma=(function(n,i,a){const l=De(n);return l.sa(),new i9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:h9.bind(null,t),Yo:d9.bind(null,t),t_:f9.bind(null,t),J_:m9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Yy(t)?Ky(t):t.Va.set("Unknown")):(await t.ma.stop(),Q2(t))}))),t.ma}function Hr(t){return t.fa||(t.fa=(function(n,i,a){const l=De(n);return l.sa(),new r9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:y9.bind(null,t),t_:x9.bind(null,t),ta:v9.bind(null,t),na:b9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Pf(t)):(await t.fa.stop(),t.Ta.length>0&&(me(za,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Qy{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,d=new Qy(e,n,u,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xy(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),yl(t))return new he(se.UNAVAILABLE,`${e}: ${t}`);throw t}class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||_e.comparator(n.key,i.key):(n,i)=>_e.comparator(n.key,i.key),this.keyedMap=Ic(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Yo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Aw{constructor(){this.ga=new gt(_e.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class nl{constructor(e,n,i,a,l,u,d,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new nl(e,n,Yo.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class T9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class w9{constructor(){this.queries=Cw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=De(n),l=a.queries;a.queries=Cw(),l.forEach(((u,d)=>{for(const m of d.ba)m.onError(i)}))})(this,new he(se.ABORTED,"Firestore shutting down"))}}function Cw(){return new Ba((t=>v2(t)),kf)}async function Wy(t,e){const n=De(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new T9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=Xy(u,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Zy(n)}async function Jy(t,e){const n=De(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function E9(t,e){const n=De(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.ba)d.Fa(a)&&(i=!0);u.wa=a}}i&&Zy(n)}function S9(t,e,n){const i=De(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Zy(t){t.Ca.forEach((e=>{e.next()}))}var w0,Nw;(Nw=w0||(w0={})).Ma="default",Nw.Cache="cache";class ev{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new nl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==w0.Cache}}class Z2{constructor(e){this.key=e}}class eC{constructor(e){this.key=e}}class A9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=b2(e),this.tu=new Yo(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new Aw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const _=a.get(v),A=If(this.query,b)?b:null,M=!!_&&this.mutatedKeys.has(_.key),L=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let P=!1;_&&A?_.data.isEqual(A.data)?M!==L&&(i.track({type:3,doc:A}),P=!0):this.su(_,A)||(i.track({type:2,doc:A}),P=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(d=!0)):!_&&A?(i.track({type:0,doc:A}),P=!0):_&&!A&&(i.track({type:1,doc:_}),P=!0,(m||p)&&(d=!0)),P&&(A?(u=u.add(A),l=L?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(A,M){const L=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:P})}};return L(A)-L(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new nl(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Aw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new eC(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new Z2(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tv="SyncEngine";class C9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class N9{constructor(e){this.key=e,this.hu=!1}}class R9{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ba((d=>v2(d)),kf),this.Iu=new Map,this.Eu=new Set,this.Ru=new gt(_e.comparator),this.Au=new Map,this.Vu=new By,this.du={},this.mu=new Map,this.fu=tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k9(t,e,n=!0){const i=aC(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await tC(i,e,n,!0),a}async function I9(t,e){const n=aC(t);await tC(n,e,!0,!1)}async function tC(t,e,n,i){const a=await XP(t.localStore,ni(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await D9(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&K2(t.remoteStore,a),d}async function D9(t,e,n,i,a){t.pu=(b,_,A)=>(async function(L,P,B,F){let K=P.view.ru(B);K.Ss&&(K=await xw(L.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,K))));const J=F&&F.targetChanges.get(P.targetId),ee=F&&F.targetMismatches.get(P.targetId)!=null,re=P.view.applyChanges(K,L.isPrimaryClient,J,ee);return kw(L,P.targetId,re.au),re.snapshot})(t,b,_,A);const l=await xw(t.localStore,e,!0),u=new A9(e,l.ks),d=u.ru(l.documents),m=xu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(d,t.isPrimaryClient,m);kw(t,n,p.au);const v=new C9(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function j9(t,e,n){const i=De(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!kf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await _0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Gy(i.remoteStore,a.targetId),E0(i,a.targetId)})).catch(gl)):(E0(i,a.targetId),await _0(i.localStore,a.targetId,!0))}async function M9(t,e){const n=De(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Gy(n.remoteStore,i.targetId))}async function V9(t,e,n){const i=F9(t);try{const a=await(function(u,d){const m=De(u),p=ht.now(),v=d.reduce(((A,M)=>A.add(M.key)),Ge());let b,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=zi(),L=Ge();return m.xs.getEntries(A,v).next((P=>{M=P,M.forEach(((B,F)=>{F.isValidDocument()||(L=L.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,M))).next((P=>{b=P;const B=[];for(const F of d){const K=QO(F,b.get(F.key).overlayedDocument);K!=null&&B.push(new Kr(F.key,K,u2(K.value.mapValue),is.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,B,d)})).next((P=>{_=P;const B=P.applyToLocalDocumentSet(b,L);return m.documentOverlayCache.saveOverlays(A,P.batchId,B)}))})).then((()=>({batchId:_.batchId,changes:_2(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let p=u.du[u.currentUser.toKey()];p||(p=new gt(qe)),p=p.insert(d,m),u.du[u.currentUser.toKey()]=p})(i,a.batchId,n),await Tu(i,a.changes),await Pf(i.remoteStore)}catch(a){const l=Xy(a,"Failed to persist write");n.reject(l)}}async function nC(t,e){const n=De(t);try{const i=await KP(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Je(u.hu,14607):a.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await Tu(n,i,e)}catch(i){await gl(i)}}function Rw(t,e,n){const i=De(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=De(u);m.onlineState=d;let p=!1;m.queries.forEach(((v,b)=>{for(const _ of b.ba)_.va(d)&&(p=!0)})),p&&Zy(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function O9(t,e,n){const i=De(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new gt(_e.comparator);u=u.insert(l,dn.newNoDocument(l,ke.min()));const d=Ge().add(l),m=new Mf(ke.min(),new Map,new gt(qe),u,d);await nC(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),nv(i)}else await _0(i.localStore,e,!1).then((()=>E0(i,e,n))).catch(gl)}async function P9(t,e){const n=De(t),i=e.batch.batchId;try{const a=await $P(n.localStore,e);iC(n,i,null),sC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Tu(n,a)}catch(a){await gl(a)}}async function L9(t,e,n){const i=De(t);try{const a=await(function(u,d){const m=De(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next((b=>(Je(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);iC(i,e,n),sC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Tu(i,a)}catch(a){await gl(a)}}function sC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function iC(t,e,n){const i=De(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function E0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||rC(t,i)}))}function rC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Gy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),nv(t))}function kw(t,e,n){for(const i of n)i instanceof Z2?(t.Vu.addReference(i.key,e),U9(t,i)):i instanceof eC?(me(tv,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||rC(t,i.key)):Se(19791,{wu:i})}function U9(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(me(tv,"New document in limbo: "+n),t.Eu.add(i),nv(t))}function nv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(ot.fromString(e)),i=t.fu.next();t.Au.set(i,new N9(n)),t.Ru=t.Ru.insert(n,i),K2(t.remoteStore,new Ir(ni(Rf(n.path)),i,"TargetPurposeLimboResolution",Af.ce))}}async function Tu(t,e,n){const i=De(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{u.push(i.pu(m,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Hy.Es(m.targetId,p);l.push(v)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(m,p){const v=De(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ae.forEach(p,(_=>ae.forEach(_.Ts,(A=>v.persistence.referenceDelegate.addReference(b,_.targetId,A))).next((()=>ae.forEach(_.Is,(A=>v.persistence.referenceDelegate.removeReference(b,_.targetId,A)))))))))}catch(b){if(!yl(b))throw b;me(qy,"Failed to update sequence numbers: "+b)}for(const b of p){const _=b.targetId;if(!b.fromCache){const A=v.vs.get(_),M=A.snapshotVersion,L=A.withLastLimboFreeSnapshotVersion(M);v.vs=v.vs.insert(_,L)}}})(i.localStore,l))}async function z9(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){me(tv,"User change. New user:",e.toKey());const i=await H2(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new he(se.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Tu(n,i.Ns)}}function B9(t,e){const n=De(t),i=n.Au.get(e);if(i&&i.hu)return Ge().add(i.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function aC(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O9.bind(null,e),e.Pu.J_=E9.bind(null,e.eventManager),e.Pu.yu=S9.bind(null,e.eventManager),e}function F9(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L9.bind(null,e),e}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return GP(this.persistence,new FP,e.initialUser,this.serializer)}Cu(e){return new F2(Fy.Vi,this.serializer)}Du(e){return new JP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class H9 extends of{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof rf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new CP(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new F2((i=>rf.Vi(i,n)),this.serializer)}}class S0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Rw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=z9.bind(null,this.syncEngine),await _9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new w9})()}createDatastore(e){const n=Vf(e.databaseInfo.databaseId),i=s9(e.databaseInfo);return l9(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,d){return new u9(i,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Rw(this.syncEngine,n,0)),(function(){return ww.v()?new ww:new ZP})())}createSyncEngine(e,n){return(function(a,l,u,d,m,p,v){const b=new R9(a,l,u,d,m,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=De(n);me(za,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}S0.provider={build:()=>new S0};class sv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const qr="FirestoreClient";class q9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=ky.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{me(qr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(me(qr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Xy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Ag(t,e){t.asyncQueue.verifyOperationInProgress(),me(qr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await H2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Iw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G9(t);me(qr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>Sw(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>Sw(e.remoteStore,a))),t._onlineComponents=e}async function G9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(qr,"Using user provided OfflineComponentProvider");try{await Ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ua("Error using user provided cache. Falling back to memory cache: "+n),await Ag(t,new of)}}else me(qr,"Using default OfflineComponentProvider"),await Ag(t,new H9(void 0));return t._offlineComponents}async function oC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(qr,"Using user provided OnlineComponentProvider"),await Iw(t,t._uninitializedComponentsProvider._online)):(me(qr,"Using default OnlineComponentProvider"),await Iw(t,new S0))),t._onlineComponents}function $9(t){return oC(t).then((e=>e.syncEngine))}async function lf(t){const e=await oC(t),n=e.eventManager;return n.onListen=k9.bind(null,e.syncEngine),n.onUnlisten=j9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M9.bind(null,e.syncEngine),n}function K9(t,e,n,i){const a=new sv(i),l=new ev(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Wy(await lf(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Jy(await lf(t),l)))}}function Y9(t,e,n={}){const i=new Mi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const v=new sv({next:_=>{v.Nu(),u.enqueueAndForget((()=>Jy(l,b)));const A=_.docs.has(d);!A&&_.fromCache?p.reject(new he(se.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&_.fromCache&&m&&m.source==="server"?p.reject(new he(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new ev(Rf(d.path),v,{includeMetadataChanges:!0,Ka:!0});return Wy(l,b)})(await lf(t),t.asyncQueue,e,n,i))),i.promise}function Q9(t,e,n={}){const i=new Mi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const v=new sv({next:_=>{v.Nu(),u.enqueueAndForget((()=>Jy(l,b))),_.fromCache&&m.source==="server"?p.reject(new he(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new ev(d,v,{includeMetadataChanges:!0,Ka:!0});return Wy(l,b)})(await lf(t),t.asyncQueue,e,n,i))),i.promise}function X9(t,e){const n=new Mi;return t.asyncQueue.enqueueAndForget((async()=>V9(await $9(t),e,n))),n.promise}function lC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const W9="ComponentProvider",Dw=new Map;function J9(t,e,n,i,a){return new gO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,lC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const cC="firestore.googleapis.com",jw=!0;class Mw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cC,this.ssl=jw}else this.host=e.host,this.ssl=e.ssl??jw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=B2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SP)throw new he(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new YV;switch(i.type){case"firstParty":return new JV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Dw.get(n);i&&(me(W9,"Removing Datastore"),Dw.delete(n),i.terminate())})(this),Promise.resolve()}}function Z9(t,e,n,i={}){t=kn(t,Lf);const a=dl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(oA(`https://${d}`),lA("Firestore",!0)),l.host!==cC&&l.host!==d&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Va(m,u)&&(t._setSettings(m),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=hn.MOCK_USER;else{p=yM(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new he(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(b)}t._authCredentials=new QV(new JA(p,v))}}class qi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class xt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(vu(n,xt._jsonSchema))return new xt(e,i||null,new _e(ot.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Lt("string",xt._jsonSchemaVersion),referencePath:Lt("string")};class Or extends qi{constructor(e,n,i){super(e,n,Rf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new _e(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function cf(t,e,...n){if(t=Yt(t),ZA("collection","path",e),t instanceof Lf){const i=ot.fromString(e,...n);return KT(i),new Or(t,null,i)}{if(!(t instanceof xt||t instanceof Or))throw new he(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return KT(i),new Or(t.firestore,null,i)}}function sl(t,e,...n){if(t=Yt(t),arguments.length===1&&(e=ky.newId()),ZA("doc","path",e),t instanceof Lf){const i=ot.fromString(e,...n);return $T(i),new xt(t,null,new _e(i))}{if(!(t instanceof xt||t instanceof Or))throw new he(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return $T(i),new xt(t.firestore,t instanceof Or?t.converter:null,new _e(i))}}const Vw="AsyncQueue";class Ow{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G2(this,"async_queue_retry"),this._c=()=>{const i=Sg();i&&me(Vw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;me(Vw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",Pw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Qy.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:Pw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Pw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bi extends Lf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Ow,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ow(e),this._firestoreClient=void 0,await e}}}function eL(t,e){const n=typeof t=="object"?t:dA(),i=typeof t=="string"?t:Jd,a=vy(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=pM("firestore");l&&Z9(a,...l)}return a}function Uf(t){if(t._terminated)throw new he(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tL(t),t._firestoreClient}function tL(t){const e=t._freezeSettings(),n=J9(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new q9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ts(on.fromBase64String(e))}catch(n){throw new he(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ts(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ts._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,ts._jsonSchema))return ts.fromBase64String(e.bytes)}}ts._jsonSchemaVersion="firestore/bytes/1.0",ts._jsonSchema={type:Lt("string",ts._jsonSchemaVersion),bytes:Lt("string")};class iv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zf{constructor(e){this._methodName=e}}class ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(vu(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:Lt("string",ii._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class As{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:As._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,As._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new As(e.vectorValues);throw new he(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}As._jsonSchemaVersion="firestore/vectorValue/1.0",As._jsonSchema={type:Lt("string",As._jsonSchemaVersion),vectorValues:Lt("object")};const nL=/^__.*__$/;class sL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class uC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:t})}}class rv{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new rv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return uf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(hC(this.dataSource)&&nL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class iL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Vf(e)}createContext(e,n,i,a=!1){return new rv({dataSource:e,methodName:n,targetDoc:i,path:an.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bf(t){const e=t._freezeSettings(),n=Vf(t._databaseId);return new iL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dC(t,e,n,i,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);ov("Data must be an object, but it was:",u,i);const d=fC(i,u);let m,p;if(l.merge)m=new zn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const _=il(e,b,n);if(!u.contains(_))throw new he(se.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);gC(v,_)||v.push(_)}m=new zn(v),p=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=u.fieldTransforms;return new sL(new Rn(d),m,p)}class Ff extends zf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}class av extends zf{_toFieldTransform(e){return new GO(e.path,new su)}isEqual(e){return e instanceof av}}function rL(t,e,n,i){const a=t.createContext(1,e,n);ov("Data must be an object, but it was:",a,i);const l=[],u=Rn.empty();$r(i,((m,p)=>{const v=pC(e,m,n);p=Yt(p);const b=a.childContextForFieldPath(v);if(p instanceof Ff)l.push(v);else{const _=wu(p,b);_!=null&&(l.push(v),u.set(v,_))}}));const d=new zn(l);return new uC(u,d,a.fieldTransforms)}function aL(t,e,n,i,a,l){const u=t.createContext(1,e,n),d=[il(e,i,n)],m=[a];if(l.length%2!=0)throw new he(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)d.push(il(e,l[_])),m.push(l[_+1]);const p=[],v=Rn.empty();for(let _=d.length-1;_>=0;--_)if(!gC(p,d[_])){const A=d[_];let M=m[_];M=Yt(M);const L=u.childContextForFieldPath(A);if(M instanceof Ff)p.push(A);else{const P=wu(M,L);P!=null&&(p.push(A),v.set(A,P))}}const b=new zn(p);return new uC(v,b,u.fieldTransforms)}function oL(t,e,n,i=!1){return wu(n,t.createContext(i?4:3,e))}function wu(t,e){if(mC(t=Yt(t)))return ov("Unsupported field value:",e,t),fC(t,e);if(t instanceof zf)return(function(i,a){if(!hC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const d of i){let m=wu(d,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Yt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return FO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ht.fromDate(i);return{timestampValue:sf(a.serializer,l)}}if(i instanceof ht){const l=new ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sf(a.serializer,l)}}if(i instanceof ii)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ts)return{bytesValue:j2(a.serializer,i._byteString)};if(i instanceof xt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof As)return(function(u,d){const m=u instanceof As?u.toArray():u;return{mapValue:{fields:{[l2]:{stringValue:c2},[Zd]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return Oy(d.serializer,v)}))}}}}}})(i,a);if(z2(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Sf(i)}`)})(t,e)}function fC(t,e){const n={};return n2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(t,((i,a)=>{const l=wu(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function mC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof ii||t instanceof ts||t instanceof xt||t instanceof zf||t instanceof As||z2(t))}function ov(t,e,n){if(!mC(n)||!e2(n)){const i=Sf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function il(t,e,n){if((e=Yt(e))instanceof iv)return e._internalPath;if(typeof e=="string")return pC(t,e);throw uf("Field path arguments must be of type string or ",t,!1,void 0,n)}const lL=new RegExp("[~\\*/\\[\\]]");function pC(t,e,n){if(e.search(lL)>=0)throw uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iv(...e.split("."))._internalPath}catch{throw uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uf(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new he(se.INVALID_ARGUMENT,d+t+m)}function gC(t,e){return t.some((n=>n.isEqual(e)))}class cL{convertValue(e,n="none"){switch(Fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return $r(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Zd].arrayValue?.values?.map((i=>St(i.doubleValue)));return new As(n)}convertGeoPoint(e){return new ii(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Nf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const n=zr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ot.fromString(e);Je(U2(i),9688,{name:e});const a=new eu(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return a.isEqual(n)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class lv extends cL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function uL(){return new av("serverTimestamp")}const Lw="@firebase/firestore",Uw="4.11.0";function zw(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class yC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(il("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hL extends yC{data(){return super.data()}}function vC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cv{}class uv extends cv{}function bC(t,e,...n){let i=[];e instanceof cv&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((m=>m instanceof dv)).length,d=l.filter((m=>m instanceof hv)).length;if(u>1||u>0&&d>0)throw new he(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class hv extends uv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new hv(e,n,i)}_apply(e){const n=this._parse(e);return TC(e._query,n),new qi(e.firestore,e.converter,g0(e._query,n))}_parse(e){const n=Bf(e.firestore);return(function(l,u,d,m,p,v,b){let _;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Fw(b,v);const M=[];for(const L of b)M.push(Bw(m,l,L));_={arrayValue:{values:M}}}else _=Bw(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Fw(b,v),_=oL(d,u,b,v==="in"||v==="not-in");return Pt.create(p,v,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class dv extends cv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)TC(u,m),u=g0(u,m)})(e._query,n),new qi(e.firestore,e.converter,g0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fv extends uv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fv(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new he(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(l,u)})(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,MO(e._query,n))}}function xC(t,e="asc"){const n=e,i=il("orderBy",t);return fv._create(i,n)}class mv extends uv{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new mv(e,n,i)}_apply(e){return new qi(e.firestore,e.converter,tf(e._query,this._limit,this._limitType))}}function _C(t){return rO("limit",t),mv._create("limit",t,"F")}function Bw(t,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new he(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y2(e)&&n.indexOf("/")!==-1)throw new he(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ot.fromString(n));if(!_e.isDocumentKey(i))throw new he(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return tw(t,new _e(i))}if(n instanceof xt)return tw(t,n._key);throw new he(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(n)}.`)}function Fw(t,e){if(!Array.isArray(t)||t.length===0)throw new he(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TC(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function wC(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends yC{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(il("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:Lt("string",ja._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Dd extends ja{data(e={}){return super.data(e)}}class Ma{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new jc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Dd(this._firestore,this._userDataWriter,i.key,i,new jc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new Dd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new jc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Dd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new jc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:dL(d.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ky.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}Ma._jsonSchemaVersion="firestore/querySnapshot/1.0",Ma._jsonSchema={type:Lt("string",Ma._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function fL(t){t=kn(t,xt);const e=kn(t.firestore,Bi),n=Uf(e);return Y9(n,t._key).then((i=>AC(e,t,i)))}function mL(t){t=kn(t,qi);const e=kn(t.firestore,Bi),n=Uf(e),i=new lv(e);return vC(t._query),Q9(n,t._query).then((a=>new Ma(e,i,t,a)))}function Hw(t,e,n){t=kn(t,xt);const i=kn(t.firestore,Bi),a=wC(t.converter,e),l=Bf(i);return Hf(i,[dC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,is.none())])}function pL(t,e,n,...i){t=kn(t,xt);const a=kn(t.firestore,Bi),l=Bf(a);let u;return u=typeof(e=Yt(e))=="string"||e instanceof iv?aL(l,"updateDoc",t._key,e,n,i):rL(l,"updateDoc",t._key,e),Hf(a,[u.toMutation(t._key,is.exists(!0))])}function gL(t){return Hf(kn(t.firestore,Bi),[new Py(t._key,is.none())])}function EC(t,e){const n=kn(t.firestore,Bi),i=sl(t),a=wC(t.converter,e),l=Bf(t.firestore);return Hf(n,[dC(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,is.exists(!1))]).then((()=>i))}function SC(t,...e){t=Yt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||zw(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zw(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,u,d;if(t instanceof xt)u=kn(t.firestore,Bi),d=Rf(t._key.path),l={next:p=>{e[i]&&e[i](AC(u,t,p))},error:e[i+1],complete:e[i+2]};else{const p=kn(t,qi);u=kn(p.firestore,Bi),d=p._query;const v=new lv(u);l={next:b=>{e[i]&&e[i](new Ma(u,v,p,b))},error:e[i+1],complete:e[i+2]},vC(t._query)}const m=Uf(u);return K9(m,d,a,l)}function Hf(t,e){const n=Uf(t);return X9(n,e)}function AC(t,e,n){const i=n.docs.get(e._key),a=new lv(t);return new ja(t,a,e._key,i,new jc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){KV(fl),Xo(new Oa("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),d=new Bi(new XV(i.getProvider("auth-internal")),new ZV(u,i.getProvider("app-check-internal")),yO(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Mr(Lw,Uw,e),Mr(Lw,Uw,"esm2020")})();const yL={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},CC=hA(yL),Cg=HV(CC),vL=new Ri,Di=eL(CC),NC=R.createContext(void 0);function bL({children:t}){const[e,n]=R.useState(null),[i,a]=R.useState(!0);R.useEffect(()=>{const d=I6(Cg,m=>{n(m),a(!1)});return()=>d()},[]);const l=async()=>{try{await J6(Cg,vL)}catch(d){console.error("Error signing in with Google",d)}},u=async()=>{try{await D6(Cg)}catch(d){console.error("Error signing out",d)}};return g.jsx(NC.Provider,{value:{user:e,loading:i,signInWithGoogle:l,logout:u},children:!i&&t})}function Ha(){const t=R.useContext(NC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const jd=[{id:"hsc-science-2026-bn",name:"HSC Science",subjects:[{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:"-"},{name:" "},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:"  "},{name:" "}]},{name:"",topics:[{name:""}]}]},{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:""},{name:""},{name:""}]}]},{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"  -   ",topics:[{name:" "},{name:"  "},{name:"  "},{name:" "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:" "},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"  "},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"  "}]},{name:"  - ",topics:[{name:"  "},{name:"  "},{name:" "},{name:"  "},{name:"   "},{name:" "},{name:""},{name:"    "},{name:"   "},{name:"  "},{name:"   "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"   "},{name:"   "},{name:"   "},{name:"  "},{name:"  "},{name:" "},{name:"    "},{name:"  "},{name:"  "},{name:"   "},{name:"  "}]},{name:"  - ,   ",topics:[{name:"    "},{name:"    "},{name:""},{name:""},{name:"    "},{name:"  "},{name:""}]},{name:"  -   ",topics:[{name:""},{name:" "},{name:"   "},{name:"   "},{name:"  "},{name:"   "},{name:"  "},{name:" "},{name:"  - "}]},{name:"  -   ",topics:[{name:" "},{name:""},{name:" "},{name:" "},{name:"  "},{name:" "},{name:"   "}]},{name:"  -  ",topics:[{name:" "},{name:"  "},{name:"     "},{name:"       "},{name:"   "},{name:"   "},{name:"  "}]},{name:"  - ",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:" "},{name:" "},{name:"  "}]},{name:"  -     ",topics:[{name:" "},{name:" "},{name:" "},{name:"   "},{name:"      "},{name:" "},{name:"    "},{name:" "},{name:"  "}]}]},{name:"  ",icon:"Zap",color:"text-violet-500",chapters:[{name:"",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]}]},{name:"  ",icon:"Beaker",color:"text-teal-500",chapters:[{name:"  ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]},{name:"  ",icon:"Beaker",color:"text-teal-500",chapters:[{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]},{name:"   ",icon:"Calculator",color:"text-blue-500",chapters:[{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"",topics:[]}]},{name:"   ",icon:"Calculator",color:"text-blue-500",chapters:[{name:" ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"   ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"",topics:[]},{name:"",topics:[]},{name:"   ",topics:[]}]},{name:"  ",icon:"Dna",color:"text-green-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"",topics:[]}]},{name:"  ",icon:"Dna",color:"text-green-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]}]},{name:"   ",icon:"Cpu",color:"text-indigo-500",chapters:[{name:"   ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]},{name:"  ",topics:[]},{name:" ",topics:[]},{name:" ",topics:[]}]}]}],Ng={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0,dailyGoal:7200,todayStudyTime:0,weeklyStudyTime:0,monthlyStudyTime:0},dd="study-tracker-data",qw=()=>{const t=jd[0];return t?t.subjects.map(e=>({id:crypto.randomUUID(),name:e.name,color:e.color,icon:e.icon,chapters:e.chapters.map(n=>({id:crypto.randomUUID(),name:n.name,isCompleted:!1,completedAt:null,topics:n.topics.map(i=>({id:crypto.randomUUID(),name:i.name,isCompleted:!1,completedAt:null}))}))})):[]},RC=R.createContext(void 0);function xL({children:t}){const{user:e}=Ha(),[n,i]=R.useState(()=>{try{const E=localStorage.getItem(dd);if(E){const C=JSON.parse(E);if(C.userProfile)return C.userProfile}}catch(E){console.error("Failed to load user profile:",E)}return Ng}),[a,l]=R.useState(()=>{try{const E=localStorage.getItem(dd);if(E){const C=JSON.parse(E);if(C.subjects&&C.subjects.length>0)return C.subjects.map(j=>({...j,chapters:j.chapters.map(k=>({...k,topics:k.topics||[]}))}))}}catch(E){console.error("Failed to load subjects, falling back to default:",E)}return qw()});R.useEffect(()=>{if(e){const E=sl(Di,"users",e.uid),C=SC(E,j=>{if(j.exists()){const k=j.data();k.userProfile&&i(k.userProfile),k.subjects&&l(k.subjects)}else{const k={userProfile:Ng,subjects:a.length>0?a:qw()};try{const V=localStorage.getItem(dd);if(V){const D=JSON.parse(V);D.userProfile&&(k.userProfile=D.userProfile),D.subjects&&(k.subjects=D.subjects.map(Ee=>({...Ee,chapters:Ee.chapters.map(Pe=>({...Pe,topics:Pe.topics||[]}))})))}}catch(V){console.error("Error reading local storage for migration:",V)}Hw(E,k).catch(V=>console.error("Migration failed",V))}},j=>{console.error("Firestore sync error:",j)});return()=>C()}},[e]);const u=async(E,C)=>{if(i(E),l(C),e)try{await Hw(sl(Di,"users",e.uid),{userProfile:E,subjects:C})}catch(j){console.error("Failed to save to cloud:",j)}else localStorage.setItem(dd,JSON.stringify({userProfile:E,subjects:C}))},d=E=>{u({...n,...E},a)},m=E=>{const C=crypto.randomUUID(),j={...E,id:C,chapters:[]};u(n,[...a,j])},p=(E,C)=>{const j=a.map(k=>k.id===E?{...k,...C}:k);u(n,j)},v=E=>{u(n,a.filter(C=>C.id!==E))},b=(E,C)=>{const j=a.map(k=>k.id===E?{...k,chapters:[...k.chapters,{id:crypto.randomUUID(),name:C,isCompleted:!1,topics:[]}]}:k);u(n,j)},_=(E,C,j)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(D=>D.id===C?{...D,name:j}:D)}:V);u(n,k)},A=(E,C)=>{const j=a.map(k=>k.id===E?{...k,chapters:k.chapters.map(V=>V.id===C?{...V,isCompleted:!V.isCompleted,completedAt:V.isCompleted?null:new Date().toISOString()}:V)}:k);u(n,j)},M=(E,C)=>{const j=a.map(k=>k.id===E?{...k,chapters:k.chapters.filter(V=>V.id!==C)}:k);u(n,j)},L=(E,C,j)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(D=>D.id===C?{...D,topics:[...D.topics,{id:crypto.randomUUID(),name:j,isCompleted:!1,completedAt:null}]}:D)}:V);u(n,k)},P=(E,C,j,k)=>{const V=a.map(D=>D.id===E?{...D,chapters:D.chapters.map(Ee=>Ee.id===C?{...Ee,topics:Ee.topics.map(Pe=>Pe.id===j?{...Pe,name:k}:Pe)}:Ee)}:D);u(n,V)},B=(E,C,j)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(D=>{if(D.id===C){const Ee=D.topics.map(Q=>Q.id===j?{...Q,isCompleted:!Q.isCompleted,completedAt:Q.isCompleted?null:new Date().toISOString()}:Q),Pe=Ee.length>0&&Ee.every(Q=>Q.isCompleted);return{...D,topics:Ee,isCompleted:Pe,completedAt:Pe?new Date().toISOString():null}}return D})}:V);u(n,k)},F=(E,C,j)=>{const k=a.map(V=>V.id===E?{...V,chapters:V.chapters.map(D=>D.id===C?{...D,topics:D.topics.filter(Ee=>Ee.id!==j)}:D)}:V);u(n,k)},K=()=>{const E={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},C=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),j=URL.createObjectURL(C),k=document.createElement("a");k.href=j,k.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(j)},J=E=>{try{const C=JSON.parse(E);return C.userProfile&&Array.isArray(C.subjects)?(u(C.userProfile,C.subjects),!0):(alert("Invalid backup file format."),!1)}catch(C){return console.error("Import error:",C),alert("Failed to parse backup file."),!1}},ee=E=>{const C=E.map(j=>({id:crypto.randomUUID(),name:j.name,color:j.color,icon:j.icon,chapters:j.chapters.map(V=>({id:crypto.randomUUID(),name:V.name,isCompleted:!1,completedAt:null,topics:V.topics.map(Ee=>({id:crypto.randomUUID(),name:Ee.name,isCompleted:!1,completedAt:null}))}))}));u(n,[...a,...C])},re=()=>{confirm("Are you sure you want to reset all data?")&&u(Ng,[])},I=async(E,C,j)=>{const k=new Date,V=k.toISOString().split("T")[0],D=(n.totalStudyTime||0)+E;let Ee=n.currentStreak||0,Pe=n.lastStudyDate,Q=n.todayStudyTime||0;if(Pe!==V){const Ce=new Date;Ce.setDate(Ce.getDate()-1);const Le=Ce.toISOString().split("T")[0];Pe===Le?Ee+=1:Ee=1,Pe=V,Q=E}else Q+=E;let oe=n.weeklyStudyTime||0,fe=n.monthlyStudyTime||0;const Ae=n.lastStudyDate?new Date(n.lastStudyDate):new Date(0),Ve=Ce=>{const Le=new Date(Ce),Qt=Le.getDay(),Rs=Le.getDate()-Qt+(Qt===0?-6:1);return new Date(Le.setDate(Rs)).toDateString()};Ve(Ae)!==Ve(k)&&(oe=0),(Ae.getMonth()!==k.getMonth()||Ae.getFullYear()!==k.getFullYear())&&(fe=0),oe+=E,fe+=E;const U=[...n.earnedBadges||[]],te=[],ue=k.getHours(),de=ue>=22||ue<4,Te=U.some(Ce=>Ce.type==="night_owl");de&&!Te&&te.push({type:"night_owl",earnedAt:k.toISOString()});const Re=U.some(Ce=>Ce.type==="streak_master");Ee>=3&&!Re&&te.push({type:"streak_master",earnedAt:k.toISOString()});const le={...n,totalStudyTime:D,todayStudyTime:Q,currentStreak:Ee,lastStudyDate:Pe,earnedBadges:[...U,...te],dailyGoal:n.dailyGoal||7200,weeklyStudyTime:oe,monthlyStudyTime:fe};if(d(le),e)try{await EC(cf(Di,"study_sessions"),{userId:e.uid,userName:e.displayName||n.name,startTime:new Date(Date.now()-E*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:E,subjectId:C||null,sessionGoal:j||null,createdAt:new Date().toISOString()})}catch(Ce){console.error("Error saving study session:",Ce)}};return g.jsx(RC.Provider,{value:{userProfile:n,subjects:a,updateProfile:d,addSubject:m,editSubject:p,deleteSubject:v,addChapter:b,editChapter:_,toggleChapter:A,deleteChapter:M,addTopic:L,editTopic:P,toggleTopic:B,deleteTopic:F,resetData:re,exportData:K,importData:J,importSyllabusData:ee,saveStudySession:I},children:t})}function ln(){const t=R.useContext(RC);if(t===void 0)throw new Error("useStudy must be used within a StudyProvider");return t}const kC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const _L=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const TL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const Gw=t=>{const e=TL(t);return e.charAt(0).toUpperCase()+e.slice(1)};var wL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EL=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const SL=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...d},m)=>R.createElement("svg",{ref:m,...wL,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:kC("lucide",a),...!l&&!EL(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,v])=>R.createElement(p,v)),...Array.isArray(l)?l:[l]]));const ve=(t,e)=>{const n=R.forwardRef(({className:i,...a},l)=>R.createElement(SL,{ref:l,iconNode:e,className:kC(`lucide-${_L(Gw(t))}`,`lucide-${t}`,i),...a}));return n.displayName=Gw(t),n};const AL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],CL=ve("arrow-left",AL);const NL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pv=ve("arrow-right",NL);const RL=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],IC=ve("award",RL);const kL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],IL=ve("bell-off",kL);const DL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jL=ve("bell",DL);const ML=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],A0=ve("book-marked",ML);const VL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xn=ve("book-open",VL);const OL=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],PL=ve("book",OL);const LL=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],UL=ve("bug",LL);const zL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],BL=ve("chart-column",zL);const FL=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],HL=ve("chart-pie",FL);const qL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DC=ve("check",qL);const GL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$L=ve("chevron-down",GL);const KL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],YL=ve("chevron-left",KL);const QL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XL=ve("chevron-right",QL);const WL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xl=ve("circle-check",WL);const JL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],C0=ve("circle-user",JL);const ZL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eU=ve("circle",ZL);const tU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nU=ve("clock",tU);const sU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jC=ve("download",sU);const iU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],MC=ve("flame",iU);const rU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],aU=ve("frown",rU);const oU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],lU=ve("globe",oU);const cU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],VC=ve("graduation-cap",cU);const uU=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],hU=ve("heart",uU);const dU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],fU=ve("laugh",dU);const mU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$w=ve("layout-dashboard",mU);const pU=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Kw=ve("list",pU);const gU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],OC=ve("log-out",gU);const yU=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],hf=ve("message-circle",yU);const vU=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],bU=ve("monitor",vU);const xU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],df=ve("moon",xU);const _U=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],TU=ve("pause",_U);const wU=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],PC=ve("pen-tool",wU);const EU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],SU=ve("pen",EU);const AU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],qf=ve("pencil",AU);const CU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],LC=ve("play",CU);const NU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],au=ve("plus",NU);const RU=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],kU=ve("quote",RU);const IU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],DU=ve("refresh-cw",IU);const jU=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],MU=ve("reply",jU);const VU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],UC=ve("rotate-ccw",VU);const OU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ff=ve("save",OU);const PU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],LU=ve("search",PU);const UU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zU=ve("send",UU);const BU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rg=ve("settings",BU);const FU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],HU=ve("shield",FU);const qU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],GU=ve("smile",qU);const $U=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Yw=ve("square-pen",$U);const KU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],N0=ve("sun",KU);const YU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],QU=ve("target",YU);const XU=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],WU=ve("thumbs-up",XU);const JU=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Qw=ve("timer",JU);const ZU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Eu=ve("trash-2",ZU);const e8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],R0=ve("trending-up",e8);const t8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],rl=ve("trophy",t8);const n8=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],s8=ve("upload",n8);const i8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],r8=ve("user",i8);const a8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],zC=ve("volume-2",a8);const o8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],BC=ve("volume-x",o8);const l8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gi=ve("x",l8),c8=["bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-slate-500"];function FC({subject:t,onClose:e}){const{editSubject:n}=ln(),[i,a]=R.useState(t.name),[l,u]=R.useState(t.color);R.useEffect(()=>{a(t.name),u(t.color)},[t]);const d=m=>{m.preventDefault(),i.trim()&&(n(t.id,{name:i.trim(),color:l}),e())};return g.jsx(rs,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Subject"}),g.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Subject Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),placeholder:"e.g. Mathematics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Color Theme"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:c8.map(m=>g.jsx("button",{type:"button",onClick:()=>u(m),className:`w-8 h-8 rounded-full transition-transform ${m} ${l===m?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-110 opacity-70 hover:opacity-100"}`},m))})]}),g.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-lg ${l} flex items-center justify-center text-white shadow-sm`,children:g.jsx(xn,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i||"Subject Name"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Preview"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}const u8=xe(Ft);function h8({subject:t,index:e=0}){const[n,i]=R.useState(!1),a=t.chapters.length,l=t.chapters.filter(m=>m.isCompleted).length;let u=0;t.chapters.forEach(m=>{m.topics&&m.topics.length>0?u+=m.topics.filter(p=>p.isCompleted).length/m.topics.length*100:u+=m.isCompleted?100:0});const d=a===0?0:Math.round(u/a);return g.jsxs(g.Fragment,{children:[g.jsxs(u8,{to:`/subject/${t.id}`,whileHover:{y:-5,transition:{duration:.2}},whileTap:{scale:.98},className:"group relative block bg-white dark:bg-slate-800 rounded-2xl p-4 md:p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-lg hover:border-blue-100 dark:hover:border-blue-900 transition-all",children:[g.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m=>{m.preventDefault(),m.stopPropagation(),i(!0)},className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors opacity-0 group-hover:opacity-100 z-10",title:"Edit Subject",children:g.jsx(qf,{className:"w-4 h-4"})}),g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx(xe.div,{whileHover:{rotate:15,scale:1.1},className:`w-12 h-12 rounded-xl ${t.color} flex items-center justify-center text-white shadow-sm`,children:g.jsx(xn,{className:"w-6 h-6"})}),g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 px-2 py-1 rounded-lg text-xs font-semibold text-slate-600 dark:text-slate-300 transition-colors",children:[d,"%"]})]}),g.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:t.name}),g.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(xn,{className:"w-3.5 h-3.5"}),a," ",a===1?"Chapter":"Chapters"]}),l>0&&g.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400",children:[g.jsx(xl,{className:"w-3.5 h-3.5"}),l," Done"]})]}),g.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(xe.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color}`})}),g.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:["View Details ",g.jsx(pv,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]}),n&&g.jsx(FC,{subject:t,onClose:()=>i(!1)})]})}function Fo({title:t,value:e,icon:n,colorClass:i,bgClass:a,delay:l=0}){return g.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[g.jsx(n,{className:`w-4 h-4 ${i}`})," ",t]}),g.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),g.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:g.jsx(n,{className:`w-6 h-6 ${i}`})})]})}const Xw=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function d8({onClose:t}){const{addSubject:e}=ln(),[n,i]=R.useState(""),[a,l]=R.useState(Xw[0]),u=d=>{d.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(PL,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),g.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>i(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:Xw.map(d=>g.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),g.jsx("div",{className:"pt-2",children:g.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(ff,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const f8={start_strong:{icon:xl,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:MC,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:IC,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:df,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function m8({type:t,isLocked:e=!1,dateEarned:n}){const i=f8[t],a=i.icon,[l,u]=R.useState(!1);return g.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>u(!l),children:[g.jsx(xe.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${i.color} border-transparent`}`,children:g.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),g.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:i.label}),l&&g.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[g.jsx("p",{className:"font-semibold",children:i.label}),g.jsx("p",{className:"text-slate-300",children:i.description}),!e&&n&&g.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function p8(){const{updateProfile:t}=ln(),[e,n]=R.useState(""),[i,a]=R.useState(""),l=u=>{if(u.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:i.trim()||"Not specified"})};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:g.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[g.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),g.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(C0,{className:"w-4 h-4"}),"Your Name ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{type:"text",value:e,onChange:u=>n(u.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[g.jsx(VC,{className:"w-4 h-4"}),"Class / Grade"]}),g.jsx("input",{type:"text",value:i,onChange:u=>a(u.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}function g8(){const{userProfile:t,updateProfile:e}=ln(),[n,i]=R.useState(!1),[a,l]=R.useState(t.dailyGoal?t.dailyGoal/3600:2),u=t.dailyGoal||7200,d=t.todayStudyTime||0,m=Math.min(100,Math.round(d/u*100)),p=()=>{e({dailyGoal:a*3600}),i(!1)};return g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm md:h-full flex flex-col relative overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2 z-10",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(QU,{className:"w-4 h-4"}),"Daily Goal"]}),n?g.jsxs("button",{onClick:p,className:"text-xs text-green-600 dark:text-green-400 hover:underline flex items-center gap-1 font-bold",children:["Save ",g.jsx(DC,{className:"w-3 h-3"})]}):g.jsxs("button",{onClick:()=>i(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:["Edit ",g.jsx(SU,{className:"w-3 h-3"})]})]}),g.jsxs("div",{className:"flex-1 flex items-center justify-between z-10 mt-2",children:[g.jsxs("div",{className:"space-y-1",children:[n?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"number",min:"0.5",max:"24",step:"0.5",value:a,onChange:v=>l(parseFloat(v.target.value)),className:"w-16 p-1 border rounded text-lg font-bold bg-slate-50 dark:bg-slate-700 dark:text-white",autoFocus:!0}),g.jsx("span",{className:"text-slate-500",children:"hrs"})]}):g.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[Math.floor(d/3600),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"h"})," ",Math.floor(d%3600/60),g.jsx("span",{className:"text-lg text-slate-400 font-normal",children:"m"})]}),g.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["of ",Math.floor(u/3600),"h goal"]})]}),g.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx(xe.circle,{initial:{strokeDashoffset:226},animate:{strokeDashoffset:226-226*m/100},transition:{duration:1,ease:"easeOut"},cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"226",strokeLinecap:"round",className:`${m>=100?"text-green-500":"text-blue-500"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-300",children:[m,"%"]})]})]}),m>=100&&g.jsxs(xe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 bg-green-50/90 dark:bg-green-900/90 flex items-center justify-center flex-col z-20 backdrop-blur-sm",children:[g.jsx(rl,{className:"w-10 h-10 text-green-600 dark:text-green-400 mb-2"}),g.jsx("span",{className:"text-green-800 dark:text-green-100 font-bold",children:"Goal Reached!"})]})]})}function y8(){const{subjects:t}=ln();let e=null,n=null,i=null;for(const a of t)if(a.chapters.some(u=>!u.isCompleted&&(!u.topics.length||u.topics.some(d=>!d.isCompleted)))){e=a;for(const u of a.chapters)if(!u.isCompleted)if(u.topics.length>0){const d=u.topics.find(m=>!m.isCompleted);if(d){n=u,i=d;break}}else{n=u;break}break}return!e||!n?g.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex flex-col items-center justify-center text-center h-full min-h-[160px]",children:[g.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-3 text-2xl",children:""}),g.jsx("h3",{className:"font-bold text-xl mb-1",children:"All Caught Up!"}),g.jsx("p",{className:"text-emerald-100 text-sm",children:"You've completed everything in your syllabus."}),g.jsx("div",{className:"mt-4 px-4 py-2 bg-white/20 rounded-lg text-sm font-medium backdrop-blur-sm",children:"Time to review or rest!"})]}):g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden h-full flex flex-col justify-between group",children:[g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 font-medium flex items-center gap-2 text-sm",children:[g.jsx(LC,{className:"w-4 h-4 text-blue-500 fill-current"}),"Continue Learning"]}),g.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full text-white ${e.color}`,children:e.name})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white line-clamp-1 mb-1",children:i?i.name:n.name}),g.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[g.jsx(xn,{className:"w-3.5 h-3.5"}),n.name]})]})]}),g.jsx("div",{className:"relative z-10",children:g.jsxs(Ft,{to:`/subject/${e.id}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-xl font-medium transition-all group-hover:translate-x-1",children:["Resume Study ",g.jsx(pv,{className:"w-4 h-4"})]})}),g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 ${e.color.replace("text-","bg-")}`})]})}const fd=[{text:"The expert in anything was once a beginner.",author:"Helen Hayes"},{text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{text:"There is no substitute for hard work.",author:"Thomas Edison"},{text:"The future depends on what you do today.",author:"Mahatma Gandhi"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Quality is not an act, it is a habit.",author:"Aristotle"},{text:"Your limitationit's only your imagination.",author:"Unknown"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dream it. Wish it. Do it.",author:"Unknown"},{text:"Success doesn't just find you. You have to go out and get it.",author:"Unknown"},{text:"The harder you work for something, the greater you'll feel when you achieve it.",author:"Unknown"},{text:"Dream bigger. Do bigger.",author:"Unknown"},{text:"Don't stop when you're tired. Stop when you're done.",author:"Unknown"},{text:"Wake up with determination. Go to bed with satisfaction.",author:"Unknown"},{text:"Do something today that your future self will thank you for.",author:"Unknown"},{text:"Little things make big days.",author:"Unknown"},{text:"It's going to be hard, but hard does not mean impossible.",author:"Unknown"}];function v8(){const[t,e]=R.useState(()=>Math.floor(Math.random()*fd.length)),n=()=>{e(i=>(i+1)%fd.length)};return g.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-indigo-500/20 md:h-full flex flex-col justify-between",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:g.jsx(kU,{className:"w-5 h-5 text-white"})}),g.jsx("button",{onClick:n,className:"p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"Next Quote",children:g.jsx(DU,{className:"w-4 h-4"})})]}),g.jsx(rs,{mode:"wait",children:g.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[g.jsxs("p",{className:"text-lg md:text-xl font-medium mb-3 leading-relaxed",children:['"',fd[t].text,'"']}),g.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:[" ",fd[t].author]})]},t)}),g.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl"})]})}const Ww={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},kg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function b8(){const{userProfile:t,subjects:e}=ln(),[n,i]=R.useState(!1),a=t.name==="Student",l=e.reduce((p,v)=>p+v.chapters.length,0),u=e.reduce((p,v)=>p+v.chapters.filter(b=>b.isCompleted).length,0);let d=0;e.forEach(p=>{p.chapters.forEach(v=>{v.topics&&v.topics.length>0?d+=v.topics.filter(b=>b.isCompleted).length/v.topics.length*100:d+=v.isCompleted?100:0})});const m=l===0?0:Math.round(d/l);return g.jsxs(xe.div,{className:"space-y-6 md:space-y-8",variants:Ww,initial:"hidden",animate:"show",exit:"exit",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:["Welcome, ",g.jsx("span",{className:"bg-gradient-to-r from-blue-700 to-teal-600 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name})]}),g.jsxs("p",{className:"text-sm md:text-base text-slate-500 dark:text-slate-400 mt-1 transition-colors",children:[g.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:t.grade}),"  Let's make progress!"]})]}),g.jsxs(xe.button,{id:"add-subject-btn",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 md:px-5 md:py-3 rounded-xl font-medium flex items-center justify-center gap-2 shadow-sm transition-colors text-sm md:text-base w-full md:w-auto",children:[g.jsx(au,{className:"w-4 h-4 md:w-5 md:h-5"}),"Add Subject"]})]}),g.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory -mx-4 px-4 pb-4 gap-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:mx-0 md:px-0 md:pb-0 md:overflow-visible no-scrollbar",children:[g.jsx("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto lg:col-span-1 h-full",children:g.jsx(y8,{})}),g.jsxs("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4 lg:gap-6 h-full",children:[g.jsx(g8,{}),g.jsx(v8,{})]}),g.jsxs("div",{className:"snap-center shrink-0 w-[85vw] md:w-auto grid grid-cols-2 gap-4 lg:grid-cols-1 lg:gap-6 h-full",children:[g.jsx(xe.div,{className:"col-span-2 lg:col-span-1 bg-gradient-to-br from-blue-600 to-indigo-700 dark:from-blue-700 dark:to-indigo-800 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg shadow-blue-500/20 flex flex-col justify-center min-h-[140px]",children:g.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-blue-100 font-medium mb-1 text-sm flex items-center gap-2",children:[g.jsx(HL,{className:"w-4 h-4"})," Syllabus Completion"]}),g.jsxs("div",{className:"text-4xl font-bold mb-1",children:[m,"%"]}),g.jsxs("p",{className:"text-blue-100/80 text-xs",children:[u," / ",l," Chapters Done"]})]}),g.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-white/20 flex items-center justify-center",children:g.jsxs("span",{className:"font-bold text-lg",children:[m,"%"]})})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsx(Fo,{title:"Done",value:u,icon:rl,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.1}),g.jsx(Fo,{title:"Pending",value:l-u,icon:A0,colorClass:"text-violet-500",bgClass:"bg-violet-50 dark:bg-violet-900/20",delay:.2})]})]})]}),t.earnedBadges&&t.earnedBadges.length>0&&g.jsxs(xe.div,{variants:kg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx(rl,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),g.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,v)=>g.jsx(m8,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${v}`))})]}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",g.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?g.jsxs(xe.div,{variants:Ww,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((p,v)=>g.jsx(xe.div,{variants:kg,children:g.jsx(h8,{subject:p,index:v})},p.id)),g.jsxs(xe.button,{variants:kg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>i(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:g.jsx(au,{className:"w-6 h-6"})}),g.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):g.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(A0,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),g.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),g.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&g.jsx(d8,{onClose:()=>i(!1)}),a&&g.jsx(p8,{})]})}function x8({subjectId:t,onClose:e}){const{addChapter:n}=ln(),[i,a]=R.useState(""),l=u=>{u.preventDefault(),i.trim()&&(n(t,i.trim()),a(""))};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[g.jsx(A0,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),g.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),g.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:u=>a(u.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),g.jsxs("div",{className:"flex gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),g.jsxs("button",{type:"submit",disabled:!i.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[g.jsx(au,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const _8={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function Su({children:t,className:e=""}){return g.jsx(xe.div,{variants:_8,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const HC=R.createContext(void 0);function T8({children:t}){const[e,n]=R.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),i=R.useRef(null);R.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{i.current||(i.current=new(window.AudioContext||window.webkitAudioContext)),i.current.state==="suspended"&&i.current.resume()},l=p=>{if(e)return;i.current||(i.current=new(window.AudioContext||window.webkitAudioContext));const v=i.current,b=v.createOscillator(),_=v.createGain();b.connect(_),_.connect(v.destination);const A=v.currentTime;switch(p){case"pop":b.type="sine",b.frequency.setValueAtTime(800,A),b.frequency.exponentialRampToValueAtTime(1200,A+.1),_.gain.setValueAtTime(.1,A),_.gain.exponentialRampToValueAtTime(.01,A+.1),b.start(A),b.stop(A+.1);break;case"success":u(v,523.25,A,.1,"sine"),u(v,659.25,A+.1,.1,"sine"),u(v,783.99,A+.2,.2,"sine");break;case"complete":b.type="triangle",b.frequency.setValueAtTime(440,A),b.frequency.linearRampToValueAtTime(880,A+.5),_.gain.setValueAtTime(.1,A),_.gain.linearRampToValueAtTime(.3,A+.2),_.gain.linearRampToValueAtTime(0,A+1.5),b.start(A),b.stop(A+1.5);break;case"click":b.type="square",b.frequency.setValueAtTime(200,A),_.gain.setValueAtTime(.05,A),_.gain.exponentialRampToValueAtTime(.01,A+.05),b.start(A),b.stop(A+.05);break;case"error":b.type="sawtooth",b.frequency.setValueAtTime(150,A),b.frequency.linearRampToValueAtTime(100,A+.2),_.gain.setValueAtTime(.1,A),_.gain.linearRampToValueAtTime(0,A+.3),b.start(A),b.stop(A+.3);break}},u=(p,v,b,_,A="sine")=>{const M=p.createOscillator(),L=p.createGain();M.connect(L),L.connect(p.destination),M.type=A,M.frequency.setValueAtTime(v,b),L.gain.setValueAtTime(.1,b),L.gain.exponentialRampToValueAtTime(.01,b+_),M.start(b),M.stop(b+_)},d=p=>{i.current?.state==="suspended"&&i.current.resume().catch(()=>{}),l(p)},m=()=>{n(p=>!p),e&&a()};return g.jsx(HC.Provider,{value:{isMuted:e,toggleMute:m,playSound:d},children:t})}function gv(){const t=R.useContext(HC);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function w8({subjectId:t,chapterId:e,topicId:n,currentName:i,onClose:a}){const{editTopic:l}=ln(),[u,d]=R.useState(i);R.useEffect(()=>{d(i)},[i]);const m=p=>{p.preventDefault(),u.trim()&&(l(t,e,n,u.trim()),a())};return g.jsx(rs,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Topic"}),g.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Topic Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(PC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:u,onChange:p=>d(p.target.value),placeholder:"e.g. Algebra Basics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!u.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function E8({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:i,deleteTopic:a}=ln(),{playSound:l}=gv(),[u,d]=R.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsxs(xe.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[g.jsx(xe.button,{whileTap:{scale:.8},onClick:()=>{i(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:g.jsx(xl,{className:"w-3 h-3"})}),g.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),g.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/topic:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>d(!0),className:"p-1.5 text-slate-300 hover:text-amber-500 dark:text-slate-600 dark:hover:text-amber-400 transition-all",title:"Edit Topic",children:g.jsx(qf,{className:"w-3.5 h-3.5"})}),g.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",title:"Delete Topic",children:g.jsx(Eu,{className:"w-3.5 h-3.5"})})]})]}),u&&g.jsx(w8,{subjectId:t,chapterId:e,topicId:n.id,currentName:n.name,onClose:()=>d(!1)})]})}function S8({subjectId:t,chapterId:e,currentName:n,onClose:i}){const{editChapter:a}=ln(),[l,u]=R.useState(n);R.useEffect(()=>{u(n)},[n]);const d=m=>{m.preventDefault(),l.trim()&&(a(t,e,l.trim()),i())};return g.jsx(rs,{children:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:g.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Edit Chapter"}),g.jsx("button",{onClick:i,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chapter Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(PC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:l,onChange:m=>u(m.target.value),placeholder:"e.g. Differentiation",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-800 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Changes"})]})]})]})})})}function qC({subjectId:t,chapter:e,isExpanded:n,onToggle:i}){const{deleteChapter:a,addTopic:l}=ln(),[u,d]=R.useState(!1),[m,p]=R.useState(!1),v=b=>{b.preventDefault();const _=b.target.elements.namedItem("topicName");_.value.trim()&&(l(t,e.id,_.value.trim()),_.value="",d(!1))};return g.jsxs("div",{className:"group transition-colors",children:[g.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:i,children:[g.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:g.jsx(xe.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:g.jsx($L,{className:"w-5 h-5"})})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),g.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(b=>b.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&g.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[g.jsx(xl,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&g.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:g.jsx(xe.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(b=>b.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),g.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[g.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),d(!0),n||i()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:g.jsx(au,{className:"w-4 h-4"})}),g.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),p(!0)},className:"p-2 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 dark:hover:text-amber-400 rounded-lg transition-colors",title:"Edit Chapter",children:g.jsx(qf,{className:"w-4 h-4"})}),g.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:g.jsx(Eu,{className:"w-4 h-4"})})]})]}),g.jsx(rs,{children:n&&g.jsx(xe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:g.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(b=>g.jsx(E8,{subjectId:t,chapterId:e.id,topic:b},b.id)):g.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),u&&g.jsxs(xe.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:v,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[g.jsx(eU,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),g.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>d(!1),200)}),g.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})}),m&&g.jsx(S8,{subjectId:t,chapterId:e.id,currentName:e.name,onClose:()=>p(!1)})]})}function A8(){const{id:t}=vk(),e=pf(),{subjects:n,deleteSubject:i}=ln(),[a,l]=R.useState(!1),[u,d]=R.useState(!1),[m,p]=R.useState({}),v=n.find(B=>B.id===t);if(!v)return g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:g.jsx(xn,{className:"w-8 h-8 text-slate-300"})}),g.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),g.jsx(Ft,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const b=()=>{confirm(`Are you sure you want to delete ${v.name}? ALL progress will be lost.`)&&(i(v.id),e("/"))},_=B=>{p(F=>({...F,[B]:!F[B]}))},A=v.chapters.length,M=v.chapters.filter(B=>B.isCompleted).length;let L=0;v.chapters.forEach(B=>{B.topics&&B.topics.length>0?L+=B.topics.filter(F=>F.isCompleted).length/B.topics.length*100:L+=B.isCompleted?100:0});const P=A===0?0:Math.round(L/A);return g.jsxs(Su,{className:"max-w-3xl mx-auto pb-12",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs(Ft,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[g.jsx(CL,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),g.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${v.color}`,children:[g.jsx(xn,{className:"w-3 h-3"}),v.name]}),g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:v.name}),g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[M," of ",A," chapters completed"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>d(!0),className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 p-2 rounded-lg transition-colors",title:"Edit Subject",children:g.jsx(qf,{className:"w-5 h-5"})}),g.jsx("button",{onClick:b,className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:g.jsx(Eu,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"flex justify-between items-end mb-2",children:[g.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[P,"%"]}),g.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),g.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(xe.div,{initial:{width:0},animate:{width:`${P}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),g.jsxs(xe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[g.jsx(au,{className:"w-4 h-4"}),"Add Chapter"]})]}),g.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:v.chapters.length>0?v.chapters.map(B=>g.jsx(qC,{subjectId:v.id,chapter:B,isExpanded:!!m[B.id],onToggle:()=>_(B.id)},B.id)):g.jsxs("div",{className:"p-12 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:g.jsx(xn,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),g.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&g.jsx(x8,{subjectId:v.id,onClose:()=>l(!1)}),u&&g.jsx(FC,{subject:v,onClose:()=>d(!1)})]})}const GC=R.createContext(void 0);function C8({children:t}){const[e,n]=R.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");R.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{n(a=>a==="light"?"dark":"light")};return g.jsx(GC.Provider,{value:{theme:e,toggleTheme:i},children:t})}function $C(){const t=R.useContext(GC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function N8({onClose:t}){const[e,n]=R.useState(jd[0].id),[i,a]=R.useState(new Set),l=jd.find(m=>m.id===e),u=m=>{const p=new Set(i);p.has(m)?p.delete(m):p.add(m),a(p)},d=()=>{if(l)if(i.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(p=>p.name));a(m)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(xn,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),g.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Gi,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[g.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),g.jsx("div",{className:"space-y-2",children:jd.map(m=>g.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),g.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),g.jsx("button",{onClick:d,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:i.size===l?.subjects.length?"Deselect All":"Select All"})]}),g.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>g.jsxs("div",{onClick:()=>u(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${i.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[g.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:i.has(m.name)&&g.jsx(DC,{className:"w-3.5 h-3.5 text-white"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`font-semibold ${i.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),g.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},m.name))})]})]}),g.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[g.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),g.jsx(R8,{count:i.size,currentTemplate:l,selectedSubjects:i,onClose:t})]})]})})}function R8({count:t,currentTemplate:e,selectedSubjects:n,onClose:i}){const{importSyllabusData:a}=ln(),l=()=>{if(t===0||!e)return;const u=e.subjects.filter(d=>n.has(d.name));a(u),i()};return g.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[g.jsx(jC,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function k8(){const{user:t,logout:e}=Ha(),{userProfile:n,updateProfile:i,resetData:a,exportData:l,importData:u}=ln(),{isMuted:d,toggleMute:m}=gv(),{theme:p,toggleTheme:v}=$C(),b=R.useRef(null),_=R.useRef(null),[A,M]=R.useState(!1),[L,P]=R.useState(!1),[B,F]=R.useState("Notification"in window&&Notification.permission==="granted"),K=()=>{const I=b.current?.value.trim()||"",E=_.current?.value.trim()||"";if(!I){alert("Please enter your name");return}i({name:I,grade:E}),P(!1),alert(` Profile updated successfully!

You can update your profile anytime.`)},J=()=>{const I=document.createElement("input");I.type="file",I.accept=".json",I.onchange=E=>{const C=E.target.files?.[0];if(C){const j=new FileReader;j.onload=k=>{const V=k.target?.result;u(V)&&alert("Data imported successfully!")},j.readAsText(C)}},I.click()},ee=()=>{confirm("Do you want to restart the welcome tour?")&&(localStorage.removeItem("tracked_tour_completed"),window.location.reload())},re=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}if(Notification.permission==="granted")F(!B);else if(Notification.permission!=="denied"){const I=await Notification.requestPermission();F(I==="granted")}else alert("Notifications are blocked. Please enable them in your browser settings.")};return g.jsxs(Su,{className:"max-w-2xl mx-auto space-y-8 pb-10",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(C0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"Settings"})]}),g.jsxs(xe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(C0,{className:"w-5 h-5 text-blue-500"}),"Profile Information"]})}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),g.jsx("input",{ref:b,type:"text",defaultValue:n?.name||"",disabled:!L,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${L?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"Enter your name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),g.jsx("input",{ref:_,type:"text",defaultValue:n?.grade||"",disabled:!L,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${L?"":"opacity-60 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,placeholder:"e.g. HSC 2026"})]})]}),g.jsx("div",{className:"pt-2 flex gap-3",children:L?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>P(!1),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",children:"Cancel"}),g.jsxs("button",{onClick:K,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm shadow-sm",children:[g.jsx(ff,{className:"w-4 h-4"}),"Save Changes"]})]}):g.jsxs("button",{onClick:()=>P(!0),className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[g.jsx(Yw,{className:"w-4 h-4"}),"Edit Profile"]})})]})]}),g.jsxs(xe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(bU,{className:"w-5 h-5 text-purple-500"}),"Appearance & Preferences"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${p==="dark"?"bg-slate-700 text-slate-300":"bg-orange-100 text-orange-600"}`,children:p==="dark"?g.jsx(df,{className:"w-5 h-5"}):g.jsx(N0,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"App Theme"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Switch between light and dark mode"})]})]}),g.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${p==="dark"?"bg-blue-600":"bg-slate-200"}`,children:g.jsx("span",{className:`${p==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${d?"bg-slate-100 dark:bg-slate-700 text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:d?g.jsx(BC,{className:"w-5 h-5"}):g.jsx(zC,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Sound Effects"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Play sounds for timer and interactions"})]})]}),g.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${d?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:g.jsx("span",{className:`${d?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${B?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:B?g.jsx(jL,{className:"w-5 h-5"}):g.jsx(IL,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Notifications"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get reminders for study sessions"})]})]}),g.jsx("button",{onClick:re,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${B?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:g.jsx("span",{className:`${B?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",children:g.jsx(lU,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Language"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"App language preference"})]})]}),g.jsxs("select",{className:"bg-transparent border border-slate-200 dark:border-slate-600 rounded-lg text-sm px-2 py-1 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500 outline-none",children:[g.jsx("option",{children:"English"}),g.jsx("option",{disabled:!0,children:"Bengali (Coming Soon)"})]})]})]})]}),g.jsxs(xe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(ff,{className:"w-5 h-5 text-green-500"}),"Data & Backup"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>M(!0),children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:g.jsx(xn,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Import Syllabus Template"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quickly add pre-made subject templates"})]})]}),g.jsx("button",{className:"text-slate-400",children:g.jsx(Yw,{className:"w-4 h-4"})})]}),g.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[g.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(jC,{className:"w-4 h-4"}),"Export Data"]}),g.jsxs("button",{onClick:J,className:"flex items-center justify-center gap-2 py-2.5 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-sm font-medium",children:[g.jsx(s8,{className:"w-4 h-4"}),"Import Data"]})]}),g.jsx("div",{className:"p-4 bg-red-50/50 dark:bg-red-900/10",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:g.jsx(Eu,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-red-700 dark:text-red-400 font-medium",children:"Reset Application"}),g.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete all study data"})]})]}),g.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-xs shadow-sm",children:"Reset Data"})]})})]})]}),g.jsxs(xe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-colors",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:g.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(HU,{className:"w-5 h-5 text-gray-500"}),"Support & Info"]})}),g.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsx("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:ee,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",children:g.jsx(UC,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Restart Welcome Tour"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show the onboarding guide again"})]})]})}),g.jsx("a",{href:"https://github.com/shahnewajsrabon/Study-Mate/issues/new?title=Bug%3A%20&body=%23%23%20Bug%20Description",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:g.jsx(UL,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Report a Bug"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Help us improve by reporting issues"})]})]})}),g.jsx("a",{href:"https://chat.whatsapp.com/K9mUpCp6Moo4poVbW5zgfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:g.jsx(hf,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-slate-800 dark:text-white font-medium",children:"Join WhatsApp Group"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Get help & discuss with community"})]})]})}),g.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center",children:g.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"TrackEd v1.0.0  Made with  for Students"})})]})]}),t&&g.jsxs(xe.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:e,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[g.jsx(OC,{className:"w-5 h-5"}),"Sign Out"]}),g.jsx(rs,{children:A&&g.jsx(N8,{onClose:()=>M(!1)})})]})}function I8(t){let e=0,n=0,i=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(u=>{u.isCompleted&&n++,u.topics&&(i+=u.topics.length,u.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}}function D8(t){const e=new Date,i=Array.from({length:7},(l,u)=>{const d=new Date;return d.setDate(e.getDate()-(6-u)),d.toISOString().split("T")[0]}).map(l=>{let u=0;return t.forEach(d=>{d.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&u++})})}),{date:l,count:u}}),a=Math.max(...i.map(l=>l.count),1);return{activityData:i,maxCount:a}}function j8(t){const e=new Set;t.forEach(d=>d.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((d,m)=>new Date(m).getTime()-new Date(d).getTime());let i=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const u=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===u){i=1;let m=new Date(d);for(let p=1;p<n.length;p++){const v=new Date(n[p]),b=Math.abs(m.getTime()-v.getTime());if(Math.round(b/(1e3*60*60*24))===1)i++,m=v;else break}}}return i}function M8(){const{subjects:t}=ln(),{totalChapters:e,completedChapters:n,totalTopics:i,completedTopics:a}=I8(t),{activityData:l,maxCount:u}=D8(t),d=j8(t),m=i>0?Math.round(a/i*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return g.jsxs(Su,{className:"max-w-4xl mx-auto pb-12",children:[g.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[g.jsx(R0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),g.jsxs(xe.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Fo,{title:"Total Streak",value:`${d} days`,icon:IC,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Fo,{title:"Topics Done",value:`${a} / ${i}`,icon:xn,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Fo,{title:"Chapters Done",value:`${n} / ${e}`,icon:rl,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),g.jsx("div",{className:"sm:col-span-1",children:g.jsx(Fo,{title:"Completion",value:`${m}%`,icon:xl,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(BL,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),g.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((v,b)=>g.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[g.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:g.jsx(xe.div,{initial:{height:0},animate:{height:`${v.count/u*100}%`},transition:{duration:1,delay:b*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:g.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[v.count," Topics"]})})}),g.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"})})]},v.date))})]}),g.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[g.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[g.jsx(xn,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),g.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(v=>{const b=v.chapters.reduce((M,L)=>M+(L.topics?.length||0),0),_=v.chapters.reduce((M,L)=>M+(L.topics?.filter(P=>P.isCompleted).length||0),0),A=b>0?Math.round(_/b*100):0;return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:v.name}),g.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[A,"%"]})]}),g.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(xe.div,{initial:{width:0},animate:{width:`${A}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${v.color}`})})]},v.id)}),t.length===0&&g.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function V8(){const{subjects:t}=ln(),[e,n]=R.useState(""),[i,a]=R.useState("all"),[l,u]=R.useState("all"),[d,m]=R.useState({}),p=t.flatMap(_=>_.chapters.map(A=>({...A,subjectName:_.name,subjectColor:_.color,subjectId:_.id}))),v=p.filter(_=>{const A=_.name.toLowerCase().includes(e.toLowerCase())||_.subjectName.toLowerCase().includes(e.toLowerCase()),M=i==="all"||_.subjectId===i,L=l==="all"||(l==="completed"?_.isCompleted:!_.isCompleted);return A&&M&&L}),b=_=>{m(A=>({...A,[_]:!A[_]}))};return g.jsxs(Su,{className:"max-w-4xl mx-auto pb-12",children:[g.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[g.jsx(xn,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"All Chapters Tracker"]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-8 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-end mb-2",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Overall Progress"}),g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm transition-colors",children:[p.filter(_=>_.isCompleted).length," of ",p.length," chapters completed"]})]}),g.jsxs("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 transition-colors",children:[p.length>0?Math.round(p.filter(_=>_.isCompleted).length/p.length*100):0,"%"]})]}),g.jsx("div",{className:"h-4 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:g.jsx(xe.div,{initial:{width:0},animate:{width:`${p.length>0?Math.round(p.filter(_=>_.isCompleted).length/p.length*100):0}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-600 dark:bg-blue-500"})})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-6 flex flex-col md:flex-row gap-4 transition-colors",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(LU,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Search chapters or subjects...",value:e,onChange:_=>n(_.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-colors"})]}),g.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[g.jsxs("select",{value:i,onChange:_=>a(_.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[g.jsx("option",{value:"all",children:"All Subjects"}),t.map(_=>g.jsx("option",{value:_.id,children:_.name},_.id))]}),g.jsxs("select",{value:l,onChange:_=>u(_.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[g.jsx("option",{value:"all",children:"All Status"}),g.jsx("option",{value:"completed",children:"Completed"}),g.jsx("option",{value:"pending",children:"Pending"})]})]})]}),g.jsx("div",{className:"space-y-4",children:v.length>0?v.map(_=>g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[g.jsx("div",{className:"bg-slate-50/50 dark:bg-slate-700/30 px-4 py-1 text-xs font-semibold text-slate-500 dark:text-slate-400 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between transition-colors",children:g.jsx("span",{className:_.subjectColor,children:_.subjectName})}),g.jsx(qC,{subjectId:_.subjectId,chapter:_,isExpanded:!!d[_.id],onToggle:()=>b(_.id)})]},_.id)):g.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:g.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No chapters found matching your filters."})})})]})}function O8(){const{saveStudySession:t,subjects:e}=ln(),{user:n}=Ha(),{playSound:i,isMuted:a,toggleMute:l}=gv(),[u,d]=R.useState("stopwatch"),[m,p]=R.useState(!1),[v,b]=R.useState(0),[_,A]=R.useState(0),[M,L]=R.useState(30),[P,B]=R.useState("timer"),[F,K]=R.useState("today"),[J,ee]=R.useState(""),[re,I]=R.useState(""),[E,C]=R.useState(""),[j,k]=R.useState(!1),[V,D]=R.useState([]),[Ee,Pe]=R.useState(!0),Q=R.useRef(null);R.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const oe=(le,Ce)=>{Notification.permission==="granted"&&new Notification(le,{body:Ce,icon:"/vite.svg"})};R.useEffect(()=>(m?Q.current=window.setInterval(()=>{b(le=>u==="stopwatch"?le+1:le<=1?(p(!1),i("complete"),oe("Time's Up! ","Your study session is complete. Take a break!"),0):le-1)},1e3):Q.current&&clearInterval(Q.current),()=>{Q.current&&clearInterval(Q.current)}),[m,u,i]),R.useEffect(()=>{if(p(!1),k(!1),u==="stopwatch")b(0),A(0);else if(u==="pomodoro"||u==="countdown"){const le=M*60;b(le),A(le)}},[u,M]),R.useEffect(()=>{(async()=>{if(n){Pe(!0);try{const Ce=cf(Di,"users");let Le="userProfile.todayStudyTime";F==="week"?Le="userProfile.weeklyStudyTime":F==="month"?Le="userProfile.monthlyStudyTime":F==="all_time"&&(Le="userProfile.totalStudyTime");const Qt=bC(Ce,xC(Le,"desc"),_C(10)),Rs=await mL(Qt),li=[];Rs.forEach(ci=>{const Xt=ci.data();if(Xt.userProfile){let os=0;F==="today"?os=Xt.userProfile.todayStudyTime||0:F==="week"?os=Xt.userProfile.weeklyStudyTime||0:F==="month"?os=Xt.userProfile.monthlyStudyTime||0:os=Xt.userProfile.totalStudyTime||0,li.push({userId:ci.id,userName:Xt.userProfile.name||"Anonymous",displayTime:os})}}),D(li)}catch(Ce){console.error("Error fetching leaderboard:",Ce)}finally{Pe(!1)}}})()},[n,P,F]),R.useEffect(()=>(m?document.title=`${U(v)} - ${E||(u==="pomodoro"?"Focus":"Timer")}`:document.title="Study Tracker",()=>{document.title="Study Tracker"}),[m,v,u,E]);const fe=()=>{!m&&u!=="stopwatch"&&v===0&&b(_),p(!m),i("click")},Ae=()=>{p(!1),k(!1),b(u==="stopwatch"?0:_),i("click")},Ve=async()=>{if(!re){alert("Please select a subject to save session.");return}let le=0;if(u==="stopwatch"?le=v:le=_-v,le<60){alert("Session must be at least 1 minute to save.");return}await t(le,re,E),k(!0),i("success")},U=le=>{const Ce=Math.floor(le/3600),Le=Math.floor(le%3600/60),Qt=le%60;return Ce>0?`${Ce}:${Le.toString().padStart(2,"0")}:${Qt.toString().padStart(2,"0")}`:`${Le.toString().padStart(2,"0")}:${Qt.toString().padStart(2,"0")}`},te=le=>{const Ce=Math.floor(le/3600),Le=Math.floor(le%3600/60),Qt=le%60;return`${Ce.toString().padStart(2,"0")}:${Le.toString().padStart(2,"0")}:${Qt.toString().padStart(2,"0")}`},ue=u==="stopwatch"?100:Math.max(0,v/_*100),de=120,Te=2*Math.PI*de,Re=Te-ue/100*Te;return g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("header",{className:"flex items-center justify-between",children:[g.jsx("div",{children:g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Focus Timer"})}),g.jsx("button",{onClick:l,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:a?g.jsx(BC,{className:"w-6 h-6"}):g.jsx(zC,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6 md:hidden",children:[g.jsx("button",{onClick:()=>B("timer"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${P==="timer"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Timer"}),g.jsx("button",{onClick:()=>B("leaderboard"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${P==="leaderboard"?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Leaderboard"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:`${P==="timer"?"block":"hidden"} md:block flex flex-col space-y-6`,children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:"My Focus Goal"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"What are you working on? (e.g. Physics Chapter 3)",className:"flex-1 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-4 py-3 text-slate-800 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:E,onChange:le=>C(le.target.value),disabled:m}),g.jsxs("select",{className:"w-1/3 bg-slate-50 dark:bg-slate-700 border-none rounded-xl px-3 py-3 text-slate-600 dark:text-slate-300 font-medium focus:ring-2 focus:ring-blue-500 cursor-pointer text-sm",value:re,onChange:le=>I(le.target.value),disabled:m,children:[g.jsx("option",{value:"",children:"Subject"}),e.map(le=>g.jsx("option",{value:le.id,children:le.name},le.id))]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden transition-colors min-h-[400px]",children:[g.jsxs("div",{className:"relative w-64 h-64 md:w-72 md:h-72 mb-8 flex items-center justify-center",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"50%",cy:"50%",r:de,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),g.jsx("circle",{cx:"50%",cy:"50%",r:de,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:Te,strokeDashoffset:u==="stopwatch"?0:Re,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${m?u==="pomodoro"?"text-rose-500":"text-blue-500":"text-slate-300 dark:text-slate-600"}`})]}),g.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[g.jsx("div",{className:`text-5xl md:text-6xl font-bold tracking-tight tabular-nums mb-2 ${m?u==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:U(v)}),g.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium uppercase tracking-widest text-sm",children:m?"Running":"Paused"})]})]}),g.jsxs("div",{className:"flex items-center gap-6 z-10",children:[!m&&g.jsx("button",{onClick:Ae,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all hover:scale-110",title:"Reset",children:g.jsx(UC,{className:"w-5 h-5"})}),g.jsx("button",{onClick:fe,className:`p-6 rounded-full shadow-xl transition-all hover:scale-105 active:scale-95 ${m?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:m?g.jsx(TU,{className:"w-8 h-8 fill-current"}):g.jsx(LC,{className:"w-8 h-8 ml-1 fill-current"})}),!m&&(u==="stopwatch"&&v>60||u!=="stopwatch"&&v!==_)&&!j&&g.jsx("button",{onClick:Ve,className:"p-3 rounded-full bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-all hover:scale-110 animate-pulse",title:"Save Session",children:g.jsx(ff,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"mt-8 flex gap-2",children:[g.jsx("button",{onClick:()=>{d("stopwatch"),L(0)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="stopwatch"?"bg-blue-100 text-blue-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Stopwatch"}),g.jsx("button",{onClick:()=>{d("pomodoro"),L(25)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="pomodoro"?"bg-rose-100 text-rose-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Pomodoro"}),g.jsx("button",{onClick:()=>{d("countdown"),L(30)},className:`px-4 py-2 text-sm font-medium rounded-full transition-all ${u==="countdown"?"bg-amber-100 text-amber-700":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:"Countdown"})]}),!m&&(u==="pomodoro"||u==="countdown")&&g.jsxs("div",{className:"mt-4 flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[g.jsx("span",{className:"text-slate-400 text-sm",children:"Duration:"}),g.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:M,onChange:le=>L(Number(le.target.value)),className:"w-32 accent-blue-600 cursor-pointer"}),g.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-bold w-12 text-center",children:[M,"m"]})]})]})]}),g.jsxs("div",{className:`${P==="leaderboard"?"block":"hidden"} md:block bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-100 dark:border-slate-700 h-fit transition-colors sticky top-24`,children:[g.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(rl,{className:"w-6 h-6 text-yellow-500"}),g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]})}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"Search name...",value:J,onChange:le=>ee(le.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-800 dark:text-white placeholder:text-slate-400 transition-all font-medium"}),g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),g.jsx("div",{className:"flex p-1.5 bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:["today","week","month","all_time"].map(le=>g.jsx("button",{onClick:()=>K(le),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize ${F===le?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-white/5"}`,children:le==="all_time"?"Lifetime":le==="today"?"24 Hours":le==="week"?"7 Days":"1 Month"},le))})]}),Ee?g.jsxs("div",{className:"text-center py-12 text-slate-400 flex flex-col items-center",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),g.jsx("p",{className:"text-sm font-medium",children:"Loading rankings..."})]}):g.jsxs("div",{className:"space-y-3",children:[V.filter(le=>le.userName.toLowerCase().includes(J.toLowerCase())).map((le,Ce)=>g.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all ${le.userId===n?.uid?"bg-blue-50/50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/30 border border-transparent"}`,children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"font-bold text-slate-400 w-6 text-center text-sm",children:[Ce+1,"."]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-sm border-2
                                                ${Ce===0?"bg-yellow-100 text-yellow-600 border-yellow-200":Ce===1?"bg-slate-200 text-slate-600 border-slate-300":Ce===2?"bg-orange-100 text-orange-600 border-orange-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-white dark:border-slate-600"}
                                            `,children:le.userName.charAt(0).toUpperCase()}),g.jsxs("div",{children:[g.jsx("p",{className:`font-bold text-sm ${le.userId===n?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-white"}`,children:le.userName}),g.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[g.jsx("span",{className:`w-2 h-2 rounded-full ${le.displayTime>3600?"bg-emerald-400":"bg-slate-300 dark:bg-slate-600"}`}),g.jsx("span",{className:"text-xs text-slate-400 font-medium",children:le.displayTime>3600?"Studying":"Offline"})]})]})]})]}),g.jsx("div",{className:"text-right",children:g.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 text-base md:text-lg tabular-nums tracking-tight",children:te(le.displayTime)})})]},le.userId)),V.length===0&&g.jsxs("div",{className:"text-center py-10 px-6 text-slate-500 bg-slate-50 dark:bg-slate-700/30 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700",children:[g.jsx("p",{className:"text-sm",children:"No records found for this period."}),g.jsx("p",{className:"text-xs mt-1 text-slate-400",children:"Be the first to start studying!"})]})]})]})]}),g.jsx(rs,{children:j&&g.jsxs(xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:bottom-8 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 z-50",children:[g.jsx("div",{className:"bg-emerald-500 rounded-full p-1",children:g.jsx(xl,{className:"w-4 h-4 text-white"})}),g.jsx("span",{className:"font-medium",children:"Session Saved! Great Job."})]})})]})}const P8={start_strong:"",streak_master:"",subject_conqueror:"",night_owl:""},L8={start_strong:"Fast Starter",streak_master:"Streak Master",subject_conqueror:"Subject Conqueror",night_owl:"Night Owl"};function U8({uid:t,isOpen:e,onClose:n}){const[i,a]=R.useState(null),[l,u]=R.useState(!1);return R.useEffect(()=>{e&&t?(async()=>{u(!0);try{const m=sl(Di,"users",t),p=await fL(m);p.exists()?a(p.data().userProfile):a(null)}catch(m){console.error("Error fetching user profile:",m)}finally{u(!1)}})():a(null)},[e,t]),g.jsx(rs,{children:e&&g.jsx(g.Fragment,{children:g.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs(xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:d=>d.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"relative h-24 bg-gradient-to-r from-indigo-500 to-purple-600",children:[g.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-1 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors",children:g.jsx(Gi,{className:"w-5 h-5"})}),g.jsx("div",{className:"absolute -bottom-10 left-6",children:g.jsx("div",{className:"w-20 h-20 rounded-full bg-white dark:bg-slate-800 p-1 shadow-lg",children:g.jsx("div",{className:"w-full h-full rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-2xl font-bold text-indigo-600 dark:text-indigo-300",children:i?.name?.charAt(0).toUpperCase()||"?"})})})]}),g.jsx("div",{className:"pt-12 pb-6 px-6",children:l?g.jsx("div",{className:"flex justify-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):i?g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{children:g.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[i.name,g.jsx("span",{className:"text-xs font-normal px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:i.grade})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded-xl border border-orange-100 dark:border-orange-800/50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 mb-1",children:[g.jsx(MC,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase",children:"Streak"})]}),g.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[i.currentStreak," Days"]})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-xl border border-blue-100 dark:border-blue-800/50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 mb-1",children:[g.jsx(nU,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase",children:"Total Study"})]}),g.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[Math.floor(i.totalStudyTime/3600),"h ",Math.floor(i.totalStudyTime%3600/60),"m"]})]})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase mb-3 flex items-center gap-2",children:[g.jsx(rl,{className:"w-4 h-4"}),"Badges Earned (",i.earnedBadges?.length||0,")"]}),i.earnedBadges&&i.earnedBadges.length>0?g.jsx("div",{className:"grid grid-cols-4 gap-2",children:i.earnedBadges.map((d,m)=>g.jsx("div",{className:"flex flex-col items-center gap-1 p-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",title:L8[d.type],children:g.jsx("span",{className:"text-2xl",children:P8[d.type]})},m))}):g.jsx("p",{className:"text-sm text-slate-400 italic",children:"No badges earned yet."})]})]}):g.jsx("div",{className:"text-center text-slate-500",children:"User profile not found."})})]})})})})}const z8=t=>t?t.split(/(`[^`]+`|\*\*[^*]+\*\*|\*[^*]+\*|https?:\/\/[^\s]+)/g).map((n,i)=>n.startsWith("`")&&n.endsWith("`")&&n.length>2?g.jsx("code",{className:"bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded text-sm font-mono text-slate-800 dark:text-slate-200",children:n.slice(1,-1)},i):n.startsWith("**")&&n.endsWith("**")&&n.length>4?g.jsx("strong",{className:"font-bold",children:n.slice(2,-2)},i):n.startsWith("*")&&n.endsWith("*")&&n.length>2?g.jsx("em",{className:"italic",children:n.slice(1,-1)},i):n.match(/^https?:\/\//)?g.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline break-all",onClick:a=>a.stopPropagation(),children:n},i):n):[],B8=[{emoji:"",icon:hU},{emoji:"",icon:WU},{emoji:"",icon:fU},{emoji:"",icon:aU}];function F8(){const{user:t}=Ha(),[e,n]=R.useState([]),[i,a]=R.useState(""),[l,u]=R.useState(null),d=R.useRef(null),[m,p]=R.useState(!1),[v,b]=R.useState(null),[_,A]=R.useState(null);R.useEffect(()=>{const J=bC(cf(Di,"messages"),xC("createdAt","asc"),_C(100)),ee=SC(J,re=>{const I=[];re.forEach(E=>{I.push({id:E.id,...E.data()})}),n(I)});return()=>ee()},[]),R.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[e.length]);const M=async J=>{if(J.preventDefault(),!(!i.trim()||!t)){p(!0);try{const ee={text:i.trim(),uid:t.uid,displayName:t.displayName||"Anonymous",createdAt:uL(),...l&&{replyTo:{id:l.id,displayName:l.displayName,text:l.text}}};await EC(cf(Di,"messages"),ee),a(""),u(null)}catch(ee){console.error("Error sending message:",ee),alert("Failed to send message. Please try again.")}finally{p(!1)}}},L=async(J,ee)=>{if(!t)return;b(null);const re=sl(Di,"messages",J),I=e.find(k=>k.id===J);if(!I)return;const E=I.reactions||{},C=E[t.uid]===ee,j={...E};C?delete j[t.uid]:j[t.uid]=ee;try{await pL(re,{reactions:j})}catch(k){console.error("Failed to update reaction",k)}},P=J=>J?J.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...",B=J=>{if(!J)return"";const ee=J.toDate(),re=new Date,I=new Date;return I.setDate(I.getDate()-1),ee.toDateString()===re.toDateString()?"Today":ee.toDateString()===I.toDateString()?"Yesterday":ee.toLocaleDateString()},F=e.reduce((J,ee)=>{const re=B(ee.createdAt),I=J[J.length-1];return I&&I.date===re?I.msgs.push(ee):J.push({date:re,msgs:[ee]}),J},[]),K=({text:J})=>g.jsx(g.Fragment,{children:z8(J)});return g.jsxs(Su,{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-4rem)] flex flex-col",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-shrink-0 px-4 md:px-0",children:[g.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg text-indigo-600 dark:text-indigo-400",children:g.jsx(hf,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Community Chat"}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Connect with fellow students"})]})]}),g.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col relative mx-2 md:mx-0",children:[g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:[F.map((J,ee)=>g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex justify-center sticky top-0 z-10",children:g.jsx("span",{className:"bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 text-xs font-medium px-3 py-1 rounded-full backdrop-blur-sm shadow-sm",children:J.date})}),J.msgs.map((re,I)=>{const E=re.uid===t?.uid,C=I===0||J.msgs[I-1].uid!==re.uid,j=re.reactions&&Object.keys(re.reactions).length>0,k={};return re.reactions&&Object.values(re.reactions).forEach(V=>{k[V]=(k[V]||0)+1}),g.jsx(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`group flex flex-col ${E?"items-end":"items-start"}`,onMouseLeave:()=>b(null),children:g.jsxs("div",{className:`flex items-end gap-2 max-w-[85%] md:max-w-[70%] ${E?"flex-row-reverse":"flex-row"}`,children:[g.jsx("div",{className:"w-8 flex-shrink-0 flex flex-col items-center",children:C?g.jsx("button",{onClick:()=>A(re.uid),className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold shadow-sm transition-transform hover:scale-110 ${E?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 cursor-pointer":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300 cursor-pointer"}`,children:E?g.jsx(r8,{className:"w-4 h-4"}):re.displayName.charAt(0).toUpperCase()}):g.jsx("div",{className:"w-8"})}),g.jsxs("div",{className:"relative group/bubble",children:[re.replyTo&&g.jsxs("div",{className:`mb-1 text-xs px-3 py-1 rounded-lg border-l-4 opacity-80 ${E?"bg-blue-700/20 border-blue-300 text-blue-100":"bg-slate-200 dark:bg-slate-900 border-indigo-400 text-slate-600 dark:text-slate-400"}`,children:[g.jsxs("span",{className:"font-bold mr-1",children:[re.replyTo.displayName,":"]}),g.jsx("span",{className:"line-clamp-1 italic",children:re.replyTo.text})]}),g.jsxs("div",{className:`px-4 py-2 text-sm shadow-sm relative ${E?"bg-blue-600 text-white rounded-2xl rounded-tr-none":"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-2xl rounded-tl-none"}`,children:[!E&&C&&g.jsx("button",{onClick:()=>A(re.uid),className:"text-[10px] font-bold opacity-70 mb-0.5 text-indigo-600 dark:text-indigo-400 hover:underline",children:re.displayName}),g.jsx("p",{className:"leading-relaxed whitespace-pre-wrap",children:g.jsx(K,{text:re.text})}),g.jsx("div",{className:`text-[10px] text-right mt-1 opacity-60 ${E?"text-blue-100":"text-slate-500 dark:text-slate-400"}`,children:P(re.createdAt)}),j&&g.jsx("div",{className:`absolute -bottom-3 ${E?"right-0":"left-0"} flex gap-1 bg-white dark:bg-slate-800 rounded-full px-1.5 py-0.5 shadow-sm border border-slate-100 dark:border-slate-600 text-xs`,children:Object.entries(k).map(([V,D])=>g.jsxs("span",{className:"flex items-center",children:[V," ",D>1&&g.jsx("span",{className:"ml-0.5 text-[10px] font-bold text-slate-500",children:D})]},V))})]}),g.jsxs("div",{className:`absolute top-0 ${E?"-left-16":"-right-16"} h-full flex items-center gap-1 opacity-0 group-hover/bubble:opacity-100 transition-opacity`,children:[g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:V=>{V.stopPropagation(),b(v===re.id?null:re.id)},className:"p-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 transition-colors",children:g.jsx(GU,{className:"w-4 h-4"})}),g.jsx(rs,{children:v===re.id&&g.jsx(xe.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8},className:`absolute bottom-full ${E?"right-0":"left-0"} mb-2 bg-white dark:bg-slate-800 rounded-full shadow-lg border border-slate-200 dark:border-slate-600 p-1 flex gap-1 z-20`,children:B8.map(V=>g.jsx("button",{onClick:()=>L(re.id,V.emoji),className:`p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-lg transition-transform hover:scale-125 ${re.reactions?.[t?.uid||""]===V.emoji?"bg-indigo-50 dark:bg-indigo-900/50":""}`,children:V.emoji},V.emoji))})})]}),g.jsx("button",{onClick:()=>u(re),className:"p-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/50 transition-colors",title:"Reply",children:g.jsx(MU,{className:"w-4 h-4"})}),E&&g.jsx("button",{onClick:async()=>{if(confirm("Delete this message?"))try{await gL(sl(Di,"messages",re.id))}catch(V){console.error("Error deleting message:",V),alert("Failed to delete message.")}},className:"p-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/50 transition-colors",title:"Delete",children:g.jsx(Eu,{className:"w-4 h-4"})})]})]})]})},re.id)})]},ee)),g.jsx("div",{ref:d,className:"h-2"})]}),g.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700",children:[g.jsx(rs,{children:l&&g.jsxs(xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg mb-2 border-l-4 border-blue-500",children:[g.jsxs("div",{className:"overflow-hidden",children:[g.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 block",children:["Replying to ",l.uid===t?.uid?"Yourself":l.displayName]}),g.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300 truncate block",children:l.text})]}),g.jsx("button",{onClick:()=>u(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full text-slate-500",children:g.jsx(Gi,{className:"w-4 h-4"})})]})}),g.jsxs("form",{onSubmit:M,className:"flex gap-2",children:[g.jsx("input",{type:"text",value:i,onChange:J=>a(J.target.value),placeholder:l?"Type your reply...":"Type a message...",className:"flex-1 px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all"}),g.jsx("button",{type:"submit",disabled:!i.trim()||m,className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-sm",children:g.jsx(zU,{className:"w-5 h-5"})})]})]})]}),g.jsx(U8,{uid:_||"",isOpen:!!_,onClose:()=>A(null)})]})}function H8({steps:t,onComplete:e,onSkip:n}){const[i,a]=R.useState(0),[l,u]=R.useState(null),d=t[i];R.useEffect(()=>{if(d.targetId){const v=document.getElementById(d.targetId);v?(u(v.getBoundingClientRect()),v.scrollIntoView({behavior:"smooth",block:"center"})):u(null)}else u(null)},[i,d,t]);const m=()=>{i<t.length-1?a(v=>v+1):e()},p=()=>{i>0&&a(v=>v-1)};return g.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&g.jsx(xe.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),g.jsx(rs,{mode:"wait",children:g.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&d.position!=="center"?{top:d.position==="bottom"?l.bottom+20:d.position==="top"?l.top-200:void 0,left:d.position==="right"?l.right+20:d.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(d.position==="bottom",0)}:{},children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",i+1," of ",t.length]}),g.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:g.jsx(Gi,{className:"w-4 h-4"})})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:d.title}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:d.description}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("button",{onClick:p,disabled:i===0,className:`flex items-center gap-1 text-sm font-medium ${i===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[g.jsx(YL,{className:"w-4 h-4"})," Back"]}),g.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[i===t.length-1?"Finish":"Next",i<t.length-1&&g.jsx(XL,{className:"w-4 h-4"})]})]})]},i)})]})}const q8=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function G8(){const{logout:t}=Ha(),{theme:e,toggleTheme:n}=$C(),i=Fi(),a=yk(),[l,u]=R.useState(!1);R.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true")},[]);const d=()=>{u(!1),localStorage.setItem("tracked_tour_completed","true")},m=p=>i.pathname===p;return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[l&&g.jsx(H8,{steps:q8,onComplete:d,onSkip:d}),g.jsxs("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg",children:g.jsx(xn,{className:"w-5 h-5 text-white"})}),g.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent",children:"TrackEd"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors","aria-label":"Toggle Theme",children:e==="light"?g.jsx(df,{className:"w-5 h-5"}):g.jsx(N0,{className:"w-5 h-5"})}),g.jsx(Ft,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Rg,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"md:flex max-w-5xl mx-auto",children:[g.jsxs("aside",{className:"hidden md:flex flex-col w-64 h-screen sticky top-0 p-6 border-r border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 transition-colors duration-300",children:[g.jsxs("div",{className:"flex items-center justify-between mb-10",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:g.jsx(xn,{className:"w-6 h-6 text-white"})}),g.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"TrackEd"})]}),g.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors","aria-label":"Toggle Theme",children:e==="light"?g.jsx(df,{className:"w-5 h-5"}):g.jsx(N0,{className:"w-5 h-5"})})]}),g.jsxs("nav",{className:"space-y-2 flex-1",children:[g.jsxs(Ft,{to:"/",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[g.jsx($w,{className:"w-5 h-5"}),"Dashboard"]}),g.jsxs(Ft,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/analytics")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[g.jsx(R0,{className:"w-5 h-5"}),"Analytics"]}),g.jsxs(Ft,{to:"/chapters",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/chapters")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[g.jsx(Kw,{className:"w-5 h-5"}),"Chapters"]}),g.jsxs(Ft,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${i.pathname==="/timer"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-white"}`,children:[g.jsx(Qw,{className:"w-5 h-5"}),"Timer"]}),g.jsxs(Ft,{to:"/chat",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/chat")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[g.jsx(hf,{className:"w-5 h-5"}),"Community"]}),g.jsxs(Ft,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/settings")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[g.jsx(Rg,{className:"w-5 h-5"}),"Settings"]})]}),g.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-700",children:[g.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-400 transition-colors w-full text-left mb-4",children:[g.jsx(OC,{className:"w-5 h-5"}),"Sign Out"]}),g.jsxs("div",{className:"text-xs text-slate-400 dark:text-slate-500",children:[g.jsx("p",{children:"Empowering Students"}),g.jsx("p",{className:"mt-1",children:" 2026 TrackEd"})]})]})]}),g.jsx("main",{className:"flex-1 p-4 md:p-8",children:g.jsx(rs,{mode:"wait",children:a&&R.cloneElement(a,{key:i.pathname})})})]}),g.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[g.jsxs(Ft,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${m("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx($w,{className:"w-6 h-6"}),g.jsx("span",{children:"Home"})]}),g.jsxs(Ft,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${m("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(R0,{className:"w-6 h-6"}),g.jsx("span",{children:"Stats"})]}),g.jsxs(Ft,{to:"/chapters",className:`flex flex-col items-center gap-1 text-xs ${m("/chapters")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(Kw,{className:"w-6 h-6"}),g.jsx("span",{children:"Chapters"})]}),g.jsxs(Ft,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${m("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(Qw,{className:"w-6 h-6"}),g.jsx("span",{children:"Timer"})]}),g.jsxs(Ft,{to:"/chat",className:`flex flex-col items-center gap-1 text-xs ${m("/chat")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(hf,{className:"w-6 h-6"}),g.jsx("span",{children:"Comm.."})]}),g.jsxs(Ft,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${m("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[g.jsx(Rg,{className:"w-6 h-6"}),g.jsx("span",{children:"Settings"})]})]})]})}function $8(){const{signInWithGoogle:t,user:e}=Ha(),n=pf();return Zw.useEffect(()=>{e&&n("/")},[e,n]),g.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),g.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[g.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[g.jsx("div",{className:"flex justify-center mb-8",children:g.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:g.jsx(VC,{className:"w-10 h-10 text-white"})})}),g.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",g.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),g.jsxs(xe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[g.jsx("div",{className:"bg-white p-1 rounded-full",children:g.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),g.jsx("span",{children:"Sign in with Google"}),g.jsx(pv,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),g.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),g.jsx("div",{className:"mt-8 text-center",children:g.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}function K8({children:t}){const{user:e,loading:n}=Ha();return n?g.jsx("div",{children:"Loading..."}):e?g.jsx(g.Fragment,{children:t}):g.jsx(Dk,{to:"/login"})}function Y8(){return g.jsx(i4,{basename:"/Study-Mate/",children:g.jsxs(Mk,{children:[g.jsx(Ws,{path:"/login",element:g.jsx($8,{})}),g.jsxs(Ws,{path:"/",element:g.jsx(K8,{children:g.jsx(G8,{})}),children:[g.jsx(Ws,{index:!0,element:g.jsx(b8,{})}),g.jsx(Ws,{path:"subject/:id",element:g.jsx(A8,{})}),g.jsx(Ws,{path:"analytics",element:g.jsx(M8,{})}),g.jsx(Ws,{path:"chapters",element:g.jsx(V8,{})}),g.jsx(Ws,{path:"timer",element:g.jsx(O8,{})}),g.jsx(Ws,{path:"chat",element:g.jsx(F8,{})}),g.jsx(Ws,{path:"settings",element:g.jsx(k8,{})})]})]})})}class Q8 extends R.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:g.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),g.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),g.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),g.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");jR.createRoot(document.getElementById("root")).render(g.jsx(Zw.StrictMode,{children:g.jsx(Q8,{children:g.jsx(bL,{children:g.jsx(xL,{children:g.jsx(C8,{children:g.jsx(T8,{children:g.jsx(Y8,{})})})})})})}));
