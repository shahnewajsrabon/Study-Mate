(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function VE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cp={exports:{}},yu={};var TT;function tN(){if(TT)return yu;TT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return yu.Fragment=e,yu.jsx=n,yu.jsxs=n,yu}var xT;function nN(){return xT||(xT=1,Cp.exports=tN()),Cp.exports}var b=nN(),Rp={exports:{}},Ce={};var ET;function iN(){if(ET)return Ce;ET=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=x&&L[x]||L["@@iterator"],typeof L=="function"?L:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function z(L,ne,ce){this.props=L,this.context=ne,this.refs=j,this.updater=ce||k}z.prototype.isReactComponent={},z.prototype.setState=function(L,ne){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ne,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function H(){}H.prototype=z.prototype;function K(L,ne,ce){this.props=L,this.context=ne,this.refs=j,this.updater=ce||k}var oe=K.prototype=new H;oe.constructor=K,P(oe,z.prototype),oe.isPureReactComponent=!0;var Q=Array.isArray;function te(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(L,ne,ce){var he=ce.ref;return{$$typeof:t,type:L,key:ne,ref:he!==void 0?he:null,props:ce}}function M(L,ne){return R(L.type,ne,L.props)}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function B(L){var ne={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return ne[ce]})}var D=/\/+/g;function qe(L,ne){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):ne.toString(36)}function Ze(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(te,te):(L.status="pending",L.then(function(ne){L.status==="pending"&&(L.status="fulfilled",L.value=ne)},function(ne){L.status==="pending"&&(L.status="rejected",L.reason=ne)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function J(L,ne,ce,he,Ee){var ke=typeof L;(ke==="undefined"||ke==="boolean")&&(L=null);var Fe=!1;if(L===null)Fe=!0;else switch(ke){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(L.$$typeof){case t:case e:Fe=!0;break;case y:return Fe=L._init,J(Fe(L._payload),ne,ce,he,Ee)}}if(Fe)return Ee=Ee(L),Fe=he===""?"."+qe(L,0):he,Q(Ee)?(ce="",Fe!=null&&(ce=Fe.replace(D,"$&/")+"/"),J(Ee,ne,ce,"",function(jr){return jr})):Ee!=null&&(V(Ee)&&(Ee=M(Ee,ce+(Ee.key==null||L&&L.key===Ee.key?"":(""+Ee.key).replace(D,"$&/")+"/")+Fe)),ne.push(Ee)),1;Fe=0;var Lt=he===""?".":he+":";if(Q(L))for(var ct=0;ct<L.length;ct++)he=L[ct],ke=Lt+qe(he,ct),Fe+=J(he,ne,ce,ke,Ee);else if(ct=A(L),typeof ct=="function")for(L=ct.call(L),ct=0;!(he=L.next()).done;)he=he.value,ke=Lt+qe(he,ct++),Fe+=J(he,ne,ce,ke,Ee);else if(ke==="object"){if(typeof L.then=="function")return J(Ze(L),ne,ce,he,Ee);throw ne=String(L),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function le(L,ne,ce){if(L==null)return L;var he=[],Ee=0;return J(L,he,"","",function(ke){return ne.call(ce,ke,Ee++)}),he}function ae(L){if(L._status===-1){var ne=L._result;ne=ne(),ne.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=ne)}if(L._status===1)return L._result.default;throw L._result}var me=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Se={map:le,forEach:function(L,ne,ce){le(L,function(){ne.apply(this,arguments)},ce)},count:function(L){var ne=0;return le(L,function(){ne++}),ne},toArray:function(L){return le(L,function(ne){return ne})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ce.Activity=_,Ce.Children=Se,Ce.Component=z,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=K,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(L){return N.H.useMemoCache(L)}},Ce.cache=function(L){return function(){return L.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(L,ne,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var he=P({},L.props),Ee=L.key;if(ne!=null)for(ke in ne.key!==void 0&&(Ee=""+ne.key),ne)!S.call(ne,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ne.ref===void 0||(he[ke]=ne[ke]);var ke=arguments.length-2;if(ke===1)he.children=ce;else if(1<ke){for(var Fe=Array(ke),Lt=0;Lt<ke;Lt++)Fe[Lt]=arguments[Lt+2];he.children=Fe}return R(L.type,Ee,he)},Ce.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ce.createElement=function(L,ne,ce){var he,Ee={},ke=null;if(ne!=null)for(he in ne.key!==void 0&&(ke=""+ne.key),ne)S.call(ne,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ee[he]=ne[he]);var Fe=arguments.length-2;if(Fe===1)Ee.children=ce;else if(1<Fe){for(var Lt=Array(Fe),ct=0;ct<Fe;ct++)Lt[ct]=arguments[ct+2];Ee.children=Lt}if(L&&L.defaultProps)for(he in Fe=L.defaultProps,Fe)Ee[he]===void 0&&(Ee[he]=Fe[he]);return R(L,ke,Ee)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:f,render:L}},Ce.isValidElement=V,Ce.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ae}},Ce.memo=function(L,ne){return{$$typeof:p,type:L,compare:ne===void 0?null:ne}},Ce.startTransition=function(L){var ne=N.T,ce={};N.T=ce;try{var he=L(),Ee=N.S;Ee!==null&&Ee(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(te,me)}catch(ke){me(ke)}finally{ne!==null&&ce.types!==null&&(ne.types=ce.types),N.T=ne}},Ce.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ce.use=function(L){return N.H.use(L)},Ce.useActionState=function(L,ne,ce){return N.H.useActionState(L,ne,ce)},Ce.useCallback=function(L,ne){return N.H.useCallback(L,ne)},Ce.useContext=function(L){return N.H.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L,ne){return N.H.useDeferredValue(L,ne)},Ce.useEffect=function(L,ne){return N.H.useEffect(L,ne)},Ce.useEffectEvent=function(L){return N.H.useEffectEvent(L)},Ce.useId=function(){return N.H.useId()},Ce.useImperativeHandle=function(L,ne,ce){return N.H.useImperativeHandle(L,ne,ce)},Ce.useInsertionEffect=function(L,ne){return N.H.useInsertionEffect(L,ne)},Ce.useLayoutEffect=function(L,ne){return N.H.useLayoutEffect(L,ne)},Ce.useMemo=function(L,ne){return N.H.useMemo(L,ne)},Ce.useOptimistic=function(L,ne){return N.H.useOptimistic(L,ne)},Ce.useReducer=function(L,ne,ce){return N.H.useReducer(L,ne,ce)},Ce.useRef=function(L){return N.H.useRef(L)},Ce.useState=function(L){return N.H.useState(L)},Ce.useSyncExternalStore=function(L,ne,ce){return N.H.useSyncExternalStore(L,ne,ce)},Ce.useTransition=function(){return N.H.useTransition()},Ce.version="19.2.4",Ce}var wT;function v0(){return wT||(wT=1,Rp.exports=iN()),Rp.exports}var I=v0();const OE=VE(I);var Np={exports:{}},vu={},Ip={exports:{}},Dp={};var ST;function sN(){return ST||(ST=1,(function(t){function e(J,le){var ae=J.length;J.push(le);e:for(;0<ae;){var me=ae-1>>>1,Se=J[me];if(0<a(Se,le))J[me]=le,J[ae]=Se,ae=me;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var le=J[0],ae=J.pop();if(ae!==le){J[0]=ae;e:for(var me=0,Se=J.length,L=Se>>>1;me<L;){var ne=2*(me+1)-1,ce=J[ne],he=ne+1,Ee=J[he];if(0>a(ce,ae))he<Se&&0>a(Ee,ce)?(J[me]=Ee,J[he]=ae,me=he):(J[me]=ce,J[ne]=ae,me=ne);else if(he<Se&&0>a(Ee,ae))J[me]=Ee,J[he]=ae,me=he;else break e}}return le}function a(J,le){var ae=J.sortIndex-le.sortIndex;return ae!==0?ae:J.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,x=3,A=!1,k=!1,P=!1,j=!1,z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function oe(J){for(var le=n(p);le!==null;){if(le.callback===null)s(p);else if(le.startTime<=J)s(p),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(p)}}function Q(J){if(P=!1,oe(J),!k)if(n(m)!==null)k=!0,te||(te=!0,B());else{var le=n(p);le!==null&&Ze(Q,le.startTime-J)}}var te=!1,N=-1,S=5,R=-1;function M(){return j?!0:!(t.unstable_now()-R<S)}function V(){if(j=!1,te){var J=t.unstable_now();R=J;var le=!0;try{e:{k=!1,P&&(P=!1,H(N),N=-1),A=!0;var ae=x;try{t:{for(oe(J),_=n(m);_!==null&&!(_.expirationTime>J&&M());){var me=_.callback;if(typeof me=="function"){_.callback=null,x=_.priorityLevel;var Se=me(_.expirationTime<=J);if(J=t.unstable_now(),typeof Se=="function"){_.callback=Se,oe(J),le=!0;break t}_===n(m)&&s(m),oe(J)}else s(m);_=n(m)}if(_!==null)le=!0;else{var L=n(p);L!==null&&Ze(Q,L.startTime-J),le=!1}}break e}finally{_=null,x=ae,A=!1}le=void 0}}finally{le?B():te=!1}}}var B;if(typeof K=="function")B=function(){K(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,qe=D.port2;D.port1.onmessage=V,B=function(){qe.postMessage(null)}}else B=function(){z(V,0)};function Ze(J,le){N=z(function(){J(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(J){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var ae=x;x=le;try{return J()}finally{x=ae}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ae=x;x=J;try{return le()}finally{x=ae}},t.unstable_scheduleCallback=function(J,le,ae){var me=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?me+ae:me):ae=me,J){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ae+Se,J={id:y++,callback:le,priorityLevel:J,startTime:ae,expirationTime:Se,sortIndex:-1},ae>me?(J.sortIndex=ae,e(p,J),n(m)===null&&J===n(p)&&(P?(H(N),N=-1):P=!0,Ze(Q,ae-me))):(J.sortIndex=Se,e(m,J),k||A||(k=!0,te||(te=!0,B()))),J},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(J){var le=x;return function(){var ae=x;x=le;try{return J.apply(this,arguments)}finally{x=ae}}}})(Dp)),Dp}var AT;function rN(){return AT||(AT=1,Ip.exports=sN()),Ip.exports}var kp={exports:{}},sn={};var CT;function aN(){if(CT)return sn;CT=1;var t=v0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},sn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},sn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},sn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:A}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:x,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},sn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},sn.requestFormReset=function(m){s.d.r(m)},sn.unstable_batchedUpdates=function(m,p){return m(p)},sn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var RT;function oN(){if(RT)return kp.exports;RT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kp.exports=aN(),kp.exports}var NT;function lN(){if(NT)return vu;NT=1;var t=rN(),e=v0(),n=oN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,w=d.child;w;){if(w===o){T=!0,o=d,u=g;break}if(w===u){T=!0,u=d,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,u=d;break}if(w===u){T=!0,u=g,o=d;break}w=w.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),K=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function qe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case z:return"Profiler";case j:return"StrictMode";case Q:return"Suspense";case te:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case K:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:qe(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return qe(i(r))}catch{}}return null}var Ze=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},me=[],Se=-1;function L(i){return{current:i}}function ne(i){0>Se||(i.current=me[Se],me[Se]=null,Se--)}function ce(i,r){Se++,me[Se]=i.current,i.current=r}var he=L(null),Ee=L(null),ke=L(null),Fe=L(null);function Lt(i,r){switch(ce(ke,r),ce(Ee,i),ce(he,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?qb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=qb(r),i=Gb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(he),ce(he,i)}function ct(){ne(he),ne(Ee),ne(ke)}function jr(i){i.memoizedState!==null&&ce(Fe,i);var r=he.current,o=Gb(r,i.type);r!==o&&(ce(Ee,i),ce(he,o))}function Oa(i){Ee.current===i&&(ne(he),ne(Ee)),Fe.current===i&&(ne(Fe),fu._currentValue=ae)}var Pa,ja;function Ei(i){if(Pa===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Pa=r&&r[1]||"",ja=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pa+i+ja}var fl=!1;function Lr(i,r){if(!i||fl)return"";fl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Y=W}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(W){Y=W}i.call(ie.prototype)}}else{try{throw Error()}catch(W){Y=W}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var O=T.split(`
`),$=w.split(`
`);for(d=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(u===O.length||d===$.length)for(u=O.length-1,d=$.length-1;1<=u&&0<=d&&O[u]!==$[d];)d--;for(;1<=u&&0<=d;u--,d--)if(O[u]!==$[d]){if(u!==1||d!==1)do if(u--,d--,0>d||O[u]!==$[d]){var Z=`
`+O[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{fl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ei(o):""}function ml(i,r){switch(i.tag){case 26:case 27:case 5:return Ei(i.type);case 16:return Ei("Lazy");case 13:return i.child!==r&&r!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Lr(i.type,!1);case 11:return Lr(i.type.render,!1);case 1:return Lr(i.type,!0);case 31:return Ei("Activity");default:return""}}function pl(i){try{var r="",o=null;do r+=ml(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var wt=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,Ps=t.unstable_cancelCallback,Nf=t.unstable_shouldYield,gc=t.unstable_requestPaint,hn=t.unstable_now,Ur=t.unstable_getCurrentPriorityLevel,gl=t.unstable_ImmediatePriority,yl=t.unstable_UserBlockingPriority,js=t.unstable_NormalPriority,If=t.unstable_LowPriority,yc=t.unstable_IdlePriority,vc=t.log,_c=t.unstable_setDisableYieldValue,ti=null,Kt=null;function On(i){if(typeof vc=="function"&&_c(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ti,i)}catch{}}var _t=Math.clz32?Math.clz32:Tc,bc=Math.log,La=Math.LN2;function Tc(i){return i>>>=0,i===0?32:31-(bc(i)/La|0)|0}var wi=256,Br=262144,St=4194304;function Si(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ai(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=Si(u):(T&=w,T!==0?d=Si(T):o||(o=w&~i,o!==0&&(d=Si(o))))):(w=u&~g,w!==0?d=Si(w):T!==0?d=Si(T):o||(o=u&~i,o!==0&&(d=Si(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function ni(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Df(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var i=St;return St<<=1,(St&62914560)===0&&(St=4194304),i}function Ci(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function zr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function kf(i,r,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,O=i.expirationTimes,$=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-_t(o),ie=1<<Z;w[Z]=0,O[Z]=-1;var Y=$[Z];if(Y!==null)for($[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}o&=~ie}u!==0&&Fr(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function Fr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-_t(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function vl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-_t(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function _l(i,r){var o=r&-r;return o=(o&42)!==0?1:Hr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Hr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ns(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ec(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:mT(i.type))}function ii(i,r){var o=le.p;try{return le.p=i,r()}finally{le.p=o}}var si=Math.random().toString(36).slice(2),At="__reactFiber$"+si,Ht="__reactProps$"+si,Ri="__reactContainer$"+si,Ua="__reactEvents$"+si,Mf="__reactListeners$"+si,wc="__reactHandles$"+si,Sc="__reactResources$"+si,Ni="__reactMarker$"+si;function Ba(i){delete i[At],delete i[Ht],delete i[Ua],delete i[Mf],delete i[wc]}function Ii(i){var r=i[At];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ri]||o[At]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Jb(i);i!==null;){if(o=i[At])return o;i=Jb(i)}return r}i=o,o=i.parentNode}return null}function Pn(i){if(i=i[At]||i[Ri]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Sn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Di(i){var r=i[Sc];return r||(r=i[Sc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(i){i[Ni]=!0}var bl=new Set,Tl={};function ki(i,r){Mi(i,r),Mi(i+"Capture",r)}function Mi(i,r){for(Tl[i]=r,i=0;i<r.length;i++)bl.add(r[i])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},wl={};function Ac(i){return wt.call(wl,i)?!0:wt.call(El,i)?!1:xl.test(i)?wl[i]=!0:(El[i]=!0,!1)}function za(i,r,o){if(Ac(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function An(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Rt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ls(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Sl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xe(i){if(!i._valueTracker){var r=Ls(i)?"checked":"value";i._valueTracker=Sl(i,r,""+i[r])}}function qr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Ls(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Vi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Gr=/[\n"\\]/g;function yn(i){return i.replace(Gr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fa(i,r,o,u,d,g,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qt(r)):i.value!==""+qt(r)&&(i.value=""+qt(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Al(i,T,qt(r)):o!=null?Al(i,T,qt(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+qt(w):i.removeAttribute("name")}function Cc(i,r,o,u,d,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Xe(i);return}o=o!=null?""+qt(o):"",r=r!=null?""+qt(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Xe(i)}function Al(i,r,o){r==="number"&&Vi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Us(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+qt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Rc(i,r,o){if(r!=null&&(r=""+qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+qt(o):""}function Bs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ze(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=qt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Xe(i)}function vn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Nc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Nc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Rl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Cl(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Cl(i,g,r[g])}function Ha(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(i){return zs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ri(){}var Nl=null;function jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fs=null,Oi=null;function $r(i){var r=Pn(i);if(r&&(i=r.stateNode)){var o=i[Ht]||null;e:switch(i=r.stateNode,r.type){case"input":if(Fa(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[Ht]||null;if(!d)throw Error(s(90));Fa(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&qr(u)}break e;case"textarea":Rc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Us(i,!!o.multiple,r,!1)}}}var Ga=!1;function Hs(i,r,o){if(Ga)return i(r,o);Ga=!0;try{var u=i(r);return u}finally{if(Ga=!1,(Fs!==null||Oi!==null)&&(Eh(),Fs&&(r=Fs,i=Oi,Oi=Fs=null,$r(r),i)))for(r=0;r<i.length;r++)$r(i[r])}}function ai(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kr=!1;if(Ln)try{var et={};Object.defineProperty(et,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Kr=!1}var Pi=null,Il=null,Yr=null;function Dl(){if(Yr)return Yr;var i,r=Il,o=r.length,u,d="value"in Pi?Pi.value:Pi.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===d[g-u];u++);return Yr=d.slice(i,1<u?1-u:void 0)}function Qr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function is(){return!0}function oi(){return!1}function Yt(i){function r(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?is:oi,this.isPropagationStopped=oi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),r}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Yt(ss),qs=_({},ss,{view:0,detail:0}),kl=Yt(qs),Gs,$a,Li,Ka=_({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Li&&(Li&&i.type==="mousemove"?(Gs=i.screenX-Li.screenX,$a=i.screenY-Li.screenY):$a=Gs=0,Li=i),Gs)},movementY:function(i){return"movementY"in i?i.movementY:$a}}),Ml=Yt(Ka),Xr=_({},Ka,{dataTransfer:0}),Dc=Yt(Xr),kc=_({},qs,{relatedTarget:0}),Wr=Yt(kc),Vl=_({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=Yt(Vl),Ya=_({},ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Vc=Yt(Ya),Oc=_({},ss,{data:0}),Ui=Yt(Oc),Pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Lc[i])?!!r[i]:!1}function $s(){return Uc}var dn=_({},qs,{key:function(i){if(i.key){var r=Pc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Qr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?jc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(i){return i.type==="keypress"?Qr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Bc=Yt(dn),zc=_({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=Yt(zc),h=_({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),v=Yt(h),E=_({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Yt(E),q=_({},Ka,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Yt(q),ue=_({},ss,{newState:0,oldState:0}),Ie=Yt(ue),bt=[9,13,27,32],Ke=Ln&&"CompositionEvent"in window,ht=null;Ln&&"documentMode"in document&&(ht=document.documentMode);var Un=Ln&&"TextEvent"in window&&!ht,Bi=Ln&&(!Ke||ht&&8<ht&&11>=ht),li=" ",ui=!1;function Jr(i,r){switch(i){case"keyup":return bt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xa=!1;function SC(i,r){switch(i){case"compositionend":return Qa(r);case"keypress":return r.which!==32?null:(ui=!0,li);case"textInput":return i=r.data,i===li&&ui?null:i;default:return null}}function AC(i,r){if(Xa)return i==="compositionend"||!Ke&&Jr(i,r)?(i=Dl(),Yr=Il=Pi=null,Xa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bi&&r.locale!=="ko"?null:r.data;default:return null}}var CC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!CC[i.type]:r==="textarea"}function nv(i,r,o,u){Fs?Oi?Oi.push(u):Oi=[u]:Fs=u,r=Ih(r,"onChange"),0<r.length&&(o=new ji("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Ol=null,Pl=null;function RC(i){Lb(i,0)}function Fc(i){var r=Sn(i);if(qr(r))return i}function iv(i,r){if(i==="change")return r}var sv=!1;if(Ln){var Vf;if(Ln){var Of="oninput"in document;if(!Of){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),Of=typeof rv.oninput=="function"}Vf=Of}else Vf=!1;sv=Vf&&(!document.documentMode||9<document.documentMode)}function av(){Ol&&(Ol.detachEvent("onpropertychange",ov),Pl=Ol=null)}function ov(i){if(i.propertyName==="value"&&Fc(Pl)){var r=[];nv(r,Pl,i,jn(i)),Hs(RC,r)}}function NC(i,r,o){i==="focusin"?(av(),Ol=r,Pl=o,Ol.attachEvent("onpropertychange",ov)):i==="focusout"&&av()}function IC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fc(Pl)}function DC(i,r){if(i==="click")return Fc(r)}function kC(i,r){if(i==="input"||i==="change")return Fc(r)}function MC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Cn=typeof Object.is=="function"?Object.is:MC;function jl(i,r){if(Cn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!wt.call(r,d)||!Cn(i[d],r[d]))return!1}return!0}function lv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uv(i,r){var o=lv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lv(o)}}function cv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?cv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function hv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Vi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Vi(i.document)}return r}function Pf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var VC=Ln&&"documentMode"in document&&11>=document.documentMode,Wa=null,jf=null,Ll=null,Lf=!1;function dv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lf||Wa==null||Wa!==Vi(u)||(u=Wa,"selectionStart"in u&&Pf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ll&&jl(Ll,u)||(Ll=u,u=Ih(jf,"onSelect"),0<u.length&&(r=new ji("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Wa)))}function Zr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ja={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},Uf={},fv={};Ln&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ea(i){if(Uf[i])return Uf[i];if(!Ja[i])return i;var r=Ja[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in fv)return Uf[i]=r[o];return i}var mv=ea("animationend"),pv=ea("animationiteration"),gv=ea("animationstart"),OC=ea("transitionrun"),PC=ea("transitionstart"),jC=ea("transitioncancel"),yv=ea("transitionend"),vv=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function ci(i,r){vv.set(i,r),ki(r,[i])}var Hc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],Za=0,zf=0;function qc(){for(var i=Za,r=zf=Za=0;r<i;){var o=Bn[r];Bn[r++]=null;var u=Bn[r];Bn[r++]=null;var d=Bn[r];Bn[r++]=null;var g=Bn[r];if(Bn[r++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&_v(o,d,g)}}function Gc(i,r,o,u){Bn[Za++]=i,Bn[Za++]=r,Bn[Za++]=o,Bn[Za++]=u,zf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ff(i,r,o,u){return Gc(i,r,o,u),$c(i)}function ta(i,r){return Gc(i,null,null,r),$c(i)}function _v(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-_t(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function $c(i){if(50<au)throw au=0,Wm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var eo={};function LC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,r,o,u){return new LC(i,r,o,u)}function Hf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,r){var o=i.alternate;return o===null?(o=Rn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function bv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Kc(i,r,o,u,d,g){var T=0;if(u=i,typeof i=="function")Hf(i)&&(T=1);else if(typeof i=="string")T=HR(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Rn(31,o,r,d),i.elementType=R,i.lanes=g,i;case P:return na(o.children,d,g,r);case j:T=8,d|=24;break;case z:return i=Rn(12,o,r,d|2),i.elementType=z,i.lanes=g,i;case Q:return i=Rn(13,o,r,d),i.elementType=Q,i.lanes=g,i;case te:return i=Rn(19,o,r,d),i.elementType=te,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:T=10;break e;case H:T=9;break e;case oe:T=11;break e;case N:T=14;break e;case S:T=16,u=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Rn(T,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function na(i,r,o,u){return i=Rn(7,i,u,r),i.lanes=o,i}function qf(i,r,o){return i=Rn(6,i,null,r),i.lanes=o,i}function Tv(i){var r=Rn(18,null,null,0);return r.stateNode=i,r}function Gf(i,r,o){return r=Rn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var xv=new WeakMap;function zn(i,r){if(typeof i=="object"&&i!==null){var o=xv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:pl(r)},xv.set(i,r),r)}return{value:i,source:r,stack:pl(r)}}var to=[],no=0,Yc=null,Ul=0,Fn=[],Hn=0,Ks=null,zi=1,Fi="";function os(i,r){to[no++]=Ul,to[no++]=Yc,Yc=i,Ul=r}function Ev(i,r,o){Fn[Hn++]=zi,Fn[Hn++]=Fi,Fn[Hn++]=Ks,Ks=i;var u=zi;i=Fi;var d=32-_t(u)-1;u&=~(1<<d),o+=1;var g=32-_t(r)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,zi=1<<32-_t(r)+d|o<<d|u,Fi=g+i}else zi=1<<g|o<<d|u,Fi=i}function $f(i){i.return!==null&&(os(i,1),Ev(i,1,0))}function Kf(i){for(;i===Yc;)Yc=to[--no],to[no]=null,Ul=to[--no],to[no]=null;for(;i===Ks;)Ks=Fn[--Hn],Fn[Hn]=null,Fi=Fn[--Hn],Fn[Hn]=null,zi=Fn[--Hn],Fn[Hn]=null}function wv(i,r){Fn[Hn++]=zi,Fn[Hn++]=Fi,Fn[Hn++]=Ks,zi=r.id,Fi=r.overflow,Ks=i}var Qt=null,ot=null,ze=!1,Ys=null,qn=!1,Yf=Error(s(519));function Qs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(zn(r,i)),Yf}function Sv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[At]=i,r[Ht]=u,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<lu.length;o++)Oe(lu[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Cc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Bs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Fb(r.textContent,o)?(u.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),u.onScroll!=null&&Oe("scroll",r),u.onScrollEnd!=null&&Oe("scrollend",r),u.onClick!=null&&(r.onclick=ri),r=!0):r=!1,r||Qs(i,!0)}function Av(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Qt=Qt.return}}function io(i){if(i!==Qt)return!1;if(!ze)return Av(i),ze=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||dp(i.type,i.memoizedProps)),o=!o),o&&ot&&Qs(i),Av(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Wb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Wb(i)}else r===27?(r=ot,ur(i.type)?(i=yp,yp=null,ot=i):ot=r):ot=Qt?$n(i.stateNode.nextSibling):null;return!0}function ia(){ot=Qt=null,ze=!1}function Qf(){var i=Ys;return i!==null&&(xn===null?xn=i:xn.push.apply(xn,i),Ys=null),i}function Bl(i){Ys===null?Ys=[i]:Ys.push(i)}var Xf=L(null),sa=null,ls=null;function Xs(i,r,o){ce(Xf,r._currentValue),r._currentValue=o}function us(i){i._currentValue=Xf.current,ne(Xf)}function Wf(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Jf(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=d;for(var O=0;O<r.length;O++)if(w.context===r[O]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Wf(g.return,o,i),u||(T=null);break e}g=w.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Wf(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function so(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=d.type;Cn(d.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(d===Fe.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(fu):i=[fu])}d=d.return}i!==null&&Jf(r,i,o,u),r.flags|=262144}function Qc(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ra(i){sa=i,ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xt(i){return Cv(sa,i)}function Xc(i,r){return sa===null&&ra(i),Cv(i,r)}function Cv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ls===null){if(i===null)throw Error(s(308));ls=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ls=ls.next=r;return o}var UC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},BC=t.unstable_scheduleCallback,zC=t.unstable_NormalPriority,Nt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new UC,data:new Map,refCount:0}}function zl(i){i.refCount--,i.refCount===0&&BC(zC,function(){i.controller.abort()})}var Fl=null,em=0,ro=0,ao=null;function FC(i,r){if(Fl===null){var o=Fl=[];em=0,ro=ip(),ao={status:"pending",value:void 0,then:function(u){o.push(u)}}}return em++,r.then(Rv,Rv),r}function Rv(){if(--em===0&&Fl!==null){ao!==null&&(ao.status="fulfilled");var i=Fl;Fl=null,ro=0,ao=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function HC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Nv=J.S;J.S=function(i,r){db=hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&FC(i,r),Nv!==null&&Nv(i,r)};var aa=L(null);function tm(){var i=aa.current;return i!==null?i:st.pooledCache}function Wc(i,r){r===null?ce(aa,aa.current):ce(aa,r.pool)}function Iv(){var i=tm();return i===null?null:{parent:Nt._currentValue,pool:i}}var oo=Error(s(460)),nm=Error(s(474)),Jc=Error(s(542)),Zc={then:function(){}};function Dv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function kv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ri,ri),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Vv(i),i;default:if(typeof r.status=="string")r.then(ri,ri);else{if(i=st,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Vv(i),i}throw la=r,oo}}function oa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(la=o,oo):o}}var la=null;function Mv(){if(la===null)throw Error(s(459));var i=la;return la=null,i}function Vv(i){if(i===oo||i===Jc)throw Error(s(483))}var lo=null,Hl=0;function eh(i){var r=Hl;return Hl+=1,lo===null&&(lo=[]),kv(lo,i,r)}function ql(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function th(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ov(i){function r(F,U){if(i){var G=F.deletions;G===null?(F.deletions=[U],F.flags|=16):G.push(U)}}function o(F,U){if(!i)return null;for(;U!==null;)r(F,U),U=U.sibling;return null}function u(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function d(F,U){return F=as(F,U),F.index=0,F.sibling=null,F}function g(F,U,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<U?(F.flags|=67108866,U):G):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function T(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function w(F,U,G,ee){return U===null||U.tag!==6?(U=qf(G,F.mode,ee),U.return=F,U):(U=d(U,G),U.return=F,U)}function O(F,U,G,ee){var ve=G.type;return ve===P?Z(F,U,G.props.children,ee,G.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&oa(ve)===U.type)?(U=d(U,G.props),ql(U,G),U.return=F,U):(U=Kc(G.type,G.key,G.props,null,F.mode,ee),ql(U,G),U.return=F,U)}function $(F,U,G,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Gf(G,F.mode,ee),U.return=F,U):(U=d(U,G.children||[]),U.return=F,U)}function Z(F,U,G,ee,ve){return U===null||U.tag!==7?(U=na(G,F.mode,ee,ve),U.return=F,U):(U=d(U,G),U.return=F,U)}function ie(F,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=qf(""+U,F.mode,G),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return G=Kc(U.type,U.key,U.props,null,F.mode,G),ql(G,U),G.return=F,G;case k:return U=Gf(U,F.mode,G),U.return=F,U;case S:return U=oa(U),ie(F,U,G)}if(Ze(U)||B(U))return U=na(U,F.mode,G,null),U.return=F,U;if(typeof U.then=="function")return ie(F,eh(U),G);if(U.$$typeof===K)return ie(F,Xc(F,U),G);th(F,U)}return null}function Y(F,U,G,ee){var ve=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:w(F,U,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===ve?O(F,U,G,ee):null;case k:return G.key===ve?$(F,U,G,ee):null;case S:return G=oa(G),Y(F,U,G,ee)}if(Ze(G)||B(G))return ve!==null?null:Z(F,U,G,ee,null);if(typeof G.then=="function")return Y(F,U,eh(G),ee);if(G.$$typeof===K)return Y(F,U,Xc(F,G),ee);th(F,G)}return null}function W(F,U,G,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get(G)||null,w(U,F,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case A:return F=F.get(ee.key===null?G:ee.key)||null,O(U,F,ee,ve);case k:return F=F.get(ee.key===null?G:ee.key)||null,$(U,F,ee,ve);case S:return ee=oa(ee),W(F,U,G,ee,ve)}if(Ze(ee)||B(ee))return F=F.get(G)||null,Z(U,F,ee,ve,null);if(typeof ee.then=="function")return W(F,U,G,eh(ee),ve);if(ee.$$typeof===K)return W(F,U,G,Xc(U,ee),ve);th(U,ee)}return null}function pe(F,U,G,ee){for(var ve=null,Ge=null,ye=U,Me=U=0,je=null;ye!==null&&Me<G.length;Me++){ye.index>Me?(je=ye,ye=null):je=ye.sibling;var $e=Y(F,ye,G[Me],ee);if($e===null){ye===null&&(ye=je);break}i&&ye&&$e.alternate===null&&r(F,ye),U=g($e,U,Me),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e,ye=je}if(Me===G.length)return o(F,ye),ze&&os(F,Me),ve;if(ye===null){for(;Me<G.length;Me++)ye=ie(F,G[Me],ee),ye!==null&&(U=g(ye,U,Me),Ge===null?ve=ye:Ge.sibling=ye,Ge=ye);return ze&&os(F,Me),ve}for(ye=u(ye);Me<G.length;Me++)je=W(ye,F,Me,G[Me],ee),je!==null&&(i&&je.alternate!==null&&ye.delete(je.key===null?Me:je.key),U=g(je,U,Me),Ge===null?ve=je:Ge.sibling=je,Ge=je);return i&&ye.forEach(function(mr){return r(F,mr)}),ze&&os(F,Me),ve}function be(F,U,G,ee){if(G==null)throw Error(s(151));for(var ve=null,Ge=null,ye=U,Me=U=0,je=null,$e=G.next();ye!==null&&!$e.done;Me++,$e=G.next()){ye.index>Me?(je=ye,ye=null):je=ye.sibling;var mr=Y(F,ye,$e.value,ee);if(mr===null){ye===null&&(ye=je);break}i&&ye&&mr.alternate===null&&r(F,ye),U=g(mr,U,Me),Ge===null?ve=mr:Ge.sibling=mr,Ge=mr,ye=je}if($e.done)return o(F,ye),ze&&os(F,Me),ve;if(ye===null){for(;!$e.done;Me++,$e=G.next())$e=ie(F,$e.value,ee),$e!==null&&(U=g($e,U,Me),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e);return ze&&os(F,Me),ve}for(ye=u(ye);!$e.done;Me++,$e=G.next())$e=W(ye,F,Me,$e.value,ee),$e!==null&&(i&&$e.alternate!==null&&ye.delete($e.key===null?Me:$e.key),U=g($e,U,Me),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e);return i&&ye.forEach(function(eN){return r(F,eN)}),ze&&os(F,Me),ve}function it(F,U,G,ee){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var ve=G.key;U!==null;){if(U.key===ve){if(ve=G.type,ve===P){if(U.tag===7){o(F,U.sibling),ee=d(U,G.props.children),ee.return=F,F=ee;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&oa(ve)===U.type){o(F,U.sibling),ee=d(U,G.props),ql(ee,G),ee.return=F,F=ee;break e}o(F,U);break}else r(F,U);U=U.sibling}G.type===P?(ee=na(G.props.children,F.mode,ee,G.key),ee.return=F,F=ee):(ee=Kc(G.type,G.key,G.props,null,F.mode,ee),ql(ee,G),ee.return=F,F=ee)}return T(F);case k:e:{for(ve=G.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){o(F,U.sibling),ee=d(U,G.children||[]),ee.return=F,F=ee;break e}else{o(F,U);break}else r(F,U);U=U.sibling}ee=Gf(G,F.mode,ee),ee.return=F,F=ee}return T(F);case S:return G=oa(G),it(F,U,G,ee)}if(Ze(G))return pe(F,U,G,ee);if(B(G)){if(ve=B(G),typeof ve!="function")throw Error(s(150));return G=ve.call(G),be(F,U,G,ee)}if(typeof G.then=="function")return it(F,U,eh(G),ee);if(G.$$typeof===K)return it(F,U,Xc(F,G),ee);th(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(o(F,U.sibling),ee=d(U,G),ee.return=F,F=ee):(o(F,U),ee=qf(G,F.mode,ee),ee.return=F,F=ee),T(F)):o(F,U)}return function(F,U,G,ee){try{Hl=0;var ve=it(F,U,G,ee);return lo=null,ve}catch(ye){if(ye===oo||ye===Jc)throw ye;var Ge=Rn(29,ye,null,F.mode);return Ge.lanes=ee,Ge.return=F,Ge}}}var ua=Ov(!0),Pv=Ov(!1),Ws=!1;function im(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=$c(i),_v(i,null,o),r}return Gc(i,u,r,o),$c(i)}function Gl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,vl(i,o)}}function rm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var am=!1;function $l(){if(am){var i=ao;if(i!==null)throw i}}function Kl(i,r,o,u){am=!1;var d=i.updateQueue;Ws=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var O=w,$=O.next;O.next=null,T===null?g=$:T.next=$,T=O;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==T&&(w===null?Z.firstBaseUpdate=$:w.next=$,Z.lastBaseUpdate=O))}if(g!==null){var ie=d.baseState;T=0,Z=$=O=null,w=g;do{var Y=w.lane&-536870913,W=Y!==w.lane;if(W?(Pe&Y)===Y:(u&Y)===Y){Y!==0&&Y===ro&&(am=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var pe=i,be=w;Y=r;var it=o;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){ie=pe.call(it,ie,Y);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,Y=typeof pe=="function"?pe.call(it,ie,Y):pe,Y==null)break e;ie=_({},ie,Y);break e;case 2:Ws=!0}}Y=w.callback,Y!==null&&(i.flags|=64,W&&(i.flags|=8192),W=d.callbacks,W===null?d.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?($=Z=W,O=ie):Z=Z.next=W,T|=Y;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;W=w,w=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);Z===null&&(O=ie),d.baseState=O,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),sr|=T,i.lanes=T,i.memoizedState=ie}}function jv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Lv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)jv(o[i],r)}var uo=L(null),nh=L(0);function Uv(i,r){i=vs,ce(nh,i),ce(uo,r),vs=i|r.baseLanes}function om(){ce(nh,vs),ce(uo,uo.current)}function lm(){vs=nh.current,ne(uo),ne(nh)}var Nn=L(null),Gn=null;function er(i){var r=i.alternate;ce(Tt,Tt.current&1),ce(Nn,i),Gn===null&&(r===null||uo.current!==null||r.memoizedState!==null)&&(Gn=i)}function um(i){ce(Tt,Tt.current),ce(Nn,i),Gn===null&&(Gn=i)}function Bv(i){i.tag===22?(ce(Tt,Tt.current),ce(Nn,i),Gn===null&&(Gn=i)):tr()}function tr(){ce(Tt,Tt.current),ce(Nn,Nn.current)}function In(i){ne(Nn),Gn===i&&(Gn=null),ne(Tt)}var Tt=L(0);function ih(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||pp(o)||gp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cs=0,De=null,tt=null,It=null,sh=!1,co=!1,ca=!1,rh=0,Yl=0,ho=null,qC=0;function gt(){throw Error(s(321))}function cm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Cn(i[o],r[o]))return!1;return!0}function hm(i,r,o,u,d,g){return cs=g,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?E_:Am,ca=!1,g=o(u,d),ca=!1,co&&(g=Fv(r,o,u,d)),zv(i),g}function zv(i){J.H=Wl;var r=tt!==null&&tt.next!==null;if(cs=0,It=tt=De=null,sh=!1,Yl=0,ho=null,r)throw Error(s(300));i===null||Dt||(i=i.dependencies,i!==null&&Qc(i)&&(Dt=!0))}function Fv(i,r,o,u){De=i;var d=0;do{if(co&&(ho=null),Yl=0,co=!1,25<=d)throw Error(s(301));if(d+=1,It=tt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=w_,g=r(o,u)}while(co);return g}function GC(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?Ql(r):r,i=i.useState()[0],(tt!==null?tt.memoizedState:null)!==i&&(De.flags|=1024),r}function dm(){var i=rh!==0;return rh=0,i}function fm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function mm(i){if(sh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}sh=!1}cs=0,It=tt=De=null,co=!1,Yl=rh=0,ho=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?De.memoizedState=It=i:It=It.next=i,It}function xt(){if(tt===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var r=It===null?De.memoizedState:It.next;if(r!==null)It=r,tt=i;else{if(i===null)throw De.alternate===null?Error(s(467)):Error(s(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},It===null?De.memoizedState=It=i:It=It.next=i}return It}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(i){var r=Yl;return Yl+=1,ho===null&&(ho=[]),i=kv(ho,i,r),r=De,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?E_:Am),i}function oh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ql(i);if(i.$$typeof===K)return Xt(i)}throw Error(s(438,String(i)))}function pm(i){var r=null,o=De.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=ah(),De.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=M;return r.index++,o}function hs(i,r){return typeof r=="function"?r(i):r}function lh(i){var r=xt();return gm(r,tt,i)}function gm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var w=T=null,O=null,$=r,Z=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(Pe&ie)===ie:(cs&ie)===ie){var Y=$.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===ro&&(Z=!0);else if((cs&Y)===Y){$=$.next,Y===ro&&(Z=!0);continue}else ie={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(w=O=ie,T=g):O=O.next=ie,De.lanes|=Y,sr|=Y;ie=$.action,ca&&o(g,ie),g=$.hasEagerState?$.eagerState:o(g,ie)}else Y={lane:ie,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(w=O=Y,T=g):O=O.next=Y,De.lanes|=ie,sr|=ie;$=$.next}while($!==null&&$!==r);if(O===null?T=g:O.next=w,!Cn(g,i.memoizedState)&&(Dt=!0,Z&&(o=ao,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=O,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function ym(i){var r=xt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);Cn(g,r.memoizedState)||(Dt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Hv(i,r,o){var u=De,d=xt(),g=ze;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Cn((tt||d).memoizedState,o);if(T&&(d.memoizedState=o,Dt=!0),d=d.queue,bm($v.bind(null,u,d,i),[i]),d.getSnapshot!==r||T||It!==null&&It.memoizedState.tag&1){if(u.flags|=2048,fo(9,{destroy:void 0},Gv.bind(null,u,d,o,r),null),st===null)throw Error(s(349));g||(cs&127)!==0||qv(u,r,o)}return o}function qv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=De.updateQueue,r===null?(r=ah(),De.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Gv(i,r,o,u){r.value=o,r.getSnapshot=u,Kv(r)&&Yv(i)}function $v(i,r,o){return o(function(){Kv(r)&&Yv(i)})}function Kv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Cn(i,o)}catch{return!0}}function Yv(i){var r=ta(i,2);r!==null&&En(r,i,2)}function vm(i){var r=fn();if(typeof i=="function"){var o=i;if(i=o(),ca){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:i},r}function Qv(i,r,o,u){return i.baseState=o,gm(i,tt,typeof u=="function"?u:hs)}function $C(i,r,o,u,d){if(hh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};J.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Xv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Xv(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=J.T,T={};J.T=T;try{var w=o(d,u),O=J.S;O!==null&&O(T,w),Wv(i,r,w)}catch($){_m(i,r,$)}finally{g!==null&&T.types!==null&&(g.types=T.types),J.T=g}}else try{g=o(d,u),Wv(i,r,g)}catch($){_m(i,r,$)}}function Wv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Jv(i,r,u)},function(u){return _m(i,r,u)}):Jv(i,r,o)}function Jv(i,r,o){r.status="fulfilled",r.value=o,Zv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Xv(i,o)))}function _m(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Zv(r),r=r.next;while(r!==u)}i.action=null}function Zv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function e_(i,r){return r}function t_(i,r){if(ze){var o=st.formState;if(o!==null){e:{var u=De;if(ze){if(ot){t:{for(var d=ot,g=qn;d.nodeType!==8;){if(!g){d=null;break t}if(d=$n(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ot=$n(d.nextSibling),u=d.data==="F!";break e}}Qs(u)}u=!1}u&&(r=o[0])}}return o=fn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:r},o.queue=u,o=b_.bind(null,De,u),u.dispatch=o,u=vm(!1),g=Sm.bind(null,De,!1,u.queue),u=fn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=$C.bind(null,De,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function n_(i){var r=xt();return i_(r,tt,i)}function i_(i,r,o){if(r=gm(i,r,e_)[0],i=lh(hs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ql(r)}catch(T){throw T===oo?Jc:T}else u=r;r=xt();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(De.flags|=2048,fo(9,{destroy:void 0},KC.bind(null,d,o),null)),[u,g,i]}function KC(i,r){i.action=r}function s_(i){var r=xt(),o=tt;if(o!==null)return i_(r,o,i);xt(),r=r.memoizedState,o=xt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function fo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=De.updateQueue,r===null&&(r=ah(),De.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function r_(){return xt().memoizedState}function uh(i,r,o,u){var d=fn();De.flags|=i,d.memoizedState=fo(1|r,{destroy:void 0},o,u===void 0?null:u)}function ch(i,r,o,u){var d=xt();u=u===void 0?null:u;var g=d.memoizedState.inst;tt!==null&&u!==null&&cm(u,tt.memoizedState.deps)?d.memoizedState=fo(r,g,o,u):(De.flags|=i,d.memoizedState=fo(1|r,g,o,u))}function a_(i,r){uh(8390656,8,i,r)}function bm(i,r){ch(2048,8,i,r)}function YC(i){De.flags|=4;var r=De.updateQueue;if(r===null)r=ah(),De.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function o_(i){var r=xt().memoizedState;return YC({ref:r,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function l_(i,r){return ch(4,2,i,r)}function u_(i,r){return ch(4,4,i,r)}function c_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function h_(i,r,o){o=o!=null?o.concat([i]):null,ch(4,4,c_.bind(null,r,i),o)}function Tm(){}function d_(i,r){var o=xt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&cm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function f_(i,r){var o=xt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&cm(r,u[1]))return u[0];if(u=i(),ca){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u}function xm(i,r,o){return o===void 0||(cs&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=mb(),De.lanes|=i,sr|=i,o)}function m_(i,r,o,u){return Cn(o,r)?o:uo.current!==null?(i=xm(i,o,u),Cn(i,r)||(Dt=!0),i):(cs&42)===0||(cs&1073741824)!==0&&(Pe&261930)===0?(Dt=!0,i.memoizedState=o):(i=mb(),De.lanes|=i,sr|=i,r)}function p_(i,r,o,u,d){var g=le.p;le.p=g!==0&&8>g?g:8;var T=J.T,w={};J.T=w,Sm(i,!1,r,o);try{var O=d(),$=J.S;if($!==null&&$(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=HC(O,u);Xl(i,r,Z,Mn(i))}else Xl(i,r,u,Mn(i))}catch(ie){Xl(i,r,{then:function(){},status:"rejected",reason:ie},Mn())}finally{le.p=g,T!==null&&w.types!==null&&(T.types=w.types),J.T=T}}function QC(){}function Em(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=g_(i).queue;p_(i,d,r,ae,o===null?QC:function(){return y_(i),o(u)})}function g_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:ae},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function y_(i){var r=g_(i);r.next===null&&(r=i.alternate.memoizedState),Xl(i,r.next.queue,{},Mn())}function wm(){return Xt(fu)}function v_(){return xt().memoizedState}function __(){return xt().memoizedState}function XC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Mn();i=Js(o);var u=Zs(r,i,o);u!==null&&(En(u,r,o),Gl(u,r,o)),r={cache:Zf()},i.payload=r;return}r=r.return}}function WC(i,r,o){var u=Mn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},hh(i)?T_(r,o):(o=Ff(i,r,o,u),o!==null&&(En(o,i,u),x_(o,r,u)))}function b_(i,r,o){var u=Mn();Xl(i,r,o,u)}function Xl(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(hh(i))T_(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,w=g(T,o);if(d.hasEagerState=!0,d.eagerState=w,Cn(w,T))return Gc(i,r,d,0),st===null&&qc(),!1}catch{}if(o=Ff(i,r,d,u),o!==null)return En(o,i,u),x_(o,r,u),!0}return!1}function Sm(i,r,o,u){if(u={lane:2,revertLane:ip(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},hh(i)){if(r)throw Error(s(479))}else r=Ff(i,o,u,2),r!==null&&En(r,i,2)}function hh(i){var r=i.alternate;return i===De||r!==null&&r===De}function T_(i,r){co=sh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function x_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,vl(i,o)}}var Wl={readContext:Xt,use:oh,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Wl.useEffectEvent=gt;var E_={readContext:Xt,use:oh,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:Xt,useEffect:a_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,uh(4194308,4,c_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return uh(4194308,4,i,r)},useInsertionEffect:function(i,r){uh(4,2,i,r)},useMemo:function(i,r){var o=fn();r=r===void 0?null:r;var u=i();if(ca){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=fn();if(o!==void 0){var d=o(r);if(ca){On(!0);try{o(r)}finally{On(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=WC.bind(null,De,i),[u.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=vm(i);var r=i.queue,o=b_.bind(null,De,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Tm,useDeferredValue:function(i,r){var o=fn();return xm(o,i,r)},useTransition:function(){var i=vm(!1);return i=p_.bind(null,De,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=De,d=fn();if(ze){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),st===null)throw Error(s(349));(Pe&127)!==0||qv(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,a_($v.bind(null,u,g,i),[i]),u.flags|=2048,fo(9,{destroy:void 0},Gv.bind(null,u,g,o,r),null),o},useId:function(){var i=fn(),r=st.identifierPrefix;if(ze){var o=Fi,u=zi;o=(u&~(1<<32-_t(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=rh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=qC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:wm,useFormState:t_,useActionState:t_,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Sm.bind(null,De,!0,o),o.dispatch=r,[i,r]},useMemoCache:pm,useCacheRefresh:function(){return fn().memoizedState=XC.bind(null,De)},useEffectEvent:function(i){var r=fn(),o={impl:i};return r.memoizedState=o,function(){if((Ye&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Am={readContext:Xt,use:oh,useCallback:d_,useContext:Xt,useEffect:bm,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:f_,useReducer:lh,useRef:r_,useState:function(){return lh(hs)},useDebugValue:Tm,useDeferredValue:function(i,r){var o=xt();return m_(o,tt.memoizedState,i,r)},useTransition:function(){var i=lh(hs)[0],r=xt().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:Hv,useId:v_,useHostTransitionStatus:wm,useFormState:n_,useActionState:n_,useOptimistic:function(i,r){var o=xt();return Qv(o,tt,i,r)},useMemoCache:pm,useCacheRefresh:__};Am.useEffectEvent=o_;var w_={readContext:Xt,use:oh,useCallback:d_,useContext:Xt,useEffect:bm,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:f_,useReducer:ym,useRef:r_,useState:function(){return ym(hs)},useDebugValue:Tm,useDeferredValue:function(i,r){var o=xt();return tt===null?xm(o,i,r):m_(o,tt.memoizedState,i,r)},useTransition:function(){var i=ym(hs)[0],r=xt().memoizedState;return[typeof i=="boolean"?i:Ql(i),r]},useSyncExternalStore:Hv,useId:v_,useHostTransitionStatus:wm,useFormState:s_,useActionState:s_,useOptimistic:function(i,r){var o=xt();return tt!==null?Qv(o,tt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:pm,useCacheRefresh:__};w_.useEffectEvent=o_;function Cm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Rm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Mn(),d=Js(u);d.payload=r,o!=null&&(d.callback=o),r=Zs(i,d,u),r!==null&&(En(r,i,u),Gl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Mn(),d=Js(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Zs(i,d,u),r!==null&&(En(r,i,u),Gl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Mn(),u=Js(o);u.tag=2,r!=null&&(u.callback=r),r=Zs(i,u,o),r!==null&&(En(r,i,o),Gl(r,i,o))}};function S_(i,r,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!jl(o,u)||!jl(d,g):!0}function A_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Rm.enqueueReplaceState(r,r.state,null)}function ha(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function C_(i){Hc(i)}function R_(i){console.error(i)}function N_(i){Hc(i)}function dh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function I_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Nm(i,r,o){return o=Js(o),o.tag=3,o.payload={element:null},o.callback=function(){dh(i,r)},o}function D_(i){return i=Js(i),i.tag=3,i}function k_(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){I_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){I_(r,o,u),typeof d!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function JC(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&so(r,o,d,!0),o=Nn.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?wh():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Zc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),ep(i,u,d)),!1;case 22:return o.flags|=65536,u===Zc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),ep(i,u,d)),!1}throw Error(s(435,o.tag))}return ep(i,u,d),wh(),!1}if(ze)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Yf&&(i=Error(s(422),{cause:u}),Bl(zn(i,o)))):(u!==Yf&&(r=Error(s(423),{cause:u}),Bl(zn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=zn(u,o),d=Nm(i.stateNode,u,d),rm(i,d),yt!==4&&(yt=2)),!1;var g=Error(s(520),{cause:u});if(g=zn(g,o),ru===null?ru=[g]:ru.push(g),yt!==4&&(yt=2),r===null)return!0;u=zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Nm(o.stateNode,u,i),rm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rr===null||!rr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=D_(d),k_(d,i,o,u),rm(o,d),!1}o=o.return}while(o!==null);return!1}var Im=Error(s(461)),Dt=!1;function Wt(i,r,o,u){r.child=i===null?Pv(r,null,o,u):ua(r,i.child,o,u)}function M_(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ra(r),u=hm(i,r,o,T,g,d),w=dm(),i!==null&&!Dt?(fm(i,r,d),ds(i,r,d)):(ze&&w&&$f(r),r.flags|=1,Wt(i,r,u,d),r.child)}function V_(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Hf(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,O_(i,r,g,u,d)):(i=Kc(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Lm(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:jl,o(T,u)&&i.ref===r.ref)return ds(i,r,d)}return r.flags|=1,i=as(g,u),i.ref=r.ref,i.return=r,r.child=i}function O_(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(jl(g,u)&&i.ref===r.ref)if(Dt=!1,r.pendingProps=u=g,Lm(i,d))(i.flags&131072)!==0&&(Dt=!0);else return r.lanes=i.lanes,ds(i,r,d)}return Dm(i,r,o,u,d)}function P_(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return j_(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wc(r,g!==null?g.cachePool:null),g!==null?Uv(r,g):om(),Bv(r);else return u=r.lanes=536870912,j_(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Wc(r,g.cachePool),Uv(r,g),tr(),r.memoizedState=null):(i!==null&&Wc(r,null),om(),tr());return Wt(i,r,d,o),r.child}function Jl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function j_(i,r,o,u,d){var g=tm();return g=g===null?null:{parent:Nt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Wc(r,null),om(),Bv(r),i!==null&&so(i,r,u,!0),r.childLanes=d,null}function fh(i,r){return r=ph({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function L_(i,r,o){return ua(r,i.child,null,o),i=fh(r,r.pendingProps),i.flags|=2,In(r),r.memoizedState=null,i}function ZC(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(ze){if(u.mode==="hidden")return i=fh(r,u),r.lanes=536870912,Jl(null,i);if(um(r),(i=ot)?(i=Xb(i,qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:zi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},o=Tv(i),o.return=r,r.child=o,Qt=r,ot=null)):i=null,i===null)throw Qs(r);return r.lanes=536870912,null}return fh(r,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(um(r),d)if(r.flags&256)r.flags&=-257,r=L_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Dt||so(i,r,o,!1),d=(o&i.childLanes)!==0,Dt||d){if(u=st,u!==null&&(T=_l(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ta(i,T),En(u,i,T),Im;wh(),r=L_(i,r,o)}else i=g.treeContext,ot=$n(T.nextSibling),Qt=r,ze=!0,Ys=null,qn=!1,i!==null&&wv(r,i),r=fh(r,u),r.flags|=4096;return r}return i=as(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function mh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Dm(i,r,o,u,d){return ra(r),o=hm(i,r,o,u,void 0,d),u=dm(),i!==null&&!Dt?(fm(i,r,d),ds(i,r,d)):(ze&&u&&$f(r),r.flags|=1,Wt(i,r,o,d),r.child)}function U_(i,r,o,u,d,g){return ra(r),r.updateQueue=null,o=Fv(r,u,o,d),zv(i),u=dm(),i!==null&&!Dt?(fm(i,r,g),ds(i,r,g)):(ze&&u&&$f(r),r.flags|=1,Wt(i,r,o,g),r.child)}function B_(i,r,o,u,d){if(ra(r),r.stateNode===null){var g=eo,T=o.contextType;typeof T=="object"&&T!==null&&(g=Xt(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Rm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},im(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?Xt(T):eo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Cm(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Rm.enqueueReplaceState(g,g.state,null),Kl(r,u,g,d),$l(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,O=ha(o,w);g.props=O;var $=g.context,Z=o.contextType;T=eo,typeof Z=="object"&&Z!==null&&(T=Xt(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||$!==T)&&A_(r,g,u,T),Ws=!1;var Y=r.memoizedState;g.state=Y,Kl(r,u,g,d),$l(),$=r.memoizedState,w||Y!==$||Ws?(typeof ie=="function"&&(Cm(r,o,ie,u),$=r.memoizedState),(O=Ws||S_(r,o,O,u,Y,$,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),g.props=u,g.state=$,g.context=T,u=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,sm(i,r),T=r.memoizedProps,Z=ha(o,T),g.props=Z,ie=r.pendingProps,Y=g.context,$=o.contextType,O=eo,typeof $=="object"&&$!==null&&(O=Xt($)),w=o.getDerivedStateFromProps,($=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ie||Y!==O)&&A_(r,g,u,O),Ws=!1,Y=r.memoizedState,g.state=Y,Kl(r,u,g,d),$l();var W=r.memoizedState;T!==ie||Y!==W||Ws||i!==null&&i.dependencies!==null&&Qc(i.dependencies)?(typeof w=="function"&&(Cm(r,o,w,u),W=r.memoizedState),(Z=Ws||S_(r,o,Z,u,Y,W,O)||i!==null&&i.dependencies!==null&&Qc(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),g.props=u,g.state=W,g.context=O,u=Z):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,mh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=ua(r,i.child,null,d),r.child=ua(r,null,o,d)):Wt(i,r,o,d),r.memoizedState=g.state,i=r.child):i=ds(i,r,d),i}function z_(i,r,o,u){return ia(),r.flags|=256,Wt(i,r,o,u),r.child}var km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mm(i){return{baseLanes:i,cachePool:Iv()}}function Vm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=kn),i}function F_(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(ze){if(d?er(r):tr(),(i=ot)?(i=Xb(i,qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:zi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},o=Tv(i),o.return=r,r.child=o,Qt=r,ot=null)):i=null,i===null)throw Qs(r);return gp(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,d?(tr(),d=r.mode,w=ph({mode:"hidden",children:w},d),u=na(u,d,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=Mm(o),u.childLanes=Vm(i,T,o),r.memoizedState=km,Jl(null,u)):(er(r),Om(r,w))}var O=i.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(g)r.flags&256?(er(r),r.flags&=-257,r=Pm(i,r,o)):r.memoizedState!==null?(tr(),r.child=i.child,r.flags|=128,r=null):(tr(),w=u.fallback,d=r.mode,u=ph({mode:"visible",children:u.children},d),w=na(w,d,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,ua(r,i.child,null,o),u=r.child,u.memoizedState=Mm(o),u.childLanes=Vm(i,T,o),r.memoizedState=km,r=Jl(null,u));else if(er(r),gp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var $=T.dgst;T=$,u=Error(s(419)),u.stack="",u.digest=T,Bl({value:u,source:null,stack:null}),r=Pm(i,r,o)}else if(Dt||so(i,r,o,!1),T=(o&i.childLanes)!==0,Dt||T){if(T=st,T!==null&&(u=_l(T,o),u!==0&&u!==O.retryLane))throw O.retryLane=u,ta(i,u),En(T,i,u),Im;pp(w)||wh(),r=Pm(i,r,o)}else pp(w)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,ot=$n(w.nextSibling),Qt=r,ze=!0,Ys=null,qn=!1,i!==null&&wv(r,i),r=Om(r,u.children),r.flags|=4096);return r}return d?(tr(),w=u.fallback,d=r.mode,O=i.child,$=O.sibling,u=as(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,$!==null?w=as($,w):(w=na(w,d,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,Jl(null,u),u=r.child,w=i.child.memoizedState,w===null?w=Mm(o):(d=w.cachePool,d!==null?(O=Nt._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=Iv(),w={baseLanes:w.baseLanes|o,cachePool:d}),u.memoizedState=w,u.childLanes=Vm(i,T,o),r.memoizedState=km,Jl(i.child,u)):(er(r),o=i.child,i=o.sibling,o=as(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Om(i,r){return r=ph({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ph(i,r){return i=Rn(22,i,null,r),i.lanes=0,i}function Pm(i,r,o){return ua(r,i.child,null,o),i=Om(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function H_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Wf(i.return,r,o)}function jm(i,r,o,u,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function q_(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var T=Tt.current,w=(T&2)!==0;if(w?(T=T&1|2,r.flags|=128):T&=1,ce(Tt,T),Wt(i,r,u,o),u=ze?Ul:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&H_(i,o,r);else if(i.tag===19)H_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&ih(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),jm(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&ih(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}jm(r,!0,o,null,g,u);break;case"together":jm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ds(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(so(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=as(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=as(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Lm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Qc(i)))}function eR(i,r,o){switch(r.tag){case 3:Lt(r,r.stateNode.containerInfo),Xs(r,Nt,i.memoizedState.cache),ia();break;case 27:case 5:jr(r);break;case 4:Lt(r,r.stateNode.containerInfo);break;case 10:Xs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,um(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(er(r),r.flags|=128,null):(o&r.child.childLanes)!==0?F_(i,r,o):(er(r),i=ds(i,r,o),i!==null?i.sibling:null);er(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(so(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return q_(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(Tt,Tt.current),u)break;return null;case 22:return r.lanes=0,P_(i,r,o,r.pendingProps);case 24:Xs(r,Nt,i.memoizedState.cache)}return ds(i,r,o)}function G_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Dt=!0;else{if(!Lm(i,o)&&(r.flags&128)===0)return Dt=!1,eR(i,r,o);Dt=(i.flags&131072)!==0}else Dt=!1,ze&&(r.flags&1048576)!==0&&Ev(r,Ul,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=oa(r.elementType),r.type=i,typeof i=="function")Hf(i)?(u=ha(i,u),r.tag=1,r=B_(null,r,i,u,o)):(r.tag=0,r=Dm(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===oe){r.tag=11,r=M_(null,r,i,u,o);break e}else if(d===N){r.tag=14,r=V_(null,r,i,u,o);break e}}throw r=qe(i)||i,Error(s(306,r,""))}}return r;case 0:return Dm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=ha(u,r.pendingProps),B_(i,r,u,d,o);case 3:e:{if(Lt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,sm(i,r),Kl(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Xs(r,Nt,u),u!==g.cache&&Jf(r,[Nt],o,!0),$l(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=z_(i,r,u,o);break e}else if(u!==d){d=zn(Error(s(424)),r),Bl(d),r=z_(i,r,u,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ot=$n(i.firstChild),Qt=r,ze=!0,Ys=null,qn=!0,o=Pv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ia(),u===d){r=ds(i,r,o);break e}Wt(i,r,u,o)}r=r.child}return r;case 26:return mh(i,r),i===null?(o=nT(r.type,null,r.pendingProps,null))?r.memoizedState=o:ze||(o=r.type,i=r.pendingProps,u=Dh(ke.current).createElement(o),u[At]=r,u[Ht]=i,Jt(u,o,i),Ct(u),r.stateNode=u):r.memoizedState=nT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return jr(r),i===null&&ze&&(u=r.stateNode=Zb(r.type,r.pendingProps,ke.current),Qt=r,qn=!0,d=ot,ur(r.type)?(yp=d,ot=$n(u.firstChild)):ot=d),Wt(i,r,r.pendingProps.children,o),mh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ze&&((d=u=ot)&&(u=IR(u,r.type,r.pendingProps,qn),u!==null?(r.stateNode=u,Qt=r,ot=$n(u.firstChild),qn=!1,d=!0):d=!1),d||Qs(r)),jr(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,dp(d,g)?u=null:T!==null&&dp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=hm(i,r,GC,null,null,o),fu._currentValue=d),mh(i,r),Wt(i,r,u,o),r.child;case 6:return i===null&&ze&&((i=o=ot)&&(o=DR(o,r.pendingProps,qn),o!==null?(r.stateNode=o,Qt=r,ot=null,i=!0):i=!1),i||Qs(r)),null;case 13:return F_(i,r,o);case 4:return Lt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ua(r,null,u,o):Wt(i,r,u,o),r.child;case 11:return M_(i,r,r.type,r.pendingProps,o);case 7:return Wt(i,r,r.pendingProps,o),r.child;case 8:return Wt(i,r,r.pendingProps.children,o),r.child;case 12:return Wt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Xs(r,r.type,u.value),Wt(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,ra(r),d=Xt(d),u=u(d),r.flags|=1,Wt(i,r,u,o),r.child;case 14:return V_(i,r,r.type,r.pendingProps,o);case 15:return O_(i,r,r.type,r.pendingProps,o);case 19:return q_(i,r,o);case 31:return ZC(i,r,o);case 22:return P_(i,r,o,r.pendingProps);case 24:return ra(r),u=Xt(Nt),i===null?(d=tm(),d===null&&(d=st,g=Zf(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},im(r),Xs(r,Nt,d)):((i.lanes&o)!==0&&(sm(i,r),Kl(r,null,null,o),$l()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Xs(r,Nt,u)):(u=g.cache,Xs(r,Nt,u),u!==d.cache&&Jf(r,[Nt],o,!0))),Wt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function fs(i){i.flags|=4}function Um(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(vb())i.flags|=8192;else throw la=Zc,nm}else i.flags&=-16777217}function $_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!oT(r))if(vb())i.flags|=8192;else throw la=Zc,nm}function gh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?xc():536870912,i.lanes|=r,yo|=r)}function Zl(i,r){if(!ze)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function tR(i,r,o){var u=r.pendingProps;switch(Kf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),us(Nt),ct(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(io(r)?fs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Qf())),lt(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(fs(r),g!==null?(lt(r),$_(r,g)):(lt(r),Um(r,d,null,u,o))):g?g!==i.memoizedState?(fs(r),lt(r),$_(r,g)):(lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&fs(r),lt(r),Um(r,d,i,u,o)),null;case 27:if(Oa(r),o=ke.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&fs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=he.current,io(r)?Sv(r):(i=Zb(d,u,o),r.stateNode=i,fs(r))}return lt(r),null;case 5:if(Oa(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&fs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(g=he.current,io(r))Sv(r);else{var T=Dh(ke.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}g[At]=r,g[Ht]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(Jt(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&fs(r)}}return lt(r),Um(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&fs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=ke.current,io(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=Qt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[At]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Fb(i.nodeValue,o)),i||Qs(r,!0)}else i=Dh(i).createTextNode(u),i[At]=r,r.stateNode=i}return lt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=io(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[At]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),i=!1}else o=Qf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=io(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[At]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),d=!1}else d=Qf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),gh(r,r.updateQueue),lt(r),null);case 4:return ct(),i===null&&op(r.stateNode.containerInfo),lt(r),null;case 10:return us(r.type),lt(r),null;case 19:if(ne(Tt),u=r.memoizedState,u===null)return lt(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)Zl(u,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=ih(i),g!==null){for(r.flags|=128,Zl(u,!1),i=g.updateQueue,r.updateQueue=i,gh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)bv(o,i),o=o.sibling;return ce(Tt,Tt.current&1|2),ze&&os(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&hn()>Th&&(r.flags|=128,d=!0,Zl(u,!1),r.lanes=4194304)}else{if(!d)if(i=ih(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,gh(r,i),Zl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!ze)return lt(r),null}else 2*hn()-u.renderingStartTime>Th&&o!==536870912&&(r.flags|=128,d=!0,Zl(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=hn(),i.sibling=null,o=Tt.current,ce(Tt,d?o&1|2:o&1),ze&&os(r,u.treeForkCount),i):(lt(r),null);case 22:case 23:return In(r),lm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),o=r.updateQueue,o!==null&&gh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ne(aa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),us(Nt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function nR(i,r){switch(Kf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return us(Nt),ct(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Oa(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(In(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ne(Tt),null;case 4:return ct(),null;case 10:return us(r.type),null;case 22:case 23:return In(r),lm(),i!==null&&ne(aa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return us(Nt),null;case 25:return null;default:return null}}function K_(i,r){switch(Kf(r),r.tag){case 3:us(Nt),ct();break;case 26:case 27:case 5:Oa(r);break;case 4:ct();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:ne(Tt);break;case 10:us(r.type);break;case 22:case 23:In(r),lm(),i!==null&&ne(aa);break;case 24:us(Nt)}}function eu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(w){Je(r,r.return,w)}}function nr(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,d=r;var O=o,$=w;try{$()}catch(Z){Je(d,O,Z)}}}u=u.next}while(u!==g)}}catch(Z){Je(r,r.return,Z)}}function Y_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Lv(r,o)}catch(u){Je(i,i.return,u)}}}function Q_(i,r,o){o.props=ha(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Je(i,r,u)}}function tu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Je(i,r,d)}}function Hi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Je(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Je(i,r,d)}else o.current=null}function X_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Je(i,i.return,d)}}function Bm(i,r,o){try{var u=i.stateNode;wR(u,i.type,o,r),u[Ht]=r}catch(d){Je(i,i.return,d)}}function W_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ur(i.type)||i.tag===4}function zm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||W_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ur(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Fm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ri));else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Fm(i,r,o),i=i.sibling;i!==null;)Fm(i,r,o),i=i.sibling}function yh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(yh(i,r,o),i=i.sibling;i!==null;)yh(i,r,o),i=i.sibling}function J_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Jt(r,u,o),r[At]=i,r[Ht]=o}catch(g){Je(i,i.return,g)}}var ms=!1,kt=!1,Hm=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function iR(i,r){if(i=i.containerInfo,cp=Lh,i=hv(i),Pf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,w=-1,O=-1,$=0,Z=0,ie=i,Y=null;t:for(;;){for(var W;ie!==o||d!==0&&ie.nodeType!==3||(w=T+d),ie!==g||u!==0&&ie.nodeType!==3||(O=T+u),ie.nodeType===3&&(T+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Y=ie,ie=W;for(;;){if(ie===i)break t;if(Y===o&&++$===d&&(w=T),Y===g&&++Z===u&&(O=T),(W=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=W}o=w===-1||O===-1?null:{start:w,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(hp={focusedElem:i,selectionRange:o},Lh=!1,Gt=r;Gt!==null;)if(r=Gt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Gt=i;else for(;Gt!==null;){switch(r=Gt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var pe=ha(o.type,d);i=u.getSnapshotBeforeUpdate(pe,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(be){Je(o,o.return,be)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)mp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":mp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Gt=i;break}Gt=r.return}}function eb(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:gs(i,o),u&4&&eu(5,o);break;case 1:if(gs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Je(o,o.return,T)}else{var d=ha(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(o,o.return,T)}}u&64&&Y_(o),u&512&&tu(o,o.return);break;case 3:if(gs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Lv(i,r)}catch(T){Je(o,o.return,T)}}break;case 27:r===null&&u&4&&J_(o);case 26:case 5:gs(i,o),r===null&&u&4&&X_(o),u&512&&tu(o,o.return);break;case 12:gs(i,o);break;case 31:gs(i,o),u&4&&ib(i,o);break;case 13:gs(i,o),u&4&&sb(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=dR.bind(null,o),kR(i,o))));break;case 22:if(u=o.memoizedState!==null||ms,!u){r=r!==null&&r.memoizedState!==null||kt,d=ms;var g=kt;ms=u,(kt=r)&&!g?ys(i,o,(o.subtreeFlags&8772)!==0):gs(i,o),ms=d,kt=g}break;case 30:break;default:gs(i,o)}}function tb(i){var r=i.alternate;r!==null&&(i.alternate=null,tb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ba(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var dt=null,_n=!1;function ps(i,r,o){for(o=o.child;o!==null;)nb(i,r,o),o=o.sibling}function nb(i,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ti,o)}catch{}switch(o.tag){case 26:kt||Hi(o,r),ps(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||Hi(o,r);var u=dt,d=_n;ur(o.type)&&(dt=o.stateNode,_n=!1),ps(i,r,o),cu(o.stateNode),dt=u,_n=d;break;case 5:kt||Hi(o,r);case 6:if(u=dt,d=_n,dt=null,ps(i,r,o),dt=u,_n=d,dt!==null)if(_n)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(g){Je(o,r,g)}else try{dt.removeChild(o.stateNode)}catch(g){Je(o,r,g)}break;case 18:dt!==null&&(_n?(i=dt,Yb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),So(i)):Yb(dt,o.stateNode));break;case 4:u=dt,d=_n,dt=o.stateNode.containerInfo,_n=!0,ps(i,r,o),dt=u,_n=d;break;case 0:case 11:case 14:case 15:nr(2,o,r),kt||nr(4,o,r),ps(i,r,o);break;case 1:kt||(Hi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Q_(o,r,u)),ps(i,r,o);break;case 21:ps(i,r,o);break;case 22:kt=(u=kt)||o.memoizedState!==null,ps(i,r,o),kt=u;break;default:ps(i,r,o)}}function ib(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{So(i)}catch(o){Je(r,r.return,o)}}}function sb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{So(i)}catch(o){Je(r,r.return,o)}}function sR(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Z_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Z_),r;default:throw Error(s(435,i.tag))}}function vh(i,r){var o=sR(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=fR.bind(null,i,u);u.then(d,d)}})}function bn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=r,w=T;e:for(;w!==null;){switch(w.tag){case 27:if(ur(w.type)){dt=w.stateNode,_n=!1;break e}break;case 5:dt=w.stateNode,_n=!1;break e;case 3:case 4:dt=w.stateNode.containerInfo,_n=!0;break e}w=w.return}if(dt===null)throw Error(s(160));nb(g,T,d),dt=null,_n=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)rb(r,i),r=r.sibling}var hi=null;function rb(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(r,i),Tn(i),u&4&&(nr(3,i,i.return),eu(3,i),nr(5,i,i.return));break;case 1:bn(r,i),Tn(i),u&512&&(kt||o===null||Hi(o,o.return)),u&64&&ms&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=hi;if(bn(r,i),Tn(i),u&512&&(kt||o===null||Hi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ni]||g[At]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Jt(g,u,o),g[At]=i,Ct(g),u=g;break e;case"link":var T=rT("link","href",d).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break t}}g=d.createElement(u),Jt(g,u,o),d.head.appendChild(g);break;case"meta":if(T=rT("meta","content",d).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break t}}g=d.createElement(u),Jt(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[At]=i,Ct(g),u=g}i.stateNode=u}else aT(d,i.type,i.stateNode);else i.stateNode=sT(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?aT(d,i.type,i.stateNode):sT(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Bm(i,i.memoizedProps,o.memoizedProps)}break;case 27:bn(r,i),Tn(i),u&512&&(kt||o===null||Hi(o,o.return)),o!==null&&u&4&&Bm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(bn(r,i),Tn(i),u&512&&(kt||o===null||Hi(o,o.return)),i.flags&32){d=i.stateNode;try{vn(d,"")}catch(pe){Je(i,i.return,pe)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Bm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Hm=!0);break;case 6:if(bn(r,i),Tn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(pe){Je(i,i.return,pe)}}break;case 3:if(Vh=null,d=hi,hi=kh(r.containerInfo),bn(r,i),hi=d,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{So(r.containerInfo)}catch(pe){Je(i,i.return,pe)}Hm&&(Hm=!1,ab(i));break;case 4:u=hi,hi=kh(i.stateNode.containerInfo),bn(r,i),Tn(i),hi=u;break;case 12:bn(r,i),Tn(i);break;case 31:bn(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,vh(i,u)));break;case 13:bn(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(bh=hn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,vh(i,u)));break;case 22:d=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,$=ms,Z=kt;if(ms=$||d,kt=Z||O,bn(r,i),kt=Z,ms=$,Tn(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||O||ms||kt||da(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=O.stateNode;var ie=O.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){Je(O,O.return,pe)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(pe){Je(O,O.return,pe)}}}else if(r.tag===18){if(o===null){O=r;try{var W=O.stateNode;d?Qb(W,!0):Qb(O.stateNode,!1)}catch(pe){Je(O,O.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,vh(i,o))));break;case 19:bn(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,vh(i,u)));break;case 30:break;case 21:break;default:bn(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(W_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=zm(i);yh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(vn(T,""),o.flags&=-33);var w=zm(i);yh(i,w,T);break;case 3:case 4:var O=o.stateNode.containerInfo,$=zm(i);Fm(i,$,O);break;default:throw Error(s(161))}}catch(Z){Je(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function ab(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;ab(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function gs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)eb(i,r.alternate,r),r=r.sibling}function da(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return),da(r);break;case 1:Hi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Q_(r,r.return,o),da(r);break;case 27:cu(r.stateNode);case 26:case 5:Hi(r,r.return),da(r);break;case 22:r.memoizedState===null&&da(r);break;case 30:da(r);break;default:da(r)}i=i.sibling}}function ys(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:ys(d,g,o),eu(4,g);break;case 1:if(ys(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){Je(u,u.return,$)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)jv(O[d],w)}catch($){Je(u,u.return,$)}}o&&T&64&&Y_(g),tu(g,g.return);break;case 27:J_(g);case 26:case 5:ys(d,g,o),o&&u===null&&T&4&&X_(g),tu(g,g.return);break;case 12:ys(d,g,o);break;case 31:ys(d,g,o),o&&T&4&&ib(d,g);break;case 13:ys(d,g,o),o&&T&4&&sb(d,g);break;case 22:g.memoizedState===null&&ys(d,g,o),tu(g,g.return);break;case 30:break;default:ys(d,g,o)}r=r.sibling}}function qm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&zl(o))}function Gm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&zl(i))}function di(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ob(i,r,o,u),r=r.sibling}function ob(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:di(i,r,o,u),d&2048&&eu(9,r);break;case 1:di(i,r,o,u);break;case 3:di(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&zl(i)));break;case 12:if(d&2048){di(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Je(r,r.return,O)}}else di(i,r,o,u);break;case 31:di(i,r,o,u);break;case 13:di(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?di(i,r,o,u):nu(i,r):g._visibility&2?di(i,r,o,u):(g._visibility|=2,mo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&qm(T,r);break;case 24:di(i,r,o,u),d&2048&&Gm(r.alternate,r);break;default:di(i,r,o,u)}}function mo(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,w=o,O=u,$=T.flags;switch(T.tag){case 0:case 11:case 15:mo(g,T,w,O,d),eu(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?mo(g,T,w,O,d):nu(g,T):(Z._visibility|=2,mo(g,T,w,O,d)),d&&$&2048&&qm(T.alternate,T);break;case 24:mo(g,T,w,O,d),d&&$&2048&&Gm(T.alternate,T);break;default:mo(g,T,w,O,d)}r=r.sibling}}function nu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:nu(o,u),d&2048&&qm(u.alternate,u);break;case 24:nu(o,u),d&2048&&Gm(u.alternate,u);break;default:nu(o,u)}r=r.sibling}}var iu=8192;function po(i,r,o){if(i.subtreeFlags&iu)for(i=i.child;i!==null;)lb(i,r,o),i=i.sibling}function lb(i,r,o){switch(i.tag){case 26:po(i,r,o),i.flags&iu&&i.memoizedState!==null&&qR(o,hi,i.memoizedState,i.memoizedProps);break;case 5:po(i,r,o);break;case 3:case 4:var u=hi;hi=kh(i.stateNode.containerInfo),po(i,r,o),hi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=iu,iu=16777216,po(i,r,o),iu=u):po(i,r,o));break;default:po(i,r,o)}}function ub(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function su(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Gt=u,hb(u,i)}ub(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cb(i),i=i.sibling}function cb(i){switch(i.tag){case 0:case 11:case 15:su(i),i.flags&2048&&nr(9,i,i.return);break;case 3:su(i);break;case 12:su(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,_h(i)):su(i);break;default:su(i)}}function _h(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Gt=u,hb(u,i)}ub(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:nr(8,r,r.return),_h(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,_h(r));break;default:_h(r)}i=i.sibling}}function hb(i,r){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:zl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Gt=u;else e:for(o=i;Gt!==null;){u=Gt;var d=u.sibling,g=u.return;if(tb(u),u===o){Gt=null;break e}if(d!==null){d.return=g,Gt=d;break e}Gt=g}}}var rR={getCacheForType:function(i){var r=Xt(Nt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Xt(Nt).controller.signal}},aR=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Ve=null,Pe=0,We=0,Dn=null,ir=!1,go=!1,$m=!1,vs=0,yt=0,sr=0,fa=0,Km=0,kn=0,yo=0,ru=null,xn=null,Ym=!1,bh=0,db=0,Th=1/0,xh=null,rr=null,Bt=0,ar=null,vo=null,_s=0,Qm=0,Xm=null,fb=null,au=0,Wm=null;function Mn(){return(Ye&2)!==0&&Pe!==0?Pe&-Pe:J.T!==null?ip():Ec()}function mb(){if(kn===0)if((Pe&536870912)===0||ze){var i=Br;Br<<=1,(Br&3932160)===0&&(Br=262144),kn=i}else kn=536870912;return i=Nn.current,i!==null&&(i.flags|=32),kn}function En(i,r,o){(i===st&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(_o(i,0),or(i,Pe,kn,!1)),zr(i,o),((Ye&2)===0||i!==st)&&(i===st&&((Ye&2)===0&&(fa|=o),yt===4&&or(i,Pe,kn,!1)),qi(i))}function pb(i,r,o){if((Ye&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ni(i,r),d=u?uR(i,r):Zm(i,r,!0),g=u;do{if(d===0){go&&!u&&or(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!oR(o)){d=Zm(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var w=i;d=ru;var O=w.current.memoizedState.isDehydrated;if(O&&(_o(w,T).flags|=256),T=Zm(w,T,!1),T!==2){if($m&&!O){w.errorRecoveryDisabledLanes|=g,fa|=g,d=4;break e}g=xn,xn=d,g!==null&&(xn===null?xn=g:xn.push.apply(xn,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){_o(i,0),or(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:or(u,r,kn,!ir);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=bh+300-hn(),10<d)){if(or(u,r,kn,!ir),Ai(u,0,!0)!==0)break e;_s=r,u.timeoutHandle=$b(gb.bind(null,u,o,xn,xh,Ym,r,kn,fa,yo,ir,g,"Throttled",-0,0),d);break e}gb(u,o,xn,xh,Ym,r,kn,fa,yo,ir,g,null,-0,0)}}break}while(!0);qi(i)}function gb(i,r,o,u,d,g,T,w,O,$,Z,ie,Y,W){if(i.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},lb(r,g,ie);var pe=(g&62914560)===g?bh-hn():(g&4194048)===g?db-hn():0;if(pe=GR(ie,pe),pe!==null){_s=g,i.cancelPendingCommit=pe(wb.bind(null,i,r,g,o,u,d,T,w,O,Z,ie,null,Y,W)),or(i,g,T,!$);return}}wb(i,r,g,o,u,d,T,w,O)}function oR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Cn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(i,r,o,u){r&=~Km,r&=~fa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-_t(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&Fr(i,o,r)}function Eh(){return(Ye&6)===0?(ou(0),!1):!0}function Jm(){if(Ve!==null){if(We===0)var i=Ve.return;else i=Ve,ls=sa=null,mm(i),lo=null,Hl=0,i=Ve;for(;i!==null;)K_(i.alternate,i),i=i.return;Ve=null}}function _o(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,CR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),_s=0,Jm(),st=i,Ve=o=as(i.current,null),Pe=r,We=0,Dn=null,ir=!1,go=ni(i,r),$m=!1,yo=kn=Km=fa=sr=yt=0,xn=ru=null,Ym=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-_t(u),g=1<<d;r|=i[d],u&=~g}return vs=r,qc(),o}function yb(i,r){De=null,J.H=Wl,r===oo||r===Jc?(r=Mv(),We=3):r===nm?(r=Mv(),We=4):We=r===Im?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Ve===null&&(yt=1,dh(i,zn(r,i.current)))}function vb(){var i=Nn.current;return i===null?!0:(Pe&4194048)===Pe?Gn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===Gn:!1}function _b(){var i=J.H;return J.H=Wl,i===null?Wl:i}function bb(){var i=J.A;return J.A=rR,i}function wh(){yt=4,ir||(Pe&4194048)!==Pe&&Nn.current!==null||(go=!0),(sr&134217727)===0&&(fa&134217727)===0||st===null||or(st,Pe,kn,!1)}function Zm(i,r,o){var u=Ye;Ye|=2;var d=_b(),g=bb();(st!==i||Pe!==r)&&(xh=null,_o(i,r)),r=!1;var T=yt;e:do try{if(We!==0&&Ve!==null){var w=Ve,O=Dn;switch(We){case 8:Jm(),T=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var $=We;if(We=0,Dn=null,bo(i,w,O,$),o&&go){T=0;break e}break;default:$=We,We=0,Dn=null,bo(i,w,O,$)}}lR(),T=yt;break}catch(Z){yb(i,Z)}while(!0);return r&&i.shellSuspendCounter++,ls=sa=null,Ye=u,J.H=d,J.A=g,Ve===null&&(st=null,Pe=0,qc()),T}function lR(){for(;Ve!==null;)Tb(Ve)}function uR(i,r){var o=Ye;Ye|=2;var u=_b(),d=bb();st!==i||Pe!==r?(xh=null,Th=hn()+500,_o(i,r)):go=ni(i,r);e:do try{if(We!==0&&Ve!==null){r=Ve;var g=Dn;t:switch(We){case 1:We=0,Dn=null,bo(i,r,g,1);break;case 2:case 9:if(Dv(g)){We=0,Dn=null,xb(r);break}r=function(){We!==2&&We!==9||st!==i||(We=7),qi(i)},g.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Dv(g)?(We=0,Dn=null,xb(r)):(We=0,Dn=null,bo(i,r,g,7));break;case 5:var T=null;switch(Ve.tag){case 26:T=Ve.memoizedState;case 5:case 27:var w=Ve;if(T?oT(T):w.stateNode.complete){We=0,Dn=null;var O=w.sibling;if(O!==null)Ve=O;else{var $=w.return;$!==null?(Ve=$,Sh($)):Ve=null}break t}}We=0,Dn=null,bo(i,r,g,5);break;case 6:We=0,Dn=null,bo(i,r,g,6);break;case 8:Jm(),yt=6;break e;default:throw Error(s(462))}}cR();break}catch(Z){yb(i,Z)}while(!0);return ls=sa=null,J.H=u,J.A=d,Ye=o,Ve!==null?0:(st=null,Pe=0,qc(),yt)}function cR(){for(;Ve!==null&&!Nf();)Tb(Ve)}function Tb(i){var r=G_(i.alternate,i,vs);i.memoizedProps=i.pendingProps,r===null?Sh(i):Ve=r}function xb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=U_(o,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=U_(o,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:mm(r);default:K_(o,r),r=Ve=bv(r,vs),r=G_(o,r,vs)}i.memoizedProps=i.pendingProps,r===null?Sh(i):Ve=r}function bo(i,r,o,u){ls=sa=null,mm(r),lo=null,Hl=0;var d=r.return;try{if(JC(i,d,r,o,Pe)){yt=1,dh(i,zn(o,i.current)),Ve=null;return}}catch(g){if(d!==null)throw Ve=d,g;yt=1,dh(i,zn(o,i.current)),Ve=null;return}r.flags&32768?(ze||u===1?i=!0:go||(Pe&536870912)!==0?i=!1:(ir=i=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Eb(r,i)):Sh(r)}function Sh(i){var r=i;do{if((r.flags&32768)!==0){Eb(r,ir);return}i=r.return;var o=tR(r.alternate,r,vs);if(o!==null){Ve=o;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=i}while(r!==null);yt===0&&(yt=5)}function Eb(i,r){do{var o=nR(i.alternate,i);if(o!==null){o.flags&=32767,Ve=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=o}while(i!==null);yt=6,Ve=null}function wb(i,r,o,u,d,g,T,w,O){i.cancelPendingCommit=null;do Ah();while(Bt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=zf,kf(i,o,g,T,w,O),i===st&&(Ve=st=null,Pe=0),vo=r,ar=i,_s=o,Qm=g,Xm=d,fb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,mR(js,function(){return Nb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,d=le.p,le.p=2,T=Ye,Ye|=4;try{iR(i,r,o)}finally{Ye=T,le.p=d,J.T=u}}Bt=1,Sb(),Ab(),Cb()}}function Sb(){if(Bt===1){Bt=0;var i=ar,r=vo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=le.p;le.p=2;var d=Ye;Ye|=4;try{rb(r,i);var g=hp,T=hv(i.containerInfo),w=g.focusedElem,O=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&cv(w.ownerDocument.documentElement,w)){if(O!==null&&Pf(w)){var $=O.start,Z=O.end;if(Z===void 0&&(Z=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(Z,w.value.length);else{var ie=w.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),pe=w.textContent.length,be=Math.min(O.start,pe),it=O.end===void 0?be:Math.min(O.end,pe);!W.extend&&be>it&&(T=it,it=be,be=T);var F=uv(w,be),U=uv(w,it);if(F&&U&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var G=ie.createRange();G.setStart(F.node,F.offset),W.removeAllRanges(),be>it?(W.addRange(G),W.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),W.addRange(G))}}}}for(ie=[],W=w;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var ee=ie[w];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Lh=!!cp,hp=cp=null}finally{Ye=d,le.p=u,J.T=o}}i.current=r,Bt=2}}function Ab(){if(Bt===2){Bt=0;var i=ar,r=vo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=le.p;le.p=2;var d=Ye;Ye|=4;try{eb(i,r.alternate,r)}finally{Ye=d,le.p=u,J.T=o}}Bt=3}}function Cb(){if(Bt===4||Bt===3){Bt=0,gc();var i=ar,r=vo,o=_s,u=fb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,vo=ar=null,Rb(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(rr=null),ns(o),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ti,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,d=le.p,le.p=2,J.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];g(w.value,{componentStack:w.stack})}}finally{J.T=r,le.p=d}}(_s&3)!==0&&Ah(),qi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Wm?au++:(au=0,Wm=i):au=0,ou(0)}}function Rb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,zl(r)))}function Ah(){return Sb(),Ab(),Cb(),Nb()}function Nb(){if(Bt!==5)return!1;var i=ar,r=Qm;Qm=0;var o=ns(_s),u=J.T,d=le.p;try{le.p=32>o?32:o,J.T=null,o=Xm,Xm=null;var g=ar,T=_s;if(Bt=0,vo=ar=null,_s=0,(Ye&6)!==0)throw Error(s(331));var w=Ye;if(Ye|=4,cb(g.current),ob(g,g.current,T,o),Ye=w,ou(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ti,g)}catch{}return!0}finally{le.p=d,J.T=u,Rb(i,r)}}function Ib(i,r,o){r=zn(o,r),r=Nm(i.stateNode,r,2),i=Zs(i,r,2),i!==null&&(zr(i,2),qi(i))}function Je(i,r,o){if(i.tag===3)Ib(i,i,o);else for(;r!==null;){if(r.tag===3){Ib(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rr===null||!rr.has(u))){i=zn(o,i),o=D_(2),u=Zs(r,o,2),u!==null&&(k_(o,u,r,i),zr(u,2),qi(u));break}}r=r.return}}function ep(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new aR;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||($m=!0,d.add(o),i=hR.bind(null,i,r,o),r.then(i,i))}function hR(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,st===i&&(Pe&o)===o&&(yt===4||yt===3&&(Pe&62914560)===Pe&&300>hn()-bh?(Ye&2)===0&&_o(i,0):Km|=o,yo===Pe&&(yo=0)),qi(i)}function Db(i,r){r===0&&(r=xc()),i=ta(i,r),i!==null&&(zr(i,r),qi(i))}function dR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Db(i,o)}function fR(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Db(i,o)}function mR(i,r){return Ut(i,r)}var Ch=null,To=null,tp=!1,Rh=!1,np=!1,lr=0;function qi(i){i!==To&&i.next===null&&(To===null?Ch=To=i:To=To.next=i),Rh=!0,tp||(tp=!0,gR())}function ou(i,r){if(!np&&Rh){np=!0;do for(var o=!1,u=Ch;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-_t(42|i)+1)-1,g&=d&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Ob(u,g))}else g=Pe,g=Ai(u,u===st?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ni(u,g)||(o=!0,Ob(u,g));u=u.next}while(o);np=!1}}function pR(){kb()}function kb(){Rh=tp=!1;var i=0;lr!==0&&AR()&&(i=lr);for(var r=hn(),o=null,u=Ch;u!==null;){var d=u.next,g=Mb(u,r);g===0?(u.next=null,o===null?Ch=d:o.next=d,d===null&&(To=o)):(o=u,(i!==0||(g&3)!==0)&&(Rh=!0)),u=d}Bt!==0&&Bt!==5||ou(i),lr!==0&&(lr=0)}function Mb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-_t(g),w=1<<T,O=d[T];O===-1?((w&o)===0||(w&u)!==0)&&(d[T]=Df(w,r)):O<=r&&(i.expiredLanes|=w),g&=~w}if(r=st,o=Pe,o=Ai(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ps(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ni(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Ps(u),ns(o)){case 2:case 8:o=yl;break;case 32:o=js;break;case 268435456:o=yc;break;default:o=js}return u=Vb.bind(null,i),o=Ut(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Ps(u),i.callbackPriority=2,i.callbackNode=null,2}function Vb(i,r){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ah()&&i.callbackNode!==o)return null;var u=Pe;return u=Ai(i,i===st?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(pb(i,u,r),Mb(i,hn()),i.callbackNode!=null&&i.callbackNode===o?Vb.bind(null,i):null)}function Ob(i,r){if(Ah())return null;pb(i,r,!0)}function gR(){RR(function(){(Ye&6)!==0?Ut(gl,pR):kb()})}function ip(){if(lr===0){var i=ro;i===0&&(i=wi,wi<<=1,(wi&261888)===0&&(wi=256)),lr=i}return lr}function Pb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qa(""+i)}function jb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function yR(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=Pb((d[Ht]||null).action),T=u.submitter;T&&(r=(r=T[Ht]||null)?Pb(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var w=new ji("action","action",null,u,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lr!==0){var O=T?jb(d,T):new FormData(d);Em(o,{pending:!0,data:O,method:d.method,action:g},null,O)}}else typeof g=="function"&&(w.preventDefault(),O=T?jb(d,T):new FormData(d),Em(o,{pending:!0,data:O,method:d.method,action:g},g,O))},currentTarget:d}]})}}for(var sp=0;sp<Bf.length;sp++){var rp=Bf[sp],vR=rp.toLowerCase(),_R=rp[0].toUpperCase()+rp.slice(1);ci(vR,"on"+_R)}ci(mv,"onAnimationEnd"),ci(pv,"onAnimationIteration"),ci(gv,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(OC,"onTransitionRun"),ci(PC,"onTransitionStart"),ci(jC,"onTransitionCancel"),ci(yv,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function Lb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var w=u[T],O=w.instance,$=w.currentTarget;if(w=w.listener,O!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=$;try{g(d)}catch(Z){Hc(Z)}d.currentTarget=null,g=O}else for(T=0;T<u.length;T++){if(w=u[T],O=w.instance,$=w.currentTarget,w=w.listener,O!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=$;try{g(d)}catch(Z){Hc(Z)}d.currentTarget=null,g=O}}}}function Oe(i,r){var o=r[Ua];o===void 0&&(o=r[Ua]=new Set);var u=i+"__bubble";o.has(u)||(Ub(r,i,2,!1),o.add(u))}function ap(i,r,o){var u=0;r&&(u|=4),Ub(o,i,u,r)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function op(i){if(!i[Nh]){i[Nh]=!0,bl.forEach(function(o){o!=="selectionchange"&&(bR.has(o)||ap(o,!1,i),ap(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Nh]||(r[Nh]=!0,ap("selectionchange",!1,r))}}function Ub(i,r,o,u){switch(mT(r)){case 2:var d=YR;break;case 8:d=QR;break;default:d=xp}o=d.bind(null,r,o,i),d=void 0,!Kr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function lp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===d)break;if(T===4)for(T=u.return;T!==null;){var O=T.tag;if((O===3||O===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;w!==null;){if(T=Ii(w),T===null)return;if(O=T.tag,O===5||O===6||O===26||O===27){u=g=T;continue e}w=w.parentNode}}u=u.return}Hs(function(){var $=g,Z=jn(o),ie=[];e:{var Y=vv.get(i);if(Y!==void 0){var W=ji,pe=i;switch(i){case"keypress":if(Qr(o)===0)break e;case"keydown":case"keyup":W=Bc;break;case"focusin":pe="focus",W=Wr;break;case"focusout":pe="blur",W=Wr;break;case"beforeblur":case"afterblur":W=Wr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case mv:case pv:case gv:W=Mc;break;case yv:W=C;break;case"scroll":case"scrollend":W=kl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=rs;break;case"toggle":case"beforetoggle":W=Ie}var be=(r&4)!==0,it=!be&&(i==="scroll"||i==="scrollend"),F=be?Y!==null?Y+"Capture":null:Y;be=[];for(var U=$,G;U!==null;){var ee=U;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||F===null||(ee=ai(U,F),ee!=null&&be.push(uu(U,ee,G))),it)break;U=U.return}0<be.length&&(Y=new W(Y,pe,null,o,Z),ie.push({event:Y,listeners:be}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Y&&o!==Nl&&(pe=o.relatedTarget||o.fromElement)&&(Ii(pe)||pe[Ri]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(pe=o.relatedTarget||o.toElement,W=$,pe=pe?Ii(pe):null,pe!==null&&(it=l(pe),be=pe.tag,pe!==it||be!==5&&be!==27&&be!==6)&&(pe=null)):(W=null,pe=$),W!==pe)){if(be=Ml,ee="onMouseLeave",F="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(be=rs,ee="onPointerLeave",F="onPointerEnter",U="pointer"),it=W==null?Y:Sn(W),G=pe==null?Y:Sn(pe),Y=new be(ee,U+"leave",W,o,Z),Y.target=it,Y.relatedTarget=G,ee=null,Ii(Z)===$&&(be=new be(F,U+"enter",pe,o,Z),be.target=G,be.relatedTarget=it,ee=be),it=ee,W&&pe)t:{for(be=TR,F=W,U=pe,G=0,ee=F;ee;ee=be(ee))G++;ee=0;for(var ve=U;ve;ve=be(ve))ee++;for(;0<G-ee;)F=be(F),G--;for(;0<ee-G;)U=be(U),ee--;for(;G--;){if(F===U||U!==null&&F===U.alternate){be=F;break t}F=be(F),U=be(U)}be=null}else be=null;W!==null&&Bb(ie,Y,W,be,!1),pe!==null&&it!==null&&Bb(ie,it,pe,be,!0)}}e:{if(Y=$?Sn($):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Ge=iv;else if(tv(Y))if(sv)Ge=kC;else{Ge=IC;var ye=NC}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&Ha($.elementType)&&(Ge=iv):Ge=DC;if(Ge&&(Ge=Ge(i,$))){nv(ie,Ge,o,Z);break e}ye&&ye(i,Y,$),i==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Al(Y,"number",Y.value)}switch(ye=$?Sn($):window,i){case"focusin":(tv(ye)||ye.contentEditable==="true")&&(Wa=ye,jf=$,Ll=null);break;case"focusout":Ll=jf=Wa=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,dv(ie,o,Z);break;case"selectionchange":if(VC)break;case"keydown":case"keyup":dv(ie,o,Z)}var Me;if(Ke)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Xa?Jr(i,o)&&(je="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(Bi&&o.locale!=="ko"&&(Xa||je!=="onCompositionStart"?je==="onCompositionEnd"&&Xa&&(Me=Dl()):(Pi=Z,Il="value"in Pi?Pi.value:Pi.textContent,Xa=!0)),ye=Ih($,je),0<ye.length&&(je=new Ui(je,i,null,o,Z),ie.push({event:je,listeners:ye}),Me?je.data=Me:(Me=Qa(o),Me!==null&&(je.data=Me)))),(Me=Un?SC(i,o):AC(i,o))&&(je=Ih($,"onBeforeInput"),0<je.length&&(ye=new Ui("onBeforeInput","beforeinput",null,o,Z),ie.push({event:ye,listeners:je}),ye.data=Me)),yR(ie,i,$,o,Z)}Lb(ie,r)})}function uu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Ih(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ai(i,o),d!=null&&u.unshift(uu(i,d,g)),d=ai(i,r),d!=null&&u.push(uu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function TR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Bb(i,r,o,u,d){for(var g=r._reactName,T=[];o!==null&&o!==u;){var w=o,O=w.alternate,$=w.stateNode;if(w=w.tag,O!==null&&O===u)break;w!==5&&w!==26&&w!==27||$===null||(O=$,d?($=ai(o,g),$!=null&&T.unshift(uu(o,$,O))):d||($=ai(o,g),$!=null&&T.push(uu(o,$,O)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var xR=/\r\n?/g,ER=/\u0000|\uFFFD/g;function zb(i){return(typeof i=="string"?i:""+i).replace(xR,`
`).replace(ER,"")}function Fb(i,r){return r=zb(r),zb(i)===r}function nt(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||vn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&vn(i,""+u);break;case"className":An(i,"class",u);break;case"tabIndex":An(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,o,u);break;case"style":Rl(i,u,g);break;case"data":if(r!=="object"){An(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=qa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&nt(i,r,"name",d.name,d,null),nt(i,r,"formEncType",d.formEncType,d,null),nt(i,r,"formMethod",d.formMethod,d,null),nt(i,r,"formTarget",d.formTarget,d,null)):(nt(i,r,"encType",d.encType,d,null),nt(i,r,"method",d.method,d,null),nt(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=qa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ri);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=qa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),za(i,"popover",u);break;case"xlinkActuate":Rt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Rt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Rt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Rt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Rt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Rt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":za(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ic.get(o)||o,za(i,o,u))}}function up(i,r,o,u,d,g){switch(o){case"style":Rl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?vn(i,u):(typeof u=="number"||typeof u=="bigint")&&vn(i,""+u);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Ht]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):za(i,o,u)}}}function Jt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,g,T,o,null)}}d&&nt(i,r,"srcSet",o.srcSet,o,null),u&&nt(i,r,"src",o.src,o,null);return;case"input":Oe("invalid",i);var w=g=T=d=null,O=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":T=Z;break;case"checked":O=Z;break;case"defaultChecked":$=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:nt(i,r,u,Z,o,null)}}Cc(i,g,w,O,$,T,d,!1);return;case"select":Oe("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:nt(i,r,d,w,o,null)}r=g,o=T,i.multiple=!!u,r!=null?Us(i,!!u,r,!1):o!=null&&Us(i,!!u,o,!0);return;case"textarea":Oe("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:nt(i,r,T,w,o,null)}Bs(i,u,d,g);return;case"option":for(O in o)o.hasOwnProperty(O)&&(u=o[O],u!=null)&&(O==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":nt(i,r,O,u,o,null));return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(u=0;u<lu.length;u++)Oe(lu[u],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,$,u,o,null)}return;default:if(Ha(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&up(i,r,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&nt(i,r,w,u,o,null))}function wR(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,w=null,O=null,$=null,Z=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=ie;default:u.hasOwnProperty(W)||nt(i,r,W,null,u,ie)}}for(var Y in u){var W=u[Y];if(ie=o[Y],u.hasOwnProperty(Y)&&(W!=null||ie!=null))switch(Y){case"type":g=W;break;case"name":d=W;break;case"checked":$=W;break;case"defaultChecked":Z=W;break;case"value":T=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==ie&&nt(i,r,Y,W,u,ie)}}Fa(i,T,w,O,$,Z,g,d);return;case"select":W=T=w=Y=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":W=O;default:u.hasOwnProperty(g)||nt(i,r,g,null,u,O)}for(d in u)if(g=u[d],O=o[d],u.hasOwnProperty(d)&&(g!=null||O!=null))switch(d){case"value":Y=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==O&&nt(i,r,d,g,u,O)}r=w,o=T,u=W,Y!=null?Us(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Us(i,!!o,r,!0):Us(i,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:nt(i,r,w,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Y=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&nt(i,r,T,d,u,g)}Rc(i,Y,W);return;case"option":for(var pe in o)Y=o[pe],o.hasOwnProperty(pe)&&Y!=null&&!u.hasOwnProperty(pe)&&(pe==="selected"?i.selected=!1:nt(i,r,pe,null,u,Y));for(O in u)Y=u[O],W=o[O],u.hasOwnProperty(O)&&Y!==W&&(Y!=null||W!=null)&&(O==="selected"?i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":nt(i,r,O,Y,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)Y=o[be],o.hasOwnProperty(be)&&Y!=null&&!u.hasOwnProperty(be)&&nt(i,r,be,null,u,Y);for($ in u)if(Y=u[$],W=o[$],u.hasOwnProperty($)&&Y!==W&&(Y!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:nt(i,r,$,Y,u,W)}return;default:if(Ha(r)){for(var it in o)Y=o[it],o.hasOwnProperty(it)&&Y!==void 0&&!u.hasOwnProperty(it)&&up(i,r,it,void 0,u,Y);for(Z in u)Y=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||up(i,r,Z,Y,u,W);return}}for(var F in o)Y=o[F],o.hasOwnProperty(F)&&Y!=null&&!u.hasOwnProperty(F)&&nt(i,r,F,null,u,Y);for(ie in u)Y=u[ie],W=o[ie],!u.hasOwnProperty(ie)||Y===W||Y==null&&W==null||nt(i,r,ie,Y,u,W)}function Hb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,T=d.initiatorType,w=d.duration;if(g&&w&&Hb(T)){for(T=0,w=d.responseEnd,u+=1;u<o.length;u++){var O=o[u],$=O.startTime;if($>w)break;var Z=O.transferSize,ie=O.initiatorType;Z&&Hb(ie)&&(O=O.responseEnd,T+=Z*(O<w?1:(w-$)/(O-$)))}if(--u,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var cp=null,hp=null;function Dh(i){return i.nodeType===9?i:i.ownerDocument}function qb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function dp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fp=null;function AR(){var i=window.event;return i&&i.type==="popstate"?i===fp?!1:(fp=i,!0):(fp=null,!1)}var $b=typeof setTimeout=="function"?setTimeout:void 0,CR=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(i){return Kb.resolve(null).then(i).catch(NR)}:$b;function NR(i){setTimeout(function(){throw i})}function ur(i){return i==="head"}function Yb(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),So(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")cu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,cu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[Ni]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&cu(i.ownerDocument.body);o=d}while(o);So(r)}function Qb(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function mp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":mp(o),Ba(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function IR(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ni])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=$n(i.nextSibling),i===null)break}return null}function DR(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=$n(i.nextSibling),i===null))return null;return i}function Xb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=$n(i.nextSibling),i===null))return null;return i}function pp(i){return i.data==="$?"||i.data==="$~"}function gp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function kR(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function $n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var yp=null;function Wb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return $n(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Jb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Zb(i,r,o){switch(r=Dh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function cu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ba(i)}var Kn=new Map,eT=new Set;function kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bs=le.d;le.d={f:MR,r:VR,D:OR,C:PR,L:jR,m:LR,X:BR,S:UR,M:zR};function MR(){var i=bs.f(),r=Eh();return i||r}function VR(i){var r=Pn(i);r!==null&&r.tag===5&&r.type==="form"?y_(r):bs.r(i)}var xo=typeof document>"u"?null:document;function tT(i,r,o){var u=xo;if(u&&typeof r=="string"&&r){var d=yn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),eT.has(d)||(eT.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Jt(r,"link",i),Ct(r),u.head.appendChild(r)))}}function OR(i){bs.D(i),tT("dns-prefetch",i,null)}function PR(i,r){bs.C(i,r),tT("preconnect",i,r)}function jR(i,r,o){bs.L(i,r,o);var u=xo;if(u&&i&&r){var d='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+yn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+yn(o.imageSizes)+'"]')):d+='[href="'+yn(i)+'"]';var g=d;switch(r){case"style":g=Eo(i);break;case"script":g=wo(i)}Kn.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Kn.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(hu(g))||r==="script"&&u.querySelector(du(g))||(r=u.createElement("link"),Jt(r,"link",i),Ct(r),u.head.appendChild(r)))}}function LR(i,r){bs.m(i,r);var o=xo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=wo(i)}if(!Kn.has(g)&&(i=_({rel:"modulepreload",href:i},r),Kn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(du(g)))return}u=o.createElement("link"),Jt(u,"link",i),Ct(u),o.head.appendChild(u)}}}function UR(i,r,o){bs.S(i,r,o);var u=xo;if(u&&i){var d=Di(u).hoistableStyles,g=Eo(i);r=r||"default";var T=d.get(g);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(hu(g)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Kn.get(g))&&vp(i,o);var O=T=u.createElement("link");Ct(O),Jt(O,"link",i),O._p=new Promise(function($,Z){O.onload=$,O.onerror=Z}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Mh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:w},d.set(g,T)}}}function BR(i,r){bs.X(i,r);var o=xo;if(o&&i){var u=Di(o).hoistableScripts,d=wo(i),g=u.get(d);g||(g=o.querySelector(du(d)),g||(i=_({src:i,async:!0},r),(r=Kn.get(d))&&_p(i,r),g=o.createElement("script"),Ct(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function zR(i,r){bs.M(i,r);var o=xo;if(o&&i){var u=Di(o).hoistableScripts,d=wo(i),g=u.get(d);g||(g=o.querySelector(du(d)),g||(i=_({src:i,async:!0,type:"module"},r),(r=Kn.get(d))&&_p(i,r),g=o.createElement("script"),Ct(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function nT(i,r,o,u){var d=(d=ke.current)?kh(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Eo(o.href),o=Di(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Eo(o.href);var g=Di(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(hu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Kn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Kn.set(i,o),g||FR(d,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=wo(o),o=Di(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Eo(i){return'href="'+yn(i)+'"'}function hu(i){return'link[rel="stylesheet"]['+i+"]"}function iT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function FR(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Jt(r,"link",o),Ct(r),i.head.appendChild(r))}function wo(i){return'[src="'+yn(i)+'"]'}function du(i){return"script[async]"+i}function sT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+yn(o.href)+'"]');if(u)return r.instance=u,Ct(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ct(u),Jt(u,"style",d),Mh(u,o.precedence,i),r.instance=u;case"stylesheet":d=Eo(o.href);var g=i.querySelector(hu(d));if(g)return r.state.loading|=4,r.instance=g,Ct(g),g;u=iT(o),(d=Kn.get(d))&&vp(u,d),g=(i.ownerDocument||i).createElement("link"),Ct(g);var T=g;return T._p=new Promise(function(w,O){T.onload=w,T.onerror=O}),Jt(g,"link",u),r.state.loading|=4,Mh(g,o.precedence,i),r.instance=g;case"script":return g=wo(o.src),(d=i.querySelector(du(g)))?(r.instance=d,Ct(d),d):(u=o,(d=Kn.get(g))&&(u=_({},o),_p(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Ct(d),Jt(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Mh(u,o.precedence,i));return r.instance}function Mh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===r)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function vp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function _p(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Vh=null;function rT(i,r,o){if(Vh===null){var u=new Map,d=Vh=new Map;d.set(o,u)}else d=Vh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Ni]||g[At]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var w=u.get(T);w?w.push(g):u.set(T,[g])}}return u}function aT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function HR(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function oT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function qR(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Eo(u.href),g=r.querySelector(hu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Oh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ct(g);return}g=r.ownerDocument||r,u=iT(u),(d=Kn.get(d))&&vp(u,d),g=g.createElement("link"),Ct(g);var T=g;T._p=new Promise(function(w,O){T.onload=w,T.onerror=O}),Jt(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Oh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var bp=0;function GR(i,r){return i.stylesheets&&i.count===0&&jh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&jh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&bp===0&&(bp=62500*SR());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&jh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>bp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ph=null;function jh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ph=new Map,r.forEach($R,i),Ph=null,Oh.call(i))}function $R(i,r){if(!(r.state.loading&4)){var o=Ph.get(i);if(o)var u=o.get(null);else{o=new Map,Ph.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=Oh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var fu={$$typeof:K,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function KR(i,r,o,u,d,g,T,w,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function lT(i,r,o,u,d,g,T,w,O,$,Z,ie){return i=new KR(i,r,o,T,O,$,Z,ie,w),r=1,g===!0&&(r|=24),g=Rn(3,null,null,r),i.current=g,g.stateNode=i,r=Zf(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},im(g),i}function uT(i){return i?(i=eo,i):eo}function cT(i,r,o,u,d,g){d=uT(d),u.context===null?u.context=d:u.pendingContext=d,u=Js(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Zs(i,u,r),o!==null&&(En(o,i,r),Gl(o,i,r))}function hT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Tp(i,r){hT(i,r),(i=i.alternate)&&hT(i,r)}function dT(i){if(i.tag===13||i.tag===31){var r=ta(i,67108864);r!==null&&En(r,i,67108864),Tp(i,67108864)}}function fT(i){if(i.tag===13||i.tag===31){var r=Mn();r=Hr(r);var o=ta(i,r);o!==null&&En(o,i,r),Tp(i,r)}}var Lh=!0;function YR(i,r,o,u){var d=J.T;J.T=null;var g=le.p;try{le.p=2,xp(i,r,o,u)}finally{le.p=g,J.T=d}}function QR(i,r,o,u){var d=J.T;J.T=null;var g=le.p;try{le.p=8,xp(i,r,o,u)}finally{le.p=g,J.T=d}}function xp(i,r,o,u){if(Lh){var d=Ep(u);if(d===null)lp(i,r,u,Uh,o),pT(i,u);else if(WR(d,i,r,o,u))u.stopPropagation();else if(pT(i,u),r&4&&-1<XR.indexOf(i)){for(;d!==null;){var g=Pn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Si(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var O=1<<31-_t(T);w.entanglements[1]|=O,T&=~O}qi(g),(Ye&6)===0&&(Th=hn()+500,ou(0))}}break;case 31:case 13:w=ta(g,2),w!==null&&En(w,g,2),Eh(),Tp(g,2)}if(g=Ep(u),g===null&&lp(i,r,u,Uh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else lp(i,r,u,null,o)}}function Ep(i){return i=jn(i),wp(i)}var Uh=null;function wp(i){if(Uh=null,i=Ii(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Uh=i,null}function mT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ur()){case gl:return 2;case yl:return 8;case js:case If:return 32;case yc:return 268435456;default:return 32}default:return 32}}var Sp=!1,cr=null,hr=null,dr=null,mu=new Map,pu=new Map,fr=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pT(i,r){switch(i){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":mu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(r.pointerId)}}function gu(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Pn(r),r!==null&&dT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function WR(i,r,o,u,d){switch(r){case"focusin":return cr=gu(cr,i,r,o,u,d),!0;case"dragenter":return hr=gu(hr,i,r,o,u,d),!0;case"mouseover":return dr=gu(dr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return mu.set(g,gu(mu.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,pu.set(g,gu(pu.get(g)||null,i,r,o,u,d)),!0}return!1}function gT(i){var r=Ii(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ii(i.priority,function(){fT(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,ii(i.priority,function(){fT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Bh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Ep(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Nl=u,o.target.dispatchEvent(u),Nl=null}else return r=Pn(o),r!==null&&dT(r),i.blockedOn=o,!1;r.shift()}return!0}function yT(i,r,o){Bh(i)&&o.delete(r)}function JR(){Sp=!1,cr!==null&&Bh(cr)&&(cr=null),hr!==null&&Bh(hr)&&(hr=null),dr!==null&&Bh(dr)&&(dr=null),mu.forEach(yT),pu.forEach(yT)}function zh(i,r){i.blockedOn===r&&(i.blockedOn=null,Sp||(Sp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JR)))}var Fh=null;function vT(i){Fh!==i&&(Fh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fh===i&&(Fh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(wp(u||o)===null)continue;break}var g=Pn(o);g!==null&&(i.splice(r,3),r-=3,Em(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function So(i){function r(O){return zh(O,i)}cr!==null&&zh(cr,i),hr!==null&&zh(hr,i),dr!==null&&zh(dr,i),mu.forEach(r),pu.forEach(r);for(var o=0;o<fr.length;o++){var u=fr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<fr.length&&(o=fr[0],o.blockedOn===null);)gT(o),o.blockedOn===null&&fr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[Ht]||null;if(typeof g=="function")T||vT(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Ht]||null)w=T.formAction;else if(wp(d)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),vT(o)}}}function _T(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Ap(i){this._internalRoot=i}Hh.prototype.render=Ap.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Mn();cT(o,u,i,r,null,null)},Hh.prototype.unmount=Ap.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;cT(i.current,2,null,i,null,null),Eh(),r[Ri]=null}};function Hh(i){this._internalRoot=i}Hh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ec();i={blockedOn:null,target:i,priority:r};for(var o=0;o<fr.length&&r!==0&&r<fr[o].priority;o++);fr.splice(o,0,i),o===0&&gT(i)}};var bT=e.version;if(bT!=="19.2.4")throw Error(s(527,bT,"19.2.4"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var ZR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{ti=qh.inject(ZR),Kt=qh}catch{}}return vu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=C_,g=R_,T=N_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=lT(i,1,!1,null,null,o,u,null,d,g,T,_T),i[Ri]=r.current,op(i),new Ap(r)},vu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=C_,T=R_,w=N_,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=lT(i,1,!0,r,o??null,u,d,O,g,T,w,_T),r.context=uT(null),o=r.current,u=Mn(),u=Hr(u),d=Js(u),d.callback=null,Zs(o,d,u),o=u,r.current.lanes=o,zr(r,o),qi(r),i[Ri]=r.current,op(i),new Hh(r)},vu.version="19.2.4",vu}var IT;function uN(){if(IT)return Np.exports;IT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Np.exports=lN(),Np.exports}var cN=uN();const hN=VE(cN);var DT="popstate";function dN(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return yg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ju(a)}return mN(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ti(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fN(){return Math.random().toString(36).substring(2,10)}function kT(t,e){return{usr:t.state,key:t.key,idx:e}}function yg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jo(e):e,state:n,key:e&&e.key||s||fN()}}function ju({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function mN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let j=y(),z=j==null?null:j-p;p=j,m&&m({action:f,location:P.location,delta:z})}function x(j,z){f="PUSH";let H=yg(P.location,j,z);p=y()+1;let K=kT(H,p),oe=P.createHref(H);try{c.pushState(K,"",oe)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(oe)}l&&m&&m({action:f,location:P.location,delta:1})}function A(j,z){f="REPLACE";let H=yg(P.location,j,z);p=y();let K=kT(H,p),oe=P.createHref(H);c.replaceState(K,"",oe),l&&m&&m({action:f,location:P.location,delta:0})}function k(j){return pN(j)}let P={get action(){return f},get location(){return t(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(DT,_),m=j,()=>{a.removeEventListener(DT,_),m=null}},createHref(j){return e(a,j)},createURL:k,encodeLocation(j){let z=k(j);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:x,replace:A,go(j){return c.go(j)}};return P}function pN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:ju(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function PE(t,e,n="/"){return gN(t,e,n,!1)}function gN(t,e,n,s){let a=typeof e=="string"?Jo(e):e,l=Cs(a.pathname||"/",n);if(l==null)return null;let c=jE(t);yN(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=RN(l);f=AN(c[m],p,s)}return f}function jE(t,e=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;ft(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Ss([s,y.relativePath]),x=n.concat(y);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),jE(c.children,e,x,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:wN(_,c.index),routesMeta:x})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of LE(c.path))l(c,f,!0,m)}),e}function LE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=LE(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function yN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vN=/^:[\w-]+$/,_N=3,bN=2,TN=1,xN=10,EN=-2,MT=t=>t==="*";function wN(t,e){let n=t.split("/"),s=n.length;return n.some(MT)&&(s+=EN),e&&(s+=bN),n.filter(a=>!MT(a)).reduce((a,l)=>a+(vN.test(l)?_N:l===""?TN:xN),s)}function SN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function AN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Ed({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),x=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Ed({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ss([l,_.pathname]),pathnameBase:kN(Ss([l,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(l=Ss([l,_.pathnameBase]))}return c}function Ed(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=CN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},x)=>{if(y==="*"){let k=f[x]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const A=f[x];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function CN(t,e=!1,n=!0){Ti(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function RN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ti(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var NN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function IN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Jo(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=VT(n.substring(1),"/"):l=VT(n,e)):l=e,{pathname:l,search:MN(s),hash:VN(a)}}function VT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Mp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _0(t){let e=DN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function b0(t,e,n,s=!1){let a;typeof t=="string"?a=Jo(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),Mp("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),Mp("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),Mp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),_-=1;a.pathname=x.join("/")}f=_>=0?e[_]:"/"}let m=IN(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ss=t=>t.join("/").replace(/\/\/+/g,"/"),kN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ON=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function PN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function jN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var UE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function BE(t,e){let n=t;if(typeof n!="string"||!NN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(UE)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Cs(c.pathname,e);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:a=!0}catch{Ti(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zE=["POST","PUT","PATCH","DELETE"];new Set(zE);var LN=["GET",...zE];new Set(LN);var Zo=I.createContext(null);Zo.displayName="DataRouter";var Zd=I.createContext(null);Zd.displayName="DataRouterState";var UN=I.createContext(!1),FE=I.createContext({isTransitioning:!1});FE.displayName="ViewTransition";var BN=I.createContext(new Map);BN.displayName="Fetchers";var zN=I.createContext(null);zN.displayName="Await";var Vn=I.createContext(null);Vn.displayName="Navigation";var Zu=I.createContext(null);Zu.displayName="Location";var Zn=I.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var T0=I.createContext(null);T0.displayName="RouteError";var HE="REACT_ROUTER_ERROR",FN="REDIRECT",HN="ROUTE_ERROR_RESPONSE";function qN(t){if(t.startsWith(`${HE}:${FN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function GN(t){if(t.startsWith(`${HE}:${HN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new ON(e.status,e.statusText,e.data)}catch{}}function $N(t,{relative:e}={}){ft(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(Vn),{hash:a,pathname:l,search:c}=ec(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Ss([n,l])),s.createHref({pathname:f,search:c,hash:a})}function el(){return I.useContext(Zu)!=null}function Ms(){return ft(el(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Zu).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(t){I.useContext(Vn).static||I.useLayoutEffect(t)}function ef(){let{isDataRoute:t}=I.useContext(Zn);return t?lI():KN()}function KN(){ft(el(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Zo),{basename:e,navigator:n}=I.useContext(Vn),{matches:s}=I.useContext(Zn),{pathname:a}=Ms(),l=JSON.stringify(_0(s)),c=I.useRef(!1);return GE(()=>{c.current=!0}),I.useCallback((m,p={})=>{if(Ti(c.current,qE),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=b0(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ss([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var YN=I.createContext(null);function QN(t){let e=I.useContext(Zn).outlet;return I.useMemo(()=>e&&I.createElement(YN.Provider,{value:t},e),[e,t])}function XN(){let{matches:t}=I.useContext(Zn),e=t[t.length-1];return e?e.params:{}}function ec(t,{relative:e}={}){let{matches:n}=I.useContext(Zn),{pathname:s}=Ms(),a=JSON.stringify(_0(n));return I.useMemo(()=>b0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function WN(t,e){return $E(t,e)}function $E(t,e,n,s,a){ft(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Vn),{matches:c}=I.useContext(Zn),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let H=_&&_.path||"";YE(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let x=Ms(),A;if(e){let H=typeof e=="string"?Jo(e):e;ft(y==="/"||H.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=x;let k=A.pathname||"/",P=k;if(y!=="/"){let H=y.replace(/^\//,"").split("/");P="/"+k.replace(/^\//,"").split("/").slice(H.length).join("/")}let j=PE(t,{pathname:P});Ti(_||j!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ti(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=nI(j&&j.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Ss([y,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Ss([y,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,s,a);return e&&z?I.createElement(Zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function JN(){let t=oI(),e=PN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,c)}var ZN=I.createElement(JN,null),KE=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=GN(t.digest);n&&(t=n)}let e=t!==void 0?I.createElement(Zn.Provider,{value:this.props.routeContext},I.createElement(T0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?I.createElement(eI,{error:t},e):e}};KE.contextType=UN;var Vp=new WeakMap;function eI({children:t,error:e}){let{basename:n}=I.useContext(Vn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=qN(e.digest);if(s){let a=Vp.get(e);if(a)throw a;let l=BE(s.location,n);if(UE&&!Vp.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Vp.set(e,c),c}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function tI({routeContext:t,match:e,children:n}){let s=I.useContext(Zo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Zn.Provider,{value:t},n)}function nI(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);ft(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:x,errors:A}=n,k=_.route.loader&&!x.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||k){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:jN(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,x)=>{let A,k=!1,P=null,j=null;n&&(A=c&&_.route.id?c[_.route.id]:void 0,P=_.route.errorElement||ZN,f&&(m<0&&x===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,j=null):m===x&&(k=!0,j=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,x+1)),H=()=>{let K;return A?K=P:k?K=j:_.route.Component?K=I.createElement(_.route.Component,null):_.route.element?K=_.route.element:K=y,I.createElement(tI,{match:_,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:K})};return n&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?I.createElement(KE,{location:n.location,revalidation:n.revalidation,component:P,error:A,children:H(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):H()},null)}function x0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iI(t){let e=I.useContext(Zo);return ft(e,x0(t)),e}function sI(t){let e=I.useContext(Zd);return ft(e,x0(t)),e}function rI(t){let e=I.useContext(Zn);return ft(e,x0(t)),e}function E0(t){let e=rI(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aI(){return E0("useRouteId")}function oI(){let t=I.useContext(T0),e=sI("useRouteError"),n=E0("useRouteError");return t!==void 0?t:e.errors?.[n]}function lI(){let{router:t}=iI("useNavigate"),e=E0("useNavigate"),n=I.useRef(!1);return GE(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{Ti(n.current,qE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var OT={};function YE(t,e,n){!e&&!OT[t]&&(OT[t]=!0,Ti(!1,n))}I.memo(uI);function uI({routes:t,future:e,state:n,onError:s}){return $E(t,void 0,n,s,e)}function cI({to:t,replace:e,state:n,relative:s}){ft(el(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(Vn);Ti(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(Zn),{pathname:c}=Ms(),f=ef(),m=b0(t,_0(l),c,s==="path"),p=JSON.stringify(m);return I.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function Ts(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ft(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=I.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=Jo(n));let{pathname:p="/",search:y="",hash:_="",state:x=null,key:A="default"}=n,k=I.useMemo(()=>{let P=Cs(p,f);return P==null?null:{location:{pathname:P,search:y,hash:_,state:x,key:A},navigationType:s}},[f,p,y,_,x,A,s]);return Ti(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:I.createElement(Vn.Provider,{value:m},I.createElement(Zu.Provider,{children:e,value:k}))}function dI({children:t,location:e}){return WN(vg(t),e)}function vg(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,vg(s.props.children,l));return}ft(s.type===Ts,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=vg(s.props.children,l)),n.push(c)}),n}var id="get",sd="application/x-www-form-urlencoded";function tf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function fI(t){return tf(t)&&t.tagName.toLowerCase()==="button"}function mI(t){return tf(t)&&t.tagName.toLowerCase()==="form"}function pI(t){return tf(t)&&t.tagName.toLowerCase()==="input"}function gI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yI(t,e){return t.button===0&&(!e||e==="_self")&&!gI(t)}var Gh=null;function vI(){if(Gh===null)try{new FormData(document.createElement("form"),0),Gh=!1}catch{Gh=!0}return Gh}var _I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Op(t){return t!=null&&!_I.has(t)?(Ti(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sd}"`),null):t}function bI(t,e){let n,s,a,l,c;if(mI(t)){let f=t.getAttribute("action");s=f?Cs(f,e):null,n=t.getAttribute("method")||id,a=Op(t.getAttribute("enctype"))||sd,l=new FormData(t)}else if(fI(t)||pI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Cs(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||id,a=Op(t.getAttribute("formenctype"))||Op(f.getAttribute("enctype"))||sd,l=new FormData(f,t),!vI()){let{name:p,type:y,value:_}=t;if(y==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,_)}}else{if(tf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=id,s=null,a=sd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function w0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TI(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Cs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function xI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await xI(l,n);return c.links?c.links():[]}return[]}));return RI(s.flat(1).filter(EI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function PT(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function SI(t,e,{includeHydrateFallback:n}={}){return AI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function AI(t){return[...new Set(t)]}function CI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function RI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(CI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function QE(){let t=I.useContext(Zo);return w0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function NI(){let t=I.useContext(Zd);return w0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var S0=I.createContext(void 0);S0.displayName="FrameworkContext";function XE(){let t=I.useContext(S0);return w0(t,"You must render this element inside a <HydratedRouter> element"),t}function II(t,e){let n=I.useContext(S0),[s,a]=I.useState(!1),[l,c]=I.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,x=I.useRef(null);I.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=z=>{z.forEach(H=>{c(H.isIntersecting)})},j=new IntersectionObserver(P,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[t]),I.useEffect(()=>{if(s){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[s]);let A=()=>{a(!0)},k=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:_u(f,A),onBlur:_u(m,k),onMouseEnter:_u(p,A),onMouseLeave:_u(y,k),onTouchStart:_u(_,A)}]:[!1,x,{}]}function _u(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function DI({page:t,...e}){let{router:n}=QE(),s=I.useMemo(()=>PE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(MI,{page:t,matches:s,...e}):null}function kI(t){let{manifest:e,routeModules:n}=XE(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return wI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function MI({page:t,matches:e,...n}){let s=Ms(),{future:a,manifest:l,routeModules:c}=XE(),{basename:f}=QE(),{loaderData:m,matches:p}=NI(),y=I.useMemo(()=>PT(t,e,p,l,s,"data"),[t,e,p,l,s]),_=I.useMemo(()=>PT(t,e,p,l,s,"assets"),[t,e,p,l,s]),x=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let P=new Set,j=!1;if(e.forEach(H=>{let K=l.routes[H.route.id];!K||!K.hasLoader||(!y.some(oe=>oe.route.id===H.route.id)&&H.route.id in m&&c[H.route.id]?.shouldRevalidate||K.hasClientLoader?j=!0:P.add(H.route.id))}),P.size===0)return[];let z=TI(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return j&&P.size>0&&z.searchParams.set("_routes",e.filter(H=>P.has(H.route.id)).map(H=>H.route.id).join(",")),[z.pathname+z.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,e,t,c]),A=I.useMemo(()=>SI(_,l),[_,l]),k=kI(_);return I.createElement(I.Fragment,null,x.map(P=>I.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),A.map(P=>I.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),k.map(({key:P,link:j})=>I.createElement("link",{key:P,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function VI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OI&&(window.__reactRouterVersion="7.13.0")}catch{}function PI({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=I.useRef();a.current==null&&(a.current=dN({window:s,v5Compat:!0}));let l=a.current,[c,f]=I.useState({action:l.action,location:l.location}),m=I.useCallback(p=>{n===!1?f(p):I.startTransition(()=>f(p))},[n]);return I.useLayoutEffect(()=>l.listen(m),[l,m]),I.createElement(hI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:x,...A},k){let{basename:P,unstable_useTransitions:j}=I.useContext(Vn),z=typeof p=="string"&&WE.test(p),H=BE(p,P);p=H.to;let K=$N(p,{relative:a}),[oe,Q,te]=II(s,A),N=BI(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:x,unstable_useTransitions:j});function S(M){e&&e(M),M.defaultPrevented||N(M)}let R=I.createElement("a",{...A,...te,href:H.absoluteURL||K,onClick:H.isExternal||l?e:S,ref:VI(k,Q),target:m,"data-discover":!z&&n==="render"?"true":void 0});return oe&&!z?I.createElement(I.Fragment,null,R,I.createElement(DI,{page:K})):R});an.displayName="Link";var jI=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=ec(c,{relative:p.relative}),x=Ms(),A=I.useContext(Zd),{navigator:k,basename:P}=I.useContext(Vn),j=A!=null&&GI(_)&&f===!0,z=k.encodeLocation?k.encodeLocation(_).pathname:_.pathname,H=x.pathname,K=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(H=H.toLowerCase(),K=K?K.toLowerCase():null,z=z.toLowerCase()),K&&P&&(K=Cs(K,P)||K);const oe=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let Q=H===z||!a&&H.startsWith(z)&&H.charAt(oe)==="/",te=K!=null&&(K===z||!a&&K.startsWith(z)&&K.charAt(z.length)==="/"),N={isActive:Q,isPending:te,isTransitioning:j},S=Q?e:void 0,R;typeof s=="function"?R=s(N):R=[s,Q?"active":null,te?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(N):l;return I.createElement(an,{...p,"aria-current":S,className:R,ref:y,style:M,to:c,viewTransition:f},typeof m=="function"?m(N):m)});jI.displayName="NavLink";var LI=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=id,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:x,...A},k)=>{let{unstable_useTransitions:P}=I.useContext(Vn),j=HI(),z=qI(f,{relative:p}),H=c.toLowerCase()==="get"?"get":"post",K=typeof f=="string"&&WE.test(f),oe=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let te=Q.nativeEvent.submitter,N=te?.getAttribute("formmethod")||c,S=()=>j(te||Q.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:x});P&&n!==!1?I.startTransition(()=>S()):S()};return I.createElement("form",{ref:k,method:H,action:z,onSubmit:s?m:oe,...A,"data-discover":!K&&t==="render"?"true":void 0})});LI.displayName="Form";function UI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(t){let e=I.useContext(Zo);return ft(e,UI(t)),e}function BI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=ef(),y=Ms(),_=ec(t,{relative:l});return I.useCallback(x=>{if(yI(x,e)){x.preventDefault();let A=n!==void 0?n:ju(y)===ju(_),k=()=>p(t,{replace:A,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?I.startTransition(()=>k()):k()}},[y,p,_,n,s,e,t,a,l,c,f,m])}var zI=0,FI=()=>`__${String(++zI)}__`;function HI(){let{router:t}=JE("useSubmit"),{basename:e}=I.useContext(Vn),n=aI(),s=t.fetch,a=t.navigate;return I.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:y,body:_}=bI(l,e);if(c.navigate===!1){let x=c.fetcherKey||FI();await s(x,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function qI(t,{relative:e}={}){let{basename:n}=I.useContext(Vn),s=I.useContext(Zn);ft(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...ec(t||".",{relative:e})},c=Ms();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ss([n,l.pathname])),ju(l)}function GI(t,{relative:e}={}){let n=I.useContext(FE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JE("useViewTransitionState"),a=ec(t,{relative:e});if(!n.isTransitioning)return!1;let l=Cs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Cs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ed(a.pathname,c)!=null||Ed(a.pathname,l)!=null}const A0=I.createContext({});function C0(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const ZE=typeof window<"u",ew=ZE?I.useLayoutEffect:I.useEffect,nf=I.createContext(null);function R0(t,e){t.indexOf(e)===-1&&t.push(e)}function wd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zi=(t,e,n)=>n>e?e:n<t?t:n;let N0=()=>{};const Rs={},tw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function nw(t){return typeof t=="object"&&t!==null}const iw=t=>/^0[^.\s]+$/u.test(t);function I0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Wn=t=>t,$I=(t,e)=>n=>e(t(n)),tc=(...t)=>t.reduce($I),Lu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class D0{constructor(){this.subscriptions=[]}add(e){return R0(this.subscriptions,e),()=>wd(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vi=t=>t*1e3,Xn=t=>t/1e3;function sw(t,e){return e?t*(1e3/e):0}const rw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,KI=1e-7,YI=12;function QI(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=rw(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>KI&&++f<YI);return c}function nc(t,e,n,s){if(t===e&&n===s)return Wn;const a=l=>QI(l,0,1,t,n);return l=>l===0||l===1?l:rw(a(l),e,s)}const aw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ow=t=>e=>1-t(1-e),lw=nc(.33,1.53,.69,.99),k0=ow(lw),uw=aw(k0),cw=t=>(t*=2)<1?.5*k0(t):.5*(2-Math.pow(2,-10*(t-1))),M0=t=>1-Math.sin(Math.acos(t)),hw=ow(M0),dw=aw(M0),XI=nc(.42,0,1,1),WI=nc(0,0,.58,1),fw=nc(.42,0,.58,1),JI=t=>Array.isArray(t)&&typeof t[0]!="number",mw=t=>Array.isArray(t)&&typeof t[0]=="number",ZI={linear:Wn,easeIn:XI,easeInOut:fw,easeOut:WI,circIn:M0,circInOut:dw,circOut:hw,backIn:k0,backInOut:uw,backOut:lw,anticipate:cw},eD=t=>typeof t=="string",jT=t=>{if(mw(t)){N0(t.length===4);const[e,n,s,a]=t;return nc(e,n,s,a)}else if(eD(t))return ZI[t];return t},$h=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tD(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,_=!1,x=!1)=>{const k=x&&a?n:s;return _&&c.add(y),k.has(y)||k.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const nD=40;function pw(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=$h.reduce((K,oe)=>(K[oe]=tD(l),K),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:x,render:A,postRender:k}=c,P=()=>{const K=Rs.useManualTiming?a.timestamp:performance.now();n=!1,Rs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,nD),1)),a.timestamp=K,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),x.process(a),A.process(a),k.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(P))},j=()=>{n=!0,s=!0,a.isProcessing||t(P)};return{schedule:$h.reduce((K,oe)=>{const Q=c[oe];return K[oe]=(te,N=!1,S=!1)=>(n||j(),Q.schedule(te,N,S)),K},{}),cancel:K=>{for(let oe=0;oe<$h.length;oe++)c[$h[oe]].cancel(K)},state:a,steps:c}}const{schedule:at,cancel:Rr,state:Zt,steps:Pp}=pw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let rd;function iD(){rd=void 0}const mn={now:()=>(rd===void 0&&mn.set(Zt.isProcessing||Rs.useManualTiming?Zt.timestamp:performance.now()),rd),set:t=>{rd=t,queueMicrotask(iD)}},gw=t=>e=>typeof e=="string"&&e.startsWith(t),yw=gw("--"),sD=gw("var(--"),V0=t=>sD(t)?rD.test(t.split("/*")[0].trim()):!1,rD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function LT(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Uu={...tl,transform:t=>Zi(0,1,t)},Kh={...tl,default:1},Cu=t=>Math.round(t*1e5)/1e5,O0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aD(t){return t==null}const oD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,P0=(t,e)=>n=>!!(typeof n=="string"&&oD.test(n)&&n.startsWith(t)||e&&!aD(n)&&Object.prototype.hasOwnProperty.call(n,e)),vw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(O0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},lD=t=>Zi(0,255,t),jp={...tl,transform:t=>Math.round(lD(t))},ya={test:P0("rgb","red"),parse:vw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+jp.transform(t)+", "+jp.transform(e)+", "+jp.transform(n)+", "+Cu(Uu.transform(s))+")"};function uD(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const _g={test:P0("#"),parse:uD,transform:ya.transform},ic=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gr=ic("deg"),Ki=ic("%"),ge=ic("px"),cD=ic("vh"),hD=ic("vw"),UT={...Ki,parse:t=>Ki.parse(t)/100,transform:t=>Ki.transform(t*100)},Do={test:P0("hsl","hue"),parse:vw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ki.transform(Cu(e))+", "+Ki.transform(Cu(n))+", "+Cu(Uu.transform(s))+")"},Vt={test:t=>ya.test(t)||_g.test(t)||Do.test(t),parse:t=>ya.test(t)?ya.parse(t):Do.test(t)?Do.parse(t):_g.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ya.transform(t):Do.transform(t),getAnimatableNone:t=>{const e=Vt.parse(t);return e.alpha=0,Vt.transform(e)}},dD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fD(t){return isNaN(t)&&typeof t=="string"&&(t.match(O0)?.length||0)+(t.match(dD)?.length||0)>0}const _w="number",bw="color",mD="var",pD="var(",BT="${}",gD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(gD,m=>(Vt.test(m)?(s.color.push(l),a.push(bw),n.push(Vt.parse(m))):m.startsWith(pD)?(s.var.push(l),a.push(mD),n.push(m)):(s.number.push(l),a.push(_w),n.push(parseFloat(m))),++l,BT)).split(BT);return{values:n,split:f,indexes:s,types:a}}function Tw(t){return Bu(t).values}function xw(t){const{split:e,types:n}=Bu(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===_w?l+=Cu(a[c]):f===bw?l+=Vt.transform(a[c]):l+=a[c]}return l}}const yD=t=>typeof t=="number"?0:Vt.test(t)?Vt.getAnimatableNone(t):t;function vD(t){const e=Tw(t);return xw(t)(e.map(yD))}const Nr={test:fD,parse:Tw,createTransformer:xw,getAnimatableNone:vD};function Lp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _D({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Lp(m,f,t+1/3),l=Lp(m,f,t),c=Lp(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Sd(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,Up=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},bD=[_g,ya,Do],TD=t=>bD.find(e=>e.test(t));function zT(t){const e=TD(t);if(!e)return!1;let n=e.parse(t);return e===Do&&(n=_D(n)),n}const FT=(t,e)=>{const n=zT(t),s=zT(e);if(!n||!s)return Sd(t,e);const a={...n};return l=>(a.red=Up(n.red,s.red,l),a.green=Up(n.green,s.green,l),a.blue=Up(n.blue,s.blue,l),a.alpha=mt(n.alpha,s.alpha,l),ya.transform(a))},bg=new Set(["none","hidden"]);function xD(t,e){return bg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ED(t,e){return n=>mt(t,e,n)}function j0(t){return typeof t=="number"?ED:typeof t=="string"?V0(t)?Sd:Vt.test(t)?FT:AD:Array.isArray(t)?Ew:typeof t=="object"?Vt.test(t)?FT:wD:Sd}function Ew(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>j0(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function wD(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=j0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function SD(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const AD=(t,e)=>{const n=Nr.createTransformer(e),s=Bu(t),a=Bu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?bg.has(t)&&!a.values.length||bg.has(e)&&!s.values.length?xD(t,e):tc(Ew(SD(s,a),a.values),n):Sd(t,e)};function ww(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):j0(t)(t,e)}const CD=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>at.update(e,n),stop:()=>Rr(e),now:()=>Zt.isProcessing?Zt.timestamp:mn.now()}},Sw=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ad=2e4;function L0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Ad;)e+=n,s=t.next(e);return e>=Ad?1/0:e}function RD(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(L0(s),Ad);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Xn(a)}}const ND=5;function Aw(t,e,n){const s=Math.max(e-ND,0);return sw(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bp=.001;function ID({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let a,l,c=1-e;c=Zi(vt.minDamping,vt.maxDamping,c),t=Zi(vt.minDuration,vt.maxDuration,Xn(t)),c<1?(a=p=>{const y=p*c,_=y*t,x=y-n,A=Tg(p,c),k=Math.exp(-_);return Bp-x/A*k},l=p=>{const _=p*c*t,x=_*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,k=Math.exp(-_),P=Tg(Math.pow(p,2),c);return(-a(p)+Bp>0?-1:1)*((x-A)*k)/P}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-Bp+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const f=5/t,m=kD(a,l,f);if(t=vi(t),isNaN(m))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const DD=12;function kD(t,e,n){let s=n;for(let a=1;a<DD;a++)s=s-t(s)/e(s);return s}function Tg(t,e){return t*Math.sqrt(1-e*e)}const MD=["duration","bounce"],VD=["stiffness","damping","mass"];function HT(t,e){return e.some(n=>t[n]!==void 0)}function OD(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!HT(t,VD)&&HT(t,MD))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Zi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=ID(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function Cd(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:x,isResolvedFromDuration:A}=OD({...n,velocity:-Xn(n.velocity||0)}),k=x||0,P=p/(2*Math.sqrt(m*y)),j=c-l,z=Xn(Math.sqrt(m/y)),H=Math.abs(j)<5;s||(s=H?vt.restSpeed.granular:vt.restSpeed.default),a||(a=H?vt.restDelta.granular:vt.restDelta.default);let K;if(P<1){const Q=Tg(z,P);K=te=>{const N=Math.exp(-P*z*te);return c-N*((k+P*z*j)/Q*Math.sin(Q*te)+j*Math.cos(Q*te))}}else if(P===1)K=Q=>c-Math.exp(-z*Q)*(j+(k+z*j)*Q);else{const Q=z*Math.sqrt(P*P-1);K=te=>{const N=Math.exp(-P*z*te),S=Math.min(Q*te,300);return c-N*((k+P*z*j)*Math.sinh(S)+Q*j*Math.cosh(S))/Q}}const oe={calculatedDuration:A&&_||null,next:Q=>{const te=K(Q);if(A)f.done=Q>=_;else{let N=Q===0?k:0;P<1&&(N=Q===0?vi(k):Aw(K,Q,te));const S=Math.abs(N)<=s,R=Math.abs(c-te)<=a;f.done=S&&R}return f.value=f.done?c:te,f},toString:()=>{const Q=Math.min(L0(oe),Ad),te=Sw(N=>oe.next(Q*N).value,Q,30);return Q+"ms "+te},toTransition:()=>{}};return oe}Cd.applyToOptions=t=>{const e=RD(t,100,Cd);return t.ease=e.ease,t.duration=vi(e.duration),t.type="keyframes",t};function xg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],x={done:!1,value:_},A=S=>f!==void 0&&S<f||m!==void 0&&S>m,k=S=>f===void 0?m:m===void 0||Math.abs(f-S)<Math.abs(m-S)?f:m;let P=n*e;const j=_+P,z=c===void 0?j:c(j);z!==j&&(P=z-_);const H=S=>-P*Math.exp(-S/s),K=S=>z+H(S),oe=S=>{const R=H(S),M=K(S);x.done=Math.abs(R)<=p,x.value=x.done?z:M};let Q,te;const N=S=>{A(x.value)&&(Q=S,te=Cd({keyframes:[x.value,k(x.value)],velocity:Aw(K,S,x.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:S=>{let R=!1;return!te&&Q===void 0&&(R=!0,oe(S),N(S)),Q!==void 0&&S>=Q?te.next(S-Q):(!R&&oe(S),x)}}}function PD(t,e,n){const s=[],a=n||Rs.mix||ww,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Wn:e;f=tc(m,f)}s.push(f)}return s}function jD(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(N0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=PD(e,s,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const x=Lu(t[_],t[_+1],y);return f[_](x)};return n?y=>p(Zi(t[0],t[l-1],y)):p}function LD(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Lu(0,e,s);t.push(mt(n,1,a))}}function UD(t){const e=[0];return LD(e,t.length-1),e}function BD(t,e){return t.map(n=>n*e)}function zD(t,e){return t.map(()=>e||fw).splice(0,t.length-1)}function Ru({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=JI(s)?s.map(jT):jT(s),l={done:!1,value:e[0]},c=BD(n&&n.length===e.length?n:UD(e),t),f=jD(c,e,{ease:Array.isArray(a)?a:zD(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const FD=t=>t!==null;function U0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(FD),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const HD={decay:xg,inertia:xg,tween:Ru,keyframes:Ru,spring:Cd};function Cw(t){typeof t.type=="string"&&(t.type=HD[t.type])}class B0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const qD=t=>t/100;class z0 extends B0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Cw(e);const{type:n=Ru,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||Ru;m!==Ru&&typeof f[0]!="number"&&(this.mixKeyframes=tc(qD,ww(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=L0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:x,repeatDelay:A,type:k,onUpdate:P,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,oe=s;if(_){const S=Math.min(this.currentTime,a)/f;let R=Math.floor(S),M=S%1;!M&&S>=1&&(M=1),M===1&&R--,R=Math.min(R,_+1),R%2&&(x==="reverse"?(M=1-M,A&&(M-=A/f)):x==="mirror"&&(oe=c)),K=Zi(0,1,M)*f}const Q=H?{done:!1,value:y[0]}:oe.next(K);l&&(Q.value=l(Q.value));let{done:te}=Q;!H&&m!==null&&(te=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&te);return N&&k!==xg&&(Q.value=U0(y,this.options,j,this.speed)),P&&P(Q.value),N&&this.finish(),Q}then(e,n){return this.finished.then(e,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xn(e)}get time(){return Xn(this.currentTime)}set time(e){e=vi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(mn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=CD,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function GD(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const va=t=>t*180/Math.PI,Eg=t=>{const e=va(Math.atan2(t[1],t[0]));return wg(e)},$D={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Eg,rotateZ:Eg,skewX:t=>va(Math.atan(t[1])),skewY:t=>va(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},wg=t=>(t=t%360,t<0&&(t+=360),t),qT=Eg,GT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$T=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),KD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:GT,scaleY:$T,scale:t=>(GT(t)+$T(t))/2,rotateX:t=>wg(va(Math.atan2(t[6],t[5]))),rotateY:t=>wg(va(Math.atan2(-t[2],t[0]))),rotateZ:qT,rotate:qT,skewX:t=>va(Math.atan(t[4])),skewY:t=>va(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Sg(t){return t.includes("scale")?1:0}function Ag(t,e){if(!t||t==="none")return Sg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=KD,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=$D,a=f}if(!a)return Sg(e);const l=s[e],c=a[1].split(",").map(QD);return typeof l=="function"?l(c):c[l]}const YD=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ag(n,e)};function QD(t){return parseFloat(t.trim())}const nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(nl),KT=t=>t===tl||t===ge,XD=new Set(["x","y","z"]),WD=nl.filter(t=>!XD.has(t));function JD(t){const e=[];return WD.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const br={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ag(e,"x"),y:(t,{transform:e})=>Ag(e,"y")};br.translateX=br.x;br.translateY=br.y;const Ta=new Set;let Cg=!1,Rg=!1,Ng=!1;function Rw(){if(Rg){const t=Array.from(Ta).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=JD(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Rg=!1,Cg=!1,Ta.forEach(t=>t.complete(Ng)),Ta.clear()}function Nw(){Ta.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rg=!0)})}function ZD(){Ng=!0,Nw(),Rw(),Ng=!1}class F0{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ta.add(this),Cg||(Cg=!0,at.read(Nw),at.resolveKeyframes(Rw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}GD(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ta.delete(this)}cancel(){this.state==="scheduled"&&(Ta.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ek=t=>t.startsWith("--");function tk(t,e,n){ek(e)?t.style.setProperty(e,n):t.style[e]=n}const nk=I0(()=>window.ScrollTimeline!==void 0),ik={};function sk(t,e){const n=I0(t);return()=>ik[e]??n()}const Iw=sk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,YT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xu([0,.65,.55,1]),circOut:xu([.55,0,1,.45]),backIn:xu([.31,.01,.66,-.59]),backOut:xu([.33,1.53,.69,.99])};function Dw(t,e){if(t)return typeof t=="function"?Iw()?Sw(t,e):"ease-out":mw(t)?xu(t):Array.isArray(t)?t.map(n=>Dw(n,e)||YT.easeOut):YT[t]}function rk(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const _=Dw(f,a);Array.isArray(_)&&(y.easing=_);const x={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(y,x)}function kw(t){return typeof t=="function"&&"applyToOptions"in t}function ak({type:t,...e}){return kw(t)&&Iw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Mw extends B0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,N0(typeof e.type!="string");const p=ak(e);this.animation=rk(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=U0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):tk(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xn(e)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=vi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&nk()?(this.animation.timeline=e,Wn):n(this)}}const Vw={anticipate:cw,backInOut:uw,circInOut:dw};function ok(t){return t in Vw}function lk(t){typeof t.ease=="string"&&ok(t.ease)&&(t.ease=Vw[t.ease])}const zp=10;class uk extends Mw{constructor(e){lk(e),Cw(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new z0({...c,autoplay:!1}),m=Math.max(zp,mn.now()-this.startTime),p=Zi(0,zp,m-zp);n.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const QT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Nr.test(t)||t==="0")&&!t.startsWith("url("));function ck(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hk(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=QT(a,e),f=QT(l,e);return!c||!f?!1:ck(t)||(n==="spring"||kw(n))&&s}function Ig(t){t.duration=0,t.type="keyframes"}const dk=new Set(["opacity","clipPath","filter","transform"]),fk=I0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mk(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return fk()&&n&&dk.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const pk=40;class gk extends B0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mn.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},A=y?.KeyframeResolver||F0;this.keyframeResolver=new A(f,(k,P,j)=>this.onKeyframesResolved(k,P,x,!j),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=mn.now(),hk(e,l,c,f)||((Rs.instantAnimations||!m)&&y?.(U0(e,s,n)),e[0]=e[e.length-1],Ig(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>pk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!p&&mk(x),k=x.motionValue?.owner?.current,P=A?new uk({...x,element:k}):new z0(x);P.finished.then(()=>{this.notifyFinished()}).catch(Wn),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ZD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Ow(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}const yk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vk(t){const e=yk.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function Pw(t,e,n=1){const[s,a]=vk(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return tw(c)?parseFloat(c):c}return V0(a)?Pw(a,e,n+1):a}const _k={type:"spring",stiffness:500,damping:25,restSpeed:10},bk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Tk={type:"keyframes",duration:.8},xk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ek=(t,{keyframes:e})=>e.length>2?Tk:il.has(t)?t.startsWith("scale")?bk(e[1]):_k:xk,wk=t=>t!==null;function Sk(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(wk),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function jw(t,e){if(t?.inherit&&e){const{inherit:n,...s}=t;return{...e,...s}}return t}function H0(t,e){const n=t?.[e]??t?.default??t;return n!==t?jw(n,t):n}function Ak({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const q0=(t,e,n,s={},a,l)=>c=>{const f=H0(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-vi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:x=>{e.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};Ak(f)||Object.assign(y,Ek(t,y)),y.duration&&(y.duration=vi(y.duration)),y.repeatDelay&&(y.repeatDelay=vi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ig(y),y.delay===0&&(_=!0)),(Rs.instantAnimations||Rs.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,Ig(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const x=Sk(y.keyframes,f);if(x!==void 0){at.update(()=>{y.onUpdate(x),y.onComplete()});return}}return f.isSync?new z0(y):new gk(y)};function XT(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function G0(t,e,n,s){if(typeof e=="function"){const[a,l]=XT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=XT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function jo(t,e,n){const s=t.getProps();return G0(s,e,n!==void 0?n:s.custom,t)}const Lw=new Set(["width","height","top","left","right","bottom",...nl]),WT=30,Ck=t=>!isNaN(parseFloat(t));class Rk{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=mn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ck(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new D0);const s=this.events[e].add(n);return e==="change"?()=>{s(),at.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>WT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WT);return sw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(t,e){return new Rk(t,e)}const Dg=t=>Array.isArray(t);function Nk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ho(n))}function Ik(t){return Dg(t)?t[t.length-1]||0:t}function Dk(t,e){const n=jo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=Ik(l[c]);Nk(t,c,f)}}const un=t=>!!(t&&t.getVelocity);function kk(t){return!!(un(t)&&t.add)}function kg(t,e){const n=t.getValue("willChange");if(kk(n))return n.add(e);if(!n&&Rs.WillChange){const s=new Rs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function $0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Mk="framerAppearId",Uw="data-"+$0(Mk);function Bw(t){return t.props[Uw]}function Vk({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function zw(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:c,...f}=e;const m=t.getDefaultTransition();l=l?jw(l,m):m;const p=l?.reduceMotion;s&&(l=s);const y=[],_=a&&t.animationState&&t.animationState.getState()[a];for(const x in f){const A=t.getValue(x,t.latestValues[x]??null),k=f[x];if(k===void 0||_&&Vk(_,x))continue;const P={delay:n,...H0(l||{},x)},j=A.get();if(j!==void 0&&!A.isAnimating&&!Array.isArray(k)&&k===j&&!P.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const oe=Bw(t);if(oe){const Q=window.MotionHandoffAnimation(oe,x,at);Q!==null&&(P.startTime=Q,z=!0)}}kg(t,x);const H=p??t.shouldReduceMotion;A.start(q0(x,A,k,H&&Lw.has(x)?{type:!1}:P,t,z));const K=A.animation;K&&y.push(K)}if(c){const x=()=>at.update(()=>{c&&Dk(t,c)});y.length?Promise.all(y).then(x):x()}return y}function Mg(t,e,n={}){const s=jo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(zw(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return Ok(t,e,m,p,y,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function Ok(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Mg(m,e,{...c,delay:n+(typeof s=="function"?0:s)+Ow(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function Pk(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Mg(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Mg(t,e,n);else{const a=typeof e=="function"?jo(t,e,n.custom):e;s=Promise.all(zw(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const jk={test:t=>t==="auto",parse:t=>t},Fw=t=>e=>e.test(t),Hw=[tl,ge,Ki,gr,hD,cD,jk],JT=t=>Hw.find(Fw(t));function Lk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iw(t):!0}const Uk=new Set(["brightness","contrast","saturate","opacity"]);function Bk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(O0)||[];if(!s)return t;const a=n.replace(s,"");let l=Uk.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const zk=/\b([a-z-]*)\(.*?\)/gu,Vg={...Nr,getAnimatableNone:t=>{const e=t.match(zk);return e?e.map(Bk).join(" "):t}},ZT={...tl,transform:Math.round},Fk={rotate:gr,rotateX:gr,rotateY:gr,rotateZ:gr,scale:Kh,scaleX:Kh,scaleY:Kh,scaleZ:Kh,skew:gr,skewX:gr,skewY:gr,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Uu,originX:UT,originY:UT,originZ:ge},K0={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,fontSize:ge,backgroundPositionX:ge,backgroundPositionY:ge,...Fk,zIndex:ZT,fillOpacity:Uu,strokeOpacity:Uu,numOctaves:ZT},Hk={...K0,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:Vg,WebkitFilter:Vg},qw=t=>Hk[t];function Gw(t,e){let n=qw(t);return n!==Vg&&(n=Nr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qk=new Set(["auto","none","0"]);function Gk(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!qk.has(l)&&Bu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=Gw(n,a)}class $k extends F0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let _=e[y];if(typeof _=="string"&&(_=_.trim(),V0(_))){const x=Pw(_,n.current);x!==void 0&&(e[y]=x),y===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!Lw.has(s)||e.length!==2)return;const[a,l]=e,c=JT(a),f=JT(l),m=LT(a),p=LT(l);if(m!==p&&br[s]){this.needsMeasurement=!0;return}if(c!==f)if(KT(c)&&KT(f))for(let y=0;y<e.length;y++){const _=e[y];typeof _=="string"&&(e[y]=parseFloat(_))}else br[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||Lk(e[a]))&&s.push(a);s.length&&Gk(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=br[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=br[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const Kk=new Set(["opacity","clipPath","filter","transform"]);function $w(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(s=>s!=null)}const Kw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Og(t){return nw(t)&&"offsetHeight"in t}const{schedule:Y0}=pw(queueMicrotask,!1),mi={x:!1,y:!1};function Yw(){return mi.x||mi.y}function Yk(t){return t==="x"||t==="y"?mi[t]?null:(mi[t]=!0,()=>{mi[t]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function Qw(t,e){const n=$w(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Qk(t){return!(t.pointerType==="touch"||Yw())}function Xk(t,e,n={}){const[s,a,l]=Qw(t,n);return s.forEach(c=>{let f=!1,m=!1,p;const y=()=>{c.removeEventListener("pointerleave",k)},_=j=>{p&&(p(j),p=void 0),y()},x=j=>{f=!1,window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",x),m&&(m=!1,_(j))},A=()=>{f=!0,window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",x,a)},k=j=>{if(j.pointerType!=="touch"){if(f){m=!0;return}_(j)}},P=j=>{if(!Qk(j))return;m=!1;const z=e(c,j);typeof z=="function"&&(p=z,c.addEventListener("pointerleave",k,a))};c.addEventListener("pointerenter",P,a),c.addEventListener("pointerdown",A,a)}),l}const Xw=(t,e)=>e?t===e?!0:Xw(t,e.parentElement):!1,Q0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Wk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Jk(t){return Wk.has(t.tagName)||t.isContentEditable===!0}const Zk=new Set(["INPUT","SELECT","TEXTAREA"]);function eM(t){return Zk.has(t.tagName)||t.isContentEditable===!0}const ad=new WeakSet;function e1(t){return e=>{e.key==="Enter"&&t(e)}}function Fp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tM=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=e1(()=>{if(ad.has(n))return;Fp(n,"down");const a=e1(()=>{Fp(n,"up")}),l=()=>Fp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function t1(t){return Q0(t)&&!Yw()}const n1=new WeakSet;function nM(t,e,n={}){const[s,a,l]=Qw(t,n),c=f=>{const m=f.currentTarget;if(!t1(f)||n1.has(f))return;ad.add(m),n.stopPropagation&&n1.add(f);const p=e(m,f),y=(A,k)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",x),ad.has(m)&&ad.delete(m),t1(A)&&typeof p=="function"&&p(A,{success:k})},_=A=>{y(A,m===window||m===document||n.useGlobalTarget||Xw(m,A.target))},x=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",x,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),Og(f)&&(f.addEventListener("focus",p=>tM(p,a)),!Jk(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function X0(t){return nw(t)&&"ownerSVGElement"in t}const od=new WeakMap;let ld;const Ww=(t,e,n)=>(s,a)=>a&&a[0]?a[0][t+"Size"]:X0(s)&&"getBBox"in s?s.getBBox()[e]:s[n],iM=Ww("inline","width","offsetWidth"),sM=Ww("block","height","offsetHeight");function rM({target:t,borderBoxSize:e}){od.get(t)?.forEach(n=>{n(t,{get width(){return iM(t,e)},get height(){return sM(t,e)}})})}function aM(t){t.forEach(rM)}function oM(){typeof ResizeObserver>"u"||(ld=new ResizeObserver(aM))}function lM(t,e){ld||oM();const n=$w(t);return n.forEach(s=>{let a=od.get(s);a||(a=new Set,od.set(s,a)),a.add(e),ld?.observe(s)}),()=>{n.forEach(s=>{const a=od.get(s);a?.delete(e),a?.size||ld?.unobserve(s)})}}const ud=new Set;let ko;function uM(){ko=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};ud.forEach(e=>e(t))},window.addEventListener("resize",ko)}function cM(t){return ud.add(t),ko||uM(),()=>{ud.delete(t),!ud.size&&typeof ko=="function"&&(window.removeEventListener("resize",ko),ko=void 0)}}function i1(t,e){return typeof t=="function"?cM(t):lM(t,e)}function hM(t){return X0(t)&&t.tagName==="svg"}const dM=[...Hw,Vt,Nr],fM=t=>dM.find(Fw(t)),s1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mo=()=>({x:s1(),y:s1()}),r1=()=>({min:0,max:0}),zt=()=>({x:r1(),y:r1()}),mM=new WeakMap;function sf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function zu(t){return typeof t=="string"||Array.isArray(t)}const W0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],J0=["initial",...W0];function rf(t){return sf(t.animate)||J0.some(e=>zu(t[e]))}function Jw(t){return!!(rf(t)||t.variants)}function pM(t,e,n){for(const s in e){const a=e[s],l=n[s];if(un(a))t.addValue(s,a);else if(un(l))t.addValue(s,Ho(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Ho(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Pg={current:null},Zw={current:!1},gM=typeof window<"u";function yM(){if(Zw.current=!0,!!gM)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pg.current=t.matches;t.addEventListener("change",e),e()}else Pg.current=!1}const a1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Rd={};function eS(t){Rd=t}function vM(){return Rd}class _M{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=F0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=mn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,at.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=y,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=rf(n),this.isVariantNode=Jw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in x){const k=x[A];p[A]!==void 0&&un(k)&&k.set(p[A])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,mM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Zw.current||yM(),this.shouldReduceMotion=Pg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&Kk.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:f,times:m,ease:p,duration:y}=n.accelerate,_=new Mw({element:this.current,name:e,keyframes:f,times:m,ease:p,duration:vi(y)}),x=c(_);this.valueSubscriptions.set(e,()=>{x(),_.cancel()});return}const s=il.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&at.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rd){const n=Rd[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<a1.length;s++){const a=a1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=pM(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ho(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(tw(s)||iw(s))?s=parseFloat(s):!fM(s)&&Nr.test(n)&&(s=Gw(e,n)),this.setBaseTarget(e,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=G0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!un(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new D0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Y0.render(this.render)}}class tS extends _M{constructor(){super(...arguments),this.KeyframeResolver=$k}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Pr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function nS({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function bM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Hp(t){return t===void 0||t===1}function jg({scale:t,scaleX:e,scaleY:n}){return!Hp(t)||!Hp(e)||!Hp(n)}function pa(t){return jg(t)||iS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function iS(t){return o1(t.x)||o1(t.y)}function o1(t){return t&&t!=="0%"}function Nd(t,e,n){const s=t-n,a=e*s;return n+a}function l1(t,e,n,s,a){return a!==void 0&&(t=Nd(t,a,s)),Nd(t,n,s)+e}function Lg(t,e=0,n=1,s,a){t.min=l1(t.min,e,n,s,a),t.max=l1(t.max,e,n,s,a)}function sS(t,{x:e,y:n}){Lg(t.x,e.translate,e.scale,e.originPoint),Lg(t.y,n.translate,n.scale,n.originPoint)}const u1=.999999999999,c1=1.0000000000001;function xM(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Oo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,sS(t,c)),s&&pa(l.latestValues)&&Oo(t,l.latestValues))}e.x<c1&&e.x>u1&&(e.x=1),e.y<c1&&e.y>u1&&(e.y=1)}function Vo(t,e){t.min=t.min+e,t.max=t.max+e}function h1(t,e,n,s,a=.5){const l=mt(t.min,t.max,a);Lg(t,e,n,l,s)}function Oo(t,e){h1(t.x,e.x,e.scaleX,e.scale,e.originX),h1(t.y,e.y,e.scaleY,e.scale,e.originY)}function rS(t,e){return nS(TM(t.getBoundingClientRect(),e))}function EM(t,e,n){const s=rS(t,n),{scroll:a}=e;return a&&(Vo(s.x,a.offset.x),Vo(s.y,a.offset.y)),s}const wM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SM=nl.length;function AM(t,e,n){let s="",a=!0;for(let l=0;l<SM;l++){const c=nl[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number")m=f===(c.startsWith("scale")?1:0);else{const p=parseFloat(f);m=c.startsWith("scale")?p===1:p===0}if(!m||n){const p=Kw(f,K0[c]);if(!m){a=!1;const y=wM[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Z0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(il.has(m)){c=!0;continue}else if(yw(m)){a[m]=p;continue}else{const y=Kw(p,K0[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=AM(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function aS(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function d1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=d1(t,e.target.x),s=d1(t,e.target.y);return`${n}% ${s}%`}},CM={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Nr.parse(t);if(a.length>5)return s;const l=Nr.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=mt(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Ug={borderRadius:{...bu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bu,borderTopRightRadius:bu,borderBottomLeftRadius:bu,borderBottomRightRadius:bu,boxShadow:CM};function oS(t,{layout:e,layoutId:n}){return il.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ug[t]||t==="opacity")}function ey(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const c in s)(un(s[c])||a&&un(a[c])||oS(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function RM(t){return window.getComputedStyle(t)}class NM extends tS{constructor(){super(...arguments),this.type="html",this.renderInstance=aS}readValueFromInstance(e,n){if(il.has(n))return this.projection?.isProjecting?Sg(n):YD(e,n);{const s=RM(e),a=(yw(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rS(e,n)}build(e,n,s){Z0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return ey(e,n,s)}}const IM={offset:"stroke-dashoffset",array:"stroke-dasharray"},DM={offset:"strokeDashoffset",array:"strokeDasharray"};function kM(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?IM:DM;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const MM=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function lS(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(Z0(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:x}=t;_.transform&&(x.transform=_.transform,delete _.transform),(x.transform||_.transformOrigin)&&(x.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const A of MM)_[A]!==void 0&&(x[A]=_[A],delete _[A]);e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&kM(_,a,l,c,!1)}const uS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),cS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function VM(t,e,n,s){aS(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(uS.has(a)?a:$0(a),e.attrs[a])}function hS(t,e,n){const s=ey(t,e,n);for(const a in t)if(un(t[a])||un(e[a])){const l=nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class OM extends tS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(il.has(n)){const s=qw(n);return s&&s.default||0}return n=uS.has(n)?n:$0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return hS(e,n,s)}build(e,n,s){lS(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){VM(e,n,s,a)}mount(e){this.isSVGTag=cS(e.tagName),super.mount(e)}}const PM=J0.length;function dS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?dS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<PM;n++){const s=J0[n],a=t.props[s];(zu(a)||a===!1)&&(e[s]=a)}return e}function fS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const jM=[...W0].reverse(),LM=W0.length;function UM(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Pk(t,n,s)))}function BM(t){let e=UM(t),n=f1(),s=!0;const a=m=>(p,y)=>{const _=jo(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:x,transitionEnd:A,...k}=_;p={...p,...k,...A}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=dS(t.parent)||{},_=[],x=new Set;let A={},k=1/0;for(let j=0;j<LM;j++){const z=jM[j],H=n[z],K=p[z]!==void 0?p[z]:y[z],oe=zu(K),Q=z===m?H.isActive:null;Q===!1&&(k=j);let te=K===y[z]&&K!==p[z]&&oe;if(te&&s&&t.manuallyAnimateOnMount&&(te=!1),H.protectedKeys={...A},!H.isActive&&Q===null||!K&&!H.prevProp||sf(K)||typeof K=="boolean")continue;if(z==="exit"&&H.isActive&&Q!==!0){H.prevResolvedValues&&(A={...A,...H.prevResolvedValues});continue}const N=zM(H.prevProp,K);let S=N||z===m&&H.isActive&&!te&&oe||j>k&&oe,R=!1;const M=Array.isArray(K)?K:[K];let V=M.reduce(a(z),{});Q===!1&&(V={});const{prevResolvedValues:B={}}=H,D={...B,...V},qe=le=>{S=!0,x.has(le)&&(R=!0,x.delete(le)),H.needsAnimating[le]=!0;const ae=t.getValue(le);ae&&(ae.liveStyle=!1)};for(const le in D){const ae=V[le],me=B[le];if(A.hasOwnProperty(le))continue;let Se=!1;Dg(ae)&&Dg(me)?Se=!fS(ae,me):Se=ae!==me,Se?ae!=null?qe(le):x.add(le):ae!==void 0&&x.has(le)?qe(le):H.protectedKeys[le]=!0}H.prevProp=K,H.prevResolvedValues=V,H.isActive&&(A={...A,...V}),s&&t.blockInitialAnimation&&(S=!1);const Ze=te&&N;S&&(!Ze||R)&&_.push(...M.map(le=>{const ae={type:z};if(typeof le=="string"&&s&&!Ze&&t.manuallyAnimateOnMount&&t.parent){const{parent:me}=t,Se=jo(me,le);if(me.enteringChildren&&Se){const{delayChildren:L}=Se.transition||{};ae.delay=Ow(me.enteringChildren,t,L)}}return{animation:le,options:ae}}))}if(x.size){const j={};if(typeof p.initial!="boolean"){const z=jo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(j.transition=z.transition)}x.forEach(z=>{const H=t.getBaseTarget(z),K=t.getValue(z);K&&(K.liveStyle=!0),j[z]=H??null}),_.push({animation:j})}let P=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),s=!1,P?e(_):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=f1()}}}function zM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fS(e,t):!1}function ma(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function f1(){return{animate:ma(!0),whileInView:ma(),whileHover:ma(),whileTap:ma(),whileDrag:ma(),whileFocus:ma(),exit:ma()}}function m1(t,e){t.min=e.min,t.max=e.max}function fi(t,e){m1(t.x,e.x),m1(t.y,e.y)}function p1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const mS=1e-4,FM=1-mS,HM=1+mS,pS=.01,qM=0-pS,GM=0+pS;function pn(t){return t.max-t.min}function $M(t,e,n){return Math.abs(t-e)<=n}function g1(t,e,n,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=pn(n)/pn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=FM&&t.scale<=HM||isNaN(t.scale))&&(t.scale=1),(t.translate>=qM&&t.translate<=GM||isNaN(t.translate))&&(t.translate=0)}function Nu(t,e,n,s){g1(t.x,e.x,n.x,s?s.originX:void 0),g1(t.y,e.y,n.y,s?s.originY:void 0)}function y1(t,e,n){t.min=n.min+e.min,t.max=t.min+pn(e)}function KM(t,e,n){y1(t.x,e.x,n.x),y1(t.y,e.y,n.y)}function v1(t,e,n){t.min=e.min-n.min,t.max=t.min+pn(e)}function Id(t,e,n){v1(t.x,e.x,n.x),v1(t.y,e.y,n.y)}function _1(t,e,n,s,a){return t-=e,t=Nd(t,1/n,s),a!==void 0&&(t=Nd(t,1/a,s)),t}function YM(t,e=0,n=1,s=.5,a,l=t,c=t){if(Ki.test(e)&&(e=parseFloat(e),e=mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=mt(l.min,l.max,s);t===l&&(f-=e),t.min=_1(t.min,e,n,f,a),t.max=_1(t.max,e,n,f,a)}function b1(t,e,[n,s,a],l,c){YM(t,e[n],e[s],e[a],e.scale,l,c)}const QM=["x","scaleX","originX"],XM=["y","scaleY","originY"];function T1(t,e,n,s){b1(t.x,e,QM,n?n.x:void 0,s?s.x:void 0),b1(t.y,e,XM,n?n.y:void 0,s?s.y:void 0)}function x1(t){return t.translate===0&&t.scale===1}function gS(t){return x1(t.x)&&x1(t.y)}function E1(t,e){return t.min===e.min&&t.max===e.max}function WM(t,e){return E1(t.x,e.x)&&E1(t.y,e.y)}function w1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function yS(t,e){return w1(t.x,e.x)&&w1(t.y,e.y)}function S1(t){return pn(t.x)/pn(t.y)}function A1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Gi(t){return[t("x"),t("y")]}function JM(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:x,skewX:A,skewY:k}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),x&&(s+=`rotateY(${x}deg) `),A&&(s+=`skewX(${A}deg) `),k&&(s+=`skewY(${k}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const vS=["TopLeft","TopRight","BottomLeft","BottomRight"],ZM=vS.length,C1=t=>typeof t=="string"?parseFloat(t):t,R1=t=>typeof t=="number"||ge.test(t);function e4(t,e,n,s,a,l){a?(t.opacity=mt(0,n.opacity??1,t4(s)),t.opacityExit=mt(e.opacity??1,0,n4(s))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,s));for(let c=0;c<ZM;c++){const f=`border${vS[c]}Radius`;let m=N1(e,f),p=N1(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||R1(m)===R1(p)?(t[f]=Math.max(mt(C1(m),C1(p),s),0),(Ki.test(p)||Ki.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,s))}function N1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const t4=_S(0,.5,hw),n4=_S(.5,.95,Wn);function _S(t,e,n){return s=>s<t?0:s>e?1:n(Lu(t,e,s))}function i4(t,e,n){const s=un(t)?t:Ho(t);return s.start(q0("",s,e,n)),s.animation}function Fu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const s4=(t,e)=>t.depth-e.depth;class r4{constructor(){this.children=[],this.isDirty=!1}add(e){R0(this.children,e),this.isDirty=!0}remove(e){wd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(s4),this.isDirty=!1,this.children.forEach(e)}}function a4(t,e){const n=mn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Rr(s),t(l-e))};return at.setup(s,!0),()=>Rr(s)}function cd(t){return un(t)?t.get():t}class o4{constructor(){this.members=[]}add(e){R0(this.members,e);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===e||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&wd(this.members,s)}e.scheduleRender()}remove(e){if(wd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const a=s.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=s.instance;m&&m.isConnected===!1&&!s.snapshot||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:f}=e.options;f===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const hd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},qp=["","X","Y","Z"],l4=1e3;let u4=0;function Gp(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function bS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Bw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&bS(s)}function TS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=u4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(d4),this.nodes.forEach(g4),this.nodes.forEach(y4),this.nodes.forEach(f4)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new r4)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new D0),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=X0(c)&&!hM(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,_=0;const x=()=>this.root.updateBlockedByResize=!1;at.read(()=>{_=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,y&&y(),y=a4(x,250),hd.hasAnimatedSinceResize&&(hd.hasAnimatedSinceResize=!1,this.nodes.forEach(k1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:x,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||x4,{onLayoutAnimationStart:P,onLayoutAnimationComplete:j}=p.getProps(),z=!this.targetLayout||!yS(this.targetLayout,A),H=!_&&x;if(this.options.layoutRoot||this.resumeFrom||H||_&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...H0(k,"layout"),onPlay:P,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,H)}else _||k1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(D1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(p4),this.nodes.forEach(c4),this.nodes.forEach(h4)):this.nodes.forEach(D1),this.clearAllSnapshots();const f=mn.now();Zt.delta=Zi(0,1e3/60,f-Zt.timestamp),Zt.timestamp=f,Zt.isProcessing=!0,Pp.update.process(Zt),Pp.preRender.process(Zt),Pp.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Y0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(m4),this.sharedNodes.forEach(_4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!gS(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||pa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),E4(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return zt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(w4))){const{scroll:p}=this.root;p&&(Vo(f.x,p.offset.x),Vo(f.y,p.offset.y))}return f}removeElementScroll(c){const f=zt();if(fi(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&fi(f,c),Vo(f.x,y.offset.x),Vo(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=zt();fi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Oo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),pa(y.latestValues)&&Oo(m,y.latestValues)}return pa(this.latestValues)&&Oo(m,this.latestValues),m}removeTransform(c){const f=zt();fi(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!pa(p.latestValues))continue;jg(p.latestValues)&&p.updateSnapshot();const y=zt(),_=p.measurePageBox();fi(y,_),T1(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return pa(this.latestValues)&&T1(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Zt.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),sS(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||jg(this.parent.latestValues)||iS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Id(this.relativeTargetOrigin,f,m),fi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;fi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,x=this.treeScale.y;xM(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=zt());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p1(this.prevProjectionDelta.x,this.projectionDelta.x),p1(this.prevProjectionDelta.y,this.projectionDelta.y)),Nu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==x||!A1(this.projectionDelta.x,this.prevProjectionDelta.x)||!A1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mo(),this.projectionDelta=Mo(),this.projectionDeltaWithTransform=Mo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Mo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const x=zt(),A=m?m.source:void 0,k=this.layout?this.layout.source:void 0,P=A!==k,j=this.getStack(),z=!j||j.members.length<=1,H=!!(P&&!z&&this.options.crossfade===!0&&!this.path.some(T4));this.animationProgress=0;let K;this.mixTargetDelta=oe=>{const Q=oe/1e3;M1(_.x,c.x,Q),M1(_.y,c.y,Q),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Id(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),b4(this.relativeTarget,this.relativeTargetOrigin,x,Q),K&&WM(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=zt()),fi(K,this.relativeTarget)),P&&(this.animationValues=y,e4(y,p,this.latestValues,Q,H,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{hd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ho(0)),this.currentAnimation=i4(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(l4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&xS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||zt();const _=pn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const x=pn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}fi(f,m),Oo(f,y),Nu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new o4),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Gp("z",c,p,this.animationValues);for(let y=0;y<qp.length;y++)Gp(`rotate${qp[y]}`,c,p,this.animationValues),Gp(`skew${qp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=cd(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=cd(f?.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=JM(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x,y:A}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const k in Ug){if(y[k]===void 0)continue;const{correct:P,applyTo:j,isCSSVariable:z}=Ug[k],H=_==="none"?y[k]:P(y[k],p);if(j){const K=j.length;for(let oe=0;oe<K;oe++)c[j[oe]]=H}else z?this.options.visualElement.renderState.vars[k]=H:c[k]=H}this.options.layoutId&&(c.pointerEvents=p===this?cd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(I1),this.root.sharedNodes.clear()}}}function c4(t){t.updateLayout()}function h4(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Gi(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],x=pn(_);_.min=n[y].min,_.max=_.min+x}):xS(a,e.layoutBox,n)&&Gi(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],x=pn(n[y]);_.max=_.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const c=Mo();Nu(c,n,e.layoutBox);const f=Mo();l?Nu(f,t.applyTransform(s,!0),e.measuredBox):Nu(f,n,e.layoutBox);const m=!gS(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:x}=y;if(_&&x){const A=zt();Id(A,e.layoutBox,_.layoutBox);const k=zt();Id(k,n,x.layoutBox),yS(A,k)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=A,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function d4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function f4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function m4(t){t.clearSnapshot()}function I1(t){t.clearMeasurements()}function D1(t){t.isLayoutDirty=!1}function p4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function k1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function g4(t){t.resolveTargetDelta()}function y4(t){t.calcProjection()}function v4(t){t.resetSkewAndRotation()}function _4(t){t.removeLeadSnapshot()}function M1(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function V1(t,e,n,s){t.min=mt(e.min,n.min,s),t.max=mt(e.max,n.max,s)}function b4(t,e,n,s){V1(t.x,e.x,n.x,s),V1(t.y,e.y,n.y,s)}function T4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const x4={duration:.45,ease:[.4,0,.1,1]},O1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),P1=O1("applewebkit/")&&!O1("chrome/")?Math.round:Wn;function j1(t){t.min=P1(t.min),t.max=P1(t.max)}function E4(t){j1(t.x),j1(t.y)}function xS(t,e,n){return t==="position"||t==="preserve-aspect"&&!$M(S1(e),S1(n),.2)}function w4(t){return t!==t.root&&t.scroll?.wasRoot}const S4=TS({attachResizeListener:(t,e)=>Fu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),$p={current:void 0},ES=TS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$p.current){const t=new S4({});t.mount(window),t.setOptions({layoutScroll:!0}),$p.current=t}return $p.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ty=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function L1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function A4(...t){return e=>{let n=!1;const s=t.map(a=>{const l=L1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():L1(t[a],null)}}}}function C4(...t){return I.useCallback(A4(...t),t)}class R4 extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,a=Og(s)&&s.offsetWidth||0,l=Og(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function N4({children:t,isPresent:e,anchorX:n,anchorY:s,root:a,pop:l}){const c=I.useId(),f=I.useRef(null),m=I.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=I.useContext(ty),y=t.props?.ref??t?.ref,_=C4(f,y);return I.useInsertionEffect(()=>{const{width:x,height:A,top:k,left:P,right:j,bottom:z}=m.current;if(e||l===!1||!f.current||!x||!A)return;const H=n==="left"?`left: ${P}`:`right: ${j}`,K=s==="bottom"?`bottom: ${z}`:`top: ${k}`;f.current.dataset.motionPopId=c;const oe=document.createElement("style");p&&(oe.nonce=p);const Q=a??document.head;return Q.appendChild(oe),oe.sheet&&oe.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${A}px !important;
            ${H}px !important;
            ${K}px !important;
          }
        `),()=>{Q.contains(oe)&&Q.removeChild(oe)}},[e]),b.jsx(R4,{isPresent:e,childRef:f,sizeRef:m,pop:l,children:l===!1?t:I.cloneElement(t,{ref:_})})}const I4=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,anchorY:m,root:p})=>{const y=C0(D4),_=I.useId();let x=!0,A=I.useMemo(()=>(x=!1,{id:_,initial:e,isPresent:n,custom:a,onExitComplete:k=>{y.set(k,!0);for(const P of y.values())if(!P)return;s&&s()},register:k=>(y.set(k,!1),()=>y.delete(k))}),[n,y,s]);return l&&x&&(A={...A}),I.useMemo(()=>{y.forEach((k,P)=>y.set(P,!1))},[n]),I.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),t=b.jsx(N4,{pop:c==="popLayout",isPresent:n,anchorX:f,anchorY:m,root:p,children:t}),b.jsx(nf.Provider,{value:A,children:t})};function D4(){return new Map}function wS(t=!0){const e=I.useContext(nf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const c=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Yh=t=>t.key||"";function U1(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const af=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",anchorY:m="top",root:p})=>{const[y,_]=wS(c),x=I.useMemo(()=>U1(t),[t]),A=c&&!y?[]:x.map(Yh),k=I.useRef(!0),P=I.useRef(x),j=C0(()=>new Map),z=I.useRef(new Set),[H,K]=I.useState(x),[oe,Q]=I.useState(x);ew(()=>{k.current=!1,P.current=x;for(let S=0;S<oe.length;S++){const R=Yh(oe[S]);A.includes(R)?(j.delete(R),z.current.delete(R)):j.get(R)!==!0&&j.set(R,!1)}},[oe,A.length,A.join("-")]);const te=[];if(x!==H){let S=[...x];for(let R=0;R<oe.length;R++){const M=oe[R],V=Yh(M);A.includes(V)||(S.splice(R,0,M),te.push(M))}return l==="wait"&&te.length&&(S=te),Q(U1(S)),K(x),null}const{forceRender:N}=I.useContext(A0);return b.jsx(b.Fragment,{children:oe.map(S=>{const R=Yh(S),M=c&&!y?!1:x===oe||A.includes(R),V=()=>{if(z.current.has(R))return;if(z.current.add(R),j.has(R))j.set(R,!0);else return;let B=!0;j.forEach(D=>{D||(B=!1)}),B&&(N?.(),Q(P.current),c&&_?.(),s&&s())};return b.jsx(I4,{isPresent:M,initial:!k.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:M?void 0:V,anchorX:f,anchorY:m,children:S},R)})})},SS=I.createContext({strict:!1}),B1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let z1=!1;function k4(){if(z1)return;const t={};for(const e in B1)t[e]={isEnabled:n=>B1[e].some(s=>!!n[s])};eS(t),z1=!0}function AS(){return k4(),vM()}function M4(t){const e=AS();for(const n in t)e[n]={...e[n],...t[n]};eS(e)}const V4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Dd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||V4.has(t)}let CS=t=>!Dd(t);function O4(t){typeof t=="function"&&(CS=e=>e.startsWith("on")?!Dd(e):t(e))}try{O4(require("@emotion/is-prop-valid").default)}catch{}function P4(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(CS(a)||n===!0&&Dd(a)||!e&&!Dd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const of=I.createContext({});function j4(t,e){if(rf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||zu(n)?n:void 0,animate:zu(s)?s:void 0}}return t.inherit!==!1?e:{}}function L4(t){const{initial:e,animate:n}=j4(t,I.useContext(of));return I.useMemo(()=>({initial:e,animate:n}),[F1(e),F1(n)])}function F1(t){return Array.isArray(t)?t.join(" "):t}const ny=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RS(t,e,n){for(const s in e)!un(e[s])&&!oS(s,n)&&(t[s]=e[s])}function U4({transformTemplate:t},e){return I.useMemo(()=>{const n=ny();return Z0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function B4(t,e){const n=t.style||{},s={};return RS(s,n,t),Object.assign(s,U4(t,e)),s}function z4(t,e){const n={},s=B4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const NS=()=>({...ny(),attrs:{}});function F4(t,e,n,s){const a=I.useMemo(()=>{const l=NS();return lS(l,e,cS(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};RS(l,t.style,t),a.style={...l,...a.style}}return a}const H4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iy(t){return typeof t!="string"||t.includes("-")?!1:!!(H4.indexOf(t)>-1||/[A-Z]/u.test(t))}function q4(t,e,n,{latestValues:s},a,l=!1,c){const m=(c??iy(t)?F4:z4)(e,s,a,t),p=P4(e,typeof t=="string",l),y=t!==I.Fragment?{...p,...m,ref:n}:{},{children:_}=e,x=I.useMemo(()=>un(_)?_.get():_,[_]);return I.createElement(t,{...y,children:x})}function G4({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:$4(n,s,a,t),renderState:e()}}function $4(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=cd(l[x]);let{initial:c,animate:f}=t;const m=rf(t),p=Jw(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!sf(_)){const x=Array.isArray(_)?_:[_];for(let A=0;A<x.length;A++){const k=G0(t,x[A]);if(k){const{transitionEnd:P,transition:j,...z}=k;for(const H in z){let K=z[H];if(Array.isArray(K)){const oe=y?K.length-1:0;K=K[oe]}K!==null&&(a[H]=K)}for(const H in P)a[H]=P[H]}}}return a}const IS=t=>(e,n)=>{const s=I.useContext(of),a=I.useContext(nf),l=()=>G4(t,e,s,a);return n?l():C0(l)},K4=IS({scrapeMotionValuesFromProps:ey,createRenderState:ny}),Y4=IS({scrapeMotionValuesFromProps:hS,createRenderState:NS}),Q4=Symbol.for("motionComponentSymbol");function X4(t,e,n){const s=I.useRef(n);I.useInsertionEffect(()=>{s.current=n});const a=I.useRef(null);return I.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=s.current;if(typeof c=="function")if(l){const f=c(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const DS=I.createContext({});function Ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function W4(t,e,n,s,a,l){const{visualElement:c}=I.useContext(of),f=I.useContext(SS),m=I.useContext(nf),p=I.useContext(ty),y=p.reducedMotion,_=p.skipAnimations,x=I.useRef(null),A=I.useRef(!1);s=s||f.renderer,!x.current&&s&&(x.current=s(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:l}),A.current&&x.current&&(x.current.manuallyAnimateOnMount=!0));const k=x.current,P=I.useContext(DS);k&&!k.projection&&a&&(k.type==="html"||k.type==="svg")&&J4(x.current,n,a,P);const j=I.useRef(!1);I.useInsertionEffect(()=>{k&&j.current&&k.update(n,m)});const z=n[Uw],H=I.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return ew(()=>{A.current=!0,k&&(j.current=!0,window.MotionIsMounted=!0,k.updateFeatures(),k.scheduleRenderMicrotask(),H.current&&k.animationState&&k.animationState.animateChanges())}),I.useEffect(()=>{k&&(!H.current&&k.animationState&&k.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),H.current=!1),k.enteringChildren=void 0)}),k}function J4(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:kS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Ao(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function kS(t){if(t)return t.options.allowProjection!==!1?t.projection:kS(t.parent)}function Kp(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&M4(s);const l=n?n==="svg":iy(t),c=l?Y4:K4;function f(p,y){let _;const x={...I.useContext(ty),...p,layoutId:Z4(p)},{isStatic:A}=x,k=L4(p),P=c(p,A);if(!A&&ZE){eV();const j=tV(x);_=j.MeasureLayout,k.visualElement=W4(t,P,x,a,j.ProjectionNode,l)}return b.jsxs(of.Provider,{value:k,children:[_&&k.visualElement?b.jsx(_,{visualElement:k.visualElement,...x}):null,q4(t,p,X4(P,k.visualElement,y),P,A,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=I.forwardRef(f);return m[Q4]=t,m}function Z4({layoutId:t}){const e=I.useContext(A0).id;return e&&t!==void 0?e+"-"+t:t}function eV(t,e){I.useContext(SS).strict}function tV(t){const e=AS(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function nV(t,e){if(typeof Proxy>"u")return Kp;const n=new Map,s=(l,c)=>Kp(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Kp(c,void 0,t,e)),n.get(c))})}const iV=(t,e)=>e.isSVG??iy(t)?new OM(e):new NM(e,{allowProjection:t!==I.Fragment});class sV extends Pr{constructor(e){super(e),e.animationState||(e.animationState=BM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rV=0;class aV extends Pr{constructor(){super(...arguments),this.id=rV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const oV={animation:{Feature:sV},exit:{Feature:aV}};function sc(t){return{point:{x:t.pageX,y:t.pageY}}}const lV=t=>e=>Q0(e)&&t(e,sc(e));function Iu(t,e,n,s){return Fu(t,e,lV(n),s)}const MS=({current:t})=>t?t.ownerDocument.defaultView:null,H1=(t,e)=>Math.abs(t-e);function uV(t,e){const n=H1(t.x,e.x),s=H1(t.y,e.y);return Math.sqrt(n**2+s**2)}const q1=new Set(["auto","scroll"]);class VS{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Qp(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,P=uV(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!P)return;const{point:j}=A,{timestamp:z}=Zt;this.history.push({...j,timestamp:z});const{onStart:H,onMove:K}=this.handlers;k||(H&&H(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,A)},this.handlePointerMove=(A,k)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Yp(k,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(A,k)=>{this.end();const{onEnd:P,onSessionEnd:j,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Qp(A.type==="pointercancel"?this.lastMoveEventInfo:Yp(k,this.transformPagePoint),this.history);this.startEvent&&P&&P(A,H),j&&j(A,H)},!Q0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const m=sc(e),p=Yp(m,this.transformPagePoint),{point:y}=p,{timestamp:_}=Zt;this.history=[{...y,timestamp:_}];const{onSessionStart:x}=n;x&&x(e,Qp(p,this.history)),this.removeListeners=tc(Iu(this.contextWindow,"pointermove",this.handlePointerMove),Iu(this.contextWindow,"pointerup",this.handlePointerUp),Iu(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(q1.has(s.overflowX)||q1.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),at.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rr(this.updatePoint)}}function Yp(t,e){return e?{point:e(t.point)}:t}function G1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qp({point:t},e){return{point:t,delta:G1(t,OS(e)),offset:G1(t,cV(e)),velocity:hV(e,.1)}}function cV(t){return t[0]}function OS(t){return t[t.length-1]}function hV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=OS(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>vi(e)));)n--;if(!s)return{x:0,y:0};s===t[0]&&t.length>2&&a.timestamp-s.timestamp>vi(e)*2&&(s=t[1]);const l=Xn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function dV(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mt(n,t,s.max):Math.min(t,n)),t}function $1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fV(t,{top:e,left:n,bottom:s,right:a}){return{x:$1(t.x,n,a),y:$1(t.y,e,s)}}function K1(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function mV(t,e){return{x:K1(t.x,e.x),y:K1(t.y,e.y)}}function pV(t,e){let n=.5;const s=pn(t),a=pn(e);return a>s?n=Lu(e.min,e.max-s,t.min):s>a&&(n=Lu(t.min,t.max-a,e.min)),Zi(0,1,n)}function gV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Bg=.35;function yV(t=Bg){return t===!1?t=0:t===!0&&(t=Bg),{x:Y1(t,"left","right"),y:Y1(t,"top","bottom")}}function Y1(t,e,n){return{min:Q1(t,e),max:Q1(t,n)}}function Q1(t,e){return typeof t=="number"?t:t[e]||0}const vV=new WeakMap;class _V{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n&&this.snapToCursor(sc(_).point),this.stopAnimation()},c=(_,x)=>{const{drag:A,dragPropagation:k,onDragStart:P}=this.getProps();if(A&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Yk(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(z=>{let H=this.getAxisMotionValue(z).get()||0;if(Ki.test(H)){const{projection:K}=this.visualElement;if(K&&K.layout){const oe=K.layout.layoutBox[z];oe&&(H=pn(oe)*(parseFloat(H)/100))}}this.originPoint[z]=H}),P&&at.update(()=>P(_,x),!1,!0),kg(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},f=(_,x)=>{this.latestPointerEvent=_,this.latestPanInfo=x;const{dragPropagation:A,dragDirectionLock:k,onDirectionLock:P,onDrag:j}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:z}=x;if(k&&this.currentDirection===null){this.currentDirection=TV(z),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",x.point,z),this.updateAxis("y",x.point,z),this.visualElement.render(),j&&at.update(()=>j(_,x),!1,!0)},m=(_,x)=>{this.latestPointerEvent=_,this.latestPanInfo=x,this.stop(_,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new VS(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:MS(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&at.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Qh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=dV(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Ao(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=fV(s.layoutBox,e):this.constraints=!1,this.elastic=yV(n),a!==this.constraints&&!Ao(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&Gi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=gV(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ao(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=EM(s,a.root,this.visualElement.getTransformPagePoint());let c=mV(a.layout.layoutBox,l);if(n){const f=n(bM(c));this.hasMutatedConstraints=!!f,f&&(c=nS(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Gi(y=>{if(!Qh(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const x=a?200:1e6,A=a?40:1e7,k={type:"inertia",velocity:s?e[y]:0,bounceStiffness:x,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,k)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return kg(this.visualElement,e),s.start(q0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Gi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Gi(n=>{const{drag:s}=this.getProps();if(!Qh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-mt(c,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ao(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gi(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=pV({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Gi(c=>{if(!Qh(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(mt(m,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;vV.set(this.visualElement,this);const e=this.visualElement.current,n=Iu(e,"pointerdown",p=>{const{drag:y,dragListener:_=!0}=this.getProps(),x=p.target,A=x!==e&&eM(x);y&&_&&!A&&this.start(p)});let s;const a=()=>{const{dragConstraints:p}=this.getProps();Ao(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),s||(s=bV(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),at.read(a);const f=Fu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(Gi(_=>{const x=this.getAxisMotionValue(_);x&&(this.originPoint[_]+=p[_].translate,x.set(x.get()+p[_].translate))}),this.visualElement.render())}));return()=>{f(),n(),c(),m&&m(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Bg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function X1(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function bV(t,e,n){const s=i1(t,X1(n)),a=i1(e,X1(n));return()=>{s(),a()}}function Qh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function TV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xV extends Pr{constructor(e){super(e),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new _V(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Xp=t=>(e,n)=>{t&&at.update(()=>t(e,n),!1,!0)};class EV extends Pr{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(e){this.session=new VS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Xp(e),onStart:Xp(n),onMove:Xp(s),onEnd:(l,c)=>{delete this.session,a&&at.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Wp=!1;class wV extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Wp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),hd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Wp=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||at.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Y0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Wp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PS(t){const[e,n]=wS(),s=I.useContext(A0);return b.jsx(wV,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(DS),isPresent:e,safeToRemove:n})}const SV={pan:{Feature:EV},drag:{Feature:xV,ProjectionNode:ES,MeasureLayout:PS}};function W1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&at.postRender(()=>l(e,sc(e)))}class AV extends Pr{mount(){const{current:e}=this.node;e&&(this.unmount=Xk(e,(n,s)=>(W1(this.node,s,"Start"),a=>W1(this.node,a,"End"))))}unmount(){}}class CV extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tc(Fu(this.node.current,"focus",()=>this.onFocus()),Fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function J1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&at.postRender(()=>l(e,sc(e)))}class RV extends Pr{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=nM(e,(a,l)=>(J1(this.node,l,"Start"),(c,{success:f})=>J1(this.node,c,f?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const zg=new WeakMap,Jp=new WeakMap,NV=t=>{const e=zg.get(t.target);e&&e(t)},IV=t=>{t.forEach(NV)};function DV({root:t,...e}){const n=t||document;Jp.has(n)||Jp.set(n,{});const s=Jp.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(IV,{root:t,...e})),s[a]}function kV(t,e,n){const s=DV(e);return zg.set(t,n),s.observe(t),()=>{zg.delete(t),s.unobserve(t)}}const MV={some:0,all:1};class VV extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:MV[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),x=p?y:_;x&&x(m)};return kV(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(OV(e,n))&&this.startObserver()}unmount(){}}function OV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const PV={inView:{Feature:VV},tap:{Feature:RV},focus:{Feature:CV},hover:{Feature:AV}},jV={layout:{ProjectionNode:ES,MeasureLayout:PS}},LV={...oV,...PV,...SV,...jV},we=nV(LV,iV),UV=()=>{};var Z1={};const jS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},BV=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let x=(f&15)<<2|p>>6,A=p&63;m||(A=64,c||(x=64)),s.push(n[y],n[_],n[x],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new zV;const x=l<<2|f>>4;if(s.push(x),p!==64){const A=f<<4&240|p>>2;if(s.push(A),_!==64){const k=p<<6&192|_;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FV=function(t){const e=jS(t);return LS.encodeByteArray(e,!0)},kd=function(t){return FV(t).replace(/\./g,"")},US=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qV=()=>HV().__FIREBASE_DEFAULTS__,GV=()=>{if(typeof process>"u"||typeof Z1>"u")return;const t=Z1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$V=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&US(t[1]);return e&&JSON.parse(e)},lf=()=>{try{return UV()||qV()||GV()||$V()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BS=t=>lf()?.emulatorHosts?.[t],KV=t=>{const e=BS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},zS=()=>lf()?.config,FS=t=>lf()?.[`_${t}`];class YV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function sl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HS(t){return(await fetch(t,{credentials:"include"})).ok}function QV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[kd(JSON.stringify(n)),kd(JSON.stringify(c)),""].join(".")}const Du={};function XV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Du))Du[e]?t.emulator.push(e):t.prod.push(e);return t}function WV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ex=!1;function qS(t,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||Du[t]===e||Du[t]||ex)return;Du[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=XV().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{ex=!0,c()},x}function y(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function _(){const x=WV(s),A=n("text"),k=document.getElementById(A)||document.createElement("span"),P=n("learnmore"),j=document.getElementById(P)||document.createElement("a"),z=n("preprendIcon"),H=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const K=x.element;f(K),y(j,P);const oe=p();m(H,z),K.append(H,k,j,oe),document.body.appendChild(K)}l?(k.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function ZV(){const t=lf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iO(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sO(){return!ZV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rO(){try{return typeof indexedDB=="object"}catch{return!1}}function aO(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const oO="FirebaseError";class Vs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oO,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rc.prototype.create)}}class rc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?lO(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Vs(a,f,s)}}function lO(t,e){return t.replace(uO,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const uO=/\{\$([^}]+)}/g;function cO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(tx(l)&&tx(c)){if(!Sa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function tx(t){return t!==null&&typeof t=="object"}function ac(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hO(t,e){const n=new dO(t,e);return n.subscribe.bind(n)}class dO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Zp),a.error===void 0&&(a.error=Zp),a.complete===void 0&&(a.complete=Zp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zp(){}function gn(t){return t&&t._delegate?t._delegate:t}class Aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ga="[DEFAULT]";class mO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YV;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gO(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pO(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pO(t){return t===ga?void 0:t}function gO(t){return t.instantiationMode==="EAGER"}class yO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const vO={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},_O=Le.INFO,bO={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},TO=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=bO[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sy{constructor(e){this.name=e,this._logLevel=_O,this._logHandler=TO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const xO=(t,e)=>e.some(n=>t instanceof n);let nx,ix;function EO(){return nx||(nx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wO(){return ix||(ix=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GS=new WeakMap,Fg=new WeakMap,$S=new WeakMap,eg=new WeakMap,ry=new WeakMap;function SO(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(xr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&GS.set(n,t)}).catch(()=>{}),ry.set(e,t),e}function AO(t){if(Fg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Fg.set(t,e)}let Hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CO(t){Hg=t(Hg)}function RO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(tg(this),e,...n);return $S.set(s,e.sort?e.sort():[e]),xr(s)}:wO().includes(t)?function(...e){return t.apply(tg(this),e),xr(GS.get(this))}:function(...e){return xr(t.apply(tg(this),e))}}function NO(t){return typeof t=="function"?RO(t):(t instanceof IDBTransaction&&AO(t),xO(t,EO())?new Proxy(t,Hg):t)}function xr(t){if(t instanceof IDBRequest)return SO(t);if(eg.has(t))return eg.get(t);const e=NO(t);return e!==t&&(eg.set(t,e),ry.set(e,t)),e}const tg=t=>ry.get(t);function IO(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=xr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(xr(c.result),m.oldVersion,m.newVersion,xr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const DO=["get","getKey","getAll","getAllKeys","count"],kO=["put","add","delete","clear"],ng=new Map;function sx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ng.get(e))return ng.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=kO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||DO.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return ng.set(e,l),l}CO(t=>({...t,get:(e,n,s)=>sx(e,n)||t.get(e,n,s),has:(e,n)=>!!sx(e,n)||t.has(e,n)}));class MO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VO(t){return t.getComponent()?.type==="VERSION"}const qg="@firebase/app",rx="0.14.8";const Ns=new sy("@firebase/app"),OO="@firebase/app-compat",PO="@firebase/analytics-compat",jO="@firebase/analytics",LO="@firebase/app-check-compat",UO="@firebase/app-check",BO="@firebase/auth",zO="@firebase/auth-compat",FO="@firebase/database",HO="@firebase/data-connect",qO="@firebase/database-compat",GO="@firebase/functions",$O="@firebase/functions-compat",KO="@firebase/installations",YO="@firebase/installations-compat",QO="@firebase/messaging",XO="@firebase/messaging-compat",WO="@firebase/performance",JO="@firebase/performance-compat",ZO="@firebase/remote-config",eP="@firebase/remote-config-compat",tP="@firebase/storage",nP="@firebase/storage-compat",iP="@firebase/firestore",sP="@firebase/ai",rP="@firebase/firestore-compat",aP="firebase",oP="12.9.0";const Gg="[DEFAULT]",lP={[qg]:"fire-core",[OO]:"fire-core-compat",[jO]:"fire-analytics",[PO]:"fire-analytics-compat",[UO]:"fire-app-check",[LO]:"fire-app-check-compat",[BO]:"fire-auth",[zO]:"fire-auth-compat",[FO]:"fire-rtdb",[HO]:"fire-data-connect",[qO]:"fire-rtdb-compat",[GO]:"fire-fn",[$O]:"fire-fn-compat",[KO]:"fire-iid",[YO]:"fire-iid-compat",[QO]:"fire-fcm",[XO]:"fire-fcm-compat",[WO]:"fire-perf",[JO]:"fire-perf-compat",[ZO]:"fire-rc",[eP]:"fire-rc-compat",[tP]:"fire-gcs",[nP]:"fire-gcs-compat",[iP]:"fire-fst",[rP]:"fire-fst-compat",[sP]:"fire-vertex","fire-js":"fire-js",[aP]:"fire-js-all"};const Md=new Map,uP=new Map,$g=new Map;function ax(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if($g.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,t);for(const n of Md.values())ax(n,t);for(const n of uP.values())ax(n,t);return!0}function ay(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pi(t){return t==null?!1:t.settings!==void 0}const cP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new rc("app","Firebase",cP);class hP{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const rl=oP;function KS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Gg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Er.create("bad-app-name",{appName:String(a)});if(n||(n=zS()),!n)throw Er.create("no-options");const l=Md.get(a);if(l){if(Sa(n,l.options)&&Sa(s,l.config))return l;throw Er.create("duplicate-app",{appName:a})}const c=new yO(a);for(const m of $g.values())c.addComponent(m);const f=new hP(n,s,c);return Md.set(a,f),f}function YS(t=Gg){const e=Md.get(t);if(!e&&t===Gg&&zS())return KS();if(!e)throw Er.create("no-app",{appName:t});return e}function wr(t,e,n){let s=lP[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(c.join(" "));return}qo(new Aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const dP="firebase-heartbeat-database",fP=1,Hu="firebase-heartbeat-store";let ig=null;function QS(){return ig||(ig=IO(dP,fP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),ig}async function mP(t){try{const n=(await QS()).transaction(Hu),s=await n.objectStore(Hu).get(XS(t));return await n.done,s}catch(e){if(e instanceof Vs)Ns.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(n.message)}}}async function ox(t,e){try{const s=(await QS()).transaction(Hu,"readwrite");await s.objectStore(Hu).put(e,XS(t)),await s.done}catch(n){if(n instanceof Vs)Ns.warn(n.message);else{const s=Er.create("idb-set",{originalErrorMessage:n?.message});Ns.warn(s.message)}}}function XS(t){return`${t.name}!${t.options.appId}`}const pP=1024,gP=30;class yP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _P(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>gP){const a=bP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lx(),{heartbeatsToSend:n,unsentEntries:s}=vP(this._heartbeatsCache.heartbeats),a=kd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ns.warn(e),""}}}function lx(){return new Date().toISOString().substring(0,10)}function vP(t,e=pP){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),ux(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ux(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _P{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rO()?aO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ox(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ox(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ux(t){return kd(JSON.stringify({version:2,heartbeats:t})).length}function bP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function TP(t){qo(new Aa("platform-logger",e=>new MO(e),"PRIVATE")),qo(new Aa("heartbeat",e=>new yP(e),"PRIVATE")),wr(qg,rx,t),wr(qg,rx,"esm2020"),wr("fire-js","")}TP("");function WS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xP=WS,JS=new rc("auth","Firebase",WS());const Vd=new sy("@firebase/auth");function EP(t,...e){Vd.logLevel<=Le.WARN&&Vd.warn(`Auth (${rl}): ${t}`,...e)}function dd(t,...e){Vd.logLevel<=Le.ERROR&&Vd.error(`Auth (${rl}): ${t}`,...e)}function es(t,...e){throw ly(t,...e)}function _i(t,...e){return ly(t,...e)}function oy(t,e,n){const s={...xP(),[e]:n};return new rc("auth","Firebase",s).create(e,{appName:t.name})}function xa(t){return oy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wP(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&es(t,"argument-error"),oy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ly(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return JS.create(t,...e)}function xe(t,e,...n){if(!t)throw ly(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dd(e),new Error(e)}function Is(t,e){t||Es(e)}function Kg(){return typeof self<"u"&&self.location?.href||""}function SP(){return cx()==="http:"||cx()==="https:"}function cx(){return typeof self<"u"&&self.location?.protocol||null}function AP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SP()||tO()||"connection"in navigator)?navigator.onLine:!0}function CP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Is(n>e,"Short delay should be less than long delay!"),this.isMobile=JV()||nO()}get(){return AP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function uy(t,e){Is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ZS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IP=new oc(3e4,6e4);function cy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function al(t,e,n,s,a={}){return eA(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=ac({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return eO()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&sl(t.emulatorConfig.host)&&(p.credentials="include"),ZS.fetch()(await tA(t,t.config.apiHost,n,f),p)})}async function eA(t,e,n){t._canInitEmulator=!1;const s={...RP,...e};try{const a=new kP(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Xh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Xh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Xh(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw oy(t,y,p);es(t,y)}}catch(a){if(a instanceof Vs)throw a;es(t,"network-request-failed",{message:String(a)})}}async function DP(t,e,n,s,a={}){const l=await al(t,e,n,s,a);return"mfaPendingCredential"in l&&es(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function tA(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?uy(t.config,a):`${t.config.apiScheme}://${a}`;return NP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class kP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(_i(this.auth,"network-request-failed")),IP.get())})}}function Xh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=_i(t,e,s);return a.customData._tokenResponse=n,a}async function MP(t,e){return al(t,"POST","/v1/accounts:delete",e)}async function Od(t,e){return al(t,"POST","/v1/accounts:lookup",e)}function ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VP(t,e=!1){const n=gn(t),s=await n.getIdToken(e),a=hy(s);xe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:ku(sg(a.auth_time)),issuedAtTime:ku(sg(a.iat)),expirationTime:ku(sg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function sg(t){return Number(t)*1e3}function hy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return dd("JWT malformed, contained fewer than 3 sections"),null;try{const a=US(n);return a?JSON.parse(a):(dd("Failed to decode base64 JWT payload"),null)}catch(a){return dd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function hx(t){const e=hy(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vs&&OP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function OP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class PP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pd(t){const e=t.auth,n=await t.getIdToken(),s=await qu(t,Od(e,{idToken:n}));xe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?nA(a.providerUserInfo):[],c=LP(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Yg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function jP(t){const e=gn(t);await Pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LP(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function nA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function UP(t,e){const n=await eA(t,{},async()=>{const s=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await tA(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&sl(t.emulatorConfig.host)&&(m.credentials="include"),ZS.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BP(t,e){return al(t,"POST","/v2/accounts:revokeToken",cy(t,e))}class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=hx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await UP(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Lo;return s&&(xe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(xe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Es("not implemented")}}function pr(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new PP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await qu(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VP(this,e)}reload(){return jP(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Pd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(xa(this.auth));const e=await this.getIdToken();return await qu(this,MP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:x,isAnonymous:A,providerData:k,stsTokenManager:P}=n;xe(_&&P,e,"internal-error");const j=Lo.fromJSON(this.name,P);xe(typeof _=="string",e,"internal-error"),pr(s,e.name),pr(a,e.name),xe(typeof x=="boolean",e,"internal-error"),xe(typeof A=="boolean",e,"internal-error"),pr(l,e.name),pr(c,e.name),pr(f,e.name),pr(m,e.name),pr(p,e.name),pr(y,e.name);const z=new gi({uid:_,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:j,createdAt:p,lastLoginAt:y});return k&&Array.isArray(k)&&(z.providerData=k.map(H=>({...H}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,s=!1){const a=new Lo;a.updateFromServerResponse(n);const l=new gi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Pd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];xe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?nA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Lo;f.updateFromIdToken(s);const m=new gi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Yg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const dx=new Map;function ws(t){Is(t instanceof Function,"Expected a class definition");let e=dx.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dx.set(t,e),e)}class iA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iA.type="NONE";const fx=iA;function fd(t,e,n){return`firebase:${t}:${e}:${n}`}class Uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=fd(this.userKey,a.apiKey,l),this.fullPersistenceKey=fd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Od(this.auth,{idToken:e}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Uo(ws(fx),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ws(fx);const c=fd(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const x=await Od(e,{idToken:y}).catch(()=>{});if(!x)break;_=await gi._fromGetAccountInfoResponse(e,x,y)}else _=gi._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Uo(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Uo(l,e,s))}}function mx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uA(e))return"Blackberry";if(cA(e))return"Webos";if(rA(e))return"Safari";if((e.includes("chrome/")||aA(e))&&!e.includes("edge/"))return"Chrome";if(lA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function sA(t=cn()){return/firefox\//i.test(t)}function rA(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aA(t=cn()){return/crios\//i.test(t)}function oA(t=cn()){return/iemobile/i.test(t)}function lA(t=cn()){return/android/i.test(t)}function uA(t=cn()){return/blackberry/i.test(t)}function cA(t=cn()){return/webos/i.test(t)}function dy(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zP(t=cn()){return dy(t)&&!!window.navigator?.standalone}function FP(){return iO()&&document.documentMode===10}function hA(t=cn()){return dy(t)||lA(t)||cA(t)||uA(t)||/windows phone/i.test(t)||oA(t)}function dA(t,e=[]){let n;switch(t){case"Browser":n=mx(cn());break;case"Worker":n=`${mx(cn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${s}`}class HP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function qP(t,e={}){return al(t,"GET","/v2/passwordPolicy",cy(t,e))}const GP=6;class $P{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class KP{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new px(this),this.idTokenSubscription=new px(this),this.beforeStateQueue=new HP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Od(this,{idToken:e}),s=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(xa(this));const n=e?gn(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qP(this),n=new $P(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await BP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uf(t){return gn(t)}class px{constructor(e){this.auth=e,this.observer=null,this.addObserver=hO(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YP(t){fy=t}function QP(t){return fy.loadJS(t)}function XP(){return fy.gapiScript}function WP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function JP(t,e){const n=ay(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Sa(l,e??{}))return a;es(a,"already-initialized")}return n.initialize({options:e})}function ZP(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ws);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function e3(t,e,n){const s=uf(t);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=fA(e),{host:c,port:f}=t3(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(Sa(p,s.config.emulator)&&Sa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,sl(c)?(HS(`${l}//${c}${m}`),qS("Auth",!0)):n3()}function fA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t3(t){const e=fA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:gx(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:gx(c)}}}function gx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function n3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class mA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function Bo(t,e){return DP(t,"POST","/v1/accounts:signInWithIdp",cy(t,e))}const i3="http://localhost";class Ca extends mA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ca(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Bo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:i3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}class my{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends my{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yr extends lc{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class xs extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ca._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return xs.credential(n,s)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";class vr extends lc{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";class _r extends lc{constructor(){super("twitter.com")}static credential(e,n){return Ca._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return _r.credential(n,s)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await gi._fromIdTokenResponse(e,s,a),c=yx(s);return new Go({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=yx(s);return new Go({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function yx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class jd extends Vs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new jd(e,n,s,a)}}function pA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(t,l,e,s):l})}async function s3(t,e,n=!1){const s=await qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Go._forOperation(t,"link",s)}async function r3(t,e,n=!1){const{auth:s}=t;if(pi(s.app))return Promise.reject(xa(s));const a="reauthenticate";try{const l=await qu(t,pA(s,a,e,t),n);xe(l.idToken,s,"internal-error");const c=hy(l.idToken);xe(c,s,"internal-error");const{sub:f}=c;return xe(t.uid===f,s,"user-mismatch"),Go._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&es(s,"user-mismatch"),l}}async function a3(t,e,n=!1){if(pi(t.app))return Promise.reject(xa(t));const s="signIn",a=await pA(t,s,e),l=await Go._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function o3(t,e,n,s){return gn(t).onIdTokenChanged(e,n,s)}function l3(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}function u3(t,e,n,s){return gn(t).onAuthStateChanged(e,n,s)}function c3(t){return gn(t).signOut()}const Ld="__sak";class gA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const h3=1e3,d3=10;class yA extends gA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);FP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,d3):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},h3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yA.type="LOCAL";const f3=yA;class vA extends gA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vA.type="SESSION";const _A=vA;function m3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await m3(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];function py(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class p3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=py("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const x=_;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Yi(){return window}function g3(t){Yi().location.href=t}function bA(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function y3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v3(){return navigator?.serviceWorker?.controller||null}function _3(){return bA()?self:null}const TA="firebaseLocalStorageDb",b3=1,Ud="firebaseLocalStorage",xA="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(t,e){return t.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function T3(){const t=indexedDB.deleteDatabase(TA);return new uc(t).toPromise()}function Qg(){const t=indexedDB.open(TA,b3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ud,{keyPath:xA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ud)?e(s):(s.close(),await T3(),e(await Qg()))})})}async function vx(t,e,n){const s=hf(t,!0).put({[xA]:e,value:n});return new uc(s).toPromise()}async function x3(t,e){const n=hf(t,!1).get(e),s=await new uc(n).toPromise();return s===void 0?null:s.value}function _x(t,e){const n=hf(t,!0).delete(e);return new uc(n).toPromise()}const E3=800,w3=3;class EA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>w3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(_3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await y3(),!this.activeServiceWorker)return;this.sender=new p3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qg();return await vx(e,Ld,"1"),await _x(e,Ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vx(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>x3(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_x(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=hf(a,!1).getAll();return new uc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EA.type="LOCAL";const S3=EA;new oc(3e4,6e4);function wA(t,e){return e?ws(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class gy extends mA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function A3(t){return a3(t.auth,new gy(t),t.bypassAuthState)}function C3(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),r3(n,new gy(t),t.bypassAuthState)}async function R3(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),s3(n,new gy(t),t.bypassAuthState)}class SA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A3;case"linkViaPopup":case"linkViaRedirect":return R3;case"reauthViaPopup":case"reauthViaRedirect":return C3;default:es(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const N3=new oc(2e3,1e4);async function I3(t,e,n){if(pi(t.app))return Promise.reject(_i(t,"operation-not-supported-in-this-environment"));const s=uf(t);wP(t,e,my);const a=wA(s,n);return new _a(s,"signInViaPopup",e,a).executeNotNull()}class _a extends SA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N3.get())};e()}}_a.currentPopupAction=null;const D3="pendingRedirect",md=new Map;class k3 extends SA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=md.get(this.auth._key());if(!e){try{const s=await M3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}md.set(this.auth._key(),e)}return this.bypassAuthState||md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M3(t,e){const n=P3(e),s=O3(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function V3(t,e){md.set(t._key(),e)}function O3(t){return ws(t._redirectPersistence)}function P3(t){return fd(D3,t.config.apiKey,t.name)}async function j3(t,e,n=!1){if(pi(t.app))return Promise.reject(xa(t));const s=uf(t),a=wA(s,e),c=await new k3(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const L3=600*1e3;class U3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!AA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(_i(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L3&&this.cachedEventUids.clear(),this.cachedEventUids.has(bx(e))}saveEventToCache(e){this.cachedEventUids.add(bx(e)),this.lastProcessedEventTime=Date.now()}}function bx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function B3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AA(t);default:return!1}}async function z3(t,e={}){return al(t,"GET","/v1/projects",e)}const F3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H3=/^https?/;async function q3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await z3(t);for(const n of e)try{if(G3(n))return}catch{}es(t,"unauthorized-domain")}function G3(t){const e=Kg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!H3.test(n))return!1;if(F3.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const $3=new oc(3e4,6e4);function Tx(){const t=Yi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K3(t){return new Promise((e,n)=>{function s(){Tx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tx(),n(_i(t,"network-request-failed"))},timeout:$3.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)s();else{const a=WP("iframefcb");return Yi()[a]=()=>{gapi.load?s():n(_i(t,"network-request-failed"))},QP(`${XP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw pd=null,e})}let pd=null;function Y3(t){return pd=pd||K3(t),pd}const Q3=new oc(5e3,15e3),X3="__/auth/iframe",W3="emulator/auth/iframe",J3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e5(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uy(e,W3):`https://${t.config.authDomain}/${X3}`,s={apiKey:e.apiKey,appName:t.name,v:rl},a=Z3.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ac(s).slice(1)}`}async function t5(t){const e=await Y3(t),n=Yi().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:e5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J3,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=_i(t,"network-request-failed"),f=Yi().setTimeout(()=>{l(c)},Q3.get());function m(){Yi().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const n5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i5=500,s5=600,r5="_blank",a5="http://localhost";class xx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o5(t,e,n,s=i5,a=s5){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...n5,width:s.toString(),height:a.toString(),top:l,left:c},p=cn().toLowerCase();n&&(f=aA(p)?r5:n),sA(p)&&(e=e||a5,m.scrollbars="yes");const y=Object.entries(m).reduce((x,[A,k])=>`${x}${A}=${k},`,"");if(zP(p)&&f!=="_self")return l5(e||"",f),new xx(null);const _=window.open(e||"",f,y);xe(_,t,"popup-blocked");try{_.focus()}catch{}return new xx(_)}function l5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const u5="__/auth/handler",c5="emulator/auth/handler",h5=encodeURIComponent("fac");async function Ex(t,e,n,s,a,l){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:rl,eventId:a};if(e instanceof my){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",cO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof lc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${h5}=${encodeURIComponent(m)}`:"";return`${d5(t)}?${ac(f).slice(1)}${p}`}function d5({config:t}){return t.emulator?uy(t,c5):`https://${t.authDomain}/${u5}`}const rg="webStorageSupport";class f5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_A,this._completeRedirectFn=j3,this._overrideRedirectResult=V3}async _openPopup(e,n,s,a){Is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Ex(e,n,s,Kg(),a);return o5(e,l,py())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Ex(e,n,s,Kg(),a);return g3(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Is(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await t5(e),s=new U3(e);return n.register("authEvent",a=>(xe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rg,{type:rg},a=>{const l=a?.[0]?.[rg];l!==void 0&&n(!!l),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=q3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hA()||rA()||dy()}}const m5=f5;var wx="@firebase/auth",Sx="1.12.0";class p5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function g5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y5(t){qo(new Aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dA(t)},p=new KP(s,a,l,m);return ZP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),qo(new Aa("auth-internal",e=>{const n=uf(e.getProvider("auth").getImmediate());return(s=>new p5(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(wx,Sx,g5(t)),wr(wx,Sx,"esm2020")}const v5=300,_5=FS("authIdTokenMaxAge")||v5;let Ax=null;const b5=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_5)return;const a=n?.token;Ax!==a&&(Ax=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function T5(t=YS()){const e=ay(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JP(t,{popupRedirectResolver:m5,persistence:[S3,f3,_A]}),s=FS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=b5(l.toString());l3(n,c,()=>c(n.currentUser)),o3(n,f=>c(f))}}const a=BS("auth");return a&&e3(n,`http://${a}`),n}function x5(){return document.getElementsByTagName("head")?.[0]??document}YP({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=_i("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",x5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y5("Browser");var E5="firebase",w5="12.9.0";wr(E5,w5,"app");var Cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,CA;(function(){var t;function e(N,S){function R(){}R.prototype=S.prototype,N.F=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(M,V,B){for(var D=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)D[qe-2]=arguments[qe];return S.prototype[V].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)M[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;V<16;++V)M[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],V=N.g[2];let B=N.g[3],D;D=S+(B^R&(V^B))+M[0]+3614090360&4294967295,S=R+(D<<7&4294967295|D>>>25),D=B+(V^S&(R^V))+M[1]+3905402710&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(R^B&(S^R))+M[2]+606105819&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(S^V&(B^S))+M[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(B^R&(V^B))+M[4]+4118548399&4294967295,S=R+(D<<7&4294967295|D>>>25),D=B+(V^S&(R^V))+M[5]+1200080426&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(R^B&(S^R))+M[6]+2821735955&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(S^V&(B^S))+M[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(B^R&(V^B))+M[8]+1770035416&4294967295,S=R+(D<<7&4294967295|D>>>25),D=B+(V^S&(R^V))+M[9]+2336552879&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(R^B&(S^R))+M[10]+4294925233&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(S^V&(B^S))+M[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(B^R&(V^B))+M[12]+1804603682&4294967295,S=R+(D<<7&4294967295|D>>>25),D=B+(V^S&(R^V))+M[13]+4254626195&4294967295,B=S+(D<<12&4294967295|D>>>20),D=V+(R^B&(S^R))+M[14]+2792965006&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(S^V&(B^S))+M[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(V^B&(R^V))+M[1]+4129170786&4294967295,S=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(S^R))+M[6]+3225465664&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(B^S))+M[11]+643717713&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^S&(V^B))+M[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(V^B&(R^V))+M[5]+3593408605&4294967295,S=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(S^R))+M[10]+38016083&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(B^S))+M[15]+3634488961&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^S&(V^B))+M[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(V^B&(R^V))+M[9]+568446438&4294967295,S=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(S^R))+M[14]+3275163606&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(B^S))+M[3]+4107603335&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^S&(V^B))+M[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(V^B&(R^V))+M[13]+2850285829&4294967295,S=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(S^R))+M[2]+4243563512&4294967295,B=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(B^S))+M[7]+1735328473&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^S&(V^B))+M[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(R^V^B)+M[5]+4294588738&4294967295,S=R+(D<<4&4294967295|D>>>28),D=B+(S^R^V)+M[8]+2272392833&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^R)+M[11]+1839030562&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^S)+M[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(R^V^B)+M[1]+2763975236&4294967295,S=R+(D<<4&4294967295|D>>>28),D=B+(S^R^V)+M[4]+1272893353&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^R)+M[7]+4139469664&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^S)+M[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(R^V^B)+M[13]+681279174&4294967295,S=R+(D<<4&4294967295|D>>>28),D=B+(S^R^V)+M[0]+3936430074&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^R)+M[3]+3572445317&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^S)+M[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(R^V^B)+M[9]+3654602809&4294967295,S=R+(D<<4&4294967295|D>>>28),D=B+(S^R^V)+M[12]+3873151461&4294967295,B=S+(D<<11&4294967295|D>>>21),D=V+(B^S^R)+M[15]+530742520&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^S)+M[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(V^(R|~B))+M[0]+4096336452&4294967295,S=R+(D<<6&4294967295|D>>>26),D=B+(R^(S|~V))+M[7]+1126891415&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~R))+M[14]+2878612391&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~S))+M[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=S+(V^(R|~B))+M[12]+1700485571&4294967295,S=R+(D<<6&4294967295|D>>>26),D=B+(R^(S|~V))+M[3]+2399980690&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~R))+M[10]+4293915773&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~S))+M[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=S+(V^(R|~B))+M[8]+1873313359&4294967295,S=R+(D<<6&4294967295|D>>>26),D=B+(R^(S|~V))+M[15]+4264355552&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~R))+M[6]+2734768916&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~S))+M[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=S+(V^(R|~B))+M[4]+4149444226&4294967295,S=R+(D<<6&4294967295|D>>>26),D=B+(R^(S|~V))+M[11]+3174756917&4294967295,B=S+(D<<10&4294967295|D>>>22),D=V+(S^(B|~R))+M[2]+718787259&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~S))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const R=S-this.blockSize,M=this.C;let V=this.h,B=0;for(;B<S;){if(V==0)for(;B<=R;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<S;)if(M[V++]=N.charCodeAt(B++),V==this.blockSize){a(this,M),V=0;break}}else for(;B<S;)if(M[V++]=N[B++],V==this.blockSize){a(this,M),V=0;break}}this.h=V,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)N[S++]=this.g[R]>>>M&255;return N};function l(N,S){var R=f;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function c(N,S){this.h=S;const R=[];let M=!0;for(let V=N.length-1;V>=0;V--){const B=N[V]|0;M&&B==S||(R[V]=B,M=!1)}this.g=R}var f={};function m(N){return-128<=N&&N<128?l(N,function(S){return new c([S|0],S<0?-1:0)}):new c([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return j(p(-N));const S=[];let R=1;for(let M=0;N>=R;M++)S[M]=N/R|0,R*=4294967296;return new c(S,0)}function y(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return j(y(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(S,8));let M=_;for(let B=0;B<N.length;B+=8){var V=Math.min(8,N.length-B);const D=parseInt(N.substring(B,B+V),S);V<8?(V=p(Math.pow(S,V)),M=M.j(V).add(p(D))):(M=M.j(R),M=M.add(p(D)))}return M}var _=m(0),x=m(1),A=m(16777216);t=c.prototype,t.m=function(){if(P(this))return-j(this).m();let N=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);N+=(M>=0?M:4294967296+M)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(P(this))return"-"+j(this).toString(N);const S=p(Math.pow(N,6));var R=this;let M="";for(;;){const V=oe(R,S).g;R=z(R,V.j(S));let B=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=V,k(R))return B+M;for(;B.length<6;)B="0"+B;M=B+M}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function P(N){return N.h==-1}t.l=function(N){return N=z(this,N),P(N)?-1:k(N)?0:1};function j(N){const S=N.g.length,R=[];for(let M=0;M<S;M++)R[M]=~N.g[M];return new c(R,~N.h).add(x)}t.abs=function(){return P(this)?j(this):this},t.add=function(N){const S=Math.max(this.g.length,N.g.length),R=[];let M=0;for(let V=0;V<=S;V++){let B=M+(this.i(V)&65535)+(N.i(V)&65535),D=(B>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);M=D>>>16,B&=65535,D&=65535,R[V]=D<<16|B}return new c(R,R[R.length-1]&-2147483648?-1:0)};function z(N,S){return N.add(j(S))}t.j=function(N){if(k(this)||k(N))return _;if(P(this))return P(N)?j(this).j(j(N)):j(j(this).j(N));if(P(N))return j(this.j(j(N)));if(this.l(A)<0&&N.l(A)<0)return p(this.m()*N.m());const S=this.g.length+N.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<N.g.length;V++){const B=this.i(M)>>>16,D=this.i(M)&65535,qe=N.i(V)>>>16,Ze=N.i(V)&65535;R[2*M+2*V]+=D*Ze,H(R,2*M+2*V),R[2*M+2*V+1]+=B*Ze,H(R,2*M+2*V+1),R[2*M+2*V+1]+=D*qe,H(R,2*M+2*V+1),R[2*M+2*V+2]+=B*qe,H(R,2*M+2*V+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new c(R,0)};function H(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function K(N,S){this.g=N,this.h=S}function oe(N,S){if(k(S))throw Error("division by zero");if(k(N))return new K(_,_);if(P(N))return S=oe(j(N),S),new K(j(S.g),j(S.h));if(P(S))return S=oe(N,j(S)),new K(j(S.g),S.h);if(N.g.length>30){if(P(N)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=S;M.l(N)<=0;)R=Q(R),M=Q(M);var V=te(R,1),B=te(M,1);for(M=te(M,2),R=te(R,2);!k(M);){var D=B.add(M);D.l(N)<=0&&(V=V.add(R),B=D),M=te(M,1),R=te(R,1)}return S=z(N,V.j(S)),new K(V,S)}for(V=_;N.l(S)>=0;){for(R=Math.max(1,Math.floor(N.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),B=p(R),D=B.j(S);P(D)||D.l(N)>0;)R-=M,B=p(R),D=B.j(S);k(B)&&(B=x),V=V.add(B),N=z(N,D)}return new K(V,N)}t.B=function(N){return oe(this,N).h},t.and=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&N.i(M);return new c(R,this.h&N.h)},t.or=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|N.i(M);return new c(R,this.h|N.h)},t.xor=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^N.i(M);return new c(R,this.h^N.h)};function Q(N){const S=N.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new c(R,N.h)}function te(N,S){const R=S>>5;S%=32;const M=N.g.length-R,V=[];for(let B=0;B<M;B++)V[B]=S>0?N.i(B+R)>>>S|N.i(B+R+1)<<32-S:N.i(B+R);return new c(V,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,CA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Sr=c}).apply(typeof Cx<"u"?Cx:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RA,Eu,NA,gd,Xg,IA,DA,kA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var E=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var q=h[C];if(!(q in E))break e;E=E[q]}h=h[h.length-1],C=E[h],v=v(C),v!=C&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],C;for(C in v)Object.prototype.hasOwnProperty.call(v,C)&&E.push([C,v[C]]);return E}});var l=l||{},c=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function p(h,v,E){return p=m,p.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(C,q,X){for(var ue=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ue[Ie-2]=arguments[Ie];return v.prototype[q].apply(C,ue)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const v=h.length;if(v>0){const E=Array(v);for(let C=0;C<v;C++)E[C]=h[C];return E}return[]}function k(h,v){for(let C=1;C<arguments.length;C++){const q=arguments[C];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const X=q.length||0;h.length=E+X;for(let ue=0;ue<X;ue++)h[E+ue]=q[ue]}else h.push(q)}}class P{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function j(h){c.setTimeout(()=>{throw h},0)}function z(){var h=N;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class H{constructor(){this.h=this.g=null}add(v,E){const C=K.get();C.set(v,E),this.h?this.h.next=C:this.g=C,this.h=C}}var K=new P(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,te=!1,N=new H,S=()=>{const h=Promise.resolve(void 0);Q=()=>{h.then(R)}};function R(){for(var h;h=z();){try{h.h.call(h.g)}catch(E){j(E)}var v=K;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}te=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function qe(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(qe,V),qe.prototype.init=function(h,v){const E=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),J=0;function le(h,v,E,C,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!C,this.ha=q,this.key=++J,this.da=this.fa=!1}function ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function me(h,v,E){for(const C in h)v.call(E,h[C],C,h)}function Se(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function L(h){const v={};for(const E in h)v[E]=h[E];return v}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,v){let E,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(E in C)h[E]=C[E];for(let X=0;X<ne.length;X++)E=ne[X],Object.prototype.hasOwnProperty.call(C,E)&&(h[E]=C[E])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,v,E,C,q){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=ke(h,v,C,q);return ue>-1?(v=h[ue],E||(v.fa=!1)):(v=new le(v,this.src,X,!!C,q),v.fa=E,h.push(v)),v};function Ee(h,v){const E=v.type;if(E in h.g){var C=h.g[E],q=Array.prototype.indexOf.call(C,v,void 0),X;(X=q>=0)&&Array.prototype.splice.call(C,q,1),X&&(ae(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ke(h,v,E,C){for(let q=0;q<h.length;++q){const X=h[q];if(!X.da&&X.listener==v&&X.capture==!!E&&X.ha==C)return q}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Lt={};function ct(h,v,E,C,q){if(Array.isArray(v)){for(let X=0;X<v.length;X++)ct(h,v[X],E,C,q);return null}return E=pl(E),h&&h[Ze]?h.J(v,E,f(C)?!!C.capture:!1,q):jr(h,v,E,!1,C,q)}function jr(h,v,E,C,q,X){if(!v)throw Error("Invalid event type");const ue=f(q)?!!q.capture:!!q;let Ie=Lr(h);if(Ie||(h[Fe]=Ie=new he(h)),E=Ie.add(v,E,C,ue,X),E.proxy)return E;if(C=Oa(),E.proxy=C,C.src=h,C.listener=E,h.addEventListener)B||(q=ue),q===void 0&&(q=!1),h.addEventListener(v.toString(),C,q);else if(h.attachEvent)h.attachEvent(Ei(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Oa(){function h(E){return v.call(h.src,h.listener,E)}const v=fl;return h}function Pa(h,v,E,C,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)Pa(h,v[X],E,C,q);else C=f(C)?!!C.capture:!!C,E=pl(E),h&&h[Ze]?(h=h.i,X=String(v).toString(),X in h.g&&(v=h.g[X],E=ke(v,E,C,q),E>-1&&(ae(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[X],h.h--)))):h&&(h=Lr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ke(v,E,C,q)),(E=h>-1?v[h]:null)&&ja(E))}function ja(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ze])Ee(v.i,h);else{var E=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(E,C,h.capture):v.detachEvent?v.detachEvent(Ei(E),C):v.addListener&&v.removeListener&&v.removeListener(C),(E=Lr(v))?(Ee(E,h),E.h==0&&(E.src=null,v[Fe]=null)):ae(h)}}}function Ei(h){return h in Lt?Lt[h]:Lt[h]="on"+h}function fl(h,v){if(h.da)h=!0;else{v=new qe(v,this);const E=h.listener,C=h.ha||h.src;h.fa&&ja(h),h=E.call(C,v)}return h}function Lr(h){return h=h[Fe],h instanceof he?h:null}var ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function pl(h){return typeof h=="function"?h:(h[ml]||(h[ml]=function(v){return h.handleEvent(v)}),h[ml])}function wt(){M.call(this),this.i=new he(this),this.M=this,this.G=null}_(wt,M),wt.prototype[Ze]=!0,wt.prototype.removeEventListener=function(h,v,E,C){Pa(this,h,v,E,C)};function Ut(h,v){var E,C=h.G;if(C)for(E=[];C;C=C.G)E.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var q=v;v=new V(C,h),ce(v,q)}q=!0;let X,ue;if(E)for(ue=E.length-1;ue>=0;ue--)X=v.g=E[ue],q=Ps(X,C,!0,v)&&q;if(X=v.g=h,q=Ps(X,C,!0,v)&&q,q=Ps(X,C,!1,v)&&q,E)for(ue=0;ue<E.length;ue++)X=v.g=E[ue],q=Ps(X,C,!1,v)&&q}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let C=0;C<E.length;C++)ae(E[C]);delete h.g[v],h.h--}}this.G=null},wt.prototype.J=function(h,v,E,C){return this.i.add(String(h),v,!1,E,C)},wt.prototype.K=function(h,v,E,C){return this.i.add(String(h),v,!0,E,C)};function Ps(h,v,E,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let X=0;X<v.length;++X){const ue=v[X];if(ue&&!ue.da&&ue.capture==E){const Ie=ue.listener,bt=ue.ha||ue.src;ue.fa&&Ee(h.i,ue),q=Ie.call(bt,C)!==!1&&q}}return q&&!C.defaultPrevented}function Nf(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function gc(h){h.g=Nf(()=>{h.g=null,h.i&&(h.i=!1,gc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class hn extends M{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:gc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(h){M.call(this),this.h=h,this.g={}}_(Ur,M);var gl=[];function yl(h){me(h.g,function(v,E){this.g.hasOwnProperty(E)&&ja(v)},h),h.g={}}Ur.prototype.N=function(){Ur.Z.N.call(this),yl(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=c.JSON.stringify,If=c.JSON.parse,yc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function vc(){}function _c(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){V.call(this,"d")}_(Kt,V);function On(){V.call(this,"c")}_(On,V);var _t={},bc=null;function La(){return bc=bc||new wt}_t.Ia="serverreachability";function Tc(h){V.call(this,_t.Ia,h)}_(Tc,V);function wi(h){const v=La();Ut(v,new Tc(v))}_t.STAT_EVENT="statevent";function Br(h,v){V.call(this,_t.STAT_EVENT,h),this.stat=v}_(Br,V);function St(h){const v=La();Ut(v,new Br(v,h))}_t.Ja="timingevent";function Si(h,v){V.call(this,_t.Ja,h),this.size=v}_(Si,V);function Ai(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function Df(h,v,E,C,q,X){h.info(function(){if(h.g)if(X){var ue="",Ie=X.split("&");for(let Ke=0;Ke<Ie.length;Ke++){var bt=Ie[Ke].split("=");if(bt.length>1){const ht=bt[0];bt=bt[1];const Un=ht.split("_");ue=Un.length>=2&&Un[1]=="type"?ue+(ht+"="+bt+"&"):ue+(ht+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+v+`
`+E+`
`+ue})}function xc(h,v,E,C,q,X,ue){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+v+`
`+E+`
`+X+" "+ue})}function Ci(h,v,E,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+kf(h,E)+(C?" "+C:"")})}function zr(h,v){h.info(function(){return"TIMEOUT: "+v})}ni.prototype.info=function(){};function kf(h,v){if(!h.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var q=C[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return js(X)}catch{return v}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function Hr(){}_(Hr,vc),Hr.prototype.g=function(){return new XMLHttpRequest},_l=new Hr;function ns(h){return encodeURIComponent(String(h))}function Ec(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ii(h,v,E,C){this.j=h,this.i=v,this.l=E,this.S=C||1,this.V=new Ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var At={},Ht={};function Ri(h,v,E){h.M=1,h.A=qr(Rt(v)),h.u=E,h.R=!0,Ua(h,null)}function Ua(h,v){h.F=Date.now(),Ni(h),h.B=Rt(h.A);var E=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Ha(E.i,"t",C),h.C=0,E=h.j.L,h.h=new si,h.g=Lc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new hn(p(h.Y,h,h.g),h.P)),v=h.V,E=h.g,C=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(gl[0]=q.toString()),q=gl);for(let X=0;X<q.length;X++){const ue=ct(E,q[X],C||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),wi(),Df(h.i,h.v,h.B,h.l,h.S,h.u)}ii.prototype.ba=function(h){h=h.target;const v=this.O;v&&oi(h)==3?v.j():this.Y(h)},ii.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=oi(this.g),bt=this.g.ya(),Ke=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||Ie!=4||bt==7||(bt==8||Ke<=0?wi(3):wi(2)),Ii(this);var v=this.g.ca();this.X=v;var E=Mf(this);if(this.o=v==200,xc(this.i,this.v,this.B,this.l,this.S,Ie,v),this.o){if(this.U&&!this.L){t:{if(this.g){var C,q=this.g;if((C=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(C)){var X=C;break t}}X=null}if(h=X)Ci(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,h);else{this.o=!1,this.m=3,St(12),Sn(this),Pn(this);break e}}if(this.R){h=!0;let ht;for(;!this.K&&this.C<E.length;)if(ht=Sc(this,E),ht==Ht){Ie==4&&(this.m=4,St(14),h=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==At){this.m=4,St(15),Ci(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ci(this.i,this.l,ht,null),Di(this,ht);if(wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,St(16),h=!1),this.o=this.o&&h,!h)Ci(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),Pn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Vl(ue),ue.P=!0,St(11))}}else Ci(this.i,this.l,E,null),Di(this,E);Ie==4&&Sn(this),this.o&&!this.K&&(Ie==4?Vc(this.j,this):(this.o=!1,Ni(this)))}else ss(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Sn(this),Pn(this)}}}catch{}};function Mf(h){if(!wc(h))return h.g.la();const v=Yt(h.g);if(v==="")return"";let E="";const C=v.length,q=oi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),Pn(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<C;X++)h.h.h=!0,E+=h.h.i.decode(v[X],{stream:!(q&&X==C-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function wc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Sc(h,v){var E=h.C,C=v.indexOf(`
`,E);return C==-1?Ht:(E=Number(v.substring(E,C)),isNaN(E)?At:(C+=1,C+E>v.length?Ht:(v=v.slice(C,C+E),h.C=C+E,v)))}ii.prototype.cancel=function(){this.K=!0,Sn(this)};function Ni(h){h.T=Date.now()+h.H,Ba(h,h.H)}function Ba(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ai(p(h.aa,h),v)}function Ii(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ii.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zr(this.i,this.B),this.M!=2&&(wi(),St(17)),Sn(this),this.m=2,Pn(this)):Ba(this,this.T-h)};function Pn(h){h.j.I==0||h.K||Vc(h.j,h)}function Sn(h){Ii(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,yl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Di(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Mi(E.h,h))){if(!h.L&&Mi(E.h,h)&&E.I==3){try{var C=E.Ba.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ya(E),Gs(E);else break e;Wr(E),St(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ai(p(E.Va,E),6e3));ki(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ui(E,11)}else if((h.L||E.g==h)&&Ya(E),!D(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Ke=q[v];const ht=Ke[0];if(!(ht<=E.K))if(E.K=ht,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const Un=Ke[3];Un!=null&&(E.ka=Un,E.j.info("VER="+E.ka));const Bi=Ke[4];Bi!=null&&(E.za=Bi,E.j.info("SVER="+E.za));const li=Ke[5];li!=null&&typeof li=="number"&&li>0&&(C=1.5*li,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const ui=h.g;if(ui){const Jr=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var X=C.h;X.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(xl(X,X.h),X.h=null))}if(C.G){const Qa=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(C.wa=Qa,Xe(C.J,C.G,Qa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var ue=h;if(C.na=jc(C,C.L?C.ba:null,C.W),ue.L){El(C.h,ue);var Ie=ue,bt=C.O;bt&&(Ie.H=bt),Ie.D&&(Ii(Ie),Ni(Ie)),C.g=ue}else kc(C);E.i.length>0&&Li(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Ui(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ui(E,7):kl(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}wi(4)}catch{}}var Ct=class{constructor(h,v){this.g=h,this.map=v}};function bl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ki(h){return h.h?1:h.g?h.g.size:0}function Mi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function xl(h,v){h.g?h.g.add(v):h.h=v}function El(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}bl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return A(h.i)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const C=h[E].indexOf("=");let q,X=null;C>=0?(q=h[E].substring(0,C),X=h[E].substring(C+1)):q=h[E],v(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,qt(this,h.j),this.o=h.o,this.g=h.g,Ls(this,h.u),this.h=h.h,Sl(this,Ic(h.i)),this.m=h.m):h&&(v=String(h).match(Ac))?(this.l=!1,qt(this,v[1]||"",!0),this.o=Vi(v[2]||""),this.g=Vi(v[3]||"",!0),Ls(this,v[4]),this.h=Vi(v[5]||"",!0),Sl(this,v[6]||"",!0),this.m=Vi(v[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Gr(v,Fa,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Gr(v,Fa,!0),"@"),h.push(ns(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Gr(E,E.charAt(0)=="/"?Al:Cc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Gr(E,Rc)),h.join("")},An.prototype.resolve=function(h){const v=Rt(this);let E=!!h.j;E?qt(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var C=h.h;if(E)Ls(v,h.u);else if(E=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var q=v.h.lastIndexOf("/");q!=-1&&(C=v.h.slice(0,q+1)+C)}if(q=C,q==".."||q==".")C="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){C=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let ue=0;ue<q.length;){const Ie=q[ue++];Ie=="."?C&&ue==q.length&&X.push(""):Ie==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),C&&ue==q.length&&X.push("")):(X.push(Ie),C=!0)}C=X.join("/")}else C=q}return E?v.h=C:E=h.i.toString()!=="",E?Sl(v,Ic(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Rt(h){return new An(h)}function qt(h,v,E){h.j=E?Vi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ls(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Sl(h,v,E){v instanceof Bs?(h.i=v,qa(h.i,h.l)):(E||(v=Gr(v,Us)),h.i=new Bs(v,h.l))}function Xe(h,v,E){h.i.set(v,E)}function qr(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Vi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Gr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,yn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fa=/[#\/\?@]/g,Cc=/[#\?:]/g,Al=/[#\?]/g,Us=/[#\?@]/g,Rc=/#/g;function Bs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function vn(h){h.g||(h.g=new Map,h.h=0,h.i&&za(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Bs.prototype,t.add=function(h,v){vn(this),this.i=null,h=zs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Nc(h,v){vn(h),v=zs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Cl(h,v){return vn(h),v=zs(h,v),h.g.has(v)}t.forEach=function(h,v){vn(this),this.g.forEach(function(E,C){E.forEach(function(q){h.call(v,q,C,this)},this)},this)};function Rl(h,v){vn(h);let E=[];if(typeof v=="string")Cl(h,v)&&(E=E.concat(h.g.get(zs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}t.set=function(h,v){return vn(this),this.i=null,h=zs(this,h),Cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=Rl(this,h),h.length>0?String(h[0]):v):v};function Ha(h,v,E){Nc(h,v),E.length>0&&(h.i=null,h.g.set(zs(h,v),A(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let C=0;C<v.length;C++){var E=v[C];const q=ns(E);E=Rl(this,E);for(let X=0;X<E.length;X++){let ue=q;E[X]!==""&&(ue+="="+ns(E[X])),h.push(ue)}}return this.i=h.join("&")};function Ic(h){const v=new Bs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function zs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function qa(h,v){v&&!h.j&&(vn(h),h.i=null,h.g.forEach(function(E,C){const q=C.toLowerCase();C!=q&&(Nc(this,C),Ha(this,q,E))},h)),h.j=v}function ri(h,v){const E=new ni;if(c.Image){const C=new Image;C.onload=y(jn,E,"TestLoadImage: loaded",!0,v,C),C.onerror=y(jn,E,"TestLoadImage: error",!1,v,C),C.onabort=y(jn,E,"TestLoadImage: abort",!1,v,C),C.ontimeout=y(jn,E,"TestLoadImage: timeout",!1,v,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function Nl(h,v){const E=new ni,C=new AbortController,q=setTimeout(()=>{C.abort(),jn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(X=>{clearTimeout(q),X.ok?jn(E,"TestPingServer: ok",!0,v):jn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),jn(E,"TestPingServer: error",!1,v)})}function jn(h,v,E,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(E)}catch{}}function Fs(){this.g=new yc}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Oi,vc),Oi.prototype.g=function(){return new $r(this.i,this.h)};function $r(h,v){wt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_($r,wt),t=$r.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ai(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Hs(this):ai(this),this.readyState==3&&Ga(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Hs(this))},t.Na=function(h){this.g&&(this.response=h,Hs(this))},t.ga=function(){this.g&&Hs(this)};function Hs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ai(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ln(h){let v="";return me(h,function(E,C){v+=C,v+=":",v+=E,v+=`\r
`}),v}function Kr(h,v,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=Ln(E),typeof h=="string"?E!=null&&ns(E):Xe(h,v,E))}function et(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(et,wt);var Pi=/^https?$/i,Il=["POST","PUT"];t=et.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){Yr(this,X);return}if(h=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)E.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())E.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Il,v,void 0)>=0)||C||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of E)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Yr(this,X)}};function Yr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Dl(h),is(h)}function Dl(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),is(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},t.Xa=function(){Qr(this)};function Qr(h){if(h.h&&typeof l<"u"){if(h.v&&oi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),oi(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var C;if(C=X===0){let ue=String(h.D).match(Ac)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),C=!Pi.test(ue?ue.toLowerCase():"")}E=C}if(E)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var q=oi(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Dl(h)}}finally{is(h)}}}}function is(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Ut(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function oi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),If(v)}};function Yt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(h){const v={};h=(h.g&&oi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(D(h[C]))continue;var E=Ec(h[C]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=v[q]||[];v[q]=X,X.push(E)}Se(v,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function qs(h){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,h),this.Za=ji("retryDelaySeedMs",1e4,h),this.Ta=ji("forwardChannelMaxRetries",2,h),this.va=ji("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new bl(h&&h.concurrentRequestLimit),this.Ba=new Fs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qs.prototype,t.ka=8,t.I=1,t.connect=function(h,v,E,C){St(0),this.W=h,this.H=v||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=jc(this,null,this.W),Li(this)};function kl(h){if($a(h),h.I==3){var v=h.V++,E=Rt(h.J);if(Xe(E,"SID",h.M),Xe(E,"RID",v),Xe(E,"TYPE","terminate"),Xr(h,E),v=new ii(h,h.j,v),v.M=2,v.A=qr(Rt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Lc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ni(v)}Pc(h)}function Gs(h){h.g&&(Vl(h),h.g.cancel(),h.g=null)}function $a(h){Gs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ya(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Li(h){if(!Tl(h.h)&&!h.m){h.m=!0;var v=h.Ea;Q||S(),te||(Q(),te=!0),N.add(v,h),h.D=0}}function Ka(h,v){return ki(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ai(p(h.Ea,h,v),Oc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ii(this,this.j,h);let X=this.o;if(this.U&&(X?(X=L(X),ce(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Dc(this,q,v),E=Rt(this.J),Xe(E,"RID",h),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),Xr(this,E),X&&(this.R?v="headers="+ns(Ln(X))+"&"+v:this.u&&Kr(E,this.u,X)),xl(this.h,q),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",v),Xe(E,"SID","null"),q.U=!0,Ri(q,E,null)):Ri(q,E,v),this.I=2}}else this.I==3&&(h?Ml(this,h):this.i.length==0||Tl(this.h)||Ml(this))};function Ml(h,v){var E;v?E=v.l:E=h.V++;const C=Rt(h.J);Xe(C,"SID",h.M),Xe(C,"RID",E),Xe(C,"AID",h.K),Xr(h,C),h.u&&h.o&&Kr(C,h.u,h.o),E=new ii(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Dc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),xl(h.h,E),Ri(E,C,v)}function Xr(h,v){h.H&&me(h.H,function(E,C){Xe(v,C,E)}),h.l&&me({},function(E,C){Xe(v,C,E)})}function Dc(h,v,E){E=Math.min(h.i.length,E);const C=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ie=-1;for(;;){const bt=["count="+E];Ie==-1?E>0?(Ie=q[0].g,bt.push("ofs="+Ie)):Ie=0:bt.push("ofs="+Ie);let Ke=!0;for(let ht=0;ht<E;ht++){var X=q[ht].g;const Un=q[ht].map;if(X-=Ie,X<0)Ie=Math.max(0,q[ht].g-100),Ke=!1;else try{X="req"+X+"_"||"";try{var ue=Un instanceof Map?Un:Object.entries(Un);for(const[Bi,li]of ue){let ui=li;f(li)&&(ui=js(li)),bt.push(X+Bi+"="+encodeURIComponent(ui))}}catch(Bi){throw bt.push(X+"type="+encodeURIComponent("_badmap")),Bi}}catch{C&&C(Un)}}if(Ke){ue=bt.join("&");break e}}ue=void 0}return h=h.i.splice(0,E),v.G=h,ue}function kc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;Q||S(),te||(Q(),te=!0),N.add(v,h),h.A=0}}function Wr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ai(p(h.Da,h),Oc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ai(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Gs(this),Mc(this))};function Vl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Mc(h){h.g=new ii(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Rt(h.na);Xe(v,"RID","rpc"),Xe(v,"SID",h.M),Xe(v,"AID",h.K),Xe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(v,"TO",h.ia),Xe(v,"TYPE","xmlhttp"),Xr(h,v),h.u&&h.o&&Kr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=qr(Rt(v)),E.u=null,E.R=!0,Ua(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Gs(this),Wr(this),St(19))};function Ya(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Vc(h,v){var E=null;if(h.g==v){Ya(h),Vl(h),h.g=null;var C=2}else if(Mi(h.h,v))E=v.G,El(h.h,v),C=1;else return;if(h.I!=0){if(v.o)if(C==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;C=La(),Ut(C,new Si(C,E)),Li(h)}else kc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(C==1&&Ka(h,v)||C==2&&Wr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),q){case 1:Ui(h,5);break;case 4:Ui(h,10);break;case 3:Ui(h,6);break;default:Ui(h,2)}}}function Oc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Ui(h,v){if(h.j.info("Error code "+v),v==2){var E=p(h.bb,h),C=h.Ua;const q=!C;C=new An(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qt(C,"https"),qr(C),q?ri(C.toString(),E):Nl(C.toString(),E)}else St(2);h.I=0,h.l&&h.l.pa(v),Pc(h),$a(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Pc(h){if(h.I=0,h.ja=[],h.l){const v=wl(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ja,v),k(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function jc(h,v,E){var C=E instanceof An?Rt(E):new An(E);if(C.g!="")v&&(C.g=v+"."+C.g),Ls(C,C.u);else{var q=c.location;C=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const X=new An(null);C&&qt(X,C),v&&(X.g=v),q&&Ls(X,q),E&&(X.h=E),C=X}return E=h.G,v=h.wa,E&&v&&Xe(C,E,v),Xe(C,"VER",h.ka),Xr(h,C),C}function Lc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new et(new Oi({ab:E})):new et(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uc(){}t=Uc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $s(){}$s.prototype.g=function(h,v){return new dn(h,v)};function dn(h,v){wt.call(this),this.g=new qs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new rs(this)}_(dn,wt),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){kl(this.g)},dn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=js(h),h=E);v.i.push(new Ct(v.Ya++,h)),v.I==3&&Li(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,dn.Z.N.call(this)};function Bc(h){Kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Bc,Kt);function zc(){On.call(this),this.status=1}_(zc,On);function rs(h){this.g=h}_(rs,Uc),rs.prototype.ra=function(){Ut(this.g,"a")},rs.prototype.qa=function(h){Ut(this.g,new Bc(h))},rs.prototype.pa=function(h){Ut(this.g,new zc)},rs.prototype.oa=function(){Ut(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,kA=function(){return new $s},DA=function(){return La()},IA=_t,Xg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,gd=Fr,vl.COMPLETE="complete",NA=vl,_c.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Eu=_c,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,RA=et}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let ol="12.9.0";function S5(t){ol=t}const Ra=new sy("@firebase/firestore");function Co(){return Ra.logLevel}function fe(t,...e){if(Ra.logLevel<=Le.DEBUG){const n=e.map(yy);Ra.debug(`Firestore (${ol}): ${t}`,...n)}}function Ds(t,...e){if(Ra.logLevel<=Le.ERROR){const n=e.map(yy);Ra.error(`Firestore (${ol}): ${t}`,...n)}}function Na(t,...e){if(Ra.logLevel<=Le.WARN){const n=e.map(yy);Ra.warn(`Firestore (${ol}): ${t}`,...n)}}function yy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Te(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,MA(t,s,n)}function MA(t,e,n){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ds(s),new Error(s)}function Qe(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||MA(e,a,s)}function Re(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class VA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class C5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class R5{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ar,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ar)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new VA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class N5{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class I5{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new N5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function k5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class vy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=k5(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ue(t,e){return t<e?-1:t>e?1:0}function Wg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return ag(a)===ag(l)?Ue(a,l):ag(a)?1:-1}return Ue(t.length,e.length)}const M5=55296,V5=57343;function ag(t){const e=t.charCodeAt(0);return e>=M5&&e<=V5}function $o(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Nx="__name__";class $i{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return $i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=$i.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ue(e.length,n.length)}static compareSegments(e,n){const s=$i.isNumericId(e),a=$i.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?$i.extractNumericId(e).compare($i.extractNumericId(n)):Wg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class rt extends $i{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const O5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends $i{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return O5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nx}static keyField(){return new tn([Nx])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new de(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new de(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}function OA(t,e,n){if(!n)throw new de(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P5(t,e,n,s){if(e===!0&&s===!0)throw new de(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ix(t){if(!_e.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dx(t){if(_e.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function PA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function As(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(t);throw new de(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function cc(t,e){if(!PA(t))throw new de(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new de(se.INVALID_ARGUMENT,n);return!0}const kx=-62135596800,Mx=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Mx);return new ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kx)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mx}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Pt("string",ut._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ut(0,0))}static max(){return new Ae(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gu=-1;function j5(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new Ir(a,_e.empty(),e)}function L5(t){return new Ir(t.readTime,t.key,Gu)}class Ir{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ir(Ae.min(),_e.empty(),Gu)}static max(){return new Ir(Ae.max(),_e.empty(),Gu)}}function U5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}const B5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ll(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==B5)throw t;fe("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((a=>a?re.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++f,f===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new re(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function F5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(t){return t.name==="IndexedDbTransactionError"}class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;const _y=-1;function mf(t){return t==null}function Bd(t){return t===0&&1/t==-1/0}function H5(t){return typeof t=="number"&&Number.isInteger(t)&&!Bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const jA="";function q5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Vx(e)),e=G5(t.get(n),e);return Vx(e)}function G5(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case jA:n+="";break;default:n+=l}}return n}function Vx(t){return t+jA+""}function Ox(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Da(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new en(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Px(this.data.getIterator())}getIteratorFrom(e){return new Px(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class Px{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yi{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new yi([])}unionWith(e){let n=new Ft(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new yi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class UA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new UA("Invalid base64 string: "+l):l}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const $5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=$5.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kr(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}const BA="server_timestamp",zA="__type__",FA="__previous_value__",HA="__local_write_time__";function by(t){return(t?.mapValue?.fields||{})[zA]?.stringValue===BA}function pf(t){const e=t.mapValue.fields[FA];return by(e)?pf(e):e}function $u(t){const e=Dr(t.mapValue.fields[HA].timestampValue);return new ut(e.seconds,e.nanos)}class K5{constructor(e,n,s,a,l,c,f,m,p,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=_}}const zd="(default)";class Ku{constructor(e,n){this.projectId=e,this.database=n||zd}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===zd}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}function Y5(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new de(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(t.options.projectId,e)}const qA="__type__",Q5="__max__",Zh={mapValue:{}},GA="__vector__",Fd="value";function Mr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?by(t)?4:W5(t)?9007199254740991:X5(t)?10:11:Te(28295,{value:t})}function ts(t,e){if(t===e)return!0;const n=Mr(t);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Dr(a.timestampValue),f=Dr(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return kr(a.bytesValue).isEqual(kr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Et(a.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Et(a.integerValue)===Et(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Et(a.doubleValue),f=Et(l.doubleValue);return c===f?Bd(c)===Bd(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Ox(c)!==Ox(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ts(c[m],f[m])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function Yu(t,e){return(t.values||[]).find((n=>ts(n,e)))!==void 0}function Ko(t,e){if(t===e)return 0;const n=Mr(t),s=Mr(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Et(l.integerValue||l.doubleValue),m=Et(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return jx(t.timestampValue,e.timestampValue);case 4:return jx($u(t),$u(e));case 5:return Wg(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=kr(l),m=kr(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Ue(f[p],m[p]);if(y!==0)return y}return Ue(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ue(Et(l.latitude),Et(c.latitude));return f!==0?f:Ue(Et(l.longitude),Et(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Lx(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},p=f[Fd]?.arrayValue,y=m[Fd]?.arrayValue,_=Ue(p?.values?.length||0,y?.values?.length||0);return _!==0?_:Lx(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Zh.mapValue&&c===Zh.mapValue)return 0;if(l===Zh.mapValue)return 1;if(c===Zh.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const x=Wg(m[_],y[_]);if(x!==0)return x;const A=Ko(f[m[_]],p[y[_]]);if(A!==0)return A}return Ue(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function jx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Dr(t),s=Dr(e),a=Ue(n.seconds,s.seconds);return a!==0?a:Ue(n.nanos,s.nanos)}function Lx(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Ko(n[a],s[a]);if(l)return l}return Ue(n.length,s.length)}function Yo(t){return Jg(t)}function Jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Dr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return kr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Jg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Jg(n.fields[c])}`;return a+"}"})(t.mapValue):Te(61005,{value:t})}function yd(t){switch(Mr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(t);return e?16+yd(e):16;case 5:return 2*t.stringValue.length;case 6:return kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+yd(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Da(s.fields,((l,c)=>{a+=l.length+yd(c)})),a})(t.mapValue);default:throw Te(13486,{value:t})}}function Ux(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zg(t){return!!t&&"integerValue"in t}function Ty(t){return!!t&&"arrayValue"in t}function Bx(t){return!!t&&"nullValue"in t}function zx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vd(t){return!!t&&"mapValue"in t}function X5(t){return(t?.mapValue?.fields||{})[qA]?.stringValue===GA}function Mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Da(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Mu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return{...t}}function W5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Q5}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=tn.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Mu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];vd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Da(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Yn(Mu(this.value))}}function $A(t){const e=[];return Da(t.fields,((n,s)=>{const a=new tn([n]);if(vd(s)){const l=$A(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new yi(e)}class ln{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new ln(e,0,Ae.min(),Ae.min(),Ae.min(),Yn.empty(),0)}static newFoundDocument(e,n,s,a){return new ln(e,1,n,Ae.min(),s,a,0)}static newNoDocument(e,n){return new ln(e,2,n,Ae.min(),Ae.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ae.min(),Ae.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hd{constructor(e,n){this.position=e,this.inclusive=n}}function Fx(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(c.referenceValue),n.key):s=Ko(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ts(t.position[n],e.position[n]))return!1;return!0}class Qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function J5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class KA{}class Ot extends KA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new e6(e,n,s):n==="array-contains"?new i6(e,s):n==="in"?new s6(e,s):n==="not-in"?new r6(e,s):n==="array-contains-any"?new a6(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new t6(e,s):new n6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ko(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends KA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xi(e,n)}matches(e){return YA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YA(t){return t.op==="and"}function QA(t){return Z5(t)&&YA(t)}function Z5(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function e0(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Yo(t.value);if(QA(t))return t.filters.map((e=>e0(e))).join(",");{const e=t.filters.map((n=>e0(n))).join(",");return`${t.op}(${e})`}}function XA(t,e){return t instanceof Ot?(function(s,a){return a instanceof Ot&&s.op===a.op&&s.field.isEqual(a.field)&&ts(s.value,a.value)})(t,e):t instanceof xi?(function(s,a){return a instanceof xi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&XA(c,a.filters[f])),!0):!1})(t,e):void Te(19439)}function WA(t){return t instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`})(t):t instanceof xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(WA).join(" ,")+"}"})(t):"Filter"}class e6 extends Ot{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class t6 extends Ot{constructor(e,n){super(e,"in",n),this.keys=JA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class n6 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=JA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function JA(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class i6 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ty(n)&&Yu(n.arrayValue,this.value)}}class s6 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class r6 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class a6 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Yu(this.value.arrayValue,s)))}}class o6{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function qx(t,e=null,n=[],s=[],a=null,l=null,c=null){return new o6(t,e,n,s,a,l,c)}function xy(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>e0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Yo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Yo(s))).join(",")),e.Te=n}return e.Te}function Ey(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hx(t.startAt,e.startAt)&&Hx(t.endAt,e.endAt)}function t0(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class cl{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function l6(t,e,n,s,a,l,c,f){return new cl(t,e,n,s,a,l,c,f)}function wy(t){return new cl(t)}function Gx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function u6(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ZA(t){return t.collectionGroup!==null}function Vu(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ft(tn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qu(l,s))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new Qu(tn.keyField(),s))}return e.Ie}function Qi(t){const e=Re(t);return e.Ee||(e.Ee=c6(e,Vu(t))),e.Ee}function c6(t,e){if(t.limitType==="F")return qx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qu(a.field,l)}));const n=t.endAt?new Hd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Hd(t.startAt.position,t.startAt.inclusive):null;return qx(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function n0(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function h6(t,e){const n=t.explicitOrderBy.concat([e]);return new cl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function qd(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return Ey(Qi(t),Qi(e))&&t.limitType===e.limitType}function e2(t){return`${xy(Qi(t))}|lt:${t.limitType}`}function Ro(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>WA(a))).join(", ")}]`),mf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Yo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Yo(a))).join(",")),`Target(${s})`})(Qi(t))}; limitType=${t.limitType})`}function yf(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Vu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=Fx(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,Vu(s),a)||s.endAt&&!(function(c,f,m){const p=Fx(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,Vu(s),a))})(t,e)}function d6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t2(t){return(e,n)=>{let s=!1;for(const a of Vu(t)){const l=f6(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function f6(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Ko(m,p):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:t.dir})}}class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return LA(this.inner)}size(){return this.innerSize}}const m6=new pt(_e.comparator);function ks(){return m6}const n2=new pt(_e.comparator);function wu(...t){let e=n2;for(const n of t)e=e.insert(n.key,n);return e}function i2(t){let e=n2;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ba(){return Ou()}function s2(){return Ou()}function Ou(){return new ka((t=>t.toString()),((t,e)=>t.isEqual(e)))}const p6=new pt(_e.comparator),g6=new Ft(_e.comparator);function Be(...t){let e=g6;for(const n of t)e=e.add(n);return e}const y6=new Ft(Ue);function v6(){return y6}function Sy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function r2(t){return{integerValue:""+t}}function _6(t,e){return H5(e)?r2(e):Sy(t,e)}class vf{constructor(){this._=void 0}}function b6(t,e,n){return t instanceof Gd?(function(a,l){const c={fields:{[zA]:{stringValue:BA},[HA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&by(l)&&(l=pf(l)),l&&(c.fields[FA]=l),{mapValue:c}})(n,e):t instanceof Xu?o2(t,e):t instanceof Wu?l2(t,e):(function(a,l){const c=a2(a,l),f=$x(c)+$x(a.Ae);return Zg(c)&&Zg(a.Ae)?r2(f):Sy(a.serializer,f)})(t,e)}function T6(t,e,n){return t instanceof Xu?o2(t,e):t instanceof Wu?l2(t,e):n}function a2(t,e){return t instanceof $d?(function(s){return Zg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Gd extends vf{}class Xu extends vf{constructor(e){super(),this.elements=e}}function o2(t,e){const n=u2(e);for(const s of t.elements)n.some((a=>ts(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Wu extends vf{constructor(e){super(),this.elements=e}}function l2(t,e){let n=u2(e);for(const s of t.elements)n=n.filter((a=>!ts(a,s)));return{arrayValue:{values:n}}}class $d extends vf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $x(t){return Et(t.integerValue||t.doubleValue)}function u2(t){return Ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function x6(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Xu&&a instanceof Xu||s instanceof Wu&&a instanceof Wu?$o(s.elements,a.elements,ts):s instanceof $d&&a instanceof $d?ts(s.Ae,a.Ae):s instanceof Gd&&a instanceof Gd})(t.transform,e.transform)}class E6{constructor(e,n){this.version=e,this.transformResults=n}}class Xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _f{}function c2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d2(t.key,Xi.none()):new hc(t.key,t.data,Xi.none());{const n=t.data,s=Yn.empty();let a=new Ft(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ma(t.key,s,new yi(a.toArray()),Xi.none())}}function w6(t,e,n){t instanceof hc?(function(a,l,c){const f=a.value.clone(),m=Yx(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Ma?(function(a,l,c){if(!_d(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Yx(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(h2(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Pu(t,e,n,s){return t instanceof hc?(function(l,c,f,m){if(!_d(l.precondition,c))return f;const p=l.value.clone(),y=Qx(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ma?(function(l,c,f,m){if(!_d(l.precondition,c))return f;const p=Qx(l.fieldTransforms,m,c),y=c.data;return y.setAll(h2(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,f){return _d(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function S6(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=a2(s.transform,a||null);l!=null&&(n===null&&(n=Yn.empty()),n.set(s.field,l))}return n||null}function Kx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&$o(s,a,((l,c)=>x6(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hc extends _f{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ma extends _f{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function h2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Yx(t,e,n){const s=new Map;Qe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,T6(c,f,n[a]))}return s}function Qx(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,b6(l,c,e))}return s}class d2 extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A6 extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class C6{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&w6(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Pu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Pu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=s2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=c2(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,((n,s)=>Kx(n,s)))&&$o(this.baseMutations,e.baseMutations,((n,s)=>Kx(n,s)))}}class Ay{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return p6})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Ay(e,n,s,a)}}class R6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class N6{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mt,He;function I6(t){switch(t){case se.OK:return Te(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function f2(t){if(t===void 0)return Ds("GRPC error has no .code"),se.UNKNOWN;switch(t){case Mt.OK:return se.OK;case Mt.CANCELLED:return se.CANCELLED;case Mt.UNKNOWN:return se.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return se.INTERNAL;case Mt.UNAVAILABLE:return se.UNAVAILABLE;case Mt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Mt.NOT_FOUND:return se.NOT_FOUND;case Mt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Mt.ABORTED:return se.ABORTED;case Mt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Mt.DATA_LOSS:return se.DATA_LOSS;default:return Te(39323,{code:t})}}(He=Mt||(Mt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function D6(){return new TextEncoder}const k6=new Sr([4294967295,4294967295],0);function Xx(t){const e=D6().encode(t),n=new CA;return n.update(e),new Uint8Array(n.digest())}function Wx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Sr([n,s],0),new Sr([a,l],0)]}class Cy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Su(`Invalid padding: ${n}`);if(s<0)throw new Su(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Sr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Sr.fromNumber(s)));return a.compare(k6)===1&&(a=new Sr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Xx(e),[s,a]=Wx(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Cy(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=Xx(e),[s,a]=Wx(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bf{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new bf(Ae.min(),a,new pt(Ue),ks(),Be())}}class dc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new dc(s,n,Be(),Be(),Be())}}class bd{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class m2{constructor(e,n){this.targetId=e,this.Ce=n}}class p2{constructor(e,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Jx{constructor(){this.ve=0,this.Fe=Zx(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Te(38017,{changeType:l})}})),new dc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Zx()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class M6{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.He=ed(),this.Je=ed(),this.Ze=new pt(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(t0(l))if(s===0){const c=new _e(l.path);this.et(n,c,ln.newNoDocument(c,Ae.min()))}else Qe(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=kr(s).toUint8Array()}catch(m){if(m instanceof UA)return Na("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Cy(c,a,l)}catch(m){return Na(m instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&t0(f.target)){const m=new _e(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ln.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=Be();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new bf(e,n,this.Ze,this.je,s);return this.je=ks(),this.He=ed(),this.Je=ed(),this.Ze=new pt(Ue),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Jx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ft(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ft(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ed(){return new pt(_e.comparator)}function Zx(){return new pt(_e.comparator)}const V6={asc:"ASCENDING",desc:"DESCENDING"},O6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P6={and:"AND",or:"OR"};class j6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function i0(t,e){return t.useProto3Json||mf(e)?e:{value:e}}function Kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L6(t,e){return Kd(t,e.toTimestamp())}function Wi(t){return Qe(!!t,49232),Ae.fromTimestamp((function(n){const s=Dr(n);return new ut(s.seconds,s.nanos)})(t))}function Ry(t,e){return s0(t,e).canonicalString()}function s0(t,e){const n=(function(a){return new rt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function y2(t){const e=rt.fromString(t);return Qe(x2(e),10190,{key:e.toString()}),e}function r0(t,e){return Ry(t.databaseId,e.path)}function og(t,e){const n=y2(e);if(n.get(1)!==t.databaseId.projectId)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(_2(n))}function v2(t,e){return Ry(t.databaseId,e)}function U6(t){const e=y2(t);return e.length===4?rt.emptyPath():_2(e)}function a0(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _2(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eE(t,e,n){return{name:r0(t,e),fields:n.value.mapValue.fields}}function B6(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Qe(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?se.UNKNOWN:f2(p.code);return new de(y,p.message||"")})(c);n=new p2(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=og(t,s.document.name),l=Wi(s.document.updateTime),c=s.document.createTime?Wi(s.document.createTime):Ae.min(),f=new Yn({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new bd(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=og(t,s.document),l=s.readTime?Wi(s.readTime):Ae.min(),c=ln.newNoDocument(a,l),f=s.removedTargetIds||[];n=new bd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=og(t,s.document),l=s.removedTargetIds||[];n=new bd([],l,a,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new N6(a,l),f=s.targetId;n=new m2(f,c)}}return n}function z6(t,e){let n;if(e instanceof hc)n={update:eE(t,e.key,e.value)};else if(e instanceof d2)n={delete:r0(t,e.key)};else if(e instanceof Ma)n={update:eE(t,e.key,e.data),updateMask:X6(e.fieldMask)};else{if(!(e instanceof A6))return Te(16599,{dt:e.type});n={verify:r0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof Gd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof $d)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Te(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:L6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(t,e.precondition)),n}function F6(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Wi(a.updateTime):Wi(l);return c.isEqual(Ae.min())&&(c=Wi(l)),new E6(c,a.transformResults||[])})(n,e)))):[]}function H6(t,e){return{documents:[v2(t,e.path)]}}function q6(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=v2(t,a);const l=(function(p){if(p.length!==0)return T2(xi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(x){return{field:No(x.field),direction:K6(x.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=i0(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function G6(t){let e=U6(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Qe(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const x=b2(_);return x instanceof xi&&QA(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((x=>(function(k){return new Qu(Io(k.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(x)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let x;return x=typeof _=="object"?_.value:_,mf(x)?null:x})(n.limit));let m=null;n.startAt&&(m=(function(_){const x=!!_.before,A=_.values||[];return new Hd(A,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const x=!_.before,A=_.values||[];return new Hd(A,x)})(n.endAt)),l6(e,a,c,l,f,"F",m,p)}function $6(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function b2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Io(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Io(n.unaryFilter.field);return Ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Io(n.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Io(n.unaryFilter.field);return Ot.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ot.create(Io(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return xi.create(n.compositeFilter.filters.map((s=>b2(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function K6(t){return V6[t]}function Y6(t){return O6[t]}function Q6(t){return P6[t]}function No(t){return{fieldPath:t.canonicalString()}}function Io(t){return tn.fromServerFormat(t.fieldPath)}function T2(t){return t instanceof Ot?(function(n){if(n.op==="=="){if(zx(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(Bx(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zx(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(Bx(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:Y6(n.op),value:n.value}}})(t):t instanceof xi?(function(n){const s=n.getFilters().map((a=>T2(a)));return s.length===1?s[0]:{compositeFilter:{op:Q6(n.op),filters:s}}})(t):Te(54877,{filter:t})}function X6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function x2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function E2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Tr{constructor(e,n,s,a,l=Ae.min(),c=Ae.min(),f=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class W6{constructor(e){this.yt=e}}function J6(t){const e=G6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qd(e,e.limit,"L"):e}class Z6{constructor(){this.Sn=new ej}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ir.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class ej{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ft(rt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ft(rt.comparator)).toArray()}}const tE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w2=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(w2,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Qo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Qo(0)}static ar(){return new Qo(-1)}}const nE="LruGarbageCollector",tj=1048576;function iE([t,e],[n,s]){const a=Ue(t,n);return a===0?Ue(e,s):a}class nj{constructor(e){this.Pr=e,this.buffer=new Ft(iE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();iE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ij{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(nE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?fe(nE,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Ar(3e5)}))}}class sj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(ff.ce);const s=new nj(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(tE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),Co()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function rj(t,e){return new sj(t,e)}class aj{constructor(){this.changes=new ka((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lj{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Pu(s.mutation,a,yi.empty(),ut.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const a=ba();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=wu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=ba();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=ks();const c=Ou(),f=(function(){return Ou()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ma)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Pu(y.mutation,p,y.mutation.getFieldMask(),ut.now())):c.set(p.key,yi.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>f.set(p,new oj(y,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Ou();let a=new pt(((c,f)=>c-f)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||yi.empty();y=f.applyToLocalView(p,y),s.set(m,y);const _=(a.get(f.batchId)||Be()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=s2();y.forEach((x=>{if(!l.has(x)){const A=c2(n.get(x),s.get(x));A!==null&&_.set(x,A),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return re.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return u6(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):re.resolve(ba());let f=Gu,m=l;return c.next((p=>re.forEach(p,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{m=m.insert(y,x)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Be()))).next((y=>({batchId:f,changes:i2(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let a=wu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=wu();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(m=>{const p=(function(_,x){return new cl(x,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((_,x)=>{c=c.insert(_,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))}));let f=wu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Pu(y.mutation,p,yi.empty(),ut.now()),yf(n,p)&&(f=f.insert(m,p))})),f}))}}class uj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Wi(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:J6(a.bundledQuery),readTime:Wi(a.readTime)}})(n)),re.resolve()}}class cj{constructor(){this.overlays=new pt(_e.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ba();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const a=ba(),l=n.length+1,c=new _e(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new pt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=ba(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ba(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return re.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new R6(n,s));let l=this.Lr.get(n);l===void 0&&(l=Be(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class hj{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Ny{constructor(){this.kr=new Ft($t.Kr),this.qr=new Ft($t.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new $t(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new _e(new rt([])),s=new $t(n,e),a=new $t(n,e+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new rt([])),s=new $t(n,e),a=new $t(n,e+1);let l=Be();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new $t(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class dj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft($t.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new C6(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Jr=this.Jr.add(new $t(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?_y:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const f=this.Zr(c.Hr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Ue);return n.forEach((a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(f=>{s=s.add(f.Hr)}))})),re.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const c=new $t(new _e(l),0);let f=new Ft(Ue);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),c),re.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return re.forEach(n.mutations,(a=>{const l=new $t(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new $t(n,0),a=this.Jr.firstAfterOrEqual(s);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class fj{constructor(e){this.ti=e,this.docs=(function(){return new pt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=ks();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=ks();const c=n.path,f=new _e(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||U5(L5(y),s)<=0||(a.has(y.key)||yf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Te(9500)}ni(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new mj(this)}getSize(e){return re.resolve(this.size)}}class mj extends aj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class pj{constructor(e){this.persistence=e,this.ri=new ka((n=>xy(n)),Ey),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new Ny,this.targetCount=0,this.oi=Qo._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),re.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}class S2{constructor(e,n){this._i={},this.overlays={},this.ai=new ff(0),this.ui=!1,this.ui=!0,this.ci=new hj,this.referenceDelegate=e(this),this.li=new pj(this),this.indexManager=new Z6,this.remoteDocumentCache=(function(a){return new fj(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new W6(n),this.Pi=new uj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new dj(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const a=new gj(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return re.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class gj extends z5{constructor(e){super(),this.currentSequenceNumber=e}}class Iy{constructor(e){this.persistence=e,this.Ri=new Ny,this.Ai=null}static Vi(e){return new Iy(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(s=>{const a=_e.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Yd{constructor(e,n){this.persistence=e,this.fi=new ka((s=>q5(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=rj(this,n)}static Vi(e,n){return new Yd(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((f=>{f||(s++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yd(e.data.value)),n}wr(e,n,s){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return re.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Dy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Dy(e,n.fromCache,s,a)}}class yj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return sO()?8:F5(cn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new yj;return this.ys(e,n,c).next((f=>{if(l.result=f,this.As)return this.ws(e,n,c,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(Co()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(Co()<=Le.DEBUG&&fe("QueryEngine","Query:",Ro(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Co()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):re.resolve())}gs(e,n){if(Gx(n))return re.resolve(null);let s=Qi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=qd(n,null,"F"),s=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Be(...l);return this.fs.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,f);return this.Ss(n,p,c,m.readTime)?this.gs(e,qd(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return Gx(n)||a.isEqual(Ae.min())?re.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?re.resolve(null):(Co()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ro(n)),this.Ds(e,c,n,j5(a,Gu)).next((f=>f)))}))}bs(e,n){let s=new Ft(t2(e));return n.forEach(((a,l)=>{yf(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return Co()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.fs.getDocumentsMatchingQuery(e,n,Ir.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const ky="LocalStore",_j=3e8;class bj{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new pt(Ue),this.Fs=new ka((l=>xy(l)),Ey),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Tj(t,e,n,s){return new bj(t,e,n,s)}async function A2(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=Be();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function xj(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const _=p.batch,x=_.keys();let A=re.resolve();return x.forEach((k=>{A=A.next((()=>y.getEntry(m,k))).next((P=>{const j=p.docVersions.get(k);Qe(j!==null,48541),P.version.compareTo(j)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Be();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function C2(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Ej(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((y,_)=>{const x=a.get(_);if(!x)return;f.push(n.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,_))));let A=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(nn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),a=a.insert(_,A),(function(P,j,z){return P.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=_j?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(x,A,y)&&f.push(n.li.updateTargetData(l,A))}));let m=ks(),p=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(wj(l,c,e.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(Ae.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return re.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function wj(t,e,n){let s=Be(),a=Be();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=ks();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):fe(ky,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function Sj(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_y),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Aj(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,re.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Tr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function o0(t,e,n){const s=Re(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ul(c))throw c;fe(ky,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function sE(t,e,n){const s=Re(t);let a=Ae.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=Re(m),x=_.Fs.get(y);return x!==void 0?re.resolve(_.vs.get(x)):_.li.getTargetData(p,y)})(s,c,Qi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?l:Be()))).next((f=>(Cj(s,d6(e),f),{documents:f,ks:l})))))}function Cj(t,e,n){let s=t.Ms.get(e)||Ae.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class rE{constructor(){this.activeTargetIds=v6()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rj{constructor(){this.vo=new rE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nj{Mo(e){}shutdown(){}}const aE="ConnectivityMonitor";class oE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(aE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(aE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let td=null;function l0(){return td===null?td=(function(){return 268435456+Math.round(2147483648*Math.random())})():td++,"0x"+td.toString(16)}const lg="RestConnection",Ij={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Dj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===zd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const c=l0(),f=this.Qo(e,n.toUriEncodedString());fe(lg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),y=sl(p);return this.zo(e,f,m,s,y).then((_=>(fe(lg,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Na(lg,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}jo(e,n,s,a,l,c){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=Ij[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class kj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const rn="WebChannelConnection",Tu=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class zo extends Dj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!zo.c_){const e=DA();Tu(e,IA.STAT_EVENT,(n=>{n.stat===Xg.PROXY?fe(rn,"STAT_EVENT: detected buffering proxy"):n.stat===Xg.NOPROXY&&fe(rn,"STAT_EVENT: detected no buffering proxy")})),zo.c_=!0}}zo(e,n,s,a,l){const c=l0();return new Promise(((f,m)=>{const p=new RA;p.setWithCredentials(!0),p.listenOnce(NA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case gd.NO_ERROR:const _=p.getResponseJson();fe(rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case gd.TIMEOUT:fe(rn,`RPC '${e}' ${c} timed out`),m(new de(se.DEADLINE_EXCEEDED,"Request time out"));break;case gd.HTTP_ERROR:const x=p.getStatus();if(fe(rn,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A?.error;if(k&&k.status&&k.message){const P=(function(z){const H=z.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(H)>=0?H:se.UNKNOWN})(k.status);m(new de(P,k.message))}else m(new de(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(se.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(rn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);fe(rn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=l0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const p=l.join("");fe(rn,`Creating RPC '${e}' stream ${a}: ${p}`,f);const y=c.createWebChannel(p,f);this.I_(y);let _=!1,x=!1;const A=new kj({Ho:k=>{x?fe(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(_||(fe(rn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),_=!0),fe(rn,`RPC '${e}' stream ${a} sending:`,k),y.send(k))},Jo:()=>y.close()});return Tu(y,Eu.EventType.OPEN,(()=>{x||(fe(rn,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Tu(y,Eu.EventType.CLOSE,(()=>{x||(x=!0,fe(rn,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(y))})),Tu(y,Eu.EventType.ERROR,(k=>{x||(x=!0,Na(rn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),A.o_(new de(se.UNAVAILABLE,"The operation could not be completed")))})),Tu(y,Eu.EventType.MESSAGE,(k=>{if(!x){const P=k.data[0];Qe(!!P,16349);const j=P,z=j?.error||j[0]?.error;if(z){fe(rn,`RPC '${e}' stream ${a} received error:`,z);const H=z.status;let K=(function(te){const N=Mt[te];if(N!==void 0)return f2(N)})(H),oe=z.message;H==="NOT_FOUND"&&oe.includes("database")&&oe.includes("does not exist")&&oe.includes(this.databaseId.database)&&Na(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=se.INTERNAL,oe="Unknown error status: "+H+" with message "+z.message),x=!0,A.o_(new de(K,oe)),y.close()}else fe(rn,`RPC '${e}' stream ${a} received:`,P),A.__(P)}})),zo.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return kA()}}function Mj(t){return new zo(t)}function ug(){return typeof document<"u"?document:null}function Tf(t){return new j6(t,!0)}zo.c_=!1;class R2{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const lE="PersistentStream";class N2{constructor(e,n,s,a,l,c,f,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new de(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(lE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe(lE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vj extends N2{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B6(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Wi(c.readTime):Ae.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=a0(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=t0(m)?{documents:H6(l,m)}:{query:q6(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=g2(l,c.resumeToken);const p=i0(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ae.min())>0){f.readTime=Kd(l,c.snapshotVersion.toTimestamp());const p=i0(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=$6(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=a0(this.serializer),n.removeTarget=e,this.K_(n)}}class Oj extends N2{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=F6(e.writeResults,e.commitTime),s=Wi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=a0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>z6(this.serializer,s)))};this.K_(n)}}class Pj{}class jj extends Pj{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,s0(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(se.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.jo(e,s0(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Lj(t,e,n,s){return new jj(t,e,n,s)}class Uj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ia="RemoteStore";class Bj{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Va(this)&&(fe(Ia,"Restarting streams for network reachability change."),await(async function(m){const p=Re(m);p.Ea.add(4),await fc(p),p.Va.set("Unknown"),p.Ea.delete(4),await xf(p)})(this))}))})),this.Va=new Uj(s,a)}}async function xf(t){if(Va(t))for(const e of t.Ra)await e(!0)}async function fc(t){for(const e of t.Ra)await e(!1)}function I2(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Py(n)?Oy(n):hl(n).O_()&&Vy(n,e))}function My(t,e){const n=Re(t),s=hl(n);n.Ia.delete(e),s.O_()&&D2(n,e),n.Ia.size===0&&(s.O_()?s.L_():Va(n)&&n.Va.set("Unknown"))}function Vy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hl(t).Z_(e)}function D2(t,e){t.da.$e(e),hl(t).X_(e)}function Oy(t){t.da=new M6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hl(t).start(),t.Va.ua()}function Py(t){return Va(t)&&!hl(t).x_()&&t.Ia.size>0}function Va(t){return Re(t).Ea.size===0}function k2(t){t.da=void 0}async function zj(t){t.Va.set("Online")}async function Fj(t){t.Ia.forEach(((e,n)=>{Vy(t,e)}))}async function Hj(t,e){k2(t),Py(t)?(t.Va.ha(e),Oy(t)):t.Va.set("Unknown")}async function qj(t,e,n){if(t.Va.set("Online"),e instanceof p2&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){fe(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qd(t,s)}else if(e instanceof bd?t.da.Xe(e):e instanceof m2?t.da.st(e):t.da.tt(e),!n.isEqual(Ae.min()))try{const s=await C2(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.da.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),D2(l,m);const _=new Tr(y.target,m,p,y.sequenceNumber);Vy(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){fe(Ia,"Failed to raise snapshot:",s),await Qd(t,s)}}async function Qd(t,e,n){if(!ul(e))throw e;t.Ea.add(1),await fc(t),t.Va.set("Offline"),n||(n=()=>C2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(Ia,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xf(t)}))}function M2(t,e){return e().catch((n=>Qd(t,n,e)))}async function Ef(t){const e=Re(t),n=Vr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_y;for(;Gj(e);)try{const a=await Sj(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,$j(e,a)}catch(a){await Qd(e,a)}V2(e)&&O2(e)}function Gj(t){return Va(t)&&t.Ta.length<10}function $j(t,e){t.Ta.push(e);const n=Vr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function V2(t){return Va(t)&&!Vr(t).x_()&&t.Ta.length>0}function O2(t){Vr(t).start()}async function Kj(t){Vr(t).ra()}async function Yj(t){const e=Vr(t);for(const n of t.Ta)e.ea(n.mutations)}async function Qj(t,e,n){const s=t.Ta.shift(),a=Ay.from(s,e,n);await M2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Ef(t)}async function Xj(t,e){e&&Vr(t).Y_&&await(async function(s,a){if((function(c){return I6(c)&&c!==se.ABORTED})(a.code)){const l=s.Ta.shift();Vr(s).B_(),await M2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ef(s)}})(t,e),V2(t)&&O2(t)}async function uE(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),fe(Ia,"RemoteStore received new credentials");const s=Va(n);n.Ea.add(3),await fc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xf(n)}async function Wj(t,e){const n=Re(t);e?(n.Ea.delete(2),await xf(n)):e||(n.Ea.add(2),await fc(n),n.Va.set("Unknown"))}function hl(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new Vj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:zj.bind(null,t),Yo:Fj.bind(null,t),t_:Hj.bind(null,t),J_:qj.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Py(t)?Oy(t):t.Va.set("Unknown")):(await t.ma.stop(),k2(t))}))),t.ma}function Vr(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new Oj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Kj.bind(null,t),t_:Xj.bind(null,t),ta:Yj.bind(null,t),na:Qj.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Ef(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Ia,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class jy{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new jy(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ly(t,e){if(Ds("AsyncQueue",`${e}: ${t}`),ul(t))return new de(se.UNAVAILABLE,`${e}: ${t}`);throw t}class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=wu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class cE{constructor(){this.ga=new pt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Xo{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new Xo(e,n,Fo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class Jj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Zj{constructor(){this.queries=hE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=hE(),l.forEach(((c,f)=>{for(const m of f.ba)m.onError(s)}))})(this,new de(se.ABORTED,"Firestore shutting down"))}}function hE(){return new ka((t=>e2(t)),gf)}async function P2(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new Jj,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Ly(c,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Uy(n)}async function j2(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function eL(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ba)f.Fa(a)&&(s=!0);c.wa=a}}s&&Uy(n)}function tL(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function Uy(t){t.Ca.forEach((e=>{e.next()}))}var u0,dE;(dE=u0||(u0={})).Ma="default",dE.Cache="cache";class L2{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==u0.Cache}}class U2{constructor(e){this.key=e}}class B2{constructor(e){this.key=e}}class nL{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=t2(e),this.tu=new Fo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new cE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const x=a.get(y),A=yf(this.query,_)?_:null,k=!!x&&this.mutatedKeys.has(x.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;x&&A?x.data.isEqual(A.data)?k!==P&&(s.track({type:3,doc:A}),j=!0):this.su(x,A)||(s.track({type:2,doc:A}),j=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(f=!0)):!x&&A?(s.track({type:0,doc:A}),j=!0):x&&!A&&(s.track({type:1,doc:x}),j=!0,(m||p)&&(f=!0)),j&&(A?(c=c.add(A),l=P?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(A,k){const P=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:j})}};return P(A)-P(k)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new Xo(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new B2(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new U2(s))})),n}cu(e){this.Za=e.ks,this.Ya=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const By="SyncEngine";class iL{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class sL{constructor(e){this.key=e,this.hu=!1}}class rL{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ka((f=>e2(f)),gf),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(_e.comparator),this.Au=new Map,this.Vu=new Ny,this.du={},this.mu=new Map,this.fu=Qo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aL(t,e,n=!0){const s=$2(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await z2(s,e,n,!0),a}async function oL(t,e){const n=$2(t);await z2(n,e,!0,!1)}async function z2(t,e,n,s){const a=await Aj(t.localStore,Qi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await lL(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&I2(t.remoteStore,a),f}async function lL(t,e,n,s,a){t.pu=(_,x,A)=>(async function(P,j,z,H){let K=j.view.ru(z);K.Ss&&(K=await sE(P.localStore,j.query,!1).then((({documents:N})=>j.view.ru(N,K))));const oe=H&&H.targetChanges.get(j.targetId),Q=H&&H.targetMismatches.get(j.targetId)!=null,te=j.view.applyChanges(K,P.isPrimaryClient,oe,Q);return mE(P,j.targetId,te.au),te.snapshot})(t,_,x,A);const l=await sE(t.localStore,e,!0),c=new nL(e,l.ks),f=c.ru(l.documents),m=dc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);mE(t,n,p.au);const y=new iL(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function uL(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!gf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await o0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&My(s.remoteStore,a.targetId),c0(s,a.targetId)})).catch(ll)):(c0(s,a.targetId),await o0(s.localStore,a.targetId,!0))}async function cL(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),My(n.remoteStore,s.targetId))}async function hL(t,e,n){const s=vL(t);try{const a=await(function(c,f){const m=Re(c),p=ut.now(),y=f.reduce(((A,k)=>A.add(k.key)),Be());let _,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let k=ks(),P=Be();return m.xs.getEntries(A,y).next((j=>{k=j,k.forEach(((z,H)=>{H.isValidDocument()||(P=P.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,k))).next((j=>{_=j;const z=[];for(const H of f){const K=S6(H,_.get(H.key).overlayedDocument);K!=null&&z.push(new Ma(H.key,K,$A(K.value.mapValue),Xi.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,z,f)})).next((j=>{x=j;const z=j.applyToLocalDocumentSet(_,P);return m.documentOverlayCache.saveOverlays(A,j.batchId,z)}))})).then((()=>({batchId:x.batchId,changes:i2(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.du[c.currentUser.toKey()];p||(p=new pt(Ue)),p=p.insert(f,m),c.du[c.currentUser.toKey()]=p})(s,a.batchId,n),await mc(s,a.changes),await Ef(s.remoteStore)}catch(a){const l=Ly(a,"Failed to persist write");n.reject(l)}}async function F2(t,e){const n=Re(t);try{const s=await Ej(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Qe(c.hu,14607):a.removedDocuments.size>0&&(Qe(c.hu,42227),c.hu=!1))})),await mc(n,s,e)}catch(s){await ll(s)}}function fE(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Re(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,_)=>{for(const x of _.ba)x.va(f)&&(p=!0)})),p&&Uy(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function dL(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new pt(_e.comparator);c=c.insert(l,ln.newNoDocument(l,Ae.min()));const f=Be().add(l),m=new bf(Ae.min(),new Map,new pt(Ue),c,f);await F2(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),zy(s)}else await o0(s.localStore,e,!1).then((()=>c0(s,e,n))).catch(ll)}async function fL(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await xj(n.localStore,e);q2(n,s,null),H2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mc(n,a)}catch(a){await ll(a)}}async function mL(t,e,n){const s=Re(t);try{const a=await(function(c,f){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(Qe(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);q2(s,e,n),H2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await mc(s,a)}catch(a){await ll(a)}}function H2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function q2(t,e,n){const s=Re(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function c0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||G2(t,s)}))}function G2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(My(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),zy(t))}function mE(t,e,n){for(const s of n)s instanceof U2?(t.Vu.addReference(s.key,e),pL(t,s)):s instanceof B2?(fe(By,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||G2(t,s.key)):Te(19791,{wu:s})}function pL(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(fe(By,"New document in limbo: "+n),t.Eu.add(s),zy(t))}function zy(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(rt.fromString(e)),s=t.fu.next();t.Au.set(s,new sL(n)),t.Ru=t.Ru.insert(n,s),I2(t.remoteStore,new Tr(Qi(wy(n.path)),s,"TargetPurposeLimboResolution",ff.ce))}}async function mc(t,e,n){const s=Re(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Dy.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(m,p){const y=Re(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>re.forEach(p,(x=>re.forEach(x.Ts,(A=>y.persistence.referenceDelegate.addReference(_,x.targetId,A))).next((()=>re.forEach(x.Is,(A=>y.persistence.referenceDelegate.removeReference(_,x.targetId,A)))))))))}catch(_){if(!ul(_))throw _;fe(ky,"Failed to update sequence numbers: "+_)}for(const _ of p){const x=_.targetId;if(!_.fromCache){const A=y.vs.get(x),k=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(k);y.vs=y.vs.insert(x,P)}}})(s.localStore,l))}async function gL(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){fe(By,"User change. New user:",e.toKey());const s=await A2(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new de(se.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mc(n,s.Ns)}}function yL(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let a=Be();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function $2(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=F2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dL.bind(null,e),e.Pu.J_=eL.bind(null,e.eventManager),e.Pu.yu=tL.bind(null,e.eventManager),e}function vL(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mL.bind(null,e),e}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Tj(this.persistence,new vj,e.initialUser,this.serializer)}Cu(e){return new S2(Iy.Vi,this.serializer)}Du(e){return new Rj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class _L extends Xd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Yd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ij(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new S2((s=>Yd.Vi(s,n)),this.serializer)}}class h0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gL.bind(null,this.syncEngine),await Wj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Zj})()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),s=Mj(e.databaseInfo);return Lj(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new Bj(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>fE(this.syncEngine,n,0)),(function(){return oE.v()?new oE:new Nj})())}createSyncEngine(e,n){return(function(a,l,c,f,m,p,y){const _=new rL(a,l,c,f,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);fe(Ia,"RemoteStore shutting down."),s.Ea.add(5),await fc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}h0.provider={build:()=>new h0};class K2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Or="FirestoreClient";class bL{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{fe(Or,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(fe(Or,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ly(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function cg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Or,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await A2(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TL(t);fe(Or,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>uE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>uE(e.remoteStore,a))),t._onlineComponents=e}async function TL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Or,"Using user provided OfflineComponentProvider");try{await cg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await cg(t,new Xd)}}else fe(Or,"Using default OfflineComponentProvider"),await cg(t,new _L(void 0));return t._offlineComponents}async function Y2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Or,"Using user provided OnlineComponentProvider"),await pE(t,t._uninitializedComponentsProvider._online)):(fe(Or,"Using default OnlineComponentProvider"),await pE(t,new h0))),t._onlineComponents}function xL(t){return Y2(t).then((e=>e.syncEngine))}async function d0(t){const e=await Y2(t),n=e.eventManager;return n.onListen=aL.bind(null,e.syncEngine),n.onUnlisten=uL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cL.bind(null,e.syncEngine),n}function EL(t,e,n,s){const a=new K2(s),l=new L2(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>P2(await d0(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>j2(await d0(t),l)))}}function wL(t,e,n={}){const s=new Ar;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new K2({next:x=>{y.Nu(),c.enqueueAndForget((()=>j2(l,_))),x.fromCache&&m.source==="server"?p.reject(new de(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),_=new L2(f,y,{includeMetadataChanges:!0,Ka:!0});return P2(l,_)})(await d0(t),t.asyncQueue,e,n,s))),s.promise}function SL(t,e){const n=new Ar;return t.asyncQueue.enqueueAndForget((async()=>hL(await xL(t),e,n))),n.promise}function Q2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const AL="ComponentProvider",gE=new Map;function CL(t,e,n,s,a){return new K5(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,Q2(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const X2="firestore.googleapis.com",yE=!0;class vE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=X2,this.ssl=yE}else this.host=e.host,this.ssl=e.ssl??yE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=w2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tj)throw new de(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new A5;switch(s.type){case"firstParty":return new I5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=gE.get(n);s&&(fe(AL,"Removing Datastore"),gE.delete(n),s.terminate())})(this),Promise.resolve()}}function RL(t,e,n,s={}){t=As(t,wf);const a=sl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(HS(`https://${f}`),qS("Firestore",!0)),l.host!==X2&&l.host!==f&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Sa(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=on.MOCK_USER;else{p=QV(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new de(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}t._authCredentials=new C5(new VA(p,y))}}class Os{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Os(this.firestore,e,this._query)}}class jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(cc(n,jt._jsonSchema))return new jt(e,s||null,new _e(rt.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Pt("string",jt._jsonSchemaVersion),referencePath:Pt("string")};class Cr extends Os{constructor(e,n,s){super(e,n,wy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new _e(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function W2(t,e,...n){if(t=gn(t),OA("collection","path",e),t instanceof wf){const s=rt.fromString(e,...n);return Dx(s),new Cr(t,null,s)}{if(!(t instanceof jt||t instanceof Cr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return Dx(s),new Cr(t.firestore,null,s)}}function f0(t,e,...n){if(t=gn(t),arguments.length===1&&(e=vy.newId()),OA("doc","path",e),t instanceof wf){const s=rt.fromString(e,...n);return Ix(s),new jt(t,null,new _e(s))}{if(!(t instanceof jt||t instanceof Cr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return Ix(s),new jt(t.firestore,t instanceof Cr?t.converter:null,new _e(s))}}const _E="AsyncQueue";class bE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R2(this,"async_queue_retry"),this._c=()=>{const s=ug();s&&fe(_E,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ul(e))throw e;fe(_E,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",TE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=jy.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:TE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Wo extends wf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new bE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bE(e),this._firestoreClient=void 0,await e}}}function NL(t,e){const n=typeof t=="object"?t:YS(),s=typeof t=="string"?t:zd,a=ay(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=KV("firestore");l&&RL(a,...l)}return a}function Fy(t){if(t._terminated)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IL(t),t._firestoreClient}function IL(t){const e=t._freezeSettings(),n=CL(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new bL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(nn.fromBase64String(e))}catch(n){throw new de(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Pt("string",Qn._jsonSchemaVersion),bytes:Pt("string")};class J2{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Z2{constructor(e){this._methodName=e}}class Ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(cc(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Pt("string",Ji._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new bi(e.vectorValues);throw new de(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Pt("string",bi._jsonSchemaVersion),vectorValues:Pt("object")};const DL=/^__.*__$/;class kL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new hc(e,this.data,n,this.fieldTransforms)}}function eC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:t})}}class Hy{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Wd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eC(this.dataSource)&&DL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ML{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tf(e)}createContext(e,n,s,a=!1){return new Hy({dataSource:e,methodName:n,targetDoc:s,path:tn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qy(t){const e=t._freezeSettings(),n=Tf(t._databaseId);return new ML(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tC(t,e,n,s,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);sC("Data must be an object, but it was:",c,s);const f=nC(s,c);let m,p;if(l.merge)m=new yi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const x=Sf(e,_,n);if(!c.contains(x))throw new de(se.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);jL(y,x)||y.push(x)}m=new yi(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new kL(new Yn(f),m,p)}function VL(t,e,n,s=!1){return Gy(n,t.createContext(s?4:3,e))}function Gy(t,e){if(iC(t=gn(t)))return sC("Unsupported field value:",e,t),nC(t,e);if(t instanceof Z2)return(function(s,a){if(!eC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=Gy(f,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _6(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ut.fromDate(s);return{timestampValue:Kd(a.serializer,l)}}if(s instanceof ut){const l=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kd(a.serializer,l)}}if(s instanceof Ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:g2(a.serializer,s._byteString)};if(s instanceof jt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ry(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof bi)return(function(c,f){const m=c instanceof bi?c.toArray():c;return{mapValue:{fields:{[qA]:{stringValue:GA},[Fd]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return Sy(f.serializer,y)}))}}}}}})(s,a);if(E2(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${df(s)}`)})(t,e)}function nC(t,e){const n={};return LA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(t,((s,a)=>{const l=Gy(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function iC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Ji||t instanceof Qn||t instanceof jt||t instanceof Z2||t instanceof bi||E2(t))}function sC(t,e,n){if(!iC(n)||!PA(n)){const s=df(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Sf(t,e,n){if((e=gn(e))instanceof J2)return e._internalPath;if(typeof e=="string")return PL(t,e);throw Wd("Field path arguments must be of type string or ",t,!1,void 0,n)}const OL=new RegExp("[~\\*/\\[\\]]");function PL(t,e,n){if(e.search(OL)>=0)throw Wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new J2(...e.split("."))._internalPath}catch{throw Wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wd(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new de(se.INVALID_ARGUMENT,f+t+m)}function jL(t,e){return t.some((n=>n.isEqual(e)))}class LL{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Da(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Fd].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new bi(n)}convertGeoPoint(e){return new Ji(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=pf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=Dr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Qe(x2(s),9688,{name:e});const a=new Ku(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(n)||Ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class $y extends LL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}const xE="@firebase/firestore",EE="4.11.0";function wE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class rC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Sf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UL extends rC{data(){return super.data()}}function aC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ky{}class Yy extends Ky{}function BL(t,e,...n){let s=[];e instanceof Ky&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Xy)).length,f=l.filter((m=>m instanceof Qy)).length;if(c>1||c>0&&f>0)throw new de(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Qy extends Yy{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Qy(e,n,s)}_apply(e){const n=this._parse(e);return oC(e._query,n),new Os(e.firestore,e.converter,n0(e._query,n))}_parse(e){const n=qy(e.firestore);return(function(l,c,f,m,p,y,_){let x;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){AE(_,y);const k=[];for(const P of _)k.push(SE(m,l,P));x={arrayValue:{values:k}}}else x=SE(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||AE(_,y),x=VL(f,c,_,y==="in"||y==="not-in");return Ot.create(p,y,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Xy extends Ky{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)oC(c,m),c=n0(c,m)})(e._query,n),new Os(e.firestore,e.converter,n0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wy extends Yy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wy(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(l,c)})(e._query,this._field,this._direction);return new Os(e.firestore,e.converter,h6(e._query,n))}}function zL(t,e="asc"){const n=e,s=Sf("orderBy",t);return Wy._create(s,n)}class Jy extends Yy{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Jy(e,n,s)}_apply(e){return new Os(e.firestore,e.converter,qd(e._query,this._limit,this._limitType))}}function FL(t){return Jy._create("limit",t,"F")}function SE(t,e,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new de(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZA(e)&&n.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!_e.isDocumentKey(s))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ux(t,new _e(s))}if(n instanceof jt)return Ux(t,n._key);throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function AE(t,e){if(!Array.isArray(t)||t.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oC(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function lC(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends rC{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Sf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Pt("string",Ea._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Td extends Ea{data(e={}){return super.data(e)}}class wa{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Au(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Td(this._firestore,this._userDataWriter,s.key,s,new Au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Td(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Td(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:HL(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:Pt("string",wa._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};function qL(t){t=As(t,Os);const e=As(t.firestore,Wo),n=Fy(e),s=new $y(e);return aC(t._query),wL(n,t._query).then((a=>new wa(e,s,t,a)))}function CE(t,e,n){t=As(t,jt);const s=As(t.firestore,Wo),a=lC(t.converter,e),l=qy(s);return uC(s,[tC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Xi.none())])}function GL(t,e){const n=As(t.firestore,Wo),s=f0(t),a=lC(t.converter,e),l=qy(t.firestore);return uC(n,[tC(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Xi.exists(!1))]).then((()=>s))}function $L(t,...e){t=gn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||wE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,c,f;if(t instanceof jt)c=As(t.firestore,Wo),f=wy(t._key.path),l={next:p=>{e[s]&&e[s](KL(c,t,p))},error:e[s+1],complete:e[s+2]};else{const p=As(t,Os);c=As(p.firestore,Wo),f=p._query;const y=new $y(c);l={next:_=>{e[s]&&e[s](new wa(c,y,p,_))},error:e[s+1],complete:e[s+2]},aC(t._query)}const m=Fy(c);return EL(m,f,a,l)}function uC(t,e){const n=Fy(t);return SL(n,e)}function KL(t,e,n){const s=n.docs.get(e._key),a=new $y(t);return new Ea(t,a,e._key,s,new Au(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){S5(rl),qo(new Aa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Wo(new R5(s.getProvider("auth-internal")),new D5(c,s.getProvider("app-check-internal")),Y5(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),wr(xE,EE,e),wr(xE,EE,"esm2020")})();const YL={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},cC=KS(YL),hg=T5(cC),QL=new xs,xd=NL(cC),hC=I.createContext(void 0);function XL({children:t}){const[e,n]=I.useState(null),[s,a]=I.useState(!0);I.useEffect(()=>{const f=u3(hg,m=>{n(m),a(!1)});return()=>f()},[]);const l=async()=>{try{await I3(hg,QL)}catch(f){console.error("Error signing in with Google",f)}},c=async()=>{try{await c3(hg)}catch(f){console.error("Error signing out",f)}};return b.jsx(hC.Provider,{value:{user:e,loading:s,signInWithGoogle:l,logout:c},children:!s&&t})}function dl(){const t=I.useContext(hC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const dg={name:"Student",grade:"Class 10",language:"en",totalStudyTime:0,earnedBadges:[],currentStreak:0},nd="study-tracker-data",dC=I.createContext(void 0);function WL({children:t}){const{user:e}=dl(),[n,s]=I.useState(()=>{try{const Q=localStorage.getItem(nd);if(Q){const te=JSON.parse(Q);if(te.userProfile)return te.userProfile}}catch(Q){console.error("Failed to load user profile:",Q)}return dg}),[a,l]=I.useState(()=>{try{const Q=localStorage.getItem(nd);if(Q){const te=JSON.parse(Q);if(te.subjects)return te.subjects.map(N=>({...N,chapters:N.chapters.map(S=>({...S,topics:S.topics||[]}))}))}}catch(Q){console.error("Failed to load subjects:",Q)}return[]});I.useEffect(()=>{if(e){const Q=f0(xd,"users",e.uid),te=$L(Q,N=>{if(N.exists()){const S=N.data();S.userProfile&&s(S.userProfile),S.subjects&&l(S.subjects)}else{const S={userProfile:dg,subjects:[]};try{const R=localStorage.getItem(nd);if(R){const M=JSON.parse(R);M.userProfile&&(S.userProfile=M.userProfile),M.subjects&&(S.subjects=M.subjects.map(V=>({...V,chapters:V.chapters.map(B=>({...B,topics:B.topics||[]}))})))}}catch(R){console.error("Error reading local storage for migration:",R)}CE(Q,S).catch(R=>console.error("Migration failed",R))}},N=>{console.error("Firestore sync error:",N)});return()=>te()}},[e]);const c=async(Q,te)=>{if(s(Q),l(te),e)try{await CE(f0(xd,"users",e.uid),{userProfile:Q,subjects:te})}catch(N){console.error("Failed to save to cloud:",N)}else localStorage.setItem(nd,JSON.stringify({userProfile:Q,subjects:te}))},f=Q=>{c({...n,...Q},a)},m=Q=>{const te=crypto.randomUUID(),N={...Q,id:te,chapters:[]};c(n,[...a,N])},p=Q=>{c(n,a.filter(te=>te.id!==Q))},y=(Q,te)=>{const N=a.map(S=>S.id===Q?{...S,chapters:[...S.chapters,{id:crypto.randomUUID(),name:te,isCompleted:!1,topics:[]}]}:S);c(n,N)},_=(Q,te)=>{const N=a.map(S=>S.id===Q?{...S,chapters:S.chapters.map(R=>R.id===te?{...R,isCompleted:!R.isCompleted,completedAt:R.isCompleted?null:new Date().toISOString()}:R)}:S);c(n,N)},x=(Q,te)=>{const N=a.map(S=>S.id===Q?{...S,chapters:S.chapters.filter(R=>R.id!==te)}:S);c(n,N)},A=(Q,te,N)=>{const S=a.map(R=>R.id===Q?{...R,chapters:R.chapters.map(M=>M.id===te?{...M,topics:[...M.topics,{id:crypto.randomUUID(),name:N,isCompleted:!1,completedAt:null}]}:M)}:R);c(n,S)},k=(Q,te,N)=>{const S=a.map(R=>R.id===Q?{...R,chapters:R.chapters.map(M=>{if(M.id===te){const V=M.topics.map(D=>D.id===N?{...D,isCompleted:!D.isCompleted,completedAt:D.isCompleted?null:new Date().toISOString()}:D),B=V.length>0&&V.every(D=>D.isCompleted);return{...M,topics:V,isCompleted:B,completedAt:B?new Date().toISOString():null}}return M})}:R);c(n,S)},P=(Q,te,N)=>{const S=a.map(R=>R.id===Q?{...R,chapters:R.chapters.map(M=>M.id===te?{...M,topics:M.topics.filter(V=>V.id!==N)}:M)}:R);c(n,S)},j=()=>{const Q={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},te=new Blob([JSON.stringify(Q,null,2)],{type:"application/json"}),N=URL.createObjectURL(te),S=document.createElement("a");S.href=N,S.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(N)},z=Q=>{try{const te=JSON.parse(Q);return te.userProfile&&Array.isArray(te.subjects)?(c(te.userProfile,te.subjects),!0):(alert("Invalid backup file format."),!1)}catch(te){return console.error("Import error:",te),alert("Failed to parse backup file."),!1}},H=Q=>{const te=Q.map(N=>({id:crypto.randomUUID(),name:N.name,color:N.color,icon:N.icon,chapters:N.chapters.map(R=>({id:crypto.randomUUID(),name:R.name,isCompleted:!1,completedAt:null,topics:R.topics.map(V=>({id:crypto.randomUUID(),name:V.name,isCompleted:!1,completedAt:null}))}))}));c(n,[...a,...te])},K=()=>{confirm("Are you sure you want to reset all data?")&&c(dg,[])},oe=async(Q,te)=>{const N=new Date,S=N.toISOString().split("T")[0],R=(n.totalStudyTime||0)+Q;let M=n.currentStreak||0,V=n.lastStudyDate;if(V!==S){const me=new Date;me.setDate(me.getDate()-1);const Se=me.toISOString().split("T")[0];V===Se?M+=1:M=1,V=S}const B=[...n.earnedBadges||[]],D=[],qe=N.getHours(),Ze=qe>=22||qe<4,J=B.some(me=>me.type==="night_owl");Ze&&!J&&D.push({type:"night_owl",earnedAt:N.toISOString()});const le=B.some(me=>me.type==="streak_master");M>=3&&!le&&D.push({type:"streak_master",earnedAt:N.toISOString()});const ae={...n,totalStudyTime:R,currentStreak:M,lastStudyDate:V,earnedBadges:[...B,...D]};if(f(ae),e)try{await GL(W2(xd,"study_sessions"),{userId:e.uid,userName:e.displayName||n.name,startTime:new Date(Date.now()-Q*1e3).toISOString(),endTime:new Date().toISOString(),durationInSeconds:Q,subjectId:te||null,createdAt:new Date().toISOString()})}catch(me){console.error("Error saving study session:",me)}};return b.jsx(dC.Provider,{value:{userProfile:n,subjects:a,updateProfile:f,addSubject:m,deleteSubject:p,addChapter:y,toggleChapter:_,deleteChapter:x,addTopic:A,toggleTopic:k,deleteTopic:P,resetData:K,exportData:j,importData:z,importSyllabusData:H,saveStudySession:oe},children:t})}function ei(){const t=I.useContext(dC);if(t===void 0)throw new Error("useStudy must be used within a StudyProvider");return t}const fC=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const JL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const ZL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const RE=t=>{const e=ZL(t);return e.charAt(0).toUpperCase()+e.slice(1)};var e9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const t9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const n9=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>I.createElement("svg",{ref:m,...e9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:fC("lucide",a),...!l&&!t9(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>I.createElement(p,y)),...Array.isArray(l)?l:[l]]));const Ne=(t,e)=>{const n=I.forwardRef(({className:s,...a},l)=>I.createElement(n9,{ref:l,iconNode:e,className:fC(`lucide-${JL(RE(t))}`,`lucide-${t}`,s),...a}));return n.displayName=RE(t),n};const i9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],s9=Ne("arrow-left",i9);const r9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mC=Ne("arrow-right",r9);const a9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],pC=Ne("award",a9);const o9=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],m0=Ne("book-marked",o9);const l9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jn=Ne("book-open",l9);const u9=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],c9=Ne("book",u9);const h9=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],d9=Ne("bug",h9);const f9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],m9=Ne("chart-column",f9);const p9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],g9=Ne("chart-pie",p9);const y9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],v9=Ne("check",y9);const _9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],b9=Ne("chevron-down",_9);const T9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],x9=Ne("chevron-left",T9);const E9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],w9=Ne("chevron-right",E9);const S9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pc=Ne("circle-check",S9);const A9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],gC=Ne("circle-user",A9);const C9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],R9=Ne("circle",C9);const N9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],I9=Ne("clock",N9);const D9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],yC=Ne("download",D9);const k9=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],M9=Ne("flame",k9);const V9=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],vC=Ne("graduation-cap",V9);const O9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],NE=Ne("layout-dashboard",O9);const P9=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],IE=Ne("list",P9);const j9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_C=Ne("log-out",j9);const L9=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],p0=Ne("moon",L9);const U9=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],B9=Ne("pause",U9);const z9=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],F9=Ne("play",z9);const H9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ju=Ne("plus",H9);const q9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],G9=Ne("rotate-ccw",q9);const $9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zy=Ne("save",$9);const K9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Y9=Ne("search",K9);const Q9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fg=Ne("settings",Q9);const X9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],W9=Ne("square-pen",X9);const J9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],DE=Ne("sun",J9);const Z9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eU=Ne("target",Z9);const tU=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],g0=Ne("timer",tU);const nU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Af=Ne("trash-2",nU);const iU=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],y0=Ne("trending-up",iU);const sU=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Jd=Ne("trophy",sU);const rU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],aU=Ne("upload",rU);const oU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],bC=Ne("volume-2",oU);const lU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],TC=Ne("volume-x",lU);const uU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cf=Ne("x",uU);const cU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hU=Ne("zap",cU),dU=we(an);function fU({subject:t,index:e=0}){const n=t.chapters.length,s=t.chapters.filter(c=>c.isCompleted).length;let a=0;t.chapters.forEach(c=>{c.topics&&c.topics.length>0?a+=c.topics.filter(f=>f.isCompleted).length/c.topics.length*100:a+=c.isCompleted?100:0});const l=n===0?0:Math.round(a/n);return b.jsxs(dU,{to:`/subject/${t.id}`,whileHover:{y:-5,transition:{duration:.2}},whileTap:{scale:.98},className:"group block bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-lg hover:border-blue-100 dark:hover:border-blue-900 transition-all",children:[b.jsxs("div",{className:"flex items-start justify-between mb-4",children:[b.jsx(we.div,{whileHover:{rotate:15,scale:1.1},className:`w-12 h-12 rounded-xl ${t.color} flex items-center justify-center text-white shadow-sm`,children:b.jsx(Jn,{className:"w-6 h-6"})}),b.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 px-2 py-1 rounded-lg text-xs font-semibold text-slate-600 dark:text-slate-300 transition-colors",children:[l,"%"]})]}),b.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1 group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:t.name}),b.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(Jn,{className:"w-3.5 h-3.5"}),n," ",n===1?"Chapter":"Chapters"]}),s>0&&b.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400",children:[b.jsx(pc,{className:"w-3.5 h-3.5"}),s," Done"]})]}),b.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:b.jsx(we.div,{initial:{width:0},animate:{width:`${l}%`},transition:{duration:1,delay:.5+e*.1,ease:"easeOut"},className:`h-full ${t.color}`})}),b.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:["View Details ",b.jsx(mC,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})}function Po({title:t,value:e,icon:n,colorClass:s,bgClass:a,delay:l=0}){return b.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between transition-colors",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-slate-400 dark:text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[b.jsx(n,{className:`w-4 h-4 ${s}`})," ",t]}),b.jsx("div",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:e})]}),b.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center transition-colors`,children:b.jsx(n,{className:`w-6 h-6 ${s}`})})]})}const kE=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function mU({onClose:t}){const{addSubject:e}=ei(),[n,s]=I.useState(""),[a,l]=I.useState(kE[0]),c=f=>{f.preventDefault(),n.trim()&&(e({name:n.trim(),color:a,icon:"book"}),t())};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[b.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[b.jsx(c9,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add New Subject"]}),b.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:b.jsx(Cf,{className:"w-5 h-5"})})]}),b.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Subject Name"}),b.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:f=>s(f.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 transition-colors",children:"Color Tag"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:kE.map(f=>b.jsx("button",{type:"button",onClick:()=>l(f),className:`w-8 h-8 rounded-full ${f} transition-all ${a===f?"ring-2 ring-offset-2 ring-slate-400 dark:ring-slate-500 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},f))})]}),b.jsx("div",{className:"pt-2",children:b.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[b.jsx(Zy,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const pU={start_strong:{icon:pc,label:"Start Strong",description:"Completed your first topic!",color:"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/30"},streak_master:{icon:M9,label:"Streak Master",description:"Studied for 3 days in a row.",color:"text-orange-500 bg-orange-100 dark:bg-orange-900/30"},subject_conqueror:{icon:pC,label:"Subject Conqueror",description:"Completed 100% of a subject.",color:"text-purple-500 bg-purple-100 dark:bg-purple-900/30"},night_owl:{icon:p0,label:"Night Owl",description:"Completed a session late at night (10PM - 4AM).",color:"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};function gU({type:t,isLocked:e=!1,dateEarned:n}){const s=pU[t],a=s.icon,[l,c]=I.useState(!1);return b.jsxs("div",{className:"relative flex flex-col items-center gap-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),children:[b.jsx(we.div,{whileHover:{scale:1.05},className:`w-16 h-16 rounded-full flex items-center justify-center shadow-sm border-2 transition-colors ${e?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 grayscale":`${s.color} border-transparent`}`,children:b.jsx(a,{className:`w-8 h-8 ${e?"text-slate-400":""}`})}),b.jsx("span",{className:`text-xs font-medium text-center max-w-[5rem] ${e?"text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:s.label}),l&&b.jsxs(we.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs p-2 rounded-lg shadow-xl whitespace-nowrap z-50 pointer-events-none",children:[b.jsx("p",{className:"font-semibold",children:s.label}),b.jsx("p",{className:"text-slate-300",children:s.description}),!e&&n&&b.jsxs("p",{className:"text-slate-400 mt-1 text-[10px]",children:["Earned: ",new Date(n).toLocaleDateString()]})]})]})}function yU(){const{updateProfile:t}=ei(),[e,n]=I.useState(""),[s,a]=I.useState(""),l=c=>{if(c.preventDefault(),!e.trim()){alert("Please enter your name");return}t({name:e.trim(),grade:s.trim()||"Not specified"})};return b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:b.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[b.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-6 text-white",children:[b.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to TrackEd! "}),b.jsx("p",{className:"text-blue-100 text-sm",children:"Let's get started by setting up your profile"})]}),b.jsxs("form",{onSubmit:l,className:"p-6 space-y-5",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[b.jsx(gC,{className:"w-4 h-4"}),"Your Name ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Enter your name",autoFocus:!0})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[b.jsx(vC,{className:"w-4 h-4"}),"Class / Grade"]}),b.jsx("input",{type:"text",value:s,onChange:c=>a(c.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"e.g., HSC 2026, SSC 2024"})]}),b.jsx("div",{className:"pt-2",children:b.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:"Get Started"})}),b.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"You can update these details anytime in Settings"})]})]})})}const ME={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},mg={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function vU(){const{userProfile:t,subjects:e}=ei(),[n,s]=I.useState(!1),a=t.name==="Student",l=e.reduce((p,y)=>p+y.chapters.length,0),c=e.reduce((p,y)=>p+y.chapters.filter(_=>_.isCompleted).length,0);let f=0;e.forEach(p=>{p.chapters.forEach(y=>{y.topics&&y.topics.length>0?f+=y.topics.filter(_=>_.isCompleted).length/y.topics.length*100:f+=y.isCompleted?100:0})});const m=l===0?0:Math.round(f/l);return b.jsxs(we.div,{className:"space-y-8",variants:ME,initial:"hidden",animate:"show",exit:"exit",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:["Welcome back, ",b.jsx("span",{className:"bg-gradient-to-r from-blue-700 to-teal-600 dark:from-blue-400 dark:to-teal-400 bg-clip-text text-transparent",children:t.name}),"!"]}),b.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-1 transition-colors",children:["You're currently in ",b.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:t.grade}),". Let's make progress!"]})]}),b.jsxs(we.button,{id:"add-subject-btn",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-xl font-medium flex items-center justify-center gap-2 shadow-sm transition-colors",children:[b.jsx(Ju,{className:"w-5 h-5"}),"Add Subject"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"md:col-span-1 bg-gradient-to-br from-blue-600 to-blue-700 dark:from-blue-700 dark:to-blue-800 rounded-2xl p-6 text-white text-center md:text-left relative overflow-hidden shadow-lg shadow-blue-500/20",children:[b.jsxs("div",{className:"relative z-10",children:[b.jsxs("h3",{className:"text-blue-100 font-medium mb-1 flex items-center justify-center md:justify-start gap-2",children:[b.jsx(g9,{className:"w-4 h-4"})," Overall Syllabus"]}),b.jsxs("div",{className:"text-4xl font-bold mb-2",children:[m,"%"]}),b.jsxs("p",{className:"text-blue-100 text-sm",children:["Completed across ",e.length," subjects"]})]}),b.jsx("div",{className:"absolute -right-6 -bottom-6 w-32 h-32 bg-white/10 rounded-full blur-2xl"})]}),b.jsx(Po,{title:"Chapters Completed",value:c,icon:Jd,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.1}),b.jsx(Po,{title:"Chapters Pending",value:l-c,icon:m0,colorClass:"text-violet-500",bgClass:"bg-violet-50 dark:bg-violet-900/20",delay:.2})]}),t.earnedBadges&&t.earnedBadges.length>0&&b.jsxs(we.div,{variants:mg,className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[b.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[b.jsx(Jd,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),b.jsx("div",{className:"flex flex-wrap gap-4",children:t.earnedBadges.map((p,y)=>b.jsx(gU,{type:p.type,dateEarned:p.earnedAt},`${p.type}-${y}`))})]}),b.jsxs("div",{children:[b.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2 transition-colors",children:["Your Subjects",b.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:e.length})]}),e.length>0?b.jsxs(we.div,{variants:ME,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((p,y)=>b.jsx(we.div,{variants:mg,children:b.jsx(fU,{subject:p,index:y})},p.id)),b.jsxs(we.button,{variants:mg,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>s(!0),className:"group border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/20 flex items-center justify-center mb-3 transition-colors",children:b.jsx(Ju,{className:"w-6 h-6"})}),b.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):b.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:[b.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(m0,{className:"w-8 h-8 text-slate-300 dark:text-slate-500"})}),b.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No subjects yet"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),b.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&b.jsx(mU,{onClose:()=>s(!1)}),a&&b.jsx(yU,{})]})}function _U({subjectId:t,onClose:e}){const{addChapter:n}=ei(),[s,a]=I.useState(""),l=c=>{c.preventDefault(),s.trim()&&(n(t,s.trim()),a(""))};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-700",children:[b.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 transition-colors",children:[b.jsx(m0,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Add Chapters"]}),b.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:b.jsx(Cf,{className:"w-5 h-5"})})]}),b.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-1",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:"Chapter Name / Topic"}),b.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"Press Enter to add & continue"})]}),b.jsx("input",{autoFocus:!0,type:"text",value:s,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"})]}),b.jsxs("div",{className:"flex gap-3 pt-2",children:[b.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Done"}),b.jsxs("button",{type:"submit",disabled:!s.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[b.jsx(Ju,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const bU={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function Rf({children:t,className:e=""}){return b.jsx(we.div,{variants:bU,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:e,children:t})}const xC=I.createContext(void 0);function TU({children:t}){const[e,n]=I.useState(()=>typeof window<"u"?localStorage.getItem("sound-muted")==="true":!1),s=I.useRef(null);I.useEffect(()=>{localStorage.setItem("sound-muted",String(e))},[e]);const a=()=>{s.current||(s.current=new(window.AudioContext||window.webkitAudioContext)),s.current.state==="suspended"&&s.current.resume()},l=p=>{if(e)return;s.current||(s.current=new(window.AudioContext||window.webkitAudioContext));const y=s.current,_=y.createOscillator(),x=y.createGain();_.connect(x),x.connect(y.destination);const A=y.currentTime;switch(p){case"pop":_.type="sine",_.frequency.setValueAtTime(800,A),_.frequency.exponentialRampToValueAtTime(1200,A+.1),x.gain.setValueAtTime(.1,A),x.gain.exponentialRampToValueAtTime(.01,A+.1),_.start(A),_.stop(A+.1);break;case"success":c(y,523.25,A,.1,"sine"),c(y,659.25,A+.1,.1,"sine"),c(y,783.99,A+.2,.2,"sine");break;case"complete":_.type="triangle",_.frequency.setValueAtTime(440,A),_.frequency.linearRampToValueAtTime(880,A+.5),x.gain.setValueAtTime(.1,A),x.gain.linearRampToValueAtTime(.3,A+.2),x.gain.linearRampToValueAtTime(0,A+1.5),_.start(A),_.stop(A+1.5);break;case"click":_.type="square",_.frequency.setValueAtTime(200,A),x.gain.setValueAtTime(.05,A),x.gain.exponentialRampToValueAtTime(.01,A+.05),_.start(A),_.stop(A+.05);break;case"error":_.type="sawtooth",_.frequency.setValueAtTime(150,A),_.frequency.linearRampToValueAtTime(100,A+.2),x.gain.setValueAtTime(.1,A),x.gain.linearRampToValueAtTime(0,A+.3),_.start(A),_.stop(A+.3);break}},c=(p,y,_,x,A="sine")=>{const k=p.createOscillator(),P=p.createGain();k.connect(P),P.connect(p.destination),k.type=A,k.frequency.setValueAtTime(y,_),P.gain.setValueAtTime(.1,_),P.gain.exponentialRampToValueAtTime(.01,_+x),k.start(_),k.stop(_+x)},f=p=>{s.current?.state==="suspended"&&s.current.resume().catch(()=>{}),l(p)},m=()=>{n(p=>!p),e&&a()};return b.jsx(xC.Provider,{value:{isMuted:e,toggleMute:m,playSound:f},children:t})}function ev(){const t=I.useContext(xC);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function xU({subjectId:t,chapterId:e,topic:n}){const{toggleTopic:s,deleteTopic:a}=ei(),{playSound:l}=ev();return b.jsxs(we.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors ml-8 border-l border-slate-100 dark:border-slate-700",children:[b.jsx(we.button,{whileTap:{scale:.8},onClick:()=>{s(t,e,n.id),n.isCompleted||l("pop")},className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-slate-400 dark:hover:border-slate-400"}`,children:b.jsx(pc,{className:"w-3 h-3"})}),b.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600 dark:text-slate-300"}`,children:n.name}),b.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(t,e,n.id),className:"opacity-0 group-hover/topic:opacity-100 p-1.5 text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition-all",children:b.jsx(Af,{className:"w-3.5 h-3.5"})})]})}function EC({subjectId:t,chapter:e,isExpanded:n,onToggle:s}){const{deleteChapter:a,addTopic:l}=ei(),[c,f]=I.useState(!1),m=p=>{p.preventDefault();const y=p.target.elements.namedItem("topicName");y.value.trim()&&(l(t,e.id,y.value.trim()),y.value="",f(!1))};return b.jsxs("div",{className:"group transition-colors",children:[b.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 dark:hover:bg-slate-700/50 cursor-pointer transition-colors ${e.isCompleted?"bg-slate-50/30 dark:bg-slate-700/30":""}`,onClick:s,children:[b.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:b.jsx(we.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:b.jsx(b9,{className:"w-5 h-5"})})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:`block font-bold text-lg transition-all ${e.isCompleted?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:e.name}),b.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[b.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap transition-colors",children:[e.topics?.filter(p=>p.isCompleted).length||0,"/",e.topics?.length||0," Topics",e.isCompleted&&b.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 ml-2 font-bold inline-flex items-center gap-1",children:[b.jsx(pc,{className:"w-3 h-3"})," Done"]})]}),e.topics&&e.topics.length>0&&b.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex-shrink-0 transition-colors",children:b.jsx(we.div,{initial:{width:0},animate:{width:`${Math.round(e.topics.filter(p=>p.isCompleted).length/e.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${e.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),b.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[b.jsx(we.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),f(!0),n||s()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 rounded-lg transition-colors",title:"Add Topic",children:b.jsx(Ju,{className:"w-4 h-4"})}),b.jsx(we.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),confirm("Delete this chapter?")&&a(t,e.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 rounded-lg transition-colors",title:"Delete Chapter",children:b.jsx(Af,{className:"w-4 h-4"})})]})]}),b.jsx(af,{children:n&&b.jsx(we.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50 dark:bg-slate-800/50 transition-colors",children:b.jsxs("div",{className:"pb-2",children:[e.topics&&e.topics.length>0?e.topics.map(p=>b.jsx(xU,{subjectId:t,chapterId:e.id,topic:p},p.id)):b.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&b.jsxs(we.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:m,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[b.jsx(R9,{className:"w-4 h-4 text-slate-300 dark:text-slate-500"}),b.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white dark:bg-slate-700 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors",onBlur:()=>setTimeout(()=>f(!1),200)}),b.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})})]})}function EU(){const{id:t}=XN(),e=ef(),{subjects:n,deleteSubject:s}=ei(),[a,l]=I.useState(!1),[c,f]=I.useState({}),m=n.find(P=>P.id===t);if(!m)return b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[b.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:b.jsx(Jn,{className:"w-8 h-8 text-slate-300"})}),b.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),b.jsx(an,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const p=()=>{confirm(`Are you sure you want to delete ${m.name}? ALL progress will be lost.`)&&(s(m.id),e("/"))},y=P=>{f(j=>({...j,[P]:!j[P]}))},_=m.chapters.length,x=m.chapters.filter(P=>P.isCompleted).length;let A=0;m.chapters.forEach(P=>{P.topics&&P.topics.length>0?A+=P.topics.filter(j=>j.isCompleted).length/P.topics.length*100:A+=P.isCompleted?100:0});const k=_===0?0:Math.round(A/_);return b.jsxs(Rf,{className:"max-w-3xl mx-auto pb-12",children:[b.jsxs("div",{className:"mb-8",children:[b.jsxs(an,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 mb-6 transition-colors group",children:[b.jsx(s9,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),b.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[b.jsxs("div",{children:[b.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${m.color}`,children:[b.jsx(Jn,{className:"w-3 h-3"}),m.name]}),b.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white transition-colors",children:m.name}),b.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 transition-colors",children:[x," of ",_," chapters completed"]})]}),b.jsx("button",{onClick:p,className:"self-start text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 dark:hover:text-red-400 p-2 rounded-lg transition-colors",title:"Delete Subject",children:b.jsx(Af,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"mt-6",children:[b.jsxs("div",{className:"flex justify-between items-end mb-2",children:[b.jsxs("span",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[k,"%"]}),b.jsx("span",{className:"text-sm font-medium text-slate-400 dark:text-slate-500 transition-colors",children:"Progress"})]}),b.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:b.jsx(we.div,{initial:{width:0},animate:{width:`${k}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${m.color}`})})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[b.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between bg-slate-50/50 dark:bg-slate-700/30 transition-colors",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Syllabus / Chapters"}),b.jsxs(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[b.jsx(Ju,{className:"w-4 h-4"}),"Add Chapter"]})]}),b.jsx("div",{className:"divide-y divide-slate-50 dark:divide-slate-700 transition-colors",children:m.chapters.length>0?m.chapters.map(P=>b.jsx(EC,{subjectId:m.id,chapter:P,isExpanded:!!c[P.id],onToggle:()=>y(P.id)},P.id)):b.jsxs("div",{className:"p-12 text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3 transition-colors",children:b.jsx(Jn,{className:"w-6 h-6 text-slate-300 dark:text-slate-500"})}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4 transition-colors",children:"No chapters added yet."}),b.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 dark:text-blue-400 font-medium hover:underline transition-colors",children:"Add your first chapter"})]})})]}),a&&b.jsx(_U,{subjectId:m.id,onClose:()=>l(!1)})]})}const pg=[{id:"hsc-science-2026",name:"HSC Science (2026)",subjects:[{name:"  ",icon:"Book",color:"text-emerald-500",chapters:[{name:"",topics:[{name:""},{name:"    "},{name:""},{name:" "},{name:""},{name:" "},{name:"  "},{name:" "},{name:"-"},{name:"   "},{name:""},{name:""}]},{name:"",topics:[{name:" "},{name:"  "},{name:"  "},{name:"  "},{name:""}]},{name:"",topics:[]},{name:"",topics:[]}]},{name:"Physics 1st Paper",icon:"Zap",color:"text-violet-500",chapters:[{name:"Physical World and Measurement",topics:[{name:"Units"},{name:"Dimensions"}]},{name:"Vectors",topics:[{name:"Scalar & Vector"},{name:"Vector Addition"},{name:"Dot & Cross Product"}]},{name:"Dynamics",topics:[{name:"Newtons Laws"},{name:"Friction"},{name:"Banking of Roads"}]},{name:"Newtonian Mechanics",topics:[]},{name:"Work, Energy and Power",topics:[]},{name:"Gravitation and Gravity",topics:[]},{name:"Structural Properties of Matter",topics:[]},{name:"Periodic Motion",topics:[]},{name:"Ideal Gas and Kinetics of Gas",topics:[]}]},{name:"Physics 2nd Paper",icon:"Zap",color:"text-violet-500",chapters:[{name:"Thermodynamics",topics:[]},{name:"Static Electricity",topics:[]},{name:"Current Electricity",topics:[]},{name:"Magnetic Effects of Current",topics:[]},{name:"Electromagnetic Induction",topics:[]},{name:"Geometrical Optics",topics:[]},{name:"Physical Optics",topics:[]},{name:"Modern Physics",topics:[]},{name:"Atomic Model",topics:[]},{name:"Semiconductors",topics:[]}]},{name:"Chemistry 1st Paper",icon:"Beaker",color:"text-teal-500",chapters:[{name:"Qualitative Chemistry",topics:[]},{name:"Periodic Properties",topics:[]},{name:"Chemical Bonding",topics:[]},{name:"Chemical Changes",topics:[]},{name:"Work Oriented Chemistry",topics:[]}]},{name:"Chemistry 2nd Paper",icon:"Beaker",color:"text-teal-500",chapters:[{name:"Environmental Chemistry",topics:[]},{name:"Organic Chemistry",topics:[]},{name:"Quantitative Chemistry",topics:[]},{name:"Electrochemistry",topics:[]},{name:"Economic Chemistry",topics:[]}]},{name:"Higher Math 1st Paper",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Matrices and Determinants",topics:[]},{name:"Vectors",topics:[]},{name:"Straight Lines",topics:[]},{name:"Circle",topics:[]},{name:"Permutation and Combination",topics:[]},{name:"Trigonometry",topics:[]},{name:"Functions",topics:[]},{name:"Differentiation",topics:[]},{name:"Integration",topics:[]}]},{name:"Higher Math 2nd Paper",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Real Numbers",topics:[]},{name:"Linear Programming",topics:[]},{name:"Complex Numbers",topics:[]},{name:"Polynomials",topics:[]},{name:"Binomial Expansion",topics:[]},{name:"Conics",topics:[]},{name:"Inverse Trigonometry",topics:[]},{name:"Statics",topics:[]},{name:"Dynamics",topics:[]},{name:"Probability",topics:[]}]},{name:"Biology 1st Paper",icon:"Dna",color:"text-green-500",chapters:[{name:"Cell and its Structure",topics:[]},{name:"Cell Division",topics:[]},{name:"Cell Chemistry",topics:[]},{name:"Bioenergetics",topics:[]},{name:"Algae and Fungi",topics:[]},{name:"Bryophyta and Pteridophyta",topics:[]},{name:"Naked Seed and Covered Seed Plants",topics:[]},{name:"Tissue and Tissue System",topics:[]},{name:"Plant Physiology",topics:[]},{name:"Plant Reproduction",topics:[]},{name:"Biotechnology",topics:[]}]},{name:"Biology 2nd Paper",icon:"Dna",color:"text-green-500",chapters:[{name:"Animal Diversity and Classification",topics:[]},{name:"Introduction to Animal",topics:[]},{name:"Digestion and Absorption",topics:[]},{name:"Blood and Circulation",topics:[]},{name:"Breathing and Respiration",topics:[]},{name:"Excretion and Osmoregulation",topics:[]},{name:"Locomotion and Movement",topics:[]},{name:"Coordination and Control",topics:[]},{name:"Human Reproduction",topics:[]},{name:"Human Immunity",topics:[]},{name:"Genetics and Evolution",topics:[]},{name:"Animal Behavior",topics:[]}]},{name:"ICT",icon:"Cpu",color:"text-indigo-500",chapters:[{name:"Information and Communication Technology: World and Bangladesh",topics:[]},{name:"Communication Systems and Networking",topics:[]},{name:"Number Systems and Digital Devices",topics:[]},{name:"Web Design and HTML",topics:[]},{name:"Programming Language (C)",topics:[]},{name:"Database Management System",topics:[]}]}]},{id:"ssc-science-2026",name:"SSC Science (2026)",subjects:[{name:"Physics",icon:"Zap",color:"text-violet-500",chapters:[{name:"Physical Quantities and Their Measurement",topics:[]},{name:"Motion",topics:[]},{name:"Force",topics:[]},{name:"Work, Power and Energy",topics:[]},{name:"State of Matter and Pressure",topics:[]},{name:"Effect of Heat on Matter",topics:[]},{name:"Waves and Sound",topics:[]},{name:"Reflection of Light",topics:[]},{name:"Refraction of Light",topics:[]},{name:"Static Electricity",topics:[]},{name:"Current Electricity",topics:[]},{name:"Magnetic Effect of Current",topics:[]},{name:"Modern Physics and Electronics",topics:[]},{name:"Previously Saved Lives",topics:[]}]},{name:"Chemistry",icon:"Beaker",color:"text-teal-500",chapters:[{name:"Concept of Chemistry",topics:[]},{name:"State of Matter",topics:[]},{name:"Structure of Matter",topics:[]},{name:"Periodic Table",topics:[]},{name:"Chemical Bond",topics:[]},{name:"Mole and Chemical Equation",topics:[]},{name:"Chemical Reaction",topics:[]},{name:"Chemistry and Energy",topics:[]},{name:"Acid-Base Balance",topics:[]},{name:"Mineral Resources: Metal-Nonmetal",topics:[]},{name:"Mineral Resources: Fossils",topics:[]},{name:"Chemistry in Our Lives",topics:[]}]},{name:"Higher Math",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Set And Function",topics:[]},{name:"Algebraic Expression",topics:[]},{name:"Geometry",topics:[]},{name:"Geometric Construction",topics:[]},{name:"Equation",topics:[]},{name:"Inequality",topics:[]},{name:"Infinite Series",topics:[]},{name:"Trigonometry",topics:[]},{name:"Exponent and Logarithm",topics:[]},{name:"Binomial Expansion",topics:[]},{name:"Coordinate Geometry",topics:[]},{name:"Planar Vector",topics:[]},{name:"Solid Geometry",topics:[]},{name:"Probability",topics:[]}]},{name:"General Math",icon:"Calculator",color:"text-blue-500",chapters:[{name:"Real Number",topics:[]},{name:"Set and Function",topics:[]},{name:"Algebraic Expression",topics:[]},{name:"Exponents and Logarithms",topics:[]},{name:"Equation in One Variable",topics:[]},{name:"Lines, Angles, and Triangles",topics:[]},{name:"Practical Geometry",topics:[]},{name:"Circle",topics:[]},{name:"Trigonometric Ratio",topics:[]},{name:"Distance and Elevation",topics:[]},{name:"Algebraic Ratio and Proportion",topics:[]},{name:"Simple Simultaneous Equations in Two Variables",topics:[]},{name:"Finite Series",topics:[]},{name:"Ratio, Symmetry, and Rotation",topics:[]},{name:"Area Related Theorems and Constructions",topics:[]},{name:"Mensurement",topics:[]},{name:"Statistics",topics:[]}]},{name:"Biology",icon:"Dna",color:"text-green-500",chapters:[{name:"Lessons on Life",topics:[]},{name:"Cells and Tissues of Organisms",topics:[]},{name:"Cell Division",topics:[]},{name:"Bioenergetics",topics:[]},{name:"Food, Nutrition and Digestion",topics:[]},{name:"Transport in Organisms",topics:[]},{name:"Gas Exchange",topics:[]},{name:"Excretion",topics:[]},{name:"Firmness and Locomotion",topics:[]},{name:"Coordination",topics:[]},{name:"Reproduction in Organisms",topics:[]},{name:"Heredity in Organisms and Evolution",topics:[]},{name:"Environment of Organisms",topics:[]},{name:"Biotechnology",topics:[]}]}]}];function wU({onClose:t}){const[e,n]=I.useState(pg[0].id),[s,a]=I.useState(new Set),l=pg.find(m=>m.id===e),c=m=>{const p=new Set(s);p.has(m)?p.delete(m):p.add(m),a(p)},f=()=>{if(l)if(s.size===l.subjects.length)a(new Set);else{const m=new Set(l.subjects.map(p=>p.name));a(m)}};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-700",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[b.jsx(Jn,{className:"w-6 h-6 text-blue-600"}),"Import Syllabus"]}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Select a curriculum to quick-start your study plan."})]}),b.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:b.jsx(Cf,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[b.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-slate-900/50 border-r border-slate-100 dark:border-slate-700 p-4",children:[b.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Curriculums"}),b.jsx("div",{className:"space-y-2",children:pg.map(m=>b.jsx("button",{onClick:()=>{n(m.id),a(new Set)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===m.id?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.name},m.id))})]}),b.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white",children:[l?.name," Subjects"]}),b.jsx("button",{onClick:f,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:s.size===l?.subjects.length?"Deselect All":"Select All"})]}),b.jsx("div",{className:"space-y-3",children:l?.subjects.map(m=>b.jsxs("div",{onClick:()=>c(m.name),className:`relative flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${s.has(m.name)?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[b.jsx("div",{className:`mt-1 flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${s.has(m.name)?"bg-blue-500 border-blue-500":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:s.has(m.name)&&b.jsx(v9,{className:"w-3.5 h-3.5 text-white"})}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("span",{className:`font-semibold ${s.has(m.name)?"text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:m.name}),b.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500",children:[m.chapters.length," Chapters"]})]}),b.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1",children:[m.chapters.slice(0,3).map(p=>p.name).join(", "),"..."]})]})]},m.name))})]})]}),b.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-3 bg-slate-50/50 dark:bg-slate-900/50",children:[b.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),b.jsx(SU,{count:s.size,currentTemplate:l,selectedSubjects:s,onClose:t})]})]})})}function SU({count:t,currentTemplate:e,selectedSubjects:n,onClose:s}){const{importSyllabusData:a}=ei(),l=()=>{if(t===0||!e)return;const c=e.subjects.filter(f=>n.has(f.name));a(c),s()};return b.jsxs("button",{onClick:l,disabled:t===0,className:"px-6 py-2.5 rounded-xl font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center gap-2",children:[b.jsx(yC,{className:"w-4 h-4"}),"Import ",t>0?`${t} Subjects`:""]})}function AU(){const{user:t,logout:e}=dl(),{userProfile:n,updateProfile:s,resetData:a,exportData:l,importData:c}=ei(),{isMuted:f,toggleMute:m}=ev(),p=I.useRef(null),y=I.useRef(null),[_,x]=I.useState(!1),[A,k]=I.useState(!1),P=()=>{const z=p.current?.value.trim()||"",H=y.current?.value.trim()||"";if(!z){alert("Please enter your name");return}s({name:z,grade:H}),alert(` Profile updated successfully!

You can update your profile anytime.`)},j=()=>{const z=document.createElement("input");z.type="file",z.accept=".json",z.onchange=H=>{const K=H.target.files?.[0];if(K){const oe=new FileReader;oe.onload=Q=>{const te=Q.target?.result;c(te)&&alert("Data imported successfully!")},oe.readAsText(K)}},z.click()};return b.jsxs(Rf,{className:"max-w-xl mx-auto space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx(gC,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white transition-colors",children:"My Profile Settings"})]}),b.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6 space-y-4 transition-colors",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Student Name"}),b.jsx("input",{ref:p,type:"text",defaultValue:n?.name||"",disabled:!A,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${A?"":"opacity-60 cursor-not-allowed"}`,placeholder:"Enter your name"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 transition-colors",children:"Class / Grade"}),b.jsx("input",{ref:y,type:"text",defaultValue:n?.grade||"",disabled:!A,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 ${A?"":"opacity-60 cursor-not-allowed"}`,placeholder:"e.g. HSC 2026"})]}),b.jsx("div",{className:"pt-4 flex gap-2",children:A?b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>k(!1),className:"w-full bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:"Cancel"}),b.jsxs("button",{onClick:P,className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[b.jsx(Zy,{className:"w-5 h-5"}),"Save Profile"]})]}):b.jsxs("button",{onClick:()=>k(!0),className:"w-full bg-slate-600 hover:bg-slate-700 dark:bg-slate-600 dark:hover:bg-slate-500 text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[b.jsx(W9,{className:"w-5 h-5"}),"Edit Profile"]})})]}),b.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-6 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:b.jsx(Jn,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-slate-800 dark:text-white font-semibold transition-colors",children:"Import Syllabus Template"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 transition-colors",children:"Quickly add pre-made subject templates."})]})]}),b.jsx("button",{onClick:()=>x(!0),className:"w-full px-4 py-2.5 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-400 font-medium rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors text-sm",children:"Browse Templates"})]}),b.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-6 transition-colors",children:[b.jsx("h3",{className:"text-slate-800 dark:text-white font-semibold mb-4 transition-colors",children:"Data Management"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("button",{onClick:l,className:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors text-sm flex items-center justify-center gap-2",children:[b.jsx(yC,{className:"w-4 h-4"}),"Export Data"]}),b.jsxs("button",{onClick:j,className:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors text-sm flex items-center justify-center gap-2",children:[b.jsx(aU,{className:"w-4 h-4"}),"Import Data"]})]})]}),b.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-red-50 dark:bg-red-900/10 rounded-2xl border border-red-100 dark:border-red-900/30 p-6 transition-colors",children:[b.jsxs("h3",{className:"text-red-700 dark:text-red-400 font-semibold mb-2 flex items-center gap-2 transition-colors",children:[b.jsx(Af,{className:"w-5 h-5"}),"Danger Zone"]}),b.jsx("p",{className:"text-red-600/80 dark:text-red-400/80 text-sm mb-4 transition-colors",children:"This will permanently delete all your subjects, chapters, and progress data. This action cannot be undone."}),b.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-300 transition-colors text-sm",children:"Reset All Data"})]}),b.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-6 transition-colors",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-lg ${f?"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:f?b.jsx(TC,{className:"w-6 h-6"}):b.jsx(bC,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-slate-800 dark:text-white font-semibold transition-colors",children:"Sound Effects"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 transition-colors",children:"Play sounds for actions and timer."})]})]}),b.jsx("button",{onClick:m,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${f?"bg-slate-200 dark:bg-slate-600":"bg-blue-600"}`,children:b.jsx("span",{className:`${f?"translate-x-1":"translate-x-6"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]})}),b.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-6 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:b.jsx(d9,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-slate-800 dark:text-white font-semibold transition-colors",children:"Found a Bug?"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 transition-colors",children:"Help us improve by reporting issues."})]})]}),b.jsx("a",{href:"https://github.com/shahnewajsrabon/Study-Mate/issues/new?title=Bug%3A%20&body=%23%23%20Bug%20Description%0A%0APlease%20describe%20the%20bug%20you%20encountered.%0A%0A%23%23%20Steps%20to%20Reproduce%0A%0A1.%20Go%20to%20...%0A2.%20Click%20on%20...%0A3.%20See%20error%0A%0A%23%23%20Expected%20Behavior%0A%0AWhat%20should%20happen%3F%0A%0A%23%23%20Actual%20Behavior%0A%0AWhat%20actually%20happened%3F%0A%0A%23%23%20Device%20%26%20Browser%0A%0A-%20Device%3A%20%5Be.g.%20Desktop%2C%20Mobile%5D%0A-%20Browser%3A%20%5Be.g.%20Chrome%2C%20Safari%5D%0A-%20OS%3A%20%5Be.g.%20Windows%2C%20macOS%2C%20Android%5D",target:"_blank",rel:"noopener noreferrer",className:"block w-full px-4 py-2.5 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-400 font-medium rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors text-sm text-center",children:"Report Bug on GitHub"})]}),t&&b.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-6 transition-colors",children:b.jsxs("button",{onClick:e,className:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 font-medium rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors text-sm flex items-center justify-center gap-2",children:[b.jsx(_C,{className:"w-4 h-4"}),"Logout"]})}),b.jsx(af,{children:_&&b.jsx(wU,{onClose:()=>x(!1)})})]})}function CU(t){let e=0,n=0,s=0,a=0;return t.forEach(l=>{e+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(s+=c.topics.length,c.topics.forEach(f=>{f.isCompleted&&a++}))})}),{totalChapters:e,completedChapters:n,totalTopics:s,completedTopics:a}}function RU(t){const e=new Date,s=Array.from({length:7},(l,c)=>{const f=new Date;return f.setDate(e.getDate()-(6-c)),f.toISOString().split("T")[0]}).map(l=>{let c=0;return t.forEach(f=>{f.chapters.forEach(m=>{m.topics&&m.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...s.map(l=>l.count),1);return{activityData:s,maxCount:a}}function NU(t){const e=new Set;t.forEach(f=>f.chapters.forEach(m=>m.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&e.add(p.completedAt.split("T")[0])})));const n=Array.from(e).sort((f,m)=>new Date(m).getTime()-new Date(f).getTime());let s=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const f=n[0];if(f===a||f===c){s=1;let m=new Date(f);for(let p=1;p<n.length;p++){const y=new Date(n[p]),_=Math.abs(m.getTime()-y.getTime());if(Math.round(_/(1e3*60*60*24))===1)s++,m=y;else break}}}return s}function IU(){const{subjects:t}=ei(),{totalChapters:e,completedChapters:n,totalTopics:s,completedTopics:a}=CU(t),{activityData:l,maxCount:c}=RU(t),f=NU(t),m=s>0?Math.round(a/s*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return b.jsxs(Rf,{className:"max-w-4xl mx-auto pb-12",children:[b.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[b.jsx(y0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Study Analytics"]}),b.jsxs(we.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[b.jsx("div",{className:"sm:col-span-1",children:b.jsx(Po,{title:"Total Streak",value:`${f} days`,icon:pC,colorClass:"text-orange-500",bgClass:"bg-orange-50 dark:bg-orange-900/20",delay:.1})}),b.jsx("div",{className:"sm:col-span-1",children:b.jsx(Po,{title:"Topics Done",value:`${a} / ${s}`,icon:Jn,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-900/20",delay:.2})}),b.jsx("div",{className:"sm:col-span-1",children:b.jsx(Po,{title:"Chapters Done",value:`${n} / ${e}`,icon:Jd,colorClass:"text-amber-500",bgClass:"bg-amber-50 dark:bg-amber-900/20",delay:.3})}),b.jsx("div",{className:"sm:col-span-1",children:b.jsx(Po,{title:"Completion",value:`${m}%`,icon:pc,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",delay:.4})})]}),b.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[b.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[b.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[b.jsx(m9,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),b.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((y,_)=>b.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[b.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-t-lg relative h-full flex items-end overflow-hidden transition-colors",children:b.jsx(we.div,{initial:{height:0},animate:{height:`${y.count/c*100}%`},transition:{duration:1,delay:_*.1,ease:"easeOut"},className:"w-full bg-blue-500 dark:bg-blue-600 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 relative",children:b.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[y.count," Topics"]})})}),b.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium transition-colors",children:new Date(y.date).toLocaleDateString("en-US",{weekday:"short"})})]},y.date))})]}),b.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",children:[b.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2 transition-colors",children:[b.jsx(Jn,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),b.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[t.map(y=>{const _=y.chapters.reduce((k,P)=>k+(P.topics?.length||0),0),x=y.chapters.reduce((k,P)=>k+(P.topics?.filter(j=>j.isCompleted).length||0),0),A=_>0?Math.round(x/_*100):0;return b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-1",children:[b.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 transition-colors",children:y.name}),b.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500 transition-colors",children:[A,"%"]})]}),b.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:b.jsx(we.div,{initial:{width:0},animate:{width:`${A}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${y.color}`})})]},y.id)}),t.length===0&&b.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function DU(){const{subjects:t}=ei(),[e,n]=I.useState(""),[s,a]=I.useState("all"),[l,c]=I.useState("all"),[f,m]=I.useState({}),p=t.flatMap(x=>x.chapters.map(A=>({...A,subjectName:x.name,subjectColor:x.color,subjectId:x.id}))),y=p.filter(x=>{const A=x.name.toLowerCase().includes(e.toLowerCase())||x.subjectName.toLowerCase().includes(e.toLowerCase()),k=s==="all"||x.subjectId===s,P=l==="all"||(l==="completed"?x.isCompleted:!x.isCompleted);return A&&k&&P}),_=x=>{m(A=>({...A,[x]:!A[x]}))};return b.jsxs(Rf,{className:"max-w-4xl mx-auto pb-12",children:[b.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-8 flex items-center gap-3 transition-colors",children:[b.jsx(Jn,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"All Chapters Tracker"]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-8 transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-end mb-2",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white transition-colors",children:"Overall Progress"}),b.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm transition-colors",children:[p.filter(x=>x.isCompleted).length," of ",p.length," chapters completed"]})]}),b.jsxs("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 transition-colors",children:[p.length>0?Math.round(p.filter(x=>x.isCompleted).length/p.length*100):0,"%"]})]}),b.jsx("div",{className:"h-4 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden transition-colors",children:b.jsx(we.div,{initial:{width:0},animate:{width:`${p.length>0?Math.round(p.filter(x=>x.isCompleted).length/p.length*100):0}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-600 dark:bg-blue-500"})})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm mb-6 flex flex-col md:flex-row gap-4 transition-colors",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx(Y9,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),b.jsx("input",{type:"text",placeholder:"Search chapters or subjects...",value:e,onChange:x=>n(x.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-colors"})]}),b.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[b.jsxs("select",{value:s,onChange:x=>a(x.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[b.jsx("option",{value:"all",children:"All Subjects"}),t.map(x=>b.jsx("option",{value:x.id,children:x.name},x.id))]}),b.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-600 dark:text-slate-300 focus:outline-none transition-colors",children:[b.jsx("option",{value:"all",children:"All Status"}),b.jsx("option",{value:"completed",children:"Completed"}),b.jsx("option",{value:"pending",children:"Pending"})]})]})]}),b.jsx("div",{className:"space-y-4",children:y.length>0?y.map(x=>b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden transition-colors",children:[b.jsx("div",{className:"bg-slate-50/50 dark:bg-slate-700/30 px-4 py-1 text-xs font-semibold text-slate-500 dark:text-slate-400 border-b border-slate-50 dark:border-slate-700 flex items-center justify-between transition-colors",children:b.jsx("span",{className:x.subjectColor,children:x.subjectName})}),b.jsx(EC,{subjectId:x.subjectId,chapter:x,isExpanded:!!f[x.id],onToggle:()=>_(x.id)})]},x.id)):b.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700 transition-colors",children:b.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No chapters found matching your filters."})})})]})}const gg=1500;function kU(){const{saveStudySession:t,subjects:e}=ei(),{user:n}=dl(),[s,a]=I.useState("stopwatch"),[l,c]=I.useState(!1),[f,m]=I.useState(0),[p,y]=I.useState(0),[_,x]=I.useState(30),[A,k]=I.useState(""),[P,j]=I.useState(!1),[z,H]=I.useState([]),[K,oe]=I.useState(!0),Q=I.useRef(null),{playSound:te,isMuted:N,toggleMute:S}=ev();I.useEffect(()=>(l?Q.current=window.setInterval(()=>{m(ae=>s==="stopwatch"?ae+1:ae<=1?(c(!1),te("complete"),0):ae-1)},1e3):Q.current&&clearInterval(Q.current),()=>{Q.current&&clearInterval(Q.current)}),[l,s,te]),I.useEffect(()=>{if(c(!1),j(!1),s==="stopwatch")m(0),y(0);else if(s==="pomodoro")m(gg),y(gg);else if(s==="countdown"){const ae=_*60;m(ae),y(ae)}},[s,_]),I.useEffect(()=>{(async()=>{if(n)try{const me=W2(xd,"users"),Se=BL(me,zL("userProfile.totalStudyTime","desc"),FL(10)),L=await qL(Se),ne=[];L.forEach(ce=>{const he=ce.data();he.userProfile&&ne.push({userId:ce.id,userName:he.userProfile.name,totalStudyTime:he.userProfile.totalStudyTime||0})}),H(ne)}catch(me){console.error("Error fetching leaderboard:",me)}finally{oe(!1)}})()},[n,P]);const R=()=>{c(!l),j(!1)},M=()=>{c(!1),j(!1),s==="stopwatch"?m(0):s==="pomodoro"?m(gg):s==="countdown"&&m(_*60)},V=async()=>{let ae=0;if(s==="stopwatch"?ae=f:ae=p-f,ae<60){alert("Session must be at least 1 minute to save.");return}await t(ae,A||void 0),j(!0),s==="stopwatch"&&m(0),alert("Session saved successfully!")},B=ae=>{const me=Math.floor(ae/3600),Se=Math.floor(ae%3600/60),L=ae%60;return`${me.toString().padStart(2,"0")}:${Se.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`},D=ae=>{const me=Math.floor(ae/3600),Se=Math.floor(ae%3600/60);return me>0?`${me}h ${Se}m`:`${Se}m`},qe=s==="stopwatch"?100:(p-f)/p*100,Ze=120,J=2*Math.PI*Ze,le=J-qe/100*J;return b.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[b.jsxs("header",{className:"flex items-center justify-between mb-8",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:"Study Timer"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 transition-colors",children:"Focus, track, and compete."})]}),b.jsx("button",{onClick:S,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:N?b.jsx(TC,{className:"w-6 h-6"}):b.jsx(bC,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"flex flex-col space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex transition-colors",children:[b.jsxs("button",{onClick:()=>a("stopwatch"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="stopwatch"?"bg-blue-600 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[b.jsx(g0,{className:"w-4 h-4"}),"Stopwatch"]}),b.jsxs("button",{onClick:()=>a("pomodoro"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="pomodoro"?"bg-rose-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[b.jsx(eU,{className:"w-4 h-4"}),"Pomodoro"]}),b.jsxs("button",{onClick:()=>a("countdown"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all ${s==="countdown"?"bg-amber-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[b.jsx(hU,{className:"w-4 h-4"}),"Countdown"]})]}),b.jsxs(we.div,{layout:!0,className:"bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center text-center relative overflow-hidden transition-colors",children:[b.jsx("div",{className:"w-full absolute top-6 left-0 px-8 z-10",children:b.jsxs("select",{className:"w-full p-2 bg-transparent text-center font-medium text-slate-600 dark:text-slate-300 border-none focus:ring-0 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors",value:A,onChange:ae=>k(ae.target.value),disabled:l,children:[b.jsx("option",{value:"",className:"dark:bg-slate-800",children:"Select Subject (Optional)"}),e.map(ae=>b.jsx("option",{value:ae.id,className:"dark:bg-slate-800",children:ae.name},ae.id))]})}),b.jsxs("div",{className:"relative mt-12 mb-8",children:[b.jsxs("svg",{className:"w-full max-w-[18rem] aspect-square transform -rotate-90",viewBox:"0 0 288 288",children:[b.jsx("circle",{cx:"144",cy:"144",r:Ze,strokeWidth:"12",fill:"transparent",className:"stroke-slate-100 dark:stroke-slate-700 transition-colors"}),b.jsx("circle",{cx:"144",cy:"144",r:Ze,stroke:s==="pomodoro"?"#f43f5e":"#3b82f6",strokeWidth:"12",fill:"transparent",strokeDasharray:J,strokeDashoffset:s==="stopwatch"?0:le,strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]}),b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-20",children:[b.jsx("div",{className:`text-6xl font-mono font-bold tracking-wider ${l?s==="pomodoro"?"text-rose-500":"text-blue-600":"text-slate-800 dark:text-white"}`,children:B(f)}),b.jsx("div",{className:"text-slate-400 dark:text-slate-500 font-medium mt-2 capitalize",children:s})]})]}),s==="countdown"&&!l&&f===0&&b.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Minutes:"}),b.jsx("input",{type:"number",min:"1",max:"180",value:_,onChange:ae=>x(Number(ae.target.value)),className:"w-20 p-2 border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white rounded-lg text-center"})]}),b.jsxs("div",{className:"flex items-center gap-4 z-10",children:[b.jsx("button",{onClick:R,className:`p-4 rounded-full transition-all shadow-lg transform active:scale-95 ${l?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?b.jsx(B9,{className:"w-8 h-8 font-fill"}):b.jsx(F9,{className:"w-8 h-8 pl-1"})}),(f>0||s!=="stopwatch"&&f!==p)&&b.jsx("button",{onClick:M,className:"p-4 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-95",children:b.jsx(G9,{className:"w-6 h-6"})})]}),!l&&(s==="stopwatch"&&f>0||s!=="stopwatch"&&f!==p)&&!P&&b.jsxs(we.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:V,className:"absolute bottom-6 flex items-center gap-2 px-6 py-2 bg-emerald-500 text-white rounded-full hover:bg-emerald-600 transition-colors shadow-md",children:[b.jsx(Zy,{className:"w-4 h-4"}),"Save Session"]})]})]}),b.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 h-fit transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:[b.jsx(Jd,{className:"w-6 h-6 text-yellow-500"}),b.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Leaderboard"})]}),K?b.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading rankings..."}):b.jsxs("div",{className:"space-y-4",children:[z.map((ae,me)=>b.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${ae.userId===n?.uid?"bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:`
                                            w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm
                                            ${me===0?"bg-yellow-100 text-yellow-700":me===1?"bg-slate-200 text-slate-700":me===2?"bg-orange-100 text-orange-700":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}
                                        `,children:me+1}),b.jsx("div",{children:b.jsxs("p",{className:`font-medium ${ae.userId===n?.uid?"text-blue-700 dark:text-blue-400":"text-slate-800 dark:text-slate-200"}`,children:[ae.userName," ",ae.userId===n?.uid&&"(You)"]})})]}),b.jsxs("div",{className:"flex items-center gap-1 text-slate-500 dark:text-slate-400 text-sm font-medium",children:[b.jsx(I9,{className:"w-4 h-4"}),D(ae.totalStudyTime)]})]},ae.userId)),z.length===0&&b.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 dark:bg-slate-700 rounded-xl",children:"No records yet. Be the first!"})]})]})]})]})}const wC=I.createContext(void 0);function MU({children:t}){const[e,n]=I.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");I.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const s=()=>{n(a=>a==="light"?"dark":"light")};return b.jsx(wC.Provider,{value:{theme:e,toggleTheme:s},children:t})}function VU(){const t=I.useContext(wC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function OU({steps:t,onComplete:e,onSkip:n}){const[s,a]=I.useState(0),[l,c]=I.useState(null),f=t[s];I.useEffect(()=>{if(f.targetId){const y=document.getElementById(f.targetId);y?(c(y.getBoundingClientRect()),y.scrollIntoView({behavior:"smooth",block:"center"})):c(null)}else c(null)},[s,f,t]);const m=()=>{s<t.length-1?a(y=>y+1):e()},p=()=>{s>0&&a(y=>y-1)};return b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[b.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),l&&b.jsx(we.div,{layoutId:"highlight-box",className:"absolute border-4 border-blue-500 rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] pointer-events-none transition-all duration-300",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),b.jsx(af,{mode:"wait",children:b.jsxs(we.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`pointer-events-auto absolute bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 max-w-sm w-full mx-4 ${l?"":"static"}`,style:l&&f.position!=="center"?{top:f.position==="bottom"?l.bottom+20:f.position==="top"?l.top-200:void 0,left:f.position==="right"?l.right+20:f.position==="left"?l.left-340:Math.max(16,l.left+l.width/2-160),marginTop:(f.position==="bottom",0)}:{},children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:["Step ",s+1," of ",t.length]}),b.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:b.jsx(Cf,{className:"w-4 h-4"})})]}),b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:f.title}),b.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed",children:f.description}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("button",{onClick:p,disabled:s===0,className:`flex items-center gap-1 text-sm font-medium ${s===0?"text-slate-300":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[b.jsx(x9,{className:"w-4 h-4"})," Back"]}),b.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium text-sm flex items-center gap-2 shadow-sm transition-transform active:scale-95",children:[s===t.length-1?"Finish":"Next",s<t.length-1&&b.jsx(w9,{className:"w-4 h-4"})]})]})]},s)})]})}const PU=[{title:"Welcome to TrackEd! ",description:"Your personal companion for academic success. Let's take a quick tour to get you started.",position:"center"},{targetId:"add-subject-btn",title:"Add Your Subjects ",description:"Start by adding the subjects you want to track. You can organize them by chapters and topics.",position:"bottom"},{targetId:"nav-timer",title:"Focus Timer ",description:"Use the Pomodoro timer or stopwatch to track your study sessions and build streaks.",position:"right"},{targetId:"nav-settings",title:"Customize Experience ",description:"Manage your profile, data, and switch between light/dark modes here.",position:"top"}];function jU(){const{logout:t}=dl(),{theme:e,toggleTheme:n}=VU(),s=Ms(),a=QN(),[l,c]=I.useState(!1);I.useEffect(()=>{localStorage.setItem("tracked_tour_completed","true")},[]);const f=()=>{c(!1),localStorage.setItem("tracked_tour_completed","true")},m=p=>s.pathname===p;return b.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 pb-20 md:pb-0 font-sans transition-colors duration-300",children:[l&&b.jsx(OU,{steps:PU,onComplete:f,onSkip:f}),b.jsxs("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10 px-4 py-3 flex items-center justify-between md:hidden transition-colors duration-300",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg",children:b.jsx(Jn,{className:"w-5 h-5 text-white"})}),b.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent",children:"TrackEd"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors","aria-label":"Toggle Theme",children:e==="light"?b.jsx(p0,{className:"w-5 h-5"}):b.jsx(DE,{className:"w-5 h-5"})}),b.jsx(an,{to:"/settings",className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:b.jsx(fg,{className:"w-5 h-5"})})]})]}),b.jsxs("div",{className:"md:flex max-w-5xl mx-auto",children:[b.jsxs("aside",{className:"hidden md:flex flex-col w-64 h-screen sticky top-0 p-6 border-r border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 transition-colors duration-300",children:[b.jsxs("div",{className:"flex items-center justify-between mb-10",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:b.jsx(Jn,{className:"w-6 h-6 text-white"})}),b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"TrackEd"})]}),b.jsx("button",{onClick:n,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors","aria-label":"Toggle Theme",children:e==="light"?b.jsx(p0,{className:"w-5 h-5"}):b.jsx(DE,{className:"w-5 h-5"})})]}),b.jsxs("nav",{className:"space-y-2 flex-1",children:[b.jsxs(an,{to:"/",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[b.jsx(NE,{className:"w-5 h-5"}),"Dashboard"]}),b.jsxs(an,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/analytics")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[b.jsx(y0,{className:"w-5 h-5"}),"Analytics"]}),b.jsxs(an,{to:"/chapters",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/chapters")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[b.jsx(IE,{className:"w-5 h-5"}),"Chapters"]}),b.jsxs(an,{to:"/timer",id:"nav-timer",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s.pathname==="/timer"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-white"}`,children:[b.jsx(g0,{className:"w-5 h-5"}),"Timer"]}),b.jsxs(an,{to:"/settings",id:"nav-settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m("/settings")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[b.jsx(fg,{className:"w-5 h-5"}),"Settings"]})]}),b.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-700",children:[b.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-400 transition-colors w-full text-left mb-4",children:[b.jsx(_C,{className:"w-5 h-5"}),"Sign Out"]}),b.jsxs("div",{className:"text-xs text-slate-400 dark:text-slate-500",children:[b.jsx("p",{children:"Empowering Students"}),b.jsx("p",{className:"mt-1",children:" 2026 TrackEd"})]})]})]}),b.jsx("main",{className:"flex-1 p-4 md:p-8",children:b.jsx(af,{mode:"wait",children:a&&I.cloneElement(a,{key:s.pathname})})})]}),b.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-around pt-3 px-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-300",children:[b.jsxs(an,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${m("/")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[b.jsx(NE,{className:"w-6 h-6"}),b.jsx("span",{children:"Home"})]}),b.jsxs(an,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${m("/analytics")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[b.jsx(y0,{className:"w-6 h-6"}),b.jsx("span",{children:"Stats"})]}),b.jsxs(an,{to:"/chapters",className:`flex flex-col items-center gap-1 text-xs ${m("/chapters")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[b.jsx(IE,{className:"w-6 h-6"}),b.jsx("span",{children:"Chapters"})]}),b.jsxs(an,{to:"/timer",className:`flex flex-col items-center gap-1 text-xs ${m("/timer")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[b.jsx(g0,{className:"w-6 h-6"}),b.jsx("span",{children:"Timer"})]}),b.jsxs(an,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${m("/settings")?"text-blue-600 dark:text-blue-400 font-medium":"text-slate-400 dark:text-slate-500"}`,children:[b.jsx(fg,{className:"w-6 h-6"}),b.jsx("span",{children:"Settings"})]})]})]})}function LU(){const{signInWithGoogle:t,user:e}=dl(),n=ef();return OE.useEffect(()=>{e&&n("/")},[e,n]),b.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50 dark:bg-slate-900 transition-colors",children:[b.jsxs("div",{className:"absolute inset-0 z-0",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),b.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-400/20 dark:bg-indigo-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),b.jsx("div",{className:"absolute top-[20%] right-[10%] w-[20%] h-[20%] bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),b.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-md px-6",children:[b.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 dark:border-slate-700/50 p-8 md:p-12 text-center transition-colors",children:[b.jsx("div",{className:"flex justify-center mb-8",children:b.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg transform rotate-3 hover:rotate-6 transition-transform duration-300",children:b.jsx(vC,{className:"w-10 h-10 text-white"})})}),b.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-3 tracking-tight transition-colors",children:["Welcome to ",b.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"TrackEd"})]}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-10 text-lg leading-relaxed transition-colors",children:"Master your study habits and achieve your goals."}),b.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"group w-full relative flex items-center justify-center gap-3 py-3.5 px-6 border border-transparent rounded-xl shadow-md text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[b.jsx("div",{className:"bg-white p-1 rounded-full",children:b.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-4 h-4"})}),b.jsx("span",{children:"Sign in with Google"}),b.jsx(mC,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),b.jsx("p",{className:"mt-8 text-xs text-slate-400 dark:text-slate-500 transition-colors",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]}),b.jsx("div",{className:"mt-8 text-center",children:b.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors",children:"Focus. Track. Succeed."})})]})]})}function UU({children:t}){const{user:e,loading:n}=dl();return n?b.jsx("div",{children:"Loading..."}):e?b.jsx(b.Fragment,{children:t}):b.jsx(cI,{to:"/login"})}function BU(){return b.jsx(PI,{basename:"/Study-Mate/",children:b.jsxs(dI,{children:[b.jsx(Ts,{path:"/login",element:b.jsx(LU,{})}),b.jsxs(Ts,{path:"/",element:b.jsx(UU,{children:b.jsx(jU,{})}),children:[b.jsx(Ts,{index:!0,element:b.jsx(vU,{})}),b.jsx(Ts,{path:"subject/:id",element:b.jsx(EU,{})}),b.jsx(Ts,{path:"analytics",element:b.jsx(IU,{})}),b.jsx(Ts,{path:"chapters",element:b.jsx(DU,{})}),b.jsx(Ts,{path:"timer",element:b.jsx(kU,{})}),b.jsx(Ts,{path:"settings",element:b.jsx(AU,{})})]})]})})}class zU extends I.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:b.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full",children:[b.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),b.jsx("p",{className:"text-slate-600 mb-4",children:"We encountered an unexpected error."}),b.jsx("pre",{className:"bg-slate-100 p-4 rounded text-xs text-slate-800 overflow-auto mb-4",children:this.state.error?.message}),b.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}console.log("TrackEd v1.1 - Dark Mode Enabled");hN.createRoot(document.getElementById("root")).render(b.jsx(OE.StrictMode,{children:b.jsx(zU,{children:b.jsx(XL,{children:b.jsx(WL,{children:b.jsx(MU,{children:b.jsx(TU,{children:b.jsx(BU,{})})})})})})}));
